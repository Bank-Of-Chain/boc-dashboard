(self.webpackChunkboc_dashboard=self.webpackChunkboc_dashboard||[]).push([[364,571],{6371:function(xt){xt.exports={container:"container___3FHkQ"}},69255:function(xt){xt.exports={chartCard:"chartCard___1WAYR",title:"title___1qSNX",chartTop:"chartTop___fyf1y",chartTopMargin:"chartTopMargin___35U93",chartTopHasMargin:"chartTopHasMargin___3PZ2W",metaWrap:"metaWrap___1o2cx",avatar:"avatar___3W_MV",meta:"meta___BxwkJ",action:"action___2rX_t",total:"total___13buZ",unit:"unit___3h93V",content:"content___1u1VV",contentFixed:"contentFixed___8g0La",footer:"footer___1DC6W",card:"card___3ClYk"}},3691:function(xt){xt.exports={container:"container___1YjeH"}},90958:function(xt){xt.exports={salesCard:"salesCard___29v2i",salesBar:"salesBar___yX0jY",salesRank:"salesRank___3emXv",salesCardExtra:"salesCardExtra___1zn45",vaultKeyCard:"vaultKeyCard___3fhgC",tabMobile:"tabMobile___OIzik",chartDiv:"chartDiv___35wVQ",chartDivMobile:"chartDivMobile___3S_E5",tableCell:"tableCell___28uXK",text:"text___2ww9t",trendText:"trendText___22_c0",chartWrapper:"chartWrapper___3eEAM",buttons:"buttons___1vScW",field:"field___1vkrW",label:"label___3KSeF",number:"number___3Vb_1",history:"history___1YR66"}},91907:function(xt,z,e){"use strict";var o=e(30887),s=e(28682),f=e(67294),Y=e(65367),G=e(89850),st=e(53651),U=e(35161),y=e.n(U),E=e(63105),ht=e.n(E),bt=e(62904),I=e(43077),R=e(6371),ct=e.n(R),H=e(85893),Et=y()(ht()(G.ZP,function(lt){return!(st.ux&&lt.id==="137")}),function(lt){return{label:lt.name,value:lt.id}}),gt=function(V){var t=V.chains,Pt=t===void 0?Et:t,It=V.shouldChangeChain;if(Pt.length<=1)return null;var Tt=(0,Y.tT)("@@initialState"),Yt=Tt.initialState,B=(0,I.Z)(),zt=B.userProvider,a=B.getWalletName,c=function(it){var tt=it.key,Ct=Y.m8.location.query.vault,Ut=Promise.resolve();It&&(Ut=(0,bt.u)(tt,zt,a(),{resolveWhenUnsupport:!0})),Ut.then(function(){Y.m8.push({query:{chain:tt,vault:Ct}}),setTimeout(function(){location.reload()},100)})},N={borderBottom:"none",justifyContent:"center",backgroundColor:"transparent"};return(0,H.jsx)("div",{className:ct().container,children:(0,H.jsx)(s.Z,{mode:"horizontal",style:N,items:Pt,selectedKeys:[Yt.chain],onClick:c})})};z.Z=gt},69157:function(xt,z,e){"use strict";var o=e(12968),s=e(62462),f=e(67294),Y=e(47037),G=e.n(Y),st=e(96486),U=e.n(st),y=e(35161),E=e.n(y),ht=e(85893),bt="".concat("https://v2.bankofchain.io","/default.png"),I=function(ct){var H=ct.array,Et=H===void 0?[]:H,gt=ct.size,lt=gt===void 0?24:gt,V=function(Pt,It){return(0,ht.jsx)(s.Z,{title:Pt,preview:!1,width:lt,style:{borderRadius:"50%"},wrapperStyle:{marginLeft:It===0?0:-10,zIndex:Et.length-It},src:"".concat("https://v2.bankofchain.io","/images/").concat(Pt,".png"),fallback:bt},"".concat(Pt+It))};return G()(Et)?V(Et,0):(0,st.isArray)(Et)?(0,ht.jsx)("div",{children:E()(Et,function(t,Pt){return V(t,Pt)})}):(0,ht.jsx)("span",{})};z.Z=I},93083:function(xt,z,e){"use strict";e.d(z,{hU:function(){return ht},me:function(){return E}});var o=e(45697),s=e.n(o),f=e(1852),Y=e.n(f),G=function(I){var R=I.children,ct=(0,f.useMediaQuery)({minWidth:992});return ct?R:null};G.propTypes={children:s().element};var st=function(I){var R=I.children,ct=(0,f.useMediaQuery)({minWidth:768,maxWidth:991});return ct?R:null};st.propTypes={children:s().element};var U=function(I){var R=I.children,ct=(0,f.useMediaQuery)({maxWidth:767});return ct?R:null};U.propTypes={children:s().element};var y=function(I){var R=I.children,ct=(0,f.useMediaQuery)({minWidth:768});return ct?R:null};y.propTypes={children:s().element};var E={Desktop:"Desktop",Tablet:"Tablet",Mobile:"Mobile"},ht=function(){var I=(0,f.useMediaQuery)({minWidth:992}),R=(0,f.useMediaQuery)({minWidth:768,maxWidth:991});return I?E.Desktop:R?E.Tablet:E.Mobile}},98821:function(xt,z,e){"use strict";e.d(z,{$c:function(){return U}});var o=e(20228),s=e(11382),f=e(67294),Y=e(40684),G=e(85893),st=(0,G.jsx)(s.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:20,fontSize:14},tip:"Loading...."}),U=(0,Y.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(462),e.e(272)]).then(e.bind(e,56272))},{fallback:st}),y=(0,Y.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(693),e.e(42)]).then(e.bind(e,59042))},{fallback:st}),E=(0,Y.ZP)(function(){return Promise.all([e.e(80),e.e(274),e.e(417)]).then(e.bind(e,48417))},{fallback:st})},42411:function(xt,z,e){"use strict";e.d(z,{Z:function(){return It}});var o=e(11849),s=e(30381),f=e.n(s),Y=e(41609),G=e.n(Y),st=e(76492),U="52px";function y(Tt){var Yt=!G()(Tt.seriesData)&&Tt.dataZoom,B={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:Yt?U:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{type:"category",data:Tt.xAxisData},yAxis:{type:"value"},dataZoom:Yt?Tt.dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:Tt.seriesName?Tt.seriesName:"",data:Tt.seriesData,type:"line",lineStyle:{color:Tt.color?Tt.color:{type:"linear",colorStops:[{offset:0,color:"rgb(204, 186, 250)"},{offset:.5,color:"rgb(144, 123, 247)"},{offset:.6,color:"rgb(95, 128, 249)"},{offset:.95,color:"rgb(80, 132, 250)"},{offset:1,color:"rgb(166, 192, 252)"}]},width:3},smooth:Tt.smooth,step:Tt.step}]};return(0,o.Z)((0,o.Z)({},(0,st.s)(Tt.seriesData.length>0)),B)}var E=e(84486),ht=e.n(E),bt=e(7654),I=e.n(bt),R=e(52353),ct=e.n(R),H=e(14293),Et=e.n(H),gt=e(63105),lt=e.n(gt),V=e(84238),t=e.n(V),Pt=function(Yt,B,zt){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=a.format,N=c===void 0?"MM-DD HH:mm":c,M=a.xAxis,it=a.yAxis,tt=a.smooth,Ct=tt===void 0?!1:tt,Ut=a.step,$t=a.dataZoom,Kt=a.needMinMax,Mt=Kt===void 0?!0:Kt,le=a.yAxisMin,oe=le===void 0?function(jt){return parseInt(jt.min*.9999*Math.pow(10,4))/Math.pow(10,4)}:le,Ue=a.yAxisMax,Se=Ue===void 0?function(jt){return parseInt(jt.max*1.0001*Math.pow(10,4))/Math.pow(10,4)}:Ue,qt=a.tootlTipSuffix,F=qt===void 0?"(UTC)":qt,ge=a.tootlTipFormat,Te=ge===void 0?"YYYY-MM-DD HH:mm":ge,Ae=[],be=[],ue={};Yt.forEach(function(jt){var w=f()(jt.date).add(1,"days").format(Te);F&&(w="".concat(w," ").concat(F)),ue[w]=f()(jt.date).add(1,"days").format(N),Ae.push(w),be.push(jt[B])});var Ft=y({xAxisData:Ae,seriesName:zt,seriesData:be,smooth:Ct,dataZoom:$t});if(Ft.yAxis=(0,o.Z)((0,o.Z)({},Ft.yAxis),it),Ft.xAxis=(0,o.Z)((0,o.Z)({axisLabel:{formatter:function(w){return ue[w]}}},Ft.xAxis),M),Ft.yAxis.splitLine={lineStyle:{color:"#454459"}},Mt&&(Ft.yAxis.min=oe,Ft.yAxis.max=Se),Ft.series[0].connectNulls=!0,Ft.series[0].showSymbol=t()(lt()(be,function(jt){return!Et()(jt)}))===1,Ft.series[0].lineStyle={width:5,cap:"round"},Ut){var de=Ft.series[0].data;ht()(de,function(jt,w){(ct()(jt)||I()(jt))&&w!==0&&(de[w]=de[w-1])})}return Ft},It=Pt},10501:function(xt,z,e){"use strict";e.d(z,{Z:function(){return f}});var o=e(11849),s=e(76492);function f(Y){var G=[],st=0,U=[];U=Y.data,U.length>0&&U.forEach(function(E){var ht=(0,o.Z)({name:E.seriesName?E.seriesName:"",data:E.seriesData,type:"line",showSymbol:E.showSymbol,lineStyle:{width:5,cap:"round"}},E);st+=E.seriesData.length,G.push(ht)});var y={animation:!1,textStyle:{color:"#fff"},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"},confine:!0},legend:Y.legend,xAxis:{type:"category",data:Y.xAxisData},yAxis:{type:"value"},series:G};return Y.tooltipFormatter&&(y.tooltip.formatter=Y.tooltipFormatter),(0,o.Z)((0,o.Z)({},(0,s.s)(st>0)),y)}},76492:function(xt,z,e){"use strict";e.d(z,{s:function(){return o}});function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return s?{}:{graphic:{type:"text",left:"center",top:"middle",silent:!0,invisible:!1,style:{fill:"#9d9d9d",fontWeight:"bold",text:"No Data",fontSize:"25px"}}}}},22844:function(xt,z,e){"use strict";e.d(z,{O2:function(){return s},DO:function(){return f},Nd:function(){return Y},A7:function(){return G}});var o=e(905),s={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},f=18,Y=(0,o.Z)(1e18),G=4},53651:function(xt,z,e){"use strict";e.d(z,{Gj:function(){return o},KR:function(){return s},ux:function(){return f}});var o={daily:"daily",monthly:"monthly",weekly:"weekly",yearly:"yearly"},s={usdi:"USDi",ethi:"ETHi"},f=!1},55414:function(xt,z,e){"use strict";e.d(z,{o1:function(){return Y},tX:function(){return G}});var o=["Balancer","UniswapV2","Dodo","Sushi_Kashi","Sushi_Swap","Convex","Rari","UniswapV3","YearnEarn","YearnV2","YearnIron","GUni","Stargate","DForce","Synapse","Aura","Aave"],s=["Curve","Aave","Balancer","Gravity","Polycat","Qi","Quickswap","Sushi","Synapse","Dodo","Stargate","UniswapV3"],f=["Balancer","UniswapV2","Convex","Aura","UniswapV3","StakeWise","YearnV2","Aave"],Y={1:o,137:s},G={1:f}},7594:function(xt,z,e){"use strict";e.r(z);var o=e(57106),s=e(99683),f=e(57663),Y=e(71577),G=e(67294),st=e(65367),U=e(85893),y=function(){return(0,U.jsx)(s.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:(0,U.jsx)(Y.Z,{type:"primary",onClick:function(){return st.m8.push("/")},children:"Back Home"})})};z.default=y},54184:function(xt,z,e){"use strict";e.r(z),e.d(z,{default:function(){return sn}});var o=e(32059),s=e(67294),f=e(65367),Y=e(13062),G=e(36725),st=e(89032),U=e(1635),y=e(11849),E=e(2824),ht=e(21349),bt=e(22385),I=e(45777),R=e(93224),ct=e(58024),H=e(91894),Et=e(94184),gt=e.n(Et),lt=e(69255),V=e.n(lt),t=e(85893),Pt=["loading"],It=["contentHeight","title","avatar","action","total","footer","children"],Tt=function(n,l){if(!n&&n!==0)return null;var i;switch(typeof n){case"undefined":i=null;break;case"function":i=(0,t.jsxs)("div",{className:V().total,children:[(0,t.jsx)("span",{children:n()}),l&&(0,t.jsx)("span",{className:V().unit,children:l})]});break;default:i=(0,t.jsxs)("div",{className:V().total,children:[(0,t.jsx)("span",{children:n}),l&&(0,t.jsx)("span",{className:V().unit,children:l})]})}return i},Yt=function(n){var l=n.loading,i=l===void 0?!1:l,d=(0,R.Z)(n,Pt),m=d.contentHeight,p=d.title,h=d.avatar,D=d.action,A=d.total,S=d.footer,x=d.children,b=(0,R.Z)(d,It),at=function(){return i?!1:(0,t.jsxs)("div",{className:V().chartCard,children:[(0,t.jsxs)("div",{className:gt()(V().chartTop),children:[(0,t.jsx)("div",{className:V().avatar,children:h}),(0,t.jsxs)("div",{className:V().metaWrap,children:[(0,t.jsxs)("div",{className:V().meta,children:[(0,t.jsx)("span",{className:V().title,children:p}),(0,t.jsx)("span",{className:V().action,children:D})]}),Tt(A,n.unit)]})]}),x&&(0,t.jsx)("div",{className:V().content,style:{height:m||"auto"},children:(0,t.jsx)("div",{className:m&&V().contentFixed,children:x})}),S&&(0,t.jsx)("div",{className:gt()(V().footer,(0,o.Z)({},V().footerMargin,!x)),children:S})]})};return(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:i,className:V().card},b),{},{children:at()}))},B=Yt,zt=e(68628),a=e(96486),c=e(25091),N=e(90958),M=e.n(N),it=["label","value"],tt={xs:24,sm:24,md:24,lg:8,xl:8},Ct=function(n){var l=n.label,i=n.value,d=(0,R.Z)(n,it);return(0,t.jsxs)("div",(0,y.Z)((0,y.Z)({className:M().field},d),{},{children:[(0,t.jsx)("span",{className:M().label,children:l}),(0,t.jsx)("span",{className:M().number,children:i})]}))},Ut=function(n){var l=n.data,i=l===void 0?[]:l;return(0,t.jsx)(G.Z,{gutter:[24,24],children:(0,a.map)(i,function(d){var m=d.title,p=d.tip,h=d.loading,D=d.content,A=d.unit,S=d.subTitle,x=(0,t.jsx)(Ct,{style:{height:"1.5rem"},value:S});return!S&&(0,c.tq)()&&(x=null),(0,t.jsx)(U.Z,(0,y.Z)((0,y.Z)({},tt),{},{children:(0,t.jsx)(B,{bordered:!1,title:m,action:(0,t.jsx)(I.Z,{title:p,children:(0,t.jsx)(zt.Z,{style:{fontSize:22}})}),loading:h,total:D,unit:A,footer:x})}),m)})})},$t=Ut,Kt=e(88983),Mt=e(82530),le=e(43358),oe=e(76647),Ue=e(18106),Se=e(47428),qt=e(98821),F=e(93083),ge=Se.Z.TabPane,Te=oe.Z.Option;function Ae(Z){var n,l=Z.isUsdi,i=Z.loading,d=i===void 0?!1:i,m=Z.calDateRange,p=m===void 0?7:m,h=Z.onCalDateRangeClick,D=h===void 0?function(){}:h,A=Z.apyEchartOpt,S=A===void 0?{}:A,x=Z.tvlEchartOpt,b=x===void 0?{}:x,at=(0,F.hU)(),v=(n={},(0,o.Z)(n,F.me.Desktop,{chartWrapperClassName:M().chartDiv}),(0,o.Z)(n,F.me.Tablet,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:M().chartDivMobile}),(0,o.Z)(n,F.me.Mobile,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:M().chartDivMobile,tabClassName:M().tabMobile}),n)[at],yt=function(_){typeof _=="number"?D(_):D(_.target.value)},rt=(0,t.jsx)("div",{className:M().buttons,children:(0,t.jsxs)(Mt.ZP.Group,{value:p,onChange:yt,children:[(0,t.jsx)(I.Z,{title:"last 7 days",children:(0,t.jsx)(Mt.ZP.Button,{value:7,children:"WEEK"})}),(0,t.jsx)(I.Z,{title:"last 30 days",children:(0,t.jsx)(Mt.ZP.Button,{value:31,children:"MONTH"})}),(0,t.jsx)(I.Z,{title:"last 365 days",children:(0,t.jsx)(Mt.ZP.Button,{value:365,children:"YEAR"})})]})});return at===F.me.Mobile&&(rt=(0,t.jsxs)(oe.Z,{style:{width:120},value:p,onChange:yt,children:[(0,t.jsx)(Te,{value:7,children:"WEEK"}),(0,t.jsx)(Te,{value:31,children:"MONTH"}),(0,t.jsx)(Te,{value:365,children:"YEAR"})]})),(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:d,bordered:!1,style:{marginTop:40}},v.cardProps),{},{children:(0,t.jsx)("div",{className:M().vaultKeyCard,children:(0,t.jsxs)(Se.Z,{animated:!0,className:gt()(v.tabClassName),tabBarExtraContent:rt,children:[(0,t.jsx)(ge,{tab:"APY (%)",children:(0,t.jsx)("div",{className:v.chartWrapperClassName,children:(0,t.jsx)(qt.$c,{option:S,style:{height:"100%",width:"100%"}})})},"apy"),(0,t.jsx)(ge,{tab:"Total Supply",children:(0,t.jsx)("div",{className:v.chartWrapperClassName,children:(0,t.jsx)(qt.$c,{option:b,style:{height:"100%",width:"100%"}})})},"totalSupply")]})})}))}var be=e(96222),ue=e(22533),Ft=e(12968),de=e(62462),jt=e(86582),w=e(905),P=e(9292),ea=function(n){var l,i=n.tokenDecimals,d=n.displayDecimals,m=n.strategyMap,p=n.visitData,h=p===void 0?{}:p,D=n.unit,A=(0,f.tT)("@@initialState"),S=A.initialState,x=(0,F.hU)();if(!S.chain)return null;var b=h.strategies,at=b===void 0?[]:b,v=h.totalValueInVault,yt=v===void 0?"0":v,rt=(0,a.reduce)(at,function(g,u){return g.plus(u.totalValue)},(0,w.Z)(0)),Q=(0,w.Z)(yt).plus(rt),_=(0,a.groupBy)((0,a.filter)(at,function(g){return g.totalValue>0}),"protocol"),J=[].concat((0,jt.Z)((0,a.values)((0,a.mapValues)(_,function(g,u){var r=(0,a.reduce)(g,function(L,C){return L.plus(C.totalValue)},(0,w.Z)(0));return{name:m[S.chain][u],amount:r,percent:r.div(Q)}}))),[{name:"Vault",amount:(0,w.Z)(yt),percent:Q.eq(0)?"0":(0,w.Z)(yt).div(Q)}]),j=[{title:"Protocol Name",dataIndex:"name",key:"name",render:function(u){return(0,t.jsxs)("div",{className:M().tableCell,children:[(0,t.jsx)(de.Z,{width:30,preview:!1,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(u,".png"),placeholder:u,alt:u,style:{borderRadius:"50%"},fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("span",{className:M().text,children:u})]})}},{title:"Asset (".concat(D,")"),dataIndex:"amount",key:"amount",showSorterTooltip:!1,sorter:function(u,r){return u.amount.minus(r.amount)},render:function(u){return(0,P.FH)(u.toString(),i,d)}},{title:"Asset Ratio",dataIndex:"percent",key:"percent",defaultSortOrder:"descend",showSorterTooltip:!1,sorter:function(u,r){return u.percent.minus(r.percent)},render:function(u){return(0,t.jsxs)("span",{children:[(0,P.FH)(u,.01,2),"%"]})}}],K=(l={},(0,o.Z)(l,F.me.Desktop,{}),(0,o.Z)(l,F.me.Tablet,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),(0,o.Z)(l,F.me.Mobile,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),l)[x];return(0,t.jsx)("div",{children:(0,t.jsx)(ue.Z,(0,y.Z)({rowKey:function(u){return u.name},columns:j,dataSource:J,pagination:!1},K.tableProps))})},aa=ea,ln=e(13254),na=e(14277),ia=e(88377),ra=e(92077),Dt=e.n(ra),sa=function(n){var l,i=n.strategyMap,d=n.tokenDecimals,m=n.displayDecimals,p=n.visitData,h=p===void 0?{}:p,D=n.unit,A=h.strategies,S=A===void 0?[]:A,x=h.totalValueInVault,b=x===void 0?"0":x,at=(0,f.tT)("@@initialState"),v=at.initialState,yt=(0,F.hU)(),rt=" (".concat(D,")");if(!v.chain)return null;var Q=(0,a.reduce)(S,function(u,r){return u.plus(r.totalValue)},(0,w.Z)(0)),_=(0,w.Z)(b).plus(Q),J=(0,a.groupBy)((0,a.filter)(S,function(u){return u.totalValue>0}),"protocol"),j=(0,P.FH)(_,d,m);if((0,a.isEmpty)(J)&&j<=0||isNaN(j))return(0,t.jsx)(na.Z,{style:{marginTop:"4rem"}});var K=[].concat((0,jt.Z)((0,a.values)((0,a.mapValues)(J,function(u,r){var L=(0,a.reduce)(u,function(C,O){return C.plus(O.totalValue)},(0,w.Z)(0));return{Protocol:"".concat(i[v.chain][r]).concat(rt),amount:(0,P.FH)(L,d,m)}}))),[{Protocol:"Vault".concat(rt),amount:(0,P.FH)(b,d,m)}]),g=(l={},(0,o.Z)(l,F.me.Desktop,{legendProps:{position:"bottom-center"}}),(0,o.Z)(l,F.me.Tablet,{legendProps:{position:"bottom-center"}}),(0,o.Z)(l,F.me.Mobile,{legendProps:{position:"bottom-center"}}),l)[yt];return(0,t.jsx)("div",{className:M().chartWrapper,children:(0,t.jsx)(ia.yi,{forceFit:!0,padding:"auto",angleField:"amount",color:["#A68EFE","#2ec7c9","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4"],colorField:"Protocol",data:K,legend:(0,y.Z)({visible:!0,text:{style:{fill:"#fff"},formatter:function(r){return r.replace(rt,"")}}},g.legendProps),label:{visible:!1,type:"spider",offset:20,formatter:function(r,L){return"".concat(L._origin.Protocol,": ").concat(L._origin.amount)}},interactions:[{type:"element-selected"},{type:"element-active"}],statistic:{visible:!0,content:{value:Dt()((0,P.FH)(_,d,m)).format("0.[0000]a"),name:"TVL".concat(rt)}}})})},la=sa,kt=e(1123);function Ve(Z){var n,l=Z.loading,i=l===void 0?!1:l,d=Z.tokenDecimals,m=Z.strategyMap,p=m===void 0?{}:m,h=Z.vaultData,D=h===void 0?{}:h,A=Z.unit,S=A===void 0?"USD":A,x=Z.displayDecimals,b=x===void 0?kt.h:x,at=(0,F.hU)(),v=(n={},(0,o.Z)(n,F.me.Desktop,{}),(0,o.Z)(n,F.me.Tablet,{cardProps:{size:"small"}}),(0,o.Z)(n,F.me.Mobile,{cardProps:{size:"small"}}),n)[at];return(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:i,className:M().salesCard,bordered:!1,title:"Vault Protocol Allocations",style:{height:"100%",marginTop:40}},v.cardProps),{},{children:(0,t.jsxs)(G.Z,{children:[(0,t.jsx)(U.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(la,{loading:i,strategyMap:p,tokenDecimals:d,displayDecimals:b,visitData:D||{},unit:S})})}),(0,t.jsx)(U.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(aa,{loading:i,strategyMap:p,tokenDecimals:d,displayDecimals:b,visitData:D||{},unit:S})})})]})}))}var on=e(77576),oa=e(12028),un=e(54029),ua=e(79166),da=e(69157),ca=e(26985),Ot=e(860),pa=function(n){var l,i=n.loading,d=n.strategyMap,m=n.displayDecimals,p=m===void 0?kt.h:m,h=n.unit,D=h===void 0?"USD":h,A=(0,s.useState)(!0),S=(0,E.Z)(A,2),x=S[0],b=S[1],at=(0,f.tT)("@@initialState"),v=at.initialState,yt=(0,F.hU)(),rt=(0,f.QT)(function(){return(0,Ot.mB)(v.chain,v.vaultAddress,0,100)},{formatResult:function(r){return(0,a.sortBy)(r.content,["strategyName"])}}),Q=rt.data;if(!v.chain)return null;var _=(0,w.Z)(1e18),J=[{title:(0,t.jsxs)("div",{children:["Name\xA0\xA0",(0,t.jsx)(I.Z,{placement:"topLeft",arrowPointAtCenter:!0,overlayStyle:{width:300},title:"By clicking on the strategy name you will be directed to the strategy page with all the related information viewable, e.g., strategy profits and official APY.",children:(0,t.jsx)(zt.Z,{})})]}),dataIndex:"strategyName",key:"strategyName",width:320,render:function(r,L){return(0,t.jsxs)("div",{className:M().tableCell,children:[(0,t.jsx)(de.Z,{preview:!1,width:30,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(d[v.chain][L.protocol],".png"),placeholder:L.protocol,style:{borderRadius:"50%"},alt:d[v.chain][L.protocol],fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat((0,ca.i)()?"https://dashboard.bankofchain.io":"https://dashboard-v2.bankofchain.io","/#/strategy?id=").concat(L.strategyAddress,"&chain=").concat(v.chain,"&vault=").concat(v.vault),className:M().text,children:r})]})}},{title:"Tokens",dataIndex:"underlyingTokens",key:"underlyingTokens",width:130,render:function(r){return!(0,a.isEmpty)(r)&&(0,t.jsx)(da.Z,{array:r.split(",")})}},{title:"Asset (".concat(D,")"),dataIndex:"totalAssetBaseCurrent",key:"totalAssetBaseCurrent",showSorterTooltip:!1,defaultSortOrder:"descend",sorter:function(r,L){return(0,w.Z)(r.totalAssetBaseCurrent||"0").minus((0,w.Z)(L.totalAssetBaseCurrent||"0"))},render:function(r){return(0,t.jsx)("span",{children:(0,P.FH)(r||"0",_,p)})}},{title:"Weekly Official APY",dataIndex:"officialWeeklyApy",key:"officialWeeklyApy",showSorterTooltip:!1,sorter:function(r,L){return r.officialWeeklyApy-L.officialWeeklyApy},render:function(r){return(0,t.jsxs)("span",{children:[(0,P.Ik)((100*r).toFixed(2)),"%"]})}},{title:"Weekly Realized APY",dataIndex:"realizedApy",key:"realizedApy",showSorterTooltip:!1,sorter:function(r,L){var C=r.realizedApy||{value:"0"},O=C.value,$=L.realizedApy||{value:"0"},et=$.value;return O-et},render:function(r){if((0,a.isEmpty)(r))return(0,t.jsx)("span",{children:"0.00%"});var L=r.value,C=r.detail,O=(0,t.jsxs)("span",{children:[(0,P.Ik)((100*L).toFixed(2)),"%"]});if((0,a.isEmpty)(C))return O;var $=(0,t.jsx)("div",{children:(0,a.map)(C,function(et,ot){return(0,t.jsxs)("span",{style:{display:"block"},children:[et.feeName,": ",(0,P.Ik)((100*et.feeApy).toFixed(2)),"%"]},ot)})});return(0,t.jsxs)("span",{children:[O,"\xA0",(0,t.jsx)(I.Z,{title:$,children:(0,t.jsx)(zt.Z,{})})]})}},{title:"Weekly Unrealized APY",dataIndex:"unrealizedApy",key:"unrealizedApy",showSorterTooltip:!1,sorter:function(r,L){var C=r.unrealizedApy||{value:"0"},O=C.value,$=L.unrealizedApy||{value:"0"},et=$.value;return O-et},render:function(r){if((0,a.isEmpty)(r))return(0,t.jsx)("span",{children:"0.00%"});var L=r.value,C=r.detail,O=(0,t.jsxs)("span",{children:[(0,P.Ik)((100*L).toFixed(2)),"%"]});if((0,a.isEmpty)(C))return O;var $=(0,t.jsx)("div",{children:(0,a.map)(C,function(et,ot){return(0,t.jsxs)("span",{style:{display:"block"},children:[et.feeName,": ",(0,P.Ik)((100*et.feeApy).toFixed(2)),"%"]},ot)})});return(0,t.jsxs)("span",{children:[O,"\xA0",(0,t.jsx)(I.Z,{title:$,children:(0,t.jsx)(zt.Z,{})})]})}},{title:"Weekly Realized Profit",dataIndex:"weekProfit",key:"weekProfit",render:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1?arguments[1]:void 0,C=L.estimateProfit,O=L.tokenUnit,$=O===void 0?"":O,et=(0,a.isNil)(C),ot=(0,t.jsx)(ua.Z,{dot:!et,color:"gold",children:(0,t.jsxs)("span",{children:[(0,P.FH)(r||"0",_,p)," ",$||""]})});if(et)return ot;var ut=(0,t.jsxs)("span",{children:["Estimate Profit: ",(0,P.FH)(C,_,p)," ",$||""]});return(0,t.jsx)(I.Z,{title:ut,children:ot})}},{title:"Strategy Address",dataIndex:"strategyAddress",key:"strategyAddress",align:"center",render:function(r,L){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[v.chain],"/address/").concat(L.strategyAddress),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}],j=x?Q:(0,a.filter)(Q,function(u){return(0,w.Z)(u.totalAsset).gt(0)}),K=(l={},(0,o.Z)(l,F.me.Desktop,{}),(0,o.Z)(l,F.me.Tablet,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}}),(0,o.Z)(l,F.me.Mobile,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"mobile-font-size",scroll:{x:900}}}),l)[yt],g="Vault Strategies Allocations";return yt===F.me.Mobile&&(g="Strategies Allocations"),(0,t.jsx)("div",{children:(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:i,bordered:!1,title:g,extra:(0,t.jsxs)("div",{children:[(0,t.jsx)(oa.Z,{checked:x,onChange:function(){return b(!x)}}),(0,t.jsx)(I.Z,{title:"show all strategies added in vault",children:(0,t.jsx)("span",{style:{padding:10},children:"Show All"})})]}),style:{height:"100%",marginTop:40}},K.cardProps),{},{children:(0,t.jsx)(ue.Z,(0,y.Z)({rowKey:function(r){return r.strategyAddress},columns:J,dataSource:j,pagination:(j==null?void 0:j.length)>10&&{style:{marginBottom:0},pageSize:10}},K.tableProps))}))})},_e=pa,ma=e(30381),ae=e.n(ma),ya=e(35161),ce=e.n(ya),va=e(39693),fa=e.n(va),Vt=e(39428),se=e(3182),Ie=e(25630),je=e(94991),pe=e(89850),Ce,Ne={SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethereum","137":""},VAULT_ADDRESS:{"1":"0x30D120f80D60E7b58CA9fFaf1aaB1815f000B7c3","137":""},USDI_ADDRESS:{"1":"0x83131242843257bc6C43771762ba467346Efb2CF","137":""},VAULT_BUFFER_ADDRESS:{"1":"0x0b8D3634a05cc6b50E4D026c0eaFa8469cA98480","137":""}}.SUB_GRAPH_URL,ha=(Ce={},(0,o.Z)(Ce,pe.W3.id,new Ie.f({uri:Ne[pe.W3.id],cache:new je.h})),(0,o.Z)(Ce,pe.hB.id,new Ie.f({uri:Ne[pe.hB.id],cache:new je.h})),Ce),ga=(0,o.Z)({},pe.hB.id,new Ie.f({uri:{SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethi"},VAULT_ADDRESS:{"1":"0x8f0Cb368C63fbEDF7a90E43fE50F7eb8B9411746"},ETHI_ADDRESS:{"1":"0x1A597356E7064D4401110FAa2242bD0B51D1E4Fa"},VAULT_BUFFER_ADDRESS:{"1":"0xC8915157b36ed6D0F36827a1Bb5E9b0cDd1e87Cd"}}.SUB_GRAPH_URL[pe.hB.id],cache:new je.h})),We=function(n,l){var i,d=(i={},(0,o.Z)(i,kt._.USDi,ha),(0,o.Z)(i,kt._.ETHi,ga),i)[n];return d[l]},He=e(87899),Ta=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalValueInVault
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      totalValue
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Aa=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      debtRecordInVault
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,xa=function(){var Z=(0,se.Z)((0,Vt.Z)().mark(function n(l,i){var d,m,p,h,D,A,S,x,b=arguments;return(0,Vt.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(m=b.length>2&&b[2]!==void 0?b[2]:"",p=b.length>3&&b[3]!==void 0?b[3]:"",h=b.length>4&&b[4]!==void 0?b[4]:"",D=We(l,i),!(0,a.isEmpty)(D)){v.next=6;break}return v.abrupt("return");case 6:return A=(d={},(0,o.Z)(d,kt._.USDi,Ta),(0,o.Z)(d,kt._.ETHi,Aa),d)[l],v.next=9,D.query({query:(0,He.Ps)(A),variables:{tokenAddress:m.toLowerCase(),valutAddress:p.toLowerCase(),vaultBufferAddress:h.toLowerCase()}});case 9:return S=v.sent,x=S.data,v.abrupt("return",x);case 12:case"end":return v.stop()}},n)}));return function(l,i){return Z.apply(this,arguments)}}(),we=function(){return`
query($types: [PegTokenUpdateType], $first: Int) {
  pegTokenUpdates(
    orderBy: timestamp,
    orderDirection: desc,
    first: $first,
    where: {
      type_in: $types
    },
  ) {
    id
    type
    transferredAmount
    totalSupplyChangeAmount
    timestamp
    fromAccountUpdate {
      account {
        id
      }
    }
    transaction {
      id
    }
		toAccountUpdate {
      account {
        id
      }
    }
  }
}
`},Ea=function(){var Z=(0,se.Z)((0,Vt.Z)().mark(function n(l,i,d){var m,p,h,D,A=arguments;return(0,Vt.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(p=A.length>3&&A[3]!==void 0?A[3]:100,h=We(l,i),!(0,a.isEmpty)(h)){x.next=4;break}return x.abrupt("return");case 4:return D=(m={},(0,o.Z)(m,kt._.USDi,we()),(0,o.Z)(m,kt._.ETHi,we()),m)[l],x.next=7,h.query({query:(0,He.Ps)(D),variables:{types:d,first:p}}).then(function(b){return b.data.pegTokenUpdates});case 7:return x.abrupt("return",x.sent);case 8:case"end":return x.stop()}},n)}));return function(l,i,d){return Z.apply(this,arguments)}}(),$e=e(61303),Oe={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},Da=18,Be=(0,w.Z)(1e18),Sa=oe.Z.Option,ba=function(n){var l,i,d=n.loading,m=n.dispalyDecimal,p=m===void 0?kt.h:m,h=n.decimals,D=h===void 0?Da:h,A=n.token,S=A===void 0?"USDi":A,x=n.filterOptions,b=x===void 0?Oe:x,at=(0,f.tT)("@@initialState"),v=at.initialState,yt=(0,s.useState)([]),rt=(0,E.Z)(yt,2),Q=rt[0],_=rt[1],J=(0,s.useState)(!1),j=(0,E.Z)(J,2),K=j[0],g=j[1],u=(0,F.hU)(),r=(0,y.Z)({All:"All"},(0,a.omit)(b,[b.Deposit])),L=(0,s.useState)(r.All),C=(0,E.Z)(L,2),O=C[0],$=C[1],et=(0,s.useState)(1),ot=(0,E.Z)(et,2),ut=ot[0],q=ot[1];(0,s.useEffect)(function(){var X=[O];O===Oe.Mint&&X.push(Oe.Deposit);var k=O===r.All?Object.values(b):X;g(!0),Ea(v.vault,v.chain,k).then(function(nt){var vt=fa()(ce()(nt,function(pt){var ft,St,Zt,Wt,Xt;if(!(pt.type===b.Mint&&(pt==null||(ft=pt.toAccountUpdate)===null||ft===void 0||(St=ft.account)===null||St===void 0||(Zt=St.id)===null||Zt===void 0?void 0:Zt.toLowerCase())===((Wt=(0,$e.L)(v.chain,v.vault))===null||Wt===void 0||(Xt=Wt.vaultBufferAddress)===null||Xt===void 0?void 0:Xt.toLowerCase())))return pt.type===b.Deposit?(0,y.Z)((0,y.Z)({},pt),{},{type:b.Mint}):pt}));q(1),_(vt)}).finally(function(){g(!1)})},[O]);var dt=function(k){return(0,t.jsx)("a",{target:"_blank",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[v.chain],"/address/").concat(k),title:k,rel:"noreferrer",children:k})},_t=(l={},(0,o.Z)(l,F.me.Desktop,["10rem","10rem","25rem","8rem"]),(0,o.Z)(l,F.me.Tablet,["8rem","8rem",void 0,"8rem"]),(0,o.Z)(l,F.me.Mobile,["8rem","8rem",void 0,"8rem"]),l)[u],T=[{title:"Date",dataIndex:"timestamp",key:"timestamp",render:function(k){return(0,t.jsx)(I.Z,{title:"".concat(ae()(1e3*k).utcOffset(0).format("yyyy-MM-DD HH:mm:ss")," (UTC)"),children:ae()(1e3*k).utcOffset(0).locale("en").fromNow()})}},{title:"Operation",dataIndex:"type",key:"type",ellipsis:{showTitle:!1}},{title:"Details",key:"detail",render:function(k,nt){var vt,pt,ft=nt.type,St=nt.transferredAmount,Zt=nt.toAccountUpdate,Wt=nt.fromAccountUpdate,Xt=nt.totalSupplyChangeAmount,Lt=(0,P.Wl)(Xt,D,p),Bt=(0,P.Wl)((0,w.Z)(St).abs(),D,p),At=(0,P.Wl)(St,D,p),W=(0,P.FH)(Xt,(0,w.Z)(Math.pow(10,D))),mt=(0,P.FH)((0,w.Z)(St).abs(),(0,w.Z)(Math.pow(10,D))),Ht=(0,P.FH)(St,(0,w.Z)(Math.pow(10,D))),re=Wt==null||(vt=Wt.account)===null||vt===void 0?void 0:vt.id,he=Zt==null||(pt=Zt.account)===null||pt===void 0?void 0:pt.id,Jt={Mint:function(){return(0,t.jsxs)(t.Fragment,{children:[ft," ",(0,t.jsx)("span",{title:Ht,children:At})," ",S," to ",dt(he)]})},Burn:function(){return(0,t.jsxs)(t.Fragment,{children:[ft," ",(0,t.jsx)("span",{title:mt,children:Bt})," ",S," from ",dt(re)]})},Rebase:function(){return(0,t.jsxs)(t.Fragment,{children:[ft," ",(0,t.jsx)("span",{title:W,children:Lt})," ",S]})},Transfer:function(){return(0,t.jsxs)(t.Fragment,{children:[ft," ",(0,t.jsx)("span",{title:Ht,children:At})," ",S," from ",dt(re)," to ",dt(he)]})}};return(0,t.jsx)("span",{style:{whiteSpace:"normal"},children:Jt[nt.type]()})}},{title:"Tx Address",key:"tx",ellipsis:{showTitle:!1},align:"center",render:function(k,nt){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[v.chain],"/tx/").concat(nt.transaction.id),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}];T.forEach(function(X,k){X.width=_t[k]});var Nt=function(k){typeof k=="string"?$(k):$(k.target.value)},Rt=(i={},(0,o.Z)(i,F.me.Desktop,{radioGroupProps:{size:"large"}}),(0,o.Z)(i,F.me.Tablet,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{size:"small",scroll:{x:800}}}),(0,o.Z)(i,F.me.Mobile,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{compact:!0,size:"small",scroll:{x:800}}}),i)[u],ee=(0,t.jsx)(Mt.ZP.Group,(0,y.Z)((0,y.Z)({value:O,onChange:Nt,buttonStyle:"outline"},Rt.radioGroupProps),{},{className:M().buttons,children:ce()(r,function(X,k){return(0,t.jsx)(Mt.ZP.Button,{value:X,children:k},k)})}));return u===F.me.Mobile&&(ee=(0,t.jsx)(oe.Z,{style:{width:120},value:O,onChange:Nt,children:ce()(r,function(X,k){return(0,t.jsx)(Sa,{value:X,children:k},k)})})),(0,t.jsx)("div",{children:(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:d,bordered:!1,title:"Recent Activity",extra:ee,style:{height:"100%",marginTop:40}},Rt.cardProps),{},{children:(0,t.jsx)(ue.Z,(0,y.Z)({rowKey:function(k){return k.id},columns:T,dataSource:Q,loading:K,pagination:(Q==null?void 0:Q.length)>10&&{showSizeChanger:!1,style:{marginBottom:0},current:ut,pageSize:10,onChange:function(k){q(k)}}},Rt.tableProps))}))})},Fe=ba,Ke=e(42411),Ye=e(10501),Ca=e(3691),Ma=e.n(Ca),Pa=[{label:"USDi",value:"usdi"},{label:"ETHi",value:"ethi"},{label:"USDr",value:"usdr"},{label:"ETHr",value:"ethr"}],Za=function(){var n=(0,f.tT)("@@initialState"),l=n.initialState,i=n.setInitialState,d=function(p){var h=f.m8.location.query.chain;i((0,y.Z)((0,y.Z)({},l),{},{vault:p},(0,$e.L)(h,p))),f.m8.push({query:{chain:h,vault:p}})};return(0,t.jsx)(G.Z,{children:(0,t.jsx)(U.Z,{span:24,className:Ma().container,children:(0,t.jsx)(Mt.ZP.Group,{size:"large",onChange:function(p){return d(p.target.value)},value:l.vault,buttonStyle:"solid",children:ce()(Pa,function(m,p){return(0,t.jsx)(Mt.ZP.Button,{value:m.value,children:m.label},p)})})})})},Me=Za,Pe=e(55414),me=e(53651),Gt=e(22844),Ua=e(41609),ne=e.n(Ua),Ia=function(n){var l=n.vault,i=n.chain,d=n.vaultAddress,m=n.tokenAddress,p=n.vaultBufferAddress;return ne()(m)||ne()(d)?Promise.reject(new Error("fetch tokenAddress or vaultAddress failed")):xa(l,i,m,d,p).catch(function(h){return console.error("init DashBoard data failed",h),{pegToken:{totalSupply:"0",holderCount:"0"},vault:{totalAssets:"0",strategies:[]},vaultBuffer:{totalSupply:"0"}}})};function ze(){var Z=(0,s.useState)({}),n=(0,E.Z)(Z,2),l=n[0],i=n[1],d=(0,s.useState)(!1),m=(0,E.Z)(d,2),p=m[0],h=m[1],D=(0,f.tT)("@@initialState"),A=D.initialState;return(0,s.useEffect)(function(){A!=null&&A.chain&&(h(!0),Ia(A).then(i).finally(function(){h(!1)}))},[A==null?void 0:A.chain,A==null?void 0:A.vault]),{dataSource:l,loading:p}}var xe=e(2593),ja=e(13311),Oa=e.n(ja),Ze=function(n){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,d=[],m=function(D){var A=n[0]?ae()(n[0].date):ae()().utcOffset(0).subtract(1,"days"),S=A.subtract(D,"days").format("YYYY-MM-DD"),x=Oa()(n,function(b){return b.date===S})||(0,o.Z)({date:S},l,void 0);d.push(x)},p=0;p<i;p++)m(p);return d},Ba=function(){var n=(0,s.useState)(31),l=(0,E.Z)(n,2),i=l[0],d=l[1],m=(0,s.useState)({}),p=(0,E.Z)(m,2),h=p[0],D=p[1],A=(0,s.useState)({}),S=(0,E.Z)(A,2),x=S[0],b=S[1],at=(0,s.useState)(0),v=(0,E.Z)(at,2),yt=v[0],rt=v[1],Q=(0,f.tT)("@@initialState"),_=Q.initialState,J=ze(),j=J.dataSource,K=j===void 0?{}:j,g=J.loading,u=K.pegToken,r=u===void 0?{}:u,L=K.vault,C=L===void 0?{}:L,O=K.vaultBuffer,$=O===void 0?{}:O;if((0,s.useEffect)(function(){if(!!_.chain){var nt={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};i>7&&(nt.format="MM-DD"),(0,Ot.ld)({chainId:_.chain,duration:me.Gj.monthly,limit:i,tokenType:me.KR.ethi}).then(function(vt){var pt=Ze(vt.content,"apy",i),ft=(0,a.map)((0,a.reverse)(pt),function(W){var mt=W.date,Ht=W.apy,re=(0,a.isNil)(Ht)?null:"".concat(Dt()(Ht).format("0.00"));return{date:mt,apy:re}});rt(vt.content[0]?vt.content[0].apy:0);var St=(0,a.uniq)((0,a.map)(ft,function(W){var mt=W.date;return mt})),Zt=[],Wt=(0,a.map)(St,function(W){var mt=(0,a.find)(ft,{date:W});return mt?{value:(0,P.Ay)(mt.apy),label:"".concat((0,P.Ik)(mt.apy),"%")}:null}),Xt=[{seriesName:"APY",seriesData:Wt,showSymbol:(0,a.size)((0,a.filter)(Wt,function(W){return!(0,a.isNil)(W.value)}))===1}],Lt={legend:{data:Zt,textStyle:{color:"#fff"}},xAxisData:St,data:Xt},Bt=(0,Ye.Z)(Lt);Bt.color=["#A68EFE","#5470c6","#91cc75"],Bt.series.forEach(function(W){W.connectNulls=!0,W.name==="Estimated APY"&&(W.lineStyle={width:2,type:"dotted"})}),Bt.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var At=[];Bt.xAxis.data=Bt.xAxis.data.map(function(W){var mt="".concat(ae()(W).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return At[mt]=ae()(W).add(1,"days").format(nt.format),mt}),Bt.xAxis.axisLabel={formatter:function(mt){return At[mt]}},Bt.xAxis.axisTick={alignWithLabel:!0},Bt.yAxis.splitLine={lineStyle:{color:"#454459"}},Bt.tooltip=(0,y.Z)((0,y.Z)({},Bt.tooltip),{},{formatter:function(mt){if(mt.length>0){var Ht=mt[0],re=Ht.axisValueLabel,he=Ht.marker,Jt=Ht.seriesName,wt=Ht.data,Le="".concat(re,"<br/>").concat(he).concat(Jt,": ");return wt!=null&&wt.value?Le+=wt==null?void 0:wt.label:Le+="-",Le}}}),b(Bt)}).catch(function(vt){console.error(vt)}),(0,Ot.fY)({chainId:_.chain,limit:i,tokenType:me.KR.ethi}).then(function(vt){var pt=Ze(vt.content,"totalSupply",i),ft=(0,a.map)((0,a.reverse)(pt),function(St){var Zt=St.date,Wt=St.totalSupply;return{date:Zt,totalSupply:(0,P.FH)(Wt,Gt.Nd,Gt.A7)}});D((0,Ke.Z)(ft,"totalSupply","ETHi",(0,y.Z)((0,y.Z)({},nt),{},{yAxisMin:function(Zt){return Math.floor(Zt.min*.998)},yAxisMax:function(Zt){return Math.ceil(Zt.max*1.001)}})))}).catch(function(vt){console.error(vt)})}},[i,_.chain]),(0,s.useEffect)(function(){return function(){(0,Ot.jv)()}},[]),(0,a.isEmpty)(_.chain))return null;var et=function(){return(0,a.isEmpty)(r)||(r==null?void 0:r.totalSupply)==="0"||(0,a.isEmpty)(C==null?void 0:C.totalAssets)?"1":!(0,a.isEmpty)($)&&C.isAdjust?(0,P.FH)(xe.O$.from(C.totalAssets).sub($.totalSupply),r==null?void 0:r.totalSupply,6):(0,P.FH)(C==null?void 0:C.totalAssets,r==null?void 0:r.totalSupply,6)},ot=function(){f.m8.push("/prices?chain=".concat(_.chain,"&vault=").concat(_.vault))},ut=(0,P.FH)(r==null?void 0:r.totalSupply,Gt.Nd,Gt.A7),q=Dt()(ut).format("0.00 a"),dt=q.split(" "),_t=(0,E.Z)(dt,2),T=_t[0],Nt=_t[1],Rt=isNaN(new Number(Nt)),ee=[{title:"Total Supply",tip:"Current total ETHi supply.",content:(0,a.isEmpty)(r)?0:"".concat(T).concat(Rt?"":Nt),loading:g,unit:"".concat((0,a.isEmpty)(r)?"":"".concat(Rt?Nt:"")," ETHi"),subTitle:(0,t.jsxs)("p",{children:["1ETHi \u2248 ",et(),"ETH"," ",(0,t.jsx)("span",{className:M().history,onClick:ot,children:"History"})]})},{title:"Holders",tip:"Number Of ETHi holders.",content:Dt()(r==null?void 0:r.holderCount).format("0.[0000]a"),loading:g},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,P.Ik)(parseFloat(yt).toFixed(2)),loading:g,unit:"%"}],X=(0,a.cloneDeep)(K.vault);if(X){var k=(0,a.reduce)(X.strategies,function(nt,vt){return nt.plus(vt.debtRecordInVault)},(0,w.Z)(0));X.totalValueInVault=(0,w.Z)(X.totalAssets).minus(k).toString(),X.strategies.map(function(nt){return nt.totalValue=nt.debtRecordInVault})}return(0,t.jsx)(ht.Z,{children:(0,t.jsxs)(G.Z,{gutter:[24,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(Me,{})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)($t,{data:ee})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ae,{loading:g,calDateRange:i,onCalDateRangeClick:d,apyEchartOpt:x,tvlEchartOpt:h})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ve,{loading:g,strategyMap:Pe.tX,tokenDecimals:Gt.Nd,displayDecimals:Gt.A7,vaultData:X,unit:"ETH"})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(_e,{unit:"ETH",loading:g,strategyMap:Pe.tX,displayDecimals:Gt.A7})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Fe,{token:"ETHi",decimals:Gt.DO,dispalyDecimal:Gt.A7,filterOptions:Gt.O2,loading:g})})}),(0,t.jsx)(U.Z,{span:24})]})})},ka=Ba,ke=e(91907),Ra=[{label:"Ethereum",key:"1"},{label:"Polygon",key:"137"}],La=function(){var n=(0,s.useState)(31),l=(0,E.Z)(n,2),i=l[0],d=l[1],m=(0,s.useState)({}),p=(0,E.Z)(m,2),h=p[0],D=p[1],A=(0,s.useState)({}),S=(0,E.Z)(A,2),x=S[0],b=S[1],at=(0,s.useState)(0),v=(0,E.Z)(at,2),yt=v[0],rt=v[1],Q=(0,f.tT)("@@initialState"),_=Q.initialState,J=ze(),j=J.dataSource,K=j===void 0?{}:j,g=J.loading,u=K.pegToken,r=u===void 0?{}:u,L=K.vault,C=L===void 0?{}:L,O=K.vaultBuffer,$=O===void 0?{}:O;if((0,s.useEffect)(function(){if(!!_.chain){var X={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};i>7&&(X.format="MM-DD"),(0,Ot.ld)({chainId:_.chain,duration:me.Gj.monthly,limit:i,tokenType:me.KR.usdi}).then(function(k){var nt=Ze(k.content,"apy",i),vt=(0,a.map)((0,a.reverse)(nt),function(At){var W=At.date,mt=At.apy,Ht=(0,a.isNil)(mt)?null:"".concat(Dt()(mt).format("0.00"));return{date:W,apy:Ht}}),pt=(0,a.get)(k,"content.[0].apy",0);rt(pt);var ft=(0,a.uniq)((0,a.map)(vt,function(At){var W=At.date;return W})),St=[],Zt=(0,a.map)(ft,function(At){var W=(0,a.find)(vt,{date:At});return W?{value:(0,P.Ay)(W.apy),label:"".concat((0,P.Ik)(W.apy),"%")}:null}),Wt=[{seriesName:"APY",seriesData:Zt,showSymbol:(0,a.size)((0,a.filter)(Zt,function(At){return!(0,a.isNil)(At.value)}))===1}],Xt={legend:{data:St,textStyle:{color:"#fff"}},xAxisData:ft,data:Wt},Lt=(0,Ye.Z)(Xt);Lt.color=["#A68EFE","#5470c6","#91cc75"],Lt.series.forEach(function(At){At.connectNulls=!0,At.name==="Estimated APY"&&(At.lineStyle={width:2,type:"dotted"})}),Lt.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var Bt=[];Lt.xAxis.data=Lt.xAxis.data.map(function(At){var W="".concat(ae()(At).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return Bt[W]=ae()(At).add(1,"days").format(X.format),W}),Lt.xAxis.axisLabel={formatter:function(W){return Bt[W]}},Lt.xAxis.axisTick={alignWithLabel:!0},Lt.yAxis.splitLine={lineStyle:{color:"#454459"}},Lt.tooltip=(0,y.Z)((0,y.Z)({},Lt.tooltip),{},{formatter:function(W){if(W.length>0){var mt=W[0],Ht=mt.axisValueLabel,re=mt.marker,he=mt.seriesName,Jt=mt.data,wt="".concat(Ht,"<br/>").concat(re).concat(he,": ");return Jt!=null&&Jt.value?wt+=Jt==null?void 0:Jt.label:wt+="-",wt}}}),b(Lt)}).catch(function(k){console.error(k)}),(0,Ot.fY)({chainId:_.chain,limit:i,tokenType:me.KR.usdi}).then(function(k){var nt=Ze(k.content,"totalSupply",i),vt=(0,a.map)((0,a.reverse)(nt),function(pt){var ft=pt.date,St=pt.totalSupply;return{date:ft,totalSupply:(0,P.FH)(St,Be,kt.h)}});D((0,Ke.Z)(vt,"totalSupply","USDi",(0,y.Z)((0,y.Z)({},X),{},{yAxisMin:function(ft){return Math.floor(ft.min*.998)},yAxisMax:function(ft){return Math.ceil(ft.max*1.001)}})))}).catch(function(k){console.error(k)})}},[i,_.chain]),(0,s.useEffect)(function(){return function(){(0,Ot.jv)()}},[]),(0,a.isEmpty)(_.chain))return null;var et=function(){return(0,a.isEmpty)(r)||(r==null?void 0:r.totalSupply)==="0"||(0,a.isEmpty)(C==null?void 0:C.totalAssets)?"1":!(0,a.isEmpty)($)&&C.isAdjust?(0,P.FH)(xe.O$.from(C.totalAssets).sub($.totalSupply),r==null?void 0:r.totalSupply,6):(0,P.FH)(C==null?void 0:C.totalAssets,r==null?void 0:r.totalSupply,6)},ot=function(){f.m8.push("/prices?chain=".concat(_.chain,"&vault=").concat(_.vault))},ut=(0,P.FH)(r==null?void 0:r.totalSupply,Be,kt.h),q=Dt()(ut).format("0.00 a"),dt=q.split(" "),_t=(0,E.Z)(dt,2),T=_t[0],Nt=_t[1],Rt=(0,a.isNaN)(new Number(Nt)),ee=[{title:"Total Supply",tip:"Current total USDi supply.",content:(0,a.isEmpty)(r)?0:"".concat(T).concat(Rt?"":Nt),loading:g,unit:"".concat((0,a.isEmpty)(r)?"":"".concat(Rt?Nt:"")," USDi"),subTitle:(0,t.jsxs)("p",{children:["1USDi \u2248 ",et(),"USD"," ",(0,t.jsx)("span",{className:M().history,onClick:ot,children:"History"})]})},{title:"Holders",tip:"Number Of USDi holders.",content:Dt()(r==null?void 0:r.holderCount).format("0.[0000]a"),loading:g},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,P.Ik)(parseFloat(yt).toFixed(2)),loading:g,unit:"%"}];return console.log("tvlEchartOpt=",h),(0,t.jsxs)(ht.Z,{children:[(0,t.jsxs)(s.Suspense,{fallback:null,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(ke.Z,{chains:Ra})]}),(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)($t,{data:ee})}),(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ae,{isUsdi:!0,loading:g,calDateRange:i,onCalDateRangeClick:d,apyEchartOpt:x,tvlEchartOpt:h})}),(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ve,{loading:g,strategyMap:Pe.o1,tokenDecimals:Be,vaultData:K.vault})}),(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(_e,{strategyMap:Pe.o1,loading:g})}),(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Fe,{loading:g})})]})},Va=La,Ge=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_newVault",type:"address"},{indexed:!0,internalType:"address",name:"_wantToken",type:"address"}],name:"CreateNewVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vaultImpl",type:"address"}],name:"addVaultImpl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wantToken",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"}],name:"createNewVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"deleteVaultAddressMapForDebug",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getStablecoinInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlist",outputs:[{internalType:"address[]",name:"_wethInvestorSet",type:"address[]"},{internalType:"address[]",name:"_usdInvestorSet",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlistLen",outputs:[{internalType:"uint256",name:"_wethInvestorSetLen",type:"uint256"},{internalType:"uint256",name:"_stablecoinInvestorSetLen",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultImplList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultsLen",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getWethInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_vaultImplList",type:"address[]"},{internalType:"address",name:"_accessControlProxy",type:"address"},{internalType:"address",name:"_uniswapV3RiskOnHelper",type:"address"},{internalType:"address",name:"_treasury",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"treasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"uniswapV3RiskOnHelper",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"vaultAddressMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vaultImpl2Index",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"vaultImplList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],_a=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"borrowInfo",outputs:[{internalType:"uint256",name:"_totalCollateralBase",type:"uint256"},{internalType:"uint256",name:"_totalDebtBase",type:"uint256"},{internalType:"uint256",name:"_availableBorrowsBase",type:"uint256"},{internalType:"uint256",name:"_currentLiquidationThreshold",type:"uint256"},{internalType:"uint256",name:"_ltv",type:"uint256"},{internalType:"uint256",name:"_healthFactor",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcAaveBaseCurrencyValueInAsset",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_baseAsset",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcCanonicalAssetValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getAToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"},{internalType:"address",name:"_account",type:"address"}],name:"getCurrentBorrow",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"}],name:"getDebtToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"getSpecifiedRangesOfTick",outputs:[{internalType:"int24",name:"_tickFloor",type:"int24"},{internalType:"int24",name:"_tickCeil",type:"int24"},{internalType:"int24",name:"_tickLower",type:"int24"},{internalType:"int24",name:"_tickUpper",type:"int24"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"address",name:"_collateralToken",type:"address"}],name:"getTotalCollateralTokenAmount",outputs:[{internalType:"uint256",name:"_totalCollateralToken",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_pool",type:"address"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"getTwap",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"}],Na=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"LendToStrategy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_basis",type:"uint256"}],name:"ProfitFeeBpsChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"RedeemToVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"_shutdown",type:"bool"}],name:"SetEmergencyShutdown",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address[]",name:"_rewardTokens",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],name:"StrategyReported",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_nftId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTCollect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"_liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTPositionAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"UniV3NFTPositionRemoved",type:"event"},{anonymous:!1,inputs:[],name:"UniV3UpdateConfig",type:"event"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"borrowRebalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"borrowToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositTo3rdPoolTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergencyShutdown",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"estimatedTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMintInfo",outputs:[{internalType:"uint256",name:"_baseTokenId",type:"uint256"},{internalType:"int24",name:"_baseTickUpper",type:"int24"},{internalType:"int24",name:"_baseTickLower",type:"int24"},{internalType:"uint256",name:"_limitTokenId",type:"uint256"},{internalType:"int24",name:"_limitTickUpper",type:"int24"},{internalType:"int24",name:"_limitTickLower",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStatus",outputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_wantToken",type:"address"},{internalType:"int24",name:"_baseThreshold",type:"int24"},{internalType:"int24",name:"_limitThreshold",type:"int24"},{internalType:"int24",name:"_minTickMove",type:"int24"},{internalType:"int24",name:"_maxTwapDeviation",type:"int24"},{internalType:"int24",name:"_lastTick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"uint256",name:"_period",type:"uint256"},{internalType:"uint256",name:"_lastTimestamp",type:"uint256"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"harvest",outputs:[{internalType:"address[]",name:"_rewardsTokens",type:"address[]"},{internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastHarvest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"lend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"manageFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"netMarketMakingAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"profitFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rebalanceByKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeemToVaultByKeeper",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"setBaseThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_active",type:"bool"}],name:"setEmergencyShutdown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_limitThreshold",type:"int24"}],name:"setLimitThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setManageFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_maxTwapDeviation",type:"int24"}],name:"setMaxTwapDeviation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_minTickMove",type:"int24"}],name:"setMinTickMove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_period",type:"uint256"}],name:"setPeriod",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setProfitFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"setTwapDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"}],name:"shouldRebalance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"wantToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Qe=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],Wa="0x0000000000000000000000000000000000000000",Re="0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",Ha="0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619",Qt=new w.Z(1e6),dn=new w.Z(1e18),cn=new w.Z(1e27),Xe=e(43077),wa=e(96519),$a=e(85564),Fa=e.n($a),Ka=e(15296),ie=wa.CH,Je=xe.O$,Ya=[Ha,Re],za=function(n,l,i){var d=(0,s.useState)(!1),m=(0,E.Z)(d,2),p=m[0],h=m[1],D=(0,s.useState)([]),A=(0,E.Z)(D,2),S=A[0],x=A[1],b=(0,s.useState)([]),at=(0,E.Z)(b,2),v=at[0],yt=at[1],rt=(0,s.useState)(!1),Q=(0,E.Z)(rt,2),_=Q[0],J=Q[1],j=(0,Ka.Z)(i),K=(0,s.useCallback)(function(C,O){var $=new ie(O,Na,i),et=new ie(C,_a,i);return Promise.all([$.borrowToken().then(function(){var ot=(0,se.Z)((0,Vt.Z)().mark(function ut(q){var dt;return(0,Vt.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return dt=new ie(q,Qe,i),T.t0=q,T.next=4,dt.symbol();case 4:return T.t1=T.sent,T.t2=Je.from(10),T.next=8,dt.decimals();case 8:return T.t3=T.sent,T.t4=T.t2.pow.call(T.t2,T.t3),T.abrupt("return",{borrowToken:T.t0,name:T.t1,borrowTokenDecimals:T.t4});case 11:case"end":return T.stop()}},ut)}));return function(ut){return ot.apply(this,arguments)}}()),$.wantToken().then(function(){var ot=(0,se.Z)((0,Vt.Z)().mark(function ut(q){var dt;return(0,Vt.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return dt=new ie(q,Qe,i),T.t0=q,T.next=4,dt.symbol();case 4:return T.t1=T.sent,T.t2=Je.from(10),T.next=8,dt.decimals();case 8:return T.t3=T.sent,T.t4=T.t2.pow.call(T.t2,T.t3),T.abrupt("return",{wantToken:T.t0,name:T.t1,wantTokenDecimals:T.t4});case 11:case"end":return T.stop()}},ut)}));return function(ut){return ot.apply(this,arguments)}}())]).then(function(ot){var ut=(0,E.Z)(ot,2),q=ut[0],dt=ut[1],_t=q.borrowToken,T=dt.wantToken;return Promise.all([$.netMarketMakingAmount(),et.getCurrentBorrow(_t,2,O),et.getTotalCollateralTokenAmount(O,T),$.depositTo3rdPoolTotalAssets(),$.estimatedTotalAssets()]).then(function(Nt){var Rt=(0,E.Z)(Nt,5),ee=Rt[0],X=Rt[1],k=Rt[2],nt=Rt[3],vt=Rt[4];return et.calcCanonicalAssetValue(_t,X,T).then(function(pt){var ft={netMarketMakingAmount:ee,currentBorrow:X,currentBorrowWithCanonical:pt,depositTo3rdPoolTotalAssets:nt,totalCollateralTokenAmount:k,estimatedTotalAssets:vt,wantInfo:dt,borrowInfo:q,result:nt.add(k).sub(ee).sub(pt)};return ft})})}).finally(function(){setTimeout(function(){h(!1)},300)})},[i]),g=(0,s.useCallback)(function(){if(!(ne()(n)||ne()(i))){var C=new ie(n,l,i);C.getVaultImplList().then(x)}},[n,i,l]),u=(0,s.useCallback)((0,se.Z)((0,Vt.Z)().mark(function C(){var O,$,et;return(0,Vt.Z)().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if(!(ne()(n)||ne()(i)||ne()(S)||ne()(j))){ut.next=2;break}return ut.abrupt("return");case 2:return O=new ie(n,l,i),ut.next=5,O.uniswapV3RiskOnHelper();case 5:$=ut.sent,et=ce()(S,function(q){return Promise.all(ce()(Ya,function(dt,_t){return O.vaultAddressMap(j,q,_t).then(function(T){return T===Wa?{hasCreate:!1,type:q,token:dt}:K($,T).then(function(Nt){return(0,y.Z)((0,y.Z)({},Nt),{},{address:T,type:q,hasCreate:!0,token:dt})})})}))}),Promise.all(et).then(function(q){yt(Fa()(q))});case 8:case"end":return ut.stop()}},C)})),[j,n,i,S,l]),r=(0,s.useCallback)(function(){var C=(0,se.Z)((0,Vt.Z)().mark(function O($,et){var ot;return(0,Vt.Z)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return J(!0),ot=new ie(n,l,i),q.next=4,ot.connect(i.getSigner()).createNewVault($,et).then(function(dt){return dt.wait()}).then(u).finally(function(){J(!1)});case 4:case"end":return q.stop()}},O)}));return function(O,$){return C.apply(this,arguments)}}(),[n,i,u,l]),L=(0,s.useCallback)(function(){var C=(0,se.Z)((0,Vt.Z)().mark(function O($,et){var ot;return(0,Vt.Z)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:J(!0),ot=new ie(n,l,i),ot.connect(i.getSigner()).deleteVaultAddressMapForDebug(j,$,et).then(function(dt){return dt.wait()}).then(u).finally(function(){J(!1)});case 3:case"end":return q.stop()}},O)}));return function(O,$){return C.apply(this,arguments)}}(),[n,u,j,i,l]);return(0,s.useEffect)(g,[g]),(0,s.useEffect)(u,[u]),{vaultFactoryAddress:n,vaultImplList:S,personalVault:v,adding:_,loading:p,addVault:r,deleteVault:L}},qe=za,te=e(52572),Ga=e(27361),ta=e.n(Ga),Ee=xe.O$,Qa=[{label:"Polygon",key:"137"}],ye=137,ve="WETH",Xa=function(){var n="0x8013Dd64084e9c9122567563AA86981F4C20576B",l=(0,Xe.Z)(),i=l.userProvider,d=qe(n,Ge,i),m=d.personalVault,p=(0,a.groupBy)(m,"token"),h=ta()(p,Re,[]);console.log("calcArray=",h);var D=(0,a.reduce)(h,function(g,u){return g.add(u.netMarketMakingAmount),g},Ee.from(0)),A=(0,a.reduce)(h,function(g,u){return g.add(u.estimatedTotalAssets),g},Ee.from(0)),S=(0,a.reduce)(h,function(g,u){return g.add(u.currentBorrow),g},Ee.from(0)),x=(0,a.reduce)(h,function(g,u){return g.add(u.totalCollateralTokenAmount),g},Ee.from(0)),b=(0,a.reduce)(h,function(g,u){return g.add(u.depositTo3rdPoolTotalAssets),g},Ee.from(0));console.log("netMarketMakingAmountTotal=",D.toString()),console.log("estimatedTotalAssetsTotal=",A.toString()),console.log("currentBorrow=",S.toString()),console.log("totalCollateralTokenAmountTotal=",x.toString()),console.log("depositTo3rdPoolTotalAssetsTotal=",b.toString());var at=(0,te.r5)(function(){return(0,Ot._S)(ye,n,"aave-outstanding-loan")},[n]),v=(0,te.r5)(function(){return(0,Ot._S)(ye,n,"aave-collateral")},[n]),yt=(0,te.r5)(function(){return(0,Ot._S)(ye,n,"aave-health-ratio")},[n]),rt=(0,te.r5)(function(){return(0,Ot._S)(ye,n,"uniswap-position-value")},[n]),Q=(0,te.r5)(function(){return(0,Ot._S)(ye,n,"profit")},[n]),_=(0,te.r5)(function(){return(0,Ot._S)(ye,n,"net-deposit")},[n]);console.log("aaaa=",at,v,yt,rt,Q,_);var J=!1,j=[{title:"Deposit",tip:"All Vault Net Deposit.",content:Dt()((0,P.FH)(D,Qt)).format("0.[0000]a"),loading:J,unit:ve},{title:"Current Value",tip:"All Vault Current Value.",content:Dt()((0,P.FH)(A,Qt)).format("0.[0000]a"),loading:J,unit:ve},{title:"Unrealized Profit",tip:"All Vault Unrealized Profit.",content:Dt()("123124").format("0.[0000]a"),loading:J,unit:ve},{title:"Holders",tip:"Number Of USDi holders.",content:Dt()("5").format("0.[0000]a"),loading:J,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:Dt()((0,P.FH)(S,Qt)).format("0.[0000]a"),loading:J,unit:ve},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:Dt()((0,P.FH)(x,Qt)).format("0.[0000]a"),loading:J,unit:ve},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:Dt()((0,P.FH)(b,Qt)).format("0.[0000]a"),loading:J,unit:ve}],K={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]};return(0,t.jsx)(ht.Z,{children:(0,t.jsxs)(G.Z,{gutter:[0,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsxs)(s.Suspense,{fallback:null,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(ke.Z,{chains:Qa})]})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsxs)(G.Z,{gutter:[24,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)($t,{data:j})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(H.Z,{title:"Uniswap APY (%)",children:(0,t.jsx)(qt.$c,{option:K,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(s.Suspense,{children:(0,t.jsx)(H.Z,{title:"Sample APY (%)",children:(0,t.jsx)(qt.$c,{option:K,style:{minHeight:"500px",width:"100%"}})})})})]})})]})})},Ja=Xa,De=xe.O$,qa=[{label:"Polygon",key:"137"}],fe="USDC",tn=function(){var n,l="0x8013Dd64084e9c9122567563AA86981F4C20576B",i=(0,Xe.Z)(),d=i.userProvider,m=qe(l,Ge,d),p=m.personalVault,h=(0,a.groupBy)(p,"token"),D=ta()(h,Re,[]);console.log("calcArray=",D);var A=(0,a.reduce)(D,function(j,K){return j.add(K.netMarketMakingAmount),j},De.from(0)),S=(0,a.reduce)(D,function(j,K){return j.add(K.estimatedTotalAssets),j},De.from(0)),x=(0,a.reduce)(D,function(j,K){return j.add(K.currentBorrow),j},De.from(0)),b=(0,a.reduce)(D,function(j,K){return j.add(K.totalCollateralTokenAmount),j},De.from(0)),at=(0,a.reduce)(D,function(j,K){return j.add(K.depositTo3rdPoolTotalAssets),j},De.from(0));console.log("netMarketMakingAmountTotal=",A.toString()),console.log("estimatedTotalAssetsTotal=",S.toString()),console.log("currentBorrow=",x.toString()),console.log("totalCollateralTokenAmountTotal=",b.toString()),console.log("depositTo3rdPoolTotalAssetsTotal=",at.toString());var v=(0,te.r5)(function(){return(0,Ot.wn)()},[l]),yt=(0,te.r5)(function(){return(0,Ot.q4)()},[l]),rt=(0,te.r5)(function(){return(0,Ot.wu)()},[l]);console.log("verifiedApy=",v,yt,rt);var Q=!1,_=[{title:"Deposit",tip:"All Vault Net Deposit.",content:Dt()((0,P.FH)(A,Qt)).format("0.[0000]a"),loading:Q,unit:fe},{title:"Current Value",tip:"All Vault Current Value.",content:Dt()((0,P.FH)(S,Qt)).format("0.[0000]a"),loading:Q,unit:fe},{title:"Unrealized Profit",tip:"All Vault Unrealized Profit.",content:Dt()("123124").format("0.[0000]a"),loading:Q,unit:fe},{title:"Holders",tip:"Number Of USDi holders.",content:Dt()("5").format("0.[0000]a"),loading:Q,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:Dt()((0,P.FH)(x,Qt)).format("0.[0000]a"),loading:Q,unit:fe},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:Dt()((0,P.FH)(b,Qt)).format("0.[0000]a"),loading:Q,unit:fe},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:Dt()((0,P.FH)(at,Qt)).format("0.[0000]a"),loading:Q,unit:fe}],J={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]};return(0,t.jsx)(ht.Z,{children:(0,t.jsxs)(G.Z,{gutter:[0,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsxs)(s.Suspense,{fallback:null,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(ke.Z,{chains:qa})]})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsxs)(G.Z,{gutter:[24,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)($t,{data:_})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(H.Z,{title:"Uniswap APY (%)",loading:v.loading||yt.loading,children:v.error?(0,t.jsxs)("div",{children:["Error: ",v==null||(n=v.error)===null||n===void 0?void 0:n.message]}):(0,t.jsx)(qt.$c,{option:J,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(s.Suspense,{children:(0,t.jsx)(H.Z,{title:"Sample APY (%)",loading:rt.loading,children:rt.error?(0,t.jsxs)("div",{children:["Error: ",rt.error.message]}):(0,t.jsx)(qt.$c,{option:J,style:{minHeight:"500px",width:"100%"}})})})})]})})]})})},en=tn,an=e(7594),nn=e(52353),rn=e.n(nn);function sn(){var Z,n=(0,f.tT)("@@initialState"),l=n.initialState,i=(Z={},(0,o.Z)(Z,kt._.USDi,Va),(0,o.Z)(Z,kt._.ETHi,ka),(0,o.Z)(Z,kt._.ETHr,Ja),(0,o.Z)(Z,kt._.USDr,en),Z)[l.vault];return rn()(i)?(0,t.jsx)(an.default,{}):(0,t.jsx)(i,{})}},860:function(xt,z,e){"use strict";e.d(z,{E6:function(){return U},_8:function(){return y},mB:function(){return E},Mn:function(){return ht},oP:function(){return bt},t:function(){return I},ld:function(){return lt},fY:function(){return t},jv:function(){return Pt},Qc:function(){return It},_S:function(){return Tt},wn:function(){return Yt},q4:function(){return B},wu:function(){return zt}});var o=e(93224),s=e(11849),f=e(65367),Y=e(96486),G=e.n(Y),st=["chainId","vaultAddress"],U=function(c){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20;try{var it=(0,s.Z)({offset:N,limit:M},c);return(0,f.WY)("".concat("https://service-pr02-sg.bankofchain.io","/officialApy"),{params:it})}catch(tt){return{content:[]}}},y=function(c){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,it=c.chainId,tt=c.vaultAddress,Ct={sort:"gene_time desc",offset:N,limit:M};return(0,f.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(it,"/vaults/").concat(tt,"/allocation"),{params:Ct})},E=function(c,N){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,it=arguments.length>3&&arguments[3]!==void 0?arguments[3]:20,tt={offset:M,limit:it};return(0,f.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(c,"/vaults/").concat(N,"/strategy/detail/list"),{params:tt})},ht=function(c){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,it=c.chainId,tt=c.vaultAddress,Ct=(0,o.Z)(c,st);return(0,f.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(it,"/vaults/").concat(tt,"/verifiedApy"),{params:(0,s.Z)({offset:N,limit:M},Ct)})},bt=function(c,N,M,it,tt){if(!(0,Y.isNil)(M))return(0,f.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(c,"/vaults/").concat(N,"/allocation/").concat(M,"/").concat(it),{method:"patch",headers:tt})},I=function(c){var N=c.strategyName,M=c.vaultAddress,it=c.chainId,tt=c.limit,Ct=tt===void 0?10:tt,Ut=c.offset,$t=Ut===void 0?0:Ut,Kt=c.sort,Mt=Kt===void 0?"fetch_timestamp desc":Kt;return(0,f.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(it,"/vaults/").concat(M,"/strategy/assets"),{params:{strategyName:N,limit:Ct,offset:$t,sort:Mt}})},R=function(c,N,M){return request("".concat("https://service-pr02-sg.bankofchain.io","/apy/account_apy/accountAddress/").concat(c,"/date/").concat(N),{params:M})},ct=function(c,N){return request("".concat("https://service-pr02-sg.bankofchain.io","/profit/account/").concat(c),{params:N})},H=function(c,N){return request("".concat("https://service-pr02-sg.bankofchain.io","/token/balance/account/").concat(c),{params:_objectSpread({limit:365},N)})},Et=function(c,N){return request("".concat("https://service-pr02-sg.bankofchain.io","/month_profit/account/").concat(c),{params:N})},gt={},lt=function(c){var N=c.chainId,M=c.tokenType,it=c.duration,tt=c.offset,Ct=tt===void 0?0:tt,Ut=c.limit,$t=c.useCache,Kt=$t===void 0?!0:$t,Mt="".concat(N,"-").concat(it,"-").concat(M,"-").concat(Ct,"-").concat(Ut);return Kt&&gt[Mt]?Promise.resolve(gt[Mt]):(0,f.WY)("".concat("https://service-pr02-sg.bankofchain.io","/apy/vault_apy"),{params:{chainId:N,duration:it,offset:Ct,limit:Ut,tokenType:M}}).then(function(le){return gt[Mt]=le,le})},V={},t=function(c){var N=c.chainId,M=c.offset,it=M===void 0?0:M,tt=c.limit,Ct=c.tokenType,Ut=c.useCache,$t=Ut===void 0?!0:Ut,Kt="".concat(N,"-").concat(it,"-").concat(Ct,"-").concat(tt);return $t&&V[Kt]?Promise.resolve(V[Kt]):(0,f.WY)("".concat("https://service-pr02-sg.bankofchain.io","/token/totalSupply"),{params:{chainId:N,offset:it,limit:tt,tokenType:Ct}}).then(function(Mt){return V[Kt]=Mt,Mt})},Pt=function(){gt={},V={}},It=function(c,N,M){var it=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,tt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20,Ct={strategyAddress:M,offset:it,limit:tt},Ut="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(c,"/vaults/").concat(N,"/verifiedApy/daily");return(0,f.WY)(Ut,{params:Ct})},Tt=function(c,N,M){var it=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{limit:30},tt="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(c,"/vaults/").concat(N,"/data_collects/types/").concat(M);return(0,f.WY)(tt,{params:it})},Yt=function(c){return(0,f.WY)("".concat("https://service-pr02-sg.bankofchain.io","/verifiedApy/riskon"),{params:c})},B=function(c){return(0,f.WY)("".concat("https://service-pr02-sg.bankofchain.io","/officialApy/riskon"),{params:c})},zt=function(c){return(0,f.WY)("".concat("https://service-pr02-sg.bankofchain.io","/sampleApy/riskon"),{params:c})}},62904:function(xt,z,e){"use strict";e.d(z,{u:function(){return bt}});var o=e(39428),s=e(34792),f=e(55026),Y=e(3182),G=e(13311),st=e.n(G),U=e(41609),y=e.n(U),E=e(89850),ht=e(50999),bt=function(){var I=(0,Y.Z)((0,o.Z)().mark(function R(ct,H,Et){var gt,lt,V,t,Pt,It,Tt=arguments;return(0,o.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(gt=Tt.length>3&&Tt[3]!==void 0?Tt[3]:{},lt=gt.resolveWhenUnsupport,V=st()(E.ZP,{id:ct}),!y()(V)){B.next=5;break}return B.abrupt("return");case 5:if(H){B.next=7;break}return B.abrupt("return");case 7:if(t=[ht.m.MetaMask.info.symbol],t.includes(Et)){B.next=13;break}if(!lt){B.next=11;break}return B.abrupt("return");case 11:return f.default.warning("Switch networks in your wallet, then reconnect"),B.abrupt("return",Promise.reject());case 13:return Pt=[{chainId:"0x".concat(Number(V.id).toString(16)),chainName:V.name,nativeCurrency:V.nativeCurrency,rpcUrls:[V.rpcUrl],blockExplorerUrls:[V.blockExplorer]}],B.prev=14,B.next=17,H.send("wallet_switchEthereumChain",[{chainId:Pt[0].chainId}]);case 17:It=B.sent,B.next=33;break;case 20:if(B.prev=20,B.t0=B.catch(14),B.t0.code!==4001){B.next=24;break}return B.abrupt("return",Promise.reject());case 24:return B.prev=24,B.next=27,H.send("wallet_addEthereumChain",Pt);case 27:It=B.sent,B.next=33;break;case 30:return B.prev=30,B.t1=B.catch(24),B.abrupt("return",Promise.reject());case 33:It&&console.log(It);case 34:case"end":return B.stop()}},R,null,[[14,20],[24,30]])}));return function(ct,H,Et){return I.apply(this,arguments)}}()},9292:function(xt,z,e){"use strict";e.d(z,{FH:function(){return st},Wl:function(){return y},Ik:function(){return E},Ay:function(){return ht}});var o=e(905),s=e(96486),f=e.n(s),Y=e(41609),G=e.n(Y),st=function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!(0,s.isNil)(I)){if((0,s.isNull)(R))return I.toString();var ct=(0,o.Z)(R.toString());if(G()(I)||ct.isZero())return 0;var H=(0,o.Z)(I.toString()).div(ct);if(H.isInteger())return H.toFixed();for(var Et=arguments.length,gt=new Array(Et>2?Et-2:0),lt=2;lt<Et;lt++)gt[lt-2]=arguments[lt];return H.toFixed.apply(H,gt)}},U=2,y=function(I,R){var ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U,H=(0,o.Z)(I.toString()),Et=(0,o.Z)(10).pow(R),gt=R>6&&!H.eq(0)&&H.abs().lt((0,o.Z)(10).pow(R-ct+1)),lt;return gt?(lt=st(H,Et,R-H.abs().toString().length+1),lt):(lt=st(H,Et,ct),parseFloat(lt))},E=function(I){var R=parseFloat(I);return isNaN(R)?I:R<=1e3?R:"1000+"},ht=function(I){var R=parseFloat(I);return isNaN(R)?I:R<=1e3?R:1e3}}}]);
