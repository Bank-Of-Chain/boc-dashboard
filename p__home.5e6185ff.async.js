(self.webpackChunkboc_dashboard=self.webpackChunkboc_dashboard||[]).push([[364,571],{6371:function(vt){vt.exports={container:"container___3FHkQ"}},69255:function(vt){vt.exports={chartCard:"chartCard___1WAYR",title:"title___1qSNX",chartTop:"chartTop___fyf1y",chartTopMargin:"chartTopMargin___35U93",chartTopHasMargin:"chartTopHasMargin___3PZ2W",metaWrap:"metaWrap___1o2cx",avatar:"avatar___3W_MV",meta:"meta___BxwkJ",action:"action___2rX_t",total:"total___13buZ",unit:"unit___3h93V",content:"content___1u1VV",contentFixed:"contentFixed___8g0La",footer:"footer___1DC6W",card:"card___3ClYk"}},18973:function(vt){vt.exports={main:"main___E0u3n",text:"text___1bwgD"}},3691:function(vt){vt.exports={container:"container___1YjeH"}},90958:function(vt){vt.exports={salesCard:"salesCard___29v2i",salesBar:"salesBar___yX0jY",salesRank:"salesRank___3emXv",salesCardExtra:"salesCardExtra___1zn45",vaultKeyCard:"vaultKeyCard___3fhgC",tabMobile:"tabMobile___OIzik",chartDiv:"chartDiv___35wVQ",chartDivMobile:"chartDivMobile___3S_E5",tableCell:"tableCell___28uXK",text:"text___2ww9t",trendText:"trendText___22_c0",chartWrapper:"chartWrapper___3eEAM",buttons:"buttons___1vScW",field:"field___1vkrW",label:"label___3KSeF",number:"number___3Vb_1",history:"history___1YR66"}},91907:function(vt,z,e){"use strict";var o=e(30887),s=e(28682),x=e(67294),K=e(65367),q=e(89850),it=e(53651),M=e(35161),g=e.n(M),D=e(63105),ft=e.n(D),Mt=e(62904),j=e(43077),V=e(6371),st=e.n(V),_=e(85893),Dt=g()(ft()(q.ZP,function(rt){return!(it.ux&&rt.id==="137")}),function(rt){return{label:rt.name,value:rt.id}}),ht=function(W){var t=W.chains,It=t===void 0?Dt:t,Bt=W.shouldChangeChain;if(It.length<=1)return null;var gt=(0,K.tT)("@@initialState"),zt=gt.initialState,L=(0,j.Z)(),Qt=L.userProvider,a=L.getWalletName,y=function(nt){var tt=nt.key,Pt=K.m8.location.query.vault,jt=Promise.resolve();Bt&&(jt=(0,Mt.u)(tt,Qt,a(),{resolveWhenUnsupport:!0})),jt.then(function(){K.m8.push({query:{chain:tt,vault:Pt}}),setTimeout(function(){location.reload()},100)})},H={borderBottom:"none",justifyContent:"center",backgroundColor:"transparent"};return(0,_.jsx)("div",{className:st().container,children:(0,_.jsx)(s.Z,{mode:"horizontal",style:H,items:It,selectedKeys:[zt.chain],onClick:y})})};z.Z=ht},69157:function(vt,z,e){"use strict";var o=e(12968),s=e(62462),x=e(67294),K=e(47037),q=e.n(K),it=e(96486),M=e.n(it),g=e(35161),D=e.n(g),ft=e(85893),Mt="".concat("https://v2.bankofchain.io","/default.png"),j=function(st){var _=st.array,Dt=_===void 0?[]:_,ht=st.size,rt=ht===void 0?24:ht,W=function(It,Bt){return(0,ft.jsx)(s.Z,{title:It,preview:!1,width:rt,style:{borderRadius:"50%"},wrapperStyle:{marginLeft:Bt===0?0:-10,zIndex:Dt.length-Bt},src:"".concat("https://v2.bankofchain.io","/images/").concat(It,".png"),fallback:Mt},"".concat(It+Bt))};return q()(Dt)?W(Dt,0):(0,it.isArray)(Dt)?(0,ft.jsx)("div",{children:D()(Dt,function(t,It){return W(t,It)})}):(0,ft.jsx)("span",{})};z.Z=j},93083:function(vt,z,e){"use strict";e.d(z,{hU:function(){return ft},me:function(){return D}});var o=e(45697),s=e.n(o),x=e(1852),K=e.n(x),q=function(j){var V=j.children,st=(0,x.useMediaQuery)({minWidth:992});return st?V:null};q.propTypes={children:s().element};var it=function(j){var V=j.children,st=(0,x.useMediaQuery)({minWidth:768,maxWidth:991});return st?V:null};it.propTypes={children:s().element};var M=function(j){var V=j.children,st=(0,x.useMediaQuery)({maxWidth:767});return st?V:null};M.propTypes={children:s().element};var g=function(j){var V=j.children,st=(0,x.useMediaQuery)({minWidth:768});return st?V:null};g.propTypes={children:s().element};var D={Desktop:"Desktop",Tablet:"Tablet",Mobile:"Mobile"},ft=function(){var j=(0,x.useMediaQuery)({minWidth:992}),V=(0,x.useMediaQuery)({minWidth:768,maxWidth:991});return j?D.Desktop:V?D.Tablet:D.Mobile}},98821:function(vt,z,e){"use strict";e.d(z,{$c:function(){return M}});var o=e(20228),s=e(11382),x=e(67294),K=e(40684),q=e(85893),it=(0,q.jsx)(s.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:20,fontSize:14},tip:"Loading...."}),M=(0,K.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(462),e.e(272)]).then(e.bind(e,56272))},{fallback:it}),g=(0,K.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(693),e.e(42)]).then(e.bind(e,59042))},{fallback:it}),D=(0,K.ZP)(function(){return Promise.all([e.e(80),e.e(274),e.e(417)]).then(e.bind(e,48417))},{fallback:it})},42411:function(vt,z,e){"use strict";e.d(z,{Z:function(){return Bt}});var o=e(11849),s=e(30381),x=e.n(s),K=e(41609),q=e.n(K),it=e(76492),M="52px";function g(gt){var zt=!q()(gt.seriesData)&&gt.dataZoom,L={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:zt?M:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{type:"category",data:gt.xAxisData},yAxis:{type:"value"},dataZoom:zt?gt.dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:gt.seriesName?gt.seriesName:"",data:gt.seriesData,type:"line",lineStyle:{color:gt.color?gt.color:{type:"linear",colorStops:[{offset:0,color:"rgb(204, 186, 250)"},{offset:.5,color:"rgb(144, 123, 247)"},{offset:.6,color:"rgb(95, 128, 249)"},{offset:.95,color:"rgb(80, 132, 250)"},{offset:1,color:"rgb(166, 192, 252)"}]},width:3},smooth:gt.smooth,step:gt.step}]};return(0,o.Z)((0,o.Z)({},(0,it.s)(gt.seriesData.length>0)),L)}var D=e(84486),ft=e.n(D),Mt=e(7654),j=e.n(Mt),V=e(52353),st=e.n(V),_=e(14293),Dt=e.n(_),ht=e(63105),rt=e.n(ht),W=e(84238),t=e.n(W),It=function(zt,L,Qt){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=a.format,H=y===void 0?"MM-DD HH:mm":y,P=a.xAxis,nt=a.yAxis,tt=a.smooth,Pt=tt===void 0?!1:tt,jt=a.step,wt=a.dataZoom,$t=a.needMinMax,St=$t===void 0?!0:$t,ce=a.yAxisMin,pe=ce===void 0?function(Lt){return parseInt(Lt.min*.9999*Math.pow(10,4))/Math.pow(10,4)}:ce,Ze=a.yAxisMax,Se=Ze===void 0?function(Lt){return parseInt(Lt.max*1.0001*Math.pow(10,4))/Math.pow(10,4)}:Ze,qt=a.tootlTipSuffix,$=qt===void 0?"(UTC)":qt,Te=a.tootlTipFormat,xe=Te===void 0?"YYYY-MM-DD HH:mm":Te,Ae=[],Ce=[],le={};zt.forEach(function(Lt){var F=x()(Lt.date).add(1,"days").format(xe);$&&(F="".concat(F," ").concat($)),le[F]=x()(Lt.date).add(1,"days").format(H),Ae.push(F),Ce.push(Lt[L])});var Ft=g({xAxisData:Ae,seriesName:Qt,seriesData:Ce,smooth:Pt,dataZoom:wt});if(Ft.yAxis=(0,o.Z)((0,o.Z)({},Ft.yAxis),nt),Ft.xAxis=(0,o.Z)((0,o.Z)({axisLabel:{formatter:function(F){return le[F]}}},Ft.xAxis),P),Ft.yAxis.splitLine={lineStyle:{color:"#454459"}},St&&(Ft.yAxis.min=pe,Ft.yAxis.max=Se),Ft.series[0].connectNulls=!0,Ft.series[0].showSymbol=t()(rt()(Ce,function(Lt){return!Dt()(Lt)}))===1,Ft.series[0].lineStyle={width:5,cap:"round"},jt){var ve=Ft.series[0].data;ft()(ve,function(Lt,F){(st()(Lt)||j()(Lt))&&F!==0&&(ve[F]=ve[F-1])})}return Ft},Bt=It},10501:function(vt,z,e){"use strict";e.d(z,{Z:function(){return x}});var o=e(11849),s=e(76492);function x(K){var q=[],it=0,M=[];M=K.data,M.length>0&&M.forEach(function(D){var ft=(0,o.Z)({name:D.seriesName?D.seriesName:"",data:D.seriesData,type:"line",showSymbol:D.showSymbol,lineStyle:{width:5,cap:"round"}},D);it+=D.seriesData.length,q.push(ft)});var g={animation:!1,textStyle:{color:"#fff"},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"},confine:!0},legend:K.legend,xAxis:{type:"category",data:K.xAxisData},yAxis:{type:"value"},series:q};return K.tooltipFormatter&&(g.tooltip.formatter=K.tooltipFormatter),(0,o.Z)((0,o.Z)({},(0,s.s)(it>0)),g)}},76492:function(vt,z,e){"use strict";e.d(z,{s:function(){return o}});function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return s?{}:{graphic:{type:"text",left:"center",top:"middle",silent:!0,invisible:!1,style:{fill:"#9d9d9d",fontWeight:"bold",text:"No Data",fontSize:"25px"}}}}},22844:function(vt,z,e){"use strict";e.d(z,{O2:function(){return s},DO:function(){return x},Nd:function(){return K},A7:function(){return q}});var o=e(905),s={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},x=18,K=(0,o.Z)(1e18),q=4},53651:function(vt,z,e){"use strict";e.d(z,{Gj:function(){return o},KR:function(){return s},ux:function(){return x}});var o={daily:"daily",monthly:"monthly",weekly:"weekly",yearly:"yearly"},s={usdi:"USDi",ethi:"ETHi"},x=!1},55414:function(vt,z,e){"use strict";e.d(z,{o1:function(){return K},tX:function(){return q}});var o=["Balancer","UniswapV2","Dodo","Sushi_Kashi","Sushi_Swap","Convex","Rari","UniswapV3","YearnEarn","YearnV2","YearnIron","GUni","Stargate","DForce","Synapse","Aura","Aave"],s=["Curve","Aave","Balancer","Gravity","Polycat","Qi","Quickswap","Sushi","Synapse","Dodo","Stargate","UniswapV3"],x=["Balancer","UniswapV2","Convex","Aura","UniswapV3","StakeWise","YearnV2","Aave"],K={1:o,137:s},q={1:x}},7594:function(vt,z,e){"use strict";e.r(z);var o=e(57106),s=e(99683),x=e(57663),K=e(71577),q=e(67294),it=e(65367),M=e(85893),g=function(){return(0,M.jsx)(s.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:(0,M.jsx)(K.Z,{type:"primary",onClick:function(){return it.m8.push("/")},children:"Back Home"})})};z.default=g},38465:function(vt,z,e){"use strict";e.r(z),e.d(z,{default:function(){return mn}});var o=e(32059),s=e(67294),x=e(65367),K=e(13062),q=e(36725),it=e(89032),M=e(1635),g=e(11849),D=e(2824),ft=e(21349),Mt=e(22385),j=e(45777),V=e(93224),st=e(58024),_=e(91894),Dt=e(94184),ht=e.n(Dt),rt=e(69255),W=e.n(rt),t=e(85893),It=["loading"],Bt=["contentHeight","title","avatar","action","total","footer","children"],gt=function(n,l){if(!n&&n!==0)return null;var r;switch(typeof n){case"undefined":r=null;break;case"function":r=(0,t.jsxs)("div",{className:W().total,children:[(0,t.jsx)("span",{children:n()}),l&&(0,t.jsx)("span",{className:W().unit,children:l})]});break;default:r=(0,t.jsxs)("div",{className:W().total,children:[(0,t.jsx)("span",{children:n}),l&&(0,t.jsx)("span",{className:W().unit,children:l})]})}return r},zt=function(n){var l=n.loading,r=l===void 0?!1:l,d=(0,V.Z)(n,It),f=d.contentHeight,A=d.title,m=d.avatar,U=d.action,c=d.total,p=d.footer,h=d.children,E=(0,V.Z)(d,Bt),G=function(){return r?!1:(0,t.jsxs)("div",{className:W().chartCard,children:[(0,t.jsxs)("div",{className:ht()(W().chartTop),children:[(0,t.jsx)("div",{className:W().avatar,children:m}),(0,t.jsxs)("div",{className:W().metaWrap,children:[(0,t.jsxs)("div",{className:W().meta,children:[(0,t.jsx)("span",{className:W().title,children:A}),(0,t.jsx)("span",{className:W().action,children:U})]}),gt(c,n.unit)]})]}),h&&(0,t.jsx)("div",{className:W().content,style:{height:f||"auto"},children:(0,t.jsx)("div",{className:f&&W().contentFixed,children:h})}),p&&(0,t.jsx)("div",{className:ht()(W().footer,(0,o.Z)({},W().footerMargin,!h)),children:p})]})};return(0,t.jsx)(_.Z,(0,g.Z)((0,g.Z)({loading:r,className:W().card},E),{},{children:G()}))},L=zt,Qt=e(68628),a=e(96486),y=e(25091),H=e(90958),P=e.n(H),nt=["label","value"],tt={xs:24,sm:24,md:24,lg:8,xl:8},Pt=function(n){var l=n.label,r=n.value,d=(0,V.Z)(n,nt);return(0,t.jsxs)("div",(0,g.Z)((0,g.Z)({className:P().field},d),{},{children:[(0,t.jsx)("span",{className:P().label,children:l}),(0,t.jsx)("span",{className:P().number,children:r})]}))},jt=function(n){var l=n.data,r=l===void 0?[]:l;return(0,t.jsx)(q.Z,{gutter:[24,24],children:(0,a.map)(r,function(d){var f=d.title,A=d.tip,m=d.loading,U=d.content,c=d.unit,p=d.subTitle,h=(0,t.jsx)(Pt,{style:{height:"1.5rem"},value:p});return!p&&(0,y.tq)()&&(h=null),(0,t.jsx)(M.Z,(0,g.Z)((0,g.Z)({},tt),{},{children:(0,t.jsx)(L,{bordered:!1,title:f,action:(0,t.jsx)(j.Z,{title:A,children:(0,t.jsx)(Qt.Z,{style:{fontSize:22}})}),loading:m,total:U,unit:c,footer:h})}),f)})})},wt=jt,$t=e(88983),St=e(82530),ce=e(43358),pe=e(76647),Ze=e(18106),Se=e(47428),qt=e(98821),$=e(93083),Te=Se.Z.TabPane,xe=pe.Z.Option;function Ae(I){var n,l=I.isUsdi,r=I.loading,d=r===void 0?!1:r,f=I.calDateRange,A=f===void 0?7:f,m=I.onCalDateRangeClick,U=m===void 0?function(){}:m,c=I.apyEchartOpt,p=c===void 0?{}:c,h=I.tvlEchartOpt,E=h===void 0?{}:h,G=(0,$.hU)(),S=(n={},(0,o.Z)(n,$.me.Desktop,{chartWrapperClassName:P().chartDiv}),(0,o.Z)(n,$.me.Tablet,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:P().chartDivMobile}),(0,o.Z)(n,$.me.Mobile,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:P().chartDivMobile,tabClassName:P().tabMobile}),n)[G],Tt=function(N){typeof N=="number"?U(N):U(N.target.value)},mt=(0,t.jsx)("div",{className:P().buttons,children:(0,t.jsxs)(St.ZP.Group,{value:A,onChange:Tt,buttonStyle:"solid",children:[(0,t.jsx)(j.Z,{title:"last 7 days",children:(0,t.jsx)(St.ZP.Button,{value:7,children:"WEEK"})}),(0,t.jsx)(j.Z,{title:"last 30 days",children:(0,t.jsx)(St.ZP.Button,{value:31,children:"MONTH"})}),(0,t.jsx)(j.Z,{title:"last 365 days",children:(0,t.jsx)(St.ZP.Button,{value:365,children:"YEAR"})})]})});return G===$.me.Mobile&&(mt=(0,t.jsxs)(pe.Z,{style:{width:120},value:A,onChange:Tt,children:[(0,t.jsx)(xe,{value:7,children:"WEEK"}),(0,t.jsx)(xe,{value:31,children:"MONTH"}),(0,t.jsx)(xe,{value:365,children:"YEAR"})]})),(0,t.jsx)(_.Z,(0,g.Z)((0,g.Z)({loading:d,bordered:!1},S.cardProps),{},{children:(0,t.jsx)("div",{className:P().vaultKeyCard,children:(0,t.jsxs)(Se.Z,{animated:!0,className:ht()(S.tabClassName),tabBarExtraContent:mt,children:[(0,t.jsx)(Te,{tab:"APY (%)",children:(0,t.jsx)("div",{className:S.chartWrapperClassName,children:(0,t.jsx)(qt.$c,{option:p,style:{height:"100%",width:"100%"}})})},"apy"),(0,t.jsx)(Te,{tab:"Total Supply",children:(0,t.jsx)("div",{className:S.chartWrapperClassName,children:(0,t.jsx)(qt.$c,{option:E,style:{height:"100%",width:"100%"}})})},"totalSupply")]})})}))}var Ce=e(96222),le=e(22533),Ft=e(12968),ve=e(62462),Lt=e(86582),F=e(905),Z=e(9292),na=function(n){var l,r=n.tokenDecimals,d=n.displayDecimals,f=n.strategyMap,A=n.visitData,m=A===void 0?{}:A,U=n.unit,c=(0,x.tT)("@@initialState"),p=c.initialState,h=(0,$.hU)();if(!p.chain)return null;var E=m.strategies,G=E===void 0?[]:E,S=m.totalValueInVault,Tt=S===void 0?"0":S,mt=(0,a.reduce)(G,function(v,u){return v.plus(u.totalValue)},(0,F.Z)(0)),lt=(0,F.Z)(Tt).plus(mt),N=(0,a.groupBy)((0,a.filter)(G,function(v){return v.totalValue>0}),"protocol"),et=[].concat((0,Lt.Z)((0,a.values)((0,a.mapValues)(N,function(v,u){var i=(0,a.reduce)(v,function(R,C){return R.plus(C.totalValue)},(0,F.Z)(0));return{name:f[p.chain][u],amount:i,percent:i.div(lt)}}))),[{name:"Vault",amount:(0,F.Z)(Tt),percent:lt.eq(0)?"0":(0,F.Z)(Tt).div(lt)}]),at=[{title:"Protocol Name",dataIndex:"name",key:"name",render:function(u){return(0,t.jsxs)("div",{className:P().tableCell,children:[(0,t.jsx)(ve.Z,{width:30,preview:!1,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(u,".png"),placeholder:u,alt:u,style:{borderRadius:"50%"},fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("span",{className:P().text,children:u})]})}},{title:"Asset (".concat(U,")"),dataIndex:"amount",key:"amount",showSorterTooltip:!1,sorter:function(u,i){return u.amount.minus(i.amount)},render:function(u){return(0,Z.FH)(u.toString(),r,d)}},{title:"Asset Ratio",dataIndex:"percent",key:"percent",defaultSortOrder:"descend",showSorterTooltip:!1,sorter:function(u,i){return u.percent.minus(i.percent)},render:function(u){return(0,t.jsxs)("span",{children:[(0,Z.FH)(u,.01,2),"%"]})}}],ot=(l={},(0,o.Z)(l,$.me.Desktop,{}),(0,o.Z)(l,$.me.Tablet,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),(0,o.Z)(l,$.me.Mobile,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),l)[h];return(0,t.jsx)("div",{children:(0,t.jsx)(le.Z,(0,g.Z)({rowKey:function(u){return u.name},columns:at,dataSource:et,pagination:!1},ot.tableProps))})},ia=na,yn=e(13254),ra=e(14277),sa=e(88377),la=e(92077),Ct=e.n(la),oa=function(n){var l,r=n.strategyMap,d=n.tokenDecimals,f=n.displayDecimals,A=n.visitData,m=A===void 0?{}:A,U=n.unit,c=m.strategies,p=c===void 0?[]:c,h=m.totalValueInVault,E=h===void 0?"0":h,G=(0,x.tT)("@@initialState"),S=G.initialState,Tt=(0,$.hU)(),mt=" (".concat(U,")");if(!S.chain)return null;var lt=(0,a.reduce)(p,function(u,i){return u.plus(i.totalValue)},(0,F.Z)(0)),N=(0,F.Z)(E).plus(lt),et=(0,a.groupBy)((0,a.filter)(p,function(u){return u.totalValue>0}),"protocol"),at=(0,Z.FH)(N,d,f);if((0,a.isEmpty)(et)&&at<=0||isNaN(at))return(0,t.jsx)(ra.Z,{style:{marginTop:"4rem"}});var ot=[].concat((0,Lt.Z)((0,a.values)((0,a.mapValues)(et,function(u,i){var R=(0,a.reduce)(u,function(C,O){return C.plus(O.totalValue)},(0,F.Z)(0));return{Protocol:"".concat(r[S.chain][i]).concat(mt),amount:(0,Z.FH)(R,d,f)}}))),[{Protocol:"Vault".concat(mt),amount:(0,Z.FH)(E,d,f)}]),v=(l={},(0,o.Z)(l,$.me.Desktop,{legendProps:{position:"bottom-center"}}),(0,o.Z)(l,$.me.Tablet,{legendProps:{position:"bottom-center"}}),(0,o.Z)(l,$.me.Mobile,{legendProps:{position:"bottom-center"}}),l)[Tt];return(0,t.jsx)("div",{className:P().chartWrapper,children:(0,t.jsx)(sa.yi,{forceFit:!0,padding:"auto",angleField:"amount",color:["#A68EFE","#2ec7c9","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4"],colorField:"Protocol",data:ot,legend:(0,g.Z)({visible:!0,text:{style:{fill:"#fff"},formatter:function(i){return i.replace(mt,"")}}},v.legendProps),label:{visible:!1,type:"spider",offset:20,formatter:function(i,R){return"".concat(R._origin.Protocol,": ").concat(R._origin.amount)}},interactions:[{type:"element-selected"},{type:"element-active"}],statistic:{visible:!0,content:{value:Ct()((0,Z.FH)(N,d,f)).format("0.[0000]a"),name:"TVL".concat(mt)}}})})},ua=oa,Ut=e(1123);function Ne(I){var n,l=I.loading,r=l===void 0?!1:l,d=I.tokenDecimals,f=I.strategyMap,A=f===void 0?{}:f,m=I.vaultData,U=m===void 0?{}:m,c=I.unit,p=c===void 0?"USD":c,h=I.displayDecimals,E=h===void 0?Ut.h:h,G=(0,$.hU)(),S=(n={},(0,o.Z)(n,$.me.Desktop,{}),(0,o.Z)(n,$.me.Tablet,{cardProps:{size:"small"}}),(0,o.Z)(n,$.me.Mobile,{cardProps:{size:"small"}}),n)[G];return(0,t.jsx)(_.Z,(0,g.Z)((0,g.Z)({loading:r,className:P().salesCard,bordered:!1,title:"Vault Protocol Allocations"},S.cardProps),{},{children:(0,t.jsxs)(q.Z,{children:[(0,t.jsx)(M.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(ua,{loading:r,strategyMap:A,tokenDecimals:d,displayDecimals:E,visitData:U||{},unit:p})})}),(0,t.jsx)(M.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(ia,{loading:r,strategyMap:A,tokenDecimals:d,displayDecimals:E,visitData:U||{},unit:p})})})]})}))}var fn=e(77576),da=e(12028),hn=e(54029),ca=e(79166),pa=e(69157),va=e(26985),Rt=e(860),ma=function(n){var l,r=n.loading,d=n.strategyMap,f=n.displayDecimals,A=f===void 0?Ut.h:f,m=n.unit,U=m===void 0?"USD":m,c=(0,s.useState)(!0),p=(0,D.Z)(c,2),h=p[0],E=p[1],G=(0,x.tT)("@@initialState"),S=G.initialState,Tt=(0,$.hU)(),mt=(0,x.QT)(function(){return(0,Rt.mB)(S.chain,S.vaultAddress,0,100)},{formatResult:function(i){return(0,a.sortBy)(i.content,["strategyName"])}}),lt=mt.data;if(!S.chain)return null;var N=(0,F.Z)(1e18),et=[{title:(0,t.jsxs)("div",{children:["Name\xA0\xA0",(0,t.jsx)(j.Z,{placement:"topLeft",arrowPointAtCenter:!0,overlayStyle:{width:300},title:"By clicking on the strategy name you will be directed to the strategy page with all the related information viewable, e.g., strategy profits and official APY.",children:(0,t.jsx)(Qt.Z,{})})]}),dataIndex:"strategyName",key:"strategyName",width:320,render:function(i,R){return(0,t.jsxs)("div",{className:P().tableCell,children:[(0,t.jsx)(ve.Z,{preview:!1,width:30,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(d[S.chain][R.protocol],".png"),placeholder:R.protocol,style:{borderRadius:"50%"},alt:d[S.chain][R.protocol],fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat((0,va.i)()?"https://dashboard.bankofchain.io":"https://dashboard-v2.bankofchain.io","/#/strategy?id=").concat(R.strategyAddress,"&chain=").concat(S.chain,"&vault=").concat(S.vault),className:P().text,children:i})]})}},{title:"Tokens",dataIndex:"underlyingTokens",key:"underlyingTokens",width:130,render:function(i){return!(0,a.isEmpty)(i)&&(0,t.jsx)(pa.Z,{array:i.split(",")})}},{title:"Asset (".concat(U,")"),dataIndex:"totalAssetBaseCurrent",key:"totalAssetBaseCurrent",showSorterTooltip:!1,defaultSortOrder:"descend",sorter:function(i,R){return(0,F.Z)(i.totalAssetBaseCurrent||"0").minus((0,F.Z)(R.totalAssetBaseCurrent||"0"))},render:function(i){return(0,t.jsx)("span",{children:(0,Z.FH)(i||"0",N,A)})}},{title:"Weekly Official APY",dataIndex:"officialWeeklyApy",key:"officialWeeklyApy",showSorterTooltip:!1,sorter:function(i,R){return i.officialWeeklyApy-R.officialWeeklyApy},render:function(i){return(0,t.jsxs)("span",{children:[(0,Z.Ik)((100*i).toFixed(2)),"%"]})}},{title:"Weekly Realized APY",dataIndex:"realizedApy",key:"realizedApy",showSorterTooltip:!1,sorter:function(i,R){var C=i.realizedApy||{value:"0"},O=C.value,Y=R.realizedApy||{value:"0"},b=Y.value;return O-b},render:function(i){if((0,a.isEmpty)(i))return(0,t.jsx)("span",{children:"0.00%"});var R=i.value,C=i.detail,O=(0,t.jsxs)("span",{children:[(0,Z.Ik)((100*R).toFixed(2)),"%"]});if((0,a.isEmpty)(C))return O;var Y=(0,t.jsx)("div",{children:(0,a.map)(C,function(b,B){return(0,t.jsxs)("span",{style:{display:"block"},children:[b.feeName,": ",(0,Z.Ik)((100*b.feeApy).toFixed(2)),"%"]},B)})});return(0,t.jsxs)("span",{children:[O,"\xA0",(0,t.jsx)(j.Z,{title:Y,children:(0,t.jsx)(Qt.Z,{})})]})}},{title:"Weekly Unrealized APY",dataIndex:"unrealizedApy",key:"unrealizedApy",showSorterTooltip:!1,sorter:function(i,R){var C=i.unrealizedApy||{value:"0"},O=C.value,Y=R.unrealizedApy||{value:"0"},b=Y.value;return O-b},render:function(i){if((0,a.isEmpty)(i))return(0,t.jsx)("span",{children:"0.00%"});var R=i.value,C=i.detail,O=(0,t.jsxs)("span",{children:[(0,Z.Ik)((100*R).toFixed(2)),"%"]});if((0,a.isEmpty)(C))return O;var Y=(0,t.jsx)("div",{children:(0,a.map)(C,function(b,B){return(0,t.jsxs)("span",{style:{display:"block"},children:[b.feeName,": ",(0,Z.Ik)((100*b.feeApy).toFixed(2)),"%"]},B)})});return(0,t.jsxs)("span",{children:[O,"\xA0",(0,t.jsx)(j.Z,{title:Y,children:(0,t.jsx)(Qt.Z,{})})]})}},{title:"Weekly Realized Profit",dataIndex:"weekProfit",key:"weekProfit",render:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1?arguments[1]:void 0,C=R.estimateProfit,O=R.tokenUnit,Y=O===void 0?"":O,b=(0,a.isNil)(C),B=(0,t.jsx)(ca.Z,{dot:!b,color:"gold",children:(0,t.jsxs)("span",{children:[(0,Z.FH)(i||"0",N,A)," ",Y||""]})});if(b)return B;var xt=(0,t.jsxs)("span",{children:["Estimate Profit: ",(0,Z.FH)(C,N,A)," ",Y||""]});return(0,t.jsx)(j.Z,{title:xt,children:B})}},{title:"Strategy Address",dataIndex:"strategyAddress",key:"strategyAddress",align:"center",render:function(i,R){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[S.chain],"/address/").concat(R.strategyAddress),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}],at=h?lt:(0,a.filter)(lt,function(u){return(0,F.Z)(u.totalAsset).gt(0)}),ot=(l={},(0,o.Z)(l,$.me.Desktop,{}),(0,o.Z)(l,$.me.Tablet,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}}),(0,o.Z)(l,$.me.Mobile,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"mobile-font-size",scroll:{x:900}}}),l)[Tt],v="Vault Strategies Allocations";return Tt===$.me.Mobile&&(v="Strategies Allocations"),(0,t.jsx)("div",{children:(0,t.jsx)(_.Z,(0,g.Z)((0,g.Z)({loading:r,bordered:!1,title:v,extra:(0,t.jsxs)("div",{children:[(0,t.jsx)(da.Z,{checked:h,onChange:function(){return E(!h)}}),(0,t.jsx)(j.Z,{title:"show all strategies added in vault",children:(0,t.jsx)("span",{style:{padding:10},children:"Show All"})})]})},ot.cardProps),{},{children:(0,t.jsx)(le.Z,(0,g.Z)({rowKey:function(i){return i.strategyAddress},columns:et,dataSource:at,pagination:(at==null?void 0:at.length)>10&&{style:{marginBottom:0},pageSize:10}},ot.tableProps))}))})},_e=ma,ya=e(30381),ie=e.n(ya),fa=e(35161),oe=e.n(fa),ha=e(39693),ga=e.n(ha),Wt=e(39428),ue=e(3182),Ie=e(25630),je=e(94991),te=e(89850),be,He={SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethereum","137":""},VAULT_ADDRESS:{"1":"0x30D120f80D60E7b58CA9fFaf1aaB1815f000B7c3","137":""},USDI_ADDRESS:{"1":"0x83131242843257bc6C43771762ba467346Efb2CF","137":""},VAULT_BUFFER_ADDRESS:{"1":"0x0b8D3634a05cc6b50E4D026c0eaFa8469cA98480","137":""}}.SUB_GRAPH_URL,Ta=(be={},(0,o.Z)(be,te.W3.id,new Ie.f({uri:He[te.W3.id],cache:new je.h})),(0,o.Z)(be,te.hB.id,new Ie.f({uri:He[te.hB.id],cache:new je.h})),be),xa=(0,o.Z)({},te.hB.id,new Ie.f({uri:{SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethi"},VAULT_ADDRESS:{"1":"0x8f0Cb368C63fbEDF7a90E43fE50F7eb8B9411746"},ETHI_ADDRESS:{"1":"0x1A597356E7064D4401110FAa2242bD0B51D1E4Fa"},VAULT_BUFFER_ADDRESS:{"1":"0xC8915157b36ed6D0F36827a1Bb5E9b0cDd1e87Cd"}}.SUB_GRAPH_URL[te.hB.id],cache:new je.h})),we=function(n,l){var r,d=(r={},(0,o.Z)(r,Ut._.USDi,Ta),(0,o.Z)(r,Ut._.ETHi,xa),r)[n];return d[l]},Fe=e(87899),Aa=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalValueInVault
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      totalValue
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Ea=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      debtRecordInVault
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Da=function(){var I=(0,ue.Z)((0,Wt.Z)().mark(function n(l,r){var d,f,A,m,U,c,p,h,E=arguments;return(0,Wt.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(f=E.length>2&&E[2]!==void 0?E[2]:"",A=E.length>3&&E[3]!==void 0?E[3]:"",m=E.length>4&&E[4]!==void 0?E[4]:"",U=we(l,r),!(0,a.isEmpty)(U)){S.next=6;break}return S.abrupt("return");case 6:return c=(d={},(0,o.Z)(d,Ut._.USDi,Aa),(0,o.Z)(d,Ut._.ETHi,Ea),d)[l],S.next=9,U.query({query:(0,Fe.Ps)(c),variables:{tokenAddress:f.toLowerCase(),valutAddress:A.toLowerCase(),vaultBufferAddress:m.toLowerCase()}});case 9:return p=S.sent,h=p.data,S.abrupt("return",h);case 12:case"end":return S.stop()}},n)}));return function(l,r){return I.apply(this,arguments)}}(),$e=function(){return`
query($types: [PegTokenUpdateType], $first: Int) {
  pegTokenUpdates(
    orderBy: timestamp,
    orderDirection: desc,
    first: $first,
    where: {
      type_in: $types
    },
  ) {
    id
    type
    transferredAmount
    totalSupplyChangeAmount
    timestamp
    fromAccountUpdate {
      account {
        id
      }
    }
    transaction {
      id
    }
		toAccountUpdate {
      account {
        id
      }
    }
  }
}
`},Sa=function(){var I=(0,ue.Z)((0,Wt.Z)().mark(function n(l,r,d){var f,A,m,U,c=arguments;return(0,Wt.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(A=c.length>3&&c[3]!==void 0?c[3]:100,m=we(l,r),!(0,a.isEmpty)(m)){h.next=4;break}return h.abrupt("return");case 4:return U=(f={},(0,o.Z)(f,Ut._.USDi,$e()),(0,o.Z)(f,Ut._.ETHi,$e()),f)[l],h.next=7,m.query({query:(0,Fe.Ps)(U),variables:{types:d,first:A}}).then(function(E){var G;return E==null||(G=E.data)===null||G===void 0?void 0:G.pegTokenUpdates});case 7:return h.abrupt("return",h.sent);case 8:case"end":return h.stop()}},n)}));return function(l,r,d){return I.apply(this,arguments)}}(),Ke=e(61303),Oe={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},Ca=18,Be=(0,F.Z)(1e18),ba=pe.Z.Option,Ma=function(n){var l,r,d=n.loading,f=n.dispalyDecimal,A=f===void 0?Ut.h:f,m=n.decimals,U=m===void 0?Ca:m,c=n.token,p=c===void 0?"USDi":c,h=n.filterOptions,E=h===void 0?Oe:h,G=(0,x.tT)("@@initialState"),S=G.initialState,Tt=(0,s.useState)([]),mt=(0,D.Z)(Tt,2),lt=mt[0],N=mt[1],et=(0,s.useState)(!1),at=(0,D.Z)(et,2),ot=at[0],v=at[1],u=(0,$.hU)(),i=(0,g.Z)({All:"All"},(0,a.omit)(E,[E.Deposit])),R=(0,s.useState)(i.All),C=(0,D.Z)(R,2),O=C[0],Y=C[1],b=(0,s.useState)(1),B=(0,D.Z)(b,2),xt=B[0],Q=B[1];(0,s.useEffect)(function(){var X=[O];O===Oe.Mint&&X.push(Oe.Deposit);var k=O===i.All?Object.values(E):X;v(!0),Sa(S.vault,S.chain,k).then(function(J){var ut=ga()(oe()(J,function(dt){var ct,At,bt,Ot,Yt;if(!(dt.type===E.Mint&&(dt==null||(ct=dt.toAccountUpdate)===null||ct===void 0||(At=ct.account)===null||At===void 0||(bt=At.id)===null||bt===void 0?void 0:bt.toLowerCase())===((Ot=(0,Ke.L)(S.chain,S.vault))===null||Ot===void 0||(Yt=Ot.vaultBufferAddress)===null||Yt===void 0?void 0:Yt.toLowerCase())))return dt.type===E.Deposit?(0,g.Z)((0,g.Z)({},dt),{},{type:E.Mint}):dt}));Q(1),N(ut)}).finally(function(){v(!1)})},[O]);var yt=function(k){return(0,t.jsx)("a",{target:"_blank",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[S.chain],"/address/").concat(k),title:k,rel:"noreferrer",children:k})},Zt=(l={},(0,o.Z)(l,$.me.Desktop,["10rem","10rem","25rem","8rem"]),(0,o.Z)(l,$.me.Tablet,["8rem","8rem",void 0,"8rem"]),(0,o.Z)(l,$.me.Mobile,["8rem","8rem",void 0,"8rem"]),l)[u],Nt=[{title:"Date",dataIndex:"timestamp",key:"timestamp",render:function(k){return(0,t.jsx)(j.Z,{title:"".concat(ie()(1e3*k).utcOffset(0).format("yyyy-MM-DD HH:mm:ss")," (UTC)"),children:ie()(1e3*k).utcOffset(0).locale("en").fromNow()})}},{title:"Operation",dataIndex:"type",key:"type",ellipsis:{showTitle:!1}},{title:"Details",key:"detail",render:function(k,J){var ut,dt,ct=J.type,At=J.transferredAmount,bt=J.toAccountUpdate,Ot=J.fromAccountUpdate,Yt=J.totalSupplyChangeAmount,Vt=(0,Z.Wl)(Yt,U,A),kt=(0,Z.Wl)((0,F.Z)(At).abs(),U,A),Et=(0,Z.Wl)(At,U,A),w=(0,Z.FH)(Yt,(0,F.Z)(Math.pow(10,U))),pt=(0,Z.FH)((0,F.Z)(At).abs(),(0,F.Z)(Math.pow(10,U))),_t=(0,Z.FH)(At,(0,F.Z)(Math.pow(10,U))),se=Ot==null||(ut=Ot.account)===null||ut===void 0?void 0:ut.id,ge=bt==null||(dt=bt.account)===null||dt===void 0?void 0:dt.id,Jt={Mint:function(){return(0,t.jsxs)(t.Fragment,{children:[ct," ",(0,t.jsx)("span",{title:_t,children:Et})," ",p," to ",yt(ge)]})},Burn:function(){return(0,t.jsxs)(t.Fragment,{children:[ct," ",(0,t.jsx)("span",{title:pt,children:kt})," ",p," from ",yt(se)]})},Rebase:function(){return(0,t.jsxs)(t.Fragment,{children:[ct," ",(0,t.jsx)("span",{title:w,children:Vt})," ",p]})},Transfer:function(){return(0,t.jsxs)(t.Fragment,{children:[ct," ",(0,t.jsx)("span",{title:_t,children:Et})," ",p," from ",yt(se)," to ",yt(ge)]})}};return(0,t.jsx)("span",{style:{whiteSpace:"normal"},children:Jt[J.type]()})}},{title:"Tx Address",key:"tx",ellipsis:{showTitle:!1},align:"center",render:function(k,J){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[S.chain],"/tx/").concat(J.transaction.id),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}];Nt.forEach(function(X,k){X.width=Zt[k]});var T=function(k){typeof k=="string"?Y(k):Y(k.target.value)},Kt=(r={},(0,o.Z)(r,$.me.Desktop,{radioGroupProps:{size:"large"}}),(0,o.Z)(r,$.me.Tablet,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{size:"small",scroll:{x:800}}}),(0,o.Z)(r,$.me.Mobile,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{compact:!0,size:"small",scroll:{x:800}}}),r)[u],ne=(0,t.jsx)(St.ZP.Group,(0,g.Z)((0,g.Z)({value:O,onChange:T,buttonStyle:"solid"},Kt.radioGroupProps),{},{className:P().buttons,children:oe()(i,function(X,k){return(0,t.jsx)(St.ZP.Button,{value:X,children:k},k)})}));return u===$.me.Mobile&&(ne=(0,t.jsx)(pe.Z,{style:{width:120},value:O,onChange:T,children:oe()(i,function(X,k){return(0,t.jsx)(ba,{value:X,children:k},k)})})),(0,t.jsx)("div",{children:(0,t.jsx)(_.Z,(0,g.Z)((0,g.Z)({loading:d,bordered:!1,title:"Recent Activity",extra:ne},Kt.cardProps),{},{children:(0,t.jsx)(le.Z,(0,g.Z)({rowKey:function(k){return k.id},columns:Nt,dataSource:lt,loading:ot,pagination:(lt==null?void 0:lt.length)>10&&{showSizeChanger:!1,style:{marginBottom:0},current:xt,pageSize:10,onChange:function(k){Q(k)}}},Kt.tableProps))}))})},Ye=Ma,ze=e(42411),Ge=e(10501),Pa=e(51615),Le=e(43077),Ua=e(62904),Za=e(3691),Ia=e.n(Za),ja=[{label:"USDi",value:"usdi"},{label:"ETHi",value:"ethi"},{label:"USDr",value:"usdr"},{label:"ETHr",value:"ethr"}],Oa=function(){var n=(0,Le.Z)(),l=n.userProvider,r=n.getWalletName,d=(0,x.tT)("@@initialState"),f=d.initialState,A=d.setInitialState,m=(0,Pa.TH)(),U=function(p){var h=m.query.chain,E=Promise.resolve();p===Ut._.USDr||p===Ut._.ETHr?(h=te.W3.id,f.walletChainId!==te.W3.id&&(E=(0,Ua.u)(h,l,r()))):(p===Ut._.ETHi||p===Ut._.USDi)&&(h=te.hB.id),E.then(function(){A((0,g.Z)((0,g.Z)({},f),{},{vault:p},(0,Ke.L)(h,p))),x.m8.push({query:{chain:h||f.chain,vault:p}})})};return(0,t.jsx)(q.Z,{children:(0,t.jsx)(M.Z,{span:24,className:Ia().container,children:(0,t.jsx)(St.ZP.Group,{size:"large",onChange:function(p){return U(p.target.value)},value:f.vault,buttonStyle:"solid",children:oe()(ja,function(c,p){return(0,t.jsx)(St.ZP.Button,{value:c.value,children:c.label},p)})})})})},Me=Oa,Pe=e(55414),me=e(53651),Xt=e(22844),Ba=e(41609),re=e.n(Ba),La=function(n){var l=n.vault,r=n.chain,d=n.vaultAddress,f=n.tokenAddress,A=n.vaultBufferAddress;return re()(f)||re()(d)?Promise.reject(new Error("fetch tokenAddress or vaultAddress failed")):Da(l,r,f,d,A).catch(function(m){return console.error("init DashBoard data failed",m),{pegToken:{totalSupply:"0",holderCount:"0"},vault:{totalAssets:"0",strategies:[]},vaultBuffer:{totalSupply:"0"}}})};function Qe(){var I=(0,s.useState)({}),n=(0,D.Z)(I,2),l=n[0],r=n[1],d=(0,s.useState)(!1),f=(0,D.Z)(d,2),A=f[0],m=f[1],U=(0,x.tT)("@@initialState"),c=U.initialState;return(0,s.useEffect)(function(){c!=null&&c.chain&&(m(!0),La(c).then(r).finally(function(){m(!1)}))},[c==null?void 0:c.chain,c==null?void 0:c.vault]),{dataSource:l,loading:A}}var Ee=e(2593),Ra=e(13311),ka=e.n(Ra),Ue=function(n){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,d=[],f=function(U){var c=n[0]?ie()(n[0].date):ie()().utcOffset(0).subtract(1,"days"),p=c.subtract(U,"days").format("YYYY-MM-DD"),h=ka()(n,function(E){return E.date===p})||(0,o.Z)({date:p},l,void 0);d.push(h)},A=0;A<r;A++)f(A);return d},Va=function(){var n=(0,s.useState)(31),l=(0,D.Z)(n,2),r=l[0],d=l[1],f=(0,s.useState)({}),A=(0,D.Z)(f,2),m=A[0],U=A[1],c=(0,s.useState)({}),p=(0,D.Z)(c,2),h=p[0],E=p[1],G=(0,s.useState)(0),S=(0,D.Z)(G,2),Tt=S[0],mt=S[1],lt=(0,x.tT)("@@initialState"),N=lt.initialState,et=Qe(),at=et.dataSource,ot=at===void 0?{}:at,v=et.loading,u=ot.pegToken,i=u===void 0?{}:u,R=ot.vault,C=R===void 0?{}:R,O=ot.vaultBuffer,Y=O===void 0?{}:O;if((0,s.useEffect)(function(){if(!!N.chain){var J={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};r>7&&(J.format="MM-DD"),(0,Rt.ld)({chainId:N.chain,duration:me.Gj.monthly,limit:r,tokenType:me.KR.ethi}).then(function(ut){var dt=Ue(ut.content,"apy",r),ct=(0,a.map)((0,a.reverse)(dt),function(w){var pt=w.date,_t=w.apy,se=(0,a.isNil)(_t)?null:"".concat(Ct()(_t).format("0.00"));return{date:pt,apy:se}});mt(ut.content[0]?ut.content[0].apy:0);var At=(0,a.uniq)((0,a.map)(ct,function(w){var pt=w.date;return pt})),bt=[],Ot=(0,a.map)(At,function(w){var pt=(0,a.find)(ct,{date:w});return pt?{value:(0,Z.Ay)(pt.apy),label:"".concat((0,Z.Ik)(pt.apy),"%")}:null}),Yt=[{seriesName:"APY",seriesData:Ot,showSymbol:(0,a.size)((0,a.filter)(Ot,function(w){return!(0,a.isNil)(w.value)}))===1}],Vt={legend:{data:bt,textStyle:{color:"#fff"}},xAxisData:At,data:Yt},kt=(0,Ge.Z)(Vt);kt.color=["#A68EFE","#5470c6","#91cc75"],kt.series.forEach(function(w){w.connectNulls=!0,w.name==="Estimated APY"&&(w.lineStyle={width:2,type:"dotted"})}),kt.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var Et=[];kt.xAxis.data=kt.xAxis.data.map(function(w){var pt="".concat(ie()(w).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return Et[pt]=ie()(w).add(1,"days").format(J.format),pt}),kt.xAxis.axisLabel={formatter:function(pt){return Et[pt]}},kt.xAxis.axisTick={alignWithLabel:!0},kt.yAxis.splitLine={lineStyle:{color:"#454459"}},kt.tooltip=(0,g.Z)((0,g.Z)({},kt.tooltip),{},{formatter:function(pt){if(pt.length>0){var _t=pt[0],se=_t.axisValueLabel,ge=_t.marker,Jt=_t.seriesName,Ht=_t.data,We="".concat(se,"<br/>").concat(ge).concat(Jt,": ");return Ht!=null&&Ht.value?We+=Ht==null?void 0:Ht.label:We+="-",We}}}),E(kt)}).catch(function(ut){console.error(ut)}),(0,Rt.fY)({chainId:N.chain,limit:r,tokenType:me.KR.ethi}).then(function(ut){var dt=Ue(ut.content,"totalSupply",r),ct=(0,a.map)((0,a.reverse)(dt),function(At){var bt=At.date,Ot=At.totalSupply;return{date:bt,totalSupply:(0,Z.FH)(Ot,Xt.Nd,Xt.A7)}});U((0,ze.Z)(ct,"totalSupply","ETHi",(0,g.Z)((0,g.Z)({},J),{},{yAxisMin:function(bt){return Math.floor(bt.min*.998)},yAxisMax:function(bt){return Math.ceil(bt.max*1.001)}})))}).catch(function(ut){console.error(ut)})}},[r,N.chain]),(0,s.useEffect)(function(){return function(){(0,Rt.jv)()}},[]),(0,a.isEmpty)(N.chain))return null;var b=function(){return(0,a.isEmpty)(i)||(i==null?void 0:i.totalSupply)==="0"||(0,a.isEmpty)(C==null?void 0:C.totalAssets)?"1":!(0,a.isEmpty)(Y)&&C.isAdjust?(0,Z.FH)(Ee.O$.from(C.totalAssets).sub(Y.totalSupply),i==null?void 0:i.totalSupply,6):(0,Z.FH)(C==null?void 0:C.totalAssets,i==null?void 0:i.totalSupply,6)},B=function(){x.m8.push("/prices?chain=".concat(N.chain,"&vault=").concat(N.vault))},xt=(0,Z.FH)(i==null?void 0:i.totalSupply,Xt.Nd,Xt.A7),Q=Ct()(xt).format("0.00 a"),yt=Q.split(" "),Zt=(0,D.Z)(yt,2),Nt=Zt[0],T=Zt[1],Kt=isNaN(new Number(T)),ne=[{title:"Total Supply",tip:"Current total ETHi supply.",content:(0,a.isEmpty)(i)?0:"".concat(Nt).concat(Kt?"":T),loading:v,unit:"".concat((0,a.isEmpty)(i)?"":"".concat(Kt?T:"")," ETHi"),subTitle:(0,t.jsxs)("p",{children:["1ETHi \u2248 ",b(),"ETH"," ",(0,t.jsx)("span",{className:P().history,onClick:B,children:"History"})]})},{title:"Holders",tip:"Number Of ETHi holders.",content:Ct()(i==null?void 0:i.holderCount).format("0.[0000]a"),loading:v},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,Z.Ik)(parseFloat(Tt).toFixed(2)),loading:v,unit:"%"}],X=(0,a.cloneDeep)(ot.vault);if(X){var k=(0,a.reduce)(X.strategies,function(J,ut){return J.plus(ut.debtRecordInVault)},(0,F.Z)(0));X.totalValueInVault=(0,F.Z)(X.totalAssets).minus(k).toString(),X.strategies.map(function(J){return J.totalValue=J.debtRecordInVault})}return(0,t.jsx)(ft.Z,{children:(0,t.jsxs)(q.Z,{gutter:[0,40],children:[(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(Me,{})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:ne})})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ae,{loading:v,calDateRange:r,onCalDateRangeClick:d,apyEchartOpt:h,tvlEchartOpt:m})})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ne,{loading:v,strategyMap:Pe.tX,tokenDecimals:Xt.Nd,displayDecimals:Xt.A7,vaultData:X,unit:"ETH"})})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(_e,{unit:"ETH",loading:v,strategyMap:Pe.tX,displayDecimals:Xt.A7})})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ye,{token:"ETHi",decimals:Xt.DO,dispalyDecimal:Xt.A7,filterOptions:Xt.O2,loading:v})})})]})})},Wa=Va,Re=e(91907),Na=[{label:"Ethereum",key:"1"},{label:"Polygon",key:"137"}],_a=function(){var n=(0,s.useState)(31),l=(0,D.Z)(n,2),r=l[0],d=l[1],f=(0,s.useState)({}),A=(0,D.Z)(f,2),m=A[0],U=A[1],c=(0,s.useState)({}),p=(0,D.Z)(c,2),h=p[0],E=p[1],G=(0,s.useState)(0),S=(0,D.Z)(G,2),Tt=S[0],mt=S[1],lt=(0,x.tT)("@@initialState"),N=lt.initialState,et=Qe(),at=et.dataSource,ot=at===void 0?{}:at,v=et.loading,u=ot.pegToken,i=u===void 0?{}:u,R=ot.vault,C=R===void 0?{}:R,O=ot.vaultBuffer,Y=O===void 0?{}:O;if((0,s.useEffect)(function(){if(!!N.chain){var X={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};r>7&&(X.format="MM-DD"),(0,Rt.ld)({chainId:N.chain,duration:me.Gj.monthly,limit:r,tokenType:me.KR.usdi}).then(function(k){var J=Ue(k.content,"apy",r),ut=(0,a.map)((0,a.reverse)(J),function(Et){var w=Et.date,pt=Et.apy,_t=(0,a.isNil)(pt)?null:"".concat(Ct()(pt).format("0.00"));return{date:w,apy:_t}}),dt=(0,a.get)(k,"content.[0].apy",0);mt(dt);var ct=(0,a.uniq)((0,a.map)(ut,function(Et){var w=Et.date;return w})),At=[],bt=(0,a.map)(ct,function(Et){var w=(0,a.find)(ut,{date:Et});return w?{value:(0,Z.Ay)(w.apy),label:"".concat((0,Z.Ik)(w.apy),"%")}:null}),Ot=[{seriesName:"APY",seriesData:bt,showSymbol:(0,a.size)((0,a.filter)(bt,function(Et){return!(0,a.isNil)(Et.value)}))===1}],Yt={legend:{data:At,textStyle:{color:"#fff"}},xAxisData:ct,data:Ot},Vt=(0,Ge.Z)(Yt);Vt.color=["#A68EFE","#5470c6","#91cc75"],Vt.series.forEach(function(Et){Et.connectNulls=!0,Et.name==="Estimated APY"&&(Et.lineStyle={width:2,type:"dotted"})}),Vt.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var kt=[];Vt.xAxis.data=Vt.xAxis.data.map(function(Et){var w="".concat(ie()(Et).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return kt[w]=ie()(Et).add(1,"days").format(X.format),w}),Vt.xAxis.axisLabel={formatter:function(w){return kt[w]}},Vt.xAxis.axisTick={alignWithLabel:!0},Vt.yAxis.splitLine={lineStyle:{color:"#454459"}},Vt.tooltip=(0,g.Z)((0,g.Z)({},Vt.tooltip),{},{formatter:function(w){if(w.length>0){var pt=w[0],_t=pt.axisValueLabel,se=pt.marker,ge=pt.seriesName,Jt=pt.data,Ht="".concat(_t,"<br/>").concat(se).concat(ge,": ");return Jt!=null&&Jt.value?Ht+=Jt==null?void 0:Jt.label:Ht+="-",Ht}}}),E(Vt)}).catch(function(k){console.error(k)}),(0,Rt.fY)({chainId:N.chain,limit:r,tokenType:me.KR.usdi}).then(function(k){var J=Ue(k.content,"totalSupply",r),ut=(0,a.map)((0,a.reverse)(J),function(dt){var ct=dt.date,At=dt.totalSupply;return{date:ct,totalSupply:(0,Z.FH)(At,Be,Ut.h)}});U((0,ze.Z)(ut,"totalSupply","USDi",(0,g.Z)((0,g.Z)({},X),{},{yAxisMin:function(ct){return Math.floor(ct.min*.998)},yAxisMax:function(ct){return Math.ceil(ct.max*1.001)}})))}).catch(function(k){console.error(k)})}},[r,N.chain]),(0,s.useEffect)(function(){return function(){(0,Rt.jv)()}},[]),(0,a.isEmpty)(N.chain))return null;var b=function(){return(0,a.isEmpty)(i)||(i==null?void 0:i.totalSupply)==="0"||(0,a.isEmpty)(C==null?void 0:C.totalAssets)?"1":!(0,a.isEmpty)(Y)&&C.isAdjust?(0,Z.FH)(Ee.O$.from(C.totalAssets).sub(Y.totalSupply),i==null?void 0:i.totalSupply,6):(0,Z.FH)(C==null?void 0:C.totalAssets,i==null?void 0:i.totalSupply,6)},B=function(){x.m8.push("/prices?chain=".concat(N.chain,"&vault=").concat(N.vault))},xt=(0,Z.FH)(i==null?void 0:i.totalSupply,Be,Ut.h),Q=Ct()(xt).format("0.00 a"),yt=Q.split(" "),Zt=(0,D.Z)(yt,2),Nt=Zt[0],T=Zt[1],Kt=(0,a.isNaN)(new Number(T)),ne=[{title:"Total Supply",tip:"Current total USDi supply.",content:(0,a.isEmpty)(i)?0:"".concat(Nt).concat(Kt?"":T),loading:v,unit:"".concat((0,a.isEmpty)(i)?"":"".concat(Kt?T:"")," USDi"),subTitle:(0,t.jsxs)("p",{children:["1USDi \u2248 ",b(),"USD"," ",(0,t.jsx)("span",{className:P().history,onClick:B,children:"History"})]})},{title:"Holders",tip:"Number Of USDi holders.",content:Ct()(i==null?void 0:i.holderCount).format("0.[0000]a"),loading:v},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,Z.Ik)(parseFloat(Tt).toFixed(2)),loading:v,unit:"%"}];return console.log("tvlEchartOpt=",m),(0,t.jsx)(ft.Z,{children:(0,t.jsxs)(q.Z,{gutter:[0,40],children:[(0,t.jsxs)(M.Z,{span:24,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(Re.Z,{chains:Na})]}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:ne})})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ae,{isUsdi:!0,loading:v,calDateRange:r,onCalDateRangeClick:d,apyEchartOpt:h,tvlEchartOpt:m})})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ne,{loading:v,strategyMap:Pe.o1,tokenDecimals:Be,vaultData:ot.vault})})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(_e,{strategyMap:Pe.o1,loading:v})})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ye,{loading:v})})})]})})},Ha=_a,Xe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_newVault",type:"address"},{indexed:!0,internalType:"address",name:"_wantToken",type:"address"}],name:"CreateNewVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vaultImpl",type:"address"}],name:"addVaultImpl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wantToken",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"}],name:"createNewVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"deleteVaultAddressMapForDebug",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getStablecoinInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlist",outputs:[{internalType:"address[]",name:"_wethInvestorSet",type:"address[]"},{internalType:"address[]",name:"_usdInvestorSet",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlistLen",outputs:[{internalType:"uint256",name:"_wethInvestorSetLen",type:"uint256"},{internalType:"uint256",name:"_stablecoinInvestorSetLen",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultImplList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultsLen",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getWethInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_vaultImplList",type:"address[]"},{internalType:"address",name:"_accessControlProxy",type:"address"},{internalType:"address",name:"_uniswapV3RiskOnHelper",type:"address"},{internalType:"address",name:"_treasury",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"treasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"uniswapV3RiskOnHelper",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"vaultAddressMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vaultImpl2Index",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"vaultImplList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],wa=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"borrowInfo",outputs:[{internalType:"uint256",name:"_totalCollateralBase",type:"uint256"},{internalType:"uint256",name:"_totalDebtBase",type:"uint256"},{internalType:"uint256",name:"_availableBorrowsBase",type:"uint256"},{internalType:"uint256",name:"_currentLiquidationThreshold",type:"uint256"},{internalType:"uint256",name:"_ltv",type:"uint256"},{internalType:"uint256",name:"_healthFactor",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcAaveBaseCurrencyValueInAsset",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_baseAsset",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcCanonicalAssetValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getAToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"},{internalType:"address",name:"_account",type:"address"}],name:"getCurrentBorrow",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"}],name:"getDebtToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"getSpecifiedRangesOfTick",outputs:[{internalType:"int24",name:"_tickFloor",type:"int24"},{internalType:"int24",name:"_tickCeil",type:"int24"},{internalType:"int24",name:"_tickLower",type:"int24"},{internalType:"int24",name:"_tickUpper",type:"int24"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"address",name:"_collateralToken",type:"address"}],name:"getTotalCollateralTokenAmount",outputs:[{internalType:"uint256",name:"_totalCollateralToken",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_pool",type:"address"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"getTwap",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"}],Fa=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"LendToStrategy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_basis",type:"uint256"}],name:"ProfitFeeBpsChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"RedeemToVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"_shutdown",type:"bool"}],name:"SetEmergencyShutdown",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address[]",name:"_rewardTokens",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],name:"StrategyReported",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_nftId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTCollect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"_liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTPositionAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"UniV3NFTPositionRemoved",type:"event"},{anonymous:!1,inputs:[],name:"UniV3UpdateConfig",type:"event"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"borrowRebalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"borrowToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositTo3rdPoolTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergencyShutdown",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"estimatedTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMintInfo",outputs:[{internalType:"uint256",name:"_baseTokenId",type:"uint256"},{internalType:"int24",name:"_baseTickUpper",type:"int24"},{internalType:"int24",name:"_baseTickLower",type:"int24"},{internalType:"uint256",name:"_limitTokenId",type:"uint256"},{internalType:"int24",name:"_limitTickUpper",type:"int24"},{internalType:"int24",name:"_limitTickLower",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStatus",outputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_wantToken",type:"address"},{internalType:"int24",name:"_baseThreshold",type:"int24"},{internalType:"int24",name:"_limitThreshold",type:"int24"},{internalType:"int24",name:"_minTickMove",type:"int24"},{internalType:"int24",name:"_maxTwapDeviation",type:"int24"},{internalType:"int24",name:"_lastTick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"uint256",name:"_period",type:"uint256"},{internalType:"uint256",name:"_lastTimestamp",type:"uint256"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"harvest",outputs:[{internalType:"address[]",name:"_rewardsTokens",type:"address[]"},{internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastHarvest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"lend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"manageFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"netMarketMakingAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"profitFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rebalanceByKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeemToVaultByKeeper",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"setBaseThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_active",type:"bool"}],name:"setEmergencyShutdown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_limitThreshold",type:"int24"}],name:"setLimitThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setManageFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_maxTwapDeviation",type:"int24"}],name:"setMaxTwapDeviation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_minTickMove",type:"int24"}],name:"setMinTickMove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_period",type:"uint256"}],name:"setPeriod",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setProfitFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"setTwapDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"}],name:"shouldRebalance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"wantToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Je=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],$a="0x0000000000000000000000000000000000000000",ke="0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",Ka="0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619",Gt=new F.Z(1e6),gn=new F.Z(1e18),Tn=new F.Z(1e27),Ya=e(96519),za=e(85564),Ga=e.n(za),Qa=e(15296),ee=Ya.CH,qe=Ee.O$,Xa=[Ka,ke],Ja=function(n,l,r){var d=(0,s.useState)(!1),f=(0,D.Z)(d,2),A=f[0],m=f[1],U=(0,s.useState)([]),c=(0,D.Z)(U,2),p=c[0],h=c[1],E=(0,s.useState)([]),G=(0,D.Z)(E,2),S=G[0],Tt=G[1],mt=(0,s.useState)(!1),lt=(0,D.Z)(mt,2),N=lt[0],et=lt[1],at=(0,Qa.Z)(r),ot=(0,s.useCallback)(function(C,O){var Y=new ee(n,l,r),b=new ee(O,Fa,r),B=new ee(C,wa,r);return Promise.all([Y.getTwoInvestorlistLen(),b.borrowToken().then(function(){var xt=(0,ue.Z)((0,Wt.Z)().mark(function Q(yt){var Zt;return(0,Wt.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return Zt=new ee(yt,Je,r),T.t0=yt,T.next=4,Zt.symbol();case 4:return T.t1=T.sent,T.t2=qe.from(10),T.next=8,Zt.decimals();case 8:return T.t3=T.sent,T.t4=T.t2.pow.call(T.t2,T.t3),T.abrupt("return",{borrowToken:T.t0,name:T.t1,borrowTokenDecimals:T.t4});case 11:case"end":return T.stop()}},Q)}));return function(Q){return xt.apply(this,arguments)}}()),b.wantToken().then(function(){var xt=(0,ue.Z)((0,Wt.Z)().mark(function Q(yt){var Zt;return(0,Wt.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return Zt=new ee(yt,Je,r),T.t0=yt,T.next=4,Zt.symbol();case 4:return T.t1=T.sent,T.t2=qe.from(10),T.next=8,Zt.decimals();case 8:return T.t3=T.sent,T.t4=T.t2.pow.call(T.t2,T.t3),T.abrupt("return",{wantToken:T.t0,name:T.t1,wantTokenDecimals:T.t4});case 11:case"end":return T.stop()}},Q)}));return function(Q){return xt.apply(this,arguments)}}())]).then(function(xt){var Q=(0,D.Z)(xt,3),yt=Q[0],Zt=yt._wethInvestorSetLen,Nt=yt._stablecoinInvestorSetLen,T=Q[1],Kt=Q[2],ne=T.borrowToken,X=Kt.wantToken;return Promise.all([b.netMarketMakingAmount(),B.getCurrentBorrow(ne,2,O),B.getTotalCollateralTokenAmount(O,X),b.depositTo3rdPoolTotalAssets(),b.estimatedTotalAssets()]).then(function(k){var J=(0,D.Z)(k,5),ut=J[0],dt=J[1],ct=J[2],At=J[3],bt=J[4];return B.calcCanonicalAssetValue(ne,dt,X).then(function(Ot){var Yt={netMarketMakingAmount:ut,currentBorrow:dt,currentBorrowWithCanonical:Ot,depositTo3rdPoolTotalAssets:At,totalCollateralTokenAmount:ct,estimatedTotalAssets:bt,wantInfo:Kt,borrowInfo:T,_wethInvestorSetLen:Zt,_stablecoinInvestorSetLen:Nt,profit:At.add(ct).sub(ut).sub(Ot)};return Yt})})}).finally(function(){setTimeout(function(){m(!1)},300)})},[r]),v=(0,s.useCallback)(function(){if(!(re()(n)||re()(r))){var C=new ee(n,l,r);C.getVaultImplList().then(h)}},[n,r,l]),u=(0,s.useCallback)((0,ue.Z)((0,Wt.Z)().mark(function C(){var O,Y,b;return(0,Wt.Z)().wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:if(!(re()(n)||re()(r)||re()(p)||re()(at))){xt.next=2;break}return xt.abrupt("return");case 2:return O=new ee(n,l,r),xt.next=5,O.uniswapV3RiskOnHelper();case 5:Y=xt.sent,b=oe()(p,function(Q){return Promise.all(oe()(Xa,function(yt,Zt){return O.vaultAddressMap(at,Q,Zt).then(function(Nt){return Nt===$a?{hasCreate:!1,type:Q,token:yt}:ot(Y,Nt).then(function(T){return(0,g.Z)((0,g.Z)({},T),{},{address:Nt,type:Q,hasCreate:!0,token:yt})})})}))}),Promise.all(b).then(function(Q){Tt(Ga()(Q))});case 8:case"end":return xt.stop()}},C)})),[at,n,r,p,l]),i=(0,s.useCallback)(function(){var C=(0,ue.Z)((0,Wt.Z)().mark(function O(Y,b){var B;return(0,Wt.Z)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return et(!0),B=new ee(n,l,r),Q.next=4,B.connect(r.getSigner()).createNewVault(Y,b).then(function(yt){return yt.wait()}).then(u).finally(function(){et(!1)});case 4:case"end":return Q.stop()}},O)}));return function(O,Y){return C.apply(this,arguments)}}(),[n,r,u,l]),R=(0,s.useCallback)(function(){var C=(0,ue.Z)((0,Wt.Z)().mark(function O(Y,b){var B;return(0,Wt.Z)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:et(!0),B=new ee(n,l,r),B.connect(r.getSigner()).deleteVaultAddressMapForDebug(at,Y,b).then(function(yt){return yt.wait()}).then(u).finally(function(){et(!1)});case 3:case"end":return Q.stop()}},O)}));return function(O,Y){return C.apply(this,arguments)}}(),[n,u,at,r,l]);return(0,s.useEffect)(v,[v]),(0,s.useEffect)(u,[u]),{vaultFactoryAddress:n,vaultImplList:p,personalVault:S,adding:N,loading:A,addVault:i,deleteVault:R}},ta=Ja,ae=e(52572),qa=e(27361),ea=e.n(qa),De=Ee.O$,tn=[{label:"Polygon",key:"137"}],ye=137,fe="WETH",en=function(){var n="0x8013Dd64084e9c9122567563AA86981F4C20576B",l=(0,Le.Z)(),r=l.userProvider,d=ta(n,Xe,r),f=d.personalVault,A=(0,a.groupBy)(f,"token"),m=ea()(A,ke,[]);console.log("calcArray=",m);var U=(0,a.reduce)(m,function(v,u){return v.add(u.netMarketMakingAmount),v},De.from(0)),c=(0,a.reduce)(m,function(v,u){return v.add(u.estimatedTotalAssets),v},De.from(0)),p=(0,a.reduce)(m,function(v,u){return v.add(u.currentBorrow),v},De.from(0)),h=(0,a.reduce)(m,function(v,u){return v.add(u.totalCollateralTokenAmount),v},De.from(0)),E=(0,a.reduce)(m,function(v,u){return v.add(u.depositTo3rdPoolTotalAssets),v},De.from(0));console.log("netMarketMakingAmountTotal=",U.toString()),console.log("estimatedTotalAssetsTotal=",c.toString()),console.log("currentBorrow=",p.toString()),console.log("totalCollateralTokenAmountTotal=",h.toString()),console.log("depositTo3rdPoolTotalAssetsTotal=",E.toString());var G=(0,ae.r5)(function(){return(0,Rt._S)(ye,n,"aave-outstanding-loan")},[n]),S=(0,ae.r5)(function(){return(0,Rt._S)(ye,n,"aave-collateral")},[n]),Tt=(0,ae.r5)(function(){return(0,Rt._S)(ye,n,"aave-health-ratio")},[n]),mt=(0,ae.r5)(function(){return(0,Rt._S)(ye,n,"uniswap-position-value")},[n]),lt=(0,ae.r5)(function(){return(0,Rt._S)(ye,n,"profit")},[n]),N=(0,ae.r5)(function(){return(0,Rt._S)(ye,n,"net-deposit")},[n]);console.log("aaaa=",G,S,Tt,mt,lt,N);var et=!1,at=[{title:"Deposit",tip:"All Vault Net Deposit.",content:Ct()((0,Z.FH)(U,Gt)).format("0.[0000]a"),loading:et,unit:fe},{title:"Current Value",tip:"All Vault Current Value.",content:Ct()((0,Z.FH)(c,Gt)).format("0.[0000]a"),loading:et,unit:fe},{title:"Unrealized Profit",tip:"All Vault Unrealized Profit.",content:Ct()("123124").format("0.[0000]a"),loading:et,unit:fe},{title:"Holders",tip:"Number Of USDi holders.",content:Ct()("5").format("0.[0000]a"),loading:et,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:Ct()((0,Z.FH)(p,Gt)).format("0.[0000]a"),loading:et,unit:fe},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:Ct()((0,Z.FH)(h,Gt)).format("0.[0000]a"),loading:et,unit:fe},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:Ct()((0,Z.FH)(E,Gt)).format("0.[0000]a"),loading:et,unit:fe}],ot={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]};return(0,t.jsx)(ft.Z,{children:(0,t.jsxs)(q.Z,{gutter:[0,40],children:[(0,t.jsx)(M.Z,{span:24,children:(0,t.jsxs)(s.Suspense,{fallback:null,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(Re.Z,{chains:tn})]})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:at})})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(_.Z,{title:"Uniswap APY (%)",children:(0,t.jsx)(qt.$c,{option:ot,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{children:(0,t.jsx)(_.Z,{title:"Sample APY (%)",children:(0,t.jsx)(qt.$c,{option:ot,style:{minHeight:"500px",width:"100%"}})})})})]})})},an=en,xn=e(20228),nn=e(11382),rn=e(18973),aa=e.n(rn),sn=(0,t.jsxs)("div",{className:aa().main,children:[(0,t.jsxs)("svg",{viewBox:"0 0 1403 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",children:[(0,t.jsx)("path",{d:"M149.1 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM807.5 740.5H352c-9.1-22.5-31.2-38.4-57-38.4-33.9 0-61.4 27.5-61.4 61.4s27.5 61.4 61.4 61.4c25.8 0 47.9-15.9 57-38.4h455.5c9.1 22.5 31.2 38.4 57 38.4 33.9 0 61.4-27.5 61.4-61.4s-27.5-61.4-61.4-61.4c-25.9 0-47.9 15.9-57 38.4zM233.6 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM318 515.1c12.7 0 23-10.3 23-23v-51c0-12.7-10.3-23-23-23s-23 10.3-23 23v51c0 12.7 10.3 23 23 23z",fill:"#A68EFE"}),(0,t.jsx)("path",{d:"M1353.7 486.2c8.8-28.8 1.9-61.5-20.9-84.2L1088.2 157.4c-1.1-1.2-2.2-2.4-3.4-3.6-1.2-1.2-2.4-2.3-3.6-3.4l-0.8-0.8c-17.2-15.1-39.1-23.4-62.3-23.4-25.3 0-49 9.8-66.8 27.6L763 342l-60.3-213h12.5c12.7 0 23-10.3 23-23s-10.3-23-23-23H464.8c-51.3 0-93 41.7-93 93v132.3H91.4c-9.3 0-18 3.6-24.6 10.2l-56.6 56.6c-6.6 6.6-10.2 15.3-10.2 24.6V563c0 9.3 3.6 18 10.2 24.6l60.1 60.1c6.6 6.6 15.3 10.2 24.6 10.2h78.7c-30.5 29.9-49.5 71.5-49.5 117.4 0 90.6 73.7 164.4 164.4 164.4h582.5c90.6 0 164.4-73.7 164.4-164.4s-73.7-164.4-164.4-164.4h-55.5l173.9-176.2 0.9-52.8 42.3-42.3L1213.8 521c7.1 7.1 15.2 12.7 23.8 16.7l-69.4 117.8-9.8-5.8c-9.5-5.6-21.8-2.4-27.4 7.1l-3 5.2c-5.6 9.5-2.4 21.8 7.1 27.4l51.4 30.3c68.6 40.4 156.9 17.6 197.4-51 35.9-61.1 21.7-137.9-30.2-182.5z m-632.5-123h-77.2l-44.7-44.7c-6.6-6.6-15.3-10.2-24.6-10.2h-42.1V129h122.2l66.4 234.2zM417.8 176c0-25.9 21.1-47 47-47h22v179.3h-69V176zM99.5 611.8l-53.5-53.5V404.4l50-50h474.2L614.9 399c6.6 6.6 15.3 10.2 24.6 10.2H724.9v113.4H492.8c-12.7 0-23 10.3-23 23s10.3 23 23 23H724.9v42.3H288.5c-6 0-12 0.3-17.8 1H99.5z m771.5 45.1c65.3 0 118.4 53.1 118.4 118.4 0 65.3-53.1 118.4-118.4 118.4H288.5c-65.3 0-118.4-53.1-118.4-118.4 0-65.3 53.1-118.4 118.4-118.4h582.5z m73.5-294.4l-0.9 53-172.7 175V399.2l212.9-212.9c9.1-9.1 21.3-14.1 34.2-14.1 13 0 25.2 5 34.2 14.1 18.9 18.9 18.9 49.6 0 68.5L944.5 362.5z m248.9 72.9L1065 307.1l19.8-19.8c12.5-12.5 20.7-27.6 24.7-43.6l137.8 137.8c-12.2 4-23.7 10.8-33.4 20.5-9.8 9.7-16.6 21.2-20.5 33.4z m53-0.9c14.9-14.9 39-14.9 53.9 0 14.9 14.9 14.9 39 0 53.9-14.9 14.9-39 14.9-53.9 0-14.9-14.8-14.9-39 0-53.9z m97.8 210.8c-27.5 46.7-87.7 62.2-134.4 34.7l-2-1.2 79.2-134.4c14.8-2.4 29.1-8.8 41.1-19.2 31.7 30.8 39.5 80.3 16.1 120.1z",fill:"#A68EFE"})]}),(0,t.jsx)("span",{className:aa().text,children:"Under construction..."})]}),ln=function(n){var l=n.children;return(0,t.jsx)(nn.Z,{size:"large",indicator:sn,style:{background:"rgb(0,0,0,0.5)"},children:l})},Ve=ln,de=Ee.O$,on=[{label:"Polygon",key:"137"}],he="USDC",un=function(){var n,l={VAULT_FACTORY_ADDRESS:{"137":"0x9853Eb1dc3946F78f043EA513Ed87ADBdA6eeE09"}}.VAULT_FACTORY_ADDRESS["137"],r=(0,Le.Z)(),d=r.userProvider,f=ta(l,Xe,d),A=f.personalVault,m=f.loading,U=(0,a.groupBy)(A,"token"),c=ea()(U,ke,[]),p=(0,s.useState)("All"),h=(0,D.Z)(p,2),E=h[0],G=h[1],S=(0,a.reduce)(c,function(b,B){return b.add(B.netMarketMakingAmount)},de.from(0)),Tt=(0,a.reduce)(c,function(b,B){return b.add(B.estimatedTotalAssets)},de.from(0)),mt=(0,a.reduce)(c,function(b,B){return b.add(B.currentBorrowWithCanonical)},de.from(0)),lt=(0,a.reduce)(c,function(b,B){return b.add(B.totalCollateralTokenAmount)},de.from(0)),N=(0,a.reduce)(c,function(b,B){return b.add(B.depositTo3rdPoolTotalAssets)},de.from(0)),et=(0,a.reduce)(c,function(b,B){return b.add(B._stablecoinInvestorSetLen)},de.from(0)),at=(0,a.reduce)(c,function(b,B){return b.add(B.profit)},de.from(0)),ot=[{title:"Deposit",tip:"All Vault Net Deposit.",content:Ct()((0,Z.FH)(S,Gt)).format("0.[0000]a"),loading:m,unit:he},{title:"Current Value",tip:"All Vault Current Value.",content:Ct()((0,Z.FH)(Tt,Gt)).format("0.[0000]a"),loading:m,unit:he},{title:"Profits",tip:"All Vault Profits.",content:Ct()((0,Z.FH)(at,Gt)).format("0.[0000]a"),loading:m,unit:he},{title:"Holders",tip:"Number Of USDi holders.",content:Ct()(et).format("0.[0000]a"),loading:m,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:Ct()((0,Z.FH)(mt,Gt)).format("0.[0000]a"),loading:m,unit:he},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:Ct()((0,Z.FH)(lt,Gt)).format("0.[0000]a"),loading:m,unit:he},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:Ct()((0,Z.FH)(N,Gt)).format("0.[0000]a"),loading:m,unit:he}],v=(0,ae.r5)(function(){return(0,Rt.wn)()},[l]),u=(0,ae.r5)(function(){return(0,Rt.q4)()},[l]),i=(0,ae.r5)(function(){return(0,Rt.wu)()},[l]),R=[],C=[{title:"Date",dataIndex:"date",key:"date"},{title:"Operation",dataIndex:"operation",key:"operation"},{title:"Details",dataIndex:"details",key:"details"},{title:"Tx Address",dataIndex:"tx",key:"tx"}],O={All:"All",Create:"Create",Deposit:"Deposit",Burn:"Burn"},Y=(0,t.jsx)(St.ZP.Group,{value:E,onChange:function(B){return G(B.target.value)},buttonStyle:"solid",className:P().buttons,children:oe()(O,function(b,B){return(0,t.jsx)(St.ZP.Button,{value:b,children:b},B)})});return(0,t.jsx)(ft.Z,{children:(0,t.jsxs)(q.Z,{gutter:[0,40],children:[(0,t.jsx)(M.Z,{span:24,children:(0,t.jsxs)(s.Suspense,{fallback:null,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(Re.Z,{chains:on})]})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:ot})})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ve,{children:(0,t.jsx)(_.Z,{title:"Uniswap APY (%)",loading:v.loading||u.loading,children:v.error?(0,t.jsxs)("div",{style:{minHeight:"10rem"},children:["Error: ",v==null||(n=v.error)===null||n===void 0?void 0:n.message]}):(0,t.jsx)(qt.$c,{option:{animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]},style:{minHeight:"500px",width:"100%"}})})})})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{children:(0,t.jsx)(Ve,{children:(0,t.jsx)(_.Z,{title:"Sample APY (%)",loading:i.loading,children:i.error?(0,t.jsxs)("div",{style:{minHeight:"10rem"},children:["Error: ",i.error.message]}):(0,t.jsx)(qt.$c,{option:{animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]},style:{minHeight:"500px",width:"100%"}})})})})}),(0,t.jsx)(M.Z,{span:24,children:(0,t.jsx)(s.Suspense,{children:(0,t.jsx)(Ve,{children:(0,t.jsx)(_.Z,{extra:Y,title:"Recent Activity",children:(0,t.jsx)(le.Z,{dataSource:R,columns:C})})})})})]})})},dn=un,cn=e(7594),pn=e(52353),vn=e.n(pn);function mn(){var I,n=(0,x.tT)("@@initialState"),l=n.initialState,r=(I={},(0,o.Z)(I,Ut._.USDi,Ha),(0,o.Z)(I,Ut._.ETHi,Wa),(0,o.Z)(I,Ut._.ETHr,an),(0,o.Z)(I,Ut._.USDr,dn),I)[l.vault];return vn()(r)?(0,t.jsx)(cn.default,{}):(0,t.jsx)(r,{})}},860:function(vt,z,e){"use strict";e.d(z,{E6:function(){return M},_8:function(){return g},mB:function(){return D},Mn:function(){return ft},oP:function(){return Mt},t:function(){return j},ld:function(){return rt},fY:function(){return t},jv:function(){return It},Qc:function(){return Bt},_S:function(){return gt},wn:function(){return zt},q4:function(){return L},wu:function(){return Qt}});var o=e(93224),s=e(11849),x=e(65367),K=e(96486),q=e.n(K),it=["chainId","vaultAddress"],M=function(y){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20;try{var nt=(0,s.Z)({offset:H,limit:P},y);return(0,x.WY)("".concat("https://service-pr02-sg.bankofchain.io","/officialApy"),{params:nt})}catch(tt){return{content:[]}}},g=function(y){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,nt=y.chainId,tt=y.vaultAddress,Pt={sort:"gene_time desc",offset:H,limit:P};return(0,x.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(nt,"/vaults/").concat(tt,"/allocation"),{params:Pt})},D=function(y,H){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:20,tt={offset:P,limit:nt};return(0,x.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(y,"/vaults/").concat(H,"/strategy/detail/list"),{params:tt})},ft=function(y){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,nt=y.chainId,tt=y.vaultAddress,Pt=(0,o.Z)(y,it);return(0,x.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(nt,"/vaults/").concat(tt,"/verifiedApy"),{params:(0,s.Z)({offset:H,limit:P},Pt)})},Mt=function(y,H,P,nt,tt){if(!(0,K.isNil)(P))return(0,x.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(y,"/vaults/").concat(H,"/allocation/").concat(P,"/").concat(nt),{method:"patch",headers:tt})},j=function(y){var H=y.strategyName,P=y.vaultAddress,nt=y.chainId,tt=y.limit,Pt=tt===void 0?10:tt,jt=y.offset,wt=jt===void 0?0:jt,$t=y.sort,St=$t===void 0?"fetch_timestamp desc":$t;return(0,x.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(nt,"/vaults/").concat(P,"/strategy/assets"),{params:{strategyName:H,limit:Pt,offset:wt,sort:St}})},V=function(y,H,P){return request("".concat("https://service-pr02-sg.bankofchain.io","/apy/account_apy/accountAddress/").concat(y,"/date/").concat(H),{params:P})},st=function(y,H){return request("".concat("https://service-pr02-sg.bankofchain.io","/profit/account/").concat(y),{params:H})},_=function(y,H){return request("".concat("https://service-pr02-sg.bankofchain.io","/token/balance/account/").concat(y),{params:_objectSpread({limit:365},H)})},Dt=function(y,H){return request("".concat("https://service-pr02-sg.bankofchain.io","/month_profit/account/").concat(y),{params:H})},ht={},rt=function(y){var H=y.chainId,P=y.tokenType,nt=y.duration,tt=y.offset,Pt=tt===void 0?0:tt,jt=y.limit,wt=y.useCache,$t=wt===void 0?!0:wt,St="".concat(H,"-").concat(nt,"-").concat(P,"-").concat(Pt,"-").concat(jt);return $t&&ht[St]?Promise.resolve(ht[St]):(0,x.WY)("".concat("https://service-pr02-sg.bankofchain.io","/apy/vault_apy"),{params:{chainId:H,duration:nt,offset:Pt,limit:jt,tokenType:P}}).then(function(ce){return ht[St]=ce,ce})},W={},t=function(y){var H=y.chainId,P=y.offset,nt=P===void 0?0:P,tt=y.limit,Pt=y.tokenType,jt=y.useCache,wt=jt===void 0?!0:jt,$t="".concat(H,"-").concat(nt,"-").concat(Pt,"-").concat(tt);return wt&&W[$t]?Promise.resolve(W[$t]):(0,x.WY)("".concat("https://service-pr02-sg.bankofchain.io","/token/totalSupply"),{params:{chainId:H,offset:nt,limit:tt,tokenType:Pt}}).then(function(St){return W[$t]=St,St})},It=function(){ht={},W={}},Bt=function(y,H,P){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,tt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20,Pt={strategyAddress:P,offset:nt,limit:tt},jt="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(y,"/vaults/").concat(H,"/verifiedApy/daily");return(0,x.WY)(jt,{params:Pt})},gt=function(y,H,P){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{limit:30},tt="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(y,"/vaults/").concat(H,"/data_collects/types/").concat(P);return(0,x.WY)(tt,{params:nt})},zt=function(y){return(0,x.WY)("".concat("https://service-pr02-sg.bankofchain.io","/verifiedApy/riskon"),{params:y})},L=function(y){return(0,x.WY)("".concat("https://service-pr02-sg.bankofchain.io","/officialApy/riskon"),{params:y})},Qt=function(y){return(0,x.WY)("".concat("https://service-pr02-sg.bankofchain.io","/sampleApy/riskon"),{params:y})}},62904:function(vt,z,e){"use strict";e.d(z,{u:function(){return Mt}});var o=e(39428),s=e(34792),x=e(55026),K=e(3182),q=e(13311),it=e.n(q),M=e(41609),g=e.n(M),D=e(89850),ft=e(50999),Mt=function(){var j=(0,K.Z)((0,o.Z)().mark(function V(st,_,Dt){var ht,rt,W,t,It,Bt,gt=arguments;return(0,o.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(ht=gt.length>3&&gt[3]!==void 0?gt[3]:{},rt=ht.resolveWhenUnsupport,W=it()(D.ZP,{id:st}),!g()(W)){L.next=5;break}return L.abrupt("return");case 5:if(_){L.next=7;break}return L.abrupt("return");case 7:if(t=[ft.m.MetaMask.info.symbol],t.includes(Dt)){L.next=13;break}if(!rt){L.next=11;break}return L.abrupt("return");case 11:return x.default.warning("Switch networks in your wallet, then reconnect"),L.abrupt("return",Promise.reject());case 13:return It=[{chainId:"0x".concat(Number(W.id).toString(16)),chainName:W.name,nativeCurrency:W.nativeCurrency,rpcUrls:[W.rpcUrl],blockExplorerUrls:[W.blockExplorer]}],L.prev=14,L.next=17,_.send("wallet_switchEthereumChain",[{chainId:It[0].chainId}]);case 17:Bt=L.sent,L.next=33;break;case 20:if(L.prev=20,L.t0=L.catch(14),L.t0.code!==4001){L.next=24;break}return L.abrupt("return",Promise.reject());case 24:return L.prev=24,L.next=27,_.send("wallet_addEthereumChain",It);case 27:Bt=L.sent,L.next=33;break;case 30:return L.prev=30,L.t1=L.catch(24),L.abrupt("return",Promise.reject());case 33:Bt&&console.log(Bt);case 34:case"end":return L.stop()}},V,null,[[14,20],[24,30]])}));return function(st,_,Dt){return j.apply(this,arguments)}}()},9292:function(vt,z,e){"use strict";e.d(z,{FH:function(){return it},Wl:function(){return g},Ik:function(){return D},Ay:function(){return ft}});var o=e(905),s=e(96486),x=e.n(s),K=e(41609),q=e.n(K),it=function(j){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!(0,s.isNil)(j)){if((0,s.isNull)(V))return j.toString();var st=(0,o.Z)(V.toString());if(q()(j)||st.isZero())return 0;var _=(0,o.Z)(j.toString()).div(st);if(_.isInteger())return _.toFixed();for(var Dt=arguments.length,ht=new Array(Dt>2?Dt-2:0),rt=2;rt<Dt;rt++)ht[rt-2]=arguments[rt];return _.toFixed.apply(_,ht)}},M=2,g=function(j,V){var st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M,_=(0,o.Z)(j.toString()),Dt=(0,o.Z)(10).pow(V),ht=V>6&&!_.eq(0)&&_.abs().lt((0,o.Z)(10).pow(V-st+1)),rt;return ht?(rt=it(_,Dt,V-_.abs().toString().length+1),rt):(rt=it(_,Dt,st),parseFloat(rt))},D=function(j){var V=parseFloat(j);return isNaN(V)?j:V<=1e3?V:"1000+"},ft=function(j){var V=parseFloat(j);return isNaN(V)?j:V<=1e3?V:1e3}}}]);
