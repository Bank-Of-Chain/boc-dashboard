(self.webpackChunkboc_dashboard=self.webpackChunkboc_dashboard||[]).push([[281],{40085:function(G){G.exports={tip:"tip___X9xBT",right:"right___3btOV"}},93644:function(G){G.exports={offlineCard:"offlineCard___38IN6",loadingContainer:"loadingContainer___27xcf"}},34621:function(){},69157:function(G,I,e){"use strict";var D=e(12968),T=e(62462),w=e(67294),x=e(47037),b=e.n(x),L=e(96486),Z=e.n(L),W=e(35161),k=e.n(W),ne=e(85893),it="".concat("https://v2.bankofchain.io","/default.png"),Ze=function(d){var _=d.array,h=_===void 0?[]:_,v=d.size,s=v===void 0?24:v,M=function(z,Q){return(0,ne.jsx)(T.Z,{title:z,preview:!1,width:s,style:{borderRadius:"50%"},wrapperStyle:{marginLeft:Q===0?0:-10,zIndex:h.length-Q},src:"".concat("https://v2.bankofchain.io","/images/").concat(z,".png"),fallback:it},"".concat(z+Q))};return b()(h)?M(h,0):(0,L.isArray)(h)?(0,ne.jsx)("div",{children:k()(h,function(A,z){return M(A,z)})}):(0,ne.jsx)("span",{})};I.Z=Ze},98821:function(G,I,e){"use strict";e.d(I,{$c:function(){return Z}});var D=e(20228),T=e(11382),w=e(67294),x=e(40684),b=e(85893),L=(0,b.jsx)(T.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:20,fontSize:14},tip:"Loading...."}),Z=(0,x.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(462),e.e(272)]).then(e.bind(e,56272))},{fallback:L}),W=(0,x.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(693),e.e(42)]).then(e.bind(e,59042))},{fallback:L}),k=(0,x.ZP)(function(){return Promise.all([e.e(80),e.e(274),e.e(417)]).then(e.bind(e,48417))},{fallback:L})},10501:function(G,I,e){"use strict";e.d(I,{Z:function(){return w}});var D=e(11849),T=e(76492);function w(x){var b=[],L=0,Z=[];Z=x.data,Z.length>0&&Z.forEach(function(k){var ne=(0,D.Z)({name:k.seriesName?k.seriesName:"",data:k.seriesData,type:"line",showSymbol:k.showSymbol,lineStyle:{width:5,cap:"round"}},k);L+=k.seriesData.length,b.push(ne)});var W={animation:!1,textStyle:{color:"#fff"},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"},confine:!0},legend:x.legend,xAxis:{type:"category",data:x.xAxisData},yAxis:{type:"value"},series:b};return x.tooltipFormatter&&(W.tooltip.formatter=x.tooltipFormatter),(0,D.Z)((0,D.Z)({},(0,T.s)(L>0)),W)}},76492:function(G,I,e){"use strict";e.d(I,{s:function(){return D}});function D(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return T?{}:{graphic:{type:"text",left:"center",top:"middle",silent:!0,invisible:!1,style:{fill:"#9d9d9d",fontWeight:"bold",text:"No Data",fontSize:"25px"}}}}},55414:function(G,I,e){"use strict";e.d(I,{o1:function(){return x},tX:function(){return b}});var D=["Balancer","UniswapV2","Dodo","Sushi_Kashi","Sushi_Swap","Convex","Rari","UniswapV3","YearnEarn","YearnV2","YearnIron","GUni","Stargate","DForce","Synapse","Aura","Aave"],T=["Curve","Aave","Balancer","Gravity","Polycat","Qi","Quickswap","Sushi","Synapse","Dodo","Stargate","UniswapV3"],w=["Balancer","UniswapV2","Convex","Aura","UniswapV3","StakeWise","YearnV2","Aave"],x={1:D,137:T},b={1:w}},65225:function(G,I,e){"use strict";e.r(I),e.d(I,{default:function(){return na}});var D=e(20228),T=e(11382),w=e(58024),x=e(91894),b=e(13062),L=e(36725),Z=e(98858),W=e(4914),k=e(89032),ne=e(1635),it=e(12968),Ze=e(62462),r=e(11849),d=e(32059),_=e(2824),h=e(67294),v=e(55414),s=e(1123),M=e(22844),A=e(67724),z=e(98821),Q=e(96222),ie=e(22533),Ye=e(22385),S=e(45777),le=e(28991),Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M320 224h-66v-56c0-4.4-3.6-8-8-8h-52c-4.4 0-8 3.6-8 8v56h-66c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8h66v56c0 4.4 3.6 8 8 8h52c4.4 0 8-3.6 8-8v-56h66c4.4 0 8-3.6 8-8V232c0-4.4-3.6-8-8-8zm-60 508h-80V292h80v440zm644-436h-66v-96c0-4.4-3.6-8-8-8h-52c-4.4 0-8 3.6-8 8v96h-66c-4.4 0-8 3.6-8 8v416c0 4.4 3.6 8 8 8h66v96c0 4.4 3.6 8 8 8h52c4.4 0 8-3.6 8-8v-96h66c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8zm-60 364h-80V364h80v296zM612 404h-66V232c0-4.4-3.6-8-8-8h-52c-4.4 0-8 3.6-8 8v172h-66c-4.4 0-8 3.6-8 8v200c0 4.4 3.6 8 8 8h66v172c0 4.4 3.6 8 8 8h52c4.4 0 8-3.6 8-8V620h66c4.4 0 8-3.6 8-8V412c0-4.4-3.6-8-8-8zm-60 145a3 3 0 01-3 3h-74a3 3 0 01-3-3v-74a3 3 0 013-3h74a3 3 0 013 3v74z"}}]},name:"sliders",theme:"outlined"},Pe=Ke,Se=e(27029),ee=function(f,g){return h.createElement(Se.Z,(0,le.Z)((0,le.Z)({},f),{},{ref:g,icon:Pe}))};ee.displayName="SlidersOutlined";var lt=h.forwardRef(ee),O=e(93083),me=e(860),Ge=e(69157),rt=e(30381),we=e.n(rt),Fe=e(35161),ct=e.n(Fe),$=e(905),ke=e(41609),Le=e.n(ke),i=e(9292),ve=e(65367),t=e(85893),ut={0:"harvest",1:"lend",2:"withdraw",3:"redeem"},st=function(f){var g,C,B,N,Y=f.loading,U=f.strategyName,H=f.dropdownGroup,he=(0,ve.tT)("@@initialState"),R=he.initialState,re=(0,O.hU)(),te=s._.ETHi===R.vault,se=(g={},(0,d.Z)(g,s._.USDi,s.h),(0,d.Z)(g,s._.ETHi,M.A7),g)[R.vault],oe=(0,ve.QT)(function(u){return(0,me.t)({strategyName:U,chainId:R.chain,vaultAddress:R.vaultAddress,limit:u.pageSize,offset:(u.current-1)*u.pageSize,sort:"fetch_index desc"}).catch(function(){return{content:[],total:0}})},{manual:!0,paginated:!0,formatResult:function(c){var E=c.content,F=c.totalElements;return{list:E,total:F}}}),de=oe.data,Ce=oe.run,Je=oe.loading,ae=oe.pagination,Ae=de==null?void 0:de.list,ge=Ae&&(C=Ae[0])!==null&&C!==void 0&&C.lpTokenUnit?" (".concat((B=Ae[0])===null||B===void 0?void 0:B.lpTokenUnit,")"):"";(0,h.useEffect)(function(){Ce((0,r.Z)((0,r.Z)({},ae),{},{current:1}))},[R.chain,R.vault,U]);var X=(0,$.Z)(1e18),j=[{title:"Txn Hash",dataIndex:"txnHash",key:"txnHash",ellipsis:{showTitle:!1},render:function(c){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[R.chain],"/tx/").concat(c),title:c,children:c})}},{title:"Total Asset".concat(ge),dataIndex:"totalAsset",key:"totalAsset",render:function(c){return(0,t.jsx)("span",{title:(0,i.FH)(c,X),children:(0,i.FH)(c,X,se)})}},{title:"Asset Variation".concat(ge),dataIndex:"assetChange",key:"assetChange",render:function(c,E){var F=E.fetchType;return(0,t.jsxs)("span",{title:(0,i.FH)(c,X),children:[ut[F],c!=="0"&&" (".concat((0,i.FH)(c,X,se),")")]})}},{title:"Date",dataIndex:"fetchTimestamp",key:"fetchTimestamp",render:function(c){return(0,t.jsx)(S.Z,{title:"".concat(we()(1e3*c).utcOffset(0).format("yyyy-MM-DD HH:mm:ss")," (UTC)"),children:we()(1e3*c).utcOffset(0).locale("en").fromNow()})}},{title:"Position Details",align:"center",render:function(c,E){var F=E.tokens;if(Le()(F))return(0,t.jsx)(lt,{style:{color:"gray"}});var J=ct()(F,function(y){var ye=y.address,He=y.amount,Ie=y.asset;return(0,t.jsxs)("span",{style:{display:"flex"},children:[(0,t.jsx)(Ge.Z,{size:19,array:[ye]}),"\xA0\xA0",(0,i.FH)(He,X,se),te&&"(".concat((0,i.FH)(Ie,X,se),"ETH)"),!te&&"($".concat((0,i.FH)(Ie,X,se),")")]},ye)});return(0,t.jsx)(S.Z,{placement:"top",title:J,children:(0,t.jsx)(lt,{})})}}],n={cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}},o=(N={},(0,d.Z)(N,O.me.Desktop,{}),(0,d.Z)(N,O.me.Tablet,(0,r.Z)((0,r.Z)({},n),{},{tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}})),(0,d.Z)(N,O.me.Mobile,(0,r.Z)((0,r.Z)({},n),{},{tableProps:{size:"small",rowClassName:"mobile-font-size",scroll:{x:600}}})),N)[re];return(0,t.jsx)("div",{children:(0,t.jsx)(x.Z,(0,r.Z)((0,r.Z)({loading:Y,bordered:!1,title:"Reports",extra:H,style:{height:"100%",marginTop:32}},o.cardProps),{},{children:(0,t.jsx)(ie.Z,(0,r.Z)({rowKey:function(c){return c.id},columns:j,dataSource:Ae,loading:Je,pagination:ae},o.tableProps))}))})},vt=st,Qe=e(21349),It=e(49111),Ve=e(19650),Be=e(48736),fe=e(27049),Te=e(86582),ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M742 318V184h86c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H196c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h86v134c0 81.5 42.4 153.2 106.4 194-64 40.8-106.4 112.5-106.4 194v134h-86c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h632c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-86V706c0-81.5-42.4-153.2-106.4-194 64-40.8 106.4-112.5 106.4-194zm-72 388v134H354V706c0-42.2 16.4-81.9 46.3-111.7C430.1 564.4 469.8 548 512 548s81.9 16.4 111.7 46.3C653.6 624.1 670 663.8 670 706zm0-388c0 42.2-16.4 81.9-46.3 111.7C593.9 459.6 554.2 476 512 476s-81.9-16.4-111.7-46.3A156.63 156.63 0 01354 318V184h316v134z"}}]},name:"hourglass",theme:"outlined"},$t=ft,Mt=function(f,g){return h.createElement(Se.Z,(0,le.Z)((0,le.Z)({},f),{},{ref:g,icon:$t}))};Mt.displayName="HourglassOutlined";var Yt=h.forwardRef(Mt),ot=e(68628),ze=e(2593),yt=e(56721),a=e(96486),Kt=e(40085),jt=e.n(Kt),Gt="MMM DD",Xe=(0,t.jsx)(Yt,{style:{color:"#a68efe"}}),wt={0:"Unrealized",1:"Realized"},kt=function(f){var g,C=f.vault,B=f.strategyName,N=f.strategyAddress,Y=f.unit,U=f.displayDecimals,H=U===void 0?s.h:U,he=f.dropdownGroup,R=(0,O.hU)(),re=(0,ve.tT)("@@initialState"),te=re.initialState,se=(0,ve.QT)(function(){return(0,me.Qc)(te.chain,te.vaultAddress,N,0,100)},{formatResult:function(n){return(0,a.map)(n,function(o){var u=o.dailyProfit,c=o.weeklyProfit,E=o.dailyApy,F=o.weeklyApy,J=o.detail,y=J===void 0?[]:J,ye=o.officialDetail,He=ye===void 0?[]:ye,Ie=new $.Z(u),dt=new $.Z(c),xt=(0,t.jsx)("div",{children:(0,a.map)(He,function(xe,Me){return(0,t.jsxs)("span",{style:{display:"block"},children:[xe.feeName,":\xA0",(0,i.Ik)((100*xe.feeApy).toFixed(2)),"%"]},Me)})}),be=(0,t.jsx)("div",{children:(0,a.map)((0,a.groupBy)(y,"feeApyStatus"),function(xe,Me){return[(0,t.jsx)("span",{style:{display:"block"},children:(0,t.jsx)(fe.Z,{orientation:"left",orientationMargin:"0",style:{color:"#313036",margin:"0.25rem 0"},children:wt[Me]})},"group-".concat(Me))].concat((0,Te.Z)((0,a.map)(xe,function(We,qe){return(0,t.jsxs)("span",{style:{display:"block"},children:[We.feeName,":\xA0",(0,i.FH)(We.feeValue,ze.O$.from(10).pow(18),C==="ethi"?6:H),"\xA0",Y,"(",(0,i.Ik)((100*We.feeApy).toFixed(2)),"%)"]},qe)})))})});return{id:o.id,date:(0,yt.w)(o.scheduleTimestamp*1e3,Gt),assets:(0,i.FH)(o.dailyWeightAsset,ze.O$.from(10).pow(18),H),profit:(0,t.jsxs)("div",{title:(0,i.FH)(Ie,ze.O$.from(10).pow(18)),children:[(0,i.FH)(Ie,ze.O$.from(10).pow(18),C==="ethi"?6:H),o.dailyUnrealizedProfit!=="0"&&Xe]}),officialApy:(0,a.isNil)(o.dailyOfficialApy)?"N/A":(0,a.isEmpty)(He)?"".concat((0,i.FH)(new $.Z(o.dailyOfficialApy).multipliedBy(100),1,2),"%"):(0,t.jsx)(S.Z,{title:xt,children:"".concat((0,i.Ik)((0,i.FH)(new $.Z(o.dailyOfficialApy).multipliedBy(100),1,2)),"%")}),verifyApy:o.dailyWeightAsset==="0"?"N/A":(0,a.isEmpty)(y)?(0,t.jsxs)("div",{children:["".concat((0,i.Ik)((0,i.FH)(new $.Z(E).multipliedBy(100),1,2)),"%"),o.dailyUnrealizedApy>0&&Xe]}):(0,t.jsx)(S.Z,{title:be,children:(0,t.jsxs)("div",{children:["".concat((0,i.Ik)((0,i.FH)(new $.Z(E).multipliedBy(100),1,2)),"%"),o.dailyUnrealizedApy>0&&Xe]})}),weeklyAssets:(0,i.FH)(o.weeklyWeightAsset,ze.O$.from(10).pow(18),H),weeklyProfit:(0,t.jsxs)("div",{title:(0,i.FH)(dt,ze.O$.from(10).pow(18)),children:[(0,i.FH)(dt,ze.O$.from(10).pow(18),C==="ethi"?6:H),o.weeklyUnrealizedProfit!=="0"&&Xe]}),weeklyApy:(0,a.isNil)(o.weeklyOfficialApy)?"N/A":"".concat((0,i.Ik)((0,i.FH)(new $.Z(o.weeklyOfficialApy).multipliedBy(100),1,2)),"%"),weeklyVerifyApy:o.weeklyWeightAsset==="0"?"N/A":(0,t.jsxs)("div",{children:["".concat((0,i.Ik)((0,i.FH)(new $.Z(F).multipliedBy(100),1,2)),"%"),o.weeklyUnrealizedApy>0&&Xe]})}})}}),oe=se.data,de=oe===void 0?[]:oe,Ce=se.loading;if((0,a.isEmpty)(de))return(0,t.jsx)("span",{});var Je=[{title:"",dataIndex:"name",key:"name"}].concat((0,Te.Z)((0,a.map)(de,function(j){var n=j.date;return{title:n,dataIndex:n,key:n}})),[{title:"Weekly",dataIndex:"weekly",key:"weekly"}]),ae=["Weighted Assets (".concat(Y,")"),"Profits (".concat(Y,")"),"Official APY","BoC Verified APY"],Ae=(0,a.map)(ae,function(j,n){var o=(0,a.map)((0,a.keyBy)(de,"date"),function(u,c){var E,F="",J="",y="";return j===ae[0]?(F=u.assets,J=u.weeklyAssets,y=(0,t.jsxs)(Ve.Z,{children:[j,(0,t.jsx)(S.Z,{title:"Assets deposited daily/weekly into the strategy.",children:(0,t.jsx)(ot.Z,{})})]})):j===ae[1]?(F=u.profit,J=u.weeklyProfit,y=(0,t.jsxs)(Ve.Z,{children:[j,(0,t.jsx)(S.Z,{title:"Daily/Weekly strategy profit.",children:(0,t.jsx)(ot.Z,{})})]})):j===ae[2]?(F=u.officialApy,J=u.weeklyApy,y=(0,t.jsxs)(Ve.Z,{children:[j,(0,t.jsx)(S.Z,{title:"Official third-party pools APY, obtained through raw data statistics provided on chain.",children:(0,t.jsx)(ot.Z,{})})]})):j===ae[3]&&(F=u.verifyApy,J=u.weeklyVerifyApy,y=(0,t.jsxs)(Ve.Z,{children:[j,(0,t.jsx)(S.Z,{title:"APY verified by the BoC strategy, calculated by using the corresponding profits and weighted assets.",children:(0,t.jsx)(ot.Z,{})})]})),E={},(0,d.Z)(E,c,F),(0,d.Z)(E,"weekly",J),(0,d.Z)(E,"name",y),E});return(0,r.Z)({},(0,a.reduce)(o,function(u,c){return u=(0,r.Z)((0,r.Z)({},u),c),u},{id:n}))}),ge={cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}},X=(g={},(0,d.Z)(g,O.me.Desktop,{}),(0,d.Z)(g,O.me.Tablet,(0,r.Z)((0,r.Z)({},ge),{},{tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}})),(0,d.Z)(g,O.me.Mobile,(0,r.Z)((0,r.Z)({},ge),{},{tableProps:{size:"small",rowClassName:"mobile-font-size",scroll:{x:900}}})),g)[R];return(0,t.jsx)("div",{children:(0,t.jsxs)(x.Z,(0,r.Z)((0,r.Z)({loading:Ce,bordered:!1,title:"".concat(B," APY Details"),extra:he,style:{height:"100%",marginTop:32}},X.cardProps),{},{children:[(0,t.jsx)(ie.Z,(0,r.Z)({rowKey:function(n){return n.id},columns:Je,dataSource:Ae,loading:Ce,pagination:!1},X.tableProps)),(0,t.jsxs)("div",{className:jt().tip,children:[(0,t.jsx)("div",{children:"Warning:"}),(0,t.jsxs)("div",{className:jt().right,children:["Official APY calculation is also affected by the price of reward token, reward rate and any changes in principal within"," ",(0,t.jsx)("span",{style:{color:"#a68efe",fontWeight:"bold"},children:"24"})," hours, therefore statistical data could be inaccurate at times."]})]})]}))})},Qt=kt,Xt=e(10501),Jt=e(10928),qt=e.n(Jt),pt={rateOfChange:500,startIndex:0},_t=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt,C=100;if((0,a.isEmpty)(f))return[0,C];var B=(0,a.map)(f,function(N){return ea(N,g)});return[(0,a.max)(B),C]},ea=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt,C=g.rateOfChange,B=C===void 0?pt.rateOfChange:C,N=g.startIndex,Y=B/1e4,U=(0,a.reverse)((0,Te.Z)(f)),H=(0,a.findIndex)(U,function(R,re){if(re<=N)return!1;if(re===U.length)return!0;if((0,a.isNil)(R)){var te=U.slice(re);return!!(0,a.every)(te,a.isNil)}return Math.abs(R-U[re-1])>Y*R}),he=H===-1?0:100.5-100*H/f.length;return he},ta=e(93644),Nt=e.n(ta),Ut="Official Weekly APY",mt="Verified Weekly APY",ht="Official Daily APY",At="Verified Daily APY",Rt={0:"Unrealized",1:"Realized"},Ft=function(f){return'<br/><span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'.concat(f,';"></span>')},gt='<br/><span style="display:inline-block;margin-right:4px;margin-left:10px;border-radius:10px;width:10px;height:10px;background-color:#fff;"></span>',aa=function(f){var g,C,B,N,Y,U,H=f==null||(g=f.location)===null||g===void 0?void 0:g.query,he=H.id,R=H.ori,re=R===void 0?!1:R,te=H.vault,se=(0,h.useState)(!1),oe=(0,_.Z)(se,2),de=oe[0],Ce=oe[1],Je=(0,h.useState)(!1),ae=(0,_.Z)(Je,2),Ae=ae[0],ge=ae[1],X=(0,h.useState)({}),j=(0,_.Z)(X,2),n=j[0],o=j[1],u=(0,h.useState)([]),c=(0,_.Z)(u,2),E=c[0],F=c[1],J=(0,ve.tT)("@@initialState"),y=J.initialState,ye=(0,O.hU)(),He=(C={},(0,d.Z)(C,s._.USDi,"USD"),(0,d.Z)(C,s._.ETHi,"ETH"),C)[y.vault],Ie=(0,$.Z)(1e18),dt=(B={},(0,d.Z)(B,s._.USDi,v.o1),(0,d.Z)(B,s._.ETHi,v.tX),B)[y.vault],xt=(N={},(0,d.Z)(N,s._.USDi,s.h),(0,d.Z)(N,s._.ETHi,M.A7),N)[y.vault];(0,h.useEffect)(function(){Ce(!0),(0,me.mB)(y.chain,y.vaultAddress,0,100).then(function(l){var P=(0,a.find)(l.content,function(Ee){return Ee.strategyAddress===he});o(P)}).catch(a.noop).finally(function(){Ce(!1)})},[he]),(0,h.useEffect)(function(){(0,a.isEmpty)(n==null?void 0:n.strategyName)||(ge(!0),Promise.all([(0,me.Mn)({chainId:y.chain,vaultAddress:y.vaultAddress,strategyAddress:n==null?void 0:n.strategyAddress,sort:"schedule_timestamp desc"},0,365).catch(function(){}),(0,me.E6)({chainId:y.chain,strategyName:n==null?void 0:n.strategyName,sort:"fetch_time desc"},0,365).catch(function(){}),(0,me.Qc)(y.chain,y.vaultAddress,n==null?void 0:n.strategyAddress,0,10)]).then(function(l){var P=(0,_.Z)(l,3),Ee=P[0],_e=Ee===void 0?{content:[]}:Ee,je=P[1],ce=P[2],et=we()().utcOffset(0).subtract(366,"day").startOf("day"),m=(0,a.reduce)(new Array(366),function(p){var K=et.subtract(-1,"day");return p.push(K.format("yyyy-MM-DD")),p},[]),tt=(0,a.keyBy)((0,a.map)(je.content,function(p){return{value:100*p.apy,officialApy:(p.apy*100).toFixed(2),originApy:(p.originApy*100).toFixed(2),offcialDetail:p.detail,date:(0,yt.w)(p.fetchTime*1e3,"yyyy-MM-DD")}}),"date"),at=(0,a.keyBy)((0,a.map)(_e.content,function(p){var K,De,Ue,pe;return{realizedApy:(((K=p.realizedApy)===null||K===void 0?void 0:K.value)*100).toFixed(2),realizedApyDetail:(De=p.realizedApy)===null||De===void 0?void 0:De.detail,unrealizedApy:(((Ue=p.unrealizedApy)===null||Ue===void 0?void 0:Ue.value)*100).toFixed(2),unrealizedApyDetail:(pe=p.unrealizedApy)===null||pe===void 0?void 0:pe.detail,expectedApy:(p.verifiedApy*100).toFixed(2),dailyVerifiedApy:(p.dailyVerifiedApy*100).toFixed(2),date:(0,yt.w)(p.scheduleTimestamp*1e3,"yyyy-MM-DD")}}),"date"),Ne=qt()((0,a.filter)(ce,function(p){return!(0,a.isNil)(p.apyValidateTime)})),nt=null,$e=!1,St=(0,a.map)(m,function(p){var K=(0,a.get)(tt,p,{officialApy:null,originApy:null,offcialDetail:[]}),De=K.officialApy,Ue=K.originApy,pe=K.offcialDetail,ue=(0,a.get)(at,p,{expectedApy:null,unrealizedApy:null,realizedApy:null,dailyVerifiedApy:null,realizedApyDetail:[],unrealizedApyDetail:[]}),Tt=ue.expectedApy,zt=ue.realizedApy,Ot=ue.unrealizedApy,Ct=ue.dailyVerifiedApy,V=ue.realizedApyDetail,Re=ue.unrealizedApyDetail,Wt={date:p,originApy:Ue,value:Tt,officialApy:$e?null:(0,a.isNil)(De)?nt:De,realizedApy:zt,unrealizedApy:Ot,offcialDetail:pe,realizedApyDetail:V,unrealizedApyDetail:Re,dailyVerifiedApy:Ct};return $e=$e||p===(Ne==null?void 0:Ne.apyValidateTime),nt=Wt.officialApy,Wt});F(St)}).finally(function(){ge(!1)}))},[n,n==null?void 0:n.strategyName]);var be=[],xe=[Ut,mt],Me=(0,a.map)(E,function(l){return{value:(0,i.Ay)(l.officialApy),label:"".concat((0,i.Ik)(l.officialApy),"%"),unit:"%"}}),We=(0,a.map)(E,"value"),qe=[{seriesName:Ut,seriesData:Me,showSymbol:(0,a.size)((0,a.filter)(Me,function(l){return!(0,a.isNil)(l.value)}))===1},{seriesName:mt,seriesData:E.map(function(l){return(0,r.Z)((0,r.Z)({},l),{},{value:(0,i.Ay)(l.value),label:"".concat((0,i.Ik)(l.value),"%")})}),showSymbol:(0,a.size)((0,a.filter)(We,function(l){return!(0,a.isNil)(l)}))===1}];if(be.push((0,a.map)(E,"officialApy"),We),re){var Et=(0,a.map)(E,function(l){return{value:(0,i.Ay)(l.originApy),offcialDetail:l.offcialDetail,label:"".concat((0,i.Ik)(l.originApy),"%"),unit:"%"}});xe.push(ht),qe.push({seriesName:ht,seriesData:Et,showSymbol:(0,a.size)((0,a.filter)(Et,function(l){return!(0,a.isNil)(l.value)}))===1});var Dt=(0,a.map)(E,function(l){return{value:(0,i.Ay)(l.dailyVerifiedApy),realizedApyDetail:l.realizedApyDetail,unrealizedApyDetail:l.unrealizedApyDetail,label:"".concat((0,i.Ik)(l.dailyVerifiedApy),"%"),unit:"%"}});xe.push(At),qe.push({seriesName:At,seriesData:Dt,showSymbol:(0,a.size)((0,a.filter)(Dt,function(l){return!(0,a.isNil)(l.value)}))===1}),be.push(Et),be.push(Dt)}var ia={legend:{data:xe,textStyle:{color:"#fff"}},xAxisData:(0,a.map)(E,"date"),data:qe},q=(0,Xt.Z)(ia);q.color=["#A68EFE","#2ec7c9","#ffb980","#d87a80","#e5cf0d","#97b552","#8d98b3","#07a2a4","#95706d","#dc69aa"],q.series.forEach(function(l,P){l.connectNulls=!1,l.z=q.series.length-P,l.name==="Expected APY"&&(l.lineStyle={width:5,type:"dotted"})}),q.xAxis.data=q.xAxis.data.map(function(l){return"".concat(l," (UTC)")}),q.xAxis.axisLabel={formatter:function(P){return P.replace(" (UTC)","")}},q.xAxis.axisTick={alignWithLabel:!0},q.yAxis.splitLine={lineStyle:{color:"black"}},q.tooltip=(0,r.Z)((0,r.Z)({},q.tooltip),{},{formatter:function(P){if(P instanceof Array)if(P.length){var Ee,_e,je=((Ee=P[0])===null||Ee===void 0||(_e=Ee.data)===null||_e===void 0?void 0:_e.unit)||"",ce="";return ce+="".concat(P[0].axisValueLabel),P.forEach(function(m){var tt;if(ce+="<br/>".concat(m.marker).concat(m.seriesName,": ").concat((0,a.isNil)(m.value)?"-":(tt=m.data)===null||tt===void 0?void 0:tt.label),m.seriesName===mt){var at,Ne,nt=(at=m.data)===null||at===void 0?void 0:at.realizedApy,$e=(Ne=m.data)===null||Ne===void 0?void 0:Ne.unrealizedApy,St="".concat((0,a.isNil)(nt)?"-":(0,i.Ik)(nt)+je),p="".concat((0,a.isNil)($e)?"-":(0,i.Ik)($e)+je);ce+="".concat(Ft("#dc69aa"),"Realized APY: ").concat(St),ce+="".concat(Ft("#95706d"),"UnRealized APY: ").concat(p)}if((m==null?void 0:m.seriesName)===ht){var K,De=m==null||(K=m.data)===null||K===void 0?void 0:K.offcialDetail,Ue=(0,a.map)(De,function(V){var Re="".concat((0,a.isNil)(V.feeApy)?"-":(100*V.feeApy).toFixed(2)+je);return"".concat(gt).concat(V.feeName,": ").concat(Re)});ce+=Ue.join("")}if((m==null?void 0:m.seriesName)===At){var pe,ue,Tt=m==null||(pe=m.data)===null||pe===void 0?void 0:pe.realizedApyDetail,zt=m==null||(ue=m.data)===null||ue===void 0?void 0:ue.unrealizedApyDetail,Ot=(0,a.map)(Tt,function(V){var Re="".concat((0,a.isNil)(V.feeApy)?"-":(100*V.feeApy).toFixed(2)+je);return"".concat(gt).concat(V.feeName,": ").concat(Re," (").concat(Rt[V.feeApyStatus],")")});ce+=Ot.join("");var Ct=(0,a.map)(zt,function(V){var Re="".concat((0,a.isNil)(V.feeApy)?"-":(100*V.feeApy).toFixed(2)+je);return"".concat(gt).concat(V.feeName,": ").concat(Re," (").concat(Rt[V.feeApyStatus],")")});ce+=Ct.join("")}}),ce}else return null;else{var et="";return et+="".concat(P[0].axisValueLabel),et+="<br/>".concat(P.marker).concat(P.seriesName,": ").concat(P.value).concat(P.data.unit||""),et}}});var la=_t(be,{startIndex:30,rateOfChange:3e3}),Lt=(0,_.Z)(la,2),ra=Lt[0],sa=Lt[1];if(q.dataZoom=[{end:sa,start:ra}],!y.chain||(0,a.isEmpty)(n))return null;var Vt=n.underlyingTokens,oa=n.totalAssetBaseCurrent,Bt={cardProps:{size:"small"},descriptionProps:{size:"small"}},Ht=(Y={},(0,d.Z)(Y,O.me.Desktop,{}),(0,d.Z)(Y,O.me.Tablet,Bt),(0,d.Z)(Y,O.me.Mobile,Bt),Y)[ye],Zt={height:400},bt=(U={},(0,d.Z)(U,O.me.Desktop,{chartStyle:Zt}),(0,d.Z)(U,O.me.Tablet,{cardProps:{size:"small"},chartStyle:Zt}),(0,d.Z)(U,O.me.Mobile,{cardProps:{size:"small"},chartStyle:(0,r.Z)((0,r.Z)({},Zt),{},{height:280})}),U)[ye],Pt={push:2,xl:12,lg:12,md:12,sm:24,xs:24,style:{margin:"0 auto 16px"}};return ye===O.me.Mobile&&(Pt.style={margin:"0 auto 16px",textAlign:"center"},delete Pt.push),(0,t.jsxs)(Qe.Z,{children:[(0,t.jsx)(h.Suspense,{fallback:null,children:(0,t.jsx)(x.Z,(0,r.Z)((0,r.Z)({title:(0,t.jsx)(A.Z,{onClick:function(){return ve.m8.push("/")}}),bordered:!1},Ht.cardProps),{},{children:(0,t.jsxs)(L.Z,{justify:"space-around",children:[(0,t.jsx)(ne.Z,(0,r.Z)((0,r.Z)({},Pt),{},{children:(0,t.jsx)(Ze.Z,{preview:!1,width:200,style:{borderRadius:"50%"},src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(dt[y.chain][n==null?void 0:n.protocol],".png"),fallback:"".concat("https://v2.bankofchain.io","/default.png")})})),(0,t.jsx)(ne.Z,{push:2,xl:12,lg:12,md:12,sm:24,xs:24,children:(0,t.jsxs)(W.Z,(0,r.Z)((0,r.Z)({column:1,title:(0,t.jsx)("span",{style:{color:"#fff"},children:"Base Info"}),labelStyle:{color:"#fff"},contentStyle:{color:"#fff"}},Ht.descriptionProps),{},{children:[(0,t.jsx)(W.Z.Item,{label:"Name",children:(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[y.chain],"/address/").concat(n.strategyAddress),children:n.strategyName})}),(0,t.jsx)(W.Z.Item,{label:"Underlying Token(s)",children:!(0,a.isEmpty)(Vt)&&(0,t.jsx)(Ge.Z,{array:Vt.split(",")})}),(0,t.jsx)(W.Z.Item,{label:"Asset Value",children:(0,i.FH)(oa,Ie,xt)+" ".concat(He)}),(0,t.jsx)(W.Z.Item,{label:"Status",children:"Active"})]}))})]})}))}),(0,t.jsx)(h.Suspense,{fallback:null,children:(0,t.jsx)(x.Z,(0,r.Z)((0,r.Z)({title:"APY (%)",className:Nt().offlineCard,bordered:!1,style:{marginTop:32}},bt.cardProps),{},{children:(0,t.jsx)("div",{style:bt.chartStyle,children:Ae?(0,t.jsx)("div",{className:Nt().loadingContainer,children:(0,t.jsx)(T.Z,{size:"large"})}):(0,t.jsx)(z.$c,{option:q,style:{height:"100%",width:"100%"}})})}))}),(0,t.jsx)(h.Suspense,{fallback:null,children:(0,t.jsx)(Qt,{vault:te,unit:te==="ethi"?"ETH":"USD",displayDecimals:te==="ethi"?M.A7:s.h,strategyName:n==null?void 0:n.strategyName,strategyAddress:n==null?void 0:n.strategyAddress,loading:de})}),(0,t.jsx)(h.Suspense,{fallback:null,children:(0,t.jsx)(vt,{strategyName:n==null?void 0:n.strategyName,loading:de})})]})},na=aa},56721:function(G,I,e){"use strict";e.d(I,{w:function(){return w}});var D=e(30381),T=e.n(D),w=function(b,L){return T()(b).utcOffset(0).format(L)}},19650:function(G,I,e){"use strict";e.d(I,{u:function(){return Ze},Z:function(){return h}});var D=e(22122),T=e(96156),w=e(28481),x=e(94184),b=e.n(x),L=e(50344),Z=e(67294),W=e(53124),k=e(98082);function ne(v){var s=v.className,M=v.direction,A=v.index,z=v.marginDirection,Q=v.children,ie=v.split,Ye=v.wrap,S=Z.useContext(Ze),le=S.horizontalSize,Ke=S.verticalSize,Pe=S.latestIndex,Se=S.supportFlexGap,ee={};return Se||(M==="vertical"?A<Pe&&(ee={marginBottom:le/(ie?2:1)}):ee=(0,D.Z)((0,D.Z)({},A<Pe&&(0,T.Z)({},z,le/(ie?2:1))),Ye&&{paddingBottom:Ke})),Q==null?null:Z.createElement(Z.Fragment,null,Z.createElement("div",{className:s,style:ee},Q),A<Pe&&ie&&Z.createElement("span",{className:"".concat(s,"-split"),style:ee},ie))}var it=function(v,s){var M={};for(var A in v)Object.prototype.hasOwnProperty.call(v,A)&&s.indexOf(A)<0&&(M[A]=v[A]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var z=0,A=Object.getOwnPropertySymbols(v);z<A.length;z++)s.indexOf(A[z])<0&&Object.prototype.propertyIsEnumerable.call(v,A[z])&&(M[A[z]]=v[A[z]]);return M},Ze=Z.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),r={small:8,middle:16,large:24};function d(v){return typeof v=="string"?r[v]:v||0}var _=function(s){var M,A=Z.useContext(W.E_),z=A.getPrefixCls,Q=A.space,ie=A.direction,Ye=s.size,S=Ye===void 0?(Q==null?void 0:Q.size)||"small":Ye,le=s.align,Ke=s.className,Pe=s.children,Se=s.direction,ee=Se===void 0?"horizontal":Se,lt=s.prefixCls,O=s.split,me=s.style,Ge=s.wrap,rt=Ge===void 0?!1:Ge,we=it(s,["size","align","className","children","direction","prefixCls","split","style","wrap"]),Fe=(0,k.Z)(),ct=Z.useMemo(function(){return(Array.isArray(S)?S:[S,S]).map(function(fe){return d(fe)})},[S]),$=(0,w.Z)(ct,2),ke=$[0],Le=$[1],i=(0,L.Z)(Pe,{keepEmpty:!0}),ve=le===void 0&&ee==="horizontal"?"center":le,t=z("space",lt),ut=b()(t,"".concat(t,"-").concat(ee),(M={},(0,T.Z)(M,"".concat(t,"-rtl"),ie==="rtl"),(0,T.Z)(M,"".concat(t,"-align-").concat(ve),ve),M),Ke),st="".concat(t,"-item"),vt=ie==="rtl"?"marginLeft":"marginRight",Qe=0,It=i.map(function(fe,Te){fe!=null&&(Qe=Te);var ft=fe&&fe.key||"".concat(st,"-").concat(Te);return Z.createElement(ne,{className:st,key:ft,direction:ee,index:Te,marginDirection:vt,split:O,wrap:rt},fe)}),Ve=Z.useMemo(function(){return{horizontalSize:ke,verticalSize:Le,latestIndex:Qe,supportFlexGap:Fe}},[ke,Le,Qe,Fe]);if(i.length===0)return null;var Be={};return rt&&(Be.flexWrap="wrap",Fe||(Be.marginBottom=-Le)),Fe&&(Be.columnGap=ke,Be.rowGap=Le),Z.createElement("div",(0,D.Z)({className:ut,style:(0,D.Z)((0,D.Z)({},Be),me)},we),Z.createElement(Ze.Provider,{value:Ve},It))},h=_},49111:function(G,I,e){"use strict";var D=e(38663),T=e.n(D),w=e(34621),x=e.n(w)}}]);
