(self.webpackChunkboc_dashboard=self.webpackChunkboc_dashboard||[]).push([[364,571],{6371:function(vt){vt.exports={container:"container___3FHkQ"}},69255:function(vt){vt.exports={chartCard:"chartCard___1WAYR",title:"title___1qSNX",chartTop:"chartTop___fyf1y",chartTopMargin:"chartTopMargin___35U93",chartTopHasMargin:"chartTopHasMargin___3PZ2W",metaWrap:"metaWrap___1o2cx",avatar:"avatar___3W_MV",meta:"meta___BxwkJ",action:"action___2rX_t",total:"total___13buZ",unit:"unit___3h93V",content:"content___1u1VV",contentFixed:"contentFixed___8g0La",footer:"footer___1DC6W",card:"card___3ClYk"}},18973:function(vt){vt.exports={main:"main___E0u3n",text:"text___1bwgD"}},3691:function(vt){vt.exports={container:"container___1YjeH"}},90958:function(vt){vt.exports={salesCard:"salesCard___29v2i",salesBar:"salesBar___yX0jY",salesRank:"salesRank___3emXv",salesCardExtra:"salesCardExtra___1zn45",vaultKeyCard:"vaultKeyCard___3fhgC",tabMobile:"tabMobile___OIzik",chartDiv:"chartDiv___35wVQ",chartDivMobile:"chartDivMobile___3S_E5",tableCell:"tableCell___28uXK",text:"text___2ww9t",trendText:"trendText___22_c0",chartWrapper:"chartWrapper___3eEAM",buttons:"buttons___1vScW",field:"field___1vkrW",label:"label___3KSeF",number:"number___3Vb_1",history:"history___1YR66"}},91907:function(vt,z,e){"use strict";var o=e(30887),l=e(28682),T=e(67294),K=e(65367),J=e(89850),it=e(53651),C=e(35161),h=e.n(C),x=e(63105),ft=e.n(x),Mt=e(62904),j=e(43077),V=e(6371),st=e.n(V),W=e(85893),Dt=h()(ft()(J.ZP,function(rt){return!(it.ux&&rt.id==="137")}),function(rt){return{label:rt.name,value:rt.id}}),ht=function(_){var t=_.chains,Zt=t===void 0?Dt:t,Ot=_.shouldChangeChain;if(Zt.length<=1)return null;var gt=(0,K.tT)("@@initialState"),zt=gt.initialState,L=(0,j.Z)(),Qt=L.userProvider,a=L.getWalletName,v=function(at){var q=at.key,Pt=K.m8.location.query.vault,It=Promise.resolve();Ot&&(It=(0,Mt.u)(q,Qt,a(),{resolveWhenUnsupport:!0})),It.then(function(){K.m8.push({query:{chain:q,vault:Pt}}),setTimeout(function(){location.reload()},100)})},H={borderBottom:"none",justifyContent:"center",backgroundColor:"transparent"};return(0,W.jsx)("div",{className:st().container,children:(0,W.jsx)(l.Z,{mode:"horizontal",style:H,items:Zt,selectedKeys:[zt.chain],onClick:v})})};z.Z=ht},69157:function(vt,z,e){"use strict";var o=e(12968),l=e(62462),T=e(67294),K=e(47037),J=e.n(K),it=e(96486),C=e.n(it),h=e(35161),x=e.n(h),ft=e(85893),Mt="".concat("https://v2.bankofchain.io","/default.png"),j=function(st){var W=st.array,Dt=W===void 0?[]:W,ht=st.size,rt=ht===void 0?24:ht,_=function(Zt,Ot){return(0,ft.jsx)(l.Z,{title:Zt,preview:!1,width:rt,style:{borderRadius:"50%"},wrapperStyle:{marginLeft:Ot===0?0:-10,zIndex:Dt.length-Ot},src:"".concat("https://v2.bankofchain.io","/images/").concat(Zt,".png"),fallback:Mt},"".concat(Zt+Ot))};return J()(Dt)?_(Dt,0):(0,it.isArray)(Dt)?(0,ft.jsx)("div",{children:x()(Dt,function(t,Zt){return _(t,Zt)})}):(0,ft.jsx)("span",{})};z.Z=j},93083:function(vt,z,e){"use strict";e.d(z,{hU:function(){return ft},me:function(){return x}});var o=e(45697),l=e.n(o),T=e(1852),K=e.n(T),J=function(j){var V=j.children,st=(0,T.useMediaQuery)({minWidth:992});return st?V:null};J.propTypes={children:l().element};var it=function(j){var V=j.children,st=(0,T.useMediaQuery)({minWidth:768,maxWidth:991});return st?V:null};it.propTypes={children:l().element};var C=function(j){var V=j.children,st=(0,T.useMediaQuery)({maxWidth:767});return st?V:null};C.propTypes={children:l().element};var h=function(j){var V=j.children,st=(0,T.useMediaQuery)({minWidth:768});return st?V:null};h.propTypes={children:l().element};var x={Desktop:"Desktop",Tablet:"Tablet",Mobile:"Mobile"},ft=function(){var j=(0,T.useMediaQuery)({minWidth:992}),V=(0,T.useMediaQuery)({minWidth:768,maxWidth:991});return j?x.Desktop:V?x.Tablet:x.Mobile}},98821:function(vt,z,e){"use strict";e.d(z,{$c:function(){return C}});var o=e(20228),l=e(11382),T=e(67294),K=e(40684),J=e(85893),it=(0,J.jsx)(l.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:20,fontSize:14},tip:"Loading...."}),C=(0,K.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(462),e.e(272)]).then(e.bind(e,56272))},{fallback:it}),h=(0,K.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(693),e.e(42)]).then(e.bind(e,59042))},{fallback:it}),x=(0,K.ZP)(function(){return Promise.all([e.e(80),e.e(274),e.e(417)]).then(e.bind(e,48417))},{fallback:it})},42411:function(vt,z,e){"use strict";e.d(z,{Z:function(){return Ot}});var o=e(11849),l=e(30381),T=e.n(l),K=e(41609),J=e.n(K),it=e(76492),C="52px";function h(gt){var zt=!J()(gt.seriesData)&&gt.dataZoom,L={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:zt?C:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{type:"category",data:gt.xAxisData},yAxis:{type:"value"},dataZoom:zt?gt.dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:gt.seriesName?gt.seriesName:"",data:gt.seriesData,type:"line",lineStyle:{color:gt.color?gt.color:{type:"linear",colorStops:[{offset:0,color:"rgb(204, 186, 250)"},{offset:.5,color:"rgb(144, 123, 247)"},{offset:.6,color:"rgb(95, 128, 249)"},{offset:.95,color:"rgb(80, 132, 250)"},{offset:1,color:"rgb(166, 192, 252)"}]},width:3},smooth:gt.smooth,step:gt.step}]};return(0,o.Z)((0,o.Z)({},(0,it.s)(gt.seriesData.length>0)),L)}var x=e(84486),ft=e.n(x),Mt=e(7654),j=e.n(Mt),V=e(52353),st=e.n(V),W=e(14293),Dt=e.n(W),ht=e(63105),rt=e.n(ht),_=e(84238),t=e.n(_),Zt=function(zt,L,Qt){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},v=a.format,H=v===void 0?"MM-DD HH:mm":v,b=a.xAxis,at=a.yAxis,q=a.smooth,Pt=q===void 0?!1:q,It=a.step,wt=a.dataZoom,$t=a.needMinMax,St=$t===void 0?!0:$t,de=a.yAxisMin,ce=de===void 0?function(Bt){return parseInt(Bt.min*.9999*Math.pow(10,4))/Math.pow(10,4)}:de,Ze=a.yAxisMax,Se=Ze===void 0?function(Bt){return parseInt(Bt.max*1.0001*Math.pow(10,4))/Math.pow(10,4)}:Ze,qt=a.tootlTipSuffix,$=qt===void 0?"(UTC)":qt,Te=a.tootlTipFormat,xe=Te===void 0?"YYYY-MM-DD HH:mm":Te,Ae=[],Ce=[],se={};zt.forEach(function(Bt){var F=T()(Bt.date).add(1,"days").format(xe);$&&(F="".concat(F," ").concat($)),se[F]=T()(Bt.date).add(1,"days").format(H),Ae.push(F),Ce.push(Bt[L])});var Ft=h({xAxisData:Ae,seriesName:Qt,seriesData:Ce,smooth:Pt,dataZoom:wt});if(Ft.yAxis=(0,o.Z)((0,o.Z)({},Ft.yAxis),at),Ft.xAxis=(0,o.Z)((0,o.Z)({axisLabel:{formatter:function(F){return se[F]}}},Ft.xAxis),b),Ft.yAxis.splitLine={lineStyle:{color:"#454459"}},St&&(Ft.yAxis.min=ce,Ft.yAxis.max=Se),Ft.series[0].connectNulls=!0,Ft.series[0].showSymbol=t()(rt()(Ce,function(Bt){return!Dt()(Bt)}))===1,Ft.series[0].lineStyle={width:5,cap:"round"},It){var pe=Ft.series[0].data;ft()(pe,function(Bt,F){(st()(Bt)||j()(Bt))&&F!==0&&(pe[F]=pe[F-1])})}return Ft},Ot=Zt},10501:function(vt,z,e){"use strict";e.d(z,{Z:function(){return T}});var o=e(11849),l=e(76492);function T(K){var J=[],it=0,C=[];C=K.data,C.length>0&&C.forEach(function(x){var ft=(0,o.Z)({name:x.seriesName?x.seriesName:"",data:x.seriesData,type:"line",showSymbol:x.showSymbol,lineStyle:{width:5,cap:"round"}},x);it+=x.seriesData.length,J.push(ft)});var h={animation:!1,textStyle:{color:"#fff"},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"},confine:!0},legend:K.legend,xAxis:{type:"category",data:K.xAxisData},yAxis:{type:"value"},series:J};return K.tooltipFormatter&&(h.tooltip.formatter=K.tooltipFormatter),(0,o.Z)((0,o.Z)({},(0,l.s)(it>0)),h)}},76492:function(vt,z,e){"use strict";e.d(z,{s:function(){return o}});function o(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return l?{}:{graphic:{type:"text",left:"center",top:"middle",silent:!0,invisible:!1,style:{fill:"#9d9d9d",fontWeight:"bold",text:"No Data",fontSize:"25px"}}}}},22844:function(vt,z,e){"use strict";e.d(z,{O2:function(){return l},DO:function(){return T},Nd:function(){return K},A7:function(){return J}});var o=e(905),l={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},T=18,K=(0,o.Z)(1e18),J=4},53651:function(vt,z,e){"use strict";e.d(z,{Gj:function(){return o},KR:function(){return l},ux:function(){return T}});var o={daily:"daily",monthly:"monthly",weekly:"weekly",yearly:"yearly"},l={usdi:"USDi",ethi:"ETHi"},T=!1},55414:function(vt,z,e){"use strict";e.d(z,{o1:function(){return K},tX:function(){return J}});var o=["Balancer","UniswapV2","Dodo","Sushi_Kashi","Sushi_Swap","Convex","Rari","UniswapV3","YearnEarn","YearnV2","YearnIron","GUni","Stargate","DForce","Synapse","Aura","Aave"],l=["Curve","Aave","Balancer","Gravity","Polycat","Qi","Quickswap","Sushi","Synapse","Dodo","Stargate","UniswapV3"],T=["Balancer","UniswapV2","Convex","Aura","UniswapV3","StakeWise","YearnV2","Aave"],K={1:o,137:l},J={1:T}},7594:function(vt,z,e){"use strict";e.r(z);var o=e(57106),l=e(99683),T=e(57663),K=e(71577),J=e(67294),it=e(65367),C=e(85893),h=function(){return(0,C.jsx)(l.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:(0,C.jsx)(K.Z,{type:"primary",onClick:function(){return it.m8.push("/")},children:"Back Home"})})};z.default=h},38465:function(vt,z,e){"use strict";e.r(z),e.d(z,{default:function(){return pn}});var o=e(32059),l=e(67294),T=e(65367),K=e(13062),J=e(36725),it=e(89032),C=e(1635),h=e(11849),x=e(2824),ft=e(21349),Mt=e(22385),j=e(45777),V=e(93224),st=e(58024),W=e(91894),Dt=e(94184),ht=e.n(Dt),rt=e(69255),_=e.n(rt),t=e(85893),Zt=["loading"],Ot=["contentHeight","title","avatar","action","total","footer","children"],gt=function(n,s){if(!n&&n!==0)return null;var r;switch(typeof n){case"undefined":r=null;break;case"function":r=(0,t.jsxs)("div",{className:_().total,children:[(0,t.jsx)("span",{children:n()}),s&&(0,t.jsx)("span",{className:_().unit,children:s})]});break;default:r=(0,t.jsxs)("div",{className:_().total,children:[(0,t.jsx)("span",{children:n}),s&&(0,t.jsx)("span",{className:_().unit,children:s})]})}return r},zt=function(n){var s=n.loading,r=s===void 0?!1:s,d=(0,V.Z)(n,Zt),m=d.contentHeight,y=d.title,c=d.avatar,I=d.action,f=d.total,M=d.footer,A=d.children,P=(0,V.Z)(d,Ot),nt=function(){return r?!1:(0,t.jsxs)("div",{className:_().chartCard,children:[(0,t.jsxs)("div",{className:ht()(_().chartTop),children:[(0,t.jsx)("div",{className:_().avatar,children:c}),(0,t.jsxs)("div",{className:_().metaWrap,children:[(0,t.jsxs)("div",{className:_().meta,children:[(0,t.jsx)("span",{className:_().title,children:y}),(0,t.jsx)("span",{className:_().action,children:I})]}),gt(f,n.unit)]})]}),A&&(0,t.jsx)("div",{className:_().content,style:{height:m||"auto"},children:(0,t.jsx)("div",{className:m&&_().contentFixed,children:A})}),M&&(0,t.jsx)("div",{className:ht()(_().footer,(0,o.Z)({},_().footerMargin,!A)),children:M})]})};return(0,t.jsx)(W.Z,(0,h.Z)((0,h.Z)({loading:r,className:_().card},P),{},{children:nt()}))},L=zt,Qt=e(68628),a=e(96486),v=e(25091),H=e(90958),b=e.n(H),at=["label","value"],q={xs:24,sm:24,md:24,lg:8,xl:8},Pt=function(n){var s=n.label,r=n.value,d=(0,V.Z)(n,at);return(0,t.jsxs)("div",(0,h.Z)((0,h.Z)({className:b().field},d),{},{children:[(0,t.jsx)("span",{className:b().label,children:s}),(0,t.jsx)("span",{className:b().number,children:r})]}))},It=function(n){var s=n.data,r=s===void 0?[]:s;return(0,t.jsx)(J.Z,{gutter:[24,24],children:(0,a.map)(r,function(d){var m=d.title,y=d.tip,c=d.loading,I=d.content,f=d.unit,M=d.subTitle,A=(0,t.jsx)(Pt,{style:{height:"1.5rem"},value:M});return!M&&(0,v.tq)()&&(A=null),(0,t.jsx)(C.Z,(0,h.Z)((0,h.Z)({},q),{},{children:(0,t.jsx)(L,{bordered:!1,title:m,action:(0,t.jsx)(j.Z,{title:y,children:(0,t.jsx)(Qt.Z,{style:{fontSize:22}})}),loading:c,total:I,unit:f,footer:A})}),m)})})},wt=It,$t=e(88983),St=e(82530),de=e(43358),ce=e(76647),Ze=e(18106),Se=e(47428),qt=e(98821),$=e(93083),Te=Se.Z.TabPane,xe=ce.Z.Option;function Ae(Z){var n,s=Z.isUsdi,r=Z.loading,d=r===void 0?!1:r,m=Z.calDateRange,y=m===void 0?7:m,c=Z.onCalDateRangeClick,I=c===void 0?function(){}:c,f=Z.apyEchartOpt,M=f===void 0?{}:f,A=Z.tvlEchartOpt,P=A===void 0?{}:A,nt=(0,$.hU)(),E=(n={},(0,o.Z)(n,$.me.Desktop,{chartWrapperClassName:b().chartDiv}),(0,o.Z)(n,$.me.Tablet,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:b().chartDivMobile}),(0,o.Z)(n,$.me.Mobile,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:b().chartDivMobile,tabClassName:b().tabMobile}),n)[nt],Tt=function(N){typeof N=="number"?I(N):I(N.target.value)},mt=(0,t.jsx)("div",{className:b().buttons,children:(0,t.jsxs)(St.ZP.Group,{value:y,onChange:Tt,children:[(0,t.jsx)(j.Z,{title:"last 7 days",children:(0,t.jsx)(St.ZP.Button,{value:7,children:"WEEK"})}),(0,t.jsx)(j.Z,{title:"last 30 days",children:(0,t.jsx)(St.ZP.Button,{value:31,children:"MONTH"})}),(0,t.jsx)(j.Z,{title:"last 365 days",children:(0,t.jsx)(St.ZP.Button,{value:365,children:"YEAR"})})]})});return nt===$.me.Mobile&&(mt=(0,t.jsxs)(ce.Z,{style:{width:120},value:y,onChange:Tt,children:[(0,t.jsx)(xe,{value:7,children:"WEEK"}),(0,t.jsx)(xe,{value:31,children:"MONTH"}),(0,t.jsx)(xe,{value:365,children:"YEAR"})]})),(0,t.jsx)(W.Z,(0,h.Z)((0,h.Z)({loading:d,bordered:!1},E.cardProps),{},{children:(0,t.jsx)("div",{className:b().vaultKeyCard,children:(0,t.jsxs)(Se.Z,{animated:!0,className:ht()(E.tabClassName),tabBarExtraContent:mt,children:[(0,t.jsx)(Te,{tab:"APY (%)",children:(0,t.jsx)("div",{className:E.chartWrapperClassName,children:(0,t.jsx)(qt.$c,{option:M,style:{height:"100%",width:"100%"}})})},"apy"),(0,t.jsx)(Te,{tab:"Total Supply",children:(0,t.jsx)("div",{className:E.chartWrapperClassName,children:(0,t.jsx)(qt.$c,{option:P,style:{height:"100%",width:"100%"}})})},"totalSupply")]})})}))}var Ce=e(96222),se=e(22533),Ft=e(12968),pe=e(62462),Bt=e(86582),F=e(905),U=e(9292),na=function(n){var s,r=n.tokenDecimals,d=n.displayDecimals,m=n.strategyMap,y=n.visitData,c=y===void 0?{}:y,I=n.unit,f=(0,T.tT)("@@initialState"),M=f.initialState,A=(0,$.hU)();if(!M.chain)return null;var P=c.strategies,nt=P===void 0?[]:P,E=c.totalValueInVault,Tt=E===void 0?"0":E,mt=(0,a.reduce)(nt,function(p,u){return p.plus(u.totalValue)},(0,F.Z)(0)),lt=(0,F.Z)(Tt).plus(mt),N=(0,a.groupBy)((0,a.filter)(nt,function(p){return p.totalValue>0}),"protocol"),tt=[].concat((0,Bt.Z)((0,a.values)((0,a.mapValues)(N,function(p,u){var i=(0,a.reduce)(p,function(R,D){return R.plus(D.totalValue)},(0,F.Z)(0));return{name:m[M.chain][u],amount:i,percent:i.div(lt)}}))),[{name:"Vault",amount:(0,F.Z)(Tt),percent:lt.eq(0)?"0":(0,F.Z)(Tt).div(lt)}]),et=[{title:"Protocol Name",dataIndex:"name",key:"name",render:function(u){return(0,t.jsxs)("div",{className:b().tableCell,children:[(0,t.jsx)(pe.Z,{width:30,preview:!1,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(u,".png"),placeholder:u,alt:u,style:{borderRadius:"50%"},fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("span",{className:b().text,children:u})]})}},{title:"Asset (".concat(I,")"),dataIndex:"amount",key:"amount",showSorterTooltip:!1,sorter:function(u,i){return u.amount.minus(i.amount)},render:function(u){return(0,U.FH)(u.toString(),r,d)}},{title:"Asset Ratio",dataIndex:"percent",key:"percent",defaultSortOrder:"descend",showSorterTooltip:!1,sorter:function(u,i){return u.percent.minus(i.percent)},render:function(u){return(0,t.jsxs)("span",{children:[(0,U.FH)(u,.01,2),"%"]})}}],ot=(s={},(0,o.Z)(s,$.me.Desktop,{}),(0,o.Z)(s,$.me.Tablet,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),(0,o.Z)(s,$.me.Mobile,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),s)[A];return(0,t.jsx)("div",{children:(0,t.jsx)(se.Z,(0,h.Z)({rowKey:function(u){return u.name},columns:et,dataSource:tt,pagination:!1},ot.tableProps))})},ia=na,vn=e(13254),ra=e(14277),sa=e(88377),la=e(92077),Ct=e.n(la),oa=function(n){var s,r=n.strategyMap,d=n.tokenDecimals,m=n.displayDecimals,y=n.visitData,c=y===void 0?{}:y,I=n.unit,f=c.strategies,M=f===void 0?[]:f,A=c.totalValueInVault,P=A===void 0?"0":A,nt=(0,T.tT)("@@initialState"),E=nt.initialState,Tt=(0,$.hU)(),mt=" (".concat(I,")");if(!E.chain)return null;var lt=(0,a.reduce)(M,function(u,i){return u.plus(i.totalValue)},(0,F.Z)(0)),N=(0,F.Z)(P).plus(lt),tt=(0,a.groupBy)((0,a.filter)(M,function(u){return u.totalValue>0}),"protocol"),et=(0,U.FH)(N,d,m);if((0,a.isEmpty)(tt)&&et<=0||isNaN(et))return(0,t.jsx)(ra.Z,{style:{marginTop:"4rem"}});var ot=[].concat((0,Bt.Z)((0,a.values)((0,a.mapValues)(tt,function(u,i){var R=(0,a.reduce)(u,function(D,O){return D.plus(O.totalValue)},(0,F.Z)(0));return{Protocol:"".concat(r[E.chain][i]).concat(mt),amount:(0,U.FH)(R,d,m)}}))),[{Protocol:"Vault".concat(mt),amount:(0,U.FH)(P,d,m)}]),p=(s={},(0,o.Z)(s,$.me.Desktop,{legendProps:{position:"bottom-center"}}),(0,o.Z)(s,$.me.Tablet,{legendProps:{position:"bottom-center"}}),(0,o.Z)(s,$.me.Mobile,{legendProps:{position:"bottom-center"}}),s)[Tt];return(0,t.jsx)("div",{className:b().chartWrapper,children:(0,t.jsx)(sa.yi,{forceFit:!0,padding:"auto",angleField:"amount",color:["#A68EFE","#2ec7c9","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4"],colorField:"Protocol",data:ot,legend:(0,h.Z)({visible:!0,text:{style:{fill:"#fff"},formatter:function(i){return i.replace(mt,"")}}},p.legendProps),label:{visible:!1,type:"spider",offset:20,formatter:function(i,R){return"".concat(R._origin.Protocol,": ").concat(R._origin.amount)}},interactions:[{type:"element-selected"},{type:"element-active"}],statistic:{visible:!0,content:{value:Ct()((0,U.FH)(N,d,m)).format("0.[0000]a"),name:"TVL".concat(mt)}}})})},ua=oa,kt=e(1123);function _e(Z){var n,s=Z.loading,r=s===void 0?!1:s,d=Z.tokenDecimals,m=Z.strategyMap,y=m===void 0?{}:m,c=Z.vaultData,I=c===void 0?{}:c,f=Z.unit,M=f===void 0?"USD":f,A=Z.displayDecimals,P=A===void 0?kt.h:A,nt=(0,$.hU)(),E=(n={},(0,o.Z)(n,$.me.Desktop,{}),(0,o.Z)(n,$.me.Tablet,{cardProps:{size:"small"}}),(0,o.Z)(n,$.me.Mobile,{cardProps:{size:"small"}}),n)[nt];return(0,t.jsx)(W.Z,(0,h.Z)((0,h.Z)({loading:r,className:b().salesCard,bordered:!1,title:"Vault Protocol Allocations"},E.cardProps),{},{children:(0,t.jsxs)(J.Z,{children:[(0,t.jsx)(C.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(ua,{loading:r,strategyMap:y,tokenDecimals:d,displayDecimals:P,visitData:I||{},unit:M})})}),(0,t.jsx)(C.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(ia,{loading:r,strategyMap:y,tokenDecimals:d,displayDecimals:P,visitData:I||{},unit:M})})})]})}))}var mn=e(77576),da=e(12028),yn=e(54029),ca=e(79166),pa=e(69157),va=e(26985),Lt=e(860),ma=function(n){var s,r=n.loading,d=n.strategyMap,m=n.displayDecimals,y=m===void 0?kt.h:m,c=n.unit,I=c===void 0?"USD":c,f=(0,l.useState)(!0),M=(0,x.Z)(f,2),A=M[0],P=M[1],nt=(0,T.tT)("@@initialState"),E=nt.initialState,Tt=(0,$.hU)(),mt=(0,T.QT)(function(){return(0,Lt.mB)(E.chain,E.vaultAddress,0,100)},{formatResult:function(i){return(0,a.sortBy)(i.content,["strategyName"])}}),lt=mt.data;if(!E.chain)return null;var N=(0,F.Z)(1e18),tt=[{title:(0,t.jsxs)("div",{children:["Name\xA0\xA0",(0,t.jsx)(j.Z,{placement:"topLeft",arrowPointAtCenter:!0,overlayStyle:{width:300},title:"By clicking on the strategy name you will be directed to the strategy page with all the related information viewable, e.g., strategy profits and official APY.",children:(0,t.jsx)(Qt.Z,{})})]}),dataIndex:"strategyName",key:"strategyName",width:320,render:function(i,R){return(0,t.jsxs)("div",{className:b().tableCell,children:[(0,t.jsx)(pe.Z,{preview:!1,width:30,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(d[E.chain][R.protocol],".png"),placeholder:R.protocol,style:{borderRadius:"50%"},alt:d[E.chain][R.protocol],fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat((0,va.i)()?"https://dashboard.bankofchain.io":"https://dashboard-v2.bankofchain.io","/#/strategy?id=").concat(R.strategyAddress,"&chain=").concat(E.chain,"&vault=").concat(E.vault),className:b().text,children:i})]})}},{title:"Tokens",dataIndex:"underlyingTokens",key:"underlyingTokens",width:130,render:function(i){return!(0,a.isEmpty)(i)&&(0,t.jsx)(pa.Z,{array:i.split(",")})}},{title:"Asset (".concat(I,")"),dataIndex:"totalAssetBaseCurrent",key:"totalAssetBaseCurrent",showSorterTooltip:!1,defaultSortOrder:"descend",sorter:function(i,R){return(0,F.Z)(i.totalAssetBaseCurrent||"0").minus((0,F.Z)(R.totalAssetBaseCurrent||"0"))},render:function(i){return(0,t.jsx)("span",{children:(0,U.FH)(i||"0",N,y)})}},{title:"Weekly Official APY",dataIndex:"officialWeeklyApy",key:"officialWeeklyApy",showSorterTooltip:!1,sorter:function(i,R){return i.officialWeeklyApy-R.officialWeeklyApy},render:function(i){return(0,t.jsxs)("span",{children:[(0,U.Ik)((100*i).toFixed(2)),"%"]})}},{title:"Weekly Realized APY",dataIndex:"realizedApy",key:"realizedApy",showSorterTooltip:!1,sorter:function(i,R){var D=i.realizedApy||{value:"0"},O=D.value,Y=R.realizedApy||{value:"0"},S=Y.value;return O-S},render:function(i){if((0,a.isEmpty)(i))return(0,t.jsx)("span",{children:"0.00%"});var R=i.value,D=i.detail,O=(0,t.jsxs)("span",{children:[(0,U.Ik)((100*R).toFixed(2)),"%"]});if((0,a.isEmpty)(D))return O;var Y=(0,t.jsx)("div",{children:(0,a.map)(D,function(S,B){return(0,t.jsxs)("span",{style:{display:"block"},children:[S.feeName,": ",(0,U.Ik)((100*S.feeApy).toFixed(2)),"%"]},B)})});return(0,t.jsxs)("span",{children:[O,"\xA0",(0,t.jsx)(j.Z,{title:Y,children:(0,t.jsx)(Qt.Z,{})})]})}},{title:"Weekly Unrealized APY",dataIndex:"unrealizedApy",key:"unrealizedApy",showSorterTooltip:!1,sorter:function(i,R){var D=i.unrealizedApy||{value:"0"},O=D.value,Y=R.unrealizedApy||{value:"0"},S=Y.value;return O-S},render:function(i){if((0,a.isEmpty)(i))return(0,t.jsx)("span",{children:"0.00%"});var R=i.value,D=i.detail,O=(0,t.jsxs)("span",{children:[(0,U.Ik)((100*R).toFixed(2)),"%"]});if((0,a.isEmpty)(D))return O;var Y=(0,t.jsx)("div",{children:(0,a.map)(D,function(S,B){return(0,t.jsxs)("span",{style:{display:"block"},children:[S.feeName,": ",(0,U.Ik)((100*S.feeApy).toFixed(2)),"%"]},B)})});return(0,t.jsxs)("span",{children:[O,"\xA0",(0,t.jsx)(j.Z,{title:Y,children:(0,t.jsx)(Qt.Z,{})})]})}},{title:"Weekly Realized Profit",dataIndex:"weekProfit",key:"weekProfit",render:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1?arguments[1]:void 0,D=R.estimateProfit,O=R.tokenUnit,Y=O===void 0?"":O,S=(0,a.isNil)(D),B=(0,t.jsx)(ca.Z,{dot:!S,color:"gold",children:(0,t.jsxs)("span",{children:[(0,U.FH)(i||"0",N,y)," ",Y||""]})});if(S)return B;var xt=(0,t.jsxs)("span",{children:["Estimate Profit: ",(0,U.FH)(D,N,y)," ",Y||""]});return(0,t.jsx)(j.Z,{title:xt,children:B})}},{title:"Strategy Address",dataIndex:"strategyAddress",key:"strategyAddress",align:"center",render:function(i,R){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[E.chain],"/address/").concat(R.strategyAddress),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}],et=A?lt:(0,a.filter)(lt,function(u){return(0,F.Z)(u.totalAsset).gt(0)}),ot=(s={},(0,o.Z)(s,$.me.Desktop,{}),(0,o.Z)(s,$.me.Tablet,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}}),(0,o.Z)(s,$.me.Mobile,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"mobile-font-size",scroll:{x:900}}}),s)[Tt],p="Vault Strategies Allocations";return Tt===$.me.Mobile&&(p="Strategies Allocations"),(0,t.jsx)("div",{children:(0,t.jsx)(W.Z,(0,h.Z)((0,h.Z)({loading:r,bordered:!1,title:p,extra:(0,t.jsxs)("div",{children:[(0,t.jsx)(da.Z,{checked:A,onChange:function(){return P(!A)}}),(0,t.jsx)(j.Z,{title:"show all strategies added in vault",children:(0,t.jsx)("span",{style:{padding:10},children:"Show All"})})]})},ot.cardProps),{},{children:(0,t.jsx)(se.Z,(0,h.Z)({rowKey:function(i){return i.strategyAddress},columns:tt,dataSource:et,pagination:(et==null?void 0:et.length)>10&&{style:{marginBottom:0},pageSize:10}},ot.tableProps))}))})},Ne=ma,ya=e(30381),ne=e.n(ya),fa=e(35161),le=e.n(fa),ha=e(39693),ga=e.n(ha),_t=e(39428),oe=e(3182),Ie=e(25630),je=e(94991),ve=e(89850),be,We={SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethereum","137":""},VAULT_ADDRESS:{"1":"0x30D120f80D60E7b58CA9fFaf1aaB1815f000B7c3","137":""},USDI_ADDRESS:{"1":"0x83131242843257bc6C43771762ba467346Efb2CF","137":""},VAULT_BUFFER_ADDRESS:{"1":"0x0b8D3634a05cc6b50E4D026c0eaFa8469cA98480","137":""}}.SUB_GRAPH_URL,Ta=(be={},(0,o.Z)(be,ve.W3.id,new Ie.f({uri:We[ve.W3.id],cache:new je.h})),(0,o.Z)(be,ve.hB.id,new Ie.f({uri:We[ve.hB.id],cache:new je.h})),be),xa=(0,o.Z)({},ve.hB.id,new Ie.f({uri:{SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethi"},VAULT_ADDRESS:{"1":"0x8f0Cb368C63fbEDF7a90E43fE50F7eb8B9411746"},ETHI_ADDRESS:{"1":"0x1A597356E7064D4401110FAa2242bD0B51D1E4Fa"},VAULT_BUFFER_ADDRESS:{"1":"0xC8915157b36ed6D0F36827a1Bb5E9b0cDd1e87Cd"}}.SUB_GRAPH_URL[ve.hB.id],cache:new je.h})),He=function(n,s){var r,d=(r={},(0,o.Z)(r,kt._.USDi,Ta),(0,o.Z)(r,kt._.ETHi,xa),r)[n];return d[s]},we=e(87899),Aa=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalValueInVault
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      totalValue
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Ea=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      debtRecordInVault
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Da=function(){var Z=(0,oe.Z)((0,_t.Z)().mark(function n(s,r){var d,m,y,c,I,f,M,A,P=arguments;return(0,_t.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(m=P.length>2&&P[2]!==void 0?P[2]:"",y=P.length>3&&P[3]!==void 0?P[3]:"",c=P.length>4&&P[4]!==void 0?P[4]:"",I=He(s,r),!(0,a.isEmpty)(I)){E.next=6;break}return E.abrupt("return");case 6:return f=(d={},(0,o.Z)(d,kt._.USDi,Aa),(0,o.Z)(d,kt._.ETHi,Ea),d)[s],E.next=9,I.query({query:(0,we.Ps)(f),variables:{tokenAddress:m.toLowerCase(),valutAddress:y.toLowerCase(),vaultBufferAddress:c.toLowerCase()}});case 9:return M=E.sent,A=M.data,E.abrupt("return",A);case 12:case"end":return E.stop()}},n)}));return function(s,r){return Z.apply(this,arguments)}}(),Fe=function(){return`
query($types: [PegTokenUpdateType], $first: Int) {
  pegTokenUpdates(
    orderBy: timestamp,
    orderDirection: desc,
    first: $first,
    where: {
      type_in: $types
    },
  ) {
    id
    type
    transferredAmount
    totalSupplyChangeAmount
    timestamp
    fromAccountUpdate {
      account {
        id
      }
    }
    transaction {
      id
    }
		toAccountUpdate {
      account {
        id
      }
    }
  }
}
`},Sa=function(){var Z=(0,oe.Z)((0,_t.Z)().mark(function n(s,r,d){var m,y,c,I,f=arguments;return(0,_t.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(y=f.length>3&&f[3]!==void 0?f[3]:100,c=He(s,r),!(0,a.isEmpty)(c)){A.next=4;break}return A.abrupt("return");case 4:return I=(m={},(0,o.Z)(m,kt._.USDi,Fe()),(0,o.Z)(m,kt._.ETHi,Fe()),m)[s],A.next=7,c.query({query:(0,we.Ps)(I),variables:{types:d,first:y}}).then(function(P){return P.data.pegTokenUpdates});case 7:return A.abrupt("return",A.sent);case 8:case"end":return A.stop()}},n)}));return function(s,r,d){return Z.apply(this,arguments)}}(),$e=e(61303),Oe={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},Ca=18,Be=(0,F.Z)(1e18),ba=ce.Z.Option,Ma=function(n){var s,r,d=n.loading,m=n.dispalyDecimal,y=m===void 0?kt.h:m,c=n.decimals,I=c===void 0?Ca:c,f=n.token,M=f===void 0?"USDi":f,A=n.filterOptions,P=A===void 0?Oe:A,nt=(0,T.tT)("@@initialState"),E=nt.initialState,Tt=(0,l.useState)([]),mt=(0,x.Z)(Tt,2),lt=mt[0],N=mt[1],tt=(0,l.useState)(!1),et=(0,x.Z)(tt,2),ot=et[0],p=et[1],u=(0,$.hU)(),i=(0,h.Z)({All:"All"},(0,a.omit)(P,[P.Deposit])),R=(0,l.useState)(i.All),D=(0,x.Z)(R,2),O=D[0],Y=D[1],S=(0,l.useState)(1),B=(0,x.Z)(S,2),xt=B[0],G=B[1];(0,l.useEffect)(function(){var Q=[O];O===Oe.Mint&&Q.push(Oe.Deposit);var k=O===i.All?Object.values(P):Q;p(!0),Sa(E.vault,E.chain,k).then(function(X){var ut=ga()(le()(X,function(dt){var ct,At,bt,jt,Yt;if(!(dt.type===P.Mint&&(dt==null||(ct=dt.toAccountUpdate)===null||ct===void 0||(At=ct.account)===null||At===void 0||(bt=At.id)===null||bt===void 0?void 0:bt.toLowerCase())===((jt=(0,$e.L)(E.chain,E.vault))===null||jt===void 0||(Yt=jt.vaultBufferAddress)===null||Yt===void 0?void 0:Yt.toLowerCase())))return dt.type===P.Deposit?(0,h.Z)((0,h.Z)({},dt),{},{type:P.Mint}):dt}));G(1),N(ut)}).finally(function(){p(!1)})},[O]);var yt=function(k){return(0,t.jsx)("a",{target:"_blank",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[E.chain],"/address/").concat(k),title:k,rel:"noreferrer",children:k})},Ut=(s={},(0,o.Z)(s,$.me.Desktop,["10rem","10rem","25rem","8rem"]),(0,o.Z)(s,$.me.Tablet,["8rem","8rem",void 0,"8rem"]),(0,o.Z)(s,$.me.Mobile,["8rem","8rem",void 0,"8rem"]),s)[u],Nt=[{title:"Date",dataIndex:"timestamp",key:"timestamp",render:function(k){return(0,t.jsx)(j.Z,{title:"".concat(ne()(1e3*k).utcOffset(0).format("yyyy-MM-DD HH:mm:ss")," (UTC)"),children:ne()(1e3*k).utcOffset(0).locale("en").fromNow()})}},{title:"Operation",dataIndex:"type",key:"type",ellipsis:{showTitle:!1}},{title:"Details",key:"detail",render:function(k,X){var ut,dt,ct=X.type,At=X.transferredAmount,bt=X.toAccountUpdate,jt=X.fromAccountUpdate,Yt=X.totalSupplyChangeAmount,Vt=(0,U.Wl)(Yt,I,y),Rt=(0,U.Wl)((0,F.Z)(At).abs(),I,y),Et=(0,U.Wl)(At,I,y),w=(0,U.FH)(Yt,(0,F.Z)(Math.pow(10,I))),pt=(0,U.FH)((0,F.Z)(At).abs(),(0,F.Z)(Math.pow(10,I))),Wt=(0,U.FH)(At,(0,F.Z)(Math.pow(10,I))),re=jt==null||(ut=jt.account)===null||ut===void 0?void 0:ut.id,ge=bt==null||(dt=bt.account)===null||dt===void 0?void 0:dt.id,Jt={Mint:function(){return(0,t.jsxs)(t.Fragment,{children:[ct," ",(0,t.jsx)("span",{title:Wt,children:Et})," ",M," to ",yt(ge)]})},Burn:function(){return(0,t.jsxs)(t.Fragment,{children:[ct," ",(0,t.jsx)("span",{title:pt,children:Rt})," ",M," from ",yt(re)]})},Rebase:function(){return(0,t.jsxs)(t.Fragment,{children:[ct," ",(0,t.jsx)("span",{title:w,children:Vt})," ",M]})},Transfer:function(){return(0,t.jsxs)(t.Fragment,{children:[ct," ",(0,t.jsx)("span",{title:Wt,children:Et})," ",M," from ",yt(re)," to ",yt(ge)]})}};return(0,t.jsx)("span",{style:{whiteSpace:"normal"},children:Jt[X.type]()})}},{title:"Tx Address",key:"tx",ellipsis:{showTitle:!1},align:"center",render:function(k,X){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[E.chain],"/tx/").concat(X.transaction.id),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}];Nt.forEach(function(Q,k){Q.width=Ut[k]});var g=function(k){typeof k=="string"?Y(k):Y(k.target.value)},Kt=(r={},(0,o.Z)(r,$.me.Desktop,{radioGroupProps:{size:"large"}}),(0,o.Z)(r,$.me.Tablet,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{size:"small",scroll:{x:800}}}),(0,o.Z)(r,$.me.Mobile,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{compact:!0,size:"small",scroll:{x:800}}}),r)[u],ae=(0,t.jsx)(St.ZP.Group,(0,h.Z)((0,h.Z)({value:O,onChange:g,buttonStyle:"solid"},Kt.radioGroupProps),{},{className:b().buttons,children:le()(i,function(Q,k){return(0,t.jsx)(St.ZP.Button,{value:Q,children:k},k)})}));return u===$.me.Mobile&&(ae=(0,t.jsx)(ce.Z,{style:{width:120},value:O,onChange:g,children:le()(i,function(Q,k){return(0,t.jsx)(ba,{value:Q,children:k},k)})})),(0,t.jsx)("div",{children:(0,t.jsx)(W.Z,(0,h.Z)((0,h.Z)({loading:d,bordered:!1,title:"Recent Activity",extra:ae},Kt.cardProps),{},{children:(0,t.jsx)(se.Z,(0,h.Z)({rowKey:function(k){return k.id},columns:Nt,dataSource:lt,loading:ot,pagination:(lt==null?void 0:lt.length)>10&&{showSizeChanger:!1,style:{marginBottom:0},current:xt,pageSize:10,onChange:function(k){G(k)}}},Kt.tableProps))}))})},Ke=Ma,Ye=e(42411),ze=e(10501),Pa=e(3691),Ua=e.n(Pa),Za=[{label:"USDi",value:"usdi"},{label:"ETHi",value:"ethi"},{label:"USDr",value:"usdr"},{label:"ETHr",value:"ethr"}],Ia=function(){var n=(0,T.tT)("@@initialState"),s=n.initialState,r=n.setInitialState,d=function(y){var c=T.m8.location.query.chain;r((0,h.Z)((0,h.Z)({},s),{},{vault:y},(0,$e.L)(c,y))),T.m8.push({query:{chain:c||s.chain,vault:y}})};return(0,t.jsx)(J.Z,{children:(0,t.jsx)(C.Z,{span:24,className:Ua().container,children:(0,t.jsx)(St.ZP.Group,{size:"large",onChange:function(y){return d(y.target.value)},value:s.vault,buttonStyle:"solid",children:le()(Za,function(m,y){return(0,t.jsx)(St.ZP.Button,{value:m.value,children:m.label},y)})})})})},Me=Ia,Pe=e(55414),me=e(53651),Xt=e(22844),ja=e(41609),ie=e.n(ja),Oa=function(n){var s=n.vault,r=n.chain,d=n.vaultAddress,m=n.tokenAddress,y=n.vaultBufferAddress;return ie()(m)||ie()(d)?Promise.reject(new Error("fetch tokenAddress or vaultAddress failed")):Da(s,r,m,d,y).catch(function(c){return console.error("init DashBoard data failed",c),{pegToken:{totalSupply:"0",holderCount:"0"},vault:{totalAssets:"0",strategies:[]},vaultBuffer:{totalSupply:"0"}}})};function Ge(){var Z=(0,l.useState)({}),n=(0,x.Z)(Z,2),s=n[0],r=n[1],d=(0,l.useState)(!1),m=(0,x.Z)(d,2),y=m[0],c=m[1],I=(0,T.tT)("@@initialState"),f=I.initialState;return(0,l.useEffect)(function(){f!=null&&f.chain&&(c(!0),Oa(f).then(r).finally(function(){c(!1)}))},[f==null?void 0:f.chain,f==null?void 0:f.vault]),{dataSource:s,loading:y}}var Ee=e(2593),Ba=e(13311),La=e.n(Ba),Ue=function(n){for(var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,d=[],m=function(I){var f=n[0]?ne()(n[0].date):ne()().utcOffset(0).subtract(1,"days"),M=f.subtract(I,"days").format("YYYY-MM-DD"),A=La()(n,function(P){return P.date===M})||(0,o.Z)({date:M},s,void 0);d.push(A)},y=0;y<r;y++)m(y);return d},Ra=function(){var n=(0,l.useState)(31),s=(0,x.Z)(n,2),r=s[0],d=s[1],m=(0,l.useState)({}),y=(0,x.Z)(m,2),c=y[0],I=y[1],f=(0,l.useState)({}),M=(0,x.Z)(f,2),A=M[0],P=M[1],nt=(0,l.useState)(0),E=(0,x.Z)(nt,2),Tt=E[0],mt=E[1],lt=(0,T.tT)("@@initialState"),N=lt.initialState,tt=Ge(),et=tt.dataSource,ot=et===void 0?{}:et,p=tt.loading,u=ot.pegToken,i=u===void 0?{}:u,R=ot.vault,D=R===void 0?{}:R,O=ot.vaultBuffer,Y=O===void 0?{}:O;if((0,l.useEffect)(function(){if(!!N.chain){var X={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};r>7&&(X.format="MM-DD"),(0,Lt.ld)({chainId:N.chain,duration:me.Gj.monthly,limit:r,tokenType:me.KR.ethi}).then(function(ut){var dt=Ue(ut.content,"apy",r),ct=(0,a.map)((0,a.reverse)(dt),function(w){var pt=w.date,Wt=w.apy,re=(0,a.isNil)(Wt)?null:"".concat(Ct()(Wt).format("0.00"));return{date:pt,apy:re}});mt(ut.content[0]?ut.content[0].apy:0);var At=(0,a.uniq)((0,a.map)(ct,function(w){var pt=w.date;return pt})),bt=[],jt=(0,a.map)(At,function(w){var pt=(0,a.find)(ct,{date:w});return pt?{value:(0,U.Ay)(pt.apy),label:"".concat((0,U.Ik)(pt.apy),"%")}:null}),Yt=[{seriesName:"APY",seriesData:jt,showSymbol:(0,a.size)((0,a.filter)(jt,function(w){return!(0,a.isNil)(w.value)}))===1}],Vt={legend:{data:bt,textStyle:{color:"#fff"}},xAxisData:At,data:Yt},Rt=(0,ze.Z)(Vt);Rt.color=["#A68EFE","#5470c6","#91cc75"],Rt.series.forEach(function(w){w.connectNulls=!0,w.name==="Estimated APY"&&(w.lineStyle={width:2,type:"dotted"})}),Rt.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var Et=[];Rt.xAxis.data=Rt.xAxis.data.map(function(w){var pt="".concat(ne()(w).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return Et[pt]=ne()(w).add(1,"days").format(X.format),pt}),Rt.xAxis.axisLabel={formatter:function(pt){return Et[pt]}},Rt.xAxis.axisTick={alignWithLabel:!0},Rt.yAxis.splitLine={lineStyle:{color:"#454459"}},Rt.tooltip=(0,h.Z)((0,h.Z)({},Rt.tooltip),{},{formatter:function(pt){if(pt.length>0){var Wt=pt[0],re=Wt.axisValueLabel,ge=Wt.marker,Jt=Wt.seriesName,Ht=Wt.data,Ve="".concat(re,"<br/>").concat(ge).concat(Jt,": ");return Ht!=null&&Ht.value?Ve+=Ht==null?void 0:Ht.label:Ve+="-",Ve}}}),P(Rt)}).catch(function(ut){console.error(ut)}),(0,Lt.fY)({chainId:N.chain,limit:r,tokenType:me.KR.ethi}).then(function(ut){var dt=Ue(ut.content,"totalSupply",r),ct=(0,a.map)((0,a.reverse)(dt),function(At){var bt=At.date,jt=At.totalSupply;return{date:bt,totalSupply:(0,U.FH)(jt,Xt.Nd,Xt.A7)}});I((0,Ye.Z)(ct,"totalSupply","ETHi",(0,h.Z)((0,h.Z)({},X),{},{yAxisMin:function(bt){return Math.floor(bt.min*.998)},yAxisMax:function(bt){return Math.ceil(bt.max*1.001)}})))}).catch(function(ut){console.error(ut)})}},[r,N.chain]),(0,l.useEffect)(function(){return function(){(0,Lt.jv)()}},[]),(0,a.isEmpty)(N.chain))return null;var S=function(){return(0,a.isEmpty)(i)||(i==null?void 0:i.totalSupply)==="0"||(0,a.isEmpty)(D==null?void 0:D.totalAssets)?"1":!(0,a.isEmpty)(Y)&&D.isAdjust?(0,U.FH)(Ee.O$.from(D.totalAssets).sub(Y.totalSupply),i==null?void 0:i.totalSupply,6):(0,U.FH)(D==null?void 0:D.totalAssets,i==null?void 0:i.totalSupply,6)},B=function(){T.m8.push("/prices?chain=".concat(N.chain,"&vault=").concat(N.vault))},xt=(0,U.FH)(i==null?void 0:i.totalSupply,Xt.Nd,Xt.A7),G=Ct()(xt).format("0.00 a"),yt=G.split(" "),Ut=(0,x.Z)(yt,2),Nt=Ut[0],g=Ut[1],Kt=isNaN(new Number(g)),ae=[{title:"Total Supply",tip:"Current total ETHi supply.",content:(0,a.isEmpty)(i)?0:"".concat(Nt).concat(Kt?"":g),loading:p,unit:"".concat((0,a.isEmpty)(i)?"":"".concat(Kt?g:"")," ETHi"),subTitle:(0,t.jsxs)("p",{children:["1ETHi \u2248 ",S(),"ETH"," ",(0,t.jsx)("span",{className:b().history,onClick:B,children:"History"})]})},{title:"Holders",tip:"Number Of ETHi holders.",content:Ct()(i==null?void 0:i.holderCount).format("0.[0000]a"),loading:p},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,U.Ik)(parseFloat(Tt).toFixed(2)),loading:p,unit:"%"}],Q=(0,a.cloneDeep)(ot.vault);if(Q){var k=(0,a.reduce)(Q.strategies,function(X,ut){return X.plus(ut.debtRecordInVault)},(0,F.Z)(0));Q.totalValueInVault=(0,F.Z)(Q.totalAssets).minus(k).toString(),Q.strategies.map(function(X){return X.totalValue=X.debtRecordInVault})}return(0,t.jsx)(ft.Z,{children:(0,t.jsxs)(J.Z,{gutter:[0,40],children:[(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(Me,{})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:ae})})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ae,{loading:p,calDateRange:r,onCalDateRangeClick:d,apyEchartOpt:A,tvlEchartOpt:c})})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(_e,{loading:p,strategyMap:Pe.tX,tokenDecimals:Xt.Nd,displayDecimals:Xt.A7,vaultData:Q,unit:"ETH"})})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ne,{unit:"ETH",loading:p,strategyMap:Pe.tX,displayDecimals:Xt.A7})})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ke,{token:"ETHi",decimals:Xt.DO,dispalyDecimal:Xt.A7,filterOptions:Xt.O2,loading:p})})})]})})},ka=Ra,Le=e(91907),Va=[{label:"Ethereum",key:"1"},{label:"Polygon",key:"137"}],_a=function(){var n=(0,l.useState)(31),s=(0,x.Z)(n,2),r=s[0],d=s[1],m=(0,l.useState)({}),y=(0,x.Z)(m,2),c=y[0],I=y[1],f=(0,l.useState)({}),M=(0,x.Z)(f,2),A=M[0],P=M[1],nt=(0,l.useState)(0),E=(0,x.Z)(nt,2),Tt=E[0],mt=E[1],lt=(0,T.tT)("@@initialState"),N=lt.initialState,tt=Ge(),et=tt.dataSource,ot=et===void 0?{}:et,p=tt.loading,u=ot.pegToken,i=u===void 0?{}:u,R=ot.vault,D=R===void 0?{}:R,O=ot.vaultBuffer,Y=O===void 0?{}:O;if((0,l.useEffect)(function(){if(!!N.chain){var Q={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};r>7&&(Q.format="MM-DD"),(0,Lt.ld)({chainId:N.chain,duration:me.Gj.monthly,limit:r,tokenType:me.KR.usdi}).then(function(k){var X=Ue(k.content,"apy",r),ut=(0,a.map)((0,a.reverse)(X),function(Et){var w=Et.date,pt=Et.apy,Wt=(0,a.isNil)(pt)?null:"".concat(Ct()(pt).format("0.00"));return{date:w,apy:Wt}}),dt=(0,a.get)(k,"content.[0].apy",0);mt(dt);var ct=(0,a.uniq)((0,a.map)(ut,function(Et){var w=Et.date;return w})),At=[],bt=(0,a.map)(ct,function(Et){var w=(0,a.find)(ut,{date:Et});return w?{value:(0,U.Ay)(w.apy),label:"".concat((0,U.Ik)(w.apy),"%")}:null}),jt=[{seriesName:"APY",seriesData:bt,showSymbol:(0,a.size)((0,a.filter)(bt,function(Et){return!(0,a.isNil)(Et.value)}))===1}],Yt={legend:{data:At,textStyle:{color:"#fff"}},xAxisData:ct,data:jt},Vt=(0,ze.Z)(Yt);Vt.color=["#A68EFE","#5470c6","#91cc75"],Vt.series.forEach(function(Et){Et.connectNulls=!0,Et.name==="Estimated APY"&&(Et.lineStyle={width:2,type:"dotted"})}),Vt.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var Rt=[];Vt.xAxis.data=Vt.xAxis.data.map(function(Et){var w="".concat(ne()(Et).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return Rt[w]=ne()(Et).add(1,"days").format(Q.format),w}),Vt.xAxis.axisLabel={formatter:function(w){return Rt[w]}},Vt.xAxis.axisTick={alignWithLabel:!0},Vt.yAxis.splitLine={lineStyle:{color:"#454459"}},Vt.tooltip=(0,h.Z)((0,h.Z)({},Vt.tooltip),{},{formatter:function(w){if(w.length>0){var pt=w[0],Wt=pt.axisValueLabel,re=pt.marker,ge=pt.seriesName,Jt=pt.data,Ht="".concat(Wt,"<br/>").concat(re).concat(ge,": ");return Jt!=null&&Jt.value?Ht+=Jt==null?void 0:Jt.label:Ht+="-",Ht}}}),P(Vt)}).catch(function(k){console.error(k)}),(0,Lt.fY)({chainId:N.chain,limit:r,tokenType:me.KR.usdi}).then(function(k){var X=Ue(k.content,"totalSupply",r),ut=(0,a.map)((0,a.reverse)(X),function(dt){var ct=dt.date,At=dt.totalSupply;return{date:ct,totalSupply:(0,U.FH)(At,Be,kt.h)}});I((0,Ye.Z)(ut,"totalSupply","USDi",(0,h.Z)((0,h.Z)({},Q),{},{yAxisMin:function(ct){return Math.floor(ct.min*.998)},yAxisMax:function(ct){return Math.ceil(ct.max*1.001)}})))}).catch(function(k){console.error(k)})}},[r,N.chain]),(0,l.useEffect)(function(){return function(){(0,Lt.jv)()}},[]),(0,a.isEmpty)(N.chain))return null;var S=function(){return(0,a.isEmpty)(i)||(i==null?void 0:i.totalSupply)==="0"||(0,a.isEmpty)(D==null?void 0:D.totalAssets)?"1":!(0,a.isEmpty)(Y)&&D.isAdjust?(0,U.FH)(Ee.O$.from(D.totalAssets).sub(Y.totalSupply),i==null?void 0:i.totalSupply,6):(0,U.FH)(D==null?void 0:D.totalAssets,i==null?void 0:i.totalSupply,6)},B=function(){T.m8.push("/prices?chain=".concat(N.chain,"&vault=").concat(N.vault))},xt=(0,U.FH)(i==null?void 0:i.totalSupply,Be,kt.h),G=Ct()(xt).format("0.00 a"),yt=G.split(" "),Ut=(0,x.Z)(yt,2),Nt=Ut[0],g=Ut[1],Kt=(0,a.isNaN)(new Number(g)),ae=[{title:"Total Supply",tip:"Current total USDi supply.",content:(0,a.isEmpty)(i)?0:"".concat(Nt).concat(Kt?"":g),loading:p,unit:"".concat((0,a.isEmpty)(i)?"":"".concat(Kt?g:"")," USDi"),subTitle:(0,t.jsxs)("p",{children:["1USDi \u2248 ",S(),"USD"," ",(0,t.jsx)("span",{className:b().history,onClick:B,children:"History"})]})},{title:"Holders",tip:"Number Of USDi holders.",content:Ct()(i==null?void 0:i.holderCount).format("0.[0000]a"),loading:p},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,U.Ik)(parseFloat(Tt).toFixed(2)),loading:p,unit:"%"}];return console.log("tvlEchartOpt=",c),(0,t.jsx)(ft.Z,{children:(0,t.jsxs)(J.Z,{gutter:[0,40],children:[(0,t.jsxs)(C.Z,{span:24,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(Le.Z,{chains:Va})]}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:ae})})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ae,{isUsdi:!0,loading:p,calDateRange:r,onCalDateRangeClick:d,apyEchartOpt:A,tvlEchartOpt:c})})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(_e,{loading:p,strategyMap:Pe.o1,tokenDecimals:Be,vaultData:ot.vault})})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ne,{strategyMap:Pe.o1,loading:p})})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ke,{loading:p})})})]})})},Na=_a,Qe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_newVault",type:"address"},{indexed:!0,internalType:"address",name:"_wantToken",type:"address"}],name:"CreateNewVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vaultImpl",type:"address"}],name:"addVaultImpl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wantToken",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"}],name:"createNewVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"deleteVaultAddressMapForDebug",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getStablecoinInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlist",outputs:[{internalType:"address[]",name:"_wethInvestorSet",type:"address[]"},{internalType:"address[]",name:"_usdInvestorSet",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlistLen",outputs:[{internalType:"uint256",name:"_wethInvestorSetLen",type:"uint256"},{internalType:"uint256",name:"_stablecoinInvestorSetLen",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultImplList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultsLen",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getWethInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_vaultImplList",type:"address[]"},{internalType:"address",name:"_accessControlProxy",type:"address"},{internalType:"address",name:"_uniswapV3RiskOnHelper",type:"address"},{internalType:"address",name:"_treasury",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"treasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"uniswapV3RiskOnHelper",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"vaultAddressMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vaultImpl2Index",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"vaultImplList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],Wa=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"borrowInfo",outputs:[{internalType:"uint256",name:"_totalCollateralBase",type:"uint256"},{internalType:"uint256",name:"_totalDebtBase",type:"uint256"},{internalType:"uint256",name:"_availableBorrowsBase",type:"uint256"},{internalType:"uint256",name:"_currentLiquidationThreshold",type:"uint256"},{internalType:"uint256",name:"_ltv",type:"uint256"},{internalType:"uint256",name:"_healthFactor",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcAaveBaseCurrencyValueInAsset",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_baseAsset",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcCanonicalAssetValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getAToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"},{internalType:"address",name:"_account",type:"address"}],name:"getCurrentBorrow",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"}],name:"getDebtToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"getSpecifiedRangesOfTick",outputs:[{internalType:"int24",name:"_tickFloor",type:"int24"},{internalType:"int24",name:"_tickCeil",type:"int24"},{internalType:"int24",name:"_tickLower",type:"int24"},{internalType:"int24",name:"_tickUpper",type:"int24"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"address",name:"_collateralToken",type:"address"}],name:"getTotalCollateralTokenAmount",outputs:[{internalType:"uint256",name:"_totalCollateralToken",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_pool",type:"address"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"getTwap",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"}],Ha=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"LendToStrategy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_basis",type:"uint256"}],name:"ProfitFeeBpsChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"RedeemToVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"_shutdown",type:"bool"}],name:"SetEmergencyShutdown",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address[]",name:"_rewardTokens",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],name:"StrategyReported",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_nftId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTCollect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"_liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTPositionAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"UniV3NFTPositionRemoved",type:"event"},{anonymous:!1,inputs:[],name:"UniV3UpdateConfig",type:"event"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"borrowRebalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"borrowToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositTo3rdPoolTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergencyShutdown",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"estimatedTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMintInfo",outputs:[{internalType:"uint256",name:"_baseTokenId",type:"uint256"},{internalType:"int24",name:"_baseTickUpper",type:"int24"},{internalType:"int24",name:"_baseTickLower",type:"int24"},{internalType:"uint256",name:"_limitTokenId",type:"uint256"},{internalType:"int24",name:"_limitTickUpper",type:"int24"},{internalType:"int24",name:"_limitTickLower",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStatus",outputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_wantToken",type:"address"},{internalType:"int24",name:"_baseThreshold",type:"int24"},{internalType:"int24",name:"_limitThreshold",type:"int24"},{internalType:"int24",name:"_minTickMove",type:"int24"},{internalType:"int24",name:"_maxTwapDeviation",type:"int24"},{internalType:"int24",name:"_lastTick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"uint256",name:"_period",type:"uint256"},{internalType:"uint256",name:"_lastTimestamp",type:"uint256"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"harvest",outputs:[{internalType:"address[]",name:"_rewardsTokens",type:"address[]"},{internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastHarvest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"lend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"manageFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"netMarketMakingAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"profitFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rebalanceByKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeemToVaultByKeeper",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"setBaseThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_active",type:"bool"}],name:"setEmergencyShutdown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_limitThreshold",type:"int24"}],name:"setLimitThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setManageFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_maxTwapDeviation",type:"int24"}],name:"setMaxTwapDeviation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_minTickMove",type:"int24"}],name:"setMinTickMove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_period",type:"uint256"}],name:"setPeriod",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setProfitFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"setTwapDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"}],name:"shouldRebalance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"wantToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Xe=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],wa="0x0000000000000000000000000000000000000000",Re="0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",Fa="0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619",Gt=new F.Z(1e6),fn=new F.Z(1e18),hn=new F.Z(1e27),Je=e(43077),$a=e(96519),Ka=e(85564),Ya=e.n(Ka),za=e(15296),te=$a.CH,qe=Ee.O$,Ga=[Fa,Re],Qa=function(n,s,r){var d=(0,l.useState)(!1),m=(0,x.Z)(d,2),y=m[0],c=m[1],I=(0,l.useState)([]),f=(0,x.Z)(I,2),M=f[0],A=f[1],P=(0,l.useState)([]),nt=(0,x.Z)(P,2),E=nt[0],Tt=nt[1],mt=(0,l.useState)(!1),lt=(0,x.Z)(mt,2),N=lt[0],tt=lt[1],et=(0,za.Z)(r),ot=(0,l.useCallback)(function(D,O){var Y=new te(n,s,r),S=new te(O,Ha,r),B=new te(D,Wa,r);return Promise.all([Y.getTwoInvestorlistLen(),S.borrowToken().then(function(){var xt=(0,oe.Z)((0,_t.Z)().mark(function G(yt){var Ut;return(0,_t.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return Ut=new te(yt,Xe,r),g.t0=yt,g.next=4,Ut.symbol();case 4:return g.t1=g.sent,g.t2=qe.from(10),g.next=8,Ut.decimals();case 8:return g.t3=g.sent,g.t4=g.t2.pow.call(g.t2,g.t3),g.abrupt("return",{borrowToken:g.t0,name:g.t1,borrowTokenDecimals:g.t4});case 11:case"end":return g.stop()}},G)}));return function(G){return xt.apply(this,arguments)}}()),S.wantToken().then(function(){var xt=(0,oe.Z)((0,_t.Z)().mark(function G(yt){var Ut;return(0,_t.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return Ut=new te(yt,Xe,r),g.t0=yt,g.next=4,Ut.symbol();case 4:return g.t1=g.sent,g.t2=qe.from(10),g.next=8,Ut.decimals();case 8:return g.t3=g.sent,g.t4=g.t2.pow.call(g.t2,g.t3),g.abrupt("return",{wantToken:g.t0,name:g.t1,wantTokenDecimals:g.t4});case 11:case"end":return g.stop()}},G)}));return function(G){return xt.apply(this,arguments)}}())]).then(function(xt){var G=(0,x.Z)(xt,3),yt=G[0],Ut=yt._wethInvestorSetLen,Nt=yt._stablecoinInvestorSetLen,g=G[1],Kt=G[2],ae=g.borrowToken,Q=Kt.wantToken;return Promise.all([S.netMarketMakingAmount(),B.getCurrentBorrow(ae,2,O),B.getTotalCollateralTokenAmount(O,Q),S.depositTo3rdPoolTotalAssets(),S.estimatedTotalAssets()]).then(function(k){var X=(0,x.Z)(k,5),ut=X[0],dt=X[1],ct=X[2],At=X[3],bt=X[4];return B.calcCanonicalAssetValue(ae,dt,Q).then(function(jt){var Yt={netMarketMakingAmount:ut,currentBorrow:dt,currentBorrowWithCanonical:jt,depositTo3rdPoolTotalAssets:At,totalCollateralTokenAmount:ct,estimatedTotalAssets:bt,wantInfo:Kt,borrowInfo:g,_wethInvestorSetLen:Ut,_stablecoinInvestorSetLen:Nt,profit:At.add(ct).sub(ut).sub(jt)};return Yt})})}).finally(function(){setTimeout(function(){c(!1)},300)})},[r]),p=(0,l.useCallback)(function(){if(!(ie()(n)||ie()(r))){var D=new te(n,s,r);D.getVaultImplList().then(A)}},[n,r,s]),u=(0,l.useCallback)((0,oe.Z)((0,_t.Z)().mark(function D(){var O,Y,S;return(0,_t.Z)().wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:if(!(ie()(n)||ie()(r)||ie()(M)||ie()(et))){xt.next=2;break}return xt.abrupt("return");case 2:return O=new te(n,s,r),xt.next=5,O.uniswapV3RiskOnHelper();case 5:Y=xt.sent,S=le()(M,function(G){return Promise.all(le()(Ga,function(yt,Ut){return O.vaultAddressMap(et,G,Ut).then(function(Nt){return Nt===wa?{hasCreate:!1,type:G,token:yt}:ot(Y,Nt).then(function(g){return(0,h.Z)((0,h.Z)({},g),{},{address:Nt,type:G,hasCreate:!0,token:yt})})})}))}),Promise.all(S).then(function(G){Tt(Ya()(G))});case 8:case"end":return xt.stop()}},D)})),[et,n,r,M,s]),i=(0,l.useCallback)(function(){var D=(0,oe.Z)((0,_t.Z)().mark(function O(Y,S){var B;return(0,_t.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return tt(!0),B=new te(n,s,r),G.next=4,B.connect(r.getSigner()).createNewVault(Y,S).then(function(yt){return yt.wait()}).then(u).finally(function(){tt(!1)});case 4:case"end":return G.stop()}},O)}));return function(O,Y){return D.apply(this,arguments)}}(),[n,r,u,s]),R=(0,l.useCallback)(function(){var D=(0,oe.Z)((0,_t.Z)().mark(function O(Y,S){var B;return(0,_t.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:tt(!0),B=new te(n,s,r),B.connect(r.getSigner()).deleteVaultAddressMapForDebug(et,Y,S).then(function(yt){return yt.wait()}).then(u).finally(function(){tt(!1)});case 3:case"end":return G.stop()}},O)}));return function(O,Y){return D.apply(this,arguments)}}(),[n,u,et,r,s]);return(0,l.useEffect)(p,[p]),(0,l.useEffect)(u,[u]),{vaultFactoryAddress:n,vaultImplList:M,personalVault:E,adding:N,loading:y,addVault:i,deleteVault:R}},ta=Qa,ee=e(52572),Xa=e(27361),ea=e.n(Xa),De=Ee.O$,Ja=[{label:"Polygon",key:"137"}],ye=137,fe="WETH",qa=function(){var n="0x8013Dd64084e9c9122567563AA86981F4C20576B",s=(0,Je.Z)(),r=s.userProvider,d=ta(n,Qe,r),m=d.personalVault,y=(0,a.groupBy)(m,"token"),c=ea()(y,Re,[]);console.log("calcArray=",c);var I=(0,a.reduce)(c,function(p,u){return p.add(u.netMarketMakingAmount),p},De.from(0)),f=(0,a.reduce)(c,function(p,u){return p.add(u.estimatedTotalAssets),p},De.from(0)),M=(0,a.reduce)(c,function(p,u){return p.add(u.currentBorrow),p},De.from(0)),A=(0,a.reduce)(c,function(p,u){return p.add(u.totalCollateralTokenAmount),p},De.from(0)),P=(0,a.reduce)(c,function(p,u){return p.add(u.depositTo3rdPoolTotalAssets),p},De.from(0));console.log("netMarketMakingAmountTotal=",I.toString()),console.log("estimatedTotalAssetsTotal=",f.toString()),console.log("currentBorrow=",M.toString()),console.log("totalCollateralTokenAmountTotal=",A.toString()),console.log("depositTo3rdPoolTotalAssetsTotal=",P.toString());var nt=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"aave-outstanding-loan")},[n]),E=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"aave-collateral")},[n]),Tt=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"aave-health-ratio")},[n]),mt=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"uniswap-position-value")},[n]),lt=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"profit")},[n]),N=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"net-deposit")},[n]);console.log("aaaa=",nt,E,Tt,mt,lt,N);var tt=!1,et=[{title:"Deposit",tip:"All Vault Net Deposit.",content:Ct()((0,U.FH)(I,Gt)).format("0.[0000]a"),loading:tt,unit:fe},{title:"Current Value",tip:"All Vault Current Value.",content:Ct()((0,U.FH)(f,Gt)).format("0.[0000]a"),loading:tt,unit:fe},{title:"Unrealized Profit",tip:"All Vault Unrealized Profit.",content:Ct()("123124").format("0.[0000]a"),loading:tt,unit:fe},{title:"Holders",tip:"Number Of USDi holders.",content:Ct()("5").format("0.[0000]a"),loading:tt,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:Ct()((0,U.FH)(M,Gt)).format("0.[0000]a"),loading:tt,unit:fe},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:Ct()((0,U.FH)(A,Gt)).format("0.[0000]a"),loading:tt,unit:fe},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:Ct()((0,U.FH)(P,Gt)).format("0.[0000]a"),loading:tt,unit:fe}],ot={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]};return(0,t.jsx)(ft.Z,{children:(0,t.jsxs)(J.Z,{gutter:[0,40],children:[(0,t.jsx)(C.Z,{span:24,children:(0,t.jsxs)(l.Suspense,{fallback:null,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(Le.Z,{chains:Ja})]})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:et})})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(W.Z,{title:"Uniswap APY (%)",children:(0,t.jsx)(qt.$c,{option:ot,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{children:(0,t.jsx)(W.Z,{title:"Sample APY (%)",children:(0,t.jsx)(qt.$c,{option:ot,style:{minHeight:"500px",width:"100%"}})})})})]})})},tn=qa,gn=e(20228),en=e(11382),an=e(18973),aa=e.n(an),nn=(0,t.jsxs)("div",{className:aa().main,children:[(0,t.jsxs)("svg",{viewBox:"0 0 1403 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",children:[(0,t.jsx)("path",{d:"M149.1 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM807.5 740.5H352c-9.1-22.5-31.2-38.4-57-38.4-33.9 0-61.4 27.5-61.4 61.4s27.5 61.4 61.4 61.4c25.8 0 47.9-15.9 57-38.4h455.5c9.1 22.5 31.2 38.4 57 38.4 33.9 0 61.4-27.5 61.4-61.4s-27.5-61.4-61.4-61.4c-25.9 0-47.9 15.9-57 38.4zM233.6 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM318 515.1c12.7 0 23-10.3 23-23v-51c0-12.7-10.3-23-23-23s-23 10.3-23 23v51c0 12.7 10.3 23 23 23z",fill:"#A68EFE"}),(0,t.jsx)("path",{d:"M1353.7 486.2c8.8-28.8 1.9-61.5-20.9-84.2L1088.2 157.4c-1.1-1.2-2.2-2.4-3.4-3.6-1.2-1.2-2.4-2.3-3.6-3.4l-0.8-0.8c-17.2-15.1-39.1-23.4-62.3-23.4-25.3 0-49 9.8-66.8 27.6L763 342l-60.3-213h12.5c12.7 0 23-10.3 23-23s-10.3-23-23-23H464.8c-51.3 0-93 41.7-93 93v132.3H91.4c-9.3 0-18 3.6-24.6 10.2l-56.6 56.6c-6.6 6.6-10.2 15.3-10.2 24.6V563c0 9.3 3.6 18 10.2 24.6l60.1 60.1c6.6 6.6 15.3 10.2 24.6 10.2h78.7c-30.5 29.9-49.5 71.5-49.5 117.4 0 90.6 73.7 164.4 164.4 164.4h582.5c90.6 0 164.4-73.7 164.4-164.4s-73.7-164.4-164.4-164.4h-55.5l173.9-176.2 0.9-52.8 42.3-42.3L1213.8 521c7.1 7.1 15.2 12.7 23.8 16.7l-69.4 117.8-9.8-5.8c-9.5-5.6-21.8-2.4-27.4 7.1l-3 5.2c-5.6 9.5-2.4 21.8 7.1 27.4l51.4 30.3c68.6 40.4 156.9 17.6 197.4-51 35.9-61.1 21.7-137.9-30.2-182.5z m-632.5-123h-77.2l-44.7-44.7c-6.6-6.6-15.3-10.2-24.6-10.2h-42.1V129h122.2l66.4 234.2zM417.8 176c0-25.9 21.1-47 47-47h22v179.3h-69V176zM99.5 611.8l-53.5-53.5V404.4l50-50h474.2L614.9 399c6.6 6.6 15.3 10.2 24.6 10.2H724.9v113.4H492.8c-12.7 0-23 10.3-23 23s10.3 23 23 23H724.9v42.3H288.5c-6 0-12 0.3-17.8 1H99.5z m771.5 45.1c65.3 0 118.4 53.1 118.4 118.4 0 65.3-53.1 118.4-118.4 118.4H288.5c-65.3 0-118.4-53.1-118.4-118.4 0-65.3 53.1-118.4 118.4-118.4h582.5z m73.5-294.4l-0.9 53-172.7 175V399.2l212.9-212.9c9.1-9.1 21.3-14.1 34.2-14.1 13 0 25.2 5 34.2 14.1 18.9 18.9 18.9 49.6 0 68.5L944.5 362.5z m248.9 72.9L1065 307.1l19.8-19.8c12.5-12.5 20.7-27.6 24.7-43.6l137.8 137.8c-12.2 4-23.7 10.8-33.4 20.5-9.8 9.7-16.6 21.2-20.5 33.4z m53-0.9c14.9-14.9 39-14.9 53.9 0 14.9 14.9 14.9 39 0 53.9-14.9 14.9-39 14.9-53.9 0-14.9-14.8-14.9-39 0-53.9z m97.8 210.8c-27.5 46.7-87.7 62.2-134.4 34.7l-2-1.2 79.2-134.4c14.8-2.4 29.1-8.8 41.1-19.2 31.7 30.8 39.5 80.3 16.1 120.1z",fill:"#A68EFE"})]}),(0,t.jsx)("span",{className:aa().text,children:"Under construction..."})]}),rn=function(n){var s=n.children;return(0,t.jsx)(en.Z,{size:"large",indicator:nn,style:{background:"rgb(0,0,0,0.5)"},children:s})},ke=rn,ue=Ee.O$,sn=[{label:"Polygon",key:"137"}],he="USDC",ln=function(){var n,s={VAULT_FACTORY_ADDRESS:{"137":"0x9853Eb1dc3946F78f043EA513Ed87ADBdA6eeE09"}}.VAULT_FACTORY_ADDRESS["137"],r=(0,Je.Z)(),d=r.userProvider,m=ta(s,Qe,d),y=m.personalVault,c=m.loading,I=(0,a.groupBy)(y,"token"),f=ea()(I,Re,[]),M=(0,l.useState)("All"),A=(0,x.Z)(M,2),P=A[0],nt=A[1],E=(0,a.reduce)(f,function(S,B){return S.add(B.netMarketMakingAmount)},ue.from(0)),Tt=(0,a.reduce)(f,function(S,B){return S.add(B.estimatedTotalAssets)},ue.from(0)),mt=(0,a.reduce)(f,function(S,B){return S.add(B.currentBorrowWithCanonical)},ue.from(0)),lt=(0,a.reduce)(f,function(S,B){return S.add(B.totalCollateralTokenAmount)},ue.from(0)),N=(0,a.reduce)(f,function(S,B){return S.add(B.depositTo3rdPoolTotalAssets)},ue.from(0)),tt=(0,a.reduce)(f,function(S,B){return S.add(B._stablecoinInvestorSetLen)},ue.from(0)),et=(0,a.reduce)(f,function(S,B){return S.add(B.profit)},ue.from(0)),ot=[{title:"Deposit",tip:"All Vault Net Deposit.",content:Ct()((0,U.FH)(E,Gt)).format("0.[0000]a"),loading:c,unit:he},{title:"Current Value",tip:"All Vault Current Value.",content:Ct()((0,U.FH)(Tt,Gt)).format("0.[0000]a"),loading:c,unit:he},{title:"Profits",tip:"All Vault Profits.",content:Ct()((0,U.FH)(et,Gt)).format("0.[0000]a"),loading:c,unit:he},{title:"Holders",tip:"Number Of USDi holders.",content:Ct()(tt).format("0.[0000]a"),loading:c,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:Ct()((0,U.FH)(mt,Gt)).format("0.[0000]a"),loading:c,unit:he},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:Ct()((0,U.FH)(lt,Gt)).format("0.[0000]a"),loading:c,unit:he},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:Ct()((0,U.FH)(N,Gt)).format("0.[0000]a"),loading:c,unit:he}],p=(0,ee.r5)(function(){return(0,Lt.wn)()},[s]),u=(0,ee.r5)(function(){return(0,Lt.q4)()},[s]),i=(0,ee.r5)(function(){return(0,Lt.wu)()},[s]),R=[],D=[{title:"Date",dataIndex:"date",key:"date"},{title:"Operation",dataIndex:"operation",key:"operation"},{title:"Details",dataIndex:"details",key:"details"},{title:"Tx Address",dataIndex:"tx",key:"tx"}],O={All:"All",Create:"Create",Deposit:"Deposit",Burn:"Burn"},Y=(0,t.jsx)(St.ZP.Group,{value:P,onChange:function(B){return nt(B.target.value)},buttonStyle:"solid",className:b().buttons,children:le()(O,function(S,B){return(0,t.jsx)(St.ZP.Button,{value:S,children:S},B)})});return(0,t.jsx)(ft.Z,{children:(0,t.jsxs)(J.Z,{gutter:[0,40],children:[(0,t.jsx)(C.Z,{span:24,children:(0,t.jsxs)(l.Suspense,{fallback:null,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(Le.Z,{chains:sn})]})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:ot})})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(ke,{children:(0,t.jsx)(W.Z,{title:"Uniswap APY (%)",loading:p.loading||u.loading,children:p.error?(0,t.jsxs)("div",{style:{minHeight:"10rem"},children:["Error: ",p==null||(n=p.error)===null||n===void 0?void 0:n.message]}):(0,t.jsx)(qt.$c,{option:{animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]},style:{minHeight:"500px",width:"100%"}})})})})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{children:(0,t.jsx)(ke,{children:(0,t.jsx)(W.Z,{title:"Sample APY (%)",loading:i.loading,children:i.error?(0,t.jsxs)("div",{style:{minHeight:"10rem"},children:["Error: ",i.error.message]}):(0,t.jsx)(qt.$c,{option:{animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]},style:{minHeight:"500px",width:"100%"}})})})})}),(0,t.jsx)(C.Z,{span:24,children:(0,t.jsx)(l.Suspense,{children:(0,t.jsx)(ke,{children:(0,t.jsx)(W.Z,{extra:Y,title:"Recent Activity",children:(0,t.jsx)(se.Z,{dataSource:R,columns:D})})})})})]})})},on=ln,un=e(7594),dn=e(52353),cn=e.n(dn);function pn(){var Z,n=(0,T.tT)("@@initialState"),s=n.initialState,r=(Z={},(0,o.Z)(Z,kt._.USDi,Na),(0,o.Z)(Z,kt._.ETHi,ka),(0,o.Z)(Z,kt._.ETHr,tn),(0,o.Z)(Z,kt._.USDr,on),Z)[s.vault];return cn()(r)?(0,t.jsx)(un.default,{}):(0,t.jsx)(r,{})}},860:function(vt,z,e){"use strict";e.d(z,{E6:function(){return C},_8:function(){return h},mB:function(){return x},Mn:function(){return ft},oP:function(){return Mt},t:function(){return j},ld:function(){return rt},fY:function(){return t},jv:function(){return Zt},Qc:function(){return Ot},_S:function(){return gt},wn:function(){return zt},q4:function(){return L},wu:function(){return Qt}});var o=e(93224),l=e(11849),T=e(65367),K=e(96486),J=e.n(K),it=["chainId","vaultAddress"],C=function(v){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20;try{var at=(0,l.Z)({offset:H,limit:b},v);return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/officialApy"),{params:at})}catch(q){return{content:[]}}},h=function(v){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,at=v.chainId,q=v.vaultAddress,Pt={sort:"gene_time desc",offset:H,limit:b};return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(at,"/vaults/").concat(q,"/allocation"),{params:Pt})},x=function(v,H){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,at=arguments.length>3&&arguments[3]!==void 0?arguments[3]:20,q={offset:b,limit:at};return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(v,"/vaults/").concat(H,"/strategy/detail/list"),{params:q})},ft=function(v){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,at=v.chainId,q=v.vaultAddress,Pt=(0,o.Z)(v,it);return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(at,"/vaults/").concat(q,"/verifiedApy"),{params:(0,l.Z)({offset:H,limit:b},Pt)})},Mt=function(v,H,b,at,q){if(!(0,K.isNil)(b))return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(v,"/vaults/").concat(H,"/allocation/").concat(b,"/").concat(at),{method:"patch",headers:q})},j=function(v){var H=v.strategyName,b=v.vaultAddress,at=v.chainId,q=v.limit,Pt=q===void 0?10:q,It=v.offset,wt=It===void 0?0:It,$t=v.sort,St=$t===void 0?"fetch_timestamp desc":$t;return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(at,"/vaults/").concat(b,"/strategy/assets"),{params:{strategyName:H,limit:Pt,offset:wt,sort:St}})},V=function(v,H,b){return request("".concat("https://service-pr02-sg.bankofchain.io","/apy/account_apy/accountAddress/").concat(v,"/date/").concat(H),{params:b})},st=function(v,H){return request("".concat("https://service-pr02-sg.bankofchain.io","/profit/account/").concat(v),{params:H})},W=function(v,H){return request("".concat("https://service-pr02-sg.bankofchain.io","/token/balance/account/").concat(v),{params:_objectSpread({limit:365},H)})},Dt=function(v,H){return request("".concat("https://service-pr02-sg.bankofchain.io","/month_profit/account/").concat(v),{params:H})},ht={},rt=function(v){var H=v.chainId,b=v.tokenType,at=v.duration,q=v.offset,Pt=q===void 0?0:q,It=v.limit,wt=v.useCache,$t=wt===void 0?!0:wt,St="".concat(H,"-").concat(at,"-").concat(b,"-").concat(Pt,"-").concat(It);return $t&&ht[St]?Promise.resolve(ht[St]):(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/apy/vault_apy"),{params:{chainId:H,duration:at,offset:Pt,limit:It,tokenType:b}}).then(function(de){return ht[St]=de,de})},_={},t=function(v){var H=v.chainId,b=v.offset,at=b===void 0?0:b,q=v.limit,Pt=v.tokenType,It=v.useCache,wt=It===void 0?!0:It,$t="".concat(H,"-").concat(at,"-").concat(Pt,"-").concat(q);return wt&&_[$t]?Promise.resolve(_[$t]):(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/token/totalSupply"),{params:{chainId:H,offset:at,limit:q,tokenType:Pt}}).then(function(St){return _[$t]=St,St})},Zt=function(){ht={},_={}},Ot=function(v,H,b){var at=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20,Pt={strategyAddress:b,offset:at,limit:q},It="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(v,"/vaults/").concat(H,"/verifiedApy/daily");return(0,T.WY)(It,{params:Pt})},gt=function(v,H,b){var at=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{limit:30},q="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(v,"/vaults/").concat(H,"/data_collects/types/").concat(b);return(0,T.WY)(q,{params:at})},zt=function(v){return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/verifiedApy/riskon"),{params:v})},L=function(v){return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/officialApy/riskon"),{params:v})},Qt=function(v){return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/sampleApy/riskon"),{params:v})}},62904:function(vt,z,e){"use strict";e.d(z,{u:function(){return Mt}});var o=e(39428),l=e(34792),T=e(55026),K=e(3182),J=e(13311),it=e.n(J),C=e(41609),h=e.n(C),x=e(89850),ft=e(50999),Mt=function(){var j=(0,K.Z)((0,o.Z)().mark(function V(st,W,Dt){var ht,rt,_,t,Zt,Ot,gt=arguments;return(0,o.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(ht=gt.length>3&&gt[3]!==void 0?gt[3]:{},rt=ht.resolveWhenUnsupport,_=it()(x.ZP,{id:st}),!h()(_)){L.next=5;break}return L.abrupt("return");case 5:if(W){L.next=7;break}return L.abrupt("return");case 7:if(t=[ft.m.MetaMask.info.symbol],t.includes(Dt)){L.next=13;break}if(!rt){L.next=11;break}return L.abrupt("return");case 11:return T.default.warning("Switch networks in your wallet, then reconnect"),L.abrupt("return",Promise.reject());case 13:return Zt=[{chainId:"0x".concat(Number(_.id).toString(16)),chainName:_.name,nativeCurrency:_.nativeCurrency,rpcUrls:[_.rpcUrl],blockExplorerUrls:[_.blockExplorer]}],L.prev=14,L.next=17,W.send("wallet_switchEthereumChain",[{chainId:Zt[0].chainId}]);case 17:Ot=L.sent,L.next=33;break;case 20:if(L.prev=20,L.t0=L.catch(14),L.t0.code!==4001){L.next=24;break}return L.abrupt("return",Promise.reject());case 24:return L.prev=24,L.next=27,W.send("wallet_addEthereumChain",Zt);case 27:Ot=L.sent,L.next=33;break;case 30:return L.prev=30,L.t1=L.catch(24),L.abrupt("return",Promise.reject());case 33:Ot&&console.log(Ot);case 34:case"end":return L.stop()}},V,null,[[14,20],[24,30]])}));return function(st,W,Dt){return j.apply(this,arguments)}}()},9292:function(vt,z,e){"use strict";e.d(z,{FH:function(){return it},Wl:function(){return h},Ik:function(){return x},Ay:function(){return ft}});var o=e(905),l=e(96486),T=e.n(l),K=e(41609),J=e.n(K),it=function(j){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!(0,l.isNil)(j)){if((0,l.isNull)(V))return j.toString();var st=(0,o.Z)(V.toString());if(J()(j)||st.isZero())return 0;var W=(0,o.Z)(j.toString()).div(st);if(W.isInteger())return W.toFixed();for(var Dt=arguments.length,ht=new Array(Dt>2?Dt-2:0),rt=2;rt<Dt;rt++)ht[rt-2]=arguments[rt];return W.toFixed.apply(W,ht)}},C=2,h=function(j,V){var st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,W=(0,o.Z)(j.toString()),Dt=(0,o.Z)(10).pow(V),ht=V>6&&!W.eq(0)&&W.abs().lt((0,o.Z)(10).pow(V-st+1)),rt;return ht?(rt=it(W,Dt,V-W.abs().toString().length+1),rt):(rt=it(W,Dt,st),parseFloat(rt))},x=function(j){var V=parseFloat(j);return isNaN(V)?j:V<=1e3?V:"1000+"},ft=function(j){var V=parseFloat(j);return isNaN(V)?j:V<=1e3?V:1e3}}}]);
