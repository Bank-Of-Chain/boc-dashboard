(self.webpackChunkboc_dashboard=self.webpackChunkboc_dashboard||[]).push([[364,571],{6371:function(mt){mt.exports={container:"container___3FHkQ"}},69255:function(mt){mt.exports={chartCard:"chartCard___1WAYR",title:"title___1qSNX",chartTop:"chartTop___fyf1y",chartTopMargin:"chartTopMargin___35U93",chartTopHasMargin:"chartTopHasMargin___3PZ2W",metaWrap:"metaWrap___1o2cx",avatar:"avatar___3W_MV",meta:"meta___BxwkJ",action:"action___2rX_t",total:"total___13buZ",unit:"unit___3h93V",content:"content___1u1VV",contentFixed:"contentFixed___8g0La",footer:"footer___1DC6W",card:"card___3ClYk"}},18973:function(mt){mt.exports={main:"main___E0u3n",text:"text___1bwgD"}},3691:function(mt){mt.exports={container:"container___1YjeH"}},90958:function(mt){mt.exports={salesCard:"salesCard___29v2i",salesBar:"salesBar___yX0jY",salesRank:"salesRank___3emXv",salesCardExtra:"salesCardExtra___1zn45",vaultKeyCard:"vaultKeyCard___3fhgC",tabMobile:"tabMobile___OIzik",chartDiv:"chartDiv___35wVQ",chartDivMobile:"chartDivMobile___3S_E5",tableCell:"tableCell___28uXK",text:"text___2ww9t",trendText:"trendText___22_c0",chartWrapper:"chartWrapper___3eEAM",buttons:"buttons___1vScW",field:"field___1vkrW",label:"label___3KSeF",number:"number___3Vb_1",history:"history___1YR66"}},91907:function(mt,Y,e){"use strict";var d=e(30887),s=e(28682),T=e(67294),K=e(65367),z=e(89850),it=e(53651),P=e(35161),y=e.n(P),A=e(63105),gt=e.n(A),bt=e(62904),j=e(43077),R=e(6371),lt=e.n(R),H=e(85893),Dt=y()(gt()(z.ZP,function(rt){return!(it.ux&&rt.id==="137")}),function(rt){return{label:rt.name,value:rt.id}}),Tt=function(V){var t=V.chains,Mt=t===void 0?Dt:t,Zt=V.shouldChangeChain;if(Mt.length<=1)return null;var xt=(0,K.tT)("@@initialState"),vt=xt.initialState,o=(0,j.Z)(),k=o.userProvider,n=o.getWalletName,q=function(Ut){var kt=Ut.key,Vt=K.m8.location.query.vault,Ot=Promise.resolve();Zt&&(Ot=(0,bt.u)(kt,k,n(),{resolveWhenUnsupport:!0})),Ot.then(function(){K.m8.push({query:{chain:kt,vault:Vt}}),setTimeout(function(){location.reload()},100)})},nt={borderBottom:"none",justifyContent:"center",backgroundColor:"transparent"};return(0,H.jsx)("div",{className:lt().container,children:(0,H.jsx)(s.Z,{mode:"horizontal",style:nt,items:Mt,selectedKeys:[vt.chain],onClick:q})})};Y.Z=Tt},69157:function(mt,Y,e){"use strict";var d=e(12968),s=e(62462),T=e(67294),K=e(47037),z=e.n(K),it=e(96486),P=e.n(it),y=e(35161),A=e.n(y),gt=e(85893),bt="".concat("https://v2.bankofchain.io","/default.png"),j=function(lt){var H=lt.array,Dt=H===void 0?[]:H,Tt=lt.size,rt=Tt===void 0?24:Tt,V=function(Mt,Zt){return(0,gt.jsx)(s.Z,{title:Mt,preview:!1,width:rt,style:{borderRadius:"50%"},wrapperStyle:{marginLeft:Zt===0?0:-10,zIndex:Dt.length-Zt},src:"".concat("https://v2.bankofchain.io","/images/").concat(Mt,".png"),fallback:bt},"".concat(Mt+Zt))};return z()(Dt)?V(Dt,0):(0,it.isArray)(Dt)?(0,gt.jsx)("div",{children:A()(Dt,function(t,Mt){return V(t,Mt)})}):(0,gt.jsx)("span",{})};Y.Z=j},93083:function(mt,Y,e){"use strict";e.d(Y,{hU:function(){return gt},me:function(){return A}});var d=e(45697),s=e.n(d),T=e(1852),K=e.n(T),z=function(j){var R=j.children,lt=(0,T.useMediaQuery)({minWidth:992});return lt?R:null};z.propTypes={children:s().element};var it=function(j){var R=j.children,lt=(0,T.useMediaQuery)({minWidth:768,maxWidth:991});return lt?R:null};it.propTypes={children:s().element};var P=function(j){var R=j.children,lt=(0,T.useMediaQuery)({maxWidth:767});return lt?R:null};P.propTypes={children:s().element};var y=function(j){var R=j.children,lt=(0,T.useMediaQuery)({minWidth:768});return lt?R:null};y.propTypes={children:s().element};var A={Desktop:"Desktop",Tablet:"Tablet",Mobile:"Mobile"},gt=function(){var j=(0,T.useMediaQuery)({minWidth:992}),R=(0,T.useMediaQuery)({minWidth:768,maxWidth:991});return j?A.Desktop:R?A.Tablet:A.Mobile}},98821:function(mt,Y,e){"use strict";e.d(Y,{$c:function(){return P}});var d=e(20228),s=e(11382),T=e(67294),K=e(40684),z=e(85893),it=(0,z.jsx)(s.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:20,fontSize:14},tip:"Loading...."}),P=(0,K.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(462),e.e(272)]).then(e.bind(e,56272))},{fallback:it}),y=(0,K.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(693),e.e(42)]).then(e.bind(e,59042))},{fallback:it}),A=(0,K.ZP)(function(){return Promise.all([e.e(80),e.e(274),e.e(417)]).then(e.bind(e,48417))},{fallback:it})},42411:function(mt,Y,e){"use strict";e.d(Y,{Z:function(){return Zt}});var d=e(11849),s=e(30381),T=e.n(s),K=e(41609),z=e.n(K),it=e(76492),P="52px";function y(xt){var vt=!z()(xt.seriesData)&&xt.dataZoom,o={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:vt?P:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{type:"category",data:xt.xAxisData},yAxis:{type:"value"},dataZoom:vt?xt.dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:xt.seriesName?xt.seriesName:"",data:xt.seriesData,type:"line",lineStyle:{color:xt.color?xt.color:{type:"linear",colorStops:[{offset:0,color:"rgb(204, 186, 250)"},{offset:.5,color:"rgb(144, 123, 247)"},{offset:.6,color:"rgb(95, 128, 249)"},{offset:.95,color:"rgb(80, 132, 250)"},{offset:1,color:"rgb(166, 192, 252)"}]},width:3},smooth:xt.smooth,step:xt.step}]};return(0,d.Z)((0,d.Z)({},(0,it.s)(xt.seriesData.length>0)),o)}var A=e(84486),gt=e.n(A),bt=e(7654),j=e.n(bt),R=e(52353),lt=e.n(R),H=e(14293),Dt=e.n(H),Tt=e(63105),rt=e.n(Tt),V=e(84238),t=e.n(V),Mt=function(vt,o,k){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},q=n.format,nt=q===void 0?"MM-DD HH:mm":q,N=n.xAxis,Ut=n.yAxis,kt=n.smooth,Vt=kt===void 0?!1:kt,Ot=n.step,Jt=n.dataZoom,Ze=n.needMinMax,Kt=Ze===void 0?!0:Ze,Ue=n.yAxisMin,oe=Ue===void 0?function(jt){return parseInt(jt.min*.9999*Math.pow(10,4))/Math.pow(10,4)}:Ue,je=n.yAxisMax,Ee=je===void 0?function(jt){return parseInt(jt.max*1.0001*Math.pow(10,4))/Math.pow(10,4)}:je,qt=n.tootlTipSuffix,$=qt===void 0?"(UTC)":qt,he=n.tootlTipFormat,ge=he===void 0?"YYYY-MM-DD HH:mm":he,Te=[],Se=[],re={};vt.forEach(function(jt){var F=T()(jt.date).add(1,"days").format(ge);$&&(F="".concat(F," ").concat($)),re[F]=T()(jt.date).add(1,"days").format(nt),Te.push(F),Se.push(jt[o])});var $t=y({xAxisData:Te,seriesName:k,seriesData:Se,smooth:Vt,dataZoom:Jt});if($t.yAxis=(0,d.Z)((0,d.Z)({},$t.yAxis),Ut),$t.xAxis=(0,d.Z)((0,d.Z)({axisLabel:{formatter:function(F){return re[F]}}},$t.xAxis),N),$t.yAxis.splitLine={lineStyle:{color:"#454459"}},Kt&&($t.yAxis.min=oe,$t.yAxis.max=Ee),$t.series[0].connectNulls=!0,$t.series[0].showSymbol=t()(rt()(Se,function(jt){return!Dt()(jt)}))===1,$t.series[0].lineStyle={width:5,cap:"round"},Ot){var ue=$t.series[0].data;gt()(ue,function(jt,F){(lt()(jt)||j()(jt))&&F!==0&&(ue[F]=ue[F-1])})}return $t},Zt=Mt},10501:function(mt,Y,e){"use strict";e.d(Y,{Z:function(){return T}});var d=e(11849),s=e(76492);function T(K){var z=[],it=0,P=[];P=K.data,P.length>0&&P.forEach(function(A){var gt=(0,d.Z)({name:A.seriesName?A.seriesName:"",data:A.seriesData,type:"line",showSymbol:A.showSymbol,lineStyle:{width:5,cap:"round"}},A);it+=A.seriesData.length,z.push(gt)});var y={animation:!1,textStyle:{color:"#fff"},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"},confine:!0},legend:K.legend,xAxis:{type:"category",data:K.xAxisData},yAxis:{type:"value"},series:z};return K.tooltipFormatter&&(y.tooltip.formatter=K.tooltipFormatter),(0,d.Z)((0,d.Z)({},(0,s.s)(it>0)),y)}},76492:function(mt,Y,e){"use strict";e.d(Y,{s:function(){return d}});function d(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return s?{}:{graphic:{type:"text",left:"center",top:"middle",silent:!0,invisible:!1,style:{fill:"#9d9d9d",fontWeight:"bold",text:"No Data",fontSize:"25px"}}}}},22844:function(mt,Y,e){"use strict";e.d(Y,{O2:function(){return s},DO:function(){return T},Nd:function(){return K},A7:function(){return z}});var d=e(905),s={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},T=18,K=(0,d.Z)(1e18),z=4},53651:function(mt,Y,e){"use strict";e.d(Y,{Gj:function(){return d},KR:function(){return s},ux:function(){return T}});var d={daily:"daily",monthly:"monthly",weekly:"weekly",yearly:"yearly"},s={usdi:"USDi",ethi:"ETHi"},T=!1},55414:function(mt,Y,e){"use strict";e.d(Y,{o1:function(){return K},tX:function(){return z}});var d=["Balancer","UniswapV2","Dodo","Sushi_Kashi","Sushi_Swap","Convex","Rari","UniswapV3","YearnEarn","YearnV2","YearnIron","GUni","Stargate","DForce","Synapse","Aura","Aave"],s=["Curve","Aave","Balancer","Gravity","Polycat","Qi","Quickswap","Sushi","Synapse","Dodo","Stargate","UniswapV3"],T=["Balancer","UniswapV2","Convex","Aura","UniswapV3","StakeWise","YearnV2","Aave"],K={1:d,137:s},z={1:T}},7594:function(mt,Y,e){"use strict";e.r(Y);var d=e(57106),s=e(99683),T=e(57663),K=e(71577),z=e(67294),it=e(65367),P=e(85893),y=function(){return(0,P.jsx)(s.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:(0,P.jsx)(K.Z,{type:"primary",onClick:function(){return it.m8.push("/")},children:"Back Home"})})};Y.default=y},38465:function(mt,Y,e){"use strict";e.r(Y),e.d(Y,{default:function(){return mn}});var d=e(32059),s=e(67294),T=e(65367),K=e(13062),z=e(36725),it=e(89032),P=e(1635),y=e(11849),A=e(2824),gt=e(21349),bt=e(22385),j=e(45777),R=e(93224),lt=e(58024),H=e(91894),Dt=e(94184),Tt=e.n(Dt),rt=e(69255),V=e.n(rt),t=e(85893),Mt=["loading"],Zt=["contentHeight","title","avatar","action","total","footer","children"],xt=function(a,l){if(!a&&a!==0)return null;var r;switch(typeof a){case"undefined":r=null;break;case"function":r=(0,t.jsxs)("div",{className:V().total,children:[(0,t.jsx)("span",{children:a()}),l&&(0,t.jsx)("span",{className:V().unit,children:l})]});break;default:r=(0,t.jsxs)("div",{className:V().total,children:[(0,t.jsx)("span",{children:a}),l&&(0,t.jsx)("span",{className:V().unit,children:l})]})}return r},vt=function(a){var l=a.loading,r=l===void 0?!1:l,c=(0,R.Z)(a,Mt),v=c.contentHeight,m=c.title,p=c.avatar,U=c.action,g=c.total,S=c.footer,D=c.children,b=(0,R.Z)(c,Zt),tt=function(){return r?!1:(0,t.jsxs)("div",{className:V().chartCard,children:[(0,t.jsxs)("div",{className:Tt()(V().chartTop),children:[(0,t.jsx)("div",{className:V().avatar,children:p}),(0,t.jsxs)("div",{className:V().metaWrap,children:[(0,t.jsxs)("div",{className:V().meta,children:[(0,t.jsx)("span",{className:V().title,children:m}),(0,t.jsx)("span",{className:V().action,children:U})]}),xt(g,a.unit)]})]}),D&&(0,t.jsx)("div",{className:V().content,style:{height:v||"auto"},children:(0,t.jsx)("div",{className:v&&V().contentFixed,children:D})}),S&&(0,t.jsx)("div",{className:Tt()(V().footer,(0,d.Z)({},V().footerMargin,!D)),children:S})]})};return(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:r,className:V().card},b),{},{children:tt()}))},o=vt,k=e(68628),n=e(96486),q=e(25091),nt=e(90958),N=e.n(nt),Ut=["label","value"],kt={xs:24,sm:24,md:24,lg:8,xl:8},Vt=function(a){var l=a.label,r=a.value,c=(0,R.Z)(a,Ut);return(0,t.jsxs)("div",(0,y.Z)((0,y.Z)({className:N().field},c),{},{children:[(0,t.jsx)("span",{className:N().label,children:l}),(0,t.jsx)("span",{className:N().number,children:r})]}))},Ot=function(a){var l=a.data,r=l===void 0?[]:l;return(0,t.jsx)(z.Z,{gutter:[24,24],children:(0,n.map)(r,function(c){var v=c.title,m=c.tip,p=c.loading,U=c.content,g=c.unit,S=c.subTitle,D=(0,t.jsx)(Vt,{style:{height:"1.5rem"},value:S});return!S&&(0,q.tq)()&&(D=null),(0,t.jsx)(P.Z,(0,y.Z)((0,y.Z)({},kt),{},{children:(0,t.jsx)(o,{bordered:!1,title:v,action:(0,t.jsx)(j.Z,{title:m,children:(0,t.jsx)(k.Z,{style:{fontSize:22}})}),loading:p,total:U,unit:g,footer:D})}),v)})})},Jt=Ot,Ze=e(88983),Kt=e(82530),Ue=e(43358),oe=e(76647),je=e(18106),Ee=e(47428),qt=e(98821),$=e(93083),he=Ee.Z.TabPane,ge=oe.Z.Option;function Te(C){var a,l=C.isUsdi,r=C.loading,c=r===void 0?!1:r,v=C.calDateRange,m=v===void 0?7:v,p=C.onCalDateRangeClick,U=p===void 0?function(){}:p,g=C.apyEchartOpt,S=g===void 0?{}:g,D=C.tvlEchartOpt,b=D===void 0?{}:D,tt=(0,$.hU)(),x=(a={},(0,d.Z)(a,$.me.Desktop,{chartWrapperClassName:N().chartDiv}),(0,d.Z)(a,$.me.Tablet,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:N().chartDivMobile}),(0,d.Z)(a,$.me.Mobile,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:N().chartDivMobile,tabClassName:N().tabMobile}),a)[tt],yt=function(_){typeof _=="number"?U(_):U(_.target.value)},ot=(0,t.jsx)("div",{className:N().buttons,children:(0,t.jsxs)(Kt.ZP.Group,{value:m,onChange:yt,children:[(0,t.jsx)(j.Z,{title:"last 7 days",children:(0,t.jsx)(Kt.ZP.Button,{value:7,children:"WEEK"})}),(0,t.jsx)(j.Z,{title:"last 30 days",children:(0,t.jsx)(Kt.ZP.Button,{value:31,children:"MONTH"})}),(0,t.jsx)(j.Z,{title:"last 365 days",children:(0,t.jsx)(Kt.ZP.Button,{value:365,children:"YEAR"})})]})});return tt===$.me.Mobile&&(ot=(0,t.jsxs)(oe.Z,{style:{width:120},value:m,onChange:yt,children:[(0,t.jsx)(ge,{value:7,children:"WEEK"}),(0,t.jsx)(ge,{value:31,children:"MONTH"}),(0,t.jsx)(ge,{value:365,children:"YEAR"})]})),(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:c,bordered:!1,style:{marginTop:40}},x.cardProps),{},{children:(0,t.jsx)("div",{className:N().vaultKeyCard,children:(0,t.jsxs)(Ee.Z,{animated:!0,className:Tt()(x.tabClassName),tabBarExtraContent:ot,children:[(0,t.jsx)(he,{tab:"APY (%)",children:(0,t.jsx)("div",{className:x.chartWrapperClassName,children:(0,t.jsx)(qt.$c,{option:S,style:{height:"100%",width:"100%"}})})},"apy"),(0,t.jsx)(he,{tab:"Total Supply",children:(0,t.jsx)("div",{className:x.chartWrapperClassName,children:(0,t.jsx)(qt.$c,{option:b,style:{height:"100%",width:"100%"}})})},"totalSupply")]})})}))}var Se=e(96222),re=e(22533),$t=e(12968),ue=e(62462),jt=e(86582),F=e(905),Z=e(9292),na=function(a){var l,r=a.tokenDecimals,c=a.displayDecimals,v=a.strategyMap,m=a.visitData,p=m===void 0?{}:m,U=a.unit,g=(0,T.tT)("@@initialState"),S=g.initialState,D=(0,$.hU)();if(!S.chain)return null;var b=p.strategies,tt=b===void 0?[]:b,x=p.totalValueInVault,yt=x===void 0?"0":x,ot=(0,n.reduce)(tt,function(f,u){return f.plus(u.totalValue)},(0,F.Z)(0)),ut=(0,F.Z)(yt).plus(ot),_=(0,n.groupBy)((0,n.filter)(tt,function(f){return f.totalValue>0}),"protocol"),J=[].concat((0,jt.Z)((0,n.values)((0,n.mapValues)(_,function(f,u){var i=(0,n.reduce)(f,function(O,E){return O.plus(E.totalValue)},(0,F.Z)(0));return{name:v[S.chain][u],amount:i,percent:i.div(ut)}}))),[{name:"Vault",amount:(0,F.Z)(yt),percent:ut.eq(0)?"0":(0,F.Z)(yt).div(ut)}]),et=[{title:"Protocol Name",dataIndex:"name",key:"name",render:function(u){return(0,t.jsxs)("div",{className:N().tableCell,children:[(0,t.jsx)(ue.Z,{width:30,preview:!1,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(u,".png"),placeholder:u,alt:u,style:{borderRadius:"50%"},fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("span",{className:N().text,children:u})]})}},{title:"Asset (".concat(U,")"),dataIndex:"amount",key:"amount",showSorterTooltip:!1,sorter:function(u,i){return u.amount.minus(i.amount)},render:function(u){return(0,Z.FH)(u.toString(),r,c)}},{title:"Asset Ratio",dataIndex:"percent",key:"percent",defaultSortOrder:"descend",showSorterTooltip:!1,sorter:function(u,i){return u.percent.minus(i.percent)},render:function(u){return(0,t.jsxs)("span",{children:[(0,Z.FH)(u,.01,2),"%"]})}}],dt=(l={},(0,d.Z)(l,$.me.Desktop,{}),(0,d.Z)(l,$.me.Tablet,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),(0,d.Z)(l,$.me.Mobile,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),l)[D];return(0,t.jsx)("div",{children:(0,t.jsx)(re.Z,(0,y.Z)({rowKey:function(u){return u.name},columns:et,dataSource:J,pagination:!1},dt.tableProps))})},ia=na,vn=e(13254),ra=e(14277),sa=e(88377),la=e(92077),Et=e.n(la),oa=function(a){var l,r=a.strategyMap,c=a.tokenDecimals,v=a.displayDecimals,m=a.visitData,p=m===void 0?{}:m,U=a.unit,g=p.strategies,S=g===void 0?[]:g,D=p.totalValueInVault,b=D===void 0?"0":D,tt=(0,T.tT)("@@initialState"),x=tt.initialState,yt=(0,$.hU)(),ot=" (".concat(U,")");if(!x.chain)return null;var ut=(0,n.reduce)(S,function(u,i){return u.plus(i.totalValue)},(0,F.Z)(0)),_=(0,F.Z)(b).plus(ut),J=(0,n.groupBy)((0,n.filter)(S,function(u){return u.totalValue>0}),"protocol"),et=(0,Z.FH)(_,c,v);if((0,n.isEmpty)(J)&&et<=0||isNaN(et))return(0,t.jsx)(ra.Z,{style:{marginTop:"4rem"}});var dt=[].concat((0,jt.Z)((0,n.values)((0,n.mapValues)(J,function(u,i){var O=(0,n.reduce)(u,function(E,I){return E.plus(I.totalValue)},(0,F.Z)(0));return{Protocol:"".concat(r[x.chain][i]).concat(ot),amount:(0,Z.FH)(O,c,v)}}))),[{Protocol:"Vault".concat(ot),amount:(0,Z.FH)(b,c,v)}]),f=(l={},(0,d.Z)(l,$.me.Desktop,{legendProps:{position:"bottom-center"}}),(0,d.Z)(l,$.me.Tablet,{legendProps:{position:"bottom-center"}}),(0,d.Z)(l,$.me.Mobile,{legendProps:{position:"bottom-center"}}),l)[yt];return(0,t.jsx)("div",{className:N().chartWrapper,children:(0,t.jsx)(sa.yi,{forceFit:!0,padding:"auto",angleField:"amount",color:["#A68EFE","#2ec7c9","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4"],colorField:"Protocol",data:dt,legend:(0,y.Z)({visible:!0,text:{style:{fill:"#fff"},formatter:function(i){return i.replace(ot,"")}}},f.legendProps),label:{visible:!1,type:"spider",offset:20,formatter:function(i,O){return"".concat(O._origin.Protocol,": ").concat(O._origin.amount)}},interactions:[{type:"element-selected"},{type:"element-active"}],statistic:{visible:!0,content:{value:Et()((0,Z.FH)(_,c,v)).format("0.[0000]a"),name:"TVL".concat(ot)}}})})},ua=oa,Bt=e(1123);function Ne(C){var a,l=C.loading,r=l===void 0?!1:l,c=C.tokenDecimals,v=C.strategyMap,m=v===void 0?{}:v,p=C.vaultData,U=p===void 0?{}:p,g=C.unit,S=g===void 0?"USD":g,D=C.displayDecimals,b=D===void 0?Bt.h:D,tt=(0,$.hU)(),x=(a={},(0,d.Z)(a,$.me.Desktop,{}),(0,d.Z)(a,$.me.Tablet,{cardProps:{size:"small"}}),(0,d.Z)(a,$.me.Mobile,{cardProps:{size:"small"}}),a)[tt];return(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:r,className:N().salesCard,bordered:!1,title:"Vault Protocol Allocations",style:{height:"100%",marginTop:40}},x.cardProps),{},{children:(0,t.jsxs)(z.Z,{children:[(0,t.jsx)(P.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(ua,{loading:r,strategyMap:m,tokenDecimals:c,displayDecimals:b,visitData:U||{},unit:S})})}),(0,t.jsx)(P.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(ia,{loading:r,strategyMap:m,tokenDecimals:c,displayDecimals:b,visitData:U||{},unit:S})})})]})}))}var yn=e(77576),da=e(12028),fn=e(54029),ca=e(79166),pa=e(69157),ma=e(26985),Ct=e(860),va=function(a){var l,r=a.loading,c=a.strategyMap,v=a.displayDecimals,m=v===void 0?Bt.h:v,p=a.unit,U=p===void 0?"USD":p,g=(0,s.useState)(!0),S=(0,A.Z)(g,2),D=S[0],b=S[1],tt=(0,T.tT)("@@initialState"),x=tt.initialState,yt=(0,$.hU)(),ot=(0,T.QT)(function(){return(0,Ct.mB)(x.chain,x.vaultAddress,0,100)},{formatResult:function(i){return(0,n.sortBy)(i.content,["strategyName"])}}),ut=ot.data;if(!x.chain)return null;var _=(0,F.Z)(1e18),J=[{title:(0,t.jsxs)("div",{children:["Name\xA0\xA0",(0,t.jsx)(j.Z,{placement:"topLeft",arrowPointAtCenter:!0,overlayStyle:{width:300},title:"By clicking on the strategy name you will be directed to the strategy page with all the related information viewable, e.g., strategy profits and official APY.",children:(0,t.jsx)(k.Z,{})})]}),dataIndex:"strategyName",key:"strategyName",width:320,render:function(i,O){return(0,t.jsxs)("div",{className:N().tableCell,children:[(0,t.jsx)(ue.Z,{preview:!1,width:30,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(c[x.chain][O.protocol],".png"),placeholder:O.protocol,style:{borderRadius:"50%"},alt:c[x.chain][O.protocol],fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat((0,ma.i)()?"https://dashboard.bankofchain.io":"https://dashboard-v2.bankofchain.io","/#/strategy?id=").concat(O.strategyAddress,"&chain=").concat(x.chain,"&vault=").concat(x.vault),className:N().text,children:i})]})}},{title:"Tokens",dataIndex:"underlyingTokens",key:"underlyingTokens",width:130,render:function(i){return!(0,n.isEmpty)(i)&&(0,t.jsx)(pa.Z,{array:i.split(",")})}},{title:"Asset (".concat(U,")"),dataIndex:"totalAssetBaseCurrent",key:"totalAssetBaseCurrent",showSorterTooltip:!1,defaultSortOrder:"descend",sorter:function(i,O){return(0,F.Z)(i.totalAssetBaseCurrent||"0").minus((0,F.Z)(O.totalAssetBaseCurrent||"0"))},render:function(i){return(0,t.jsx)("span",{children:(0,Z.FH)(i||"0",_,m)})}},{title:"Weekly Official APY",dataIndex:"officialWeeklyApy",key:"officialWeeklyApy",showSorterTooltip:!1,sorter:function(i,O){return i.officialWeeklyApy-O.officialWeeklyApy},render:function(i){return(0,t.jsxs)("span",{children:[(0,Z.Ik)((100*i).toFixed(2)),"%"]})}},{title:"Weekly Realized APY",dataIndex:"realizedApy",key:"realizedApy",showSorterTooltip:!1,sorter:function(i,O){var E=i.realizedApy||{value:"0"},I=E.value,W=O.realizedApy||{value:"0"},G=W.value;return I-G},render:function(i){if((0,n.isEmpty)(i))return(0,t.jsx)("span",{children:"0.00%"});var O=i.value,E=i.detail,I=(0,t.jsxs)("span",{children:[(0,Z.Ik)((100*O).toFixed(2)),"%"]});if((0,n.isEmpty)(E))return I;var W=(0,t.jsx)("div",{children:(0,n.map)(E,function(G,M){return(0,t.jsxs)("span",{style:{display:"block"},children:[G.feeName,": ",(0,Z.Ik)((100*G.feeApy).toFixed(2)),"%"]},M)})});return(0,t.jsxs)("span",{children:[I,"\xA0",(0,t.jsx)(j.Z,{title:W,children:(0,t.jsx)(k.Z,{})})]})}},{title:"Weekly Unrealized APY",dataIndex:"unrealizedApy",key:"unrealizedApy",showSorterTooltip:!1,sorter:function(i,O){var E=i.unrealizedApy||{value:"0"},I=E.value,W=O.unrealizedApy||{value:"0"},G=W.value;return I-G},render:function(i){if((0,n.isEmpty)(i))return(0,t.jsx)("span",{children:"0.00%"});var O=i.value,E=i.detail,I=(0,t.jsxs)("span",{children:[(0,Z.Ik)((100*O).toFixed(2)),"%"]});if((0,n.isEmpty)(E))return I;var W=(0,t.jsx)("div",{children:(0,n.map)(E,function(G,M){return(0,t.jsxs)("span",{style:{display:"block"},children:[G.feeName,": ",(0,Z.Ik)((100*G.feeApy).toFixed(2)),"%"]},M)})});return(0,t.jsxs)("span",{children:[I,"\xA0",(0,t.jsx)(j.Z,{title:W,children:(0,t.jsx)(k.Z,{})})]})}},{title:"Weekly Realized Profit",dataIndex:"weekProfit",key:"weekProfit",render:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,O=arguments.length>1?arguments[1]:void 0,E=O.estimateProfit,I=O.tokenUnit,W=I===void 0?"":I,G=(0,n.isNil)(E),M=(0,t.jsx)(ca.Z,{dot:!G,color:"gold",children:(0,t.jsxs)("span",{children:[(0,Z.FH)(i||"0",_,m)," ",W||""]})});if(G)return M;var B=(0,t.jsxs)("span",{children:["Estimate Profit: ",(0,Z.FH)(E,_,m)," ",W||""]});return(0,t.jsx)(j.Z,{title:B,children:M})}},{title:"Strategy Address",dataIndex:"strategyAddress",key:"strategyAddress",align:"center",render:function(i,O){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[x.chain],"/address/").concat(O.strategyAddress),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}],et=D?ut:(0,n.filter)(ut,function(u){return(0,F.Z)(u.totalAsset).gt(0)}),dt=(l={},(0,d.Z)(l,$.me.Desktop,{}),(0,d.Z)(l,$.me.Tablet,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}}),(0,d.Z)(l,$.me.Mobile,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"mobile-font-size",scroll:{x:900}}}),l)[yt],f="Vault Strategies Allocations";return yt===$.me.Mobile&&(f="Strategies Allocations"),(0,t.jsx)("div",{children:(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:r,bordered:!1,title:f,extra:(0,t.jsxs)("div",{children:[(0,t.jsx)(da.Z,{checked:D,onChange:function(){return b(!D)}}),(0,t.jsx)(j.Z,{title:"show all strategies added in vault",children:(0,t.jsx)("span",{style:{padding:10},children:"Show All"})})]}),style:{height:"100%",marginTop:40}},dt.cardProps),{},{children:(0,t.jsx)(re.Z,(0,y.Z)({rowKey:function(i){return i.strategyAddress},columns:J,dataSource:et,pagination:(et==null?void 0:et.length)>10&&{style:{marginBottom:0},pageSize:10}},dt.tableProps))}))})},_e=va,ya=e(30381),ee=e.n(ya),fa=e(35161),se=e.n(fa),ha=e(39693),ga=e.n(ha),Nt=e(39428),le=e(3182),Ie=e(25630),Oe=e(94991),de=e(89850),be,We={SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethereum","137":""},VAULT_ADDRESS:{"1":"0x30D120f80D60E7b58CA9fFaf1aaB1815f000B7c3","137":""},USDI_ADDRESS:{"1":"0x83131242843257bc6C43771762ba467346Efb2CF","137":""},VAULT_BUFFER_ADDRESS:{"1":"0x0b8D3634a05cc6b50E4D026c0eaFa8469cA98480","137":""}}.SUB_GRAPH_URL,Ta=(be={},(0,d.Z)(be,de.W3.id,new Ie.f({uri:We[de.W3.id],cache:new Oe.h})),(0,d.Z)(be,de.hB.id,new Ie.f({uri:We[de.hB.id],cache:new Oe.h})),be),xa=(0,d.Z)({},de.hB.id,new Ie.f({uri:{SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethi"},VAULT_ADDRESS:{"1":"0x8f0Cb368C63fbEDF7a90E43fE50F7eb8B9411746"},ETHI_ADDRESS:{"1":"0x1A597356E7064D4401110FAa2242bD0B51D1E4Fa"},VAULT_BUFFER_ADDRESS:{"1":"0xC8915157b36ed6D0F36827a1Bb5E9b0cDd1e87Cd"}}.SUB_GRAPH_URL[de.hB.id],cache:new Oe.h})),He=function(a,l){var r,c=(r={},(0,d.Z)(r,Bt._.USDi,Ta),(0,d.Z)(r,Bt._.ETHi,xa),r)[a];return c[l]},we=e(87899),Aa=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalValueInVault
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      totalValue
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Da=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      debtRecordInVault
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Ea=function(){var C=(0,le.Z)((0,Nt.Z)().mark(function a(l,r){var c,v,m,p,U,g,S,D,b=arguments;return(0,Nt.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(v=b.length>2&&b[2]!==void 0?b[2]:"",m=b.length>3&&b[3]!==void 0?b[3]:"",p=b.length>4&&b[4]!==void 0?b[4]:"",U=He(l,r),!(0,n.isEmpty)(U)){x.next=6;break}return x.abrupt("return");case 6:return g=(c={},(0,d.Z)(c,Bt._.USDi,Aa),(0,d.Z)(c,Bt._.ETHi,Da),c)[l],x.next=9,U.query({query:(0,we.Ps)(g),variables:{tokenAddress:v.toLowerCase(),valutAddress:m.toLowerCase(),vaultBufferAddress:p.toLowerCase()}});case 9:return S=x.sent,D=S.data,x.abrupt("return",D);case 12:case"end":return x.stop()}},a)}));return function(l,r){return C.apply(this,arguments)}}(),Fe=function(){return`
query($types: [PegTokenUpdateType], $first: Int) {
  pegTokenUpdates(
    orderBy: timestamp,
    orderDirection: desc,
    first: $first,
    where: {
      type_in: $types
    },
  ) {
    id
    type
    transferredAmount
    totalSupplyChangeAmount
    timestamp
    fromAccountUpdate {
      account {
        id
      }
    }
    transaction {
      id
    }
		toAccountUpdate {
      account {
        id
      }
    }
  }
}
`},Sa=function(){var C=(0,le.Z)((0,Nt.Z)().mark(function a(l,r,c){var v,m,p,U,g=arguments;return(0,Nt.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(m=g.length>3&&g[3]!==void 0?g[3]:100,p=He(l,r),!(0,n.isEmpty)(p)){D.next=4;break}return D.abrupt("return");case 4:return U=(v={},(0,d.Z)(v,Bt._.USDi,Fe()),(0,d.Z)(v,Bt._.ETHi,Fe()),v)[l],D.next=7,p.query({query:(0,we.Ps)(U),variables:{types:c,first:m}}).then(function(b){return b.data.pegTokenUpdates});case 7:return D.abrupt("return",D.sent);case 8:case"end":return D.stop()}},a)}));return function(l,r,c){return C.apply(this,arguments)}}(),$e=e(61303),Be={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},ba=18,Le=(0,F.Z)(1e18),Ca=oe.Z.Option,Ma=function(a){var l,r,c=a.loading,v=a.dispalyDecimal,m=v===void 0?Bt.h:v,p=a.decimals,U=p===void 0?ba:p,g=a.token,S=g===void 0?"USDi":g,D=a.filterOptions,b=D===void 0?Be:D,tt=(0,T.tT)("@@initialState"),x=tt.initialState,yt=(0,s.useState)([]),ot=(0,A.Z)(yt,2),ut=ot[0],_=ot[1],J=(0,s.useState)(!1),et=(0,A.Z)(J,2),dt=et[0],f=et[1],u=(0,$.hU)(),i=(0,y.Z)({All:"All"},(0,n.omit)(b,[b.Deposit])),O=(0,s.useState)(i.All),E=(0,A.Z)(O,2),I=E[0],W=E[1],G=(0,s.useState)(1),M=(0,A.Z)(G,2),B=M[0],X=M[1];(0,s.useEffect)(function(){var Q=[I];I===Be.Mint&&Q.push(Be.Deposit);var L=I===i.All?Object.values(b):Q;f(!0),Sa(x.vault,x.chain,L).then(function(at){var ft=ga()(se()(at,function(ct){var ht,St,Pt,Ht,Qt;if(!(ct.type===b.Mint&&(ct==null||(ht=ct.toAccountUpdate)===null||ht===void 0||(St=ht.account)===null||St===void 0||(Pt=St.id)===null||Pt===void 0?void 0:Pt.toLowerCase())===((Ht=(0,$e.L)(x.chain,x.vault))===null||Ht===void 0||(Qt=Ht.vaultBufferAddress)===null||Qt===void 0?void 0:Qt.toLowerCase())))return ct.type===b.Deposit?(0,y.Z)((0,y.Z)({},ct),{},{type:b.Mint}):ct}));X(1),_(ft)}).finally(function(){f(!1)})},[I]);var st=function(L){return(0,t.jsx)("a",{target:"_blank",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[x.chain],"/address/").concat(L),title:L,rel:"noreferrer",children:L})},_t=(l={},(0,d.Z)(l,$.me.Desktop,["10rem","10rem","25rem","8rem"]),(0,d.Z)(l,$.me.Tablet,["8rem","8rem",void 0,"8rem"]),(0,d.Z)(l,$.me.Mobile,["8rem","8rem",void 0,"8rem"]),l)[u],h=[{title:"Date",dataIndex:"timestamp",key:"timestamp",render:function(L){return(0,t.jsx)(j.Z,{title:"".concat(ee()(1e3*L).utcOffset(0).format("yyyy-MM-DD HH:mm:ss")," (UTC)"),children:ee()(1e3*L).utcOffset(0).locale("en").fromNow()})}},{title:"Operation",dataIndex:"type",key:"type",ellipsis:{showTitle:!1}},{title:"Details",key:"detail",render:function(L,at){var ft,ct,ht=at.type,St=at.transferredAmount,Pt=at.toAccountUpdate,Ht=at.fromAccountUpdate,Qt=at.totalSupplyChangeAmount,Rt=(0,Z.Wl)(Qt,U,m),It=(0,Z.Wl)((0,F.Z)(St).abs(),U,m),At=(0,Z.Wl)(St,U,m),w=(0,Z.FH)(Qt,(0,F.Z)(Math.pow(10,U))),pt=(0,Z.FH)((0,F.Z)(St).abs(),(0,F.Z)(Math.pow(10,U))),wt=(0,Z.FH)(St,(0,F.Z)(Math.pow(10,U))),ie=Ht==null||(ft=Ht.account)===null||ft===void 0?void 0:ft.id,fe=Pt==null||(ct=Pt.account)===null||ct===void 0?void 0:ct.id,Xt={Mint:function(){return(0,t.jsxs)(t.Fragment,{children:[ht," ",(0,t.jsx)("span",{title:wt,children:At})," ",S," to ",st(fe)]})},Burn:function(){return(0,t.jsxs)(t.Fragment,{children:[ht," ",(0,t.jsx)("span",{title:pt,children:It})," ",S," from ",st(ie)]})},Rebase:function(){return(0,t.jsxs)(t.Fragment,{children:[ht," ",(0,t.jsx)("span",{title:w,children:Rt})," ",S]})},Transfer:function(){return(0,t.jsxs)(t.Fragment,{children:[ht," ",(0,t.jsx)("span",{title:wt,children:At})," ",S," from ",st(ie)," to ",st(fe)]})}};return(0,t.jsx)("span",{style:{whiteSpace:"normal"},children:Xt[at.type]()})}},{title:"Tx Address",key:"tx",ellipsis:{showTitle:!1},align:"center",render:function(L,at){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[x.chain],"/tx/").concat(at.transaction.id),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}];h.forEach(function(Q,L){Q.width=_t[L]});var Wt=function(L){typeof L=="string"?W(L):W(L.target.value)},Lt=(r={},(0,d.Z)(r,$.me.Desktop,{radioGroupProps:{size:"large"}}),(0,d.Z)(r,$.me.Tablet,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{size:"small",scroll:{x:800}}}),(0,d.Z)(r,$.me.Mobile,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{compact:!0,size:"small",scroll:{x:800}}}),r)[u],te=(0,t.jsx)(Kt.ZP.Group,(0,y.Z)((0,y.Z)({value:I,onChange:Wt,buttonStyle:"solid"},Lt.radioGroupProps),{},{className:N().buttons,children:se()(i,function(Q,L){return(0,t.jsx)(Kt.ZP.Button,{value:Q,children:L},L)})}));return u===$.me.Mobile&&(te=(0,t.jsx)(oe.Z,{style:{width:120},value:I,onChange:Wt,children:se()(i,function(Q,L){return(0,t.jsx)(Ca,{value:Q,children:L},L)})})),(0,t.jsx)("div",{children:(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:c,bordered:!1,title:"Recent Activity",extra:te,style:{height:"100%",marginTop:40}},Lt.cardProps),{},{children:(0,t.jsx)(re.Z,(0,y.Z)({rowKey:function(L){return L.id},columns:h,dataSource:ut,loading:dt,pagination:(ut==null?void 0:ut.length)>10&&{showSizeChanger:!1,style:{marginBottom:0},current:B,pageSize:10,onChange:function(L){X(L)}}},Lt.tableProps))}))})},Ke=Ma,Ye=e(42411),ze=e(10501),Pa=e(3691),Za=e.n(Pa),Ua=[{label:"USDi",value:"usdi"},{label:"ETHi",value:"ethi"},{label:"USDr",value:"usdr"},{label:"ETHr",value:"ethr"}],ja=function(){var a=(0,T.tT)("@@initialState"),l=a.initialState,r=a.setInitialState;console.log("initialState",l);var c=function(m){var p=T.m8.location.query.chain;console.log("chain",p),r((0,y.Z)((0,y.Z)({},l),{},{vault:m},(0,$e.L)(p,m))),T.m8.push({query:{chain:p||l.chain,vault:m}})};return(0,t.jsx)(z.Z,{children:(0,t.jsx)(P.Z,{span:24,className:Za().container,children:(0,t.jsx)(Kt.ZP.Group,{size:"large",onChange:function(m){return c(m.target.value)},value:l.vault,buttonStyle:"solid",children:se()(Ua,function(v,m){return(0,t.jsx)(Kt.ZP.Button,{value:v.value,children:v.label},m)})})})})},Ce=ja,Me=e(55414),ce=e(53651),zt=e(22844),Ia=e(41609),ae=e.n(Ia),Oa=function(a){var l=a.vault,r=a.chain,c=a.vaultAddress,v=a.tokenAddress,m=a.vaultBufferAddress;return ae()(v)||ae()(c)?Promise.reject(new Error("fetch tokenAddress or vaultAddress failed")):Ea(l,r,v,c,m).catch(function(p){return console.error("init DashBoard data failed",p),{pegToken:{totalSupply:"0",holderCount:"0"},vault:{totalAssets:"0",strategies:[]},vaultBuffer:{totalSupply:"0"}}})};function Ge(){var C=(0,s.useState)({}),a=(0,A.Z)(C,2),l=a[0],r=a[1],c=(0,s.useState)(!1),v=(0,A.Z)(c,2),m=v[0],p=v[1],U=(0,T.tT)("@@initialState"),g=U.initialState;return(0,s.useEffect)(function(){g!=null&&g.chain&&(p(!0),Oa(g).then(r).finally(function(){p(!1)}))},[g==null?void 0:g.chain,g==null?void 0:g.vault]),{dataSource:l,loading:m}}var xe=e(2593),Ba=e(13311),La=e.n(Ba),Pe=function(a){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,c=[],v=function(U){var g=a[0]?ee()(a[0].date):ee()().utcOffset(0).subtract(1,"days"),S=g.subtract(U,"days").format("YYYY-MM-DD"),D=La()(a,function(b){return b.date===S})||(0,d.Z)({date:S},l,void 0);c.push(D)},m=0;m<r;m++)v(m);return c},Ra=function(){var a=(0,s.useState)(31),l=(0,A.Z)(a,2),r=l[0],c=l[1],v=(0,s.useState)({}),m=(0,A.Z)(v,2),p=m[0],U=m[1],g=(0,s.useState)({}),S=(0,A.Z)(g,2),D=S[0],b=S[1],tt=(0,s.useState)(0),x=(0,A.Z)(tt,2),yt=x[0],ot=x[1],ut=(0,T.tT)("@@initialState"),_=ut.initialState,J=Ge(),et=J.dataSource,dt=et===void 0?{}:et,f=J.loading,u=dt.pegToken,i=u===void 0?{}:u,O=dt.vault,E=O===void 0?{}:O,I=dt.vaultBuffer,W=I===void 0?{}:I;if((0,s.useEffect)(function(){if(!!_.chain){var at={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};r>7&&(at.format="MM-DD"),(0,Ct.ld)({chainId:_.chain,duration:ce.Gj.monthly,limit:r,tokenType:ce.KR.ethi}).then(function(ft){var ct=Pe(ft.content,"apy",r),ht=(0,n.map)((0,n.reverse)(ct),function(w){var pt=w.date,wt=w.apy,ie=(0,n.isNil)(wt)?null:"".concat(Et()(wt).format("0.00"));return{date:pt,apy:ie}});ot(ft.content[0]?ft.content[0].apy:0);var St=(0,n.uniq)((0,n.map)(ht,function(w){var pt=w.date;return pt})),Pt=[],Ht=(0,n.map)(St,function(w){var pt=(0,n.find)(ht,{date:w});return pt?{value:(0,Z.Ay)(pt.apy),label:"".concat((0,Z.Ik)(pt.apy),"%")}:null}),Qt=[{seriesName:"APY",seriesData:Ht,showSymbol:(0,n.size)((0,n.filter)(Ht,function(w){return!(0,n.isNil)(w.value)}))===1}],Rt={legend:{data:Pt,textStyle:{color:"#fff"}},xAxisData:St,data:Qt},It=(0,ze.Z)(Rt);It.color=["#A68EFE","#5470c6","#91cc75"],It.series.forEach(function(w){w.connectNulls=!0,w.name==="Estimated APY"&&(w.lineStyle={width:2,type:"dotted"})}),It.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var At=[];It.xAxis.data=It.xAxis.data.map(function(w){var pt="".concat(ee()(w).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return At[pt]=ee()(w).add(1,"days").format(at.format),pt}),It.xAxis.axisLabel={formatter:function(pt){return At[pt]}},It.xAxis.axisTick={alignWithLabel:!0},It.yAxis.splitLine={lineStyle:{color:"#454459"}},It.tooltip=(0,y.Z)((0,y.Z)({},It.tooltip),{},{formatter:function(pt){if(pt.length>0){var wt=pt[0],ie=wt.axisValueLabel,fe=wt.marker,Xt=wt.seriesName,Ft=wt.data,Ve="".concat(ie,"<br/>").concat(fe).concat(Xt,": ");return Ft!=null&&Ft.value?Ve+=Ft==null?void 0:Ft.label:Ve+="-",Ve}}}),b(It)}).catch(function(ft){console.error(ft)}),(0,Ct.fY)({chainId:_.chain,limit:r,tokenType:ce.KR.ethi}).then(function(ft){var ct=Pe(ft.content,"totalSupply",r),ht=(0,n.map)((0,n.reverse)(ct),function(St){var Pt=St.date,Ht=St.totalSupply;return{date:Pt,totalSupply:(0,Z.FH)(Ht,zt.Nd,zt.A7)}});U((0,Ye.Z)(ht,"totalSupply","ETHi",(0,y.Z)((0,y.Z)({},at),{},{yAxisMin:function(Pt){return Math.floor(Pt.min*.998)},yAxisMax:function(Pt){return Math.ceil(Pt.max*1.001)}})))}).catch(function(ft){console.error(ft)})}},[r,_.chain]),(0,s.useEffect)(function(){return function(){(0,Ct.jv)()}},[]),(0,n.isEmpty)(_.chain))return null;var G=function(){return(0,n.isEmpty)(i)||(i==null?void 0:i.totalSupply)==="0"||(0,n.isEmpty)(E==null?void 0:E.totalAssets)?"1":!(0,n.isEmpty)(W)&&E.isAdjust?(0,Z.FH)(xe.O$.from(E.totalAssets).sub(W.totalSupply),i==null?void 0:i.totalSupply,6):(0,Z.FH)(E==null?void 0:E.totalAssets,i==null?void 0:i.totalSupply,6)},M=function(){T.m8.push("/prices?chain=".concat(_.chain,"&vault=").concat(_.vault))},B=(0,Z.FH)(i==null?void 0:i.totalSupply,zt.Nd,zt.A7),X=Et()(B).format("0.00 a"),st=X.split(" "),_t=(0,A.Z)(st,2),h=_t[0],Wt=_t[1],Lt=isNaN(new Number(Wt)),te=[{title:"Total Supply",tip:"Current total ETHi supply.",content:(0,n.isEmpty)(i)?0:"".concat(h).concat(Lt?"":Wt),loading:f,unit:"".concat((0,n.isEmpty)(i)?"":"".concat(Lt?Wt:"")," ETHi"),subTitle:(0,t.jsxs)("p",{children:["1ETHi \u2248 ",G(),"ETH"," ",(0,t.jsx)("span",{className:N().history,onClick:M,children:"History"})]})},{title:"Holders",tip:"Number Of ETHi holders.",content:Et()(i==null?void 0:i.holderCount).format("0.[0000]a"),loading:f},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,Z.Ik)(parseFloat(yt).toFixed(2)),loading:f,unit:"%"}],Q=(0,n.cloneDeep)(dt.vault);if(Q){var L=(0,n.reduce)(Q.strategies,function(at,ft){return at.plus(ft.debtRecordInVault)},(0,F.Z)(0));Q.totalValueInVault=(0,F.Z)(Q.totalAssets).minus(L).toString(),Q.strategies.map(function(at){return at.totalValue=at.debtRecordInVault})}return(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(z.Z,{gutter:[24,24],children:[(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(Ce,{})}),(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Jt,{data:te})})}),(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Te,{loading:f,calDateRange:r,onCalDateRangeClick:c,apyEchartOpt:D,tvlEchartOpt:p})})}),(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ne,{loading:f,strategyMap:Me.tX,tokenDecimals:zt.Nd,displayDecimals:zt.A7,vaultData:Q,unit:"ETH"})})}),(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(_e,{unit:"ETH",loading:f,strategyMap:Me.tX,displayDecimals:zt.A7})})}),(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ke,{token:"ETHi",decimals:zt.DO,dispalyDecimal:zt.A7,filterOptions:zt.O2,loading:f})})}),(0,t.jsx)(P.Z,{span:24})]})})},ka=Ra,Re=e(91907),Va=[{label:"Ethereum",key:"1"},{label:"Polygon",key:"137"}],Na=function(){var a=(0,s.useState)(31),l=(0,A.Z)(a,2),r=l[0],c=l[1],v=(0,s.useState)({}),m=(0,A.Z)(v,2),p=m[0],U=m[1],g=(0,s.useState)({}),S=(0,A.Z)(g,2),D=S[0],b=S[1],tt=(0,s.useState)(0),x=(0,A.Z)(tt,2),yt=x[0],ot=x[1],ut=(0,T.tT)("@@initialState"),_=ut.initialState,J=Ge(),et=J.dataSource,dt=et===void 0?{}:et,f=J.loading,u=dt.pegToken,i=u===void 0?{}:u,O=dt.vault,E=O===void 0?{}:O,I=dt.vaultBuffer,W=I===void 0?{}:I;if((0,s.useEffect)(function(){if(!!_.chain){var Q={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};r>7&&(Q.format="MM-DD"),(0,Ct.ld)({chainId:_.chain,duration:ce.Gj.monthly,limit:r,tokenType:ce.KR.usdi}).then(function(L){var at=Pe(L.content,"apy",r),ft=(0,n.map)((0,n.reverse)(at),function(At){var w=At.date,pt=At.apy,wt=(0,n.isNil)(pt)?null:"".concat(Et()(pt).format("0.00"));return{date:w,apy:wt}}),ct=(0,n.get)(L,"content.[0].apy",0);ot(ct);var ht=(0,n.uniq)((0,n.map)(ft,function(At){var w=At.date;return w})),St=[],Pt=(0,n.map)(ht,function(At){var w=(0,n.find)(ft,{date:At});return w?{value:(0,Z.Ay)(w.apy),label:"".concat((0,Z.Ik)(w.apy),"%")}:null}),Ht=[{seriesName:"APY",seriesData:Pt,showSymbol:(0,n.size)((0,n.filter)(Pt,function(At){return!(0,n.isNil)(At.value)}))===1}],Qt={legend:{data:St,textStyle:{color:"#fff"}},xAxisData:ht,data:Ht},Rt=(0,ze.Z)(Qt);Rt.color=["#A68EFE","#5470c6","#91cc75"],Rt.series.forEach(function(At){At.connectNulls=!0,At.name==="Estimated APY"&&(At.lineStyle={width:2,type:"dotted"})}),Rt.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var It=[];Rt.xAxis.data=Rt.xAxis.data.map(function(At){var w="".concat(ee()(At).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return It[w]=ee()(At).add(1,"days").format(Q.format),w}),Rt.xAxis.axisLabel={formatter:function(w){return It[w]}},Rt.xAxis.axisTick={alignWithLabel:!0},Rt.yAxis.splitLine={lineStyle:{color:"#454459"}},Rt.tooltip=(0,y.Z)((0,y.Z)({},Rt.tooltip),{},{formatter:function(w){if(w.length>0){var pt=w[0],wt=pt.axisValueLabel,ie=pt.marker,fe=pt.seriesName,Xt=pt.data,Ft="".concat(wt,"<br/>").concat(ie).concat(fe,": ");return Xt!=null&&Xt.value?Ft+=Xt==null?void 0:Xt.label:Ft+="-",Ft}}}),b(Rt)}).catch(function(L){console.error(L)}),(0,Ct.fY)({chainId:_.chain,limit:r,tokenType:ce.KR.usdi}).then(function(L){var at=Pe(L.content,"totalSupply",r),ft=(0,n.map)((0,n.reverse)(at),function(ct){var ht=ct.date,St=ct.totalSupply;return{date:ht,totalSupply:(0,Z.FH)(St,Le,Bt.h)}});U((0,Ye.Z)(ft,"totalSupply","USDi",(0,y.Z)((0,y.Z)({},Q),{},{yAxisMin:function(ht){return Math.floor(ht.min*.998)},yAxisMax:function(ht){return Math.ceil(ht.max*1.001)}})))}).catch(function(L){console.error(L)})}},[r,_.chain]),(0,s.useEffect)(function(){return function(){(0,Ct.jv)()}},[]),(0,n.isEmpty)(_.chain))return null;var G=function(){return(0,n.isEmpty)(i)||(i==null?void 0:i.totalSupply)==="0"||(0,n.isEmpty)(E==null?void 0:E.totalAssets)?"1":!(0,n.isEmpty)(W)&&E.isAdjust?(0,Z.FH)(xe.O$.from(E.totalAssets).sub(W.totalSupply),i==null?void 0:i.totalSupply,6):(0,Z.FH)(E==null?void 0:E.totalAssets,i==null?void 0:i.totalSupply,6)},M=function(){T.m8.push("/prices?chain=".concat(_.chain,"&vault=").concat(_.vault))},B=(0,Z.FH)(i==null?void 0:i.totalSupply,Le,Bt.h),X=Et()(B).format("0.00 a"),st=X.split(" "),_t=(0,A.Z)(st,2),h=_t[0],Wt=_t[1],Lt=(0,n.isNaN)(new Number(Wt)),te=[{title:"Total Supply",tip:"Current total USDi supply.",content:(0,n.isEmpty)(i)?0:"".concat(h).concat(Lt?"":Wt),loading:f,unit:"".concat((0,n.isEmpty)(i)?"":"".concat(Lt?Wt:"")," USDi"),subTitle:(0,t.jsxs)("p",{children:["1USDi \u2248 ",G(),"USD"," ",(0,t.jsx)("span",{className:N().history,onClick:M,children:"History"})]})},{title:"Holders",tip:"Number Of USDi holders.",content:Et()(i==null?void 0:i.holderCount).format("0.[0000]a"),loading:f},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,Z.Ik)(parseFloat(yt).toFixed(2)),loading:f,unit:"%"}];return console.log("tvlEchartOpt=",p),(0,t.jsxs)(gt.Z,{children:[(0,t.jsxs)(s.Suspense,{fallback:null,children:[(0,t.jsx)(Ce,{}),(0,t.jsx)(Re.Z,{chains:Va})]}),(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Jt,{data:te})}),(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Te,{isUsdi:!0,loading:f,calDateRange:r,onCalDateRangeClick:c,apyEchartOpt:D,tvlEchartOpt:p})}),(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ne,{loading:f,strategyMap:Me.o1,tokenDecimals:Le,vaultData:dt.vault})}),(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(_e,{strategyMap:Me.o1,loading:f})}),(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Ke,{loading:f})})]})},_a=Na,Qe=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_newVault",type:"address"},{indexed:!0,internalType:"address",name:"_wantToken",type:"address"}],name:"CreateNewVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vaultImpl",type:"address"}],name:"addVaultImpl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wantToken",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"}],name:"createNewVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"deleteVaultAddressMapForDebug",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getStablecoinInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlist",outputs:[{internalType:"address[]",name:"_wethInvestorSet",type:"address[]"},{internalType:"address[]",name:"_usdInvestorSet",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlistLen",outputs:[{internalType:"uint256",name:"_wethInvestorSetLen",type:"uint256"},{internalType:"uint256",name:"_stablecoinInvestorSetLen",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultImplList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultsLen",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getWethInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_vaultImplList",type:"address[]"},{internalType:"address",name:"_accessControlProxy",type:"address"},{internalType:"address",name:"_uniswapV3RiskOnHelper",type:"address"},{internalType:"address",name:"_treasury",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"treasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"uniswapV3RiskOnHelper",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"vaultAddressMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vaultImpl2Index",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"vaultImplList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],Wa=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"borrowInfo",outputs:[{internalType:"uint256",name:"_totalCollateralBase",type:"uint256"},{internalType:"uint256",name:"_totalDebtBase",type:"uint256"},{internalType:"uint256",name:"_availableBorrowsBase",type:"uint256"},{internalType:"uint256",name:"_currentLiquidationThreshold",type:"uint256"},{internalType:"uint256",name:"_ltv",type:"uint256"},{internalType:"uint256",name:"_healthFactor",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcAaveBaseCurrencyValueInAsset",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_baseAsset",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcCanonicalAssetValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getAToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"},{internalType:"address",name:"_account",type:"address"}],name:"getCurrentBorrow",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"}],name:"getDebtToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"getSpecifiedRangesOfTick",outputs:[{internalType:"int24",name:"_tickFloor",type:"int24"},{internalType:"int24",name:"_tickCeil",type:"int24"},{internalType:"int24",name:"_tickLower",type:"int24"},{internalType:"int24",name:"_tickUpper",type:"int24"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"address",name:"_collateralToken",type:"address"}],name:"getTotalCollateralTokenAmount",outputs:[{internalType:"uint256",name:"_totalCollateralToken",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_pool",type:"address"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"getTwap",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"}],Ha=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"LendToStrategy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_basis",type:"uint256"}],name:"ProfitFeeBpsChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"RedeemToVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"_shutdown",type:"bool"}],name:"SetEmergencyShutdown",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address[]",name:"_rewardTokens",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],name:"StrategyReported",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_nftId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTCollect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"_liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTPositionAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"UniV3NFTPositionRemoved",type:"event"},{anonymous:!1,inputs:[],name:"UniV3UpdateConfig",type:"event"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"borrowRebalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"borrowToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositTo3rdPoolTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergencyShutdown",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"estimatedTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMintInfo",outputs:[{internalType:"uint256",name:"_baseTokenId",type:"uint256"},{internalType:"int24",name:"_baseTickUpper",type:"int24"},{internalType:"int24",name:"_baseTickLower",type:"int24"},{internalType:"uint256",name:"_limitTokenId",type:"uint256"},{internalType:"int24",name:"_limitTickUpper",type:"int24"},{internalType:"int24",name:"_limitTickLower",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStatus",outputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_wantToken",type:"address"},{internalType:"int24",name:"_baseThreshold",type:"int24"},{internalType:"int24",name:"_limitThreshold",type:"int24"},{internalType:"int24",name:"_minTickMove",type:"int24"},{internalType:"int24",name:"_maxTwapDeviation",type:"int24"},{internalType:"int24",name:"_lastTick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"uint256",name:"_period",type:"uint256"},{internalType:"uint256",name:"_lastTimestamp",type:"uint256"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"harvest",outputs:[{internalType:"address[]",name:"_rewardsTokens",type:"address[]"},{internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastHarvest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"lend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"manageFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"netMarketMakingAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"profitFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rebalanceByKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeemToVaultByKeeper",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"setBaseThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_active",type:"bool"}],name:"setEmergencyShutdown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_limitThreshold",type:"int24"}],name:"setLimitThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setManageFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_maxTwapDeviation",type:"int24"}],name:"setMaxTwapDeviation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_minTickMove",type:"int24"}],name:"setMinTickMove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_period",type:"uint256"}],name:"setPeriod",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setProfitFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"setTwapDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"}],name:"shouldRebalance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"wantToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Xe=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],wa="0x0000000000000000000000000000000000000000",ke="0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",Fa="0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619",Gt=new F.Z(1e6),hn=new F.Z(1e18),gn=new F.Z(1e27),Je=e(43077),$a=e(96519),Ka=e(85564),Ya=e.n(Ka),za=e(15296),ne=$a.CH,qe=xe.O$,Ga=[Fa,ke],Qa=function(a,l,r){var c=(0,s.useState)(!1),v=(0,A.Z)(c,2),m=v[0],p=v[1],U=(0,s.useState)([]),g=(0,A.Z)(U,2),S=g[0],D=g[1],b=(0,s.useState)([]),tt=(0,A.Z)(b,2),x=tt[0],yt=tt[1],ot=(0,s.useState)(!1),ut=(0,A.Z)(ot,2),_=ut[0],J=ut[1],et=(0,za.Z)(r),dt=(0,s.useCallback)(function(E,I){var W=new ne(I,Ha,r),G=new ne(E,Wa,r);return Promise.all([W.borrowToken().then(function(){var M=(0,le.Z)((0,Nt.Z)().mark(function B(X){var st;return(0,Nt.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return st=new ne(X,Xe,r),h.t0=X,h.next=4,st.symbol();case 4:return h.t1=h.sent,h.t2=qe.from(10),h.next=8,st.decimals();case 8:return h.t3=h.sent,h.t4=h.t2.pow.call(h.t2,h.t3),h.abrupt("return",{borrowToken:h.t0,name:h.t1,borrowTokenDecimals:h.t4});case 11:case"end":return h.stop()}},B)}));return function(B){return M.apply(this,arguments)}}()),W.wantToken().then(function(){var M=(0,le.Z)((0,Nt.Z)().mark(function B(X){var st;return(0,Nt.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return st=new ne(X,Xe,r),h.t0=X,h.next=4,st.symbol();case 4:return h.t1=h.sent,h.t2=qe.from(10),h.next=8,st.decimals();case 8:return h.t3=h.sent,h.t4=h.t2.pow.call(h.t2,h.t3),h.abrupt("return",{wantToken:h.t0,name:h.t1,wantTokenDecimals:h.t4});case 11:case"end":return h.stop()}},B)}));return function(B){return M.apply(this,arguments)}}())]).then(function(M){var B=(0,A.Z)(M,2),X=B[0],st=B[1],_t=X.borrowToken,h=st.wantToken;return Promise.all([W.netMarketMakingAmount(),G.getCurrentBorrow(_t,2,I),G.getTotalCollateralTokenAmount(I,h),W.depositTo3rdPoolTotalAssets(),W.estimatedTotalAssets()]).then(function(Wt){var Lt=(0,A.Z)(Wt,5),te=Lt[0],Q=Lt[1],L=Lt[2],at=Lt[3],ft=Lt[4];return G.calcCanonicalAssetValue(_t,Q,h).then(function(ct){var ht={netMarketMakingAmount:te,currentBorrow:Q,currentBorrowWithCanonical:ct,depositTo3rdPoolTotalAssets:at,totalCollateralTokenAmount:L,estimatedTotalAssets:ft,wantInfo:st,borrowInfo:X,result:at.add(L).sub(te).sub(ct)};return ht})})}).finally(function(){setTimeout(function(){p(!1)},300)})},[r]),f=(0,s.useCallback)(function(){if(!(ae()(a)||ae()(r))){var E=new ne(a,l,r);E.getVaultImplList().then(D)}},[a,r,l]),u=(0,s.useCallback)((0,le.Z)((0,Nt.Z)().mark(function E(){var I,W,G;return(0,Nt.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!(ae()(a)||ae()(r)||ae()(S)||ae()(et))){B.next=2;break}return B.abrupt("return");case 2:return I=new ne(a,l,r),B.next=5,I.uniswapV3RiskOnHelper();case 5:W=B.sent,G=se()(S,function(X){return Promise.all(se()(Ga,function(st,_t){return I.vaultAddressMap(et,X,_t).then(function(h){return h===wa?{hasCreate:!1,type:X,token:st}:dt(W,h).then(function(Wt){return(0,y.Z)((0,y.Z)({},Wt),{},{address:h,type:X,hasCreate:!0,token:st})})})}))}),Promise.all(G).then(function(X){yt(Ya()(X))});case 8:case"end":return B.stop()}},E)})),[et,a,r,S,l]),i=(0,s.useCallback)(function(){var E=(0,le.Z)((0,Nt.Z)().mark(function I(W,G){var M;return(0,Nt.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return J(!0),M=new ne(a,l,r),X.next=4,M.connect(r.getSigner()).createNewVault(W,G).then(function(st){return st.wait()}).then(u).finally(function(){J(!1)});case 4:case"end":return X.stop()}},I)}));return function(I,W){return E.apply(this,arguments)}}(),[a,r,u,l]),O=(0,s.useCallback)(function(){var E=(0,le.Z)((0,Nt.Z)().mark(function I(W,G){var M;return(0,Nt.Z)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:J(!0),M=new ne(a,l,r),M.connect(r.getSigner()).deleteVaultAddressMapForDebug(et,W,G).then(function(st){return st.wait()}).then(u).finally(function(){J(!1)});case 3:case"end":return X.stop()}},I)}));return function(I,W){return E.apply(this,arguments)}}(),[a,u,et,r,l]);return(0,s.useEffect)(f,[f]),(0,s.useEffect)(u,[u]),{vaultFactoryAddress:a,vaultImplList:S,personalVault:x,adding:_,loading:m,addVault:i,deleteVault:O}},ta=Qa,Yt=e(52572),Xa=e(27361),ea=e.n(Xa),Ae=xe.O$,Ja=[{label:"Polygon",key:"137"}],pe=137,me="WETH",qa=function(){var a="0x8013Dd64084e9c9122567563AA86981F4C20576B",l=(0,Je.Z)(),r=l.userProvider,c=ta(a,Qe,r),v=c.personalVault,m=(0,n.groupBy)(v,"token"),p=ea()(m,ke,[]);console.log("calcArray=",p);var U=(0,n.reduce)(p,function(f,u){return f.add(u.netMarketMakingAmount),f},Ae.from(0)),g=(0,n.reduce)(p,function(f,u){return f.add(u.estimatedTotalAssets),f},Ae.from(0)),S=(0,n.reduce)(p,function(f,u){return f.add(u.currentBorrow),f},Ae.from(0)),D=(0,n.reduce)(p,function(f,u){return f.add(u.totalCollateralTokenAmount),f},Ae.from(0)),b=(0,n.reduce)(p,function(f,u){return f.add(u.depositTo3rdPoolTotalAssets),f},Ae.from(0));console.log("netMarketMakingAmountTotal=",U.toString()),console.log("estimatedTotalAssetsTotal=",g.toString()),console.log("currentBorrow=",S.toString()),console.log("totalCollateralTokenAmountTotal=",D.toString()),console.log("depositTo3rdPoolTotalAssetsTotal=",b.toString());var tt=(0,Yt.r5)(function(){return(0,Ct._S)(pe,a,"aave-outstanding-loan")},[a]),x=(0,Yt.r5)(function(){return(0,Ct._S)(pe,a,"aave-collateral")},[a]),yt=(0,Yt.r5)(function(){return(0,Ct._S)(pe,a,"aave-health-ratio")},[a]),ot=(0,Yt.r5)(function(){return(0,Ct._S)(pe,a,"uniswap-position-value")},[a]),ut=(0,Yt.r5)(function(){return(0,Ct._S)(pe,a,"profit")},[a]),_=(0,Yt.r5)(function(){return(0,Ct._S)(pe,a,"net-deposit")},[a]);console.log("aaaa=",tt,x,yt,ot,ut,_);var J=!1,et=[{title:"Deposit",tip:"All Vault Net Deposit.",content:Et()((0,Z.FH)(U,Gt)).format("0.[0000]a"),loading:J,unit:me},{title:"Current Value",tip:"All Vault Current Value.",content:Et()((0,Z.FH)(g,Gt)).format("0.[0000]a"),loading:J,unit:me},{title:"Unrealized Profit",tip:"All Vault Unrealized Profit.",content:Et()("123124").format("0.[0000]a"),loading:J,unit:me},{title:"Holders",tip:"Number Of USDi holders.",content:Et()("5").format("0.[0000]a"),loading:J,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:Et()((0,Z.FH)(S,Gt)).format("0.[0000]a"),loading:J,unit:me},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:Et()((0,Z.FH)(D,Gt)).format("0.[0000]a"),loading:J,unit:me},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:Et()((0,Z.FH)(b,Gt)).format("0.[0000]a"),loading:J,unit:me}],dt={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]};return(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(z.Z,{gutter:[0,24],children:[(0,t.jsx)(P.Z,{span:24,children:(0,t.jsxs)(s.Suspense,{fallback:null,children:[(0,t.jsx)(Ce,{}),(0,t.jsx)(Re.Z,{chains:Ja})]})}),(0,t.jsx)(P.Z,{span:24,children:(0,t.jsxs)(z.Z,{gutter:[24,24],children:[(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Jt,{data:et})})}),(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(H.Z,{title:"Uniswap APY (%)",children:(0,t.jsx)(qt.$c,{option:dt,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(s.Suspense,{children:(0,t.jsx)(H.Z,{title:"Sample APY (%)",children:(0,t.jsx)(qt.$c,{option:dt,style:{minHeight:"500px",width:"100%"}})})})})]})})]})})},tn=qa,Tn=e(20228),en=e(11382),an=e(18973),aa=e.n(an),nn=(0,t.jsxs)("div",{className:aa().main,children:[(0,t.jsxs)("svg",{viewBox:"0 0 1403 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",children:[(0,t.jsx)("path",{d:"M149.1 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM807.5 740.5H352c-9.1-22.5-31.2-38.4-57-38.4-33.9 0-61.4 27.5-61.4 61.4s27.5 61.4 61.4 61.4c25.8 0 47.9-15.9 57-38.4h455.5c9.1 22.5 31.2 38.4 57 38.4 33.9 0 61.4-27.5 61.4-61.4s-27.5-61.4-61.4-61.4c-25.9 0-47.9 15.9-57 38.4zM233.6 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM318 515.1c12.7 0 23-10.3 23-23v-51c0-12.7-10.3-23-23-23s-23 10.3-23 23v51c0 12.7 10.3 23 23 23z",fill:"#A68EFE"}),(0,t.jsx)("path",{d:"M1353.7 486.2c8.8-28.8 1.9-61.5-20.9-84.2L1088.2 157.4c-1.1-1.2-2.2-2.4-3.4-3.6-1.2-1.2-2.4-2.3-3.6-3.4l-0.8-0.8c-17.2-15.1-39.1-23.4-62.3-23.4-25.3 0-49 9.8-66.8 27.6L763 342l-60.3-213h12.5c12.7 0 23-10.3 23-23s-10.3-23-23-23H464.8c-51.3 0-93 41.7-93 93v132.3H91.4c-9.3 0-18 3.6-24.6 10.2l-56.6 56.6c-6.6 6.6-10.2 15.3-10.2 24.6V563c0 9.3 3.6 18 10.2 24.6l60.1 60.1c6.6 6.6 15.3 10.2 24.6 10.2h78.7c-30.5 29.9-49.5 71.5-49.5 117.4 0 90.6 73.7 164.4 164.4 164.4h582.5c90.6 0 164.4-73.7 164.4-164.4s-73.7-164.4-164.4-164.4h-55.5l173.9-176.2 0.9-52.8 42.3-42.3L1213.8 521c7.1 7.1 15.2 12.7 23.8 16.7l-69.4 117.8-9.8-5.8c-9.5-5.6-21.8-2.4-27.4 7.1l-3 5.2c-5.6 9.5-2.4 21.8 7.1 27.4l51.4 30.3c68.6 40.4 156.9 17.6 197.4-51 35.9-61.1 21.7-137.9-30.2-182.5z m-632.5-123h-77.2l-44.7-44.7c-6.6-6.6-15.3-10.2-24.6-10.2h-42.1V129h122.2l66.4 234.2zM417.8 176c0-25.9 21.1-47 47-47h22v179.3h-69V176zM99.5 611.8l-53.5-53.5V404.4l50-50h474.2L614.9 399c6.6 6.6 15.3 10.2 24.6 10.2H724.9v113.4H492.8c-12.7 0-23 10.3-23 23s10.3 23 23 23H724.9v42.3H288.5c-6 0-12 0.3-17.8 1H99.5z m771.5 45.1c65.3 0 118.4 53.1 118.4 118.4 0 65.3-53.1 118.4-118.4 118.4H288.5c-65.3 0-118.4-53.1-118.4-118.4 0-65.3 53.1-118.4 118.4-118.4h582.5z m73.5-294.4l-0.9 53-172.7 175V399.2l212.9-212.9c9.1-9.1 21.3-14.1 34.2-14.1 13 0 25.2 5 34.2 14.1 18.9 18.9 18.9 49.6 0 68.5L944.5 362.5z m248.9 72.9L1065 307.1l19.8-19.8c12.5-12.5 20.7-27.6 24.7-43.6l137.8 137.8c-12.2 4-23.7 10.8-33.4 20.5-9.8 9.7-16.6 21.2-20.5 33.4z m53-0.9c14.9-14.9 39-14.9 53.9 0 14.9 14.9 14.9 39 0 53.9-14.9 14.9-39 14.9-53.9 0-14.9-14.8-14.9-39 0-53.9z m97.8 210.8c-27.5 46.7-87.7 62.2-134.4 34.7l-2-1.2 79.2-134.4c14.8-2.4 29.1-8.8 41.1-19.2 31.7 30.8 39.5 80.3 16.1 120.1z",fill:"#A68EFE"})]}),(0,t.jsx)("span",{className:aa().text,children:"Under construction..."})]}),rn=function(a){var l=a.children;return(0,t.jsx)(en.Z,{size:"large",indicator:nn,children:l})},sn=rn,De=xe.O$,ln=[{label:"Polygon",key:"137"}],ve=137,ye="USDC",on=function(){var a="0x8013Dd64084e9c9122567563AA86981F4C20576B",l=(0,Je.Z)(),r=l.userProvider,c=ta(a,Qe,r),v=c.personalVault,m=(0,n.groupBy)(v,"token"),p=ea()(m,ke,[]),U=(0,s.useState)("All"),g=(0,A.Z)(U,2),S=g[0],D=g[1];console.log("calcArray=",p,S);var b=(0,n.reduce)(p,function(M,B){return M.add(B.netMarketMakingAmount),M},De.from(0)),tt=(0,n.reduce)(p,function(M,B){return M.add(B.estimatedTotalAssets),M},De.from(0)),x=(0,n.reduce)(p,function(M,B){return M.add(B.currentBorrow),M},De.from(0)),yt=(0,n.reduce)(p,function(M,B){return M.add(B.totalCollateralTokenAmount),M},De.from(0)),ot=(0,n.reduce)(p,function(M,B){return M.add(B.depositTo3rdPoolTotalAssets),M},De.from(0));console.log("netMarketMakingAmountTotal=",b.toString()),console.log("estimatedTotalAssetsTotal=",tt.toString()),console.log("currentBorrow=",x.toString()),console.log("totalCollateralTokenAmountTotal=",yt.toString()),console.log("depositTo3rdPoolTotalAssetsTotal=",ot.toString());var ut=(0,Yt.r5)(function(){return(0,Ct._S)(ve,a,"aave-outstanding-loan")},[a]),_=(0,Yt.r5)(function(){return(0,Ct._S)(ve,a,"aave-collateral")},[a]),J=(0,Yt.r5)(function(){return(0,Ct._S)(ve,a,"aave-health-ratio")},[a]),et=(0,Yt.r5)(function(){return(0,Ct._S)(ve,a,"uniswap-position-value")},[a]),dt=(0,Yt.r5)(function(){return(0,Ct._S)(ve,a,"profit")},[a]),f=(0,Yt.r5)(function(){return(0,Ct._S)(ve,a,"net-deposit")},[a]);console.log("aaaa=",ut,_,J,et,dt,f);var u=!1,i=[{title:"Deposit",tip:"All Vault Net Deposit.",content:Et()((0,Z.FH)(b,Gt)).format("0.[0000]a"),loading:u,unit:ye},{title:"Current Value",tip:"All Vault Current Value.",content:Et()((0,Z.FH)(tt,Gt)).format("0.[0000]a"),loading:u,unit:ye},{title:"Unrealized Profit",tip:"All Vault Unrealized Profit.",content:Et()("123124").format("0.[0000]a"),loading:u,unit:ye},{title:"Holders",tip:"Number Of USDi holders.",content:Et()("5").format("0.[0000]a"),loading:u,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:Et()((0,Z.FH)(x,Gt)).format("0.[0000]a"),loading:u,unit:ye},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:Et()((0,Z.FH)(yt,Gt)).format("0.[0000]a"),loading:u,unit:ye},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:Et()((0,Z.FH)(ot,Gt)).format("0.[0000]a"),loading:u,unit:ye}],O={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]},E=[],I=[{title:"Date",dataIndex:"date",key:"date"},{title:"Operation",dataIndex:"operation",key:"operation"},{title:"Details",dataIndex:"details",key:"details"},{title:"Tx Address",dataIndex:"tx",key:"tx"}],W={All:"All",Create:"Create",Deposit:"Deposit",Burn:"Burn"},G=(0,t.jsx)(Kt.ZP.Group,{value:S,onChange:function(B){return D(B.target.value)},buttonStyle:"solid",className:N().buttons,children:se()(W,function(M,B){return(0,t.jsx)(Kt.ZP.Button,{value:M,children:M},B)})});return(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(z.Z,{gutter:[0,24],children:[(0,t.jsx)(P.Z,{span:24,children:(0,t.jsxs)(s.Suspense,{fallback:null,children:[(0,t.jsx)(Ce,{}),(0,t.jsx)(Re.Z,{chains:ln})]})}),(0,t.jsx)(P.Z,{span:24,children:(0,t.jsxs)(z.Z,{gutter:[24,24],children:[(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(Jt,{data:i})})}),(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(s.Suspense,{fallback:null,children:(0,t.jsx)(H.Z,{title:"Uniswap APY (%)",children:(0,t.jsx)(qt.$c,{option:O,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(s.Suspense,{children:(0,t.jsx)(sn,{children:(0,t.jsx)(H.Z,{title:"Sample APY (%)",children:(0,t.jsx)(qt.$c,{option:O,style:{minHeight:"500px",width:"100%"}})})})})}),(0,t.jsx)(P.Z,{span:24,children:(0,t.jsx)(s.Suspense,{children:(0,t.jsx)(H.Z,{extra:G,title:"Recent Activity",children:(0,t.jsx)(re.Z,{dataSource:E,columns:I})})})})]})})]})})},un=on,dn=e(7594),cn=e(52353),pn=e.n(cn);function mn(){var C,a=(0,T.tT)("@@initialState"),l=a.initialState,r=(C={},(0,d.Z)(C,Bt._.USDi,_a),(0,d.Z)(C,Bt._.ETHi,ka),(0,d.Z)(C,Bt._.ETHr,tn),(0,d.Z)(C,Bt._.USDr,un),C)[l.vault];return pn()(r)?(0,t.jsx)(dn.default,{}):(0,t.jsx)(r,{})}},860:function(mt,Y,e){"use strict";e.d(Y,{E6:function(){return P},_8:function(){return y},mB:function(){return A},Mn:function(){return gt},oP:function(){return bt},t:function(){return j},ld:function(){return rt},fY:function(){return t},jv:function(){return Mt},Qc:function(){return Zt},_S:function(){return xt}});var d=e(93224),s=e(11849),T=e(65367),K=e(96486),z=e.n(K),it=["chainId","vaultAddress"],P=function(o){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20;try{var q=(0,s.Z)({offset:k,limit:n},o);return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/officialApy"),{params:q})}catch(nt){return{content:[]}}},y=function(o){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,q=o.chainId,nt=o.vaultAddress,N={sort:"gene_time desc",offset:k,limit:n};return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(q,"/vaults/").concat(nt,"/allocation"),{params:N})},A=function(o,k){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:20,nt={offset:n,limit:q};return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(o,"/vaults/").concat(k,"/strategy/detail/list"),{params:nt})},gt=function(o){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,q=o.chainId,nt=o.vaultAddress,N=(0,d.Z)(o,it);return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(q,"/vaults/").concat(nt,"/verifiedApy"),{params:(0,s.Z)({offset:k,limit:n},N)})},bt=function(o,k,n,q,nt){if(!(0,K.isNil)(n))return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(o,"/vaults/").concat(k,"/allocation/").concat(n,"/").concat(q),{method:"patch",headers:nt})},j=function(o){var k=o.strategyName,n=o.vaultAddress,q=o.chainId,nt=o.limit,N=nt===void 0?10:nt,Ut=o.offset,kt=Ut===void 0?0:Ut,Vt=o.sort,Ot=Vt===void 0?"fetch_timestamp desc":Vt;return(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(q,"/vaults/").concat(n,"/strategy/assets"),{params:{strategyName:k,limit:N,offset:kt,sort:Ot}})},R=function(o,k,n){return request("".concat("https://service-pr02-sg.bankofchain.io","/apy/account_apy/accountAddress/").concat(o,"/date/").concat(k),{params:n})},lt=function(o,k){return request("".concat("https://service-pr02-sg.bankofchain.io","/profit/account/").concat(o),{params:k})},H=function(o,k){return request("".concat("https://service-pr02-sg.bankofchain.io","/token/balance/account/").concat(o),{params:_objectSpread({limit:365},k)})},Dt=function(o,k){return request("".concat("https://service-pr02-sg.bankofchain.io","/month_profit/account/").concat(o),{params:k})},Tt={},rt=function(o){var k=o.chainId,n=o.tokenType,q=o.duration,nt=o.offset,N=nt===void 0?0:nt,Ut=o.limit,kt=o.useCache,Vt=kt===void 0?!0:kt,Ot="".concat(k,"-").concat(q,"-").concat(n,"-").concat(N,"-").concat(Ut);return Vt&&Tt[Ot]?Promise.resolve(Tt[Ot]):(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/apy/vault_apy"),{params:{chainId:k,duration:q,offset:N,limit:Ut,tokenType:n}}).then(function(Jt){return Tt[Ot]=Jt,Jt})},V={},t=function(o){var k=o.chainId,n=o.offset,q=n===void 0?0:n,nt=o.limit,N=o.tokenType,Ut=o.useCache,kt=Ut===void 0?!0:Ut,Vt="".concat(k,"-").concat(q,"-").concat(N,"-").concat(nt);return kt&&V[Vt]?Promise.resolve(V[Vt]):(0,T.WY)("".concat("https://service-pr02-sg.bankofchain.io","/token/totalSupply"),{params:{chainId:k,offset:q,limit:nt,tokenType:N}}).then(function(Ot){return V[Vt]=Ot,Ot})},Mt=function(){Tt={},V={}},Zt=function(o,k,n){var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,nt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20,N={strategyAddress:n,offset:q,limit:nt},Ut="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(o,"/vaults/").concat(k,"/verifiedApy/daily");return(0,T.WY)(Ut,{params:N})},xt=function(o,k,n){var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{limit:30},nt="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(o,"/vaults/").concat(k,"/data_collects/types/").concat(n);return(0,T.WY)(nt,{params:q})}},62904:function(mt,Y,e){"use strict";e.d(Y,{u:function(){return bt}});var d=e(39428),s=e(34792),T=e(55026),K=e(3182),z=e(13311),it=e.n(z),P=e(41609),y=e.n(P),A=e(89850),gt=e(50999),bt=function(){var j=(0,K.Z)((0,d.Z)().mark(function R(lt,H,Dt){var Tt,rt,V,t,Mt,Zt,xt=arguments;return(0,d.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(Tt=xt.length>3&&xt[3]!==void 0?xt[3]:{},rt=Tt.resolveWhenUnsupport,V=it()(A.ZP,{id:lt}),!y()(V)){o.next=5;break}return o.abrupt("return");case 5:if(H){o.next=7;break}return o.abrupt("return");case 7:if(t=[gt.m.MetaMask.info.symbol],t.includes(Dt)){o.next=13;break}if(!rt){o.next=11;break}return o.abrupt("return");case 11:return T.default.warning("Switch networks in your wallet, then reconnect"),o.abrupt("return",Promise.reject());case 13:return Mt=[{chainId:"0x".concat(Number(V.id).toString(16)),chainName:V.name,nativeCurrency:V.nativeCurrency,rpcUrls:[V.rpcUrl],blockExplorerUrls:[V.blockExplorer]}],o.prev=14,o.next=17,H.send("wallet_switchEthereumChain",[{chainId:Mt[0].chainId}]);case 17:Zt=o.sent,o.next=33;break;case 20:if(o.prev=20,o.t0=o.catch(14),o.t0.code!==4001){o.next=24;break}return o.abrupt("return",Promise.reject());case 24:return o.prev=24,o.next=27,H.send("wallet_addEthereumChain",Mt);case 27:Zt=o.sent,o.next=33;break;case 30:return o.prev=30,o.t1=o.catch(24),o.abrupt("return",Promise.reject());case 33:Zt&&console.log(Zt);case 34:case"end":return o.stop()}},R,null,[[14,20],[24,30]])}));return function(lt,H,Dt){return j.apply(this,arguments)}}()},9292:function(mt,Y,e){"use strict";e.d(Y,{FH:function(){return it},Wl:function(){return y},Ik:function(){return A},Ay:function(){return gt}});var d=e(905),s=e(96486),T=e.n(s),K=e(41609),z=e.n(K),it=function(j){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!(0,s.isNil)(j)){if((0,s.isNull)(R))return j.toString();var lt=(0,d.Z)(R.toString());if(z()(j)||lt.isZero())return 0;var H=(0,d.Z)(j.toString()).div(lt);if(H.isInteger())return H.toFixed();for(var Dt=arguments.length,Tt=new Array(Dt>2?Dt-2:0),rt=2;rt<Dt;rt++)Tt[rt-2]=arguments[rt];return H.toFixed.apply(H,Tt)}},P=2,y=function(j,R){var lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,H=(0,d.Z)(j.toString()),Dt=(0,d.Z)(10).pow(R),Tt=R>6&&!H.eq(0)&&H.abs().lt((0,d.Z)(10).pow(R-lt+1)),rt;return Tt?(rt=it(H,Dt,R-H.abs().toString().length+1),rt):(rt=it(H,Dt,lt),parseFloat(rt))},A=function(j){var R=parseFloat(j);return isNaN(R)?j:R<=1e3?R:"1000+"},gt=function(j){var R=parseFloat(j);return isNaN(R)?j:R<=1e3?R:1e3}}}]);
