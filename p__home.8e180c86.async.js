(self.webpackChunkboc_dashboard=self.webpackChunkboc_dashboard||[]).push([[364,571],{6371:function(pt){pt.exports={container:"container___3FHkQ"}},69255:function(pt){pt.exports={chartCard:"chartCard___1WAYR",title:"title___1qSNX",chartTop:"chartTop___fyf1y",chartTopMargin:"chartTopMargin___35U93",chartTopHasMargin:"chartTopHasMargin___3PZ2W",metaWrap:"metaWrap___1o2cx",avatar:"avatar___3W_MV",meta:"meta___BxwkJ",action:"action___2rX_t",total:"total___13buZ",unit:"unit___3h93V",content:"content___1u1VV",contentFixed:"contentFixed___8g0La",footer:"footer___1DC6W",card:"card___3ClYk"}},18973:function(pt){pt.exports={main:"main___E0u3n",text:"text___1bwgD"}},3691:function(pt){pt.exports={container:"container___1YjeH"}},90958:function(pt){pt.exports={salesCard:"salesCard___29v2i",salesBar:"salesBar___yX0jY",salesRank:"salesRank___3emXv",salesCardExtra:"salesCardExtra___1zn45",vaultKeyCard:"vaultKeyCard___3fhgC",tabMobile:"tabMobile___OIzik",chartDiv:"chartDiv___35wVQ",chartDivMobile:"chartDivMobile___3S_E5",tableCell:"tableCell___28uXK",text:"text___2ww9t",trendText:"trendText___22_c0",chartWrapper:"chartWrapper___3eEAM",buttons:"buttons___1vScW",field:"field___1vkrW",label:"label___3KSeF",number:"number___3Vb_1",history:"history___1YR66",title:"title___2KHqz",icon:"icon___8UItE"}},91907:function(pt,Y,e){"use strict";var v=e(30887),c=e(28682),i=e(67294),Z=e(65367),ut=e(89850),K=e(53651),xt=e(35161),I=e.n(xt),D=e(63105),gt=e.n(D),Zt=e(62904),O=e(43077),W=e(6371),vt=e.n(W),H=e(85893),Et=I()(gt()(ut.ZP,function(dt){return!(K.ux&&dt.id==="137")}),function(dt){return{label:dt.name,value:dt.id}}),Tt=function(N){var t=N.chains,jt=t===void 0?Et:t,Ut=N.shouldChangeChain;if(jt.length<=1)return null;var Dt=(0,Z.tT)("@@initialState"),Jt=Dt.initialState,B=(0,O.Z)(),zt=B.userProvider,o=B.getWalletName,yt=function(Q){var at=Q.key,ot=Z.m8.location.query.vault,Ct=Promise.resolve();Ut&&(Ct=(0,Zt.u)(at,zt,o(),{resolveWhenUnsupport:!0})),Ct.then(function(){Z.m8.push({query:{chain:at,vault:ot}}),setTimeout(function(){location.reload()},100)})},A={borderBottom:"none",justifyContent:"center",backgroundColor:"transparent"};return(0,H.jsx)("div",{className:vt().container,children:(0,H.jsx)(c.Z,{mode:"horizontal",style:A,items:jt,selectedKeys:[Jt.chain],onClick:yt})})};Y.Z=Tt},69157:function(pt,Y,e){"use strict";var v=e(12968),c=e(62462),i=e(67294),Z=e(47037),ut=e.n(Z),K=e(96486),xt=e.n(K),I=e(35161),D=e.n(I),gt=e(85893),Zt="".concat("https://v2.bankofchain.io","/default.png"),O=function(vt){var H=vt.array,Et=H===void 0?[]:H,Tt=vt.size,dt=Tt===void 0?24:Tt,N=function(jt,Ut){return(0,gt.jsx)(c.Z,{title:jt,preview:!1,width:dt,style:{borderRadius:"50%"},wrapperStyle:{marginLeft:Ut===0?0:-10,zIndex:Et.length-Ut},src:"".concat("https://v2.bankofchain.io","/images/").concat(jt,".png"),fallback:Zt},"".concat(jt+Ut))};return ut()(Et)?N(Et,0):(0,K.isArray)(Et)?(0,gt.jsx)("div",{children:D()(Et,function(t,jt){return N(t,jt)})}):(0,gt.jsx)("span",{})};Y.Z=O},93083:function(pt,Y,e){"use strict";e.d(Y,{hU:function(){return gt},me:function(){return D}});var v=e(45697),c=e.n(v),i=e(1852),Z=e.n(i),ut=function(O){var W=O.children,vt=(0,i.useMediaQuery)({minWidth:992});return vt?W:null};ut.propTypes={children:c().element};var K=function(O){var W=O.children,vt=(0,i.useMediaQuery)({minWidth:768,maxWidth:991});return vt?W:null};K.propTypes={children:c().element};var xt=function(O){var W=O.children,vt=(0,i.useMediaQuery)({maxWidth:767});return vt?W:null};xt.propTypes={children:c().element};var I=function(O){var W=O.children,vt=(0,i.useMediaQuery)({minWidth:768});return vt?W:null};I.propTypes={children:c().element};var D={Desktop:"Desktop",Tablet:"Tablet",Mobile:"Mobile"},gt=function(){var O=(0,i.useMediaQuery)({minWidth:992}),W=(0,i.useMediaQuery)({minWidth:768,maxWidth:991});return O?D.Desktop:W?D.Tablet:D.Mobile}},98821:function(pt,Y,e){"use strict";e.d(Y,{$c:function(){return xt}});var v=e(20228),c=e(11382),i=e(67294),Z=e(40684),ut=e(85893),K=(0,ut.jsx)(c.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:20,fontSize:14},tip:"Loading...."}),xt=(0,Z.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(462),e.e(272)]).then(e.bind(e,56272))},{fallback:K}),I=(0,Z.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(693),e.e(42)]).then(e.bind(e,59042))},{fallback:K}),D=(0,Z.ZP)(function(){return Promise.all([e.e(80),e.e(274),e.e(417)]).then(e.bind(e,48417))},{fallback:K})},42411:function(pt,Y,e){"use strict";e.d(Y,{Z:function(){return Ut}});var v=e(11849),c=e(30381),i=e.n(c),Z=e(41609),ut=e.n(Z),K=e(76492),xt="52px";function I(Dt){var Jt=!ut()(Dt.seriesData)&&Dt.dataZoom,B={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:Jt?xt:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{type:"category",data:Dt.xAxisData},yAxis:{type:"value"},dataZoom:Jt?Dt.dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:Dt.seriesName?Dt.seriesName:"",data:Dt.seriesData,type:"line",lineStyle:{color:Dt.color?Dt.color:{type:"linear",colorStops:[{offset:0,color:"rgb(204, 186, 250)"},{offset:.5,color:"rgb(144, 123, 247)"},{offset:.6,color:"rgb(95, 128, 249)"},{offset:.95,color:"rgb(80, 132, 250)"},{offset:1,color:"rgb(166, 192, 252)"}]},width:3},smooth:Dt.smooth,step:Dt.step}]};return(0,v.Z)((0,v.Z)({},(0,K.s)(Dt.seriesData.length>0)),B)}var D=e(84486),gt=e.n(D),Zt=e(7654),O=e.n(Zt),W=e(52353),vt=e.n(W),H=e(14293),Et=e.n(H),Tt=e(63105),dt=e.n(Tt),N=e(84238),t=e.n(N),jt=function(Jt,B,zt){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},yt=o.format,A=yt===void 0?"MM-DD HH:mm":yt,f=o.xAxis,Q=o.yAxis,at=o.smooth,ot=at===void 0?!1:at,Ct=o.step,Lt=o.dataZoom,te=o.needMinMax,At=te===void 0?!0:te,Gt=o.yAxisMin,re=Gt===void 0?function(Bt){return parseInt(Bt.min*.9999*Math.pow(10,4))/Math.pow(10,4)}:Gt,Oe=o.yAxisMax,be=Oe===void 0?function(Bt){return parseInt(Bt.max*1.0001*Math.pow(10,4))/Math.pow(10,4)}:Oe,se=o.tootlTipSuffix,z=se===void 0?"(UTC)":se,ge=o.tootlTipFormat,Te=ge===void 0?"YYYY-MM-DD HH:mm":ge,Ae=[],Me=[],le={};Jt.forEach(function(Bt){var F=i()(Bt.date).add(1,"days").format(Te);z&&(F="".concat(F," ").concat(z)),le[F]=i()(Bt.date).add(1,"days").format(A),Ae.push(F),Me.push(Bt[B])});var $t=I({xAxisData:Ae,seriesName:zt,seriesData:Me,smooth:ot,dataZoom:Lt});if($t.yAxis=(0,v.Z)((0,v.Z)({},$t.yAxis),Q),$t.xAxis=(0,v.Z)((0,v.Z)({axisLabel:{formatter:function(F){return le[F]}}},$t.xAxis),f),$t.yAxis.splitLine={lineStyle:{color:"#454459"}},At&&($t.yAxis.min=re,$t.yAxis.max=be),$t.series[0].connectNulls=!0,$t.series[0].showSymbol=t()(dt()(Me,function(Bt){return!Et()(Bt)}))===1,$t.series[0].lineStyle={width:5,cap:"round"},Ct){var ce=$t.series[0].data;gt()(ce,function(Bt,F){(vt()(Bt)||O()(Bt))&&F!==0&&(ce[F]=ce[F-1])})}return $t},Ut=jt},10501:function(pt,Y,e){"use strict";e.d(Y,{Z:function(){return i}});var v=e(11849),c=e(76492);function i(Z){var ut=[],K=0,xt=[];xt=Z.data,xt.length>0&&xt.forEach(function(D){var gt=(0,v.Z)({name:D.seriesName?D.seriesName:"",data:D.seriesData,type:"line",showSymbol:D.showSymbol,lineStyle:{width:5,cap:"round"}},D);K+=D.seriesData.length,ut.push(gt)});var I={animation:!1,textStyle:{color:"#fff"},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"},confine:!0},legend:Z.legend,xAxis:{type:"category",data:Z.xAxisData},yAxis:{type:"value"},series:ut};return Z.tooltipFormatter&&(I.tooltip.formatter=Z.tooltipFormatter),(0,v.Z)((0,v.Z)({},(0,c.s)(K>0)),I)}},76492:function(pt,Y,e){"use strict";e.d(Y,{s:function(){return v}});function v(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return c?{}:{graphic:{type:"text",left:"center",top:"middle",silent:!0,invisible:!1,style:{fill:"#9d9d9d",fontWeight:"bold",text:"No Data",fontSize:"25px"}}}}},22844:function(pt,Y,e){"use strict";e.d(Y,{O2:function(){return c},DO:function(){return i},Nd:function(){return Z},A7:function(){return ut}});var v=e(905),c={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},i=18,Z=(0,v.Z)(1e18),ut=4},53651:function(pt,Y,e){"use strict";e.d(Y,{Gj:function(){return v},KR:function(){return c},ux:function(){return i}});var v={daily:"daily",monthly:"monthly",weekly:"weekly",yearly:"yearly"},c={usdi:"USDi",ethi:"ETHi"},i=!1},55414:function(pt,Y,e){"use strict";e.d(Y,{o1:function(){return Z},tX:function(){return ut}});var v=["Balancer","UniswapV2","Dodo","Sushi_Kashi","Sushi_Swap","Convex","Rari","UniswapV3","YearnEarn","YearnV2","YearnIron","GUni","Stargate","DForce","Synapse","Aura","Aave"],c=["Curve","Aave","Balancer","Gravity","Polycat","Qi","Quickswap","Sushi","Synapse","Dodo","Stargate","UniswapV3"],i=["Balancer","UniswapV2","Convex","Aura","UniswapV3","StakeWise","YearnV2","Aave"],Z={1:v,137:c},ut={1:i}},7594:function(pt,Y,e){"use strict";e.r(Y);var v=e(57106),c=e(99683),i=e(57663),Z=e(71577),ut=e(67294),K=e(65367),xt=e(85893),I=function(){return(0,xt.jsx)(c.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:(0,xt.jsx)(Z.Z,{type:"primary",onClick:function(){return K.m8.push("/")},children:"Back Home"})})};Y.default=I},15170:function(pt,Y,e){"use strict";e.r(Y),e.d(Y,{default:function(){return mn}});var v=e(11849),c=e(32059),i=e(67294),Z=e(65367),ut=e(13062),K=e(36725),xt=e(89032),I=e(1635),D=e(2824),gt=e(21349),Zt=e(22385),O=e(45777),W=e(93224),vt=e(58024),H=e(91894),Et=e(94184),Tt=e.n(Et),dt=e(69255),N=e.n(dt),t=e(85893),jt=["loading"],Ut=["contentHeight","title","avatar","action","total","footer","children"],Dt=function(n,r){if(!n&&n!==0)return null;var u;switch(typeof n){case"undefined":u=null;break;case"function":u=(0,t.jsxs)("div",{className:N().total,children:[(0,t.jsx)("span",{children:n()}),r&&(0,t.jsx)("span",{className:N().unit,children:r})]});break;default:u=(0,t.jsxs)("div",{className:N().total,children:[(0,t.jsx)("span",{children:n}),r&&(0,t.jsx)("span",{className:N().unit,children:r})]})}return u},Jt=function(n){var r=n.loading,u=r===void 0?!1:r,p=(0,W.Z)(n,jt),m=p.contentHeight,E=p.title,S=p.avatar,M=p.action,x=p.total,h=p.footer,g=p.children,b=(0,W.Z)(p,Ut),X=function(){return u?!1:(0,t.jsxs)("div",{className:N().chartCard,children:[(0,t.jsxs)("div",{className:Tt()(N().chartTop),children:[(0,t.jsx)("div",{className:N().avatar,children:S}),(0,t.jsxs)("div",{className:N().metaWrap,children:[(0,t.jsxs)("div",{className:N().meta,children:[(0,t.jsx)("span",{className:N().title,children:E}),(0,t.jsx)("span",{className:N().action,children:M})]}),Dt(x,n.unit)]})]}),g&&(0,t.jsx)("div",{className:N().content,style:{height:m||"auto"},children:(0,t.jsx)("div",{className:m&&N().contentFixed,children:g})}),h&&(0,t.jsx)("div",{className:Tt()(N().footer,(0,c.Z)({},N().footerMargin,!g)),children:h})]})};return(0,t.jsx)(H.Z,(0,v.Z)((0,v.Z)({loading:u,className:N().card},b),{},{children:X()}))},B=Jt,zt=e(68628),o=e(96486),yt=e(25091),A=e(90958),f=e.n(A),Q=["label","value"],at={xs:24,sm:24,md:24,lg:8,xl:8},ot=function(n){var r=n.label,u=n.value,p=(0,W.Z)(n,Q);return(0,t.jsxs)("div",(0,v.Z)((0,v.Z)({className:f().field},p),{},{children:[(0,t.jsx)("span",{className:f().label,children:r}),(0,t.jsx)("span",{className:f().number,children:u})]}))},Ct=function(n){var r=n.data,u=r===void 0?[]:r;return(0,t.jsx)(K.Z,{gutter:[24,24],children:(0,o.map)(u,function(p){var m=p.title,E=p.tip,S=p.loading,M=p.content,x=p.unit,h=p.subTitle,g=(0,t.jsx)(ot,{style:{height:"1.5rem"},value:h});return!h&&(0,yt.tq)()&&(g=null),(0,t.jsx)(I.Z,(0,v.Z)((0,v.Z)({},at),{},{children:(0,t.jsx)(B,{bordered:!1,title:m,action:(0,t.jsx)(O.Z,{title:E,children:(0,t.jsx)(zt.Z,{style:{fontSize:22}})}),loading:S,total:M,unit:x,footer:g})}),m)})})},Lt=Ct,te=e(88983),At=e(82530),Gt=e(43358),re=e(76647),Oe=e(18106),be=e(47428),se=e(98821),z=e(93083),ge=be.Z.TabPane,Te=re.Z.Option;function Ae(R){var n,r=R.isUsdi,u=R.loading,p=u===void 0?!1:u,m=R.calDateRange,E=m===void 0?7:m,S=R.onCalDateRangeClick,M=S===void 0?function(){}:S,x=R.apyEchartOpt,h=x===void 0?{}:x,g=R.tvlEchartOpt,b=g===void 0?{}:g,X=(0,z.hU)(),C=(n={},(0,c.Z)(n,z.me.Desktop,{chartWrapperClassName:f().chartDiv}),(0,c.Z)(n,z.me.Tablet,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:f().chartDivMobile}),(0,c.Z)(n,z.me.Mobile,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:f().chartDivMobile,tabClassName:f().tabMobile}),n)[X],nt=function(L){typeof L=="number"?M(L):M(L.target.value)},ft=(0,t.jsx)("div",{className:f().buttons,children:(0,t.jsxs)(At.ZP.Group,{value:E,onChange:nt,buttonStyle:"solid",children:[(0,t.jsx)(O.Z,{title:"last 7 days",children:(0,t.jsx)(At.ZP.Button,{value:7,children:"WEEK"})}),(0,t.jsx)(O.Z,{title:"last 30 days",children:(0,t.jsx)(At.ZP.Button,{value:31,children:"MONTH"})}),(0,t.jsx)(O.Z,{title:"last 365 days",children:(0,t.jsx)(At.ZP.Button,{value:365,children:"YEAR"})})]})});return X===z.me.Mobile&&(ft=(0,t.jsxs)(re.Z,{style:{width:120},value:E,onChange:nt,children:[(0,t.jsx)(Te,{value:7,children:"WEEK"}),(0,t.jsx)(Te,{value:31,children:"MONTH"}),(0,t.jsx)(Te,{value:365,children:"YEAR"})]})),(0,t.jsx)(H.Z,(0,v.Z)((0,v.Z)({loading:p,bordered:!1},C.cardProps),{},{children:(0,t.jsx)("div",{className:f().vaultKeyCard,children:(0,t.jsxs)(be.Z,{animated:!0,className:Tt()(C.tabClassName),tabBarExtraContent:ft,children:[(0,t.jsx)(ge,{tab:"APY (%)",children:(0,t.jsx)("div",{className:C.chartWrapperClassName,children:(0,t.jsx)(se.$c,{option:h,style:{height:"100%",width:"100%"}})})},"apy"),(0,t.jsx)(ge,{tab:"Total Supply",children:(0,t.jsx)("div",{className:C.chartWrapperClassName,children:(0,t.jsx)(se.$c,{option:b,style:{height:"100%",width:"100%"}})})},"totalSupply")]})})}))}var Me=e(96222),le=e(22533),$t=e(12968),ce=e(62462),Bt=e(86582),F=e(905),j=e(9292),sa=function(n){var r,u=n.tokenDecimals,p=n.displayDecimals,m=n.strategyMap,E=n.visitData,S=E===void 0?{}:E,M=n.unit,x=(0,Z.tT)("@@initialState"),h=x.initialState,g=(0,z.hU)();if(!h.chain)return null;var b=S.strategies,X=b===void 0?[]:b,C=S.totalValueInVault,nt=C===void 0?"0":C,ft=(0,o.reduce)(X,function(T,y){return T.plus(y.totalValue)},(0,F.Z)(0)),rt=(0,F.Z)(nt).plus(ft),L=(0,o.groupBy)((0,o.filter)(X,function(T){return T.totalValue>0}),"protocol"),st=[].concat((0,Bt.Z)((0,o.values)((0,o.mapValues)(L,function(T,y){var a=(0,o.reduce)(T,function(P,s){return P.plus(s.totalValue)},(0,F.Z)(0));return{name:m[h.chain][y],amount:a,percent:a.div(rt)}}))),[{name:"Vault",amount:(0,F.Z)(nt),percent:rt.eq(0)?"0":(0,F.Z)(nt).div(rt)}]),k=[{title:"Protocol Name",dataIndex:"name",key:"name",render:function(y){return(0,t.jsxs)("div",{className:f().tableCell,children:[(0,t.jsx)(ce.Z,{width:30,preview:!1,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(y,".png"),placeholder:y,alt:y,style:{borderRadius:"50%"},fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("span",{className:f().text,children:y})]})}},{title:"Asset (".concat(M,")"),dataIndex:"amount",key:"amount",showSorterTooltip:!1,sorter:function(y,a){return y.amount.minus(a.amount)},render:function(y){return(0,j.FH)(y.toString(),u,p)}},{title:"Asset Ratio",dataIndex:"percent",key:"percent",defaultSortOrder:"descend",showSorterTooltip:!1,sorter:function(y,a){return y.percent.minus(a.percent)},render:function(y){return(0,t.jsxs)("span",{children:[(0,j.FH)(y,.01,2),"%"]})}}],q=(r={},(0,c.Z)(r,z.me.Desktop,{}),(0,c.Z)(r,z.me.Tablet,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),(0,c.Z)(r,z.me.Mobile,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),r)[g];return(0,t.jsx)("div",{children:(0,t.jsx)(le.Z,(0,v.Z)({rowKey:function(y){return y.name},columns:k,dataSource:st,pagination:!1},q.tableProps))})},la=sa,hn=e(13254),oa=e(14277),ua=e(88377),da=e(92077),Mt=e.n(da),ca=function(n){var r,u=n.strategyMap,p=n.tokenDecimals,m=n.displayDecimals,E=n.visitData,S=E===void 0?{}:E,M=n.unit,x=S.strategies,h=x===void 0?[]:x,g=S.totalValueInVault,b=g===void 0?"0":g,X=(0,Z.tT)("@@initialState"),C=X.initialState,nt=(0,z.hU)(),ft=" (".concat(M,")");if(!C.chain)return null;var rt=(0,o.reduce)(h,function(y,a){return y.plus(a.totalValue)},(0,F.Z)(0)),L=(0,F.Z)(b).plus(rt),st=(0,o.groupBy)((0,o.filter)(h,function(y){return y.totalValue>0}),"protocol"),k=(0,j.FH)(L,p,m);if((0,o.isEmpty)(st)&&k<=0||isNaN(k))return(0,t.jsx)(oa.Z,{style:{marginTop:"4rem"}});var q=[].concat((0,Bt.Z)((0,o.values)((0,o.mapValues)(st,function(y,a){var P=(0,o.reduce)(y,function(s,V){return s.plus(V.totalValue)},(0,F.Z)(0));return{Protocol:"".concat(u[C.chain][a]).concat(ft),amount:(0,j.FH)(P,p,m)}}))),[{Protocol:"Vault".concat(ft),amount:(0,j.FH)(b,p,m)}]),T=(r={},(0,c.Z)(r,z.me.Desktop,{legendProps:{position:"bottom-center"}}),(0,c.Z)(r,z.me.Tablet,{legendProps:{position:"bottom-center"}}),(0,c.Z)(r,z.me.Mobile,{legendProps:{position:"bottom-center"}}),r)[nt];return(0,t.jsx)("div",{className:f().chartWrapper,children:(0,t.jsx)(ua.yi,{forceFit:!0,padding:"auto",angleField:"amount",color:["#A68EFE","#2ec7c9","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4"],colorField:"Protocol",data:q,legend:(0,v.Z)({visible:!0,text:{style:{fill:"#fff"},formatter:function(a){return a.replace(ft,"")}}},T.legendProps),label:{visible:!1,type:"spider",offset:20,formatter:function(a,P){return"".concat(P._origin.Protocol,": ").concat(P._origin.amount)}},interactions:[{type:"element-selected"},{type:"element-active"}],statistic:{visible:!0,content:{value:Mt()((0,j.FH)(L,p,m)).format("0.[0000]a"),name:"TVL".concat(ft)}}})})},pa=ca,Pt=e(1123);function Ne(R){var n,r=R.loading,u=r===void 0?!1:r,p=R.tokenDecimals,m=R.strategyMap,E=m===void 0?{}:m,S=R.vaultData,M=S===void 0?{}:S,x=R.unit,h=x===void 0?"USD":x,g=R.displayDecimals,b=g===void 0?Pt.h:g,X=(0,z.hU)(),C=(n={},(0,c.Z)(n,z.me.Desktop,{}),(0,c.Z)(n,z.me.Tablet,{cardProps:{size:"small"}}),(0,c.Z)(n,z.me.Mobile,{cardProps:{size:"small"}}),n)[X];return(0,t.jsx)(H.Z,(0,v.Z)((0,v.Z)({loading:u,className:f().salesCard,bordered:!1,title:"Vault Protocol Allocations"},C.cardProps),{},{children:(0,t.jsxs)(K.Z,{children:[(0,t.jsx)(I.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(pa,{loading:u,strategyMap:E,tokenDecimals:p,displayDecimals:b,visitData:M||{},unit:h})})}),(0,t.jsx)(I.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(la,{loading:u,strategyMap:E,tokenDecimals:p,displayDecimals:b,visitData:M||{},unit:h})})})]})}))}var gn=e(77576),va=e(12028),Tn=e(54029),ya=e(79166),fa=e(69157),ma=e(26985),Rt=e(860),ha=function(n){var r,u=n.loading,p=n.strategyMap,m=n.displayDecimals,E=m===void 0?Pt.h:m,S=n.unit,M=S===void 0?"USD":S,x=(0,i.useState)(!0),h=(0,D.Z)(x,2),g=h[0],b=h[1],X=(0,Z.tT)("@@initialState"),C=X.initialState,nt=(0,z.hU)(),ft=(0,Z.QT)(function(){return(0,Rt.mB)(C.chain,C.vaultAddress,0,100)},{formatResult:function(a){return(0,o.sortBy)(a.content,["strategyName"])}}),rt=ft.data;if(!C.chain)return null;var L=(0,F.Z)(1e18),st=[{title:(0,t.jsxs)("div",{children:["Name\xA0\xA0",(0,t.jsx)(O.Z,{placement:"topLeft",arrowPointAtCenter:!0,overlayStyle:{width:300},title:"By clicking on the strategy name you will be directed to the strategy page with all the related information viewable, e.g., strategy profits and official APY.",children:(0,t.jsx)(zt.Z,{})})]}),dataIndex:"strategyName",key:"strategyName",width:320,render:function(a,P){return(0,t.jsxs)("div",{className:f().tableCell,children:[(0,t.jsx)(ce.Z,{preview:!1,width:30,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(p[C.chain][P.protocol],".png"),placeholder:P.protocol,style:{borderRadius:"50%"},alt:p[C.chain][P.protocol],fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat((0,ma.i)()?"https://dashboard.bankofchain.io":"https://dashboard-v2.bankofchain.io","/#/strategy?id=").concat(P.strategyAddress,"&chain=").concat(C.chain,"&vault=").concat(C.vault),className:f().text,children:a})]})}},{title:"Tokens",dataIndex:"underlyingTokens",key:"underlyingTokens",width:130,render:function(a){return!(0,o.isEmpty)(a)&&(0,t.jsx)(fa.Z,{array:a.split(",")})}},{title:"Asset (".concat(M,")"),dataIndex:"totalAssetBaseCurrent",key:"totalAssetBaseCurrent",showSorterTooltip:!1,defaultSortOrder:"descend",sorter:function(a,P){return(0,F.Z)(a.totalAssetBaseCurrent||"0").minus((0,F.Z)(P.totalAssetBaseCurrent||"0"))},render:function(a){return(0,t.jsx)("span",{children:(0,j.FH)(a||"0",L,E)})}},{title:"Weekly Official APY",dataIndex:"officialWeeklyApy",key:"officialWeeklyApy",showSorterTooltip:!1,sorter:function(a,P){return a.officialWeeklyApy-P.officialWeeklyApy},render:function(a){return(0,t.jsxs)("span",{children:[(0,j.Ik)((100*a).toFixed(2)),"%"]})}},{title:"Weekly Realized APY",dataIndex:"realizedApy",key:"realizedApy",showSorterTooltip:!1,sorter:function(a,P){var s=a.realizedApy||{value:"0"},V=s.value,J=P.realizedApy||{value:"0"},ct=J.value;return V-ct},render:function(a){if((0,o.isEmpty)(a))return(0,t.jsx)("span",{children:"0.00%"});var P=a.value,s=a.detail,V=(0,t.jsxs)("span",{children:[(0,j.Ik)((100*P).toFixed(2)),"%"]});if((0,o.isEmpty)(s))return V;var J=(0,t.jsx)("div",{children:(0,o.map)(s,function(ct,mt){return(0,t.jsxs)("span",{style:{display:"block"},children:[ct.feeName,": ",(0,j.Ik)((100*ct.feeApy).toFixed(2)),"%"]},mt)})});return(0,t.jsxs)("span",{children:[V,"\xA0",(0,t.jsx)(O.Z,{title:J,children:(0,t.jsx)(zt.Z,{})})]})}},{title:"Weekly Unrealized APY",dataIndex:"unrealizedApy",key:"unrealizedApy",showSorterTooltip:!1,sorter:function(a,P){var s=a.unrealizedApy||{value:"0"},V=s.value,J=P.unrealizedApy||{value:"0"},ct=J.value;return V-ct},render:function(a){if((0,o.isEmpty)(a))return(0,t.jsx)("span",{children:"0.00%"});var P=a.value,s=a.detail,V=(0,t.jsxs)("span",{children:[(0,j.Ik)((100*P).toFixed(2)),"%"]});if((0,o.isEmpty)(s))return V;var J=(0,t.jsx)("div",{children:(0,o.map)(s,function(ct,mt){return(0,t.jsxs)("span",{style:{display:"block"},children:[ct.feeName,": ",(0,j.Ik)((100*ct.feeApy).toFixed(2)),"%"]},mt)})});return(0,t.jsxs)("span",{children:[V,"\xA0",(0,t.jsx)(O.Z,{title:J,children:(0,t.jsx)(zt.Z,{})})]})}},{title:"Weekly Realized Profit",dataIndex:"weekProfit",key:"weekProfit",render:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1?arguments[1]:void 0,s=P.estimateProfit,V=P.tokenUnit,J=V===void 0?"":V,ct=(0,o.isNil)(s),mt=(0,t.jsx)(ya.Z,{dot:!ct,color:"gold",children:(0,t.jsxs)("span",{children:[(0,j.FH)(a||"0",L,E)," ",J||""]})});if(ct)return mt;var Wt=(0,t.jsxs)("span",{children:["Estimate Profit: ",(0,j.FH)(s,L,E)," ",J||""]});return(0,t.jsx)(O.Z,{title:Wt,children:mt})}},{title:"Strategy Address",dataIndex:"strategyAddress",key:"strategyAddress",align:"center",render:function(a,P){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[C.chain],"/address/").concat(P.strategyAddress),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}],k=g?rt:(0,o.filter)(rt,function(y){return(0,F.Z)(y.totalAsset).gt(0)}),q=(r={},(0,c.Z)(r,z.me.Desktop,{}),(0,c.Z)(r,z.me.Tablet,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}}),(0,c.Z)(r,z.me.Mobile,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"mobile-font-size",scroll:{x:900}}}),r)[nt],T="Vault Strategies Allocations";return nt===z.me.Mobile&&(T="Strategies Allocations"),(0,t.jsx)("div",{children:(0,t.jsx)(H.Z,(0,v.Z)((0,v.Z)({loading:u,bordered:!1,title:T,extra:(0,t.jsxs)("div",{children:[(0,t.jsx)(va.Z,{checked:g,onChange:function(){return b(!g)}}),(0,t.jsx)(O.Z,{title:"show all strategies added in vault",children:(0,t.jsx)("span",{style:{padding:10},children:"Show All"})})]})},q.cardProps),{},{children:(0,t.jsx)(le.Z,(0,v.Z)({rowKey:function(a){return a.strategyAddress},columns:st,dataSource:k,pagination:(k==null?void 0:k.length)>10&&{style:{marginBottom:0},pageSize:10}},q.tableProps))}))})},He=ha,ga=e(30381),oe=e.n(ga),Ta=e(35161),kt=e.n(Ta),Aa=e(39693),xa=e.n(Aa),ee=e(39428),xe=e(3182),_e=e(25630),Le=e(94991),Yt=e(89850),Ce,we={SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethereum","137":""},VAULT_ADDRESS:{"1":"0x30D120f80D60E7b58CA9fFaf1aaB1815f000B7c3","137":""},USDI_ADDRESS:{"1":"0x83131242843257bc6C43771762ba467346Efb2CF","137":""},VAULT_BUFFER_ADDRESS:{"1":"0x0b8D3634a05cc6b50E4D026c0eaFa8469cA98480","137":""}}.SUB_GRAPH_URL,Ea=(Ce={},(0,c.Z)(Ce,Yt.W3.id,new _e.f({uri:we[Yt.W3.id],cache:new Le.h})),(0,c.Z)(Ce,Yt.hB.id,new _e.f({uri:we[Yt.hB.id],cache:new Le.h})),Ce),Da=(0,c.Z)({},Yt.hB.id,new _e.f({uri:{SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethi"},VAULT_ADDRESS:{"1":"0x8f0Cb368C63fbEDF7a90E43fE50F7eb8B9411746"},ETHI_ADDRESS:{"1":"0x1A597356E7064D4401110FAa2242bD0B51D1E4Fa"},VAULT_BUFFER_ADDRESS:{"1":"0xC8915157b36ed6D0F36827a1Bb5E9b0cDd1e87Cd"}}.SUB_GRAPH_URL[Yt.hB.id],cache:new Le.h})),Fe=function(n,r){var u,p=(u={},(0,c.Z)(u,Pt._.USDi,Ea),(0,c.Z)(u,Pt._.ETHi,Da),u)[n];return p[r]},$e=e(87899),Sa=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalValueInVault
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      totalValue
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,ba=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      debtRecordInVault
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Ma=function(){var R=(0,xe.Z)((0,ee.Z)().mark(function n(r,u){var p,m,E,S,M,x,h,g,b=arguments;return(0,ee.Z)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(m=b.length>2&&b[2]!==void 0?b[2]:"",E=b.length>3&&b[3]!==void 0?b[3]:"",S=b.length>4&&b[4]!==void 0?b[4]:"",M=Fe(r,u),!(0,o.isEmpty)(M)){C.next=6;break}return C.abrupt("return");case 6:return x=(p={},(0,c.Z)(p,Pt._.USDi,Sa),(0,c.Z)(p,Pt._.ETHi,ba),p)[r],C.next=9,M.query({query:(0,$e.Ps)(x),variables:{tokenAddress:m.toLowerCase(),valutAddress:E.toLowerCase(),vaultBufferAddress:S.toLowerCase()}});case 9:return h=C.sent,g=h.data,C.abrupt("return",g);case 12:case"end":return C.stop()}},n)}));return function(r,u){return R.apply(this,arguments)}}(),Ye=function(){return`
query($types: [PegTokenUpdateType], $first: Int) {
  pegTokenUpdates(
    orderBy: timestamp,
    orderDirection: desc,
    first: $first,
    where: {
      type_in: $types
    },
  ) {
    id
    type
    transferredAmount
    totalSupplyChangeAmount
    timestamp
    fromAccountUpdate {
      account {
        id
      }
    }
    transaction {
      id
    }
		toAccountUpdate {
      account {
        id
      }
    }
  }
}
`},Ca=function(){var R=(0,xe.Z)((0,ee.Z)().mark(function n(r,u,p){var m,E,S,M,x=arguments;return(0,ee.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(E=x.length>3&&x[3]!==void 0?x[3]:100,S=Fe(r,u),!(0,o.isEmpty)(S)){g.next=4;break}return g.abrupt("return");case 4:return M=(m={},(0,c.Z)(m,Pt._.USDi,Ye()),(0,c.Z)(m,Pt._.ETHi,Ye()),m)[r],g.next=7,S.query({query:(0,$e.Ps)(M),variables:{types:p,first:E}}).then(function(b){var X;return b==null||(X=b.data)===null||X===void 0?void 0:X.pegTokenUpdates});case 7:return g.abrupt("return",g.sent);case 8:case"end":return g.stop()}},n)}));return function(r,u,p){return R.apply(this,arguments)}}(),Ke=e(61303),Ue={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},Pa=18,Be=(0,F.Z)(1e18),Za=re.Z.Option,Ia=function(n){var r,u,p=n.loading,m=n.dispalyDecimal,E=m===void 0?Pt.h:m,S=n.decimals,M=S===void 0?Pa:S,x=n.token,h=x===void 0?"USDi":x,g=n.filterOptions,b=g===void 0?Ue:g,X=(0,Z.tT)("@@initialState"),C=X.initialState,nt=(0,i.useState)([]),ft=(0,D.Z)(nt,2),rt=ft[0],L=ft[1],st=(0,i.useState)(!1),k=(0,D.Z)(st,2),q=k[0],T=k[1],y=(0,z.hU)(),a=(0,v.Z)({All:"All"},(0,o.omit)(b,[b.Deposit])),P=(0,i.useState)(a.All),s=(0,D.Z)(P,2),V=s[0],J=s[1],ct=(0,i.useState)(1),mt=(0,D.Z)(ct,2),Wt=mt[0],Kt=mt[1];(0,i.useEffect)(function(){var $=[V];V===Ue.Mint&&$.push(Ue.Deposit);var U=V===a.All?Object.values(b):$;T(!0),Ca(C.vault,C.chain,U).then(function(G){var tt=xa()(kt()(G,function(et){var w,ht,bt,Ot,wt;if(!(et.type===b.Mint&&(et==null||(w=et.toAccountUpdate)===null||w===void 0||(ht=w.account)===null||ht===void 0||(bt=ht.id)===null||bt===void 0?void 0:bt.toLowerCase())===((Ot=(0,Ke.L)(C.chain,C.vault))===null||Ot===void 0||(wt=Ot.vaultBufferAddress)===null||wt===void 0?void 0:wt.toLowerCase())))return et.type===b.Deposit?(0,v.Z)((0,v.Z)({},et),{},{type:b.Mint}):et}));Kt(1),L(tt)}).finally(function(){T(!1)})},[V]);var Nt=function(U){return(0,t.jsx)("a",{target:"_blank",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[C.chain],"/address/").concat(U),title:U,rel:"noreferrer",children:U})},Ht=(r={},(0,c.Z)(r,z.me.Desktop,["10rem","10rem","25rem","8rem"]),(0,c.Z)(r,z.me.Tablet,["8rem","8rem",void 0,"8rem"]),(0,c.Z)(r,z.me.Mobile,["8rem","8rem",void 0,"8rem"]),r)[y],St=[{title:"Date",dataIndex:"timestamp",key:"timestamp",render:function(U){return(0,t.jsx)(O.Z,{title:"".concat(oe()(1e3*U).utcOffset(0).format("yyyy-MM-DD HH:mm:ss")," (UTC)"),children:oe()(1e3*U).utcOffset(0).locale("en").fromNow()})}},{title:"Operation",dataIndex:"type",key:"type",ellipsis:{showTitle:!1}},{title:"Details",key:"detail",render:function(U,G){var tt,et,w=G.type,ht=G.transferredAmount,bt=G.toAccountUpdate,Ot=G.fromAccountUpdate,wt=G.totalSupplyChangeAmount,It=(0,j.Wl)(wt,M,E),l=(0,j.Wl)((0,F.Z)(ht).abs(),M,E),d=(0,j.Wl)(ht,M,E),_=(0,j.FH)(wt,(0,F.Z)(Math.pow(10,M))),it=(0,j.FH)((0,F.Z)(ht).abs(),(0,F.Z)(Math.pow(10,M))),_t=(0,j.FH)(ht,(0,F.Z)(Math.pow(10,M))),Xt=Ot==null||(tt=Ot.account)===null||tt===void 0?void 0:tt.id,he=bt==null||(et=bt.account)===null||et===void 0?void 0:et.id,ie={Mint:function(){return(0,t.jsxs)(t.Fragment,{children:[w," ",(0,t.jsx)("span",{title:_t,children:d})," ",h," to ",Nt(he)]})},Burn:function(){return(0,t.jsxs)(t.Fragment,{children:[w," ",(0,t.jsx)("span",{title:it,children:l})," ",h," from ",Nt(Xt)]})},Rebase:function(){return(0,t.jsxs)(t.Fragment,{children:[w," ",(0,t.jsx)("span",{title:_,children:It})," ",h]})},Transfer:function(){return(0,t.jsxs)(t.Fragment,{children:[w," ",(0,t.jsx)("span",{title:_t,children:d})," ",h," from ",Nt(Xt)," to ",Nt(he)]})}};return(0,t.jsx)("span",{style:{whiteSpace:"normal"},children:ie[G.type]()})}},{title:"Tx Address",key:"tx",ellipsis:{showTitle:!1},align:"center",render:function(U,G){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[C.chain],"/tx/").concat(G.transaction.id),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}];St.forEach(function($,U){$.width=Ht[U]});var lt=function(U){typeof U=="string"?J(U):J(U.target.value)},Vt=(u={},(0,c.Z)(u,z.me.Desktop,{radioGroupProps:{size:"large"}}),(0,c.Z)(u,z.me.Tablet,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{size:"small",scroll:{x:800}}}),(0,c.Z)(u,z.me.Mobile,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{compact:!0,size:"small",scroll:{x:800}}}),u)[y],Qt=(0,t.jsx)(At.ZP.Group,(0,v.Z)((0,v.Z)({value:V,onChange:lt,buttonStyle:"solid"},Vt.radioGroupProps),{},{className:f().buttons,children:kt()(a,function($,U){return(0,t.jsx)(At.ZP.Button,{value:$,children:U},U)})}));return y===z.me.Mobile&&(Qt=(0,t.jsx)(re.Z,{style:{width:120},value:V,onChange:lt,children:kt()(a,function($,U){return(0,t.jsx)(Za,{value:$,children:U},U)})})),(0,t.jsx)("div",{children:(0,t.jsx)(H.Z,(0,v.Z)((0,v.Z)({loading:p,bordered:!1,title:"Recent Activity",extra:Qt},Vt.cardProps),{},{children:(0,t.jsx)(le.Z,(0,v.Z)({rowKey:function(U){return U.id},columns:St,dataSource:rt,loading:q,pagination:(rt==null?void 0:rt.length)>10&&{showSizeChanger:!1,style:{marginBottom:0},current:Wt,pageSize:10,onChange:function(U){Kt(U)}}},Vt.tableProps))}))})},ze=Ia,Ge=e(42411),Qe=e(10501),ja=e(51615),Re=e(43077),Oa=e(62904),_a=e(652),La=e(3691),Ua=e.n(La),Ba=[{label:"USDi",value:"usdi"},{label:"ETHi",value:"ethi"},{label:"USDr",value:"usdr"},{label:"ETHr",value:"ethr"}],Ra=function(){var n=(0,Re.Z)(),r=n.userProvider,u=n.getWalletName,p=(0,Z.tT)("@@initialState"),m=p.initialState,E=p.setInitialState,S=(0,ja.TH)(),M=function(h){var g=S.query.chain,b=Promise.resolve();h===Pt._.USDr||h===Pt._.ETHr?(g=Yt.W3.id,m.walletChainId!==Yt.W3.id&&(0,_a.Y)("pr02-sg")&&(b=(0,Oa.u)(g,r,u()))):(h===Pt._.ETHi||h===Pt._.USDi)&&(g=Yt.hB.id),b.then(function(){E((0,v.Z)((0,v.Z)({},m),{},{vault:h,chain:g},(0,Ke.L)(g,h))),Z.m8.push({query:{chain:g||m.chain,vault:h}})})};return(0,t.jsx)(K.Z,{children:(0,t.jsx)(I.Z,{span:24,className:Ua().container,children:(0,t.jsx)(At.ZP.Group,{size:"large",onChange:function(h){return M(h.target.value)},value:m.vault,buttonStyle:"solid",children:kt()(Ba,function(x,h){return(0,t.jsx)(At.ZP.Button,{value:x.value,children:x.label},h)})})})})},Pe=Ra,Ze=e(55414),pe=e(53651),qt=e(22844),ka=e(41609),Ie=e.n(ka),Va=function(n){var r=n.vault,u=n.chain,p=n.vaultAddress,m=n.tokenAddress,E=n.vaultBufferAddress;return Ie()(m)||Ie()(p)?Promise.reject(new Error("fetch tokenAddress or vaultAddress failed")):Ma(r,u,m,p,E).catch(function(S){return console.error("init DashBoard data failed",S),{pegToken:{totalSupply:"0",holderCount:"0"},vault:{totalAssets:"0",strategies:[]},vaultBuffer:{totalSupply:"0"}}})};function Xe(){var R=(0,i.useState)({}),n=(0,D.Z)(R,2),r=n[0],u=n[1],p=(0,i.useState)(!1),m=(0,D.Z)(p,2),E=m[0],S=m[1],M=(0,Z.tT)("@@initialState"),x=M.initialState;return(0,i.useEffect)(function(){x!=null&&x.chain&&(S(!0),Va(x).then(u).finally(function(){S(!1)}))},[x==null?void 0:x.chain,x==null?void 0:x.vault]),{dataSource:r,loading:E}}var Ee=e(2593),Wa=e(13311),ke=e.n(Wa),je=function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,p=[],m=function(M){var x=n[0]?oe()(n[0].date):oe()().utcOffset(0).subtract(1,"days"),h=x.subtract(M,"days").format("YYYY-MM-DD"),g=ke()(n,function(b){return b.date===h})||(0,c.Z)({date:h},r,void 0);p.push(g)},E=0;E<u;E++)m(E);return p},Na=function(){var n=(0,i.useState)(31),r=(0,D.Z)(n,2),u=r[0],p=r[1],m=(0,i.useState)({}),E=(0,D.Z)(m,2),S=E[0],M=E[1],x=(0,i.useState)({}),h=(0,D.Z)(x,2),g=h[0],b=h[1],X=(0,i.useState)(0),C=(0,D.Z)(X,2),nt=C[0],ft=C[1],rt=(0,Z.tT)("@@initialState"),L=rt.initialState,st=Xe(),k=st.dataSource,q=k===void 0?{}:k,T=st.loading,y=q.pegToken,a=y===void 0?{}:y,P=q.vault,s=P===void 0?{}:P,V=q.vaultBuffer,J=V===void 0?{}:V;if((0,i.useEffect)(function(){if(!!L.chain){var G={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};u>7&&(G.format="MM-DD"),(0,Rt.ld)({chainId:L.chain,duration:pe.Gj.monthly,limit:u,tokenType:pe.KR.ethi}).then(function(tt){var et=je(tt.content,"apy",u),w=(0,o.map)((0,o.reverse)(et),function(_){var it=_.date,_t=_.apy,Xt=(0,o.isNil)(_t)?null:"".concat(Mt()(_t).format("0.00"));return{date:it,apy:Xt}});ft(tt.content[0]?tt.content[0].apy:0);var ht=(0,o.uniq)((0,o.map)(w,function(_){var it=_.date;return it})),bt=[],Ot=(0,o.map)(ht,function(_){var it=(0,o.find)(w,{date:_});return it?{value:(0,j.Ay)(it.apy),label:"".concat((0,j.Ik)(it.apy),"%")}:null}),wt=[{seriesName:"APY",seriesData:Ot,showSymbol:(0,o.size)((0,o.filter)(Ot,function(_){return!(0,o.isNil)(_.value)}))===1}],It={legend:{data:bt,textStyle:{color:"#fff"}},xAxisData:ht,data:wt},l=(0,Qe.Z)(It);l.color=["#A68EFE","#5470c6","#91cc75"],l.series.forEach(function(_){_.connectNulls=!0,_.name==="Estimated APY"&&(_.lineStyle={width:2,type:"dotted"})}),l.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var d=[];l.xAxis.data=l.xAxis.data.map(function(_){var it="".concat(oe()(_).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return d[it]=oe()(_).add(1,"days").format(G.format),it}),l.xAxis.axisLabel={formatter:function(it){return d[it]}},l.xAxis.axisTick={alignWithLabel:!0},l.yAxis.splitLine={lineStyle:{color:"#454459"}},l.tooltip=(0,v.Z)((0,v.Z)({},l.tooltip),{},{formatter:function(it){if(it.length>0){var _t=it[0],Xt=_t.axisValueLabel,he=_t.marker,ie=_t.seriesName,Ft=_t.data,We="".concat(Xt,"<br/>").concat(he).concat(ie,": ");return Ft!=null&&Ft.value?We+=Ft==null?void 0:Ft.label:We+="-",We}}}),b(l)}).catch(function(tt){console.error(tt)}),(0,Rt.fY)({chainId:L.chain,limit:u,tokenType:pe.KR.ethi}).then(function(tt){var et=je(tt.content,"totalSupply",u),w=(0,o.map)((0,o.reverse)(et),function(ht){var bt=ht.date,Ot=ht.totalSupply;return{date:bt,totalSupply:(0,j.FH)(Ot,qt.Nd,qt.A7)}});M((0,Ge.Z)(w,"totalSupply","ETHi",(0,v.Z)((0,v.Z)({},G),{},{yAxisMin:function(bt){return Math.floor(bt.min*.998)},yAxisMax:function(bt){return Math.ceil(bt.max*1.001)}})))}).catch(function(tt){console.error(tt)})}},[u,L.chain]),(0,i.useEffect)(function(){return function(){(0,Rt.jv)()}},[]),(0,o.isEmpty)(L.chain))return null;var ct=function(){return(0,o.isEmpty)(a)||(a==null?void 0:a.totalSupply)==="0"||(0,o.isEmpty)(s==null?void 0:s.totalAssets)?"1":!(0,o.isEmpty)(J)&&s.isAdjust?(0,j.FH)(Ee.O$.from(s.totalAssets).sub(J.totalSupply),a==null?void 0:a.totalSupply,6):(0,j.FH)(s==null?void 0:s.totalAssets,a==null?void 0:a.totalSupply,6)},mt=function(){Z.m8.push("/prices?chain=".concat(L.chain,"&vault=").concat(L.vault))},Wt=(0,j.FH)(a==null?void 0:a.totalSupply,qt.Nd,qt.A7),Kt=Mt()(Wt).format("0.00 a"),Nt=Kt.split(" "),Ht=(0,D.Z)(Nt,2),St=Ht[0],lt=Ht[1],Vt=isNaN(new Number(lt)),Qt=[{title:"Total Supply",tip:"Current total ETHi supply.",content:(0,o.isEmpty)(a)?0:"".concat(St).concat(Vt?"":lt),loading:T,unit:"".concat((0,o.isEmpty)(a)?"":"".concat(Vt?lt:"")," ETHi"),subTitle:(0,t.jsxs)("p",{children:["1ETHi \u2248 ",ct(),"ETH"," ",(0,t.jsx)("span",{className:f().history,onClick:mt,children:"History"})]})},{title:"Holders",tip:"Number Of ETHi holders.",content:Mt()(a==null?void 0:a.holderCount).format("0.[0000]a"),loading:T},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,j.Ik)(parseFloat(nt).toFixed(2)),loading:T,unit:"%"}],$=(0,o.cloneDeep)(q.vault);if($){var U=(0,o.reduce)($.strategies,function(G,tt){return G.plus(tt.debtRecordInVault)},(0,F.Z)(0));$.totalValueInVault=(0,F.Z)($.totalAssets).minus(U).toString(),$.strategies.map(function(G){return G.totalValue=G.debtRecordInVault})}return(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(K.Z,{gutter:[0,40],children:[(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(Pe,{})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(Lt,{data:Qt})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(Ae,{loading:T,calDateRange:u,onCalDateRangeClick:p,apyEchartOpt:g,tvlEchartOpt:S})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(Ne,{loading:T,strategyMap:Ze.tX,tokenDecimals:qt.Nd,displayDecimals:qt.A7,vaultData:$,unit:"ETH"})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(He,{unit:"ETH",loading:T,strategyMap:Ze.tX,displayDecimals:qt.A7})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(ze,{token:"ETHi",decimals:qt.DO,dispalyDecimal:qt.A7,filterOptions:qt.O2,loading:T})})})]})})},Ha=Na,Ve=e(91907),wa=[{label:"Ethereum",key:"1"},{label:"Polygon",key:"137"}],Fa=function(){var n=(0,i.useState)(31),r=(0,D.Z)(n,2),u=r[0],p=r[1],m=(0,i.useState)({}),E=(0,D.Z)(m,2),S=E[0],M=E[1],x=(0,i.useState)({}),h=(0,D.Z)(x,2),g=h[0],b=h[1],X=(0,i.useState)(0),C=(0,D.Z)(X,2),nt=C[0],ft=C[1],rt=(0,Z.tT)("@@initialState"),L=rt.initialState,st=Xe(),k=st.dataSource,q=k===void 0?{}:k,T=st.loading,y=q.pegToken,a=y===void 0?{}:y,P=q.vault,s=P===void 0?{}:P,V=q.vaultBuffer,J=V===void 0?{}:V;if((0,i.useEffect)(function(){if(!!L.chain){var $={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};u>7&&($.format="MM-DD"),(0,Rt.ld)({chainId:L.chain,duration:pe.Gj.monthly,limit:u,tokenType:pe.KR.usdi}).then(function(U){var G=je(U.content,"apy",u),tt=(0,o.map)((0,o.reverse)(G),function(d){var _=d.date,it=d.apy,_t=(0,o.isNil)(it)?null:"".concat(Mt()(it).format("0.00"));return{date:_,apy:_t}}),et=(0,o.get)(U,"content.[0].apy",0);ft(et);var w=(0,o.uniq)((0,o.map)(tt,function(d){var _=d.date;return _})),ht=[],bt=(0,o.map)(w,function(d){var _=(0,o.find)(tt,{date:d});return _?{value:(0,j.Ay)(_.apy),label:"".concat((0,j.Ik)(_.apy),"%")}:null}),Ot=[{seriesName:"APY",seriesData:bt,showSymbol:(0,o.size)((0,o.filter)(bt,function(d){return!(0,o.isNil)(d.value)}))===1}],wt={legend:{data:ht,textStyle:{color:"#fff"}},xAxisData:w,data:Ot},It=(0,Qe.Z)(wt);It.color=["#A68EFE","#5470c6","#91cc75"],It.series.forEach(function(d){d.connectNulls=!0,d.name==="Estimated APY"&&(d.lineStyle={width:2,type:"dotted"})}),It.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var l=[];It.xAxis.data=It.xAxis.data.map(function(d){var _="".concat(oe()(d).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return l[_]=oe()(d).add(1,"days").format($.format),_}),It.xAxis.axisLabel={formatter:function(_){return l[_]}},It.xAxis.axisTick={alignWithLabel:!0},It.yAxis.splitLine={lineStyle:{color:"#454459"}},It.tooltip=(0,v.Z)((0,v.Z)({},It.tooltip),{},{formatter:function(_){if(_.length>0){var it=_[0],_t=it.axisValueLabel,Xt=it.marker,he=it.seriesName,ie=it.data,Ft="".concat(_t,"<br/>").concat(Xt).concat(he,": ");return ie!=null&&ie.value?Ft+=ie==null?void 0:ie.label:Ft+="-",Ft}}}),b(It)}).catch(function(U){console.error(U)}),(0,Rt.fY)({chainId:L.chain,limit:u,tokenType:pe.KR.usdi}).then(function(U){var G=je(U.content,"totalSupply",u),tt=(0,o.map)((0,o.reverse)(G),function(et){var w=et.date,ht=et.totalSupply;return{date:w,totalSupply:(0,j.FH)(ht,Be,Pt.h)}});M((0,Ge.Z)(tt,"totalSupply","USDi",(0,v.Z)((0,v.Z)({},$),{},{yAxisMin:function(w){return Math.floor(w.min*.998)},yAxisMax:function(w){return Math.ceil(w.max*1.001)}})))}).catch(function(U){console.error(U)})}},[u,L.chain]),(0,i.useEffect)(function(){return function(){(0,Rt.jv)()}},[]),(0,o.isEmpty)(L.chain))return null;var ct=function(){return(0,o.isEmpty)(a)||(a==null?void 0:a.totalSupply)==="0"||(0,o.isEmpty)(s==null?void 0:s.totalAssets)?"1":!(0,o.isEmpty)(J)&&s.isAdjust?(0,j.FH)(Ee.O$.from(s.totalAssets).sub(J.totalSupply),a==null?void 0:a.totalSupply,6):(0,j.FH)(s==null?void 0:s.totalAssets,a==null?void 0:a.totalSupply,6)},mt=function(){Z.m8.push("/prices?chain=".concat(L.chain,"&vault=").concat(L.vault))},Wt=(0,j.FH)(a==null?void 0:a.totalSupply,Be,Pt.h),Kt=Mt()(Wt).format("0.00 a"),Nt=Kt.split(" "),Ht=(0,D.Z)(Nt,2),St=Ht[0],lt=Ht[1],Vt=(0,o.isNaN)(new Number(lt)),Qt=[{title:"Total Supply",tip:"Current total USDi supply.",content:(0,o.isEmpty)(a)?0:"".concat(St).concat(Vt?"":lt),loading:T,unit:"".concat((0,o.isEmpty)(a)?"":"".concat(Vt?lt:"")," USDi"),subTitle:(0,t.jsxs)("p",{children:["1USDi \u2248 ",ct(),"USD"," ",(0,t.jsx)("span",{className:f().history,onClick:mt,children:"History"})]})},{title:"Holders",tip:"Number Of USDi holders.",content:Mt()(a==null?void 0:a.holderCount).format("0.[0000]a"),loading:T},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,j.Ik)(parseFloat(nt).toFixed(2)),loading:T,unit:"%"}];return console.log("tvlEchartOpt=",S),(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(K.Z,{gutter:[0,40],children:[(0,t.jsxs)(I.Z,{span:24,children:[(0,t.jsx)(Pe,{}),(0,t.jsx)(Ve.Z,{chains:wa})]}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(Lt,{data:Qt})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(Ae,{isUsdi:!0,loading:T,calDateRange:u,onCalDateRangeClick:p,apyEchartOpt:g,tvlEchartOpt:S})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(Ne,{loading:T,strategyMap:Ze.o1,tokenDecimals:Be,vaultData:q.vault})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(He,{strategyMap:Ze.o1,loading:T})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(ze,{loading:T})})})]})})},$a=Fa,An=e(20228),Ya=e(11382),Ka=e(18973),Je=e.n(Ka),za=(0,t.jsxs)("div",{className:Je().main,children:[(0,t.jsxs)("svg",{viewBox:"0 0 1403 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",children:[(0,t.jsx)("path",{d:"M149.1 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM807.5 740.5H352c-9.1-22.5-31.2-38.4-57-38.4-33.9 0-61.4 27.5-61.4 61.4s27.5 61.4 61.4 61.4c25.8 0 47.9-15.9 57-38.4h455.5c9.1 22.5 31.2 38.4 57 38.4 33.9 0 61.4-27.5 61.4-61.4s-27.5-61.4-61.4-61.4c-25.9 0-47.9 15.9-57 38.4zM233.6 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM318 515.1c12.7 0 23-10.3 23-23v-51c0-12.7-10.3-23-23-23s-23 10.3-23 23v51c0 12.7 10.3 23 23 23z",fill:"#A68EFE"}),(0,t.jsx)("path",{d:"M1353.7 486.2c8.8-28.8 1.9-61.5-20.9-84.2L1088.2 157.4c-1.1-1.2-2.2-2.4-3.4-3.6-1.2-1.2-2.4-2.3-3.6-3.4l-0.8-0.8c-17.2-15.1-39.1-23.4-62.3-23.4-25.3 0-49 9.8-66.8 27.6L763 342l-60.3-213h12.5c12.7 0 23-10.3 23-23s-10.3-23-23-23H464.8c-51.3 0-93 41.7-93 93v132.3H91.4c-9.3 0-18 3.6-24.6 10.2l-56.6 56.6c-6.6 6.6-10.2 15.3-10.2 24.6V563c0 9.3 3.6 18 10.2 24.6l60.1 60.1c6.6 6.6 15.3 10.2 24.6 10.2h78.7c-30.5 29.9-49.5 71.5-49.5 117.4 0 90.6 73.7 164.4 164.4 164.4h582.5c90.6 0 164.4-73.7 164.4-164.4s-73.7-164.4-164.4-164.4h-55.5l173.9-176.2 0.9-52.8 42.3-42.3L1213.8 521c7.1 7.1 15.2 12.7 23.8 16.7l-69.4 117.8-9.8-5.8c-9.5-5.6-21.8-2.4-27.4 7.1l-3 5.2c-5.6 9.5-2.4 21.8 7.1 27.4l51.4 30.3c68.6 40.4 156.9 17.6 197.4-51 35.9-61.1 21.7-137.9-30.2-182.5z m-632.5-123h-77.2l-44.7-44.7c-6.6-6.6-15.3-10.2-24.6-10.2h-42.1V129h122.2l66.4 234.2zM417.8 176c0-25.9 21.1-47 47-47h22v179.3h-69V176zM99.5 611.8l-53.5-53.5V404.4l50-50h474.2L614.9 399c6.6 6.6 15.3 10.2 24.6 10.2H724.9v113.4H492.8c-12.7 0-23 10.3-23 23s10.3 23 23 23H724.9v42.3H288.5c-6 0-12 0.3-17.8 1H99.5z m771.5 45.1c65.3 0 118.4 53.1 118.4 118.4 0 65.3-53.1 118.4-118.4 118.4H288.5c-65.3 0-118.4-53.1-118.4-118.4 0-65.3 53.1-118.4 118.4-118.4h582.5z m73.5-294.4l-0.9 53-172.7 175V399.2l212.9-212.9c9.1-9.1 21.3-14.1 34.2-14.1 13 0 25.2 5 34.2 14.1 18.9 18.9 18.9 49.6 0 68.5L944.5 362.5z m248.9 72.9L1065 307.1l19.8-19.8c12.5-12.5 20.7-27.6 24.7-43.6l137.8 137.8c-12.2 4-23.7 10.8-33.4 20.5-9.8 9.7-16.6 21.2-20.5 33.4z m53-0.9c14.9-14.9 39-14.9 53.9 0 14.9 14.9 14.9 39 0 53.9-14.9 14.9-39 14.9-53.9 0-14.9-14.8-14.9-39 0-53.9z m97.8 210.8c-27.5 46.7-87.7 62.2-134.4 34.7l-2-1.2 79.2-134.4c14.8-2.4 29.1-8.8 41.1-19.2 31.7 30.8 39.5 80.3 16.1 120.1z",fill:"#A68EFE"})]}),(0,t.jsx)("span",{className:Je().text,children:"Under construction..."})]}),Ga=function(n){var r=n.children;return(0,t.jsx)(Ya.Z,{size:"large",indicator:za,style:{background:"rgb(0,0,0,0.5)"},children:r})},qe=Ga,xn="0x0000000000000000000000000000000000000000",Qa="0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",Xa="0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619",De=new F.Z(1e6),de=new F.Z(1e18),En=new F.Z(1e27),Ja=e(96519),ta=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_newVault",type:"address"},{indexed:!0,internalType:"address",name:"_wantToken",type:"address"}],name:"CreateNewVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vaultImpl",type:"address"}],name:"addVaultImpl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wantToken",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"}],name:"createNewVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"deleteVaultAddressMapForDebug",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getStablecoinInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlist",outputs:[{internalType:"address[]",name:"_wethInvestorSet",type:"address[]"},{internalType:"address[]",name:"_usdInvestorSet",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlistLen",outputs:[{internalType:"uint256",name:"_wethInvestorSetLen",type:"uint256"},{internalType:"uint256",name:"_stablecoinInvestorSetLen",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultImplList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultsLen",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getWethInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_vaultImplList",type:"address[]"},{internalType:"address",name:"_accessControlProxy",type:"address"},{internalType:"address",name:"_uniswapV3RiskOnHelper",type:"address"},{internalType:"address",name:"_treasury",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"treasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"uniswapV3RiskOnHelper",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"vaultAddressMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vaultImpl2Index",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"vaultImplList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],qa=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"borrowInfo",outputs:[{internalType:"uint256",name:"_totalCollateralBase",type:"uint256"},{internalType:"uint256",name:"_totalDebtBase",type:"uint256"},{internalType:"uint256",name:"_availableBorrowsBase",type:"uint256"},{internalType:"uint256",name:"_currentLiquidationThreshold",type:"uint256"},{internalType:"uint256",name:"_ltv",type:"uint256"},{internalType:"uint256",name:"_healthFactor",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcAaveBaseCurrencyValueInAsset",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_baseAsset",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcCanonicalAssetValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getAToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"},{internalType:"address",name:"_account",type:"address"}],name:"getCurrentBorrow",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"}],name:"getDebtToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"getSpecifiedRangesOfTick",outputs:[{internalType:"int24",name:"_tickFloor",type:"int24"},{internalType:"int24",name:"_tickCeil",type:"int24"},{internalType:"int24",name:"_tickLower",type:"int24"},{internalType:"int24",name:"_tickUpper",type:"int24"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"address",name:"_collateralToken",type:"address"}],name:"getTotalCollateralTokenAmount",outputs:[{internalType:"uint256",name:"_totalCollateralToken",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_pool",type:"address"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"getTwap",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"}],tn=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"LendToStrategy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_basis",type:"uint256"}],name:"ProfitFeeBpsChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"RedeemToVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"_shutdown",type:"bool"}],name:"SetEmergencyShutdown",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address[]",name:"_rewardTokens",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],name:"StrategyReported",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_nftId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTCollect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"_liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTPositionAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"UniV3NFTPositionRemoved",type:"event"},{anonymous:!1,inputs:[],name:"UniV3UpdateConfig",type:"event"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"borrowRebalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"borrowToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositTo3rdPoolTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergencyShutdown",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"estimatedTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMintInfo",outputs:[{internalType:"uint256",name:"_baseTokenId",type:"uint256"},{internalType:"int24",name:"_baseTickUpper",type:"int24"},{internalType:"int24",name:"_baseTickLower",type:"int24"},{internalType:"uint256",name:"_limitTokenId",type:"uint256"},{internalType:"int24",name:"_limitTickUpper",type:"int24"},{internalType:"int24",name:"_limitTickLower",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStatus",outputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_wantToken",type:"address"},{internalType:"int24",name:"_baseThreshold",type:"int24"},{internalType:"int24",name:"_limitThreshold",type:"int24"},{internalType:"int24",name:"_minTickMove",type:"int24"},{internalType:"int24",name:"_maxTwapDeviation",type:"int24"},{internalType:"int24",name:"_lastTick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"uint256",name:"_period",type:"uint256"},{internalType:"uint256",name:"_lastTimestamp",type:"uint256"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"harvest",outputs:[{internalType:"address[]",name:"_rewardsTokens",type:"address[]"},{internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastHarvest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"lend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"manageFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"netMarketMakingAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"profitFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rebalanceByKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeemToVaultByKeeper",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"setBaseThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_active",type:"bool"}],name:"setEmergencyShutdown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_limitThreshold",type:"int24"}],name:"setLimitThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setManageFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_maxTwapDeviation",type:"int24"}],name:"setMaxTwapDeviation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_minTickMove",type:"int24"}],name:"setMinTickMove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_period",type:"uint256"}],name:"setPeriod",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setProfitFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"setTwapDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"}],name:"shouldRebalance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"wantToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],ea=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],Se=Ja.CH,aa=Ee.O$,en=function(n,r){var u=(0,i.useState)(!1),p=(0,D.Z)(u,2),m=p[0],E=p[1],S=(0,i.useState)([]),M=(0,D.Z)(S,2),x=M[0],h=M[1],g=(0,i.useState)({_wethInvestorSetLen:0,_stablecoinInvestorSetLen:0}),b=(0,D.Z)(g,2),X=b[0],C=b[1],nt=(0,i.useCallback)(function(rt,L){var st=new Se(L,tn,r),k=new Se(rt,qa,r);return Promise.all([st.borrowToken().then(function(){var q=(0,xe.Z)((0,ee.Z)().mark(function T(y){var a;return(0,ee.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=new Se(y,ea,r),s.t0=y,s.next=4,a.symbol();case 4:return s.t1=s.sent,s.t2=aa.from(10),s.next=8,a.decimals();case 8:return s.t3=s.sent,s.t4=s.t2.pow.call(s.t2,s.t3),s.abrupt("return",{borrowToken:s.t0,name:s.t1,borrowTokenDecimals:s.t4});case 11:case"end":return s.stop()}},T)}));return function(T){return q.apply(this,arguments)}}()),st.wantToken().then(function(){var q=(0,xe.Z)((0,ee.Z)().mark(function T(y){var a;return(0,ee.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=new Se(y,ea,r),s.t0=y,s.next=4,a.symbol();case 4:return s.t1=s.sent,s.t2=aa.from(10),s.next=8,a.decimals();case 8:return s.t3=s.sent,s.t4=s.t2.pow.call(s.t2,s.t3),s.abrupt("return",{wantToken:s.t0,name:s.t1,wantTokenDecimals:s.t4});case 11:case"end":return s.stop()}},T)}));return function(T){return q.apply(this,arguments)}}())]).then(function(q){var T=(0,D.Z)(q,2),y=T[0],a=T[1],P=y.borrowToken,s=a.wantToken;return Promise.all([st.netMarketMakingAmount(),k.getCurrentBorrow(P,2,L),k.getTotalCollateralTokenAmount(L,s),st.depositTo3rdPoolTotalAssets(),st.estimatedTotalAssets()]).then(function(V){var J=(0,D.Z)(V,5),ct=J[0],mt=J[1],Wt=J[2],Kt=J[3],Nt=J[4];return k.calcCanonicalAssetValue(P,mt,s).then(function(Ht){var St={netMarketMakingAmount:ct,currentBorrow:mt,currentBorrowWithCanonical:Ht,depositTo3rdPoolTotalAssets:Kt,totalCollateralTokenAmount:Wt,estimatedTotalAssets:Nt,wantInfo:a,borrowInfo:y,profit:Kt.add(Wt).sub(ct).sub(Ht)};return St})})}).finally(function(){setTimeout(function(){E(!1)},300)})},[r]),ft=(0,i.useCallback)(function(){if(!(Ie()(n)||Ie()(r))){E(!0);var rt=new Se(n,ta,r);Promise.all([rt.uniswapV3RiskOnHelper(),rt.getTotalVaultAddrList(),rt.getTwoInvestorlistLen()]).then(function(L){var st=(0,D.Z)(L,3),k=st[0],q=st[1],T=st[2],y=T._wethInvestorSetLen,a=T._stablecoinInvestorSetLen;C({_wethInvestorSetLen:y,_stablecoinInvestorSetLen:a});var P=kt()(q,function(){var s=(0,xe.Z)((0,ee.Z)().mark(function V(J){return(0,ee.Z)().wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:return mt.abrupt("return",nt(k,J));case 1:case"end":return mt.stop()}},V)}));return function(V){return s.apply(this,arguments)}}());return Promise.all(P)}).then(h).finally(function(){E(!1)})}},[n,r,ta]);return(0,i.useEffect)(ft,[ft]),{vaultFactoryAddress:n,loading:m,vaults:x,holderInfo:X}},na=en,ue=e(52572),an=e(63105),ia=e.n(an),nn=e(54061),ae=e.n(nn),rn=e(84238),ne=e.n(rn),sn=e(84486),ra=e.n(sn),ve=Ee.O$,ln=[{label:"Polygon",key:"137"}],ye="WETH",on=function(n){var r,u,p,m,E,S,M,x,h,g,b=n==null||(r=n.location)===null||r===void 0?void 0:r.query,X=b.ori,C=X===void 0?!1:X,nt={VAULT_FACTORY_ADDRESS:{"137":"0xA92C91Fe965D7497A423d951fCDFA221fC354B5a"}}.VAULT_FACTORY_ADDRESS[Yt.W3.id],ft=(0,Re.Z)(),rt=ft.userProvider,L=na(nt,rt),st=L.vaults,k=L.loading,q=L.holderInfo,T=ia()(st,function(l){var d;return(l==null||(d=l.wantInfo)===null||d===void 0?void 0:d.wantToken)===Xa}),y=(0,i.useState)("All"),a=(0,D.Z)(y,2),P=a[0],s=a[1],V=(0,ue.r5)(function(){return(0,Rt.bx)(Yt.W3.id,"ETHr").catch(function(){return ve.from("0")})}),J=ae()(T,function(l,d){return d.netMarketMakingAmount?l.add(d.netMarketMakingAmount):l},ve.from(0)),ct=ae()(T,function(l,d){return d.estimatedTotalAssets?l.add(d.estimatedTotalAssets):l},ve.from(0)),mt=ae()(T,function(l,d){return d.currentBorrowWithCanonical?l.add(d.currentBorrowWithCanonical):l},ve.from(0)),Wt=ae()(T,function(l,d){return d.totalCollateralTokenAmount?l.add(d.totalCollateralTokenAmount):l},ve.from(0)),Kt=ae()(T,function(l,d){return d.depositTo3rdPoolTotalAssets?l.add(d.depositTo3rdPoolTotalAssets):l},ve.from(0)),Nt=q._wethInvestorSetLen.toString(),Ht=[{title:"Deposit",tip:"All Vault Net Deposit.",content:Mt()((0,j.FH)(J,de)).format("0.[0000]a"),loading:k,unit:ye},{title:"Current Value",tip:"All Vault Current Value.",content:Mt()((0,j.FH)(ct,de)).format("0.[0000]a"),loading:k,unit:ye},{title:"Profits",tip:"All Vault Profits.",content:Mt()((0,j.FH)(V==null||(u=V.result)===null||u===void 0?void 0:u.result,de,qt.A7)).format("0.[0000]a"),loading:k,unit:ye},{title:"Holders",tip:"Number Of ETHr holders.",content:Mt()(Nt).format("0.[0000]a"),loading:k,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:Mt()((0,j.FH)(mt,de)).format("0.[0000]a"),loading:k,unit:ye},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:Mt()((0,j.FH)(Wt,de)).format("0.[0000]a"),loading:k,unit:ye},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:Mt()((0,j.FH)(Kt,de)).format("0.[0000]a"),loading:k,unit:ye}],St=(0,ue.r5)(function(){return(0,Rt.q4)({type:"ETHr"})},[nt]),lt=(0,ue.r5)(function(){return(0,Rt.wn)({type:"ETHr"})},[nt]),Vt=[],Qt=[],$=[];ra()((p=St.result)===null||p===void 0?void 0:p.content,function(l){var d;Vt.push(l.apyValidateTime);var _=ke()((d=lt.result)===null||d===void 0?void 0:d.content,function(Xt){return Xt.apyValidateTime===l.apyValidateTime}),it=_?(_.verifiedApy*100).toFixed(2):"",_t=_?(_.dailyVerifiedApy*100).toFixed(2):"";Qt.push(it),$.push(_t)});var U={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},legend:{textStyle:{color:"#fff"}},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},data:Vt,axisTick:{alignWithLabel:!0}},yAxis:{splitLine:{lineStyle:{color:"#454459"}}},color:["#A68EFE","#2ec7c9","#ffb980","#d87a80","#e5cf0d","#97b552","#8d98b3","#07a2a4","#95706d","#dc69aa"],series:[{name:"Official Weekly APY",data:kt()((m=St.result)===null||m===void 0?void 0:m.content,function(l){return(l.apy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:ne()((E=St.result)===null||E===void 0?void 0:E.content)===1},{name:"Verified Weekly APY",data:Qt,type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:ne()((S=lt.result)===null||S===void 0?void 0:S.content)===1}]};if(C){var G,tt,et;U.series.push({name:"Official Daily APY",data:kt()((G=St.result)===null||G===void 0?void 0:G.content,function(l){return(l.originApy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:ne()((tt=St.result)===null||tt===void 0?void 0:tt.content)===1},{name:"Verified Daily APY",data:$,type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:ne()((et=lt.result)===null||et===void 0?void 0:et.content)===1})}var w=(0,ue.r5)(function(){return(0,Rt.wu)({underlyingToken:"ETH"})},[nt]),ht={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},data:kt()((M=w.result)===null||M===void 0?void 0:M.data,function(l){return l.apyValidateTime}),axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:[{type:"slider"}],color:["#A68EFE","#5470c6","#91cc75"],series:[{data:kt()((x=w.result)===null||x===void 0?void 0:x.data,function(l){return(l.apy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:ne()((h=w.result)===null||h===void 0?void 0:h.data)===1}]},bt=[],Ot=[{title:"Date",dataIndex:"date",key:"date"},{title:"Operation",dataIndex:"operation",key:"operation"},{title:"Details",dataIndex:"details",key:"details"},{title:"Tx Address",dataIndex:"tx",key:"tx"}],wt={All:"All",Create:"Create",Deposit:"Deposit",Burn:"Burn"},It=(0,t.jsx)(At.ZP.Group,{value:P,onChange:function(d){return s(d.target.value)},buttonStyle:"solid",className:f().buttons,children:kt()(wt,function(l,d){return(0,t.jsx)(At.ZP.Button,{value:l,children:l},d)})});return(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(K.Z,{gutter:[0,40],children:[(0,t.jsx)(I.Z,{span:24,children:(0,t.jsxs)(i.Suspense,{fallback:null,children:[(0,t.jsx)(Pe,{}),(0,t.jsx)(Ve.Z,{chains:ln})]})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(Lt,{data:Ht})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(H.Z,{title:"Uniswap APY (%)",loading:lt.loading||St.loading,children:lt.error?(0,t.jsxs)("div",{style:{minHeight:"10rem"},children:["Error: ",lt==null||(g=lt.error)===null||g===void 0?void 0:g.message]}):(0,t.jsx)(se.$c,{option:U,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{children:(0,t.jsx)(H.Z,{title:(0,t.jsxs)("div",{className:f().title,children:[(0,t.jsx)("span",{children:"Sample APY (%)"}),(0,t.jsx)(O.Z,{placement:"topLeft",arrowPointAtCenter:!0,title:"The estimated return if invested on anyday and held it on vault until today.",children:(0,t.jsx)(zt.Z,{className:f().icon})})]}),loading:w.loading,children:w.error?(0,t.jsxs)("div",{style:{minHeight:"10rem"},children:["Error: ",w.error.message]}):(0,t.jsx)(se.$c,{option:ht,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{children:(0,t.jsx)(qe,{children:(0,t.jsx)(H.Z,{extra:It,title:"Recent Activity",children:(0,t.jsx)(le.Z,{dataSource:bt,columns:Ot})})})})})]})})},un=on,fe=Ee.O$,dn=[{label:"Polygon",key:"137"}],me="USDC",cn=function(n){var r,u,p,m,E,S,M,x,h,g,b=n==null||(r=n.location)===null||r===void 0?void 0:r.query,X=b.ori,C=X===void 0?!1:X,nt={VAULT_FACTORY_ADDRESS:{"137":"0xA92C91Fe965D7497A423d951fCDFA221fC354B5a"}}.VAULT_FACTORY_ADDRESS[Yt.W3.id],ft=(0,Re.Z)(),rt=ft.userProvider,L=na(nt,rt),st=L.vaults,k=L.loading,q=L.holderInfo,T=ia()(st,function(l){var d;return(l==null||(d=l.wantInfo)===null||d===void 0?void 0:d.wantToken)===Qa}),y=(0,i.useState)("All"),a=(0,D.Z)(y,2),P=a[0],s=a[1],V=(0,ue.r5)(function(){return(0,Rt.bx)(Yt.W3.id,"USDr").catch(function(){return fe.from("0")})}),J=ae()(T,function(l,d){return d.netMarketMakingAmount?l.add(d.netMarketMakingAmount):l},fe.from(0)),ct=ae()(T,function(l,d){return d.estimatedTotalAssets?l.add(d.estimatedTotalAssets):l},fe.from(0)),mt=ae()(T,function(l,d){return d.currentBorrowWithCanonical?l.add(d.currentBorrowWithCanonical):l},fe.from(0)),Wt=ae()(T,function(l,d){return d.totalCollateralTokenAmount?l.add(d.totalCollateralTokenAmount):l},fe.from(0)),Kt=ae()(T,function(l,d){return d.depositTo3rdPoolTotalAssets?l.add(d.depositTo3rdPoolTotalAssets):l},fe.from(0)),Nt=q._stablecoinInvestorSetLen.toString(),Ht=[{title:"Deposit",tip:"All Vault Net Deposit.",content:Mt()((0,j.FH)(J,De)).format("0.[00]a"),loading:k,unit:me},{title:"Current Value",tip:"All Vault Current Value.",content:Mt()((0,j.FH)(ct,De)).format("0.[00]a"),loading:k,unit:me},{title:"Profits",tip:"All Vault Profits.",content:Mt()((0,j.FH)(V==null||(u=V.result)===null||u===void 0?void 0:u.result,de,Pt.h)).format("0.[00]a"),loading:k,unit:me},{title:"Holders",tip:"Number Of USDr holders.",content:Mt()(Nt).format("0.[00]a"),loading:k,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:Mt()((0,j.FH)(mt,De)).format("0.[00]a"),loading:k,unit:me},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:Mt()((0,j.FH)(Wt,De)).format("0.[00]a"),loading:k,unit:me},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:Mt()((0,j.FH)(Kt,De)).format("0.[00]a"),loading:k,unit:me}],St=(0,ue.r5)(function(){return(0,Rt.q4)({type:"USDr"})},[nt]),lt=(0,ue.r5)(function(){return(0,Rt.wn)({type:"USDr"})},[nt]),Vt=[],Qt=[],$=[];ra()((p=St.result)===null||p===void 0?void 0:p.content,function(l){var d;Vt.push(l.apyValidateTime);var _=ke()((d=lt.result)===null||d===void 0?void 0:d.content,function(Xt){return Xt.apyValidateTime===l.apyValidateTime}),it=_?(_.verifiedApy*100).toFixed(2):"",_t=_?(_.dailyVerifiedApy*100).toFixed(2):"";Qt.push(it),$.push(_t)});var U={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},legend:{textStyle:{color:"#fff"}},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},data:Vt,axisTick:{alignWithLabel:!0}},yAxis:{splitLine:{lineStyle:{color:"#454459"}}},color:["#A68EFE","#2ec7c9","#ffb980","#d87a80","#e5cf0d","#97b552","#8d98b3","#07a2a4","#95706d","#dc69aa"],series:[{name:"Official Weekly APY",data:kt()((m=St.result)===null||m===void 0?void 0:m.content,function(l){return(l.apy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:ne()((E=St.result)===null||E===void 0?void 0:E.content)===1},{name:"Verified Weekly APY",data:Qt,type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:ne()((S=lt.result)===null||S===void 0?void 0:S.content)===1}]};if(C){var G,tt,et;U.series.push({name:"Official Daily APY",data:kt()((G=St.result)===null||G===void 0?void 0:G.content,function(l){return(l.originApy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:ne()((tt=St.result)===null||tt===void 0?void 0:tt.content)===1},{name:"Verified Daily APY",data:$,type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:ne()((et=lt.result)===null||et===void 0?void 0:et.content)===1})}var w=(0,ue.r5)(function(){return(0,Rt.wu)({underlyingToken:"USD"})},[nt]),ht={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},data:kt()((M=w.result)===null||M===void 0?void 0:M.data,function(l){return l.apyValidateTime}),axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:[{type:"slider"}],color:["#A68EFE","#5470c6","#91cc75"],series:[{data:kt()((x=w.result)===null||x===void 0?void 0:x.data,function(l){return(l.apy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:ne()((h=w.result)===null||h===void 0?void 0:h.data)===1}]},bt=[],Ot=[{title:"Date",dataIndex:"date",key:"date"},{title:"Operation",dataIndex:"operation",key:"operation"},{title:"Details",dataIndex:"details",key:"details"},{title:"Tx Address",dataIndex:"tx",key:"tx"}],wt={All:"All",Create:"Create",Deposit:"Deposit",Burn:"Burn"},It=(0,t.jsx)(At.ZP.Group,{value:P,onChange:function(d){return s(d.target.value)},buttonStyle:"solid",className:f().buttons,children:kt()(wt,function(l,d){return(0,t.jsx)(At.ZP.Button,{value:l,children:l},d)})});return(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(K.Z,{gutter:[0,40],children:[(0,t.jsx)(I.Z,{span:24,children:(0,t.jsxs)(i.Suspense,{fallback:null,children:[(0,t.jsx)(Pe,{}),(0,t.jsx)(Ve.Z,{chains:dn})]})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(Lt,{data:Ht})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{fallback:null,children:(0,t.jsx)(H.Z,{title:"Uniswap APY (%)",loading:lt.loading||St.loading,children:lt.error?(0,t.jsxs)("div",{style:{minHeight:"10rem"},children:["Error: ",lt==null||(g=lt.error)===null||g===void 0?void 0:g.message]}):(0,t.jsx)(se.$c,{option:U,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{children:(0,t.jsx)(H.Z,{title:(0,t.jsxs)("div",{className:f().title,children:[(0,t.jsx)("span",{children:"Sample APY (%)"}),(0,t.jsx)(O.Z,{placement:"topLeft",arrowPointAtCenter:!0,title:"The estimated return if invested on anyday and held it on vault until today.",children:(0,t.jsx)(zt.Z,{className:f().icon})})]}),loading:w.loading,children:w.error?(0,t.jsxs)("div",{style:{minHeight:"10rem"},children:["Error: ",w.error.message]}):(0,t.jsx)(se.$c,{option:ht,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(i.Suspense,{children:(0,t.jsx)(qe,{children:(0,t.jsx)(H.Z,{extra:It,title:"Recent Activity",children:(0,t.jsx)(le.Z,{dataSource:bt,columns:Ot})})})})})]})})},pn=cn,vn=e(7594),yn=e(52353),fn=e.n(yn);function mn(R){var n,r=(0,Z.tT)("@@initialState"),u=r.initialState,p=(n={},(0,c.Z)(n,Pt._.USDi,$a),(0,c.Z)(n,Pt._.ETHi,Ha),(0,c.Z)(n,Pt._.ETHr,un),(0,c.Z)(n,Pt._.USDr,pn),n)[u.vault];return fn()(p)?(0,t.jsx)(vn.default,{}):(0,t.jsx)(p,(0,v.Z)({},R))}},860:function(pt,Y,e){"use strict";e.d(Y,{E6:function(){return xt},_8:function(){return I},mB:function(){return D},Mn:function(){return gt},oP:function(){return Zt},t:function(){return O},ld:function(){return dt},fY:function(){return t},jv:function(){return jt},Qc:function(){return Ut},wn:function(){return Jt},q4:function(){return B},wu:function(){return zt},bx:function(){return o}});var v=e(93224),c=e(11849),i=e(65367),Z=e(96486),ut=e.n(Z),K=["chainId","vaultAddress"],xt=function(A){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20;try{var at=(0,c.Z)({offset:f,limit:Q},A);return(0,i.WY)("".concat("https://service-pr02-sg.bankofchain.io","/officialApy"),{params:at})}catch(ot){return{content:[]}}},I=function(A){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,at=A.chainId,ot=A.vaultAddress,Ct={sort:"gene_time desc",offset:f,limit:Q};return(0,i.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(at,"/vaults/").concat(ot,"/allocation"),{params:Ct})},D=function(A,f){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,at=arguments.length>3&&arguments[3]!==void 0?arguments[3]:20,ot={offset:Q,limit:at};return(0,i.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(A,"/vaults/").concat(f,"/strategy/detail/list"),{params:ot})},gt=function(A){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,at=A.chainId,ot=A.vaultAddress,Ct=(0,v.Z)(A,K);return(0,i.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(at,"/vaults/").concat(ot,"/verifiedApy"),{params:(0,c.Z)({offset:f,limit:Q},Ct)})},Zt=function(A,f,Q,at,ot){if(!(0,Z.isNil)(Q))return(0,i.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(A,"/vaults/").concat(f,"/allocation/").concat(Q,"/").concat(at),{method:"patch",headers:ot})},O=function(A){var f=A.strategyName,Q=A.vaultAddress,at=A.chainId,ot=A.limit,Ct=ot===void 0?10:ot,Lt=A.offset,te=Lt===void 0?0:Lt,At=A.sort,Gt=At===void 0?"fetch_timestamp desc":At;return(0,i.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(at,"/vaults/").concat(Q,"/strategy/assets"),{params:{strategyName:f,limit:Ct,offset:te,sort:Gt}})},W=function(A,f,Q){return request("".concat("https://service-pr02-sg.bankofchain.io","/apy/account_apy/accountAddress/").concat(A,"/date/").concat(f),{params:Q})},vt=function(A,f){return request("".concat("https://service-pr02-sg.bankofchain.io","/profit/account/").concat(A),{params:f})},H=function(A,f){return request("".concat("https://service-pr02-sg.bankofchain.io","/token/balance/account/").concat(A),{params:_objectSpread({limit:365},f)})},Et=function(A,f){return request("".concat("https://service-pr02-sg.bankofchain.io","/month_profit/account/").concat(A),{params:f})},Tt={},dt=function(A){var f=A.chainId,Q=A.tokenType,at=A.duration,ot=A.offset,Ct=ot===void 0?0:ot,Lt=A.limit,te=A.useCache,At=te===void 0?!0:te,Gt="".concat(f,"-").concat(at,"-").concat(Q,"-").concat(Ct,"-").concat(Lt);return At&&Tt[Gt]?Promise.resolve(Tt[Gt]):(0,i.WY)("".concat("https://service-pr02-sg.bankofchain.io","/apy/vault_apy"),{params:{chainId:f,duration:at,offset:Ct,limit:Lt,tokenType:Q}}).then(function(re){return Tt[Gt]=re,re})},N={},t=function(A){var f=A.chainId,Q=A.offset,at=Q===void 0?0:Q,ot=A.limit,Ct=A.tokenType,Lt=A.useCache,te=Lt===void 0?!0:Lt,At="".concat(f,"-").concat(at,"-").concat(Ct,"-").concat(ot);return te&&N[At]?Promise.resolve(N[At]):(0,i.WY)("".concat("https://service-pr02-sg.bankofchain.io","/token/totalSupply"),{params:{chainId:f,offset:at,limit:ot,tokenType:Ct}}).then(function(Gt){return N[At]=Gt,Gt})},jt=function(){Tt={},N={}},Ut=function(A,f,Q){var at=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,ot=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20,Ct={strategyAddress:Q,offset:at,limit:ot},Lt="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(A,"/vaults/").concat(f,"/verifiedApy/daily");return(0,i.WY)(Lt,{params:Ct})},Dt=function(A,f,Q){var at=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{limit:30},ot="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(A,"/vaults/").concat(f,"/data_collects/types/").concat(Q);return request(ot,{params:at})},Jt=function(A){return(0,i.WY)("".concat("https://service-pr02-sg.bankofchain.io","/verifiedApy/riskon"),{params:(0,c.Z)({offset:0,limit:30,sort:"schedule_timestamp asc"},A)})},B=function(A){return(0,i.WY)("".concat("https://service-pr02-sg.bankofchain.io","/officialApy/riskon"),{params:(0,c.Z)({offset:0,limit:30,sort:"fetch_time asc"},A)})},zt=function(A){return(0,i.WY)("".concat("https://service-pr02-sg.bankofchain.io","/riskon/getSampleApy"),{params:A})},o=function(A,f){var Q={type:f};return(0,i.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(A,"/data_collects/profit"),{params:Q})}},652:function(pt,Y,e){"use strict";e.d(Y,{Y:function(){return i}});var v=e(18446),c=e.n(v),i=function(ut){return c()(ut,"pr-sg")||c()(ut,"pr02-sg")}},62904:function(pt,Y,e){"use strict";e.d(Y,{u:function(){return Zt}});var v=e(39428),c=e(34792),i=e(55026),Z=e(3182),ut=e(13311),K=e.n(ut),xt=e(41609),I=e.n(xt),D=e(89850),gt=e(50999),Zt=function(){var O=(0,Z.Z)((0,v.Z)().mark(function W(vt,H,Et){var Tt,dt,N,t,jt,Ut,Dt=arguments;return(0,v.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(Tt=Dt.length>3&&Dt[3]!==void 0?Dt[3]:{},dt=Tt.resolveWhenUnsupport,N=K()(D.ZP,{id:vt}),!I()(N)){B.next=5;break}return B.abrupt("return");case 5:if(H){B.next=7;break}return B.abrupt("return");case 7:if(t=[gt.m.MetaMask.info.symbol],t.includes(Et)){B.next=13;break}if(!dt){B.next=11;break}return B.abrupt("return");case 11:return i.default.warning("Switch networks in your wallet, then reconnect"),B.abrupt("return",Promise.reject());case 13:return jt=[{chainId:"0x".concat(Number(N.id).toString(16)),chainName:N.name,nativeCurrency:N.nativeCurrency,rpcUrls:[N.rpcUrl],blockExplorerUrls:[N.blockExplorer]}],B.prev=14,B.next=17,H.send("wallet_switchEthereumChain",[{chainId:jt[0].chainId}]);case 17:Ut=B.sent,B.next=33;break;case 20:if(B.prev=20,B.t0=B.catch(14),B.t0.code!==4001){B.next=24;break}return B.abrupt("return",Promise.reject());case 24:return B.prev=24,B.next=27,H.send("wallet_addEthereumChain",jt);case 27:Ut=B.sent,B.next=33;break;case 30:return B.prev=30,B.t1=B.catch(24),B.abrupt("return",Promise.reject());case 33:Ut&&console.log(Ut);case 34:case"end":return B.stop()}},W,null,[[14,20],[24,30]])}));return function(vt,H,Et){return O.apply(this,arguments)}}()},9292:function(pt,Y,e){"use strict";e.d(Y,{FH:function(){return K},Wl:function(){return I},Ik:function(){return D},Ay:function(){return gt}});var v=e(905),c=e(96486),i=e.n(c),Z=e(41609),ut=e.n(Z),K=function(O){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!(0,c.isNil)(O)){if((0,c.isNull)(W))return O.toString();var vt=(0,v.Z)(W.toString());if(ut()(O)||vt.isZero())return 0;var H=(0,v.Z)(O.toString()).div(vt);if(H.isInteger())return H.toFixed();for(var Et=arguments.length,Tt=new Array(Et>2?Et-2:0),dt=2;dt<Et;dt++)Tt[dt-2]=arguments[dt];return H.toFixed.apply(H,Tt)}},xt=2,I=function(O,W){var vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xt,H=(0,v.Z)(O.toString()),Et=(0,v.Z)(10).pow(W),Tt=W>6&&!H.eq(0)&&H.abs().lt((0,v.Z)(10).pow(W-vt+1)),dt;return Tt?(dt=K(H,Et,W-H.abs().toString().length+1),dt):(dt=K(H,Et,vt),parseFloat(dt))},D=function(O){var W=parseFloat(O);return isNaN(W)?O:W<=1e3?W:"1000+"},gt=function(O){var W=parseFloat(O);return isNaN(W)?O:W<=1e3?W:1e3}}}]);
