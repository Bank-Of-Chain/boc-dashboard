(self.webpackChunkboc_dashboard=self.webpackChunkboc_dashboard||[]).push([[364,571],{6371:function(yt){yt.exports={container:"container___3FHkQ"}},69255:function(yt){yt.exports={chartCard:"chartCard___1WAYR",title:"title___1qSNX",chartTop:"chartTop___fyf1y",chartTopMargin:"chartTopMargin___35U93",chartTopHasMargin:"chartTopHasMargin___3PZ2W",metaWrap:"metaWrap___1o2cx",avatar:"avatar___3W_MV",meta:"meta___BxwkJ",action:"action___2rX_t",total:"total___13buZ",unit:"unit___3h93V",content:"content___1u1VV",contentFixed:"contentFixed___8g0La",footer:"footer___1DC6W",card:"card___3ClYk"}},18973:function(yt){yt.exports={main:"main___E0u3n",text:"text___1bwgD"}},3691:function(yt){yt.exports={container:"container___1YjeH"}},90958:function(yt){yt.exports={salesCard:"salesCard___29v2i",salesBar:"salesBar___yX0jY",salesRank:"salesRank___3emXv",salesCardExtra:"salesCardExtra___1zn45",vaultKeyCard:"vaultKeyCard___3fhgC",tabMobile:"tabMobile___OIzik",chartDiv:"chartDiv___35wVQ",chartDivMobile:"chartDivMobile___3S_E5",tableCell:"tableCell___28uXK",text:"text___2ww9t",trendText:"trendText___22_c0",chartWrapper:"chartWrapper___3eEAM",buttons:"buttons___1vScW",field:"field___1vkrW",label:"label___3KSeF",number:"number___3Vb_1",history:"history___1YR66"}},91907:function(yt,Q,e){"use strict";var u=e(30887),l=e(28682),h=e(67294),z=e(65367),X=e(89850),rt=e(53651),U=e(35161),y=e.n(U),E=e(63105),gt=e.n(E),Mt=e(62904),I=e(43077),V=e(6371),ut=e.n(V),W=e(85893),Dt=y()(gt()(X.ZP,function(st){return!(rt.ux&&st.id==="137")}),function(st){return{label:st.name,value:st.id}}),Tt=function(N){var t=N.chains,Ut=t===void 0?Dt:t,Ot=N.shouldChangeChain;if(Ut.length<=1)return null;var xt=(0,z.tT)("@@initialState"),zt=xt.initialState,k=(0,I.Z)(),Qt=k.userProvider,a=k.getWalletName,p=function(it){var et=it.key,Pt=z.m8.location.query.vault,It=Promise.resolve();Ot&&(It=(0,Mt.u)(et,Qt,a(),{resolveWhenUnsupport:!0})),It.then(function(){z.m8.push({query:{chain:et,vault:Pt}}),setTimeout(function(){location.reload()},100)})},H={borderBottom:"none",justifyContent:"center",backgroundColor:"transparent"};return(0,W.jsx)("div",{className:ut().container,children:(0,W.jsx)(l.Z,{mode:"horizontal",style:H,items:Ut,selectedKeys:[zt.chain],onClick:p})})};Q.Z=Tt},69157:function(yt,Q,e){"use strict";var u=e(12968),l=e(62462),h=e(67294),z=e(47037),X=e.n(z),rt=e(96486),U=e.n(rt),y=e(35161),E=e.n(y),gt=e(85893),Mt="".concat("https://v2.bankofchain.io","/default.png"),I=function(ut){var W=ut.array,Dt=W===void 0?[]:W,Tt=ut.size,st=Tt===void 0?24:Tt,N=function(Ut,Ot){return(0,gt.jsx)(l.Z,{title:Ut,preview:!1,width:st,style:{borderRadius:"50%"},wrapperStyle:{marginLeft:Ot===0?0:-10,zIndex:Dt.length-Ot},src:"".concat("https://v2.bankofchain.io","/images/").concat(Ut,".png"),fallback:Mt},"".concat(Ut+Ot))};return X()(Dt)?N(Dt,0):(0,rt.isArray)(Dt)?(0,gt.jsx)("div",{children:E()(Dt,function(t,Ut){return N(t,Ut)})}):(0,gt.jsx)("span",{})};Q.Z=I},93083:function(yt,Q,e){"use strict";e.d(Q,{hU:function(){return gt},me:function(){return E}});var u=e(45697),l=e.n(u),h=e(1852),z=e.n(h),X=function(I){var V=I.children,ut=(0,h.useMediaQuery)({minWidth:992});return ut?V:null};X.propTypes={children:l().element};var rt=function(I){var V=I.children,ut=(0,h.useMediaQuery)({minWidth:768,maxWidth:991});return ut?V:null};rt.propTypes={children:l().element};var U=function(I){var V=I.children,ut=(0,h.useMediaQuery)({maxWidth:767});return ut?V:null};U.propTypes={children:l().element};var y=function(I){var V=I.children,ut=(0,h.useMediaQuery)({minWidth:768});return ut?V:null};y.propTypes={children:l().element};var E={Desktop:"Desktop",Tablet:"Tablet",Mobile:"Mobile"},gt=function(){var I=(0,h.useMediaQuery)({minWidth:992}),V=(0,h.useMediaQuery)({minWidth:768,maxWidth:991});return I?E.Desktop:V?E.Tablet:E.Mobile}},98821:function(yt,Q,e){"use strict";e.d(Q,{$c:function(){return U}});var u=e(20228),l=e(11382),h=e(67294),z=e(40684),X=e(85893),rt=(0,X.jsx)(l.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:20,fontSize:14},tip:"Loading...."}),U=(0,z.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(462),e.e(272)]).then(e.bind(e,56272))},{fallback:rt}),y=(0,z.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(693),e.e(42)]).then(e.bind(e,59042))},{fallback:rt}),E=(0,z.ZP)(function(){return Promise.all([e.e(80),e.e(274),e.e(417)]).then(e.bind(e,48417))},{fallback:rt})},42411:function(yt,Q,e){"use strict";e.d(Q,{Z:function(){return Ot}});var u=e(11849),l=e(30381),h=e.n(l),z=e(41609),X=e.n(z),rt=e(76492),U="52px";function y(xt){var zt=!X()(xt.seriesData)&&xt.dataZoom,k={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:zt?U:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{type:"category",data:xt.xAxisData},yAxis:{type:"value"},dataZoom:zt?xt.dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:xt.seriesName?xt.seriesName:"",data:xt.seriesData,type:"line",lineStyle:{color:xt.color?xt.color:{type:"linear",colorStops:[{offset:0,color:"rgb(204, 186, 250)"},{offset:.5,color:"rgb(144, 123, 247)"},{offset:.6,color:"rgb(95, 128, 249)"},{offset:.95,color:"rgb(80, 132, 250)"},{offset:1,color:"rgb(166, 192, 252)"}]},width:3},smooth:xt.smooth,step:xt.step}]};return(0,u.Z)((0,u.Z)({},(0,rt.s)(xt.seriesData.length>0)),k)}var E=e(84486),gt=e.n(E),Mt=e(7654),I=e.n(Mt),V=e(52353),ut=e.n(V),W=e(14293),Dt=e.n(W),Tt=e(63105),st=e.n(Tt),N=e(84238),t=e.n(N),Ut=function(zt,k,Qt){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},p=a.format,H=p===void 0?"MM-DD HH:mm":p,C=a.xAxis,it=a.yAxis,et=a.smooth,Pt=et===void 0?!1:et,It=a.step,wt=a.dataZoom,Ft=a.needMinMax,St=Ft===void 0?!0:Ft,de=a.yAxisMin,ce=de===void 0?function(Bt){return parseInt(Bt.min*.9999*Math.pow(10,4))/Math.pow(10,4)}:de,Ue=a.yAxisMax,Se=Ue===void 0?function(Bt){return parseInt(Bt.max*1.0001*Math.pow(10,4))/Math.pow(10,4)}:Ue,qt=a.tootlTipSuffix,F=qt===void 0?"(UTC)":qt,Te=a.tootlTipFormat,xe=Te===void 0?"YYYY-MM-DD HH:mm":Te,Ae=[],be=[],se={};zt.forEach(function(Bt){var $=h()(Bt.date).add(1,"days").format(xe);F&&($="".concat($," ").concat(F)),se[$]=h()(Bt.date).add(1,"days").format(H),Ae.push($),be.push(Bt[k])});var $t=y({xAxisData:Ae,seriesName:Qt,seriesData:be,smooth:Pt,dataZoom:wt});if($t.yAxis=(0,u.Z)((0,u.Z)({},$t.yAxis),it),$t.xAxis=(0,u.Z)((0,u.Z)({axisLabel:{formatter:function($){return se[$]}}},$t.xAxis),C),$t.yAxis.splitLine={lineStyle:{color:"#454459"}},St&&($t.yAxis.min=ce,$t.yAxis.max=Se),$t.series[0].connectNulls=!0,$t.series[0].showSymbol=t()(st()(be,function(Bt){return!Dt()(Bt)}))===1,$t.series[0].lineStyle={width:5,cap:"round"},It){var pe=$t.series[0].data;gt()(pe,function(Bt,$){(ut()(Bt)||I()(Bt))&&$!==0&&(pe[$]=pe[$-1])})}return $t},Ot=Ut},10501:function(yt,Q,e){"use strict";e.d(Q,{Z:function(){return h}});var u=e(11849),l=e(76492);function h(z){var X=[],rt=0,U=[];U=z.data,U.length>0&&U.forEach(function(E){var gt=(0,u.Z)({name:E.seriesName?E.seriesName:"",data:E.seriesData,type:"line",showSymbol:E.showSymbol,lineStyle:{width:5,cap:"round"}},E);rt+=E.seriesData.length,X.push(gt)});var y={animation:!1,textStyle:{color:"#fff"},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"},confine:!0},legend:z.legend,xAxis:{type:"category",data:z.xAxisData},yAxis:{type:"value"},series:X};return z.tooltipFormatter&&(y.tooltip.formatter=z.tooltipFormatter),(0,u.Z)((0,u.Z)({},(0,l.s)(rt>0)),y)}},76492:function(yt,Q,e){"use strict";e.d(Q,{s:function(){return u}});function u(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return l?{}:{graphic:{type:"text",left:"center",top:"middle",silent:!0,invisible:!1,style:{fill:"#9d9d9d",fontWeight:"bold",text:"No Data",fontSize:"25px"}}}}},22844:function(yt,Q,e){"use strict";e.d(Q,{O2:function(){return l},DO:function(){return h},Nd:function(){return z},A7:function(){return X}});var u=e(905),l={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},h=18,z=(0,u.Z)(1e18),X=4},53651:function(yt,Q,e){"use strict";e.d(Q,{Gj:function(){return u},KR:function(){return l},ux:function(){return h}});var u={daily:"daily",monthly:"monthly",weekly:"weekly",yearly:"yearly"},l={usdi:"USDi",ethi:"ETHi"},h=!1},55414:function(yt,Q,e){"use strict";e.d(Q,{o1:function(){return z},tX:function(){return X}});var u=["Balancer","UniswapV2","Dodo","Sushi_Kashi","Sushi_Swap","Convex","Rari","UniswapV3","YearnEarn","YearnV2","YearnIron","GUni","Stargate","DForce","Synapse","Aura","Aave"],l=["Curve","Aave","Balancer","Gravity","Polycat","Qi","Quickswap","Sushi","Synapse","Dodo","Stargate","UniswapV3"],h=["Balancer","UniswapV2","Convex","Aura","UniswapV3","StakeWise","YearnV2","Aave"],z={1:u,137:l},X={1:h}},7594:function(yt,Q,e){"use strict";e.r(Q);var u=e(57106),l=e(99683),h=e(57663),z=e(71577),X=e(67294),rt=e(65367),U=e(85893),y=function(){return(0,U.jsx)(l.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:(0,U.jsx)(z.Z,{type:"primary",onClick:function(){return rt.m8.push("/")},children:"Back Home"})})};Q.default=y},38465:function(yt,Q,e){"use strict";e.r(Q),e.d(Q,{default:function(){return pn}});var u=e(32059),l=e(67294),h=e(65367),z=e(13062),X=e(36725),rt=e(89032),U=e(1635),y=e(11849),E=e(2824),gt=e(21349),Mt=e(22385),I=e(45777),V=e(93224),ut=e(58024),W=e(91894),Dt=e(94184),Tt=e.n(Dt),st=e(69255),N=e.n(st),t=e(85893),Ut=["loading"],Ot=["contentHeight","title","avatar","action","total","footer","children"],xt=function(n,s){if(!n&&n!==0)return null;var i;switch(typeof n){case"undefined":i=null;break;case"function":i=(0,t.jsxs)("div",{className:N().total,children:[(0,t.jsx)("span",{children:n()}),s&&(0,t.jsx)("span",{className:N().unit,children:s})]});break;default:i=(0,t.jsxs)("div",{className:N().total,children:[(0,t.jsx)("span",{children:n}),s&&(0,t.jsx)("span",{className:N().unit,children:s})]})}return i},zt=function(n){var s=n.loading,i=s===void 0?!1:s,d=(0,V.Z)(n,Ut),m=d.contentHeight,v=d.title,g=d.avatar,T=d.action,x=d.total,b=d.footer,D=d.children,M=(0,V.Z)(d,Ot),nt=function(){return i?!1:(0,t.jsxs)("div",{className:N().chartCard,children:[(0,t.jsxs)("div",{className:Tt()(N().chartTop),children:[(0,t.jsx)("div",{className:N().avatar,children:g}),(0,t.jsxs)("div",{className:N().metaWrap,children:[(0,t.jsxs)("div",{className:N().meta,children:[(0,t.jsx)("span",{className:N().title,children:v}),(0,t.jsx)("span",{className:N().action,children:T})]}),xt(x,n.unit)]})]}),D&&(0,t.jsx)("div",{className:N().content,style:{height:m||"auto"},children:(0,t.jsx)("div",{className:m&&N().contentFixed,children:D})}),b&&(0,t.jsx)("div",{className:Tt()(N().footer,(0,u.Z)({},N().footerMargin,!D)),children:b})]})};return(0,t.jsx)(W.Z,(0,y.Z)((0,y.Z)({loading:i,className:N().card},M),{},{children:nt()}))},k=zt,Qt=e(68628),a=e(96486),p=e(25091),H=e(90958),C=e.n(H),it=["label","value"],et={xs:24,sm:24,md:24,lg:8,xl:8},Pt=function(n){var s=n.label,i=n.value,d=(0,V.Z)(n,it);return(0,t.jsxs)("div",(0,y.Z)((0,y.Z)({className:C().field},d),{},{children:[(0,t.jsx)("span",{className:C().label,children:s}),(0,t.jsx)("span",{className:C().number,children:i})]}))},It=function(n){var s=n.data,i=s===void 0?[]:s;return(0,t.jsx)(X.Z,{gutter:[24,24],children:(0,a.map)(i,function(d){var m=d.title,v=d.tip,g=d.loading,T=d.content,x=d.unit,b=d.subTitle,D=(0,t.jsx)(Pt,{style:{height:"1.5rem"},value:b});return!b&&(0,p.tq)()&&(D=null),(0,t.jsx)(U.Z,(0,y.Z)((0,y.Z)({},et),{},{children:(0,t.jsx)(k,{bordered:!1,title:m,action:(0,t.jsx)(I.Z,{title:v,children:(0,t.jsx)(Qt.Z,{style:{fontSize:22}})}),loading:g,total:T,unit:x,footer:D})}),m)})})},wt=It,Ft=e(88983),St=e(82530),de=e(43358),ce=e(76647),Ue=e(18106),Se=e(47428),qt=e(98821),F=e(93083),Te=Se.Z.TabPane,xe=ce.Z.Option;function Ae(Z){var n,s=Z.isUsdi,i=Z.loading,d=i===void 0?!1:i,m=Z.calDateRange,v=m===void 0?7:m,g=Z.onCalDateRangeClick,T=g===void 0?function(){}:g,x=Z.apyEchartOpt,b=x===void 0?{}:x,D=Z.tvlEchartOpt,M=D===void 0?{}:D,nt=(0,F.hU)(),A=(n={},(0,u.Z)(n,F.me.Desktop,{chartWrapperClassName:C().chartDiv}),(0,u.Z)(n,F.me.Tablet,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:C().chartDivMobile}),(0,u.Z)(n,F.me.Mobile,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:C().chartDivMobile,tabClassName:C().tabMobile}),n)[nt],ft=function(_){typeof _=="number"?T(_):T(_.target.value)},dt=(0,t.jsx)("div",{className:C().buttons,children:(0,t.jsxs)(St.ZP.Group,{value:v,onChange:ft,children:[(0,t.jsx)(I.Z,{title:"last 7 days",children:(0,t.jsx)(St.ZP.Button,{value:7,children:"WEEK"})}),(0,t.jsx)(I.Z,{title:"last 30 days",children:(0,t.jsx)(St.ZP.Button,{value:31,children:"MONTH"})}),(0,t.jsx)(I.Z,{title:"last 365 days",children:(0,t.jsx)(St.ZP.Button,{value:365,children:"YEAR"})})]})});return nt===F.me.Mobile&&(dt=(0,t.jsxs)(ce.Z,{style:{width:120},value:v,onChange:ft,children:[(0,t.jsx)(xe,{value:7,children:"WEEK"}),(0,t.jsx)(xe,{value:31,children:"MONTH"}),(0,t.jsx)(xe,{value:365,children:"YEAR"})]})),(0,t.jsx)(W.Z,(0,y.Z)((0,y.Z)({loading:d,bordered:!1,style:{marginTop:40}},A.cardProps),{},{children:(0,t.jsx)("div",{className:C().vaultKeyCard,children:(0,t.jsxs)(Se.Z,{animated:!0,className:Tt()(A.tabClassName),tabBarExtraContent:dt,children:[(0,t.jsx)(Te,{tab:"APY (%)",children:(0,t.jsx)("div",{className:A.chartWrapperClassName,children:(0,t.jsx)(qt.$c,{option:b,style:{height:"100%",width:"100%"}})})},"apy"),(0,t.jsx)(Te,{tab:"Total Supply",children:(0,t.jsx)("div",{className:A.chartWrapperClassName,children:(0,t.jsx)(qt.$c,{option:M,style:{height:"100%",width:"100%"}})})},"totalSupply")]})})}))}var be=e(96222),se=e(22533),$t=e(12968),pe=e(62462),Bt=e(86582),$=e(905),P=e(9292),na=function(n){var s,i=n.tokenDecimals,d=n.displayDecimals,m=n.strategyMap,v=n.visitData,g=v===void 0?{}:v,T=n.unit,x=(0,h.tT)("@@initialState"),b=x.initialState,D=(0,F.hU)();if(!b.chain)return null;var M=g.strategies,nt=M===void 0?[]:M,A=g.totalValueInVault,ft=A===void 0?"0":A,dt=(0,a.reduce)(nt,function(c,o){return c.plus(o.totalValue)},(0,$.Z)(0)),lt=(0,$.Z)(ft).plus(dt),_=(0,a.groupBy)((0,a.filter)(nt,function(c){return c.totalValue>0}),"protocol"),at=[].concat((0,Bt.Z)((0,a.values)((0,a.mapValues)(_,function(c,o){var r=(0,a.reduce)(c,function(B,S){return B.plus(S.totalValue)},(0,$.Z)(0));return{name:m[b.chain][o],amount:r,percent:r.div(lt)}}))),[{name:"Vault",amount:(0,$.Z)(ft),percent:lt.eq(0)?"0":(0,$.Z)(ft).div(lt)}]),K=[{title:"Protocol Name",dataIndex:"name",key:"name",render:function(o){return(0,t.jsxs)("div",{className:C().tableCell,children:[(0,t.jsx)(pe.Z,{width:30,preview:!1,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(o,".png"),placeholder:o,alt:o,style:{borderRadius:"50%"},fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("span",{className:C().text,children:o})]})}},{title:"Asset (".concat(T,")"),dataIndex:"amount",key:"amount",showSorterTooltip:!1,sorter:function(o,r){return o.amount.minus(r.amount)},render:function(o){return(0,P.FH)(o.toString(),i,d)}},{title:"Asset Ratio",dataIndex:"percent",key:"percent",defaultSortOrder:"descend",showSorterTooltip:!1,sorter:function(o,r){return o.percent.minus(r.percent)},render:function(o){return(0,t.jsxs)("span",{children:[(0,P.FH)(o,.01,2),"%"]})}}],ot=(s={},(0,u.Z)(s,F.me.Desktop,{}),(0,u.Z)(s,F.me.Tablet,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),(0,u.Z)(s,F.me.Mobile,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),s)[D];return(0,t.jsx)("div",{children:(0,t.jsx)(se.Z,(0,y.Z)({rowKey:function(o){return o.name},columns:K,dataSource:at,pagination:!1},ot.tableProps))})},ia=na,vn=e(13254),ra=e(14277),sa=e(88377),la=e(92077),bt=e.n(la),oa=function(n){var s,i=n.strategyMap,d=n.tokenDecimals,m=n.displayDecimals,v=n.visitData,g=v===void 0?{}:v,T=n.unit,x=g.strategies,b=x===void 0?[]:x,D=g.totalValueInVault,M=D===void 0?"0":D,nt=(0,h.tT)("@@initialState"),A=nt.initialState,ft=(0,F.hU)(),dt=" (".concat(T,")");if(!A.chain)return null;var lt=(0,a.reduce)(b,function(o,r){return o.plus(r.totalValue)},(0,$.Z)(0)),_=(0,$.Z)(M).plus(lt),at=(0,a.groupBy)((0,a.filter)(b,function(o){return o.totalValue>0}),"protocol"),K=(0,P.FH)(_,d,m);if((0,a.isEmpty)(at)&&K<=0||isNaN(K))return(0,t.jsx)(ra.Z,{style:{marginTop:"4rem"}});var ot=[].concat((0,Bt.Z)((0,a.values)((0,a.mapValues)(at,function(o,r){var B=(0,a.reduce)(o,function(S,j){return S.plus(j.totalValue)},(0,$.Z)(0));return{Protocol:"".concat(i[A.chain][r]).concat(dt),amount:(0,P.FH)(B,d,m)}}))),[{Protocol:"Vault".concat(dt),amount:(0,P.FH)(M,d,m)}]),c=(s={},(0,u.Z)(s,F.me.Desktop,{legendProps:{position:"bottom-center"}}),(0,u.Z)(s,F.me.Tablet,{legendProps:{position:"bottom-center"}}),(0,u.Z)(s,F.me.Mobile,{legendProps:{position:"bottom-center"}}),s)[ft];return(0,t.jsx)("div",{className:C().chartWrapper,children:(0,t.jsx)(sa.yi,{forceFit:!0,padding:"auto",angleField:"amount",color:["#A68EFE","#2ec7c9","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4"],colorField:"Protocol",data:ot,legend:(0,y.Z)({visible:!0,text:{style:{fill:"#fff"},formatter:function(r){return r.replace(dt,"")}}},c.legendProps),label:{visible:!1,type:"spider",offset:20,formatter:function(r,B){return"".concat(B._origin.Protocol,": ").concat(B._origin.amount)}},interactions:[{type:"element-selected"},{type:"element-active"}],statistic:{visible:!0,content:{value:bt()((0,P.FH)(_,d,m)).format("0.[0000]a"),name:"TVL".concat(dt)}}})})},ua=oa,Rt=e(1123);function Ve(Z){var n,s=Z.loading,i=s===void 0?!1:s,d=Z.tokenDecimals,m=Z.strategyMap,v=m===void 0?{}:m,g=Z.vaultData,T=g===void 0?{}:g,x=Z.unit,b=x===void 0?"USD":x,D=Z.displayDecimals,M=D===void 0?Rt.h:D,nt=(0,F.hU)(),A=(n={},(0,u.Z)(n,F.me.Desktop,{}),(0,u.Z)(n,F.me.Tablet,{cardProps:{size:"small"}}),(0,u.Z)(n,F.me.Mobile,{cardProps:{size:"small"}}),n)[nt];return(0,t.jsx)(W.Z,(0,y.Z)((0,y.Z)({loading:i,className:C().salesCard,bordered:!1,title:"Vault Protocol Allocations",style:{height:"100%",marginTop:40}},A.cardProps),{},{children:(0,t.jsxs)(X.Z,{children:[(0,t.jsx)(U.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(ua,{loading:i,strategyMap:v,tokenDecimals:d,displayDecimals:M,visitData:T||{},unit:b})})}),(0,t.jsx)(U.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(ia,{loading:i,strategyMap:v,tokenDecimals:d,displayDecimals:M,visitData:T||{},unit:b})})})]})}))}var mn=e(77576),da=e(12028),yn=e(54029),ca=e(79166),pa=e(69157),va=e(26985),Lt=e(860),ma=function(n){var s,i=n.loading,d=n.strategyMap,m=n.displayDecimals,v=m===void 0?Rt.h:m,g=n.unit,T=g===void 0?"USD":g,x=(0,l.useState)(!0),b=(0,E.Z)(x,2),D=b[0],M=b[1],nt=(0,h.tT)("@@initialState"),A=nt.initialState,ft=(0,F.hU)(),dt=(0,h.QT)(function(){return(0,Lt.mB)(A.chain,A.vaultAddress,0,100)},{formatResult:function(r){return(0,a.sortBy)(r.content,["strategyName"])}}),lt=dt.data;if(!A.chain)return null;var _=(0,$.Z)(1e18),at=[{title:(0,t.jsxs)("div",{children:["Name\xA0\xA0",(0,t.jsx)(I.Z,{placement:"topLeft",arrowPointAtCenter:!0,overlayStyle:{width:300},title:"By clicking on the strategy name you will be directed to the strategy page with all the related information viewable, e.g., strategy profits and official APY.",children:(0,t.jsx)(Qt.Z,{})})]}),dataIndex:"strategyName",key:"strategyName",width:320,render:function(r,B){return(0,t.jsxs)("div",{className:C().tableCell,children:[(0,t.jsx)(pe.Z,{preview:!1,width:30,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(d[A.chain][B.protocol],".png"),placeholder:B.protocol,style:{borderRadius:"50%"},alt:d[A.chain][B.protocol],fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat((0,va.i)()?"https://dashboard.bankofchain.io":"https://dashboard-v2.bankofchain.io","/#/strategy?id=").concat(B.strategyAddress,"&chain=").concat(A.chain,"&vault=").concat(A.vault),className:C().text,children:r})]})}},{title:"Tokens",dataIndex:"underlyingTokens",key:"underlyingTokens",width:130,render:function(r){return!(0,a.isEmpty)(r)&&(0,t.jsx)(pa.Z,{array:r.split(",")})}},{title:"Asset (".concat(T,")"),dataIndex:"totalAssetBaseCurrent",key:"totalAssetBaseCurrent",showSorterTooltip:!1,defaultSortOrder:"descend",sorter:function(r,B){return(0,$.Z)(r.totalAssetBaseCurrent||"0").minus((0,$.Z)(B.totalAssetBaseCurrent||"0"))},render:function(r){return(0,t.jsx)("span",{children:(0,P.FH)(r||"0",_,v)})}},{title:"Weekly Official APY",dataIndex:"officialWeeklyApy",key:"officialWeeklyApy",showSorterTooltip:!1,sorter:function(r,B){return r.officialWeeklyApy-B.officialWeeklyApy},render:function(r){return(0,t.jsxs)("span",{children:[(0,P.Ik)((100*r).toFixed(2)),"%"]})}},{title:"Weekly Realized APY",dataIndex:"realizedApy",key:"realizedApy",showSorterTooltip:!1,sorter:function(r,B){var S=r.realizedApy||{value:"0"},j=S.value,G=B.realizedApy||{value:"0"},Y=G.value;return j-Y},render:function(r){if((0,a.isEmpty)(r))return(0,t.jsx)("span",{children:"0.00%"});var B=r.value,S=r.detail,j=(0,t.jsxs)("span",{children:[(0,P.Ik)((100*B).toFixed(2)),"%"]});if((0,a.isEmpty)(S))return j;var G=(0,t.jsx)("div",{children:(0,a.map)(S,function(Y,O){return(0,t.jsxs)("span",{style:{display:"block"},children:[Y.feeName,": ",(0,P.Ik)((100*Y.feeApy).toFixed(2)),"%"]},O)})});return(0,t.jsxs)("span",{children:[j,"\xA0",(0,t.jsx)(I.Z,{title:G,children:(0,t.jsx)(Qt.Z,{})})]})}},{title:"Weekly Unrealized APY",dataIndex:"unrealizedApy",key:"unrealizedApy",showSorterTooltip:!1,sorter:function(r,B){var S=r.unrealizedApy||{value:"0"},j=S.value,G=B.unrealizedApy||{value:"0"},Y=G.value;return j-Y},render:function(r){if((0,a.isEmpty)(r))return(0,t.jsx)("span",{children:"0.00%"});var B=r.value,S=r.detail,j=(0,t.jsxs)("span",{children:[(0,P.Ik)((100*B).toFixed(2)),"%"]});if((0,a.isEmpty)(S))return j;var G=(0,t.jsx)("div",{children:(0,a.map)(S,function(Y,O){return(0,t.jsxs)("span",{style:{display:"block"},children:[Y.feeName,": ",(0,P.Ik)((100*Y.feeApy).toFixed(2)),"%"]},O)})});return(0,t.jsxs)("span",{children:[j,"\xA0",(0,t.jsx)(I.Z,{title:G,children:(0,t.jsx)(Qt.Z,{})})]})}},{title:"Weekly Realized Profit",dataIndex:"weekProfit",key:"weekProfit",render:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1?arguments[1]:void 0,S=B.estimateProfit,j=B.tokenUnit,G=j===void 0?"":j,Y=(0,a.isNil)(S),O=(0,t.jsx)(ca.Z,{dot:!Y,color:"gold",children:(0,t.jsxs)("span",{children:[(0,P.FH)(r||"0",_,v)," ",G||""]})});if(Y)return O;var L=(0,t.jsxs)("span",{children:["Estimate Profit: ",(0,P.FH)(S,_,v)," ",G||""]});return(0,t.jsx)(I.Z,{title:L,children:O})}},{title:"Strategy Address",dataIndex:"strategyAddress",key:"strategyAddress",align:"center",render:function(r,B){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[A.chain],"/address/").concat(B.strategyAddress),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}],K=D?lt:(0,a.filter)(lt,function(o){return(0,$.Z)(o.totalAsset).gt(0)}),ot=(s={},(0,u.Z)(s,F.me.Desktop,{}),(0,u.Z)(s,F.me.Tablet,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}}),(0,u.Z)(s,F.me.Mobile,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"mobile-font-size",scroll:{x:900}}}),s)[ft],c="Vault Strategies Allocations";return ft===F.me.Mobile&&(c="Strategies Allocations"),(0,t.jsx)("div",{children:(0,t.jsx)(W.Z,(0,y.Z)((0,y.Z)({loading:i,bordered:!1,title:c,extra:(0,t.jsxs)("div",{children:[(0,t.jsx)(da.Z,{checked:D,onChange:function(){return M(!D)}}),(0,t.jsx)(I.Z,{title:"show all strategies added in vault",children:(0,t.jsx)("span",{style:{padding:10},children:"Show All"})})]}),style:{height:"100%",marginTop:40}},ot.cardProps),{},{children:(0,t.jsx)(se.Z,(0,y.Z)({rowKey:function(r){return r.strategyAddress},columns:at,dataSource:K,pagination:(K==null?void 0:K.length)>10&&{style:{marginBottom:0},pageSize:10}},ot.tableProps))}))})},Ne=ma,ya=e(30381),ne=e.n(ya),fa=e(35161),le=e.n(fa),ha=e(39693),ga=e.n(ha),Nt=e(39428),oe=e(3182),Ie=e(25630),je=e(94991),ve=e(89850),Ce,_e={SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethereum","137":""},VAULT_ADDRESS:{"1":"0x30D120f80D60E7b58CA9fFaf1aaB1815f000B7c3","137":""},USDI_ADDRESS:{"1":"0x83131242843257bc6C43771762ba467346Efb2CF","137":""},VAULT_BUFFER_ADDRESS:{"1":"0x0b8D3634a05cc6b50E4D026c0eaFa8469cA98480","137":""}}.SUB_GRAPH_URL,Ta=(Ce={},(0,u.Z)(Ce,ve.W3.id,new Ie.f({uri:_e[ve.W3.id],cache:new je.h})),(0,u.Z)(Ce,ve.hB.id,new Ie.f({uri:_e[ve.hB.id],cache:new je.h})),Ce),xa=(0,u.Z)({},ve.hB.id,new Ie.f({uri:{SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethi"},VAULT_ADDRESS:{"1":"0x8f0Cb368C63fbEDF7a90E43fE50F7eb8B9411746"},ETHI_ADDRESS:{"1":"0x1A597356E7064D4401110FAa2242bD0B51D1E4Fa"},VAULT_BUFFER_ADDRESS:{"1":"0xC8915157b36ed6D0F36827a1Bb5E9b0cDd1e87Cd"}}.SUB_GRAPH_URL[ve.hB.id],cache:new je.h})),We=function(n,s){var i,d=(i={},(0,u.Z)(i,Rt._.USDi,Ta),(0,u.Z)(i,Rt._.ETHi,xa),i)[n];return d[s]},He=e(87899),Aa=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalValueInVault
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      totalValue
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Ea=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      debtRecordInVault
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Da=function(){var Z=(0,oe.Z)((0,Nt.Z)().mark(function n(s,i){var d,m,v,g,T,x,b,D,M=arguments;return(0,Nt.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(m=M.length>2&&M[2]!==void 0?M[2]:"",v=M.length>3&&M[3]!==void 0?M[3]:"",g=M.length>4&&M[4]!==void 0?M[4]:"",T=We(s,i),!(0,a.isEmpty)(T)){A.next=6;break}return A.abrupt("return");case 6:return x=(d={},(0,u.Z)(d,Rt._.USDi,Aa),(0,u.Z)(d,Rt._.ETHi,Ea),d)[s],A.next=9,T.query({query:(0,He.Ps)(x),variables:{tokenAddress:m.toLowerCase(),valutAddress:v.toLowerCase(),vaultBufferAddress:g.toLowerCase()}});case 9:return b=A.sent,D=b.data,A.abrupt("return",D);case 12:case"end":return A.stop()}},n)}));return function(s,i){return Z.apply(this,arguments)}}(),we=function(){return`
query($types: [PegTokenUpdateType], $first: Int) {
  pegTokenUpdates(
    orderBy: timestamp,
    orderDirection: desc,
    first: $first,
    where: {
      type_in: $types
    },
  ) {
    id
    type
    transferredAmount
    totalSupplyChangeAmount
    timestamp
    fromAccountUpdate {
      account {
        id
      }
    }
    transaction {
      id
    }
		toAccountUpdate {
      account {
        id
      }
    }
  }
}
`},Sa=function(){var Z=(0,oe.Z)((0,Nt.Z)().mark(function n(s,i,d){var m,v,g,T,x=arguments;return(0,Nt.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(v=x.length>3&&x[3]!==void 0?x[3]:100,g=We(s,i),!(0,a.isEmpty)(g)){D.next=4;break}return D.abrupt("return");case 4:return T=(m={},(0,u.Z)(m,Rt._.USDi,we()),(0,u.Z)(m,Rt._.ETHi,we()),m)[s],D.next=7,g.query({query:(0,He.Ps)(T),variables:{types:d,first:v}}).then(function(M){return M.data.pegTokenUpdates});case 7:return D.abrupt("return",D.sent);case 8:case"end":return D.stop()}},n)}));return function(s,i,d){return Z.apply(this,arguments)}}(),$e=e(61303),Oe={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},ba=18,Be=(0,$.Z)(1e18),Ca=ce.Z.Option,Ma=function(n){var s,i,d=n.loading,m=n.dispalyDecimal,v=m===void 0?Rt.h:m,g=n.decimals,T=g===void 0?ba:g,x=n.token,b=x===void 0?"USDi":x,D=n.filterOptions,M=D===void 0?Oe:D,nt=(0,h.tT)("@@initialState"),A=nt.initialState,ft=(0,l.useState)([]),dt=(0,E.Z)(ft,2),lt=dt[0],_=dt[1],at=(0,l.useState)(!1),K=(0,E.Z)(at,2),ot=K[0],c=K[1],o=(0,F.hU)(),r=(0,y.Z)({All:"All"},(0,a.omit)(M,[M.Deposit])),B=(0,l.useState)(r.All),S=(0,E.Z)(B,2),j=S[0],G=S[1],Y=(0,l.useState)(1),O=(0,E.Z)(Y,2),L=O[0],J=O[1];(0,l.useEffect)(function(){var q=[j];j===Oe.Mint&&q.push(Oe.Deposit);var R=j===r.All?Object.values(M):q;c(!0),Sa(A.vault,A.chain,R).then(function(tt){var ct=ga()(le()(tt,function(pt){var vt,At,Ct,jt,Yt;if(!(pt.type===M.Mint&&(pt==null||(vt=pt.toAccountUpdate)===null||vt===void 0||(At=vt.account)===null||At===void 0||(Ct=At.id)===null||Ct===void 0?void 0:Ct.toLowerCase())===((jt=(0,$e.L)(A.chain,A.vault))===null||jt===void 0||(Yt=jt.vaultBufferAddress)===null||Yt===void 0?void 0:Yt.toLowerCase())))return pt.type===M.Deposit?(0,y.Z)((0,y.Z)({},pt),{},{type:M.Mint}):pt}));J(1),_(ct)}).finally(function(){c(!1)})},[j]);var ht=function(R){return(0,t.jsx)("a",{target:"_blank",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[A.chain],"/address/").concat(R),title:R,rel:"noreferrer",children:R})},Zt=(s={},(0,u.Z)(s,F.me.Desktop,["10rem","10rem","25rem","8rem"]),(0,u.Z)(s,F.me.Tablet,["8rem","8rem",void 0,"8rem"]),(0,u.Z)(s,F.me.Mobile,["8rem","8rem",void 0,"8rem"]),s)[o],_t=[{title:"Date",dataIndex:"timestamp",key:"timestamp",render:function(R){return(0,t.jsx)(I.Z,{title:"".concat(ne()(1e3*R).utcOffset(0).format("yyyy-MM-DD HH:mm:ss")," (UTC)"),children:ne()(1e3*R).utcOffset(0).locale("en").fromNow()})}},{title:"Operation",dataIndex:"type",key:"type",ellipsis:{showTitle:!1}},{title:"Details",key:"detail",render:function(R,tt){var ct,pt,vt=tt.type,At=tt.transferredAmount,Ct=tt.toAccountUpdate,jt=tt.fromAccountUpdate,Yt=tt.totalSupplyChangeAmount,Vt=(0,P.Wl)(Yt,T,v),kt=(0,P.Wl)((0,$.Z)(At).abs(),T,v),Et=(0,P.Wl)(At,T,v),w=(0,P.FH)(Yt,(0,$.Z)(Math.pow(10,T))),mt=(0,P.FH)((0,$.Z)(At).abs(),(0,$.Z)(Math.pow(10,T))),Wt=(0,P.FH)(At,(0,$.Z)(Math.pow(10,T))),re=jt==null||(ct=jt.account)===null||ct===void 0?void 0:ct.id,ge=Ct==null||(pt=Ct.account)===null||pt===void 0?void 0:pt.id,Jt={Mint:function(){return(0,t.jsxs)(t.Fragment,{children:[vt," ",(0,t.jsx)("span",{title:Wt,children:Et})," ",b," to ",ht(ge)]})},Burn:function(){return(0,t.jsxs)(t.Fragment,{children:[vt," ",(0,t.jsx)("span",{title:mt,children:kt})," ",b," from ",ht(re)]})},Rebase:function(){return(0,t.jsxs)(t.Fragment,{children:[vt," ",(0,t.jsx)("span",{title:w,children:Vt})," ",b]})},Transfer:function(){return(0,t.jsxs)(t.Fragment,{children:[vt," ",(0,t.jsx)("span",{title:Wt,children:Et})," ",b," from ",ht(re)," to ",ht(ge)]})}};return(0,t.jsx)("span",{style:{whiteSpace:"normal"},children:Jt[tt.type]()})}},{title:"Tx Address",key:"tx",ellipsis:{showTitle:!1},align:"center",render:function(R,tt){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[A.chain],"/tx/").concat(tt.transaction.id),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}];_t.forEach(function(q,R){q.width=Zt[R]});var f=function(R){typeof R=="string"?G(R):G(R.target.value)},Kt=(i={},(0,u.Z)(i,F.me.Desktop,{radioGroupProps:{size:"large"}}),(0,u.Z)(i,F.me.Tablet,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{size:"small",scroll:{x:800}}}),(0,u.Z)(i,F.me.Mobile,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{compact:!0,size:"small",scroll:{x:800}}}),i)[o],ae=(0,t.jsx)(St.ZP.Group,(0,y.Z)((0,y.Z)({value:j,onChange:f,buttonStyle:"solid"},Kt.radioGroupProps),{},{className:C().buttons,children:le()(r,function(q,R){return(0,t.jsx)(St.ZP.Button,{value:q,children:R},R)})}));return o===F.me.Mobile&&(ae=(0,t.jsx)(ce.Z,{style:{width:120},value:j,onChange:f,children:le()(r,function(q,R){return(0,t.jsx)(Ca,{value:q,children:R},R)})})),(0,t.jsx)("div",{children:(0,t.jsx)(W.Z,(0,y.Z)((0,y.Z)({loading:d,bordered:!1,title:"Recent Activity",extra:ae,style:{height:"100%",marginTop:40}},Kt.cardProps),{},{children:(0,t.jsx)(se.Z,(0,y.Z)({rowKey:function(R){return R.id},columns:_t,dataSource:lt,loading:ot,pagination:(lt==null?void 0:lt.length)>10&&{showSizeChanger:!1,style:{marginBottom:0},current:L,pageSize:10,onChange:function(R){J(R)}}},Kt.tableProps))}))})},Fe=Ma,Ke=e(42411),Ye=e(10501),Pa=e(3691),Za=e.n(Pa),Ua=[{label:"USDi",value:"usdi"},{label:"ETHi",value:"ethi"},{label:"USDr",value:"usdr"},{label:"ETHr",value:"ethr"}],Ia=function(){var n=(0,h.tT)("@@initialState"),s=n.initialState,i=n.setInitialState;console.log("initialState",s);var d=function(v){var g=h.m8.location.query.chain;console.log("chain",g),i((0,y.Z)((0,y.Z)({},s),{},{vault:v},(0,$e.L)(g,v))),h.m8.push({query:{chain:g||s.chain,vault:v}})};return(0,t.jsx)(X.Z,{children:(0,t.jsx)(U.Z,{span:24,className:Za().container,children:(0,t.jsx)(St.ZP.Group,{size:"large",onChange:function(v){return d(v.target.value)},value:s.vault,buttonStyle:"solid",children:le()(Ua,function(m,v){return(0,t.jsx)(St.ZP.Button,{value:m.value,children:m.label},v)})})})})},Me=Ia,Pe=e(55414),me=e(53651),Xt=e(22844),ja=e(41609),ie=e.n(ja),Oa=function(n){var s=n.vault,i=n.chain,d=n.vaultAddress,m=n.tokenAddress,v=n.vaultBufferAddress;return ie()(m)||ie()(d)?Promise.reject(new Error("fetch tokenAddress or vaultAddress failed")):Da(s,i,m,d,v).catch(function(g){return console.error("init DashBoard data failed",g),{pegToken:{totalSupply:"0",holderCount:"0"},vault:{totalAssets:"0",strategies:[]},vaultBuffer:{totalSupply:"0"}}})};function ze(){var Z=(0,l.useState)({}),n=(0,E.Z)(Z,2),s=n[0],i=n[1],d=(0,l.useState)(!1),m=(0,E.Z)(d,2),v=m[0],g=m[1],T=(0,h.tT)("@@initialState"),x=T.initialState;return(0,l.useEffect)(function(){x!=null&&x.chain&&(g(!0),Oa(x).then(i).finally(function(){g(!1)}))},[x==null?void 0:x.chain,x==null?void 0:x.vault]),{dataSource:s,loading:v}}var Ee=e(2593),Ba=e(13311),La=e.n(Ba),Ze=function(n){for(var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,d=[],m=function(T){var x=n[0]?ne()(n[0].date):ne()().utcOffset(0).subtract(1,"days"),b=x.subtract(T,"days").format("YYYY-MM-DD"),D=La()(n,function(M){return M.date===b})||(0,u.Z)({date:b},s,void 0);d.push(D)},v=0;v<i;v++)m(v);return d},ka=function(){var n=(0,l.useState)(31),s=(0,E.Z)(n,2),i=s[0],d=s[1],m=(0,l.useState)({}),v=(0,E.Z)(m,2),g=v[0],T=v[1],x=(0,l.useState)({}),b=(0,E.Z)(x,2),D=b[0],M=b[1],nt=(0,l.useState)(0),A=(0,E.Z)(nt,2),ft=A[0],dt=A[1],lt=(0,h.tT)("@@initialState"),_=lt.initialState,at=ze(),K=at.dataSource,ot=K===void 0?{}:K,c=at.loading,o=ot.pegToken,r=o===void 0?{}:o,B=ot.vault,S=B===void 0?{}:B,j=ot.vaultBuffer,G=j===void 0?{}:j;if((0,l.useEffect)(function(){if(!!_.chain){var tt={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};i>7&&(tt.format="MM-DD"),(0,Lt.ld)({chainId:_.chain,duration:me.Gj.monthly,limit:i,tokenType:me.KR.ethi}).then(function(ct){var pt=Ze(ct.content,"apy",i),vt=(0,a.map)((0,a.reverse)(pt),function(w){var mt=w.date,Wt=w.apy,re=(0,a.isNil)(Wt)?null:"".concat(bt()(Wt).format("0.00"));return{date:mt,apy:re}});dt(ct.content[0]?ct.content[0].apy:0);var At=(0,a.uniq)((0,a.map)(vt,function(w){var mt=w.date;return mt})),Ct=[],jt=(0,a.map)(At,function(w){var mt=(0,a.find)(vt,{date:w});return mt?{value:(0,P.Ay)(mt.apy),label:"".concat((0,P.Ik)(mt.apy),"%")}:null}),Yt=[{seriesName:"APY",seriesData:jt,showSymbol:(0,a.size)((0,a.filter)(jt,function(w){return!(0,a.isNil)(w.value)}))===1}],Vt={legend:{data:Ct,textStyle:{color:"#fff"}},xAxisData:At,data:Yt},kt=(0,Ye.Z)(Vt);kt.color=["#A68EFE","#5470c6","#91cc75"],kt.series.forEach(function(w){w.connectNulls=!0,w.name==="Estimated APY"&&(w.lineStyle={width:2,type:"dotted"})}),kt.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var Et=[];kt.xAxis.data=kt.xAxis.data.map(function(w){var mt="".concat(ne()(w).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return Et[mt]=ne()(w).add(1,"days").format(tt.format),mt}),kt.xAxis.axisLabel={formatter:function(mt){return Et[mt]}},kt.xAxis.axisTick={alignWithLabel:!0},kt.yAxis.splitLine={lineStyle:{color:"#454459"}},kt.tooltip=(0,y.Z)((0,y.Z)({},kt.tooltip),{},{formatter:function(mt){if(mt.length>0){var Wt=mt[0],re=Wt.axisValueLabel,ge=Wt.marker,Jt=Wt.seriesName,Ht=Wt.data,Re="".concat(re,"<br/>").concat(ge).concat(Jt,": ");return Ht!=null&&Ht.value?Re+=Ht==null?void 0:Ht.label:Re+="-",Re}}}),M(kt)}).catch(function(ct){console.error(ct)}),(0,Lt.fY)({chainId:_.chain,limit:i,tokenType:me.KR.ethi}).then(function(ct){var pt=Ze(ct.content,"totalSupply",i),vt=(0,a.map)((0,a.reverse)(pt),function(At){var Ct=At.date,jt=At.totalSupply;return{date:Ct,totalSupply:(0,P.FH)(jt,Xt.Nd,Xt.A7)}});T((0,Ke.Z)(vt,"totalSupply","ETHi",(0,y.Z)((0,y.Z)({},tt),{},{yAxisMin:function(Ct){return Math.floor(Ct.min*.998)},yAxisMax:function(Ct){return Math.ceil(Ct.max*1.001)}})))}).catch(function(ct){console.error(ct)})}},[i,_.chain]),(0,l.useEffect)(function(){return function(){(0,Lt.jv)()}},[]),(0,a.isEmpty)(_.chain))return null;var Y=function(){return(0,a.isEmpty)(r)||(r==null?void 0:r.totalSupply)==="0"||(0,a.isEmpty)(S==null?void 0:S.totalAssets)?"1":!(0,a.isEmpty)(G)&&S.isAdjust?(0,P.FH)(Ee.O$.from(S.totalAssets).sub(G.totalSupply),r==null?void 0:r.totalSupply,6):(0,P.FH)(S==null?void 0:S.totalAssets,r==null?void 0:r.totalSupply,6)},O=function(){h.m8.push("/prices?chain=".concat(_.chain,"&vault=").concat(_.vault))},L=(0,P.FH)(r==null?void 0:r.totalSupply,Xt.Nd,Xt.A7),J=bt()(L).format("0.00 a"),ht=J.split(" "),Zt=(0,E.Z)(ht,2),_t=Zt[0],f=Zt[1],Kt=isNaN(new Number(f)),ae=[{title:"Total Supply",tip:"Current total ETHi supply.",content:(0,a.isEmpty)(r)?0:"".concat(_t).concat(Kt?"":f),loading:c,unit:"".concat((0,a.isEmpty)(r)?"":"".concat(Kt?f:"")," ETHi"),subTitle:(0,t.jsxs)("p",{children:["1ETHi \u2248 ",Y(),"ETH"," ",(0,t.jsx)("span",{className:C().history,onClick:O,children:"History"})]})},{title:"Holders",tip:"Number Of ETHi holders.",content:bt()(r==null?void 0:r.holderCount).format("0.[0000]a"),loading:c},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,P.Ik)(parseFloat(ft).toFixed(2)),loading:c,unit:"%"}],q=(0,a.cloneDeep)(ot.vault);if(q){var R=(0,a.reduce)(q.strategies,function(tt,ct){return tt.plus(ct.debtRecordInVault)},(0,$.Z)(0));q.totalValueInVault=(0,$.Z)(q.totalAssets).minus(R).toString(),q.strategies.map(function(tt){return tt.totalValue=tt.debtRecordInVault})}return(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(X.Z,{gutter:[24,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(Me,{})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:ae})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ae,{loading:c,calDateRange:i,onCalDateRangeClick:d,apyEchartOpt:D,tvlEchartOpt:g})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ve,{loading:c,strategyMap:Pe.tX,tokenDecimals:Xt.Nd,displayDecimals:Xt.A7,vaultData:q,unit:"ETH"})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ne,{unit:"ETH",loading:c,strategyMap:Pe.tX,displayDecimals:Xt.A7})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Fe,{token:"ETHi",decimals:Xt.DO,dispalyDecimal:Xt.A7,filterOptions:Xt.O2,loading:c})})}),(0,t.jsx)(U.Z,{span:24})]})})},Ra=ka,Le=e(91907),Va=[{label:"Ethereum",key:"1"},{label:"Polygon",key:"137"}],Na=function(){var n=(0,l.useState)(31),s=(0,E.Z)(n,2),i=s[0],d=s[1],m=(0,l.useState)({}),v=(0,E.Z)(m,2),g=v[0],T=v[1],x=(0,l.useState)({}),b=(0,E.Z)(x,2),D=b[0],M=b[1],nt=(0,l.useState)(0),A=(0,E.Z)(nt,2),ft=A[0],dt=A[1],lt=(0,h.tT)("@@initialState"),_=lt.initialState,at=ze(),K=at.dataSource,ot=K===void 0?{}:K,c=at.loading,o=ot.pegToken,r=o===void 0?{}:o,B=ot.vault,S=B===void 0?{}:B,j=ot.vaultBuffer,G=j===void 0?{}:j;if((0,l.useEffect)(function(){if(!!_.chain){var q={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};i>7&&(q.format="MM-DD"),(0,Lt.ld)({chainId:_.chain,duration:me.Gj.monthly,limit:i,tokenType:me.KR.usdi}).then(function(R){var tt=Ze(R.content,"apy",i),ct=(0,a.map)((0,a.reverse)(tt),function(Et){var w=Et.date,mt=Et.apy,Wt=(0,a.isNil)(mt)?null:"".concat(bt()(mt).format("0.00"));return{date:w,apy:Wt}}),pt=(0,a.get)(R,"content.[0].apy",0);dt(pt);var vt=(0,a.uniq)((0,a.map)(ct,function(Et){var w=Et.date;return w})),At=[],Ct=(0,a.map)(vt,function(Et){var w=(0,a.find)(ct,{date:Et});return w?{value:(0,P.Ay)(w.apy),label:"".concat((0,P.Ik)(w.apy),"%")}:null}),jt=[{seriesName:"APY",seriesData:Ct,showSymbol:(0,a.size)((0,a.filter)(Ct,function(Et){return!(0,a.isNil)(Et.value)}))===1}],Yt={legend:{data:At,textStyle:{color:"#fff"}},xAxisData:vt,data:jt},Vt=(0,Ye.Z)(Yt);Vt.color=["#A68EFE","#5470c6","#91cc75"],Vt.series.forEach(function(Et){Et.connectNulls=!0,Et.name==="Estimated APY"&&(Et.lineStyle={width:2,type:"dotted"})}),Vt.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var kt=[];Vt.xAxis.data=Vt.xAxis.data.map(function(Et){var w="".concat(ne()(Et).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return kt[w]=ne()(Et).add(1,"days").format(q.format),w}),Vt.xAxis.axisLabel={formatter:function(w){return kt[w]}},Vt.xAxis.axisTick={alignWithLabel:!0},Vt.yAxis.splitLine={lineStyle:{color:"#454459"}},Vt.tooltip=(0,y.Z)((0,y.Z)({},Vt.tooltip),{},{formatter:function(w){if(w.length>0){var mt=w[0],Wt=mt.axisValueLabel,re=mt.marker,ge=mt.seriesName,Jt=mt.data,Ht="".concat(Wt,"<br/>").concat(re).concat(ge,": ");return Jt!=null&&Jt.value?Ht+=Jt==null?void 0:Jt.label:Ht+="-",Ht}}}),M(Vt)}).catch(function(R){console.error(R)}),(0,Lt.fY)({chainId:_.chain,limit:i,tokenType:me.KR.usdi}).then(function(R){var tt=Ze(R.content,"totalSupply",i),ct=(0,a.map)((0,a.reverse)(tt),function(pt){var vt=pt.date,At=pt.totalSupply;return{date:vt,totalSupply:(0,P.FH)(At,Be,Rt.h)}});T((0,Ke.Z)(ct,"totalSupply","USDi",(0,y.Z)((0,y.Z)({},q),{},{yAxisMin:function(vt){return Math.floor(vt.min*.998)},yAxisMax:function(vt){return Math.ceil(vt.max*1.001)}})))}).catch(function(R){console.error(R)})}},[i,_.chain]),(0,l.useEffect)(function(){return function(){(0,Lt.jv)()}},[]),(0,a.isEmpty)(_.chain))return null;var Y=function(){return(0,a.isEmpty)(r)||(r==null?void 0:r.totalSupply)==="0"||(0,a.isEmpty)(S==null?void 0:S.totalAssets)?"1":!(0,a.isEmpty)(G)&&S.isAdjust?(0,P.FH)(Ee.O$.from(S.totalAssets).sub(G.totalSupply),r==null?void 0:r.totalSupply,6):(0,P.FH)(S==null?void 0:S.totalAssets,r==null?void 0:r.totalSupply,6)},O=function(){h.m8.push("/prices?chain=".concat(_.chain,"&vault=").concat(_.vault))},L=(0,P.FH)(r==null?void 0:r.totalSupply,Be,Rt.h),J=bt()(L).format("0.00 a"),ht=J.split(" "),Zt=(0,E.Z)(ht,2),_t=Zt[0],f=Zt[1],Kt=(0,a.isNaN)(new Number(f)),ae=[{title:"Total Supply",tip:"Current total USDi supply.",content:(0,a.isEmpty)(r)?0:"".concat(_t).concat(Kt?"":f),loading:c,unit:"".concat((0,a.isEmpty)(r)?"":"".concat(Kt?f:"")," USDi"),subTitle:(0,t.jsxs)("p",{children:["1USDi \u2248 ",Y(),"USD"," ",(0,t.jsx)("span",{className:C().history,onClick:O,children:"History"})]})},{title:"Holders",tip:"Number Of USDi holders.",content:bt()(r==null?void 0:r.holderCount).format("0.[0000]a"),loading:c},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,P.Ik)(parseFloat(ft).toFixed(2)),loading:c,unit:"%"}];return console.log("tvlEchartOpt=",g),(0,t.jsxs)(gt.Z,{children:[(0,t.jsxs)(l.Suspense,{fallback:null,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(Le.Z,{chains:Va})]}),(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:ae})}),(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ae,{isUsdi:!0,loading:c,calDateRange:i,onCalDateRangeClick:d,apyEchartOpt:D,tvlEchartOpt:g})}),(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ve,{loading:c,strategyMap:Pe.o1,tokenDecimals:Be,vaultData:ot.vault})}),(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ne,{strategyMap:Pe.o1,loading:c})}),(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Fe,{loading:c})})]})},_a=Na,Ge=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_newVault",type:"address"},{indexed:!0,internalType:"address",name:"_wantToken",type:"address"}],name:"CreateNewVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vaultImpl",type:"address"}],name:"addVaultImpl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wantToken",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"}],name:"createNewVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"deleteVaultAddressMapForDebug",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getStablecoinInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlist",outputs:[{internalType:"address[]",name:"_wethInvestorSet",type:"address[]"},{internalType:"address[]",name:"_usdInvestorSet",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlistLen",outputs:[{internalType:"uint256",name:"_wethInvestorSetLen",type:"uint256"},{internalType:"uint256",name:"_stablecoinInvestorSetLen",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultImplList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultsLen",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getWethInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_vaultImplList",type:"address[]"},{internalType:"address",name:"_accessControlProxy",type:"address"},{internalType:"address",name:"_uniswapV3RiskOnHelper",type:"address"},{internalType:"address",name:"_treasury",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"treasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"uniswapV3RiskOnHelper",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"vaultAddressMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vaultImpl2Index",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"vaultImplList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],Wa=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"borrowInfo",outputs:[{internalType:"uint256",name:"_totalCollateralBase",type:"uint256"},{internalType:"uint256",name:"_totalDebtBase",type:"uint256"},{internalType:"uint256",name:"_availableBorrowsBase",type:"uint256"},{internalType:"uint256",name:"_currentLiquidationThreshold",type:"uint256"},{internalType:"uint256",name:"_ltv",type:"uint256"},{internalType:"uint256",name:"_healthFactor",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcAaveBaseCurrencyValueInAsset",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_baseAsset",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcCanonicalAssetValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getAToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"},{internalType:"address",name:"_account",type:"address"}],name:"getCurrentBorrow",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"}],name:"getDebtToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"getSpecifiedRangesOfTick",outputs:[{internalType:"int24",name:"_tickFloor",type:"int24"},{internalType:"int24",name:"_tickCeil",type:"int24"},{internalType:"int24",name:"_tickLower",type:"int24"},{internalType:"int24",name:"_tickUpper",type:"int24"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"address",name:"_collateralToken",type:"address"}],name:"getTotalCollateralTokenAmount",outputs:[{internalType:"uint256",name:"_totalCollateralToken",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_pool",type:"address"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"getTwap",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"}],Ha=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"LendToStrategy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_basis",type:"uint256"}],name:"ProfitFeeBpsChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"RedeemToVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"_shutdown",type:"bool"}],name:"SetEmergencyShutdown",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address[]",name:"_rewardTokens",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],name:"StrategyReported",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_nftId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTCollect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"_liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTPositionAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"UniV3NFTPositionRemoved",type:"event"},{anonymous:!1,inputs:[],name:"UniV3UpdateConfig",type:"event"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"borrowRebalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"borrowToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositTo3rdPoolTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergencyShutdown",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"estimatedTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMintInfo",outputs:[{internalType:"uint256",name:"_baseTokenId",type:"uint256"},{internalType:"int24",name:"_baseTickUpper",type:"int24"},{internalType:"int24",name:"_baseTickLower",type:"int24"},{internalType:"uint256",name:"_limitTokenId",type:"uint256"},{internalType:"int24",name:"_limitTickUpper",type:"int24"},{internalType:"int24",name:"_limitTickLower",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStatus",outputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_wantToken",type:"address"},{internalType:"int24",name:"_baseThreshold",type:"int24"},{internalType:"int24",name:"_limitThreshold",type:"int24"},{internalType:"int24",name:"_minTickMove",type:"int24"},{internalType:"int24",name:"_maxTwapDeviation",type:"int24"},{internalType:"int24",name:"_lastTick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"uint256",name:"_period",type:"uint256"},{internalType:"uint256",name:"_lastTimestamp",type:"uint256"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"harvest",outputs:[{internalType:"address[]",name:"_rewardsTokens",type:"address[]"},{internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastHarvest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"lend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"manageFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"netMarketMakingAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"profitFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rebalanceByKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeemToVaultByKeeper",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"setBaseThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_active",type:"bool"}],name:"setEmergencyShutdown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_limitThreshold",type:"int24"}],name:"setLimitThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setManageFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_maxTwapDeviation",type:"int24"}],name:"setMaxTwapDeviation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_minTickMove",type:"int24"}],name:"setMinTickMove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_period",type:"uint256"}],name:"setPeriod",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setProfitFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"setTwapDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"}],name:"shouldRebalance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"wantToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Qe=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],wa="0x0000000000000000000000000000000000000000",ke="0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",$a="0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619",Gt=new $.Z(1e6),fn=new $.Z(1e18),hn=new $.Z(1e27),Xe=e(43077),Fa=e(96519),Ka=e(85564),Ya=e.n(Ka),za=e(15296),te=Fa.CH,Je=Ee.O$,Ga=[$a,ke],Qa=function(n,s,i){var d=(0,l.useState)(!1),m=(0,E.Z)(d,2),v=m[0],g=m[1],T=(0,l.useState)([]),x=(0,E.Z)(T,2),b=x[0],D=x[1],M=(0,l.useState)([]),nt=(0,E.Z)(M,2),A=nt[0],ft=nt[1],dt=(0,l.useState)(!1),lt=(0,E.Z)(dt,2),_=lt[0],at=lt[1],K=(0,za.Z)(i),ot=(0,l.useCallback)(function(S,j){var G=new te(n,s,i),Y=new te(j,Ha,i),O=new te(S,Wa,i);return Promise.all([G.getTwoInvestorlistLen(),Y.borrowToken().then(function(){var L=(0,oe.Z)((0,Nt.Z)().mark(function J(ht){var Zt;return(0,Nt.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return Zt=new te(ht,Qe,i),f.t0=ht,f.next=4,Zt.symbol();case 4:return f.t1=f.sent,f.t2=Je.from(10),f.next=8,Zt.decimals();case 8:return f.t3=f.sent,f.t4=f.t2.pow.call(f.t2,f.t3),f.abrupt("return",{borrowToken:f.t0,name:f.t1,borrowTokenDecimals:f.t4});case 11:case"end":return f.stop()}},J)}));return function(J){return L.apply(this,arguments)}}()),Y.wantToken().then(function(){var L=(0,oe.Z)((0,Nt.Z)().mark(function J(ht){var Zt;return(0,Nt.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return Zt=new te(ht,Qe,i),f.t0=ht,f.next=4,Zt.symbol();case 4:return f.t1=f.sent,f.t2=Je.from(10),f.next=8,Zt.decimals();case 8:return f.t3=f.sent,f.t4=f.t2.pow.call(f.t2,f.t3),f.abrupt("return",{wantToken:f.t0,name:f.t1,wantTokenDecimals:f.t4});case 11:case"end":return f.stop()}},J)}));return function(J){return L.apply(this,arguments)}}())]).then(function(L){var J=(0,E.Z)(L,3),ht=J[0],Zt=ht._wethInvestorSetLen,_t=ht._stablecoinInvestorSetLen,f=J[1],Kt=J[2],ae=f.borrowToken,q=Kt.wantToken;return Promise.all([Y.netMarketMakingAmount(),O.getCurrentBorrow(ae,2,j),O.getTotalCollateralTokenAmount(j,q),Y.depositTo3rdPoolTotalAssets(),Y.estimatedTotalAssets()]).then(function(R){var tt=(0,E.Z)(R,5),ct=tt[0],pt=tt[1],vt=tt[2],At=tt[3],Ct=tt[4];return O.calcCanonicalAssetValue(ae,pt,q).then(function(jt){var Yt={netMarketMakingAmount:ct,currentBorrow:pt,currentBorrowWithCanonical:jt,depositTo3rdPoolTotalAssets:At,totalCollateralTokenAmount:vt,estimatedTotalAssets:Ct,wantInfo:Kt,borrowInfo:f,_wethInvestorSetLen:Zt,_stablecoinInvestorSetLen:_t,profit:At.add(vt).sub(ct).sub(jt)};return Yt})})}).finally(function(){setTimeout(function(){g(!1)},300)})},[i]),c=(0,l.useCallback)(function(){if(!(ie()(n)||ie()(i))){var S=new te(n,s,i);S.getVaultImplList().then(D)}},[n,i,s]),o=(0,l.useCallback)((0,oe.Z)((0,Nt.Z)().mark(function S(){var j,G,Y;return(0,Nt.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!(ie()(n)||ie()(i)||ie()(b)||ie()(K))){L.next=2;break}return L.abrupt("return");case 2:return j=new te(n,s,i),L.next=5,j.uniswapV3RiskOnHelper();case 5:G=L.sent,Y=le()(b,function(J){return Promise.all(le()(Ga,function(ht,Zt){return j.vaultAddressMap(K,J,Zt).then(function(_t){return _t===wa?{hasCreate:!1,type:J,token:ht}:ot(G,_t).then(function(f){return(0,y.Z)((0,y.Z)({},f),{},{address:_t,type:J,hasCreate:!0,token:ht})})})}))}),Promise.all(Y).then(function(J){ft(Ya()(J))});case 8:case"end":return L.stop()}},S)})),[K,n,i,b,s]),r=(0,l.useCallback)(function(){var S=(0,oe.Z)((0,Nt.Z)().mark(function j(G,Y){var O;return(0,Nt.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return at(!0),O=new te(n,s,i),J.next=4,O.connect(i.getSigner()).createNewVault(G,Y).then(function(ht){return ht.wait()}).then(o).finally(function(){at(!1)});case 4:case"end":return J.stop()}},j)}));return function(j,G){return S.apply(this,arguments)}}(),[n,i,o,s]),B=(0,l.useCallback)(function(){var S=(0,oe.Z)((0,Nt.Z)().mark(function j(G,Y){var O;return(0,Nt.Z)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:at(!0),O=new te(n,s,i),O.connect(i.getSigner()).deleteVaultAddressMapForDebug(K,G,Y).then(function(ht){return ht.wait()}).then(o).finally(function(){at(!1)});case 3:case"end":return J.stop()}},j)}));return function(j,G){return S.apply(this,arguments)}}(),[n,o,K,i,s]);return(0,l.useEffect)(c,[c]),(0,l.useEffect)(o,[o]),{vaultFactoryAddress:n,vaultImplList:b,personalVault:A,adding:_,loading:v,addVault:r,deleteVault:B}},qe=Qa,ee=e(52572),Xa=e(27361),ta=e.n(Xa),De=Ee.O$,Ja=[{label:"Polygon",key:"137"}],ye=137,fe="WETH",qa=function(){var n="0x8013Dd64084e9c9122567563AA86981F4C20576B",s=(0,Xe.Z)(),i=s.userProvider,d=qe(n,Ge,i),m=d.personalVault,v=(0,a.groupBy)(m,"token"),g=ta()(v,ke,[]);console.log("calcArray=",g);var T=(0,a.reduce)(g,function(c,o){return c.add(o.netMarketMakingAmount),c},De.from(0)),x=(0,a.reduce)(g,function(c,o){return c.add(o.estimatedTotalAssets),c},De.from(0)),b=(0,a.reduce)(g,function(c,o){return c.add(o.currentBorrow),c},De.from(0)),D=(0,a.reduce)(g,function(c,o){return c.add(o.totalCollateralTokenAmount),c},De.from(0)),M=(0,a.reduce)(g,function(c,o){return c.add(o.depositTo3rdPoolTotalAssets),c},De.from(0));console.log("netMarketMakingAmountTotal=",T.toString()),console.log("estimatedTotalAssetsTotal=",x.toString()),console.log("currentBorrow=",b.toString()),console.log("totalCollateralTokenAmountTotal=",D.toString()),console.log("depositTo3rdPoolTotalAssetsTotal=",M.toString());var nt=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"aave-outstanding-loan")},[n]),A=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"aave-collateral")},[n]),ft=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"aave-health-ratio")},[n]),dt=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"uniswap-position-value")},[n]),lt=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"profit")},[n]),_=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"net-deposit")},[n]);console.log("aaaa=",nt,A,ft,dt,lt,_);var at=!1,K=[{title:"Deposit",tip:"All Vault Net Deposit.",content:bt()((0,P.FH)(T,Gt)).format("0.[0000]a"),loading:at,unit:fe},{title:"Current Value",tip:"All Vault Current Value.",content:bt()((0,P.FH)(x,Gt)).format("0.[0000]a"),loading:at,unit:fe},{title:"Unrealized Profit",tip:"All Vault Unrealized Profit.",content:bt()("123124").format("0.[0000]a"),loading:at,unit:fe},{title:"Holders",tip:"Number Of USDi holders.",content:bt()("5").format("0.[0000]a"),loading:at,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:bt()((0,P.FH)(b,Gt)).format("0.[0000]a"),loading:at,unit:fe},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:bt()((0,P.FH)(D,Gt)).format("0.[0000]a"),loading:at,unit:fe},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:bt()((0,P.FH)(M,Gt)).format("0.[0000]a"),loading:at,unit:fe}],ot={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]};return(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(X.Z,{gutter:[0,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsxs)(l.Suspense,{fallback:null,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(Le.Z,{chains:Ja})]})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsxs)(X.Z,{gutter:[24,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:K})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(W.Z,{title:"Uniswap APY (%)",children:(0,t.jsx)(qt.$c,{option:ot,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{children:(0,t.jsx)(W.Z,{title:"Sample APY (%)",children:(0,t.jsx)(qt.$c,{option:ot,style:{minHeight:"500px",width:"100%"}})})})})]})})]})})},tn=qa,gn=e(20228),en=e(11382),an=e(18973),ea=e.n(an),nn=(0,t.jsxs)("div",{className:ea().main,children:[(0,t.jsxs)("svg",{viewBox:"0 0 1403 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",children:[(0,t.jsx)("path",{d:"M149.1 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM807.5 740.5H352c-9.1-22.5-31.2-38.4-57-38.4-33.9 0-61.4 27.5-61.4 61.4s27.5 61.4 61.4 61.4c25.8 0 47.9-15.9 57-38.4h455.5c9.1 22.5 31.2 38.4 57 38.4 33.9 0 61.4-27.5 61.4-61.4s-27.5-61.4-61.4-61.4c-25.9 0-47.9 15.9-57 38.4zM233.6 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM318 515.1c12.7 0 23-10.3 23-23v-51c0-12.7-10.3-23-23-23s-23 10.3-23 23v51c0 12.7 10.3 23 23 23z",fill:"#A68EFE"}),(0,t.jsx)("path",{d:"M1353.7 486.2c8.8-28.8 1.9-61.5-20.9-84.2L1088.2 157.4c-1.1-1.2-2.2-2.4-3.4-3.6-1.2-1.2-2.4-2.3-3.6-3.4l-0.8-0.8c-17.2-15.1-39.1-23.4-62.3-23.4-25.3 0-49 9.8-66.8 27.6L763 342l-60.3-213h12.5c12.7 0 23-10.3 23-23s-10.3-23-23-23H464.8c-51.3 0-93 41.7-93 93v132.3H91.4c-9.3 0-18 3.6-24.6 10.2l-56.6 56.6c-6.6 6.6-10.2 15.3-10.2 24.6V563c0 9.3 3.6 18 10.2 24.6l60.1 60.1c6.6 6.6 15.3 10.2 24.6 10.2h78.7c-30.5 29.9-49.5 71.5-49.5 117.4 0 90.6 73.7 164.4 164.4 164.4h582.5c90.6 0 164.4-73.7 164.4-164.4s-73.7-164.4-164.4-164.4h-55.5l173.9-176.2 0.9-52.8 42.3-42.3L1213.8 521c7.1 7.1 15.2 12.7 23.8 16.7l-69.4 117.8-9.8-5.8c-9.5-5.6-21.8-2.4-27.4 7.1l-3 5.2c-5.6 9.5-2.4 21.8 7.1 27.4l51.4 30.3c68.6 40.4 156.9 17.6 197.4-51 35.9-61.1 21.7-137.9-30.2-182.5z m-632.5-123h-77.2l-44.7-44.7c-6.6-6.6-15.3-10.2-24.6-10.2h-42.1V129h122.2l66.4 234.2zM417.8 176c0-25.9 21.1-47 47-47h22v179.3h-69V176zM99.5 611.8l-53.5-53.5V404.4l50-50h474.2L614.9 399c6.6 6.6 15.3 10.2 24.6 10.2H724.9v113.4H492.8c-12.7 0-23 10.3-23 23s10.3 23 23 23H724.9v42.3H288.5c-6 0-12 0.3-17.8 1H99.5z m771.5 45.1c65.3 0 118.4 53.1 118.4 118.4 0 65.3-53.1 118.4-118.4 118.4H288.5c-65.3 0-118.4-53.1-118.4-118.4 0-65.3 53.1-118.4 118.4-118.4h582.5z m73.5-294.4l-0.9 53-172.7 175V399.2l212.9-212.9c9.1-9.1 21.3-14.1 34.2-14.1 13 0 25.2 5 34.2 14.1 18.9 18.9 18.9 49.6 0 68.5L944.5 362.5z m248.9 72.9L1065 307.1l19.8-19.8c12.5-12.5 20.7-27.6 24.7-43.6l137.8 137.8c-12.2 4-23.7 10.8-33.4 20.5-9.8 9.7-16.6 21.2-20.5 33.4z m53-0.9c14.9-14.9 39-14.9 53.9 0 14.9 14.9 14.9 39 0 53.9-14.9 14.9-39 14.9-53.9 0-14.9-14.8-14.9-39 0-53.9z m97.8 210.8c-27.5 46.7-87.7 62.2-134.4 34.7l-2-1.2 79.2-134.4c14.8-2.4 29.1-8.8 41.1-19.2 31.7 30.8 39.5 80.3 16.1 120.1z",fill:"#A68EFE"})]}),(0,t.jsx)("span",{className:ea().text,children:"Under construction..."})]}),rn=function(n){var s=n.children;return(0,t.jsx)(en.Z,{size:"large",indicator:nn,children:s})},aa=rn,ue=Ee.O$,sn=[{label:"Polygon",key:"137"}],he="USDC",ln=function(){var n,s="0x8013Dd64084e9c9122567563AA86981F4C20576B",i=(0,Xe.Z)(),d=i.userProvider,m=qe(s,Ge,d),v=m.personalVault,g=(0,a.groupBy)(v,"token"),T=ta()(g,ke,[]),x=(0,l.useState)("All"),b=(0,E.Z)(x,2),D=b[0],M=b[1];console.log("calcArray=",T,D);var nt=(0,a.reduce)(T,function(O,L){return O.add(L.netMarketMakingAmount)},ue.from(0)),A=(0,a.reduce)(T,function(O,L){return O.add(L.estimatedTotalAssets)},ue.from(0)),ft=(0,a.reduce)(T,function(O,L){return O.add(L.currentBorrow)},ue.from(0)),dt=(0,a.reduce)(T,function(O,L){return O.add(L.totalCollateralTokenAmount)},ue.from(0)),lt=(0,a.reduce)(T,function(O,L){return O.add(L.depositTo3rdPoolTotalAssets)},ue.from(0)),_=(0,a.reduce)(T,function(O,L){return O.add(L._stablecoinInvestorSetLen)},ue.from(0)),at=(0,a.reduce)(T,function(O,L){return O.add(L.profit)},ue.from(0));console.log("netMarketMakingAmountTotal=",nt.toString()),console.log("estimatedTotalAssetsTotal=",A.toString()),console.log("currentBorrow=",ft.toString()),console.log("totalCollateralTokenAmountTotal=",dt.toString()),console.log("depositTo3rdPoolTotalAssetsTotal=",lt.toString());var K=(0,ee.r5)(function(){return(0,Lt.wn)()},[s]),ot=(0,ee.r5)(function(){return(0,Lt.q4)()},[s]),c=(0,ee.r5)(function(){return(0,Lt.wu)()},[s]);console.log("verifiedApy=",K,ot,c);var o=!1,r=[{title:"Deposit",tip:"All Vault Net Deposit.",content:bt()((0,P.FH)(nt,Gt)).format("0.[0000]a"),loading:o,unit:he},{title:"Current Value",tip:"All Vault Current Value.",content:bt()((0,P.FH)(A,Gt)).format("0.[0000]a"),loading:o,unit:he},{title:"Profits",tip:"All Vault Profits.",content:bt()((0,P.FH)(at,Gt)).format("0.[0000]a"),loading:o,unit:he},{title:"Holders",tip:"Number Of USDi holders.",content:bt()(_).format("0.[0000]a"),loading:o,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:bt()((0,P.FH)(ft,Gt)).format("0.[0000]a"),loading:o,unit:he},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:bt()((0,P.FH)(dt,Gt)).format("0.[0000]a"),loading:o,unit:he},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:bt()((0,P.FH)(lt,Gt)).format("0.[0000]a"),loading:o,unit:he}],B={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]},S=[],j=[{title:"Date",dataIndex:"date",key:"date"},{title:"Operation",dataIndex:"operation",key:"operation"},{title:"Details",dataIndex:"details",key:"details"},{title:"Tx Address",dataIndex:"tx",key:"tx"}],G={All:"All",Create:"Create",Deposit:"Deposit",Burn:"Burn"},Y=(0,t.jsx)(St.ZP.Group,{value:D,onChange:function(L){return M(L.target.value)},buttonStyle:"solid",className:C().buttons,children:le()(G,function(O,L){return(0,t.jsx)(St.ZP.Button,{value:O,children:O},L)})});return(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(X.Z,{gutter:[0,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsxs)(l.Suspense,{fallback:null,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(Le.Z,{chains:sn})]})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsxs)(X.Z,{gutter:[24,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:r})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(aa,{children:(0,t.jsx)(W.Z,{title:"Uniswap APY (%)",loading:K.loading||ot.loading,children:K.error?(0,t.jsxs)("div",{children:["Error: ",K==null||(n=K.error)===null||n===void 0?void 0:n.message]}):(0,t.jsx)(qt.$c,{option:B,style:{minHeight:"500px",width:"100%"}})})})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{children:(0,t.jsx)(aa,{children:(0,t.jsx)(W.Z,{title:"Sample APY (%)",loading:c.loading,children:c.error?(0,t.jsxs)("div",{children:["Error: ",c.error.message]}):(0,t.jsx)(qt.$c,{option:B,style:{minHeight:"500px",width:"100%"}})})})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{children:(0,t.jsx)(W.Z,{extra:Y,title:"Recent Activity",children:(0,t.jsx)(se.Z,{dataSource:S,columns:j})})})})]})})]})})},on=ln,un=e(7594),dn=e(52353),cn=e.n(dn);function pn(){var Z,n=(0,h.tT)("@@initialState"),s=n.initialState,i=(Z={},(0,u.Z)(Z,Rt._.USDi,_a),(0,u.Z)(Z,Rt._.ETHi,Ra),(0,u.Z)(Z,Rt._.ETHr,tn),(0,u.Z)(Z,Rt._.USDr,on),Z)[s.vault];return cn()(i)?(0,t.jsx)(un.default,{}):(0,t.jsx)(i,{})}},860:function(yt,Q,e){"use strict";e.d(Q,{E6:function(){return U},_8:function(){return y},mB:function(){return E},Mn:function(){return gt},oP:function(){return Mt},t:function(){return I},ld:function(){return st},fY:function(){return t},jv:function(){return Ut},Qc:function(){return Ot},_S:function(){return xt},wn:function(){return zt},q4:function(){return k},wu:function(){return Qt}});var u=e(93224),l=e(11849),h=e(65367),z=e(96486),X=e.n(z),rt=["chainId","vaultAddress"],U=function(p){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20;try{var it=(0,l.Z)({offset:H,limit:C},p);return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/officialApy"),{params:it})}catch(et){return{content:[]}}},y=function(p){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,it=p.chainId,et=p.vaultAddress,Pt={sort:"gene_time desc",offset:H,limit:C};return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(it,"/vaults/").concat(et,"/allocation"),{params:Pt})},E=function(p,H){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,it=arguments.length>3&&arguments[3]!==void 0?arguments[3]:20,et={offset:C,limit:it};return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(p,"/vaults/").concat(H,"/strategy/detail/list"),{params:et})},gt=function(p){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,it=p.chainId,et=p.vaultAddress,Pt=(0,u.Z)(p,rt);return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(it,"/vaults/").concat(et,"/verifiedApy"),{params:(0,l.Z)({offset:H,limit:C},Pt)})},Mt=function(p,H,C,it,et){if(!(0,z.isNil)(C))return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(p,"/vaults/").concat(H,"/allocation/").concat(C,"/").concat(it),{method:"patch",headers:et})},I=function(p){var H=p.strategyName,C=p.vaultAddress,it=p.chainId,et=p.limit,Pt=et===void 0?10:et,It=p.offset,wt=It===void 0?0:It,Ft=p.sort,St=Ft===void 0?"fetch_timestamp desc":Ft;return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(it,"/vaults/").concat(C,"/strategy/assets"),{params:{strategyName:H,limit:Pt,offset:wt,sort:St}})},V=function(p,H,C){return request("".concat("https://service-pr02-sg.bankofchain.io","/apy/account_apy/accountAddress/").concat(p,"/date/").concat(H),{params:C})},ut=function(p,H){return request("".concat("https://service-pr02-sg.bankofchain.io","/profit/account/").concat(p),{params:H})},W=function(p,H){return request("".concat("https://service-pr02-sg.bankofchain.io","/token/balance/account/").concat(p),{params:_objectSpread({limit:365},H)})},Dt=function(p,H){return request("".concat("https://service-pr02-sg.bankofchain.io","/month_profit/account/").concat(p),{params:H})},Tt={},st=function(p){var H=p.chainId,C=p.tokenType,it=p.duration,et=p.offset,Pt=et===void 0?0:et,It=p.limit,wt=p.useCache,Ft=wt===void 0?!0:wt,St="".concat(H,"-").concat(it,"-").concat(C,"-").concat(Pt,"-").concat(It);return Ft&&Tt[St]?Promise.resolve(Tt[St]):(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/apy/vault_apy"),{params:{chainId:H,duration:it,offset:Pt,limit:It,tokenType:C}}).then(function(de){return Tt[St]=de,de})},N={},t=function(p){var H=p.chainId,C=p.offset,it=C===void 0?0:C,et=p.limit,Pt=p.tokenType,It=p.useCache,wt=It===void 0?!0:It,Ft="".concat(H,"-").concat(it,"-").concat(Pt,"-").concat(et);return wt&&N[Ft]?Promise.resolve(N[Ft]):(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/token/totalSupply"),{params:{chainId:H,offset:it,limit:et,tokenType:Pt}}).then(function(St){return N[Ft]=St,St})},Ut=function(){Tt={},N={}},Ot=function(p,H,C){var it=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,et=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20,Pt={strategyAddress:C,offset:it,limit:et},It="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(p,"/vaults/").concat(H,"/verifiedApy/daily");return(0,h.WY)(It,{params:Pt})},xt=function(p,H,C){var it=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{limit:30},et="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(p,"/vaults/").concat(H,"/data_collects/types/").concat(C);return(0,h.WY)(et,{params:it})},zt=function(p){return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/verifiedApy/riskon"),{params:p})},k=function(p){return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/officialApy/riskon"),{params:p})},Qt=function(p){return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/sampleApy/riskon"),{params:p})}},62904:function(yt,Q,e){"use strict";e.d(Q,{u:function(){return Mt}});var u=e(39428),l=e(34792),h=e(55026),z=e(3182),X=e(13311),rt=e.n(X),U=e(41609),y=e.n(U),E=e(89850),gt=e(50999),Mt=function(){var I=(0,z.Z)((0,u.Z)().mark(function V(ut,W,Dt){var Tt,st,N,t,Ut,Ot,xt=arguments;return(0,u.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(Tt=xt.length>3&&xt[3]!==void 0?xt[3]:{},st=Tt.resolveWhenUnsupport,N=rt()(E.ZP,{id:ut}),!y()(N)){k.next=5;break}return k.abrupt("return");case 5:if(W){k.next=7;break}return k.abrupt("return");case 7:if(t=[gt.m.MetaMask.info.symbol],t.includes(Dt)){k.next=13;break}if(!st){k.next=11;break}return k.abrupt("return");case 11:return h.default.warning("Switch networks in your wallet, then reconnect"),k.abrupt("return",Promise.reject());case 13:return Ut=[{chainId:"0x".concat(Number(N.id).toString(16)),chainName:N.name,nativeCurrency:N.nativeCurrency,rpcUrls:[N.rpcUrl],blockExplorerUrls:[N.blockExplorer]}],k.prev=14,k.next=17,W.send("wallet_switchEthereumChain",[{chainId:Ut[0].chainId}]);case 17:Ot=k.sent,k.next=33;break;case 20:if(k.prev=20,k.t0=k.catch(14),k.t0.code!==4001){k.next=24;break}return k.abrupt("return",Promise.reject());case 24:return k.prev=24,k.next=27,W.send("wallet_addEthereumChain",Ut);case 27:Ot=k.sent,k.next=33;break;case 30:return k.prev=30,k.t1=k.catch(24),k.abrupt("return",Promise.reject());case 33:Ot&&console.log(Ot);case 34:case"end":return k.stop()}},V,null,[[14,20],[24,30]])}));return function(ut,W,Dt){return I.apply(this,arguments)}}()},9292:function(yt,Q,e){"use strict";e.d(Q,{FH:function(){return rt},Wl:function(){return y},Ik:function(){return E},Ay:function(){return gt}});var u=e(905),l=e(96486),h=e.n(l),z=e(41609),X=e.n(z),rt=function(I){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!(0,l.isNil)(I)){if((0,l.isNull)(V))return I.toString();var ut=(0,u.Z)(V.toString());if(X()(I)||ut.isZero())return 0;var W=(0,u.Z)(I.toString()).div(ut);if(W.isInteger())return W.toFixed();for(var Dt=arguments.length,Tt=new Array(Dt>2?Dt-2:0),st=2;st<Dt;st++)Tt[st-2]=arguments[st];return W.toFixed.apply(W,Tt)}},U=2,y=function(I,V){var ut=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U,W=(0,u.Z)(I.toString()),Dt=(0,u.Z)(10).pow(V),Tt=V>6&&!W.eq(0)&&W.abs().lt((0,u.Z)(10).pow(V-ut+1)),st;return Tt?(st=rt(W,Dt,V-W.abs().toString().length+1),st):(st=rt(W,Dt,ut),parseFloat(st))},E=function(I){var V=parseFloat(I);return isNaN(V)?I:V<=1e3?V:"1000+"},gt=function(I){var V=parseFloat(I);return isNaN(V)?I:V<=1e3?V:1e3}}}]);
