(self.webpackChunkboc_dashboard=self.webpackChunkboc_dashboard||[]).push([[364,571],{6371:function(vt){vt.exports={container:"container___3FHkQ"}},69255:function(vt){vt.exports={chartCard:"chartCard___1WAYR",title:"title___1qSNX",chartTop:"chartTop___fyf1y",chartTopMargin:"chartTopMargin___35U93",chartTopHasMargin:"chartTopHasMargin___3PZ2W",metaWrap:"metaWrap___1o2cx",avatar:"avatar___3W_MV",meta:"meta___BxwkJ",action:"action___2rX_t",total:"total___13buZ",unit:"unit___3h93V",content:"content___1u1VV",contentFixed:"contentFixed___8g0La",footer:"footer___1DC6W",card:"card___3ClYk"}},18973:function(vt){vt.exports={main:"main___E0u3n",text:"text___1bwgD"}},3691:function(vt){vt.exports={container:"container___1YjeH"}},90958:function(vt){vt.exports={salesCard:"salesCard___29v2i",salesBar:"salesBar___yX0jY",salesRank:"salesRank___3emXv",salesCardExtra:"salesCardExtra___1zn45",vaultKeyCard:"vaultKeyCard___3fhgC",tabMobile:"tabMobile___OIzik",chartDiv:"chartDiv___35wVQ",chartDivMobile:"chartDivMobile___3S_E5",tableCell:"tableCell___28uXK",text:"text___2ww9t",trendText:"trendText___22_c0",chartWrapper:"chartWrapper___3eEAM",buttons:"buttons___1vScW",field:"field___1vkrW",label:"label___3KSeF",number:"number___3Vb_1",history:"history___1YR66"}},91907:function(vt,q,e){"use strict";var d=e(30887),c=e(28682),r=e(67294),Z=e(65367),dt=e(89850),tt=e(53651),Dt=e(35161),I=e.n(Dt),E=e(63105),gt=e.n(E),jt=e(62904),L=e(43077),_=e(6371),ft=e.n(_),H=e(85893),St=I()(gt()(dt.ZP,function(ct){return!(tt.ux&&ct.id==="137")}),function(ct){return{label:ct.name,value:ct.id}}),Tt=function(W){var t=W.chains,Ut=t===void 0?St:t,kt=W.shouldChangeChain;if(Ut.length<=1)return null;var bt=(0,Z.tT)("@@initialState"),Xt=bt.initialState,k=(0,L.Z)(),Jt=k.userProvider,i=k.getWalletName,h=function(ot){var it=ot.key,Ot=Z.m8.location.query.vault,Bt=Promise.resolve();kt&&(Bt=(0,jt.u)(it,Jt,i(),{resolveWhenUnsupport:!0})),Bt.then(function(){Z.m8.push({query:{chain:it,vault:Ot}}),setTimeout(function(){location.reload()},100)})},F={borderBottom:"none",justifyContent:"center",backgroundColor:"transparent"};return(0,H.jsx)("div",{className:ft().container,children:(0,H.jsx)(c.Z,{mode:"horizontal",style:F,items:Ut,selectedKeys:[Xt.chain],onClick:h})})};q.Z=Tt},69157:function(vt,q,e){"use strict";var d=e(12968),c=e(62462),r=e(67294),Z=e(47037),dt=e.n(Z),tt=e(96486),Dt=e.n(tt),I=e(35161),E=e.n(I),gt=e(85893),jt="".concat("https://v2.bankofchain.io","/default.png"),L=function(ft){var H=ft.array,St=H===void 0?[]:H,Tt=ft.size,ct=Tt===void 0?24:Tt,W=function(Ut,kt){return(0,gt.jsx)(c.Z,{title:Ut,preview:!1,width:ct,style:{borderRadius:"50%"},wrapperStyle:{marginLeft:kt===0?0:-10,zIndex:St.length-kt},src:"".concat("https://v2.bankofchain.io","/images/").concat(Ut,".png"),fallback:jt},"".concat(Ut+kt))};return dt()(St)?W(St,0):(0,tt.isArray)(St)?(0,gt.jsx)("div",{children:E()(St,function(t,Ut){return W(t,Ut)})}):(0,gt.jsx)("span",{})};q.Z=L},93083:function(vt,q,e){"use strict";e.d(q,{hU:function(){return gt},me:function(){return E}});var d=e(45697),c=e.n(d),r=e(1852),Z=e.n(r),dt=function(L){var _=L.children,ft=(0,r.useMediaQuery)({minWidth:992});return ft?_:null};dt.propTypes={children:c().element};var tt=function(L){var _=L.children,ft=(0,r.useMediaQuery)({minWidth:768,maxWidth:991});return ft?_:null};tt.propTypes={children:c().element};var Dt=function(L){var _=L.children,ft=(0,r.useMediaQuery)({maxWidth:767});return ft?_:null};Dt.propTypes={children:c().element};var I=function(L){var _=L.children,ft=(0,r.useMediaQuery)({minWidth:768});return ft?_:null};I.propTypes={children:c().element};var E={Desktop:"Desktop",Tablet:"Tablet",Mobile:"Mobile"},gt=function(){var L=(0,r.useMediaQuery)({minWidth:992}),_=(0,r.useMediaQuery)({minWidth:768,maxWidth:991});return L?E.Desktop:_?E.Tablet:E.Mobile}},98821:function(vt,q,e){"use strict";e.d(q,{$c:function(){return Dt}});var d=e(20228),c=e(11382),r=e(67294),Z=e(40684),dt=e(85893),tt=(0,dt.jsx)(c.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:20,fontSize:14},tip:"Loading...."}),Dt=(0,Z.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(462),e.e(272)]).then(e.bind(e,56272))},{fallback:tt}),I=(0,Z.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(693),e.e(42)]).then(e.bind(e,59042))},{fallback:tt}),E=(0,Z.ZP)(function(){return Promise.all([e.e(80),e.e(274),e.e(417)]).then(e.bind(e,48417))},{fallback:tt})},42411:function(vt,q,e){"use strict";e.d(q,{Z:function(){return kt}});var d=e(11849),c=e(30381),r=e.n(c),Z=e(41609),dt=e.n(Z),tt=e(76492),Dt="52px";function I(bt){var Xt=!dt()(bt.seriesData)&&bt.dataZoom,k={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:Xt?Dt:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{type:"category",data:bt.xAxisData},yAxis:{type:"value"},dataZoom:Xt?bt.dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:bt.seriesName?bt.seriesName:"",data:bt.seriesData,type:"line",lineStyle:{color:bt.color?bt.color:{type:"linear",colorStops:[{offset:0,color:"rgb(204, 186, 250)"},{offset:.5,color:"rgb(144, 123, 247)"},{offset:.6,color:"rgb(95, 128, 249)"},{offset:.95,color:"rgb(80, 132, 250)"},{offset:1,color:"rgb(166, 192, 252)"}]},width:3},smooth:bt.smooth,step:bt.step}]};return(0,d.Z)((0,d.Z)({},(0,tt.s)(bt.seriesData.length>0)),k)}var E=e(84486),gt=e.n(E),jt=e(7654),L=e.n(jt),_=e(52353),ft=e.n(_),H=e(14293),St=e.n(H),Tt=e(63105),ct=e.n(Tt),W=e(84238),t=e.n(W),Ut=function(Xt,k,Jt){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},h=i.format,F=h===void 0?"MM-DD HH:mm":h,C=i.xAxis,ot=i.yAxis,it=i.smooth,Ot=it===void 0?!1:it,Bt=i.step,$t=i.dataZoom,Gt=i.needMinMax,xt=Gt===void 0?!0:Gt,ce=i.yAxisMin,pe=ce===void 0?function(Vt){return parseInt(Vt.min*.9999*Math.pow(10,4))/Math.pow(10,4)}:ce,je=i.yAxisMax,be=je===void 0?function(Vt){return parseInt(Vt.max*1.0001*Math.pow(10,4))/Math.pow(10,4)}:je,ee=i.tootlTipSuffix,et=ee===void 0?"(UTC)":ee,Ae=i.tootlTipFormat,Ee=Ae===void 0?"YYYY-MM-DD HH:mm":Ae,De=[],Me=[],ie={};Xt.forEach(function(Vt){var Q=r()(Vt.date).add(1,"days").format(Ee);et&&(Q="".concat(Q," ").concat(et)),ie[Q]=r()(Vt.date).add(1,"days").format(F),De.push(Q),Me.push(Vt[k])});var Kt=I({xAxisData:De,seriesName:Jt,seriesData:Me,smooth:Ot,dataZoom:$t});if(Kt.yAxis=(0,d.Z)((0,d.Z)({},Kt.yAxis),ot),Kt.xAxis=(0,d.Z)((0,d.Z)({axisLabel:{formatter:function(Q){return ie[Q]}}},Kt.xAxis),C),Kt.yAxis.splitLine={lineStyle:{color:"#454459"}},xt&&(Kt.yAxis.min=pe,Kt.yAxis.max=be),Kt.series[0].connectNulls=!0,Kt.series[0].showSymbol=t()(ct()(Me,function(Vt){return!St()(Vt)}))===1,Kt.series[0].lineStyle={width:5,cap:"round"},Bt){var ve=Kt.series[0].data;gt()(ve,function(Vt,Q){(ft()(Vt)||L()(Vt))&&Q!==0&&(ve[Q]=ve[Q-1])})}return Kt},kt=Ut},10501:function(vt,q,e){"use strict";e.d(q,{Z:function(){return r}});var d=e(11849),c=e(76492);function r(Z){var dt=[],tt=0,Dt=[];Dt=Z.data,Dt.length>0&&Dt.forEach(function(E){var gt=(0,d.Z)({name:E.seriesName?E.seriesName:"",data:E.seriesData,type:"line",showSymbol:E.showSymbol,lineStyle:{width:5,cap:"round"}},E);tt+=E.seriesData.length,dt.push(gt)});var I={animation:!1,textStyle:{color:"#fff"},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"},confine:!0},legend:Z.legend,xAxis:{type:"category",data:Z.xAxisData},yAxis:{type:"value"},series:dt};return Z.tooltipFormatter&&(I.tooltip.formatter=Z.tooltipFormatter),(0,d.Z)((0,d.Z)({},(0,c.s)(tt>0)),I)}},76492:function(vt,q,e){"use strict";e.d(q,{s:function(){return d}});function d(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return c?{}:{graphic:{type:"text",left:"center",top:"middle",silent:!0,invisible:!1,style:{fill:"#9d9d9d",fontWeight:"bold",text:"No Data",fontSize:"25px"}}}}},22844:function(vt,q,e){"use strict";e.d(q,{O2:function(){return c},DO:function(){return r},Nd:function(){return Z},A7:function(){return dt}});var d=e(905),c={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},r=18,Z=(0,d.Z)(1e18),dt=4},53651:function(vt,q,e){"use strict";e.d(q,{Gj:function(){return d},KR:function(){return c},ux:function(){return r}});var d={daily:"daily",monthly:"monthly",weekly:"weekly",yearly:"yearly"},c={usdi:"USDi",ethi:"ETHi"},r=!1},55414:function(vt,q,e){"use strict";e.d(q,{o1:function(){return Z},tX:function(){return dt}});var d=["Balancer","UniswapV2","Dodo","Sushi_Kashi","Sushi_Swap","Convex","Rari","UniswapV3","YearnEarn","YearnV2","YearnIron","GUni","Stargate","DForce","Synapse","Aura","Aave"],c=["Curve","Aave","Balancer","Gravity","Polycat","Qi","Quickswap","Sushi","Synapse","Dodo","Stargate","UniswapV3"],r=["Balancer","UniswapV2","Convex","Aura","UniswapV3","StakeWise","YearnV2","Aave"],Z={1:d,137:c},dt={1:r}},7594:function(vt,q,e){"use strict";e.r(q);var d=e(57106),c=e(99683),r=e(57663),Z=e(71577),dt=e(67294),tt=e(65367),Dt=e(85893),I=function(){return(0,Dt.jsx)(c.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:(0,Dt.jsx)(Z.Z,{type:"primary",onClick:function(){return tt.m8.push("/")},children:"Back Home"})})};q.default=I},38465:function(vt,q,e){"use strict";e.r(q),e.d(q,{default:function(){return An}});var d=e(11849),c=e(32059),r=e(67294),Z=e(65367),dt=e(13062),tt=e(36725),Dt=e(89032),I=e(1635),E=e(2824),gt=e(21349),jt=e(22385),L=e(45777),_=e(93224),ft=e(58024),H=e(91894),St=e(94184),Tt=e.n(St),ct=e(69255),W=e.n(ct),t=e(85893),Ut=["loading"],kt=["contentHeight","title","avatar","action","total","footer","children"],bt=function(a,o){if(!a&&a!==0)return null;var s;switch(typeof a){case"undefined":s=null;break;case"function":s=(0,t.jsxs)("div",{className:W().total,children:[(0,t.jsx)("span",{children:a()}),o&&(0,t.jsx)("span",{className:W().unit,children:o})]});break;default:s=(0,t.jsxs)("div",{className:W().total,children:[(0,t.jsx)("span",{children:a}),o&&(0,t.jsx)("span",{className:W().unit,children:o})]})}return s},Xt=function(a){var o=a.loading,s=o===void 0?!1:o,p=(0,_.Z)(a,Ut),y=p.contentHeight,T=p.title,D=p.avatar,M=p.action,x=p.total,m=p.footer,A=p.children,g=(0,_.Z)(p,kt),at=function(){return s?!1:(0,t.jsxs)("div",{className:W().chartCard,children:[(0,t.jsxs)("div",{className:Tt()(W().chartTop),children:[(0,t.jsx)("div",{className:W().avatar,children:D}),(0,t.jsxs)("div",{className:W().metaWrap,children:[(0,t.jsxs)("div",{className:W().meta,children:[(0,t.jsx)("span",{className:W().title,children:T}),(0,t.jsx)("span",{className:W().action,children:M})]}),bt(x,a.unit)]})]}),A&&(0,t.jsx)("div",{className:W().content,style:{height:y||"auto"},children:(0,t.jsx)("div",{className:y&&W().contentFixed,children:A})}),m&&(0,t.jsx)("div",{className:Tt()(W().footer,(0,c.Z)({},W().footerMargin,!A)),children:m})]})};return(0,t.jsx)(H.Z,(0,d.Z)((0,d.Z)({loading:s,className:W().card},g),{},{children:at()}))},k=Xt,Jt=e(68628),i=e(96486),h=e(25091),F=e(90958),C=e.n(F),ot=["label","value"],it={xs:24,sm:24,md:24,lg:8,xl:8},Ot=function(a){var o=a.label,s=a.value,p=(0,_.Z)(a,ot);return(0,t.jsxs)("div",(0,d.Z)((0,d.Z)({className:C().field},p),{},{children:[(0,t.jsx)("span",{className:C().label,children:o}),(0,t.jsx)("span",{className:C().number,children:s})]}))},Bt=function(a){var o=a.data,s=o===void 0?[]:o;return(0,t.jsx)(tt.Z,{gutter:[24,24],children:(0,i.map)(s,function(p){var y=p.title,T=p.tip,D=p.loading,M=p.content,x=p.unit,m=p.subTitle,A=(0,t.jsx)(Ot,{style:{height:"1.5rem"},value:m});return!m&&(0,h.tq)()&&(A=null),(0,t.jsx)(I.Z,(0,d.Z)((0,d.Z)({},it),{},{children:(0,t.jsx)(k,{bordered:!1,title:y,action:(0,t.jsx)(L.Z,{title:T,children:(0,t.jsx)(Jt.Z,{style:{fontSize:22}})}),loading:D,total:M,unit:x,footer:A})}),y)})})},$t=Bt,Gt=e(88983),xt=e(82530),ce=e(43358),pe=e(76647),je=e(18106),be=e(47428),ee=e(98821),et=e(93083),Ae=be.Z.TabPane,Ee=pe.Z.Option;function De(V){var a,o=V.isUsdi,s=V.loading,p=s===void 0?!1:s,y=V.calDateRange,T=y===void 0?7:y,D=V.onCalDateRangeClick,M=D===void 0?function(){}:D,x=V.apyEchartOpt,m=x===void 0?{}:x,A=V.tvlEchartOpt,g=A===void 0?{}:A,at=(0,et.hU)(),b=(a={},(0,c.Z)(a,et.me.Desktop,{chartWrapperClassName:C().chartDiv}),(0,c.Z)(a,et.me.Tablet,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:C().chartDivMobile}),(0,c.Z)(a,et.me.Mobile,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:C().chartDivMobile,tabClassName:C().tabMobile}),a)[at],yt=function(w){typeof w=="number"?M(w):M(w.target.value)},ht=(0,t.jsx)("div",{className:C().buttons,children:(0,t.jsxs)(xt.ZP.Group,{value:T,onChange:yt,buttonStyle:"solid",children:[(0,t.jsx)(L.Z,{title:"last 7 days",children:(0,t.jsx)(xt.ZP.Button,{value:7,children:"WEEK"})}),(0,t.jsx)(L.Z,{title:"last 30 days",children:(0,t.jsx)(xt.ZP.Button,{value:31,children:"MONTH"})}),(0,t.jsx)(L.Z,{title:"last 365 days",children:(0,t.jsx)(xt.ZP.Button,{value:365,children:"YEAR"})})]})});return at===et.me.Mobile&&(ht=(0,t.jsxs)(pe.Z,{style:{width:120},value:T,onChange:yt,children:[(0,t.jsx)(Ee,{value:7,children:"WEEK"}),(0,t.jsx)(Ee,{value:31,children:"MONTH"}),(0,t.jsx)(Ee,{value:365,children:"YEAR"})]})),(0,t.jsx)(H.Z,(0,d.Z)((0,d.Z)({loading:p,bordered:!1},b.cardProps),{},{children:(0,t.jsx)("div",{className:C().vaultKeyCard,children:(0,t.jsxs)(be.Z,{animated:!0,className:Tt()(b.tabClassName),tabBarExtraContent:ht,children:[(0,t.jsx)(Ae,{tab:"APY (%)",children:(0,t.jsx)("div",{className:b.chartWrapperClassName,children:(0,t.jsx)(ee.$c,{option:m,style:{height:"100%",width:"100%"}})})},"apy"),(0,t.jsx)(Ae,{tab:"Total Supply",children:(0,t.jsx)("div",{className:b.chartWrapperClassName,children:(0,t.jsx)(ee.$c,{option:g,style:{height:"100%",width:"100%"}})})},"totalSupply")]})})}))}var Me=e(96222),ie=e(22533),Kt=e(12968),ve=e(62462),Vt=e(86582),Q=e(905),j=e(9292),la=function(a){var o,s=a.tokenDecimals,p=a.displayDecimals,y=a.strategyMap,T=a.visitData,D=T===void 0?{}:T,M=a.unit,x=(0,Z.tT)("@@initialState"),m=x.initialState,A=(0,et.hU)();if(!m.chain)return null;var g=D.strategies,at=g===void 0?[]:g,b=D.totalValueInVault,yt=b===void 0?"0":b,ht=(0,i.reduce)(at,function(B,v){return B.plus(v.totalValue)},(0,Q.Z)(0)),N=(0,Q.Z)(yt).plus(ht),w=(0,i.groupBy)((0,i.filter)(at,function(B){return B.totalValue>0}),"protocol"),$=[].concat((0,Vt.Z)((0,i.values)((0,i.mapValues)(w,function(B,v){var l=(0,i.reduce)(B,function(R,S){return R.plus(S.totalValue)},(0,Q.Z)(0));return{name:y[m.chain][v],amount:l,percent:l.div(N)}}))),[{name:"Vault",amount:(0,Q.Z)(yt),percent:N.eq(0)?"0":(0,Q.Z)(yt).div(N)}]),st=[{title:"Protocol Name",dataIndex:"name",key:"name",render:function(v){return(0,t.jsxs)("div",{className:C().tableCell,children:[(0,t.jsx)(ve.Z,{width:30,preview:!1,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(v,".png"),placeholder:v,alt:v,style:{borderRadius:"50%"},fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("span",{className:C().text,children:v})]})}},{title:"Asset (".concat(M,")"),dataIndex:"amount",key:"amount",showSorterTooltip:!1,sorter:function(v,l){return v.amount.minus(l.amount)},render:function(v){return(0,j.FH)(v.toString(),s,p)}},{title:"Asset Ratio",dataIndex:"percent",key:"percent",defaultSortOrder:"descend",showSorterTooltip:!1,sorter:function(v,l){return v.percent.minus(l.percent)},render:function(v){return(0,t.jsxs)("span",{children:[(0,j.FH)(v,.01,2),"%"]})}}],pt=(o={},(0,c.Z)(o,et.me.Desktop,{}),(0,c.Z)(o,et.me.Tablet,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),(0,c.Z)(o,et.me.Mobile,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),o)[A];return(0,t.jsx)("div",{children:(0,t.jsx)(ie.Z,(0,d.Z)({rowKey:function(v){return v.name},columns:st,dataSource:$,pagination:!1},pt.tableProps))})},oa=la,En=e(13254),ua=e(14277),da=e(88377),ca=e(92077),Ct=e.n(ca),pa=function(a){var o,s=a.strategyMap,p=a.tokenDecimals,y=a.displayDecimals,T=a.visitData,D=T===void 0?{}:T,M=a.unit,x=D.strategies,m=x===void 0?[]:x,A=D.totalValueInVault,g=A===void 0?"0":A,at=(0,Z.tT)("@@initialState"),b=at.initialState,yt=(0,et.hU)(),ht=" (".concat(M,")");if(!b.chain)return null;var N=(0,i.reduce)(m,function(v,l){return v.plus(l.totalValue)},(0,Q.Z)(0)),w=(0,Q.Z)(g).plus(N),$=(0,i.groupBy)((0,i.filter)(m,function(v){return v.totalValue>0}),"protocol"),st=(0,j.FH)(w,p,y);if((0,i.isEmpty)($)&&st<=0||isNaN(st))return(0,t.jsx)(ua.Z,{style:{marginTop:"4rem"}});var pt=[].concat((0,Vt.Z)((0,i.values)((0,i.mapValues)($,function(v,l){var R=(0,i.reduce)(v,function(S,O){return S.plus(O.totalValue)},(0,Q.Z)(0));return{Protocol:"".concat(s[b.chain][l]).concat(ht),amount:(0,j.FH)(R,p,y)}}))),[{Protocol:"Vault".concat(ht),amount:(0,j.FH)(g,p,y)}]),B=(o={},(0,c.Z)(o,et.me.Desktop,{legendProps:{position:"bottom-center"}}),(0,c.Z)(o,et.me.Tablet,{legendProps:{position:"bottom-center"}}),(0,c.Z)(o,et.me.Mobile,{legendProps:{position:"bottom-center"}}),o)[yt];return(0,t.jsx)("div",{className:C().chartWrapper,children:(0,t.jsx)(da.yi,{forceFit:!0,padding:"auto",angleField:"amount",color:["#A68EFE","#2ec7c9","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4"],colorField:"Protocol",data:pt,legend:(0,d.Z)({visible:!0,text:{style:{fill:"#fff"},formatter:function(l){return l.replace(ht,"")}}},B.legendProps),label:{visible:!1,type:"spider",offset:20,formatter:function(l,R){return"".concat(R._origin.Protocol,": ").concat(R._origin.amount)}},interactions:[{type:"element-selected"},{type:"element-active"}],statistic:{visible:!0,content:{value:Ct()((0,j.FH)(w,p,y)).format("0.[0000]a"),name:"TVL".concat(ht)}}})})},va=pa,Lt=e(1123);function _e(V){var a,o=V.loading,s=o===void 0?!1:o,p=V.tokenDecimals,y=V.strategyMap,T=y===void 0?{}:y,D=V.vaultData,M=D===void 0?{}:D,x=V.unit,m=x===void 0?"USD":x,A=V.displayDecimals,g=A===void 0?Lt.h:A,at=(0,et.hU)(),b=(a={},(0,c.Z)(a,et.me.Desktop,{}),(0,c.Z)(a,et.me.Tablet,{cardProps:{size:"small"}}),(0,c.Z)(a,et.me.Mobile,{cardProps:{size:"small"}}),a)[at];return(0,t.jsx)(H.Z,(0,d.Z)((0,d.Z)({loading:s,className:C().salesCard,bordered:!1,title:"Vault Protocol Allocations"},b.cardProps),{},{children:(0,t.jsxs)(tt.Z,{children:[(0,t.jsx)(I.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(va,{loading:s,strategyMap:T,tokenDecimals:p,displayDecimals:g,visitData:M||{},unit:m})})}),(0,t.jsx)(I.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(oa,{loading:s,strategyMap:T,tokenDecimals:p,displayDecimals:g,visitData:M||{},unit:m})})})]})}))}var Dn=e(77576),fa=e(12028),Sn=e(54029),ya=e(79166),ma=e(69157),ha=e(26985),Yt=e(860),ga=function(a){var o,s=a.loading,p=a.strategyMap,y=a.displayDecimals,T=y===void 0?Lt.h:y,D=a.unit,M=D===void 0?"USD":D,x=(0,r.useState)(!0),m=(0,E.Z)(x,2),A=m[0],g=m[1],at=(0,Z.tT)("@@initialState"),b=at.initialState,yt=(0,et.hU)(),ht=(0,Z.QT)(function(){return(0,Yt.mB)(b.chain,b.vaultAddress,0,100)},{formatResult:function(l){return(0,i.sortBy)(l.content,["strategyName"])}}),N=ht.data;if(!b.chain)return null;var w=(0,Q.Z)(1e18),$=[{title:(0,t.jsxs)("div",{children:["Name\xA0\xA0",(0,t.jsx)(L.Z,{placement:"topLeft",arrowPointAtCenter:!0,overlayStyle:{width:300},title:"By clicking on the strategy name you will be directed to the strategy page with all the related information viewable, e.g., strategy profits and official APY.",children:(0,t.jsx)(Jt.Z,{})})]}),dataIndex:"strategyName",key:"strategyName",width:320,render:function(l,R){return(0,t.jsxs)("div",{className:C().tableCell,children:[(0,t.jsx)(ve.Z,{preview:!1,width:30,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(p[b.chain][R.protocol],".png"),placeholder:R.protocol,style:{borderRadius:"50%"},alt:p[b.chain][R.protocol],fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat((0,ha.i)()?"https://dashboard.bankofchain.io":"https://dashboard-v2.bankofchain.io","/#/strategy?id=").concat(R.strategyAddress,"&chain=").concat(b.chain,"&vault=").concat(b.vault),className:C().text,children:l})]})}},{title:"Tokens",dataIndex:"underlyingTokens",key:"underlyingTokens",width:130,render:function(l){return!(0,i.isEmpty)(l)&&(0,t.jsx)(ma.Z,{array:l.split(",")})}},{title:"Asset (".concat(M,")"),dataIndex:"totalAssetBaseCurrent",key:"totalAssetBaseCurrent",showSorterTooltip:!1,defaultSortOrder:"descend",sorter:function(l,R){return(0,Q.Z)(l.totalAssetBaseCurrent||"0").minus((0,Q.Z)(R.totalAssetBaseCurrent||"0"))},render:function(l){return(0,t.jsx)("span",{children:(0,j.FH)(l||"0",w,T)})}},{title:"Weekly Official APY",dataIndex:"officialWeeklyApy",key:"officialWeeklyApy",showSorterTooltip:!1,sorter:function(l,R){return l.officialWeeklyApy-R.officialWeeklyApy},render:function(l){return(0,t.jsxs)("span",{children:[(0,j.Ik)((100*l).toFixed(2)),"%"]})}},{title:"Weekly Realized APY",dataIndex:"realizedApy",key:"realizedApy",showSorterTooltip:!1,sorter:function(l,R){var S=l.realizedApy||{value:"0"},O=S.value,X=R.realizedApy||{value:"0"},K=X.value;return O-K},render:function(l){if((0,i.isEmpty)(l))return(0,t.jsx)("span",{children:"0.00%"});var R=l.value,S=l.detail,O=(0,t.jsxs)("span",{children:[(0,j.Ik)((100*R).toFixed(2)),"%"]});if((0,i.isEmpty)(S))return O;var X=(0,t.jsx)("div",{children:(0,i.map)(S,function(K,lt){return(0,t.jsxs)("span",{style:{display:"block"},children:[K.feeName,": ",(0,j.Ik)((100*K.feeApy).toFixed(2)),"%"]},lt)})});return(0,t.jsxs)("span",{children:[O,"\xA0",(0,t.jsx)(L.Z,{title:X,children:(0,t.jsx)(Jt.Z,{})})]})}},{title:"Weekly Unrealized APY",dataIndex:"unrealizedApy",key:"unrealizedApy",showSorterTooltip:!1,sorter:function(l,R){var S=l.unrealizedApy||{value:"0"},O=S.value,X=R.unrealizedApy||{value:"0"},K=X.value;return O-K},render:function(l){if((0,i.isEmpty)(l))return(0,t.jsx)("span",{children:"0.00%"});var R=l.value,S=l.detail,O=(0,t.jsxs)("span",{children:[(0,j.Ik)((100*R).toFixed(2)),"%"]});if((0,i.isEmpty)(S))return O;var X=(0,t.jsx)("div",{children:(0,i.map)(S,function(K,lt){return(0,t.jsxs)("span",{style:{display:"block"},children:[K.feeName,": ",(0,j.Ik)((100*K.feeApy).toFixed(2)),"%"]},lt)})});return(0,t.jsxs)("span",{children:[O,"\xA0",(0,t.jsx)(L.Z,{title:X,children:(0,t.jsx)(Jt.Z,{})})]})}},{title:"Weekly Realized Profit",dataIndex:"weekProfit",key:"weekProfit",render:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1?arguments[1]:void 0,S=R.estimateProfit,O=R.tokenUnit,X=O===void 0?"":O,K=(0,i.isNil)(S),lt=(0,t.jsx)(ya.Z,{dot:!K,color:"gold",children:(0,t.jsxs)("span",{children:[(0,j.FH)(l||"0",w,T)," ",X||""]})});if(K)return lt;var ut=(0,t.jsxs)("span",{children:["Estimate Profit: ",(0,j.FH)(S,w,T)," ",X||""]});return(0,t.jsx)(L.Z,{title:ut,children:lt})}},{title:"Strategy Address",dataIndex:"strategyAddress",key:"strategyAddress",align:"center",render:function(l,R){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[b.chain],"/address/").concat(R.strategyAddress),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}],st=A?N:(0,i.filter)(N,function(v){return(0,Q.Z)(v.totalAsset).gt(0)}),pt=(o={},(0,c.Z)(o,et.me.Desktop,{}),(0,c.Z)(o,et.me.Tablet,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}}),(0,c.Z)(o,et.me.Mobile,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"mobile-font-size",scroll:{x:900}}}),o)[yt],B="Vault Strategies Allocations";return yt===et.me.Mobile&&(B="Strategies Allocations"),(0,t.jsx)("div",{children:(0,t.jsx)(H.Z,(0,d.Z)((0,d.Z)({loading:s,bordered:!1,title:B,extra:(0,t.jsxs)("div",{children:[(0,t.jsx)(fa.Z,{checked:A,onChange:function(){return g(!A)}}),(0,t.jsx)(L.Z,{title:"show all strategies added in vault",children:(0,t.jsx)("span",{style:{padding:10},children:"Show All"})})]})},pt.cardProps),{},{children:(0,t.jsx)(ie.Z,(0,d.Z)({rowKey:function(l){return l.strategyAddress},columns:$,dataSource:st,pagination:(st==null?void 0:st.length)>10&&{style:{marginBottom:0},pageSize:10}},pt.tableProps))}))})},We=ga,Ta=e(30381),re=e.n(Ta),xa=e(35161),Mt=e.n(xa),Aa=e(39693),Ea=e.n(Aa),Nt=e(39428),oe=e(3182),Oe=e(25630),Le=e(94991),ae=e(89850),Ce,Ne={SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethereum","137":""},VAULT_ADDRESS:{"1":"0x30D120f80D60E7b58CA9fFaf1aaB1815f000B7c3","137":""},USDI_ADDRESS:{"1":"0x83131242843257bc6C43771762ba467346Efb2CF","137":""},VAULT_BUFFER_ADDRESS:{"1":"0x0b8D3634a05cc6b50E4D026c0eaFa8469cA98480","137":""}}.SUB_GRAPH_URL,Da=(Ce={},(0,c.Z)(Ce,ae.W3.id,new Oe.f({uri:Ne[ae.W3.id],cache:new Le.h})),(0,c.Z)(Ce,ae.hB.id,new Oe.f({uri:Ne[ae.hB.id],cache:new Le.h})),Ce),Sa=(0,c.Z)({},ae.hB.id,new Oe.f({uri:{SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethi"},VAULT_ADDRESS:{"1":"0x8f0Cb368C63fbEDF7a90E43fE50F7eb8B9411746"},ETHI_ADDRESS:{"1":"0x1A597356E7064D4401110FAa2242bD0B51D1E4Fa"},VAULT_BUFFER_ADDRESS:{"1":"0xC8915157b36ed6D0F36827a1Bb5E9b0cDd1e87Cd"}}.SUB_GRAPH_URL[ae.hB.id],cache:new Le.h})),He=function(a,o){var s,p=(s={},(0,c.Z)(s,Lt._.USDi,Da),(0,c.Z)(s,Lt._.ETHi,Sa),s)[a];return p[o]},we=e(87899),ba=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalValueInVault
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      totalValue
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Ma=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      debtRecordInVault
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Ca=function(){var V=(0,oe.Z)((0,Nt.Z)().mark(function a(o,s){var p,y,T,D,M,x,m,A,g=arguments;return(0,Nt.Z)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(y=g.length>2&&g[2]!==void 0?g[2]:"",T=g.length>3&&g[3]!==void 0?g[3]:"",D=g.length>4&&g[4]!==void 0?g[4]:"",M=He(o,s),!(0,i.isEmpty)(M)){b.next=6;break}return b.abrupt("return");case 6:return x=(p={},(0,c.Z)(p,Lt._.USDi,ba),(0,c.Z)(p,Lt._.ETHi,Ma),p)[o],b.next=9,M.query({query:(0,we.Ps)(x),variables:{tokenAddress:y.toLowerCase(),valutAddress:T.toLowerCase(),vaultBufferAddress:D.toLowerCase()}});case 9:return m=b.sent,A=m.data,b.abrupt("return",A);case 12:case"end":return b.stop()}},a)}));return function(o,s){return V.apply(this,arguments)}}(),Fe=function(){return`
query($types: [PegTokenUpdateType], $first: Int) {
  pegTokenUpdates(
    orderBy: timestamp,
    orderDirection: desc,
    first: $first,
    where: {
      type_in: $types
    },
  ) {
    id
    type
    transferredAmount
    totalSupplyChangeAmount
    timestamp
    fromAccountUpdate {
      account {
        id
      }
    }
    transaction {
      id
    }
		toAccountUpdate {
      account {
        id
      }
    }
  }
}
`},Pa=function(){var V=(0,oe.Z)((0,Nt.Z)().mark(function a(o,s,p){var y,T,D,M,x=arguments;return(0,Nt.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(T=x.length>3&&x[3]!==void 0?x[3]:100,D=He(o,s),!(0,i.isEmpty)(D)){A.next=4;break}return A.abrupt("return");case 4:return M=(y={},(0,c.Z)(y,Lt._.USDi,Fe()),(0,c.Z)(y,Lt._.ETHi,Fe()),y)[o],A.next=7,D.query({query:(0,we.Ps)(M),variables:{types:p,first:T}}).then(function(g){var at;return g==null||(at=g.data)===null||at===void 0?void 0:at.pegTokenUpdates});case 7:return A.abrupt("return",A.sent);case 8:case"end":return A.stop()}},a)}));return function(o,s,p){return V.apply(this,arguments)}}(),$e=e(61303),Ue={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},Za=18,Be=(0,Q.Z)(1e18),Ia=pe.Z.Option,ja=function(a){var o,s,p=a.loading,y=a.dispalyDecimal,T=y===void 0?Lt.h:y,D=a.decimals,M=D===void 0?Za:D,x=a.token,m=x===void 0?"USDi":x,A=a.filterOptions,g=A===void 0?Ue:A,at=(0,Z.tT)("@@initialState"),b=at.initialState,yt=(0,r.useState)([]),ht=(0,E.Z)(yt,2),N=ht[0],w=ht[1],$=(0,r.useState)(!1),st=(0,E.Z)($,2),pt=st[0],B=st[1],v=(0,et.hU)(),l=(0,d.Z)({All:"All"},(0,i.omit)(g,[g.Deposit])),R=(0,r.useState)(l.All),S=(0,E.Z)(R,2),O=S[0],X=S[1],K=(0,r.useState)(1),lt=(0,E.Z)(K,2),ut=lt[0],P=lt[1];(0,r.useEffect)(function(){var Y=[O];O===Ue.Mint&&Y.push(Ue.Deposit);var U=O===l.All?Object.values(g):Y;B(!0),Pa(b.vault,b.chain,U).then(function(z){var rt=Ea()(Mt()(z,function(n){var u,At,It,Rt,Qt;if(!(n.type===g.Mint&&(n==null||(u=n.toAccountUpdate)===null||u===void 0||(At=u.account)===null||At===void 0||(It=At.id)===null||It===void 0?void 0:It.toLowerCase())===((Rt=(0,$e.L)(b.chain,b.vault))===null||Rt===void 0||(Qt=Rt.vaultBufferAddress)===null||Qt===void 0?void 0:Qt.toLowerCase())))return n.type===g.Deposit?(0,d.Z)((0,d.Z)({},n),{},{type:g.Mint}):n}));P(1),w(rt)}).finally(function(){B(!1)})},[O]);var J=function(U){return(0,t.jsx)("a",{target:"_blank",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[b.chain],"/address/").concat(U),title:U,rel:"noreferrer",children:U})},nt=(o={},(0,c.Z)(o,et.me.Desktop,["10rem","10rem","25rem","8rem"]),(0,c.Z)(o,et.me.Tablet,["8rem","8rem",void 0,"8rem"]),(0,c.Z)(o,et.me.Mobile,["8rem","8rem",void 0,"8rem"]),o)[v],Pt=[{title:"Date",dataIndex:"timestamp",key:"timestamp",render:function(U){return(0,t.jsx)(L.Z,{title:"".concat(re()(1e3*U).utcOffset(0).format("yyyy-MM-DD HH:mm:ss")," (UTC)"),children:re()(1e3*U).utcOffset(0).locale("en").fromNow()})}},{title:"Operation",dataIndex:"type",key:"type",ellipsis:{showTitle:!1}},{title:"Details",key:"detail",render:function(U,z){var rt,n,u=z.type,At=z.transferredAmount,It=z.toAccountUpdate,Rt=z.fromAccountUpdate,Qt=z.totalSupplyChangeAmount,Wt=(0,j.Wl)(Qt,M,T),_t=(0,j.Wl)((0,Q.Z)(At).abs(),M,T),Et=(0,j.Wl)(At,M,T),G=(0,j.FH)(Qt,(0,Q.Z)(Math.pow(10,M))),mt=(0,j.FH)((0,Q.Z)(At).abs(),(0,Q.Z)(Math.pow(10,M))),wt=(0,j.FH)(At,(0,Q.Z)(Math.pow(10,M))),le=Rt==null||(rt=Rt.account)===null||rt===void 0?void 0:rt.id,xe=It==null||(n=It.account)===null||n===void 0?void 0:n.id,te={Mint:function(){return(0,t.jsxs)(t.Fragment,{children:[u," ",(0,t.jsx)("span",{title:wt,children:Et})," ",m," to ",J(xe)]})},Burn:function(){return(0,t.jsxs)(t.Fragment,{children:[u," ",(0,t.jsx)("span",{title:mt,children:_t})," ",m," from ",J(le)]})},Rebase:function(){return(0,t.jsxs)(t.Fragment,{children:[u," ",(0,t.jsx)("span",{title:G,children:Wt})," ",m]})},Transfer:function(){return(0,t.jsxs)(t.Fragment,{children:[u," ",(0,t.jsx)("span",{title:wt,children:Et})," ",m," from ",J(le)," to ",J(xe)]})}};return(0,t.jsx)("span",{style:{whiteSpace:"normal"},children:te[z.type]()})}},{title:"Tx Address",key:"tx",ellipsis:{showTitle:!1},align:"center",render:function(U,z){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[b.chain],"/tx/").concat(z.transaction.id),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}];Pt.forEach(function(Y,U){Y.width=nt[U]});var f=function(U){typeof U=="string"?X(U):X(U.target.value)},Zt=(s={},(0,c.Z)(s,et.me.Desktop,{radioGroupProps:{size:"large"}}),(0,c.Z)(s,et.me.Tablet,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{size:"small",scroll:{x:800}}}),(0,c.Z)(s,et.me.Mobile,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{compact:!0,size:"small",scroll:{x:800}}}),s)[v],zt=(0,t.jsx)(xt.ZP.Group,(0,d.Z)((0,d.Z)({value:O,onChange:f,buttonStyle:"solid"},Zt.radioGroupProps),{},{className:C().buttons,children:Mt()(l,function(Y,U){return(0,t.jsx)(xt.ZP.Button,{value:Y,children:U},U)})}));return v===et.me.Mobile&&(zt=(0,t.jsx)(pe.Z,{style:{width:120},value:O,onChange:f,children:Mt()(l,function(Y,U){return(0,t.jsx)(Ia,{value:Y,children:U},U)})})),(0,t.jsx)("div",{children:(0,t.jsx)(H.Z,(0,d.Z)((0,d.Z)({loading:p,bordered:!1,title:"Recent Activity",extra:zt},Zt.cardProps),{},{children:(0,t.jsx)(ie.Z,(0,d.Z)({rowKey:function(U){return U.id},columns:Pt,dataSource:N,loading:pt,pagination:(N==null?void 0:N.length)>10&&{showSizeChanger:!1,style:{marginBottom:0},current:ut,pageSize:10,onChange:function(U){P(U)}}},Zt.tableProps))}))})},Ke=ja,Ye=e(42411),ze=e(10501),Oa=e(51615),Re=e(43077),La=e(62904),Ua=e(652),Ba=e(3691),Ra=e.n(Ba),ka=[{label:"USDi",value:"usdi"},{label:"ETHi",value:"ethi"},{label:"USDr",value:"usdr"},{label:"ETHr",value:"ethr"}],Va=function(){var a=(0,Re.Z)(),o=a.userProvider,s=a.getWalletName,p=(0,Z.tT)("@@initialState"),y=p.initialState,T=p.setInitialState,D=(0,Oa.TH)(),M=function(m){var A=D.query.chain,g=Promise.resolve();(0,Ua.Y)("qa02-sg")&&(m===Lt._.USDr||m===Lt._.ETHr?(A=ae.W3.id,y.walletChainId!==ae.W3.id&&(g=(0,La.u)(A,o,s()))):(m===Lt._.ETHi||m===Lt._.USDi)&&(A=ae.hB.id)),g.then(function(){T((0,d.Z)((0,d.Z)({},y),{},{vault:m},(0,$e.L)(A,m))),Z.m8.push({query:{chain:A||y.chain,vault:m}})})};return(0,t.jsx)(tt.Z,{children:(0,t.jsx)(I.Z,{span:24,className:Ra().container,children:(0,t.jsx)(xt.ZP.Group,{size:"large",onChange:function(m){return M(m.target.value)},value:y.vault,buttonStyle:"solid",children:Mt()(ka,function(x,m){return(0,t.jsx)(xt.ZP.Button,{value:x.value,children:x.label},m)})})})})},Pe=Va,Ze=e(55414),fe=e(53651),qt=e(22844),_a=e(41609),se=e.n(_a),Wa=function(a){var o=a.vault,s=a.chain,p=a.vaultAddress,y=a.tokenAddress,T=a.vaultBufferAddress;return se()(y)||se()(p)?Promise.reject(new Error("fetch tokenAddress or vaultAddress failed")):Ca(o,s,y,p,T).catch(function(D){return console.error("init DashBoard data failed",D),{pegToken:{totalSupply:"0",holderCount:"0"},vault:{totalAssets:"0",strategies:[]},vaultBuffer:{totalSupply:"0"}}})};function Ge(){var V=(0,r.useState)({}),a=(0,E.Z)(V,2),o=a[0],s=a[1],p=(0,r.useState)(!1),y=(0,E.Z)(p,2),T=y[0],D=y[1],M=(0,Z.tT)("@@initialState"),x=M.initialState;return(0,r.useEffect)(function(){x!=null&&x.chain&&(D(!0),Wa(x).then(s).finally(function(){D(!1)}))},[x==null?void 0:x.chain,x==null?void 0:x.vault]),{dataSource:o,loading:T}}var Se=e(2593),Na=e(13311),Ha=e.n(Na),Ie=function(a){for(var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,p=[],y=function(M){var x=a[0]?re()(a[0].date):re()().utcOffset(0).subtract(1,"days"),m=x.subtract(M,"days").format("YYYY-MM-DD"),A=Ha()(a,function(g){return g.date===m})||(0,c.Z)({date:m},o,void 0);p.push(A)},T=0;T<s;T++)y(T);return p},wa=function(){var a=(0,r.useState)(31),o=(0,E.Z)(a,2),s=o[0],p=o[1],y=(0,r.useState)({}),T=(0,E.Z)(y,2),D=T[0],M=T[1],x=(0,r.useState)({}),m=(0,E.Z)(x,2),A=m[0],g=m[1],at=(0,r.useState)(0),b=(0,E.Z)(at,2),yt=b[0],ht=b[1],N=(0,Z.tT)("@@initialState"),w=N.initialState,$=Ge(),st=$.dataSource,pt=st===void 0?{}:st,B=$.loading,v=pt.pegToken,l=v===void 0?{}:v,R=pt.vault,S=R===void 0?{}:R,O=pt.vaultBuffer,X=O===void 0?{}:O;if((0,r.useEffect)(function(){if(!!w.chain){var z={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};s>7&&(z.format="MM-DD"),(0,Yt.ld)({chainId:w.chain,duration:fe.Gj.monthly,limit:s,tokenType:fe.KR.ethi}).then(function(rt){var n=Ie(rt.content,"apy",s),u=(0,i.map)((0,i.reverse)(n),function(G){var mt=G.date,wt=G.apy,le=(0,i.isNil)(wt)?null:"".concat(Ct()(wt).format("0.00"));return{date:mt,apy:le}});ht(rt.content[0]?rt.content[0].apy:0);var At=(0,i.uniq)((0,i.map)(u,function(G){var mt=G.date;return mt})),It=[],Rt=(0,i.map)(At,function(G){var mt=(0,i.find)(u,{date:G});return mt?{value:(0,j.Ay)(mt.apy),label:"".concat((0,j.Ik)(mt.apy),"%")}:null}),Qt=[{seriesName:"APY",seriesData:Rt,showSymbol:(0,i.size)((0,i.filter)(Rt,function(G){return!(0,i.isNil)(G.value)}))===1}],Wt={legend:{data:It,textStyle:{color:"#fff"}},xAxisData:At,data:Qt},_t=(0,ze.Z)(Wt);_t.color=["#A68EFE","#5470c6","#91cc75"],_t.series.forEach(function(G){G.connectNulls=!0,G.name==="Estimated APY"&&(G.lineStyle={width:2,type:"dotted"})}),_t.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var Et=[];_t.xAxis.data=_t.xAxis.data.map(function(G){var mt="".concat(re()(G).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return Et[mt]=re()(G).add(1,"days").format(z.format),mt}),_t.xAxis.axisLabel={formatter:function(mt){return Et[mt]}},_t.xAxis.axisTick={alignWithLabel:!0},_t.yAxis.splitLine={lineStyle:{color:"#454459"}},_t.tooltip=(0,d.Z)((0,d.Z)({},_t.tooltip),{},{formatter:function(mt){if(mt.length>0){var wt=mt[0],le=wt.axisValueLabel,xe=wt.marker,te=wt.seriesName,Ft=wt.data,Ve="".concat(le,"<br/>").concat(xe).concat(te,": ");return Ft!=null&&Ft.value?Ve+=Ft==null?void 0:Ft.label:Ve+="-",Ve}}}),g(_t)}).catch(function(rt){console.error(rt)}),(0,Yt.fY)({chainId:w.chain,limit:s,tokenType:fe.KR.ethi}).then(function(rt){var n=Ie(rt.content,"totalSupply",s),u=(0,i.map)((0,i.reverse)(n),function(At){var It=At.date,Rt=At.totalSupply;return{date:It,totalSupply:(0,j.FH)(Rt,qt.Nd,qt.A7)}});M((0,Ye.Z)(u,"totalSupply","ETHi",(0,d.Z)((0,d.Z)({},z),{},{yAxisMin:function(It){return Math.floor(It.min*.998)},yAxisMax:function(It){return Math.ceil(It.max*1.001)}})))}).catch(function(rt){console.error(rt)})}},[s,w.chain]),(0,r.useEffect)(function(){return function(){(0,Yt.jv)()}},[]),(0,i.isEmpty)(w.chain))return null;var K=function(){return(0,i.isEmpty)(l)||(l==null?void 0:l.totalSupply)==="0"||(0,i.isEmpty)(S==null?void 0:S.totalAssets)?"1":!(0,i.isEmpty)(X)&&S.isAdjust?(0,j.FH)(Se.O$.from(S.totalAssets).sub(X.totalSupply),l==null?void 0:l.totalSupply,6):(0,j.FH)(S==null?void 0:S.totalAssets,l==null?void 0:l.totalSupply,6)},lt=function(){Z.m8.push("/prices?chain=".concat(w.chain,"&vault=").concat(w.vault))},ut=(0,j.FH)(l==null?void 0:l.totalSupply,qt.Nd,qt.A7),P=Ct()(ut).format("0.00 a"),J=P.split(" "),nt=(0,E.Z)(J,2),Pt=nt[0],f=nt[1],Zt=isNaN(new Number(f)),zt=[{title:"Total Supply",tip:"Current total ETHi supply.",content:(0,i.isEmpty)(l)?0:"".concat(Pt).concat(Zt?"":f),loading:B,unit:"".concat((0,i.isEmpty)(l)?"":"".concat(Zt?f:"")," ETHi"),subTitle:(0,t.jsxs)("p",{children:["1ETHi \u2248 ",K(),"ETH"," ",(0,t.jsx)("span",{className:C().history,onClick:lt,children:"History"})]})},{title:"Holders",tip:"Number Of ETHi holders.",content:Ct()(l==null?void 0:l.holderCount).format("0.[0000]a"),loading:B},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,j.Ik)(parseFloat(yt).toFixed(2)),loading:B,unit:"%"}],Y=(0,i.cloneDeep)(pt.vault);if(Y){var U=(0,i.reduce)(Y.strategies,function(z,rt){return z.plus(rt.debtRecordInVault)},(0,Q.Z)(0));Y.totalValueInVault=(0,Q.Z)(Y.totalAssets).minus(U).toString(),Y.strategies.map(function(z){return z.totalValue=z.debtRecordInVault})}return(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(tt.Z,{gutter:[0,40],children:[(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(Pe,{})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)($t,{data:zt})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(De,{loading:B,calDateRange:s,onCalDateRangeClick:p,apyEchartOpt:A,tvlEchartOpt:D})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(_e,{loading:B,strategyMap:Ze.tX,tokenDecimals:qt.Nd,displayDecimals:qt.A7,vaultData:Y,unit:"ETH"})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(We,{unit:"ETH",loading:B,strategyMap:Ze.tX,displayDecimals:qt.A7})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(Ke,{token:"ETHi",decimals:qt.DO,dispalyDecimal:qt.A7,filterOptions:qt.O2,loading:B})})})]})})},Fa=wa,ke=e(91907),$a=[{label:"Ethereum",key:"1"},{label:"Polygon",key:"137"}],Ka=function(){var a=(0,r.useState)(31),o=(0,E.Z)(a,2),s=o[0],p=o[1],y=(0,r.useState)({}),T=(0,E.Z)(y,2),D=T[0],M=T[1],x=(0,r.useState)({}),m=(0,E.Z)(x,2),A=m[0],g=m[1],at=(0,r.useState)(0),b=(0,E.Z)(at,2),yt=b[0],ht=b[1],N=(0,Z.tT)("@@initialState"),w=N.initialState,$=Ge(),st=$.dataSource,pt=st===void 0?{}:st,B=$.loading,v=pt.pegToken,l=v===void 0?{}:v,R=pt.vault,S=R===void 0?{}:R,O=pt.vaultBuffer,X=O===void 0?{}:O;if((0,r.useEffect)(function(){if(!!w.chain){var Y={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};s>7&&(Y.format="MM-DD"),(0,Yt.ld)({chainId:w.chain,duration:fe.Gj.monthly,limit:s,tokenType:fe.KR.usdi}).then(function(U){var z=Ie(U.content,"apy",s),rt=(0,i.map)((0,i.reverse)(z),function(Et){var G=Et.date,mt=Et.apy,wt=(0,i.isNil)(mt)?null:"".concat(Ct()(mt).format("0.00"));return{date:G,apy:wt}}),n=(0,i.get)(U,"content.[0].apy",0);ht(n);var u=(0,i.uniq)((0,i.map)(rt,function(Et){var G=Et.date;return G})),At=[],It=(0,i.map)(u,function(Et){var G=(0,i.find)(rt,{date:Et});return G?{value:(0,j.Ay)(G.apy),label:"".concat((0,j.Ik)(G.apy),"%")}:null}),Rt=[{seriesName:"APY",seriesData:It,showSymbol:(0,i.size)((0,i.filter)(It,function(Et){return!(0,i.isNil)(Et.value)}))===1}],Qt={legend:{data:At,textStyle:{color:"#fff"}},xAxisData:u,data:Rt},Wt=(0,ze.Z)(Qt);Wt.color=["#A68EFE","#5470c6","#91cc75"],Wt.series.forEach(function(Et){Et.connectNulls=!0,Et.name==="Estimated APY"&&(Et.lineStyle={width:2,type:"dotted"})}),Wt.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var _t=[];Wt.xAxis.data=Wt.xAxis.data.map(function(Et){var G="".concat(re()(Et).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return _t[G]=re()(Et).add(1,"days").format(Y.format),G}),Wt.xAxis.axisLabel={formatter:function(G){return _t[G]}},Wt.xAxis.axisTick={alignWithLabel:!0},Wt.yAxis.splitLine={lineStyle:{color:"#454459"}},Wt.tooltip=(0,d.Z)((0,d.Z)({},Wt.tooltip),{},{formatter:function(G){if(G.length>0){var mt=G[0],wt=mt.axisValueLabel,le=mt.marker,xe=mt.seriesName,te=mt.data,Ft="".concat(wt,"<br/>").concat(le).concat(xe,": ");return te!=null&&te.value?Ft+=te==null?void 0:te.label:Ft+="-",Ft}}}),g(Wt)}).catch(function(U){console.error(U)}),(0,Yt.fY)({chainId:w.chain,limit:s,tokenType:fe.KR.usdi}).then(function(U){var z=Ie(U.content,"totalSupply",s),rt=(0,i.map)((0,i.reverse)(z),function(n){var u=n.date,At=n.totalSupply;return{date:u,totalSupply:(0,j.FH)(At,Be,Lt.h)}});M((0,Ye.Z)(rt,"totalSupply","USDi",(0,d.Z)((0,d.Z)({},Y),{},{yAxisMin:function(u){return Math.floor(u.min*.998)},yAxisMax:function(u){return Math.ceil(u.max*1.001)}})))}).catch(function(U){console.error(U)})}},[s,w.chain]),(0,r.useEffect)(function(){return function(){(0,Yt.jv)()}},[]),(0,i.isEmpty)(w.chain))return null;var K=function(){return(0,i.isEmpty)(l)||(l==null?void 0:l.totalSupply)==="0"||(0,i.isEmpty)(S==null?void 0:S.totalAssets)?"1":!(0,i.isEmpty)(X)&&S.isAdjust?(0,j.FH)(Se.O$.from(S.totalAssets).sub(X.totalSupply),l==null?void 0:l.totalSupply,6):(0,j.FH)(S==null?void 0:S.totalAssets,l==null?void 0:l.totalSupply,6)},lt=function(){Z.m8.push("/prices?chain=".concat(w.chain,"&vault=").concat(w.vault))},ut=(0,j.FH)(l==null?void 0:l.totalSupply,Be,Lt.h),P=Ct()(ut).format("0.00 a"),J=P.split(" "),nt=(0,E.Z)(J,2),Pt=nt[0],f=nt[1],Zt=(0,i.isNaN)(new Number(f)),zt=[{title:"Total Supply",tip:"Current total USDi supply.",content:(0,i.isEmpty)(l)?0:"".concat(Pt).concat(Zt?"":f),loading:B,unit:"".concat((0,i.isEmpty)(l)?"":"".concat(Zt?f:"")," USDi"),subTitle:(0,t.jsxs)("p",{children:["1USDi \u2248 ",K(),"USD"," ",(0,t.jsx)("span",{className:C().history,onClick:lt,children:"History"})]})},{title:"Holders",tip:"Number Of USDi holders.",content:Ct()(l==null?void 0:l.holderCount).format("0.[0000]a"),loading:B},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,j.Ik)(parseFloat(yt).toFixed(2)),loading:B,unit:"%"}];return console.log("tvlEchartOpt=",D),(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(tt.Z,{gutter:[0,40],children:[(0,t.jsxs)(I.Z,{span:24,children:[(0,t.jsx)(Pe,{}),(0,t.jsx)(ke.Z,{chains:$a})]}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)($t,{data:zt})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(De,{isUsdi:!0,loading:B,calDateRange:s,onCalDateRangeClick:p,apyEchartOpt:A,tvlEchartOpt:D})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(_e,{loading:B,strategyMap:Ze.o1,tokenDecimals:Be,vaultData:pt.vault})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(We,{strategyMap:Ze.o1,loading:B})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(Ke,{loading:B})})})]})})},Ya=Ka,bn=e(20228),za=e(11382),Ga=e(18973),Qe=e.n(Ga),Qa=(0,t.jsxs)("div",{className:Qe().main,children:[(0,t.jsxs)("svg",{viewBox:"0 0 1403 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",children:[(0,t.jsx)("path",{d:"M149.1 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM807.5 740.5H352c-9.1-22.5-31.2-38.4-57-38.4-33.9 0-61.4 27.5-61.4 61.4s27.5 61.4 61.4 61.4c25.8 0 47.9-15.9 57-38.4h455.5c9.1 22.5 31.2 38.4 57 38.4 33.9 0 61.4-27.5 61.4-61.4s-27.5-61.4-61.4-61.4c-25.9 0-47.9 15.9-57 38.4zM233.6 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM318 515.1c12.7 0 23-10.3 23-23v-51c0-12.7-10.3-23-23-23s-23 10.3-23 23v51c0 12.7 10.3 23 23 23z",fill:"#A68EFE"}),(0,t.jsx)("path",{d:"M1353.7 486.2c8.8-28.8 1.9-61.5-20.9-84.2L1088.2 157.4c-1.1-1.2-2.2-2.4-3.4-3.6-1.2-1.2-2.4-2.3-3.6-3.4l-0.8-0.8c-17.2-15.1-39.1-23.4-62.3-23.4-25.3 0-49 9.8-66.8 27.6L763 342l-60.3-213h12.5c12.7 0 23-10.3 23-23s-10.3-23-23-23H464.8c-51.3 0-93 41.7-93 93v132.3H91.4c-9.3 0-18 3.6-24.6 10.2l-56.6 56.6c-6.6 6.6-10.2 15.3-10.2 24.6V563c0 9.3 3.6 18 10.2 24.6l60.1 60.1c6.6 6.6 15.3 10.2 24.6 10.2h78.7c-30.5 29.9-49.5 71.5-49.5 117.4 0 90.6 73.7 164.4 164.4 164.4h582.5c90.6 0 164.4-73.7 164.4-164.4s-73.7-164.4-164.4-164.4h-55.5l173.9-176.2 0.9-52.8 42.3-42.3L1213.8 521c7.1 7.1 15.2 12.7 23.8 16.7l-69.4 117.8-9.8-5.8c-9.5-5.6-21.8-2.4-27.4 7.1l-3 5.2c-5.6 9.5-2.4 21.8 7.1 27.4l51.4 30.3c68.6 40.4 156.9 17.6 197.4-51 35.9-61.1 21.7-137.9-30.2-182.5z m-632.5-123h-77.2l-44.7-44.7c-6.6-6.6-15.3-10.2-24.6-10.2h-42.1V129h122.2l66.4 234.2zM417.8 176c0-25.9 21.1-47 47-47h22v179.3h-69V176zM99.5 611.8l-53.5-53.5V404.4l50-50h474.2L614.9 399c6.6 6.6 15.3 10.2 24.6 10.2H724.9v113.4H492.8c-12.7 0-23 10.3-23 23s10.3 23 23 23H724.9v42.3H288.5c-6 0-12 0.3-17.8 1H99.5z m771.5 45.1c65.3 0 118.4 53.1 118.4 118.4 0 65.3-53.1 118.4-118.4 118.4H288.5c-65.3 0-118.4-53.1-118.4-118.4 0-65.3 53.1-118.4 118.4-118.4h582.5z m73.5-294.4l-0.9 53-172.7 175V399.2l212.9-212.9c9.1-9.1 21.3-14.1 34.2-14.1 13 0 25.2 5 34.2 14.1 18.9 18.9 18.9 49.6 0 68.5L944.5 362.5z m248.9 72.9L1065 307.1l19.8-19.8c12.5-12.5 20.7-27.6 24.7-43.6l137.8 137.8c-12.2 4-23.7 10.8-33.4 20.5-9.8 9.7-16.6 21.2-20.5 33.4z m53-0.9c14.9-14.9 39-14.9 53.9 0 14.9 14.9 14.9 39 0 53.9-14.9 14.9-39 14.9-53.9 0-14.9-14.8-14.9-39 0-53.9z m97.8 210.8c-27.5 46.7-87.7 62.2-134.4 34.7l-2-1.2 79.2-134.4c14.8-2.4 29.1-8.8 41.1-19.2 31.7 30.8 39.5 80.3 16.1 120.1z",fill:"#A68EFE"})]}),(0,t.jsx)("span",{className:Qe().text,children:"Under construction..."})]}),Xa=function(a){var o=a.children;return(0,t.jsx)(za.Z,{size:"large",indicator:Qa,style:{background:"rgb(0,0,0,0.5)"},children:o})},Xe=Xa,Je=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_newVault",type:"address"},{indexed:!0,internalType:"address",name:"_wantToken",type:"address"}],name:"CreateNewVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vaultImpl",type:"address"}],name:"addVaultImpl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wantToken",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"}],name:"createNewVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"deleteVaultAddressMapForDebug",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getStablecoinInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlist",outputs:[{internalType:"address[]",name:"_wethInvestorSet",type:"address[]"},{internalType:"address[]",name:"_usdInvestorSet",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlistLen",outputs:[{internalType:"uint256",name:"_wethInvestorSetLen",type:"uint256"},{internalType:"uint256",name:"_stablecoinInvestorSetLen",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultImplList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultsLen",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getWethInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_vaultImplList",type:"address[]"},{internalType:"address",name:"_accessControlProxy",type:"address"},{internalType:"address",name:"_uniswapV3RiskOnHelper",type:"address"},{internalType:"address",name:"_treasury",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"treasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"uniswapV3RiskOnHelper",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"vaultAddressMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vaultImpl2Index",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"vaultImplList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],Ja=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"borrowInfo",outputs:[{internalType:"uint256",name:"_totalCollateralBase",type:"uint256"},{internalType:"uint256",name:"_totalDebtBase",type:"uint256"},{internalType:"uint256",name:"_availableBorrowsBase",type:"uint256"},{internalType:"uint256",name:"_currentLiquidationThreshold",type:"uint256"},{internalType:"uint256",name:"_ltv",type:"uint256"},{internalType:"uint256",name:"_healthFactor",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcAaveBaseCurrencyValueInAsset",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_baseAsset",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcCanonicalAssetValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getAToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"},{internalType:"address",name:"_account",type:"address"}],name:"getCurrentBorrow",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"}],name:"getDebtToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"getSpecifiedRangesOfTick",outputs:[{internalType:"int24",name:"_tickFloor",type:"int24"},{internalType:"int24",name:"_tickCeil",type:"int24"},{internalType:"int24",name:"_tickLower",type:"int24"},{internalType:"int24",name:"_tickUpper",type:"int24"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"address",name:"_collateralToken",type:"address"}],name:"getTotalCollateralTokenAmount",outputs:[{internalType:"uint256",name:"_totalCollateralToken",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_pool",type:"address"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"getTwap",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"}],qa=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"LendToStrategy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_basis",type:"uint256"}],name:"ProfitFeeBpsChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"RedeemToVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"_shutdown",type:"bool"}],name:"SetEmergencyShutdown",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address[]",name:"_rewardTokens",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],name:"StrategyReported",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_nftId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTCollect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"_liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTPositionAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"UniV3NFTPositionRemoved",type:"event"},{anonymous:!1,inputs:[],name:"UniV3UpdateConfig",type:"event"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"borrowRebalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"borrowToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositTo3rdPoolTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergencyShutdown",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"estimatedTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMintInfo",outputs:[{internalType:"uint256",name:"_baseTokenId",type:"uint256"},{internalType:"int24",name:"_baseTickUpper",type:"int24"},{internalType:"int24",name:"_baseTickLower",type:"int24"},{internalType:"uint256",name:"_limitTokenId",type:"uint256"},{internalType:"int24",name:"_limitTickUpper",type:"int24"},{internalType:"int24",name:"_limitTickLower",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStatus",outputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_wantToken",type:"address"},{internalType:"int24",name:"_baseThreshold",type:"int24"},{internalType:"int24",name:"_limitThreshold",type:"int24"},{internalType:"int24",name:"_minTickMove",type:"int24"},{internalType:"int24",name:"_maxTwapDeviation",type:"int24"},{internalType:"int24",name:"_lastTick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"uint256",name:"_period",type:"uint256"},{internalType:"uint256",name:"_lastTimestamp",type:"uint256"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"harvest",outputs:[{internalType:"address[]",name:"_rewardsTokens",type:"address[]"},{internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastHarvest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"lend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"manageFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"netMarketMakingAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"profitFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rebalanceByKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeemToVaultByKeeper",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"setBaseThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_active",type:"bool"}],name:"setEmergencyShutdown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_limitThreshold",type:"int24"}],name:"setLimitThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setManageFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_maxTwapDeviation",type:"int24"}],name:"setMaxTwapDeviation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_minTickMove",type:"int24"}],name:"setMinTickMove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_period",type:"uint256"}],name:"setPeriod",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setProfitFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"setTwapDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"}],name:"shouldRebalance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"wantToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],qe=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],tn="0x0000000000000000000000000000000000000000",ta="0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",ea="0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619",ye=new Q.Z(1e6),me=new Q.Z(1e18),Mn=new Q.Z(1e27),en=e(96519),an=e(85564),nn=e.n(an),rn=e(15296),ne=en.CH,aa=Se.O$,sn=[ea,ta],ln=function(a,o,s){var p=(0,r.useState)(!1),y=(0,E.Z)(p,2),T=y[0],D=y[1],M=(0,r.useState)([]),x=(0,E.Z)(M,2),m=x[0],A=x[1],g=(0,r.useState)([]),at=(0,E.Z)(g,2),b=at[0],yt=at[1],ht=(0,r.useState)(!1),N=(0,E.Z)(ht,2),w=N[0],$=N[1],st=(0,rn.Z)(s),pt=(0,r.useCallback)(function(S,O){var X=new ne(a,o,s),K=new ne(O,qa,s),lt=new ne(S,Ja,s);return Promise.all([X.getTwoInvestorlistLen(),K.borrowToken().then(function(){var ut=(0,oe.Z)((0,Nt.Z)().mark(function P(J){var nt;return(0,Nt.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return nt=new ne(J,qe,s),f.t0=J,f.next=4,nt.symbol();case 4:return f.t1=f.sent,f.t2=aa.from(10),f.next=8,nt.decimals();case 8:return f.t3=f.sent,f.t4=f.t2.pow.call(f.t2,f.t3),f.abrupt("return",{borrowToken:f.t0,name:f.t1,borrowTokenDecimals:f.t4});case 11:case"end":return f.stop()}},P)}));return function(P){return ut.apply(this,arguments)}}()),K.wantToken().then(function(){var ut=(0,oe.Z)((0,Nt.Z)().mark(function P(J){var nt;return(0,Nt.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return nt=new ne(J,qe,s),f.t0=J,f.next=4,nt.symbol();case 4:return f.t1=f.sent,f.t2=aa.from(10),f.next=8,nt.decimals();case 8:return f.t3=f.sent,f.t4=f.t2.pow.call(f.t2,f.t3),f.abrupt("return",{wantToken:f.t0,name:f.t1,wantTokenDecimals:f.t4});case 11:case"end":return f.stop()}},P)}));return function(P){return ut.apply(this,arguments)}}())]).then(function(ut){var P=(0,E.Z)(ut,3),J=P[0],nt=J._wethInvestorSetLen,Pt=J._stablecoinInvestorSetLen,f=P[1],Zt=P[2],zt=f.borrowToken,Y=Zt.wantToken;return Promise.all([K.netMarketMakingAmount(),lt.getCurrentBorrow(zt,2,O),lt.getTotalCollateralTokenAmount(O,Y),K.depositTo3rdPoolTotalAssets(),K.estimatedTotalAssets()]).then(function(U){var z=(0,E.Z)(U,5),rt=z[0],n=z[1],u=z[2],At=z[3],It=z[4];return lt.calcCanonicalAssetValue(zt,n,Y).then(function(Rt){var Qt={netMarketMakingAmount:rt,currentBorrow:n,currentBorrowWithCanonical:Rt,depositTo3rdPoolTotalAssets:At,totalCollateralTokenAmount:u,estimatedTotalAssets:It,wantInfo:Zt,borrowInfo:f,_wethInvestorSetLen:nt,_stablecoinInvestorSetLen:Pt,profit:At.add(u).sub(rt).sub(Rt)};return Qt})})}).finally(function(){setTimeout(function(){D(!1)},300)})},[s]),B=(0,r.useCallback)(function(){if(!(se()(a)||se()(s))){var S=new ne(a,o,s);S.getVaultImplList().then(A)}},[a,s,o]),v=(0,r.useCallback)((0,oe.Z)((0,Nt.Z)().mark(function S(){var O,X,K;return(0,Nt.Z)().wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if(!(se()(a)||se()(s)||se()(m)||se()(st))){ut.next=2;break}return ut.abrupt("return");case 2:return O=new ne(a,o,s),ut.next=5,O.uniswapV3RiskOnHelper();case 5:X=ut.sent,K=Mt()(m,function(P){return Promise.all(Mt()(sn,function(J,nt){return O.vaultAddressMap(st,P,nt).then(function(Pt){return Pt===tn?{hasCreate:!1,type:P,token:J}:pt(X,Pt).then(function(f){return(0,d.Z)((0,d.Z)({},f),{},{address:Pt,type:P,hasCreate:!0,token:J})})})}))}),Promise.all(K).then(function(P){yt(nn()(P))});case 8:case"end":return ut.stop()}},S)})),[st,a,s,m,o]),l=(0,r.useCallback)(function(){var S=(0,oe.Z)((0,Nt.Z)().mark(function O(X,K){var lt;return(0,Nt.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return $(!0),lt=new ne(a,o,s),P.next=4,lt.connect(s.getSigner()).createNewVault(X,K).then(function(J){return J.wait()}).then(v).finally(function(){$(!1)});case 4:case"end":return P.stop()}},O)}));return function(O,X){return S.apply(this,arguments)}}(),[a,s,v,o]),R=(0,r.useCallback)(function(){var S=(0,oe.Z)((0,Nt.Z)().mark(function O(X,K){var lt;return(0,Nt.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:$(!0),lt=new ne(a,o,s),lt.connect(s.getSigner()).deleteVaultAddressMapForDebug(st,X,K).then(function(J){return J.wait()}).then(v).finally(function(){$(!1)});case 3:case"end":return P.stop()}},O)}));return function(O,X){return S.apply(this,arguments)}}(),[a,v,st,s,o]);return(0,r.useEffect)(B,[B]),(0,r.useEffect)(v,[v]),{vaultFactoryAddress:a,vaultImplList:m,personalVault:b,adding:w,loading:T,addVault:l,deleteVault:R}},na=ln,he=e(52572),on=e(27361),ia=e.n(on),un=e(7739),ra=e.n(un),dn=e(54061),Ht=e.n(dn),cn=e(31351),sa=e.n(cn),ue=Se.O$,pn=[{label:"Polygon",key:"137"}],ge="WETH",vn=function(a){var o,s,p,y,T,D,M,x=a==null||(o=a.location)===null||o===void 0?void 0:o.query,m=x.ori,A=m===void 0?!1:m,g={VAULT_FACTORY_ADDRESS:{"137":"0x9853Eb1dc3946F78f043EA513Ed87ADBdA6eeE09"}}.VAULT_FACTORY_ADDRESS["137"],at=(0,Re.Z)(),b=at.userProvider,yt=na(g,Je,b),ht=yt.personalVault,N=yt.loading,w=ra()(ht,"token"),$=ia()(w,ea,[]),st=(0,r.useState)("All"),pt=(0,E.Z)(st,2),B=pt[0],v=pt[1],l=Ht()($,function(n,u){return u.netMarketMakingAmount?n.add(u.netMarketMakingAmount):n},ue.from(0)),R=Ht()($,function(n,u){return u.estimatedTotalAssets?n.add(u.estimatedTotalAssets):n},ue.from(0)),S=Ht()($,function(n,u){return u.currentBorrowWithCanonical?n.add(u.currentBorrowWithCanonical):n},ue.from(0)),O=Ht()($,function(n,u){return u.totalCollateralTokenAmount?n.add(u.totalCollateralTokenAmount):n},ue.from(0)),X=Ht()($,function(n,u){return u.depositTo3rdPoolTotalAssets?n.add(u.depositTo3rdPoolTotalAssets):n},ue.from(0)),K=Ht()($,function(n,u){return u._stablecoinInvestorSetLen?n.add(u._stablecoinInvestorSetLen):n},ue.from(0)),lt=Ht()($,function(n,u){return u.profit?n.add(u.profit):n},ue.from(0)),ut=[{title:"Deposit",tip:"All Vault Net Deposit.",content:Ct()((0,j.FH)(l,me)).format("0.[0000]a"),loading:N,unit:ge},{title:"Current Value",tip:"All Vault Current Value.",content:Ct()((0,j.FH)(R,me)).format("0.[0000]a"),loading:N,unit:ge},{title:"Profits",tip:"All Vault Profits.",content:Ct()((0,j.FH)(lt,me)).format("0.[0000]a"),loading:N,unit:ge},{title:"Holders",tip:"Number Of USDi holders.",content:Ct()(K).format("0.[0000]a"),loading:N,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:Ct()((0,j.FH)(S,me)).format("0.[0000]a"),loading:N,unit:ge},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:Ct()((0,j.FH)(O,me)).format("0.[0000]a"),loading:N,unit:ge},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:Ct()((0,j.FH)(X,me)).format("0.[0000]a"),loading:N,unit:ge}],P=(0,he.r5)(function(){return(0,Yt.wn)({type:"ETHr"})},[g]),J=(0,he.r5)(function(){return(0,Yt.q4)({type:"ETHr"})},[g]),nt=(0,he.r5)(function(){return(0,Yt.wu)()},[g]),Pt={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},legend:{textStyle:{color:"#fff"}},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},data:Mt()((s=J.result)===null||s===void 0?void 0:s.content,function(n){return n.apyValidateTime}),axisTick:{alignWithLabel:!0}},yAxis:{splitLine:{lineStyle:{color:"#454459"}}},color:["#A68EFE","#2ec7c9","#ffb980","#d87a80","#e5cf0d","#97b552","#8d98b3","#07a2a4","#95706d","#dc69aa"],series:[{name:"Official Weekly APY",data:Mt()((p=J.result)===null||p===void 0?void 0:p.content,function(n){return(n.apy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:!1},{name:"Verified Weekly APY",data:Mt()((y=P.result)===null||y===void 0?void 0:y.content,function(n){return(n.verifiedApy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:!1}]};if(A){var f,Zt;Pt.series.push({name:"Official Daily APY",data:Mt()((f=J.result)===null||f===void 0?void 0:f.content,function(n){return(n.originApy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:!1},{name:"Verified Daily APY",data:Mt()((Zt=P.result)===null||Zt===void 0?void 0:Zt.content,function(n){return(n.dailyVerifiedApy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:!1})}var zt={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},data:Mt()(sa()((T=nt.result)===null||T===void 0?void 0:T.data),function(n){return n.apyValidateTime}),axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:[{type:"slider"}],color:["#A68EFE","#5470c6","#91cc75"],series:[{data:Mt()((D=nt.result)===null||D===void 0?void 0:D.data,function(n){return(n.apy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]},Y=[],U=[{title:"Date",dataIndex:"date",key:"date"},{title:"Operation",dataIndex:"operation",key:"operation"},{title:"Details",dataIndex:"details",key:"details"},{title:"Tx Address",dataIndex:"tx",key:"tx"}],z={All:"All",Create:"Create",Deposit:"Deposit",Burn:"Burn"},rt=(0,t.jsx)(xt.ZP.Group,{value:B,onChange:function(u){return v(u.target.value)},buttonStyle:"solid",className:C().buttons,children:Mt()(z,function(n,u){return(0,t.jsx)(xt.ZP.Button,{value:n,children:n},u)})});return(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(tt.Z,{gutter:[0,40],children:[(0,t.jsx)(I.Z,{span:24,children:(0,t.jsxs)(r.Suspense,{fallback:null,children:[(0,t.jsx)(Pe,{}),(0,t.jsx)(ke.Z,{chains:pn})]})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)($t,{data:ut})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(H.Z,{title:"Uniswap APY (%)",loading:P.loading||J.loading,children:P.error?(0,t.jsxs)("div",{style:{minHeight:"10rem"},children:["Error: ",P==null||(M=P.error)===null||M===void 0?void 0:M.message]}):(0,t.jsx)(ee.$c,{option:Pt,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{children:(0,t.jsx)(H.Z,{title:"Sample APY (%)",loading:nt.loading,children:nt.error?(0,t.jsxs)("div",{style:{minHeight:"10rem"},children:["Error: ",nt.error.message]}):(0,t.jsx)(ee.$c,{option:zt,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{children:(0,t.jsx)(Xe,{children:(0,t.jsx)(H.Z,{extra:rt,title:"Recent Activity",children:(0,t.jsx)(ie.Z,{dataSource:Y,columns:U})})})})})]})})},fn=vn,de=Se.O$,yn=[{label:"Polygon",key:"137"}],Te="USDC",mn=function(a){var o,s,p,y,T,D,M,x=a==null||(o=a.location)===null||o===void 0?void 0:o.query,m=x.ori,A=m===void 0?!1:m,g={VAULT_FACTORY_ADDRESS:{"137":"0x9853Eb1dc3946F78f043EA513Ed87ADBdA6eeE09"}}.VAULT_FACTORY_ADDRESS["137"],at=(0,Re.Z)(),b=at.userProvider,yt=na(g,Je,b),ht=yt.personalVault,N=yt.loading,w=ra()(ht,"token"),$=ia()(w,ta,[]),st=(0,r.useState)("All"),pt=(0,E.Z)(st,2),B=pt[0],v=pt[1],l=Ht()($,function(n,u){return u.netMarketMakingAmount?n.add(u.netMarketMakingAmount):n},de.from(0)),R=Ht()($,function(n,u){return u.estimatedTotalAssets?n.add(u.estimatedTotalAssets):n},de.from(0)),S=Ht()($,function(n,u){return u.currentBorrowWithCanonical?n.add(u.currentBorrowWithCanonical):n},de.from(0)),O=Ht()($,function(n,u){return u.totalCollateralTokenAmount?n.add(u.totalCollateralTokenAmount):n},de.from(0)),X=Ht()($,function(n,u){return u.depositTo3rdPoolTotalAssets?n.add(u.depositTo3rdPoolTotalAssets):n},de.from(0)),K=Ht()($,function(n,u){return u._stablecoinInvestorSetLen?n.add(u._stablecoinInvestorSetLen):n},de.from(0)),lt=Ht()($,function(n,u){return u.profit?n.add(u.profit):n},de.from(0)),ut=[{title:"Deposit",tip:"All Vault Net Deposit.",content:Ct()((0,j.FH)(l,ye)).format("0.[0000]a"),loading:N,unit:Te},{title:"Current Value",tip:"All Vault Current Value.",content:Ct()((0,j.FH)(R,ye)).format("0.[0000]a"),loading:N,unit:Te},{title:"Profits",tip:"All Vault Profits.",content:Ct()((0,j.FH)(lt,ye)).format("0.[0000]a"),loading:N,unit:Te},{title:"Holders",tip:"Number Of USDi holders.",content:Ct()(K).format("0.[0000]a"),loading:N,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:Ct()((0,j.FH)(S,ye)).format("0.[0000]a"),loading:N,unit:Te},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:Ct()((0,j.FH)(O,ye)).format("0.[0000]a"),loading:N,unit:Te},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:Ct()((0,j.FH)(X,ye)).format("0.[0000]a"),loading:N,unit:Te}],P=(0,he.r5)(function(){return(0,Yt.wn)({type:"USDr"})},[g]),J=(0,he.r5)(function(){return(0,Yt.q4)({type:"USDr"})},[g]),nt=(0,he.r5)(function(){return(0,Yt.wu)()},[g]),Pt={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},legend:{textStyle:{color:"#fff"}},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},data:Mt()((s=J.result)===null||s===void 0?void 0:s.content,function(n){return n.apyValidateTime}),axisTick:{alignWithLabel:!0}},yAxis:{splitLine:{lineStyle:{color:"#454459"}}},color:["#A68EFE","#2ec7c9","#ffb980","#d87a80","#e5cf0d","#97b552","#8d98b3","#07a2a4","#95706d","#dc69aa"],series:[{name:"Official Weekly APY",data:Mt()((p=J.result)===null||p===void 0?void 0:p.content,function(n){return(n.apy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:!1},{name:"Verified Weekly APY",data:Mt()((y=P.result)===null||y===void 0?void 0:y.content,function(n){return(n.verifiedApy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:!1}]};if(A){var f,Zt;Pt.series.push({name:"Official Daily APY",data:Mt()((f=J.result)===null||f===void 0?void 0:f.content,function(n){return(n.originApy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:!1},{name:"Verified Daily APY",data:Mt()((Zt=P.result)===null||Zt===void 0?void 0:Zt.content,function(n){return(n.dailyVerifiedApy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},connectNulls:!0,showSymbol:!1})}var zt={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},data:Mt()(sa()((T=nt.result)===null||T===void 0?void 0:T.data),function(n){return n.apyValidateTime}),axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:[{type:"slider"}],color:["#A68EFE","#5470c6","#91cc75"],series:[{data:Mt()((D=nt.result)===null||D===void 0?void 0:D.data,function(n){return(n.apy*100).toFixed(2)}),type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]},Y=[],U=[{title:"Date",dataIndex:"date",key:"date"},{title:"Operation",dataIndex:"operation",key:"operation"},{title:"Details",dataIndex:"details",key:"details"},{title:"Tx Address",dataIndex:"tx",key:"tx"}],z={All:"All",Create:"Create",Deposit:"Deposit",Burn:"Burn"},rt=(0,t.jsx)(xt.ZP.Group,{value:B,onChange:function(u){return v(u.target.value)},buttonStyle:"solid",className:C().buttons,children:Mt()(z,function(n,u){return(0,t.jsx)(xt.ZP.Button,{value:n,children:n},u)})});return(0,t.jsx)(gt.Z,{children:(0,t.jsxs)(tt.Z,{gutter:[0,40],children:[(0,t.jsx)(I.Z,{span:24,children:(0,t.jsxs)(r.Suspense,{fallback:null,children:[(0,t.jsx)(Pe,{}),(0,t.jsx)(ke.Z,{chains:yn})]})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)($t,{data:ut})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(H.Z,{title:"Uniswap APY (%)",loading:P.loading||J.loading,children:P.error?(0,t.jsxs)("div",{style:{minHeight:"10rem"},children:["Error: ",P==null||(M=P.error)===null||M===void 0?void 0:M.message]}):(0,t.jsx)(ee.$c,{option:Pt,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{children:(0,t.jsx)(H.Z,{title:"Sample APY (%)",loading:nt.loading,children:nt.error?(0,t.jsxs)("div",{style:{minHeight:"10rem"},children:["Error: ",nt.error.message]}):(0,t.jsx)(ee.$c,{option:zt,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(I.Z,{span:24,children:(0,t.jsx)(r.Suspense,{children:(0,t.jsx)(Xe,{children:(0,t.jsx)(H.Z,{extra:rt,title:"Recent Activity",children:(0,t.jsx)(ie.Z,{dataSource:Y,columns:U})})})})})]})})},hn=mn,gn=e(7594),Tn=e(52353),xn=e.n(Tn);function An(V){var a,o=(0,Z.tT)("@@initialState"),s=o.initialState,p=(a={},(0,c.Z)(a,Lt._.USDi,Ya),(0,c.Z)(a,Lt._.ETHi,Fa),(0,c.Z)(a,Lt._.ETHr,fn),(0,c.Z)(a,Lt._.USDr,hn),a)[s.vault];return xn()(p)?(0,t.jsx)(gn.default,{}):(0,t.jsx)(p,(0,d.Z)({},V))}},860:function(vt,q,e){"use strict";e.d(q,{E6:function(){return Dt},_8:function(){return I},mB:function(){return E},Mn:function(){return gt},oP:function(){return jt},t:function(){return L},ld:function(){return ct},fY:function(){return t},jv:function(){return Ut},Qc:function(){return kt},wn:function(){return Xt},q4:function(){return k},wu:function(){return Jt}});var d=e(93224),c=e(11849),r=e(65367),Z=e(96486),dt=e.n(Z),tt=["chainId","vaultAddress"],Dt=function(h){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20;try{var ot=(0,c.Z)({offset:F,limit:C},h);return(0,r.WY)("".concat("https://service-qa02-sg.bankofchain.io","/officialApy"),{params:ot})}catch(it){return{content:[]}}},I=function(h){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,ot=h.chainId,it=h.vaultAddress,Ot={sort:"gene_time desc",offset:F,limit:C};return(0,r.WY)("".concat("https://service-qa02-sg.bankofchain.io","/chains/").concat(ot,"/vaults/").concat(it,"/allocation"),{params:Ot})},E=function(h,F){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:20,it={offset:C,limit:ot};return(0,r.WY)("".concat("https://service-qa02-sg.bankofchain.io","/chains/").concat(h,"/vaults/").concat(F,"/strategy/detail/list"),{params:it})},gt=function(h){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,ot=h.chainId,it=h.vaultAddress,Ot=(0,d.Z)(h,tt);return(0,r.WY)("".concat("https://service-qa02-sg.bankofchain.io","/chains/").concat(ot,"/vaults/").concat(it,"/verifiedApy"),{params:(0,c.Z)({offset:F,limit:C},Ot)})},jt=function(h,F,C,ot,it){if(!(0,Z.isNil)(C))return(0,r.WY)("".concat("https://service-qa02-sg.bankofchain.io","/chains/").concat(h,"/vaults/").concat(F,"/allocation/").concat(C,"/").concat(ot),{method:"patch",headers:it})},L=function(h){var F=h.strategyName,C=h.vaultAddress,ot=h.chainId,it=h.limit,Ot=it===void 0?10:it,Bt=h.offset,$t=Bt===void 0?0:Bt,Gt=h.sort,xt=Gt===void 0?"fetch_timestamp desc":Gt;return(0,r.WY)("".concat("https://service-qa02-sg.bankofchain.io","/chains/").concat(ot,"/vaults/").concat(C,"/strategy/assets"),{params:{strategyName:F,limit:Ot,offset:$t,sort:xt}})},_=function(h,F,C){return request("".concat("https://service-qa02-sg.bankofchain.io","/apy/account_apy/accountAddress/").concat(h,"/date/").concat(F),{params:C})},ft=function(h,F){return request("".concat("https://service-qa02-sg.bankofchain.io","/profit/account/").concat(h),{params:F})},H=function(h,F){return request("".concat("https://service-qa02-sg.bankofchain.io","/token/balance/account/").concat(h),{params:_objectSpread({limit:365},F)})},St=function(h,F){return request("".concat("https://service-qa02-sg.bankofchain.io","/month_profit/account/").concat(h),{params:F})},Tt={},ct=function(h){var F=h.chainId,C=h.tokenType,ot=h.duration,it=h.offset,Ot=it===void 0?0:it,Bt=h.limit,$t=h.useCache,Gt=$t===void 0?!0:$t,xt="".concat(F,"-").concat(ot,"-").concat(C,"-").concat(Ot,"-").concat(Bt);return Gt&&Tt[xt]?Promise.resolve(Tt[xt]):(0,r.WY)("".concat("https://service-qa02-sg.bankofchain.io","/apy/vault_apy"),{params:{chainId:F,duration:ot,offset:Ot,limit:Bt,tokenType:C}}).then(function(ce){return Tt[xt]=ce,ce})},W={},t=function(h){var F=h.chainId,C=h.offset,ot=C===void 0?0:C,it=h.limit,Ot=h.tokenType,Bt=h.useCache,$t=Bt===void 0?!0:Bt,Gt="".concat(F,"-").concat(ot,"-").concat(Ot,"-").concat(it);return $t&&W[Gt]?Promise.resolve(W[Gt]):(0,r.WY)("".concat("https://service-qa02-sg.bankofchain.io","/token/totalSupply"),{params:{chainId:F,offset:ot,limit:it,tokenType:Ot}}).then(function(xt){return W[Gt]=xt,xt})},Ut=function(){Tt={},W={}},kt=function(h,F,C){var ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,it=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20,Ot={strategyAddress:C,offset:ot,limit:it},Bt="".concat("https://service-qa02-sg.bankofchain.io","/chains/").concat(h,"/vaults/").concat(F,"/verifiedApy/daily");return(0,r.WY)(Bt,{params:Ot})},bt=function(h,F,C){var ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{limit:30},it="".concat("https://service-qa02-sg.bankofchain.io","/chains/").concat(h,"/vaults/").concat(F,"/data_collects/types/").concat(C);return request(it,{params:ot})},Xt=function(h){return(0,r.WY)("".concat("https://service-qa02-sg.bankofchain.io","/verifiedApy/riskon"),{params:(0,c.Z)({offset:0,limit:30},h)})},k=function(h){return(0,r.WY)("".concat("https://service-qa02-sg.bankofchain.io","/officialApy/riskon"),{params:(0,c.Z)({offset:0,limit:30},h)})},Jt=function(h){return(0,r.WY)("".concat("https://service-qa02-sg.bankofchain.io","/getSampleApy"),{params:h})}},652:function(vt,q,e){"use strict";e.d(q,{Y:function(){return r}});var d=e(18446),c=e.n(d),r=function(dt){return c()(dt,"pr-sg")||c()(dt,"pr02-sg")}},62904:function(vt,q,e){"use strict";e.d(q,{u:function(){return jt}});var d=e(39428),c=e(34792),r=e(55026),Z=e(3182),dt=e(13311),tt=e.n(dt),Dt=e(41609),I=e.n(Dt),E=e(89850),gt=e(50999),jt=function(){var L=(0,Z.Z)((0,d.Z)().mark(function _(ft,H,St){var Tt,ct,W,t,Ut,kt,bt=arguments;return(0,d.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(Tt=bt.length>3&&bt[3]!==void 0?bt[3]:{},ct=Tt.resolveWhenUnsupport,W=tt()(E.ZP,{id:ft}),!I()(W)){k.next=5;break}return k.abrupt("return");case 5:if(H){k.next=7;break}return k.abrupt("return");case 7:if(t=[gt.m.MetaMask.info.symbol],t.includes(St)){k.next=13;break}if(!ct){k.next=11;break}return k.abrupt("return");case 11:return r.default.warning("Switch networks in your wallet, then reconnect"),k.abrupt("return",Promise.reject());case 13:return Ut=[{chainId:"0x".concat(Number(W.id).toString(16)),chainName:W.name,nativeCurrency:W.nativeCurrency,rpcUrls:[W.rpcUrl],blockExplorerUrls:[W.blockExplorer]}],k.prev=14,k.next=17,H.send("wallet_switchEthereumChain",[{chainId:Ut[0].chainId}]);case 17:kt=k.sent,k.next=33;break;case 20:if(k.prev=20,k.t0=k.catch(14),k.t0.code!==4001){k.next=24;break}return k.abrupt("return",Promise.reject());case 24:return k.prev=24,k.next=27,H.send("wallet_addEthereumChain",Ut);case 27:kt=k.sent,k.next=33;break;case 30:return k.prev=30,k.t1=k.catch(24),k.abrupt("return",Promise.reject());case 33:kt&&console.log(kt);case 34:case"end":return k.stop()}},_,null,[[14,20],[24,30]])}));return function(ft,H,St){return L.apply(this,arguments)}}()},9292:function(vt,q,e){"use strict";e.d(q,{FH:function(){return tt},Wl:function(){return I},Ik:function(){return E},Ay:function(){return gt}});var d=e(905),c=e(96486),r=e.n(c),Z=e(41609),dt=e.n(Z),tt=function(L){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!(0,c.isNil)(L)){if((0,c.isNull)(_))return L.toString();var ft=(0,d.Z)(_.toString());if(dt()(L)||ft.isZero())return 0;var H=(0,d.Z)(L.toString()).div(ft);if(H.isInteger())return H.toFixed();for(var St=arguments.length,Tt=new Array(St>2?St-2:0),ct=2;ct<St;ct++)Tt[ct-2]=arguments[ct];return H.toFixed.apply(H,Tt)}},Dt=2,I=function(L,_){var ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dt,H=(0,d.Z)(L.toString()),St=(0,d.Z)(10).pow(_),Tt=_>6&&!H.eq(0)&&H.abs().lt((0,d.Z)(10).pow(_-ft+1)),ct;return Tt?(ct=tt(H,St,_-H.abs().toString().length+1),ct):(ct=tt(H,St,ft),parseFloat(ct))},E=function(L){var _=parseFloat(L);return isNaN(_)?L:_<=1e3?_:"1000+"},gt=function(L){var _=parseFloat(L);return isNaN(_)?L:_<=1e3?_:1e3}}}]);
