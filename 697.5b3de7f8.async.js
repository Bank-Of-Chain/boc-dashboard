(self.webpackChunkboc_dashboard=self.webpackChunkboc_dashboard||[]).push([[697],{88377:function(ct,C,v){"use strict";v.d(C,{yi:function(){return V0}});var d={};v.r(d),v.d(d,{Base:function(){return La},Circle:function(){return aw},Ellipse:function(){return sw},Image:function(){return uw},Line:function(){return cw},Marker:function(){return dw},Path:function(){return mf},Polygon:function(){return Ew},Polyline:function(){return Tw},Rect:function(){return kw},Text:function(){return _w}});var T={};v.r(T),v.d(T,{Canvas:function(){return yv},Event:function(){return Qe.Event},Group:function(){return pf},Shape:function(){return d},__esModule:function(){return Dw.X},version:function(){return Gw}});var P={};v.r(P),v.d(P,{Base:function(){return Ea},Circle:function(){return Ww},Dom:function(){return Uw},Ellipse:function(){return Qw},Image:function(){return $w},Line:function(){return qw},Marker:function(){return eS},Path:function(){return nS},Polygon:function(){return aS},Polyline:function(){return sS},Rect:function(){return hS},Text:function(){return mS}});var I={};v.r(I),v.d(I,{Canvas:function(){return Av},Event:function(){return Qe.Event},Group:function(){return bf},Shape:function(){return P},version:function(){return YS}});var O={};v.r(O),v.d(O,{Chart:function(){return sb},ComponentController:function(){return Uo},DIRECTION:function(){return It},Event:function(){return cn},Facet:function(){return Wr},Geometry:function(){return to},GeometryLabel:function(){return sl},Interaction:function(){return pt},InteractionAction:function(){return Le},LAYER:function(){return vt},Types:function(){return Fb},Util:function(){return vd},VERSION:function(){return Rb},View:function(){return rf},getActionClass:function(){return $r},getAnimation:function(){return af},getEngine:function(){return j},getFacet:function(){return ie},getGeometryLabel:function(){return zh},getGeometryLabelLayout:function(){return Vh},getInteraction:function(){return Ae},getShapeFactory:function(){return sf},getTheme:function(){return Mt},registerAction:function(){return lr},registerAnimation:function(){return wi},registerComponentController:function(){return Pn},registerEngine:function(){return $},registerFacet:function(){return ue},registerGeometry:function(){return ka},registerGeometryLabel:function(){return xs},registerGeometryLabelLayout:function(){return Oo},registerInteraction:function(){return Re},registerShape:function(){return Nn},registerShapeFactory:function(){return ho},registerTheme:function(){return Gt}});var A={};v.r(A),v.d(A,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var E={};v.r(E),v.d(E,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var S={};v.r(S),v.d(S,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var y={};v.r(y),v.d(y,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var b={};v.r(b),v.d(b,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var p={};v.r(p),v.d(p,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var m={};v.r(m),v.d(m,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var x={};v.r(x),v.d(x,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var M={};v.r(M),v.d(M,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var k={};v.r(k),v.d(k,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var _={};v.r(_),v.d(_,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var B={};v.r(B),v.d(B,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var z={};v.r(z),v.d(z,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var W={};v.r(W),v.d(W,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var R={};v.r(R),v.d(R,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var K={};v.r(K),v.d(K,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var ut={};v.r(ut),v.d(ut,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var ot={};v.r(ot),v.d(ot,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var dt={};v.r(dt),v.d(dt,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var nt={};v.r(nt),v.d(nt,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var yt={};v.r(yt),v.d(yt,{EVENT_MAP:function(){return _n},onEvent:function(){return xi}});var tt={};v.r(tt),v.d(tt,{calculationItemsBBox:function(){return Em},cloneEvent:function(){return su},formatPadding:function(){return Vc},isNaN:function(){return so},isViewportChanged:function(){return Mm},processParallelEdges:function(){return DR}});var J={};v.r(J),v.d(J,{getColorsWithSubjectColor:function(){return _m},mixColor:function(){return Ha}});var ft={};v.r(ft),v.d(ft,{Line:function(){return Yo},applyMatrix:function(){return Ns},distance:function(){return Gs},floydWarshall:function(){return Uc},fractionToLine:function(){return $c},getAdjMatrix:function(){return Zc},getBBoxBoundLine:function(){return Kc},getCircleCenterByPoints:function(){return jc},getCircleIntersectByPoint:function(){return Um},getDegree:function(){return hu},getEllipseIntersectByPoint:function(){return Zm},getLineIntersect:function(){return Rs},getPointsCenter:function(){return ex},getRectIntersectByPoint:function(){return jm},intersectBBox:function(){return qm},invertMatrix:function(){return Qm},isPointInPolygon:function(){return Ys},isPointsOverlap:function(){return Jc},isPolygonsIntersect:function(){return Qc},itemIntersectByLine:function(){return tx},move:function(){return Jm},pointLineSquareDist:function(){return rx},pointRectSquareDist:function(){return nx},rotate:function(){return dN},scale:function(){return vN},scaleMatrix:function(){return Km},squareDist:function(){return vu},translate:function(){return $m}});var rt={};v.r(rt),v.d(rt,{getClosedSpline:function(){return qc},getControlPoint:function(){return du},getSpline:function(){return ix},paddedHull:function(){return fx},pathToPoints:function(){return pu},pointsToPolygon:function(){return ax},roundedHull:function(){return ux}});var St={};v.r(St),v.d(St,{getBBox:function(){return yu},getChartRegion:function(){return GN},getComboBBox:function(){return ih},getLabelPosition:function(){return mu},getLetterWidth:function(){return Cx},getLoopCfgs:function(){return bx},getTextSize:function(){return Mx},plainCombosToTrees:function(){return rh},radialLayout:function(){return Sx},reconstructTree:function(){return nh},traverseTree:function(){return na},traverseTreeUp:function(){return Ta}});var wt={};v.r(wt),v.d(wt,{adjMatrix:function(){return Ru},breadthFirstSearch:function(){return L9},degree:function(){return u1},depthFirstSearch:function(){return X1},detectAllCycles:function(){return B9},detectAllDirectedCycle:function(){return U1},detectAllUndirectedCycle:function(){return j1},detectDirectedCycle:function(){return F9},findAllPath:function(){return z9},findShortestPath:function(){return Y9},floydWarshall:function(){return v1},getConnectedComponents:function(){return W1},getPageRank:function(){return K9},minimumSpanningTree:function(){return Z9}});var q=v(67294),it=v(45687),Q=v(70655),f=v(49242),vt;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(vt||(vt={}));var It;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(It||(It={}));var Qt;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.OTHER="other"})(Qt||(Qt={}));var Se={FORE:3,MID:2,BG:1},$t;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy"})($t||($t={}));var re;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})(re||(re={}));var he;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(he||(he={}));var Me=["color","shape","size"],le="_origin",Rt=1,Ot=1,At=.25,Dt={};function j(i){var r=Dt[i];if(!r)throw new Error("G engine '"+i+"' is not exist, please register it at first.");return r}function $(i,r){Dt[i]=r}var et=v(6056),Tt=v(45442);function Nt(i){var r=getComputedStyle(i);return{width:(i.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(i.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function Ut(i){return typeof i=="number"&&!isNaN(i)}function Oe(i,r,t,e){var n=t,a=e;if(r){var o=Nt(i);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(Ut(n)?n:Rt,Rt),height:Math.max(Ut(a)?a:Ot,Ot)}}function He(i){var r=i.parentNode;r&&r.removeChild(i)}var Zt=v(90494),be=function(i){(0,Q.__extends)(r,i);function r(t){var e=i.call(this)||this;e.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return e.visible=a,e}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(Zt.default),_e=be,Qe=v(39014),dr=v(28014),ur=v(24796),Dr=v(21392),ne=v(13541),se=v(51082),ye=v(51441),We=ye.Axis.Line,De=ye.Axis.Circle,ae=ye.Grid.Line,Yt=ye.Grid.Circle,st=ye.Legend.Category,gt=ye.Legend.Continuous,kt=ye.Tooltip.Html,Ft=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function jt(i){var r="linear";return Ft.test(i)?r="time":(0,f.isString)(i)&&(r="cat"),r}function fe(i,r,t){var e=r||[];if((0,f.isNumber)(i)||(0,f.isNil)((0,f.firstValue)(e,i))&&(0,f.isEmpty)(t)){var n=(0,se.getScale)("identity");return new n({field:i.toString(),values:[i]})}var a=(0,f.valuesOfKey)(e,i),o=(0,f.get)(t,"type",jt(a[0])),s=(0,se.getScale)(o);return new s((0,Q.__assign)({field:i,values:a},t))}function Ce(i,r){if(i.type!=="identity"&&r.type!=="identity"){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);i.change(t)}}function xe(i){return i.alias||i.field}var ve=v(31437);function Ue(i){var r,t;switch(i){case It.TOP:r={x:0,y:1},t={x:1,y:1};break;case It.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case It.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case It.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function Ne(i){var r,t;return i.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function tr(i,r){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=Ue(r):i.isPolar&&(t=Ne(i));var e=t.start,n=t.end;return{start:i.convert(e),end:i.convert(n)}}function Er(i,r){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function hr(i){var r=i.start,t=i.end;return r.x===t.x}function Tr(i,r){var t=i.start,e=i.end,n=hr(i);return n?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function _r(i,r){return(0,f.get)(i,["components","axis",r],{})}function Nr(i){var r=i.x,t=i.y,e=i.circleCenter,n=t.start>t.end,a=i.isTransposed?i.convert({x:n?0:1,y:0}):i.convert({x:0,y:n?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],l=a.y>e.y?ve.angle(o,s):ve.angle(o,s)*-1,u=l+(r.end-r.start),c=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return{center:e,radius:c,startAngle:l,endAngle:u}}function ir(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r])}function wr(i,r){return(0,f.get)(i,"position",r)}function Zr(i,r){return(0,f.get)(r,["title","text"],xe(i))}var Wr=function(){function i(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,f.deepMix)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(r){var t=r.region,e=r.data,n=r.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},i.prototype.createContainer=function(){var r=this.view.getLayer(vt.FORE);return r.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},i.prototype.clearFacetViews=function(){var r=this;(0,f.each)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},i.prototype.getFieldValues=function(r,t){var e=[],n={};return(0,f.each)(r,function(a){var o=a[t];!(0,f.isNil)(o)&&!n[o]&&(e.push(o),n[o]=!0)}),e},i.prototype.getRegion=function(r,t,e,n){var a=1/(t===0?1:t),o=1/(r===0?1:r),s={x:a*e,y:o*n},l={x:a*(e+1),y:o*(n+1)};return{start:s,end:l}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},i.prototype.processAxis=function(r,t){var e=r.getOptions(),n=e.coordinate,a=r.geometries,o=(0,f.get)(n,"type","rect");if(o==="rect"&&a.length){(0,f.isNil)(e.axes)&&(e.axes={});var s=e.axes,l=a[0].getXYFields(),u=l[0],c=l[1],h=ir(s,u),g=ir(s,c);h!==!1&&(e.axes[u]=this.getXAxisOption(u,s,h,t)),g!==!1&&(e.axes[c]=this.getYAxisOption(c,s,g,t))}},i.prototype.getFacetDataFilter=function(r){return function(t){return(0,f.every)(r,function(e){var n=e.field,a=e.value;return!(0,f.isNil)(a)&&n?t[n]===a:!0})}},i}(),Qr={},ie=function(i){return Qr[(0,f.lowerCase)(i)]},ue=function(i,r){Qr[(0,f.lowerCase)(i)]=r},me=function(){function i(r,t){this.context=r,this.cfg=t,r.addAction(this)}return i.prototype.applyCfg=function(r){(0,f.assign)(this,r)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),Le=me,Xe=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},r}(Le),$e=Xe,mr={};function kr(i,r){var t=mr[i],e=null;if(t){var n=t.ActionClass,a=t.cfg;e=new n(r,a),e.name=i,e.init()}return e}function $r(i){var r=mr[i];return(0,f.get)(r,"ActionClass")}function lr(i,r,t){mr[i]={ActionClass:r,cfg:t}}function Gr(i){delete mr[i]}function bn(i,r){var t=new $e(r);return t.callback=i,t.name="callback",t}function Ln(i){if((0,f.isEmpty)(i))return null;var r=i[0].x,t=i[0].x,e=i[0].y,n=i[0].y;return(0,f.each)(i,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,n=n<a.y?a.y:n}),{minX:r,maxX:t,minY:e,maxY:n,centerX:(r+t)/2,centerY:(e+n)/2}}function dn(i,r,t,e){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function Mn(i,r,t,e,n,a){a===void 0&&(a=0);var o=dn(i,r,t,e),s=dn(i,r,t,n),l=dn(i,r,a,e),u=dn(i,r,a,n);if(n-e==Math.PI*2){var c=dn(i,r,t,e+Math.PI),h=dn(i,r,a,e+Math.PI),g=[["M",o.x,o.y],["A",t,t,0,1,1,c.x,c.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(g.push(["A",a,a,0,1,0,h.x,h.y]),g.push(["A",a,a,0,1,0,u.x,u.y])),g.push(["M",o.x,o.y]),g.push(["Z"]),g}var w=n-e<=Math.PI?0:1,L=[["M",o.x,o.y],["A",t,t,0,w,1,s.x,s.y],["L",u.x,u.y]];return a&&L.push(["A",a,a,0,w,0,l.x,l.y]),L.push(["L",o.x,o.y]),L.push(["Z"]),L}function Jn(i,r,t,e,n){var a=dn(i,r,t,e),o=dn(i,r,t,n);if((0,f.isNumberEqual)(n-e,Math.PI*2)){var s=dn(i,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function qn(i,r){var t=i.points,e=Ln(t),n,a,o=r.startAngle,s=r.endAngle,l=s-o;return r.isTransposed?(n=e.maxY*l,a=e.minY*l):(n=e.maxX*l,a=e.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function ui(i,r){if((0,f.isNumber)(i)&&(0,f.isNumber)(r))return[i,r];for(var t=-1,e=0,n=0,a,o=i.length-1,s,l=0;++t<i.length;)a=o,o=t,l+=s=i[a]*r[o]-i[o]*r[a],e+=(i[a]+i[o])*s,n+=(r[a]+r[o])*s;return l*=3,[e/l,n/l]}function Fn(i,r){var t=i.attr(),e=r.attr();return(0,f.each)(t,function(n,a){e[a]===void 0&&(e[a]=void 0)}),e}function Pi(i,r,t){var e=Math.min(r,t),n=Math.max(r,t);return i>=e&&i<=n}function Bt(i,r,t){if((0,f.isString)(i))return i.padEnd(r,t);if((0,f.isArray)(i)){var e=i.length;if(e<r)for(var n=r-e,a=0;a<n;a++)i.push(t)}return i}function G(i,r){return r.forEach(function(t){delete i[t]}),i}function V(i,r,t){r===void 0&&(r=[]),t===void 0&&(t={});for(var e=0,n=i;e<n.length;e++){var a=n[e];t[a]||(r.push(a),t[a]=!0)}return r}function Y(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var r=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function Z(i){if(i.isPolar){var r=i.startAngle,t=i.endAngle;return t-r==Math.PI*2}return!1}function Ct(i,r){var t=i.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function _t(i,r){var t=!1;if(i)if(i.type==="theta"){var e=i.start,n=i.end;t=Pi(r.x,e.x,n.x)&&Pi(r.y,e.y,n.y)}else{var a=i.invert(r);t=Pi(a.x,0,1)&&Pi(a.y,0,1)}return t}function Wt(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function Jt(i,r){r===void 0&&(r=0);var t=i.start,e=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var o=i.startAngle,s=i.endAngle,l=i.getCenter(),u=i.getRadius();return{type:"path",startState:{path:Mn(l.x,l.y,u+r,o,o)},endState:function(h){var g=(s-o)*h+o,w=Mn(l.x,l.y,u+r,o,g);return{path:w}},attrs:{path:Mn(l.x,l.y,u+r,o,s)}}}var c;return i.isTransposed?c={height:a+r*2}:c={width:n+r*2},{type:"rect",startState:{x:t.x-r,y:e.y-r,width:i.isTransposed?n+r*2:0,height:i.isTransposed?0:a+r*2},endState:c,attrs:{x:t.x-r,y:e.y-r,width:n+r*2,height:a+r*2}}}function ee(i,r){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var e=1,n=i.length;e<n;e+=1){var a=i[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function Be(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convert({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function Ge(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",c=Math.abs(s[u]-o[u])*(a-n),h=s[u]>=o[u]?1:0,g=c>Math.PI?1:0,w=t.convert(s),L=Ct(t,w);if(L>=.5)if(c===Math.PI*2){var D={x:(s.x+o.x)/2,y:(s.y+o.y)/2},N=t.convert(D);l.push(["A",L,L,0,g,h,N.x,N.y]),l.push(["A",L,L,0,g,h,w.x,w.y])}else l.push(["A",L,L,0,g,h,w.x,w.y]);return l}function Fe(i){(0,f.each)(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var or=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var c=0,h=i.length;c<h;c++){var g=i[c];l=ve.min([0,0],l,g),u=ve.max([0,0],u,g)}l=ve.min([0,0],l,e[0]),u=ve.max([0,0],u,e[1])}for(var c=0,w=i.length;c<w;c++){var g=i[c];if(t)a=i[c?c-1:w-1],o=i[(c+1)%w];else if(c===0||c===w-1){n.push(g);continue}else a=i[c-1],o=i[c+1];var L=[0,0];L=ve.sub(L,o,a),L=ve.scale(L,L,r);var D=ve.distance(g,a),N=ve.distance(g,o),H=D+N;H!==0&&(D/=H,N/=H);var X=ve.scale([0,0],L,-D),mt=ve.scale([0,0],L,N),xt=ve.add([0,0],g,X),Pt=ve.add([0,0],g,mt);s&&(xt=ve.max([0,0],xt,l),xt=ve.min([0,0],xt,u),Pt=ve.max([0,0],Pt,l),Pt=ve.min([0,0],Pt,u)),n.push(xt),n.push(Pt)}return t&&n.push(n.shift()),n};function fr(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=or(n,.4,e,t),l=n.length,u=[],c,h,g,a=0;a<l-1;a++)c=s[a*2],h=s[a*2+1],g=n[a+1],u.push(["C",c[0],c[1],h[0],h[1],g[0],g[1]]);return e&&(c=s[l],h=s[l+1],g=n[0],u.push(["C",c[0],c[1],h[0],h[1],g[0],g[1]])),u}function ze(i,r){return ee(i,r)}function gr(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return ze(i,r);for(var o=0,s=i.length;o<s;o++){var l=i[o];(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)}var u=t||[[0,0],[1,1]],c=fr(e,r,u);return c.unshift(["M",n.x,n.y]),c}function Br(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(Be(e,i));break;case"z":default:t.push(e);break}}),t}function en(i,r){var t=[],e,n,a,o;return(0,f.each)(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(Be(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(Ge(e,n,i)):t.push(Be(s,i));break;case"z":default:t.push(s);break}}),Fe(t),t}var Yr=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=t,this.height=n,this.width=e}return i.fromRange=function(r,t,e,n){return new i(r,t,e-r,n-t)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.min(n.x,e.x),e.y=Math.min(n.y,e.y),e.width=Math.max(n.maxX,e.maxX)-e.x,e.height=Math.max(n.maxY,e.maxY)-e.y}),e},i.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.max(n.x,e.x),e.y=Math.max(n.y,e.y),e.width=Math.min(n.maxX,e.maxX)-e.x,e.height=Math.min(n.maxY,e.maxY)-e.y}),e},i.prototype.cut=function(r,t){var e=r.width,n=r.height;switch(t){case It.TOP:case It.TOP_LEFT:case It.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case It.RIGHT:case It.RIGHT_TOP:case It.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case It.BOTTOM:case It.BOTTOM_LEFT:case It.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case It.LEFT:case It.LEFT_TOP:case It.LEFT_BOTTOM:return i.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return new i(this.x+a,this.y+t,this.width-a-e,this.height-t-n)},i.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},i.prototype.size=function(){return this.width*this.height},i}(),Fr=function(i,r){var t=r.start,e=r.end;return new Yr(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(e.x-t.x),i.height*Math.abs(e.y-t.y))};function Sr(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}var Jr=v(70146);function vn(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?n:null}function Tn(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?e.attr("path"):null}function Gn(i){var r=i.event,t,e=r.target;return e&&(t=e.get("element")),t}function Yn(i){var r=i.event,t=r.target,e;return t&&(e=t.get("delegateObject")),e}function Oi(i){var r=i.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function Fi(i){return i&&i.component&&i.component.isList()}function gi(i){return i&&i.component&&i.component.isSlider()}function Wi(i){var r=i.event,t=r.target;return t&&t.get("name")==="mask"}function Ji(i,r){var t=i.event.target;if(t.get("type")==="path"){var e=Tn(i,r);return e?Oa(i.view,e):void 0}var n=vn(i,r);return n?Ri(i.view,n):null}function qi(i,r,t){var e=vn(i,t);if(!e)return null;var n=i.view,a=ji(n,r,{x:e.x,y:e.y}),o=ji(n,r,{x:e.maxX,y:e.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return Ri(r,s)}function gn(i){var r=i.geometries,t=[];return(0,f.each)(r,function(e){var n=e.elements;t=t.concat(n)}),i.views&&i.views.length&&(0,f.each)(i.views,function(e){t=t.concat(gn(e))}),t}function aa(i,r,t){var e=gn(i);return e.filter(function(n){return Mi(n,r)===t})}function ti(i,r){var t=i.geometries,e=[];return(0,f.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(r)});e=e.concat(a)}),e}function Mi(i,r){var t=i.getModel(),e=t.data,n;return(0,f.isArray)(e)?n=e[0][r]:n=e[r],n}function za(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function Ri(i,r){var t=gn(i),e=[];return(0,f.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();za(r,o)&&e.push(n)}),e}function ma(i){var r=[];return(0,f.each)(i,function(t){var e=t[0];if(e!=="A")for(var n=1;n<t.length;n=n+2)r.push([t[n],t[n+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function Oa(i,r){var t=gn(i),e=ma(r),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=ma(o.attr("path"));else{var l=o.getCanvasBBox();s=Sr(l)}return(0,Jr.default)(e,s)});return n}function Ia(i){return i.getComponents().map(function(r){return r.component})}function Ni(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}function xa(i,r){if(i.length<=2)return ze(i,!1);var t=i[0],e=[];(0,f.each)(i,function(a){e.push(a.x),e.push(a.y)});var n=fr(e,r,null);return n.unshift(["M",t.x,t.y]),n}function ta(i,r){return i.x<=r.x&&i.maxX>=r.x&&i.y<=r.y&&i.maxY>r.y}function Ei(i){var r=i.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==i})),t}function ba(i,r){var t=i.getCoordinate();return t.invert(r)}function ji(i,r,t){var e=ba(i,t);return r.getCoordinate().convert(e)}function Va(i,r,t,e){var n=!1;return(0,f.each)(i,function(a){if(a[t]===r[t]&&a[e]===r[e])return n=!0,!1}),n}function wa(i,r){var t=i.getScaleByField(r);return!t&&i.views&&(0,f.each)(i.views,function(e){if(t=wa(e,r),t)return!1}),t}var To=function(){function i(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return i.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},i.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},i.prototype.addAction=function(r){this.actions.push(r)},i.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},i.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),e=t.getPointByClient(r.clientX,r.clientY);return e}else return{x:r.x,y:r.y};return null},i.prototype.getCurrentShape=function(){return(0,f.get)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},i.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},i.prototype.isInComponent=function(r){var t=Ia(this.view),e=this.getCurrentPoint();return e?!!t.find(function(n){var a=n.getBBox();return r?n.get("name")===r&&ta(a,e):ta(a,e)}):!1},i.prototype.destroy=function(){this.view=null,this.event=null,(0,f.each)(this.actions.slice(),function(r){r.destroy()}),this.actions=null,this.cacheMap=null},i}(),co=To,Et=function(){function i(r,t){this.view=r,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),pt=Et;function at(i,r){var t=i.split(":"),e=t[0],n=r.getAction(e)||kr(e,r);if(!n)throw new Error("There is no action named "+e);var a=t[1];return{action:n,methodName:a}}function ht(i){var r=i.action,t=i.methodName;if(r[t])r[t]();else throw new Error("Action("+r.name+") doesn't have a method called "+t)}var Lt={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},Vt=function(i){(0,Q.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return r.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,e=new co(t);this.context=e;var n=this.steps;(0,f.each)(n,function(a){(0,f.each)(a,function(o){if((0,f.isFunction)(o.action))o.actionObject={action:bn(o.action,e),methodName:"execute"};else if((0,f.isString)(o.action))o.actionObject=at(o.action,e);else if((0,f.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,f.each)(s,function(l){o.actionObject.push(at(l,e))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t||t===Lt.SHOW_ENABLE)return!0;if(t===Lt.PROCESSING)return e===Lt.START;if(t===Lt.START)return e!==Lt.PROCESSING;if(t===Lt.END)return e===Lt.PROCESSING||e===Lt.START;if(t===Lt.ROLLBACK){if(n[Lt.END])return e===Lt.END;if(e===Lt.START)return!0}return!1},r.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:e.isEnable?e.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){t!==Lt.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var n=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var l=this.getKey(t,e);if(!o[l]){var u=function(c){a.event=c,n.isAllowExcute(t,e)?((0,f.isArray)(s)?(0,f.each)(s,function(h){a.event=c,ht(h)}):(a.event=c,ht(s)),n.afterExecute(t,e),e.callback&&(a.event=c,e.callback(a))):a.event=null};e.debounce?o[l]=(0,f.debounce)(u,e.debounce.wait,e.debounce.immediate):e.throttle?o[l]=(0,f.throttle)(u,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[l]=u}return o[l]}return null},r.prototype.bindEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],e):n[0]==="document"?document.addEventListener(n[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],e):n[0]==="document"?document.removeEventListener(n[1],e):this.view.off(t,e)},r}(pt),de=Vt,Ee={};function Ae(i){return Ee[(0,f.lowerCase)(i)]}function Re(i,r){Ee[(0,f.lowerCase)(i)]=r}function Je(i,r,t){var e=Ae(i);if(!e)return null;if((0,f.isPlainObject)(e)){var n=(0,f.mix)((0,f.clone)(e),t);return new de(r,n)}else{var a=e;return new a(r,t)}}var qe=v(7755),sr=v(31506);function Ir(i){var r,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},e={title:{autoRotate:!0,position:"center",style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:i.backgroundColor,defaultColor:i.brandColor,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var l=qn(o.getModel(),s),u=l.startAngle,c=l.endAngle,h=(u+c)/2,g=7.5,w=g*Math.cos(h),L=g*Math.sin(h);return{matrix:sr.transform(null,[["t",w,L]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,Q.__assign)((0,Q.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,Q.__assign)((0,Q.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,Q.__assign)((0,Q.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,Q.__assign)((0,Q.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,Q.__assign)((0,Q.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,Q.__assign)((0,Q.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,Q.__assign)((0,Q.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,Q.__assign)((0,Q.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,f.deepMix)({},e,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,f.deepMix)({},e,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,f.deepMix)({},e,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,f.deepMix)({},e,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"line"}})}),radius:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,f.deepMix)({},a,{layout:"vertical"}),left:(0,f.deepMix)({},a,{layout:"vertical"}),top:(0,f.deepMix)({},a,{layout:"horizontal"}),bottom:(0,f.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r[""+qe.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:i.tooltipContainerBorderRadius+"px",color:i.tooltipTextFillColor,fontSize:i.tooltipTextFontSize+"px",fontFamily:i.fontFamily,lineHeight:i.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},r[""+qe.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},r[""+qe.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},r[""+qe.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r[""+qe.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r[""+qe.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var er={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},qr={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Xt=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],bt=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],F={backgroundColor:"transparent",brandColor:Xt[0],paletteQualitative10:Xt,paletteQualitative20:bt,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:er[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:er[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:er[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:er[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:er[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:er[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:er[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Xt[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:er[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:er[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:er[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:er[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:er[25],annotationArcBorderColor:er[15],annotationArcBorder:.5,annotationLineBorderColor:er[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:er[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:qr[95],annotationTextBorder:1.5,annotationRegionFillColor:er[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:er[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:er[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:er[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:qr[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:er[25],pointFillColor:Xt[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:qr[100],pointBorderOpacity:1,pointActiveBorderColor:er[100],pointSelectedBorder:2,pointSelectedBorderColor:er[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Xt[0],hollowPointBorderOpacity:.95,hollowPointFillColor:qr[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:er[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:er[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Xt[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Xt[0],areaFillOpacity:.25,areaActiveFillColor:Xt[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Xt[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Xt[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:er[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:er[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Xt[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:er[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:er[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Xt[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:qr[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:er[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:er[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},U=Ir(F),lt={default:U};function Mt(i){return(0,f.get)(lt,(0,f.lowerCase)(i),lt.default)}function Gt(i,r){lt[(0,f.lowerCase)(i)]=(0,f.deepMix)({},lt.default,r)}function Kt(i,r,t){var e=t.translate(i),n=t.translate(r);return(0,f.isNumberEqual)(e,n)}function ge(i,r){var t=r.coordinate,e=r.getXScale(),n=e.range,a=n[n.length-1],o=n[0],s=t.invert(i),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),e.translate(e.invert(l))}function Te(i,r,t){var e=t.coordinate,n=t.getYScale(),a=n.field,o=e.invert(r),s=n.invert(o.y),l=(0,f.find)(i,function(u){var c=u[le];return c[a][0]<=s&&c[a][1]>=s});return l||i[i.length-1]}var Ye=(0,f.memoize)(function(i){if(i.isCategory)return 1;for(var r=i.values,t=r.length,e=i.translate(r[0]),n=e,a=0;a<t;a++){var o=r[a],s=i.translate(o);s<e&&(e=s),s>n&&(n=s)}return(n-e)/(t-1)});function Ze(i,r,t){var e=t;if(!t){var n=r.getAttribute("position"),a=n.getFields();e=a[0]}var o=r.scales;return o[e]?o[e].getText(i[e]):(0,f.hasKey)(i,e)?i[e]:e}function pr(i){var r=(0,f.values)(i.attributes);return(0,f.filter)(r,function(t){return(0,f.contains)(Me,t.type)})}function Cr(i){for(var r=pr(i),t,e=0,n=r;e<n.length;e++){var a=n[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=i.getXScale(),l=i.getYScale();return t||l||s}function Vr(i,r){var t=r.field,e=i[t];if((0,f.isArray)(e)){var n=e.map(function(a){return r.getText(a)});return n.join("-")}return r.getText(e)}function sn(i,r){var t,e=r.getGroupScales();if(e.length&&(t=e[0]),t){var n=t.field;return t.getText(i[n])}var a=Cr(r);return xe(a)}function rn(i,r,t){if(r.length===0)return null;var e=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(e==="heatmap"||e==="point"){for(var u=t.coordinate,c=u.invert(i),h=n.invert(c.x),g=a.invert(c.y),w=Infinity,L=0;L<r.length;L++){var D=r[L],N=D[le],H=Math.pow(N[o]-h,2)+Math.pow(N[s]-g,2);H<w&&(w=H,l=D)}return l}var X=r[0],mt=r[r.length-1],xt=ge(i,t),Pt=X[le][o],Ht=X[le][s],te=mt[le][o],oe=a.isLinear&&(0,f.isArray)(Ht);if((0,f.isArray)(Pt)){for(var L=0;L<r.length;L++){var qt=r[L],N=qt[le];if(n.translate(N[o][0])<=xt&&n.translate(N[o][1])>=xt)if(oe)(0,f.isArray)(l)||(l=[]),l.push(qt);else{l=qt;break}}(0,f.isArray)(l)&&(l=Te(l,i,t))}else{var we=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var L=0;L<r.length;L++){var qt=r[L],N=qt[le];if(Kt(N[o],xt,n))if(oe)(0,f.isArray)(l)||(l=[]),l.push(qt);else{l=qt;break}else n.translate(N[o])<=xt&&(mt=qt,we=r[L+1])}(0,f.isArray)(l)&&(l=Te(l,i,t))}else{if((xt>n.translate(te)||xt<n.translate(Pt))&&(xt>n.max||xt<n.min))return null;for(var Ie=0,Pe=r.length-1,Ke=void 0;Ie<=Pe;){Ke=Math.floor((Ie+Pe)/2);var ar=r[Ke][le][o];if(Kt(ar,xt,n))return r[Ke];n.translate(ar)<=n.translate(xt)?(Ie=Ke+1,mt=r[Ke],we=r[Ke+1]):(Pe===0&&(mt=r[0]),Pe=Ke-1)}}mt&&we&&Math.abs(n.translate(mt[le][o])-xt)>Math.abs(n.translate(we[le][o])-xt)&&(mt=we)}var rr=Ye(t.getXScale());return!l&&Math.abs(n.translate(mt[le][o])-xt)<=rr/2&&(l=mt),l}function An(i,r,t){t===void 0&&(t="");var e=i[le],n=Ze(e,r,t),a=r.tooltipOption,o=r.theme.defaultColor,s=[],l,u;function c(Ht,te){if(!(0,f.isNil)(te)&&te!==""){var oe={title:n,data:e,mappingData:i,name:Ht,value:te,color:i.color||o,marker:!0};s.push(oe)}}if((0,f.isObject)(a)){var h=a.fields,g=a.callback;if(g){var w=h.map(function(Ht){return i[le][Ht]}),L=g.apply(void 0,w),D=(0,Q.__assign)({data:i[le],mappingData:i,title:n,color:i.color||o,marker:!0},L);s.push(D)}else for(var N=r.scales,H=0,X=h;H<X.length;H++){var mt=X[H];if(!(0,f.isNil)(e[mt])){var xt=N[mt];l=xe(xt),u=xt.getText(e[mt]),c(l,u)}}}else{var Pt=Cr(r);(0,f.isNil)(e[Pt.field])||(u=Vr(e,Pt),l=sn(e,r),c(l,u))}return s}var In={};function Pn(i,r){In[i]=r}function zt(i){delete In[i]}function pe(){return Object.keys(In)}function ke(i){return In[i]}var Ve=function(){function i(r){this.option=this.wrapperOption(r)}return i.prototype.update=function(r){return this.option=this.wrapperOption(r),this},i.prototype.hasAction=function(r){var t=this.option.actions;return(0,f.some)(t,function(e){return e[0]===r})},i.prototype.create=function(r,t){var e=this.option,n=e.type,a=e.cfg,o=n==="theta",s=(0,Q.__assign)({start:r,end:t},a),l=(0,ne.getCoordinate)(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},i.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},i.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(r){return(0,Q.__assign)({type:"rect",actions:[],cfg:{}},r)},i.prototype.execActions=function(r){var t=this,e=this.option.actions;(0,f.each)(e,function(n){var a,o=n[0],s=n.slice(1),l=(0,f.isNil)(r)?!0:r.includes(o);l&&(a=t.coordinate)[o].apply(a,s)})},i}(),cr=Ve,Rr=function(){function i(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type="+this.type+")]"},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),cn=Rr;function Rn(i){return!(0,f.isNumber)(i)&&!(0,f.isArray)(i)}function bi(i){i===void 0&&(i=0);var r=(0,f.isArray)(i)?i:[i];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,Q.__spreadArrays)(r,r);break;case 3:r=(0,Q.__spreadArrays)(r,[r[1]]);break;default:r=r.slice(0,4);break}return r}var Ii=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.top=r,this.right=t,this.bottom=e,this.left=n}return i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return this.top+=t,this.right+=e,this.bottom+=n,this.left+=a,this},i.prototype.inc=function(r,t){var e=r.width,n=r.height;switch(t){case It.TOP:case It.TOP_LEFT:case It.TOP_RIGHT:this.top+=n;break;case It.RIGHT:case It.RIGHT_TOP:case It.RIGHT_BOTTOM:this.right+=e;break;case It.BOTTOM:case It.BOTTOM_LEFT:case It.BOTTOM_RIGHT:this.bottom+=n;break;case It.LEFT:case It.LEFT_TOP:case It.LEFT_BOTTOM:this.left+=e;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i}();function oa(i){var r=i.padding;if(!Rn(r))return bi(r);var t=i.viewBBox,e=i.autoPadding,n=new Ii;(0,f.each)(i.getComponents(),function(s){var l=s.component,u=s.type;if(!(u===Qt.GRID||u===Qt.TOOLTIP)){var c=l.getLayoutBBox(),h=new Yr(c.x,c.y,c.width,c.height);if(u===Qt.AXIS){var g=h.exceed(t);n.shrink(g)}else{var w=s.direction;n.inc(h,w)}}});var a=n.getPadding();if(e){var o=bi(i.appendPadding);return[Math.max(e[0]-o[0],a[0]),Math.max(e[1]-o[1],a[1]),Math.max(e[2]-o[2],a[2]),Math.max(e[3]-o[3],a[3])]}return a}function Po(i){var r=i.getController("axis"),t=i.getController("legend"),e=i.getController("annotation"),n=i.getController("slider"),a=oa(i);i.coordinateBBox=i.viewBBox.shrink(a).shrink(bi(i.appendPadding)),i.adjustCoordinate(),[r,n,t,e].forEach(function(o){o&&o.layout()})}var ab=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(r,t,e,n){var a=e,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,f.deepMix)(l,o.scaleDef,e)}var u=fe(r,t,a);return this.cacheScale(u,e,n),u},i.prototype.sync=function(){var r=this;this.syncScales.forEach(function(t,e){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,f.each)(t,function(s){var l=r.getScale(s);a=(0,f.isNumber)(l.max)?Math.max(a,l.max):a,n=(0,f.isNumber)(l.min)?Math.min(n,l.min):n,(0,f.each)(l.values,function(u){o.includes(u)||o.push(u)})}),(0,f.each)(t,function(s){var l=r.getScale(s);l.isContinuous?l.change({min:n,max:a,values:o}):l.isCategory&&l.change({values:o})})})},i.prototype.cacheScale=function(r,t,e){var n=this.getScaleMeta(e);n&&n.scale.type===r.type?(Ce(n.scale,r),n.scaleDef=t):(n={key:e,scale:r,scaleDef:t},this.scales.set(e,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(e)}},i.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,f.last)(r.split("-")),n=this.syncScales.get(e);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var e=t.syncKey,n=this.syncScales.get(e);if(n&&n.length){var a=n.indexOf(r);a!==-1&&n.splice(a,1)}}this.scales.delete(r)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,n){var a=e.indexOf(r);if(a!==-1)return e.splice(a,1),e.length===0&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(r){var t=r.scale,e=r.scaleDef,n=t.field,a=(0,f.get)(e,["sync"]);return a===!0?n:a===!1?void 0:a},i.prototype.getScaleMeta=function(r){return this.scales.get(r)},i}(),kh=function(i){(0,Q.__extends)(r,i);function r(t){var e=i.call(this,{visible:t.visible})||this;e.id=(0,f.uniqueId)("view"),e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=pe(),e.scalePool=new ab,e.layoutFunc=Po,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(N){var H=N.name;if(!H.includes(":")){var X=e.createViewEvent(N);e.doPlotEvent(X),e.emit(H,X)}},e.onDelegateEvents=function(N){var H=N.name;if(!!H.includes(":")){var X=e.createViewEvent(N);e.emit(H,X)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,l=t.foregroundGroup,u=t.region,c=u===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:u,h=t.padding,g=t.appendPadding,w=t.theme,L=t.options,D=t.limitInPlot;return e.parent=n,e.canvas=a,e.backgroundGroup=o,e.middleGroup=s,e.foregroundGroup=l,e.region=c,e.padding=h,e.appendPadding=g,e.options=(0,Q.__assign)((0,Q.__assign)({},e.options),L),e.limitInPlot=D,e.themeObject=(0,f.isObject)(w)?(0,f.deepMix)({},Mt("default"),w):Mt(w),e.init(),e}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new cr(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},r.prototype.render=function(t){t===void 0&&(t=!1),this.emit($t.BEFORE_RENDER),this.paint(t),this.emit($t.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit($t.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit($t.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit($t.BEFORE_DESTROY);var t=this.interactions;(0,f.each)(t,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,f.set)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,f.isFunction)(e)?((0,f.set)(this.options,["filters",t],e),this):(!e&&(0,f.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["axes"],t):(0,f.set)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["legends"],t):(0,f.isString)(t)?(0,f.set)(this.options,["legends",t],e):(0,f.set)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var n=this;return(0,f.isString)(t)?(0,f.set)(this.options,["scales",t],e):(0,f.isObject)(t)&&(0,f.each)(t,function(a,o){(0,f.set)(n.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,f.set)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,f.isString)(t)?(0,f.set)(this.options,"coordinate",{type:t,cfg:e}):(0,f.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=ie(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,Q.__assign)((0,Q.__assign)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,f.set)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,f.mix)(this.options,t),this.initOptions(),this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,f.set)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,f.isObject)(t)?(0,f.deepMix)({},this.themeObject,t):Mt(t),this},r.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var a=Je(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit($t.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.changeData(t)}this.emit($t.AFTER_CHANGE_DATA)},r.prototype.createView=function(t){var e={data:this.options.data,scales:(0,f.clone)(this.options.scales),axes:(0,f.clone)(this.options.axes),coordinate:(0,f.clone)(this.coordinateController.getOption()),tooltip:(0,f.clone)(this.options.tooltip),legends:(0,f.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new r((0,Q.__assign)((0,Q.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Se.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Se.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Se.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,Q.__assign)((0,Q.__assign)({},e),(0,f.get)(t,"options",{}))}));return this.views.push(n),n},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,f.remove)(this.views,function(n){return n===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={};return this.geometries.map(function(e){var n=e.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},a=0,o=e.length;a<o;a++){var s=e[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},r.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getLayer=function(t){return t===vt.BG?this.backgroundGroup:t===vt.MID?this.middleGroup:t===vt.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return _t(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,f.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return V((0,f.flatten)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var e=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,f.each)(t,function(l,u){n[u]&&(o=n[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!(0,f.isNil)(o)&&!(0,f.isNil)(s))return e.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,f.find)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],a=0,o=e.length;a<o;a++){var s=e[a],l=s.dataArray;s.sort(l);for(var u=void 0,c=0,h=l.length;c<h;c++){var g=l[c];u=rn(t,g,s),u&&n.push(u)}}for(var w=this.views,a=0,o=w.length;a<o;a++){var L=w[a],D=L.getSnapRecords(t);n=n.concat(D)}return n},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var e=this.options.filters;return(0,f.size)(e)===0?t:(0,f.filter)(t,function(n,a){var o=Object.keys(e);return o.every(function(s){var l=e[s];return l(n[s],n,a)})})},r.prototype.filterFieldData=function(t,e){var n=this.options.filters,a=(0,f.get)(n,t);return(0,f.isUndefined)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,f.isEqual)(e,a)&&(0,f.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit($t.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit($t.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,f.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var e=this.viewBBox,n=e.x,a=e.y,o=e.width,s=e.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},r.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;Rn(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,n=Jt(this.coordinateInstance),a=n.type,o=n.attrs;e.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++){var c=s[l];c.renderPaintRecursive(t)}},r.prototype.createScale=function(t,e,n,a){var o=(0,f.get)(this.options.scales,[t]),s=(0,Q.__assign)((0,Q.__assign)({},o),n);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,e,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,n=o.width,a=o.height}else t=0,e=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,c=new Yr(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(c))&&(this.viewBBox=new Yr(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y)),this.coordinateBBox=this.viewBBox)},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var a=t[e],o=ke(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,a=e?e.get("origin"):null,o=new cn(this,t,a);return o.type=n,o},r.prototype.doPlotEvent=function(t){var e=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(e)){var l=this.isPointInPlot(o);if(l){var u="plot:"+e;t.type=u,this.emit(u,t),(e==="mouseleave"||e==="touchend")&&(this.isPreMouseInPlot=!1)}e==="mousemove"||e==="touchmove"?(this.isPreMouseInPlot&&!l?(e==="mousemove"&&(t.type=re.MOUSE_LEAVE,this.emit(re.MOUSE_LEAVE,t)),t.type=re.LEAVE,this.emit(re.LEAVE,t)):!this.isPreMouseInPlot&&l&&(e==="mousemove"&&(t.type=re.MOUSE_ENTER,this.emit(re.MOUSE_ENTER,t)),t.type=re.ENTER,this.emit(re.ENTER,t)),this.isPreMouseInPlot=l):(e==="mouseleave"||e==="touchend")&&this.isPreMouseInPlot&&(e==="mouseleave"&&(t.type=re.MOUSE_LEAVE,this.emit(re.MOUSE_LEAVE,t)),t.type=re.LEAVE,this.emit(re.LEAVE,t),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,f.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,c=t.length;u<c;u++){var h=t[u],g=s[h],w=this.getScaleKey(h);this.createScale(h,e.includes(h)?a:l,g,w),this.createdScaleKeys.set(w,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync()},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var a=t[n];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();V(s,t,e)}return t},r.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();V(s,t,e)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,Q.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,f.each)(e,function(o){var s=o.field,l=o.values,u=o.isCategory,c=o.isIdentity;if((u||c)&&l&&!(0,f.get)(a,[s,"range"])){var h=l.length,g=void 0;if(h===1)g=[.5,1];else{var w=1,L=0;Z(n)?n.isTransposed?(w=(0,f.get)(t.theme,"widthRatio.multiplePie",1/1.3),L=1/h*w,g=[L/2,1-L/2]):g=[0,1-1/h]:(L=1/h/2,g=[L,1-L])}o.range=g}})},r.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var a=e[n];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,e||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var n=this.getComponents()[e];n.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=e===void 0?[]:e,a=t.interactions,o=a===void 0?[]:a,s=t.views,l=s===void 0?[]:s,u=t.annotations,c=u===void 0?[]:u,h=0;h<n.length;h++){var g=n[h];this.createGeometry(g)}for(var w=0;w<o.length;w++){var L=o[w],D=L.type,N=L.cfg;this.interaction(D,N)}for(var H=0;H<l.length;H++){var X=l[H];this.createView(X)}for(var mt=this.getController("annotation"),xt=0;xt<c.length;xt++){var Pt=c[xt];mt.annotation(Pt)}},r.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[e]){var o=this[e](a);(0,f.each)(t,function(s,l){(0,f.isFunction)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return this.id+"-"+t},r}(_e);function ka(i,r){kh.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var e=(0,Q.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new r(e);return this.geometries.push(n),n}}var rf=kh,ob=function(i){(0,Q.__extends)(r,i);function r(t){var e=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,u=t.padding,c=t.appendPadding,h=t.renderer,g=h===void 0?"canvas":h,w=t.pixelRatio,L=t.localRefresh,D=L===void 0?!0:L,N=t.visible,H=N===void 0?!0:N,X=t.defaultInteractions,mt=X===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:X,xt=t.options,Pt=t.limitInPlot,Ht=t.theme,te=(0,f.isString)(n)?document.getElementById(n):n,oe=(0,et.Z)('<div style="position:relative;"></div>');te.appendChild(oe);var qt=Oe(te,l,a,o),we=j(g),Ie=new we.Canvas((0,Q.__assign)({container:oe,pixelRatio:w,localRefresh:D},qt));return e=i.call(this,{parent:null,canvas:Ie,backgroundGroup:Ie.addGroup({zIndex:Se.BG}),middleGroup:Ie.addGroup({zIndex:Se.MID}),foregroundGroup:Ie.addGroup({zIndex:Se.FORE}),padding:u,appendPadding:c,visible:H,options:xt,limitInPlot:Pt,theme:Ht})||this,e.onResize=(0,f.debounce)(function(){e.forceFit()},300),e.ele=te,e.canvas=Ie,e.width=qt.width,e.height=qt.height,e.autoFit=l,e.localRefresh=D,e.renderer=g,e.wrapperElement=oe,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(mt),e}return r.prototype.initDefaultInteractions=function(t){var e=this;(0,f.each)(t,function(n){e.interaction(n)})},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e?this:(this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),He(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=Oe(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},r.prototype.updateCanvasStyle=function(){(0,Tt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(rf),sb=ob,Uo=function(){function i(r){this.visible=!0,this.components=[],this.view=r}return i.prototype.clear=function(){(0,f.each)(this.components,function(r){r.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},i}(),Lh=0,lb=1/2,ub=1/2,fb=.05,cb=function(){function i(r){var t=r.xField,e=r.yField,n=r.adjustNames,a=n===void 0?["x","y"]:n,o=r.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=e,this.dimValuesMap=o}return i.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},i.prototype.getAdjustRange=function(r,t,e){var n=this.yField,a=e.indexOf(t),o=e.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=e[a===0?0:a-1],l=e[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-e[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},i.prototype.adjustData=function(r,t){var e=this,n=this.getDimValues(t);f.each(r,function(a,o){f.each(n,function(s,l){e.adjustDim(l,s,a,o)})})},i.prototype.groupData=function(r,t){return f.each(r,function(e){e[t]===void 0&&(e[t]=Lh)}),f.groupBy(r,t)},i.prototype.adjustDim=function(r,t,e,n){},i.prototype.getDimValues=function(r){var t=this,e=t.xField,n=t.yField,a=f.assign({},this.dimValuesMap),o=[];if(e&&this.isAdjust("x")&&o.push(e),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a&&a[l]||(a[l]=f.valuesOfKey(r,l).sort(function(u,c){return u-c}))}),!n&&this.isAdjust("y")){var s="y";a[s]=[Lh,1]}return a},i}(),nl=cb,_h={},Dh=function(i){return _h[i.toLowerCase()]},il=function(i,r){if(Dh(i))throw new Error("Adjust type '"+i+"' existed.");_h[i.toLowerCase()]=r},Sa=v(99350),hb=function(i){(0,Sa.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,a=n===void 0?lb:n,o=t.dodgeRatio,s=o===void 0?ub:o,l=t.dodgeBy,u=t.intervalPadding,c=t.dodgePadding,h=t.xDimensionLength,g=t.groupNum,w=t.defaultSize,L=t.maxColumnWidth,D=t.minColumnWidth,N=t.columnWidthRatio,H=t.customOffset;return e.marginRatio=a,e.dodgeRatio=s,e.dodgeBy=l,e.intervalPadding=u,e.dodgePadding=c,e.xDimensionLegenth=h,e.groupNum=g,e.defaultSize=w,e.maxColumnWidth=L,e.minColumnWidth=D,e.columnWidthRatio=N,e.customOffset=H,e}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e),a=this.dodgeBy,o=a?f.group(n,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,n,a){var o=this,s=this.customOffset,l=this.getDistribution(t),u=this.groupData(n,t);return f.each(u,function(c,h){var g;e.length===1?g={pre:e[0]-1,next:e[0]+1}:g=o.getAdjustRange(t,parseFloat(h),e),f.each(c,function(w){var L=w[t],D=l[L],N=D.indexOf(a);if(f.isNil(s))w[t]=o.getDodgeOffset(g,N,D.length);else{var H=g.pre,X=g.next;w[t]=f.isFunction(s)?s(w,g):(H+X)/2+s}})}),[]},r.prototype.getDodgeOffset=function(t,e,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,c=t.pre,h=t.next,g=h-c,w;if(!f.isNil(l)&&f.isNil(u)&&l>=0){var L=this.getIntervalOnlyOffset(n,e);w=c+L}else if(!f.isNil(u)&&f.isNil(l)&&u>=0){var L=this.getDodgeOnlyOffset(n,e);w=c+L}else if(!f.isNil(l)&&!f.isNil(u)&&l>=0&&u>=0){var L=this.getIntervalAndDodgeOffset(n,e);w=c+L}else{var D=g*o/n,N=s*D,L=1/2*(g-n*D-(n-1)*N)+((e+1)*D+e*N)-1/2*D-1/2*g;w=(c+h)/2+L}return w},r.prototype.getIntervalOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.dodgeRatio,c=n.maxColumnWidth,h=n.minColumnWidth,g=n.columnWidthRatio,w=o/s,L=(1-(l-1)*w)/l*u/(t-1),D=((1-w*(l-1))/l-L*(t-1))/t;if(D=f.isNil(g)?D:1/l/t*g,!f.isNil(c)){var N=c/s;D=Math.min(D,N)}if(!f.isNil(h)){var H=h/s;D=Math.max(D,H)}D=a?a/s:D,L=((1-(l-1)*w)/l-t*D)/(t-1);var X=((1/2+e)*D+e*L+1/2*w)*l-w/2;return X},r.prototype.getDodgeOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.marginRatio,c=n.maxColumnWidth,h=n.minColumnWidth,g=n.columnWidthRatio,w=o/s,L=1*u/(l-1),D=((1-L*(l-1))/l-w*(t-1))/t;if(D=g?1/l/t*g:D,!f.isNil(c)){var N=c/s;D=Math.min(D,N)}if(!f.isNil(h)){var H=h/s;D=Math.max(D,H)}D=a?a/s:D,L=(1-(D*t+w*(t-1))*l)/(l-1);var X=((1/2+e)*D+e*w+1/2*L)*l-L/2;return X},r.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=a/s,c=o/s,h=((1-u*(l-1))/l-c*(t-1))/t,g=((1/2+e)*h+e*c+1/2*u)*l-u/2;return g},r.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},f.each(e,function(o,s){var l=f.valuesOfKey(o,t);l.length||l.push(0),f.each(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),n[t]=a),a},r}(nl),vb=hb;function db(i,r){return(r-i)*Math.random()+i}var pb=function(i){(0,Sa.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e);return this.adjustData(e,n),e},r.prototype.adjustDim=function(t,e,n){var a=this,o=this.groupData(n,t);return f.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,a=(n-e)*fb;return db(e+a,n-a)},r.prototype.adjustGroup=function(t,e,n,a){var o=this,s=this.getAdjustRange(e,n,a);return f.each(t,function(l){l[e]=o.getAdjustOffset(s)}),t},r}(nl),gb=pb,nf=f.Cache,yb=function(i){(0,Sa.__extends)(r,i);function r(t){var e=i.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,u=l===void 0?10:l,c=t.reverseOrder,h=c===void 0?!1:c;return e.adjustNames=a,e.height=s,e.size=u,e.reverseOrder=h,e}return r.prototype.process=function(t){var e=this,n=e.yField,a=e.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,o=e.reverseOrder,s=o?this.reverse(t):t,l=new nf,u=new nf;return s.map(function(c){return c.map(function(h){var g,w=f.get(h,n,0),L=f.get(h,[a]),D=w.toString();if(L=f.isArray(L)?L[1]:L,!f.isNil(L)){var N=L>=0?l:u;N.has(D)||N.set(D,0);var H=N.get(D),X=L+H;return N.set(D,X),(0,Sa.__assign)((0,Sa.__assign)({},h),(g={},g[a]=[H,X],g))}return h})})},r.prototype.processOneDimStack=function(t){var e=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",u=s?this.reverse(t):t,c=new nf;return u.map(function(h){return h.map(function(g){var w,L=e.size,D=g[a],N=L*2/o;c.has(D)||c.set(D,N/2);var H=c.get(D);return c.set(D,H+N),(0,Sa.__assign)((0,Sa.__assign)({},g),(w={},w[l]=H,w))})})},r}(nl),mb=yb,xb=function(i){(0,Sa.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return f.map(t,function(u){return f.map(u,function(c){var h,g,w=c[o],L=c[a];if(f.isArray(w)){var D=(l-s[L])/2;return(0,Sa.__assign)((0,Sa.__assign)({},c),(h={},h[o]=f.map(w,function(H){return D+H}),h))}var N=(l-w)/2;return(0,Sa.__assign)((0,Sa.__assign)({},c),(g={},g[o]=[N,w+N],g))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,n=this,a=n.xField,o=n.yField,s=f.groupBy(t,function(l){return l[a]});return f.mapValues(s,function(l){return e.getDimMaxValue(l,o)})},r.prototype.getDimMaxValue=function(t,e){var n=f.map(t,function(o){return f.get(o,e,[])}),a=f.flatten(n);return Math.max.apply(Math,a)},r}(nl),bb=xb;il("Dodge",vb),il("Jitter",gb),il("Stack",mb),il("Symmetric",bb);var Bh={};function af(i){return Bh[i.toLowerCase()]}function wi(i,r){Bh[i.toLowerCase()]=r}var Zo={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},wb={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Fh={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",i.isPolar&&i.isTransposed&&(r="wave-in")),{animation:r}},schema:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Sb(i,r){return{delay:(0,f.isFunction)(i.delay)?i.delay(r):i.delay,easing:(0,f.isFunction)(i.easing)?i.easing(r):i.easing,duration:(0,f.isFunction)(i.duration)?i.duration(r):i.duration,callback:i.callback}}function Rh(i,r,t){var e=wb[i];return e&&((0,f.isFunction)(e)&&(e=e(r)),e=(0,f.deepMix)({},Zo,e),t)?e[t]:e}function Qo(i,r,t){var e=(0,f.get)(i.get("origin"),"data",le),n=r.animation,a=Sb(r,e);if(n){var o=af(n);o&&o(i,a,t)}else i.animate(t.toAttrs,a)}function Cb(i,r,t,e,n){if(Fh[t]){var a=Fh[t](e),o=af((0,f.get)(a,"animation",""));if(o){var s=(0,Q.__assign)((0,Q.__assign)((0,Q.__assign)({},Zo.appear),a),r);i.stopAnimate(),o(i,s,{coordinate:e,minYPoint:n,toAttrs:null})}}}var Mb=v(31207),Eb=function(i){(0,Q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,l=s===void 0?!0:s;return e.shapeFactory=n,e.container=a,e.offscreenGroup=o,e.visible=l,e}return r.prototype.draw=function(t,e){e===void 0&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var e=this,n=e.shapeFactory,a=e.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,e=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?Qo(n,a,{coordinate:e.coordinate,toAttrs:(0,Q.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var n=this,a=this,o=a.states,s=a.shapeFactory,l=a.model,u=a.shape,c=a.shapeType,h=o.indexOf(t);if(e){if(h>-1)return;o.push(t),(t==="active"||t==="selected")&&u.toFront()}else{if(h===-1)return;o.splice(h,1),(t==="active"||t==="selected")&&u.toBack()}var g=s.drawShape(c,l,this.getOffscreenGroup());o.length?o.forEach(function(L){n.syncShapeStyle(u,g,L,null)}):this.syncShapeStyle(u,g,"reset",null),g.remove(!0);var w={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",w),(0,Mb.propagationDelegate)(this.shape,"statechange",w)},r.prototype.clearStates=function(){var t=this,e=this.states;(0,f.each)(e,function(n){t.setState(n,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[e]||a.theme[s];this.statesStyle=(0,f.deepMix)({},l,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),a=(0,f.get)(n,[t,"style"],{}),o=a[e]||a;return(0,f.isFunction)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},r.prototype.drawShape=function(t,e){e===void 0&&(e=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,f.isString)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var u=e?"enter":"appear",c=this.getAnimateCfg(u);c&&Qo(this.shape,c,{coordinate:a.coordinate,toAttrs:(0,Q.__assign)({},this.shape.attr())})}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,e)})}},r.prototype.syncShapeStyle=function(t,e,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),l=e.get("children"),u=0;u<s.length;u++)this.syncShapeStyle(s[u],l[u],n,a,o+u);else{if(n&&n!=="reset"){var c=t.get("name");(0,f.isArray)(c)&&(c=c[1]);var h=this.getStateStyle(n,c||o);e.attr(h)}var g=Fn(t,e);this.animate?a?Qo(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:g,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(g,{duration:300})):t.attr(g):t.attr(g)}},r.prototype.getShapeType=function(t){var e=(0,f.get)(t,"shape");return(0,f.isArray)(e)?e[0]:e},r}(_e),Nh=Eb,Gh={},Yh={};function zh(i){return Gh[i.toLowerCase()]}function xs(i,r){Gh[i.toLowerCase()]=r}function Vh(i){return Yh[i.toLowerCase()]}function Oo(i,r){Yh[i.toLowerCase()]=r}var al=v(57350),Ab={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,r){var t=this.getShape(i);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(i){var r=this[i]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getMarker:function(i,r){var t=this.getShape(i);if(!t.getMarker){var e=this.defaultShapeType;t=this.getShape(e)}var n=this.theme,a=(0,f.get)(n,[i,"default"],{}),o=t.getMarker(r);return(0,f.deepMix)({},a,o)},drawShape:function(i,r,t){var e=this.getShape(i);return e.draw(r,t)}},Tb={coordinate:null,parsePath:function(i){var r=this.coordinate,t=(0,al.parsePathString)(i);return r.isPolar?t=en(r,t):t=Br(r,t),t},parsePoint:function(i){var r=this.coordinate;return r.convert(i)},parsePoints:function(i){var r=this.coordinate;return i.map(function(t){return r.convert(t)})},draw:function(i,r){}},of={};function ho(i,r){var t=(0,f.upperFirst)(i),e=(0,Q.__assign)((0,Q.__assign)((0,Q.__assign)({},Ab),r),{geometryType:i});return of[t]=e,e}function Nn(i,r,t){var e=(0,f.upperFirst)(i),n=of[e],a=(0,Q.__assign)((0,Q.__assign)({},Tb),t);return n[r]=a,a}function sf(i){var r=(0,f.upperFirst)(i);return of[r]}function Pb(i,r,t){if(t===void 0&&(t={}),!r)return[i];var e=(0,f.groupToMap)(i,r),n=[];if(r.length===1&&t[r[0]])for(var a=t[r[0]],o=0,s=a;o<s.length;o++){var l=s[o],u=e["_"+l];u&&n.push(u)}else for(var c in e)if(e.hasOwnProperty(c)){var h=e[c];n.push(h)}return n}function Xh(i,r){return(0,f.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,f.isEqual)(i[t],r[t])})}function bs(i){return(0,f.isArray)(i)?i:i.split("*")}function Ob(i,r){var t=[];return(0,f.each)(r,function(e,n){var a=n.split(" ")[0];a===i&&t.push(e)}),t}var Ib=function(i){(0,Q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=l===void 0?!1:l,c=t.visible,h=c===void 0?!0:c,g=t.theme,w=t.scales,L=w===void 0?{}:w,D=t.scaleDefs,N=D===void 0?{}:D;return e.container=n,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=u,e.visible=h,e.userTheme=g,e.scales=L,e.scaleDefs=N,e}return r.prototype.position=function(t){var e=t;(0,f.isPlainObject)(t)||(e={fields:bs(t)});var n=(0,f.get)(e,"fields");return n.length===1&&(n.unshift("1"),(0,f.set)(e,"fields",n)),(0,f.set)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,f.isString)(t)||(0,f.isPlainObject)(t))&&(e=[t]),(0,f.each)(e,function(n,a){(0,f.isObject)(n)||(e[a]={type:n})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,f.isString)(t)){var n=bs(t);this.styleOption={fields:n,callback:e}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,e){if((0,f.isString)(t)){var n=bs(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,n){if((0,f.isString)(t)){var a={},o=bs(t);a.fields=o,(0,f.isFunction)(e)?a.callback=e:(0,f.isPlainObject)(e)&&(a.cfg=e),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var e=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,f.isEqual)(s,l)?e&&(n||!(0,f.isEqual)(e,this.data))?(this.setCfg(t),this.processData(e)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var e=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,f.deepMix)({},Rh(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],l=0,u=o.length;l<u;l++){var c=o[l],h=this.mapping(c);s.push(h),this.createElements(h,l,t)}if(this.canDoGroupAnimation(t)){var g=this.container,w=this.type,L=this.coordinate,D=(0,f.get)(this.animateOption,"appear"),N=this.getYScale(),H=L.convert({x:0,y:N.scale(this.getYMinValue())});Cb(g,D,w,L,H)}this.labelOption&&this.renderLabels((0,f.flatten)(s),t),this.dataArray=s,(0,f.each)(this.lastElementsMap,function(X){X.animate=e.animateOption,X.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,Q.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,f.each)(this.attributes,function(e){Me.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,f.isEmpty)(n.scales)&&(e=n.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],u=l.field;l.isIdentity?n.push(l.values):n.push(e[u])}return t.mapping.apply(t,n)},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElementId=function(t){t=(0,f.isArray)(t)?t[0]:t;var e=t[le];if(this.idFields.length){for(var n=e[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+e[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",c=l.field||"y",h=e[c],g;s.type==="identity"?g=s.values[0]:g=e[u];var w;o==="interval"||o==="schema"?w=g:o==="line"||o==="area"||o==="path"?w=o:w=g+"-"+h;for(var L=this.groupScales,a=0,D=L.length;a<D;a++){var N=L[a],H=N.field;w=w+"-"+e[H]}var X=this.getAdjust("dodge");if(X){var mt=X.dodgeBy;mt&&(w=w+"-"+e[mt])}return this.getAdjust("jitter")&&(w=w+"-"+t.x+"-"+t.y),w},r.prototype.getScaleFields=function(){var t=[],e={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?V(u.fields,t,e):u.values&&V(u.values,t,e)}return o&&o.fields&&V(o.fields,t,e),(0,f.isObject)(s)&&s.fields&&V(s.fields,t,e),t},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getGroupFields=function(){for(var t=[],e={},n=0,a=Me.length;n<a;n++){var o=Me[n],s=this.attributeOption[o];s&&s.fields&&V(s.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,e=t[0],n=t[1];return[e,n]},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return e.translate(s[le][n])-e.translate(l[le][n])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!sf(t))return this.shapeFactory||(this.shapeFactory=(0,f.clone)(sf(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[e.field],e),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e){e===void 0&&(e=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new Nh({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,e),s},r.prototype.getDrawCfg=function(t){var e=t[le],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,f.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=0,c=t.length;u<c;u++){var h=t[u],g=this.getElementId(h);s[g]&&(g=g+"-"+e+"-"+u);var w=o[g];if(!w)w=this.createElement(h,n);else{var L=this.getDrawCfg(h),D=w.getModel();(this.isCoordinateChanged||Xh(L,D))&&(w.animate=this.animateOption,w.update(L)),delete o[g]}l.push(w),s[g]=w}return l},r.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,f.get)(e,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,a;return e>=0?a=e:n<=0?a=n:a=0,a},r.prototype.createAttrOption=function(t,e,n){if((0,f.isNil)(e)||(0,f.isObject)(e))(0,f.isObject)(e)&&(0,f.isEqual)(Object.keys(e),["values"])?(0,f.set)(this.attributeOption,t,{fields:e.values}):(0,f.set)(this.attributeOption,t,e);else{var a={};(0,f.isNumber)(e)?a.values=[e]:a.fields=bs(e),n&&((0,f.isFunction)(n)?a.callback=n:a.values=n),(0,f.set)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var l={},u=function(g){if(a.hasOwnProperty(g)){var w=a[g];if(!w)return{value:void 0};var L=(0,Q.__assign)({},w),D=L.callback,N=L.values,H=L.fields,X=H===void 0?[]:H,mt=X.map(function(Pt){var Ht=t.scales[Pt];return Ht.isCategory&&!l[Pt]&&Me.includes(g)&&(t.groupScales.push(Ht),l[Pt]=!0),Ht});L.scales=mt,g!=="position"&&mt.length===1&&mt[0].type==="identity"?L.values=mt[0].values:!D&&!N&&(g==="size"?L.values=o.sizes:g==="shape"?L.values=o.shapes[s]||[]:g==="color"&&(mt.length?L.values=mt[0].values.length<=10?o.colors10:o.colors20:L.values=o.colors10));var xt=(0,Dr.getAttribute)(g);n[g]=new xt(L)}};for(var c in a){var h=u(c);if(typeof h=="object")return h.value}},r.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales,n=e.filter(function(Pt){return Pt.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var u=a[s],c=[],h=0,g=u.length;h<g;h++){var w=u[h],L={};for(var D in w)L[D]=w[D];L[le]=w;for(var N=0,H=n;N<H.length;N++){var X=H[N],mt=X.field;L[mt]=X.translate(L[mt])}c.push(L)}o.push(c)}var xt=this.adjustData(o);return this.beforeMappingData=xt,xt},r.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,l=o?o.field:null,u=0,c=e.length;u<c;u++){var h=e[u],g=(0,Q.__assign)({xField:s,yField:l},h),w=h.type;if(w==="dodge"){var L=[];if(a.isCategory||a.type==="identity")L.push("x");else if(!o)L.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");g.adjustNames=L,g.dodgeRatio=this.theme.columnWidthRatio}else if(w==="stack"){var D=this.coordinate;if(!o){g.height=D.getHeight();var N=this.getDefaultValue("size")||3;g.size=N}!D.isTransposed&&(0,f.isNil)(g.reverseOrder)&&(g.reverseOrder=!0)}var H=Dh(w),X=new H(g);n=X.process(n),this.adjusts[w]=X}return n},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var l=e[s],u=l.field;o.push(u),(0,f.get)(n,[u,"values"])&&(a[u]=n[u].values)}return Pb(t,o,a)},r.prototype.updateStackRange=function(t,e){for(var n=(0,f.flatten)(e),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var u=n[l],c=Math.min.apply(null,u[a]),h=Math.max.apply(null,u[a]);c<o&&(o=c),h>s&&(s=h)}var g=this.scaleDefs,w={};o<t.min&&!(0,f.get)(g,[a,"min"])&&(w.min=o),s>t.max&&!(0,f.get)(g,[a,"max"])&&(w.max=s),t.change(w)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,a=e.length;n<a;n++){var o=e[n];this.generateShapePoints(o);var s=e[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,u=e.getShapePoints(l,s);o.points=u}},r.prototype.normalizeValues=function(t,e){var n=[];if((0,f.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(e.scale(o))}else n=e.scale(t);return n},r.prototype.mapping=function(t){for(var e=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[le],points:o.points,nextPoints:o.nextPoints};for(var l in e)if(e.hasOwnProperty(l)){var u=e[l],c=u.names,h=this.getAttributeValues(u,o);if(c.length>1)for(var g=0;g<h.length;g+=1){var w=h[g],L=c[g];s[L]=(0,f.isArray)(w)&&w.length===1?w[0]:w}else s[c[0]]=h.length===1?h[0]:h}this.convertPoint(s),n.push(s)}return n},r.prototype.convertPoint=function(t){var e=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,f.isArray)(e)&&(0,f.isArray)(n)){a=[],o=[];for(var u=0,c=0,h=e.length,g=n.length;u<h&&c<g;u+=1,c+=1)s=l.convert({x:e[u],y:n[c]}),a.push(s.x),o.push(s.y)}else if((0,f.isArray)(n)){o=[];for(var w=0;w<n.length;w++){var L=n[w];s=l.convert({x:e,y:L}),a&&a!==s.x?((0,f.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,f.isArray)(e)){a=[];for(var w=0;w<e.length;w++){var D=e[w];s=l.convert({x:D,y:n}),o&&o!==s.y?((0,f.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var N=l.convert({x:e,y:n});a=N.x,o=N.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,e){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(u){return e[u]});return o.apply(void 0,l)},r.prototype.setCfg=function(t){var e=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,f.each)(s,function(l,u){l&&l.key&&e.idFields.push(u)})),o&&(this.theme=this.userTheme?(0,f.deepMix)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){e===void 0&&(e=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=zh(a);n=new o(this),this.geometryLabel=n}n.render(t,e);var s=n.labelsRenderer.shapesMap;(0,f.each)(this.elementsMap,function(l,u){var c=Ob(u,s);if(c.length){l.labelShape=c;for(var h=0;h<c.length;h++)for(var g=c[h],w=g.getChildren(),L=0;L<w.length;L++){var D=w[L];D.cfg.name=["element","label"],D.cfg.element=l}}})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,f.get)(this.animateOption,"appear")===void 0||(0,f.get)(this.animateOption,"appear")&&(0,f.get)(this.animateOption,["appear","animation"])===void 0)},r}(_e),to=Ib,ol=sr.transform;function lf(i,r,t){var e=ol(i.getMatrix(),[["t",r,t]]);i.setMatrix(e)}function Hh(i,r){var t=i.attr(),e=t.x,n=t.y,a=ol(i.getMatrix(),[["t",-e,-n],["r",r],["t",e,n]]);i.setMatrix(a)}function BG(){return[1,0,0,0,1,0,0,0,1]}function kb(i,r){var t=i.getBBox(),e=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([e,n,1]);var a=ol(i.getMatrix(),[["t",-e,-n],["s",r,r],["t",e,n]]);i.setMatrix(a)}var Lb=function(){function i(r){this.shapesMap={},this.lastShapesMap={};var t=r.layout,e=r.container;this.layout=t,this.container=e}return i.prototype.render=function(r,t,e){var n=this;e===void 0&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(r.length){for(var s=0,l=r;s<l.length;s++){var u=l[s];u&&this.renderLabel(u,o)}this.doLayout(r,t),this.renderLabelLine(r),this.adjustLabel(r)}var c=this.lastShapesMap,h=this.shapesMap;(0,f.each)(h,function(g,w){if(g.destroyed)delete h[w];else{if(c[w]){var L=g.get("data"),D=g.get("origin"),N=g.get("coordinate"),H=c[w],X=g.get("animateCfg");H.set("data",L),H.set("origin",D),H.set("animateCfg",X),H.set("coordinate",N);var mt=(0,f.get)(X,"update"),xt=H.getChildren();g.getChildren().map(function(Ht,te){var oe=xt[te];oe.set("data",L),oe.set("origin",D),oe.set("animateCfg",X),oe.set("coordinate",N);var qt=Fn(oe,Ht);mt?Qo(oe,mt,{toAttrs:qt,coordinate:N}):oe.attr(qt)}),n.shapesMap[w]=H}else{a.add(g);var Pt=(0,f.get)(g.get("animateCfg"),e?"enter":"appear");Pt&&Qo(g,Pt,{toAttrs:(0,Q.__assign)({},g.attr()),coordinate:g.get("coordinate")})}delete c[w]}}),(0,f.each)(c,function(g){var w=(0,f.get)(g.get("animateCfg"),"leave");w?Qo(g,w,{toAttrs:null,coordinate:g.get("coordinate")}):g.remove(!0)}),this.lastShapesMap=h,o.destroy()},i.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},i.prototype.renderLabel=function(r,t){var e=r.id,n=r.data,a=r.mappingData,o=r.coordinate,s=r.animate,l=r.content,u={id:e,data:n,origin:a,coordinate:o},c=t.addGroup((0,Q.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,f.deepMix)({},this.animate,s)},u)),h;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var g=l.getCanvasBBox(),w=g.width,L=g.height,D=(0,f.get)(r,"textAlign","left"),N=r.x,H=r.y-L/2;D==="center"?N=N-w/2:(D==="right"||D==="end")&&(N=N-w),lf(l,N,H),h=l,c.add(l)}else h=c.addShape("text",(0,Q.__assign)({attrs:(0,Q.__assign)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,f.get)(r,"textBaseline","middle"),text:r.content},r.style)},u));r.rotate&&Hh(h,r.rotate),this.shapesMap[e]=c},i.prototype.doLayout=function(r,t){var e=this;if(this.layout){var n=(0,f.isArray)(this.layout)?this.layout:[this.layout];(0,f.each)(n,function(a){var o=Vh((0,f.get)(a,"type",""));if(o){var s=[],l=[];(0,f.each)(e.shapesMap,function(u,c){s.push(u),l.push(t[c])}),o(r,s,l,e.region,a.cfg)}})}},i.prototype.renderLabelLine=function(r){var t=this;(0,f.each)(r,function(e){var n=(0,f.get)(e,"coordinate");if(!(!e||!n)){var a=n.getCenter(),o=n.getRadius();if(!!e.labelLine){var s=(0,f.get)(e,"labelLine",{}),l=e.id,u=s.path;if(!u){var c=dn(a.x,a.y,o,e.angle);u=[["M",c.x,c.y],["L",e.x,e.y]]}var h=t.shapesMap[l];h.destroyed||h.addShape("path",{capture:!1,attrs:(0,Q.__assign)({path:u,stroke:e.color?e.color:(0,f.get)(e,["style","fill"],"#000"),fill:null},s.style),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},i.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),e=new t({});return e},i.prototype.adjustLabel=function(r){var t=this;(0,f.each)(r,function(e){if(e){var n=e.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(e.offsetX&&o.attr("x",o.attr("x")+e.offsetX),e.offsetY&&o.attr("y",o.attr("y")+e.offsetY))}}})},i}(),_b=Lb;function Db(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}var Bb=function(){function i(r){this.geometry=r}return i.prototype.getLabelItems=function(r){var t=this,e=[],n=this.getLabelCfgs(r);return(0,f.each)(r,function(a,o){var s=n[o];if(!s||(0,f.isNil)(a.x)||(0,f.isNil)(a.y)){e.push(null);return}var l=(0,f.isArray)(s.content)?s.content:[s.content];s.content=l;var u=l.length;(0,f.each)(l,function(c,h){if((0,f.isNil)(c)||c===""){e.push(null);return}var g=(0,Q.__assign)((0,Q.__assign)({},s),t.getLabelPoint(s,a,h));g.textAlign||(g.textAlign=t.getLabelAlign(g,h,u)),g.offset<=0&&(g.labelLine=null),e.push(g)})}),e},i.prototype.render=function(r,t){t===void 0&&(t=!1);var e=this.getLabelItems(r),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(e,a,t)},i.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},i.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"labels",{})},i.prototype.setLabelPosition=function(r,t,e,n){},i.prototype.getDefaultOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},i.prototype.getLabelOffset=function(r,t,e){var n=this.getDefaultOffset(r.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return t>0||e===1?u[s]=n*l:u[s]=n*l*-1,u},i.prototype.getLabelPoint=function(r,t,e){var n=this.getCoordinate(),a=r.content.length;function o(D,N){var H=D;return(0,f.isArray)(H)&&(r.content.length===1?H.length<=2?H=H[D.length-1]:H=Db(H):H=H[N]),H}var s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var l=ui(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=o(t.x,e),s.y=o(t.y,e);var u=(0,f.isArray)(t.shape)?t.shape[0]:t.shape;if(u==="funnel"||u==="pyramid"){var c=(0,f.get)(t,"nextPoints"),h=(0,f.get)(t,"points");if(c){var g=n.convert(h[1]),w=n.convert(c[1]);s.x=(g.x+w.x)/2,s.y=(g.y+w.y)/2}else if(u==="pyramid"){var g=n.convert(h[1]),w=n.convert(h[2]);s.x=(g.x+w.x)/2,s.y=(g.y+w.y)/2}}r.position&&this.setLabelPosition(s,t,e,r.position);var L=this.getLabelOffset(r,e,a);return s.start={x:s.x,y:s.y},s.x+=L.x,s.y+=L.y,s.color=t.color,s},i.prototype.getLabelAlign=function(r,t,e){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(r.offset);o<0?n="right":o===0?n="center":n="left",e>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},i.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,n=t.getXScale(),a=t.getYScale(),o=r[le],s=t.getElementId(r);return e==="line"||e==="area"?s+=" "+o[n.field]:e==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},i.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,e=r.labelOption,n=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new _b({container:t,layout:(0,f.get)(e,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?Rh("label",o):!1,s},i.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,n=this.getDefaultLabelCfg(),a=e.type,o=e.theme,s=e.labelOption,l=e.scales,u=e.coordinate,c=s,h=c.fields,g=c.callback,w=c.cfg,L=h.map(function(N){return l[N]}),D=[];return(0,f.each)(r,function(N,H){var X=N[le],mt=t.getLabelText(X,L),xt;if(g){var Pt=h.map(function(oe){return X[oe]});if(xt=g.apply(void 0,Pt),(0,f.isNil)(xt)){D.push(null);return}}var Ht=(0,Q.__assign)((0,Q.__assign)({id:t.getLabelId(N),data:X,mappingData:N,coordinate:u},w),xt),te=Ht.content;(0,f.isFunction)(te)?Ht.content=te(X,N,H):(0,f.isUndefined)(te)&&(Ht.content=mt[0]),(0,f.isFunction)(Ht.position)&&(Ht.position=Ht.position(X,N,H)),a==="polygon"||Ht.offset<0&&!["line","point","path"].includes(a)?Ht=(0,f.deepMix)({},n,o.innerLabels,Ht):Ht=(0,f.deepMix)({},n,o.labels,Ht),D.push(Ht)}),D},i.prototype.getLabelText=function(r,t){var e=[];return(0,f.each)(t,function(n){var a=r[n.field];(0,f.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,f.isNil)(a)||a===""?e.push(null):e.push(a)}),e},i.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(r,0):t.applyMatrix(0,r)},i.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,f.each)(r.elementsMap,function(e,n){t[n]=e.shape}),(0,f.each)(r.getOffscreenGroup().getChildren(),function(e){var n=r.getElementId(e.get("origin").mappingData);t[n]=e}),t},i}(),sl=Bb,Fb=v(66002),Rb="4.0.15",Io={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},ii={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Ca=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Nb=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Gb={backgroundColor:"#141414",brandColor:Ca[0],paletteQualitative10:Ca,paletteQualitative20:Nb,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:ii[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:ii[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:ii[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:ii[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:ii[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:ii[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:ii[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Ca[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:ii[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:ii[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:ii[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Io[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Io[25],annotationArcBorderColor:ii[15],annotationArcBorder:.5,annotationLineBorderColor:ii[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:ii[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Io[95],annotationTextBorder:1.5,annotationRegionFillColor:ii[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:ii[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:ii[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:ii[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Io[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:ii[25],pointFillColor:Ca[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Io[100],pointBorderOpacity:1,pointActiveBorderColor:ii[100],pointSelectedBorder:2,pointSelectedBorderColor:ii[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Ca[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Io[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:ii[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:ii[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Ca[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Ca[0],areaFillOpacity:.25,areaActiveFillColor:Ca[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Ca[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Ca[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:ii[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:ii[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Ca[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:ii[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:ii[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Ca[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Io[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:ii[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:ii[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},Gi=v(73890),Hn=v(21830),ll=v(46812),Yi=v(66631),Zn=v(27154),Yb=v(9217),zb=v(5253),FG=v(39984),Vb=v(98229),Xb=v(35755);function Hb(){return window?window.devicePixelRatio:1}function Wh(i,r,t,e){var n=i-t,a=r-e;return Math.sqrt(n*n+a*a)}function ko(i,r,t,e,n,a){return n>=i&&n<=i+t&&a>=r&&a<=r+e}function uf(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function Wb(i,r){return!i||!r?i||r:{minX:Math.min(i.minX,r.minX),minY:Math.min(i.minY,r.minY),maxX:Math.max(i.maxX,r.maxX),maxY:Math.max(i.maxY,r.maxY)}}function jh(i,r){return i[0]===r[0]&&i[1]===r[1]}var RG=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,NG=/[^\s\,]+/gi,jb=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ub=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Zb=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Uh=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Zh(i,r){var t=i.match(Uh);(0,Zn.default)(t,function(e){var n=e.split(":");r.addColorStop(n[0],n[1])})}function Qb(i,r,t){var e=jb.exec(t),n=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=r.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(n),c=u*u,h=(l.x-s.x+u*(l.y-s.y))/(c+1)+s.x,g=u*(l.x-s.x+u*(l.y-s.y))/(c+1)+s.y,w=i.createLinearGradient(s.x,s.y,h,g);return Zh(a,w),w}function Kb(i,r,t){var e=Ub.exec(t),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(o===0){var l=s.match(Uh);return l[l.length-1].split(":")[1]}var u=r.getBBox(),c=u.maxX-u.minX,h=u.maxY-u.minY,g=Math.sqrt(c*c+h*h)/2,w=i.createRadialGradient(u.minX+c*n,u.minY+h*a,0,u.minX+c/2,u.minY+h/2,o*g);return Zh(s,w),w}function $b(i,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,n,a=Zb.exec(t),o=a[1],s=a[2];function l(){e=i.createPattern(n,o),r.set("pattern",e),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),e}function Jb(i,r,t){if((0,Hn.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return Qb(i,r,t);if(t[0]==="r")return Kb(i,r,t);if(t[0]==="p")return $b(i,r,t)}return t}}function qb(i){var r=0,t=0,e=0,n=0;return(0,Yi.default)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,[r,t,e,n]}function ul(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function ff(i,r){return ul(i)*ul(r)?(i[0]*r[0]+i[1]*r[1])/(ul(i)*ul(r)):1}function Qh(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(ff(i,r))}function Kh(i,r){var t=r[1],e=r[2],n=(0,zb.default)((0,Yb.default)(r[3]),Math.PI*2),a=r[4],o=r[5],s=i[0],l=i[1],u=r[6],c=r[7],h=Math.cos(n)*(s-u)/2+Math.sin(n)*(l-c)/2,g=-1*Math.sin(n)*(s-u)/2+Math.cos(n)*(l-c)/2,w=h*h/(t*t)+g*g/(e*e);w>1&&(t*=Math.sqrt(w),e*=Math.sqrt(w));var L=t*t*(g*g)+e*e*(h*h),D=L?Math.sqrt((t*t*(e*e)-L)/L):1;a===o&&(D*=-1),isNaN(D)&&(D=0);var N=e?D*t*g/e:0,H=t?D*-e*h/t:0,X=(s+u)/2+Math.cos(n)*N-Math.sin(n)*H,mt=(l+c)/2+Math.sin(n)*N+Math.cos(n)*H,xt=[(h-N)/t,(g-H)/e],Pt=[(-1*h-N)/t,(-1*g-H)/e],Ht=Qh([1,0],xt),te=Qh(xt,Pt);return ff(xt,Pt)<=-1&&(te=Math.PI),ff(xt,Pt)>=1&&(te=0),o===0&&te>0&&(te=te-2*Math.PI),o===1&&te<0&&(te=te+2*Math.PI),{cx:X,cy:mt,rx:jh(i,[u,c])?0:t,ry:jh(i,[u,c])?0:e,startAngle:Ht,endAngle:Ht+te,xRotation:n,arcFlag:a,sweepFlag:o}}var fl=Math.sin,cl=Math.cos,cf=Math.atan2,hl=Math.PI;function $h(i,r,t,e,n,a,o){var s=r.stroke,l=r.lineWidth,u=t-n,c=e-a,h=cf(c,u),g=new mf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*cl(hl/6)+","+10*fl(hl/6)+" L0,0 L"+10*cl(hl/6)+",-"+10*fl(hl/6),stroke:s,lineWidth:l}});g.translate(n,a),g.rotateAtPoint(n,a,h),i.set(o?"startArrowShape":"endArrowShape",g)}function Jh(i,r,t,e,n,a,o){var s=r.startArrow,l=r.endArrow,u=r.stroke,c=r.lineWidth,h=o?s:l,g=h.d,w=h.fill,L=h.stroke,D=h.lineWidth,N=(0,Q.__rest)(h,["d","fill","stroke","lineWidth"]),H=t-n,X=e-a,mt=cf(X,H);g&&(n=n-cl(mt)*g,a=a-fl(mt)*g);var xt=new mf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,Q.__assign)((0,Q.__assign)({},N),{stroke:L||u,lineWidth:D||c,fill:w})});xt.translate(n,a),xt.rotateAtPoint(n,a,mt),i.set(o?"startArrowShape":"endArrowShape",xt)}function Lo(i,r,t,e,n){var a=cf(e-r,t-i);return{dx:cl(a)*n,dy:fl(a)*n}}function hf(i,r,t,e,n,a){typeof r.startArrow=="object"?Jh(i,r,t,e,n,a,!0):r.startArrow?$h(i,r,t,e,n,a,!0):i.set("startArrowShape",null)}function vf(i,r,t,e,n,a){typeof r.endArrow=="object"?Jh(i,r,t,e,n,a,!1):r.endArrow?$h(i,r,t,e,n,a,!1):i.set("startArrowShape",null)}var qh={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Ko(i,r){var t=r.attr();for(var e in t){var n=t[e],a=qh[e]?qh[e]:e;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,f.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=Jb(i,r,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function df(i,r,t){for(var e=0;e<r.length;e++){var n=r[e];n.get("visible")?n.draw(i,t):n.skipDraw()}}function tv(i,r,t,e){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],l=[0,0],u={dx:0,dy:0};r.beginPath();for(var c=0;c<n.length;c++){var h=n[c],g=h[0];if(c===0&&a&&a.d){var w=i.getStartTangent();u=Lo(w[0][0],w[0][1],w[1][0],w[1][1],a.d)}else if(c===n.length-2&&n[c+1][0]==="Z"&&o&&o.d){var L=n[c+1];if(L[0]==="Z"){var w=i.getEndTangent();u=Lo(w[0][0],w[0][1],w[1][0],w[1][1],o.d)}}else if(c===n.length-1&&o&&o.d&&n[0]!=="Z"){var w=i.getEndTangent();u=Lo(w[0][0],w[0][1],w[1][0],w[1][1],o.d)}var D=u.dx,N=u.dy;switch(g){case"M":r.moveTo(h[1]-D,h[2]-N),l=[h[1],h[2]];break;case"L":r.lineTo(h[1]-D,h[2]-N);break;case"Q":r.quadraticCurveTo(h[1],h[2],h[3]-D,h[4]-N);break;case"C":r.bezierCurveTo(h[1],h[2],h[3],h[4],h[5]-D,h[6]-N);break;case"A":{var H=void 0;e?(H=e[c],H||(H=Kh(s,h),e[c]=H)):H=Kh(s,h);var X=H.cx,mt=H.cy,xt=H.rx,Pt=H.ry,Ht=H.startAngle,te=H.endAngle,oe=H.xRotation,qt=H.sweepFlag;if(r.ellipse)r.ellipse(X,mt,xt,Pt,oe,Ht,te,1-qt);else{var we=xt>Pt?xt:Pt,Ie=xt>Pt?1:xt/Pt,Pe=xt>Pt?Pt/xt:1;r.translate(X,mt),r.rotate(oe),r.scale(Ie,Pe),r.arc(0,0,we,Ht,te,1-qt),r.scale(1/Ie,1/Pe),r.rotate(-oe),r.translate(-X,-mt)}break}case"Z":r.closePath();break;default:break}if(g==="Z")s=l;else{var Ke=h.length;s=[h[Ke-2],h[Ke-1]]}}}function ev(i,r){var t=i.get("canvas");t&&(r==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(t.refreshElement(i,r,t),t.get("autoDraw")&&t.draw(),i.set("hasChanged",!0)))}function tw(i){var r;if(i.destroyed)r=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),e=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);e&&a?r=Wb(t,n):e?r=t:a&&(r=n)}return r}function rv(i){if(!i.length)return null;var r=[],t=[],e=[],n=[];return(0,f.each)(i,function(a){var o=tw(a);o&&(r.push(o.minX),t.push(o.minY),e.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,r),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,e),maxY:Math.max.apply(null,n)}}function ew(i,r){return!i||!r||!uf(i,r)?null:{minX:Math.max(i.minX,r.minX),minY:Math.max(i.minY,r.minY),maxX:Math.min(i.maxX,r.maxX),maxY:Math.min(i.maxY,r.maxY)}}var nv=v(41056),rw=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){ev(this,t)},r.prototype.getShapeBase=function(){return d},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),Ko(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),Ko(t,this),this._applyClip(t,this.getClip()),df(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(Qe.AbstractGroup),pf=rw,nw=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return d},r.prototype.getGroupBase=function(){return pf},r.prototype.onCanvasChange=function(t){ev(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,nv.b)(t),a=n(this),o=e/2,s=a.x-o,l=a.y-o,u=a.x+a.width+o,c=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+e,height:a.height+e,maxX:u,maxY:c}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),Ko(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getClip();if(e){var a=n?rv([this,n]):this.getCanvasBBox();if(!uf(e,a)){this.set("hasChanged",!1);return}}t.save(),Ko(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype._afterDraw=function(){var t=this.getCanvasBBox(),e=this.getCanvas();if(this.set("cacheCanvasBBox",t),e){var n=e.getViewRange();this.set("isInView",uf(t,n))}this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&(!(0,Gi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,Gi.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(Qe.AbstractShape),La=nw,iw=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,c=s.r,h=o/2,g=Wh(l,u,t,e);return a&&n?g<=c+h:a?g<=c:n?g>=c-h&&g<=c+h:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},r}(La),aw=iw;function vl(i,r,t,e){return i/(t*t)+r/(e*e)}var ow=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=o/2,u=s.x,c=s.y,h=s.rx,g=s.ry,w=(t-u)*(t-u),L=(e-c)*(e-c);return a&&n?vl(w,L,h+l,g+l)<=1:a?vl(w,L,h,g)<=1:n?vl(w,L,h-l,g-l)>=1&&vl(w,L,h+l,g+l)<=1:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,c=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(u,c),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},r}(La),sw=ow;function iv(i){return i instanceof HTMLElement&&(0,Hn.default)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var lw=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,Hn.default)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):iv(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="img"&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.sx,u=e.sy,c=e.swidth,h=e.sheight,g=e.img;(g instanceof Image||iv(g))&&(!(0,Gi.default)(l)&&!(0,Gi.default)(u)&&!(0,Gi.default)(c)&&!(0,Gi.default)(h)?t.drawImage(g,l,u,c,h,n,a,o,s):t.drawImage(g,n,a,o,s))},r}(La),uw=lw,eo=v(23646);function vo(i,r,t,e,n,a,o){var s=Math.min(i,t),l=Math.max(i,t),u=Math.min(r,e),c=Math.max(r,e),h=n/2;return a>=s-h&&a<=l+h&&o>=u-h&&o<=c+h?eo.default.pointToLine(i,r,t,e,a,o)<=n/2:!1}var fw=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&hf(this,t,a,o,e,n),l&&vf(this,t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,c=s.x2,h=s.y2;return vo(l,u,c,h,o,t,e)},r.prototype.createPath=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2,l=e.startArrow,u=e.endArrow,c={dx:0,dy:0},h={dx:0,dy:0};l&&l.d&&(c=Lo(n,a,o,s,e.startArrow.d)),u&&u.d&&(h=Lo(n,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(n+c.dx,a+c.dy),t.lineTo(o-h.dx,s-h.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return eo.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return eo.default.pointAt(n,a,o,s,t)},r}(La),cw=fw,av=v(74479),hw={circle:function(i,r,t){return[["M",i-t,r],["A",t,t,0,1,0,i+t,r],["A",t,t,0,1,0,i-t,r]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["Z"]]},"triangle-down":function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},vw=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,f.isNil)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;return(0,ll.default)(a)?(s=a,l=s(e,n,o),l=(0,av.Z)(l)):(s=r.Symbols[a],l=s(e,n,o)),s?l:(console.warn(a+" marker is not supported."),null)},r.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");tv(this,t,{path:e},n)},r.Symbols=hw,r}(La),dw=vw,dl=v(15730),pw=v(49274),gw=v(26632);function ov(i,r,t){var e=(0,gw.getOffScreenContext)();return i.createPath(e),e.isPointInPath(r,t)}var yw=1e-6;function gf(i){return Math.abs(i)<yw?0:i<0?-1:1}function mw(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}function sv(i,r,t){var e=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(mw(o,s,[r,t]))return!0;gf(o[1]-t)>0!=gf(s[1]-t)>0&&gf(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}var xw=v(2879);function ws(i,r,t,e,n,a,o,s){var l=(Math.atan2(s-r,o-i)+Math.PI*2)%(Math.PI*2);if(l<e||l>n)return!1;var u={x:i+t*Math.cos(l),y:r+t*Math.sin(l)};return Wh(u.x,u.y,o,s)<=a/2}var yf=v(35600),lv=v(77160);function bw(i){for(var r=!1,t=i.length,e=0;e<t;e++){var n=i[e],a=n[0];if(a==="C"||a==="A"||a==="Q"){r=!0;break}}return r}function ww(i,r,t,e){for(var n=!1,a=r/2,o=0;o<i.length;o++){var s=i[o],l=s.currentPoint,u=s.params,c=s.prePoint,h=s.box;if(!(h&&!ko(h.x-a,h.y-a,h.width+r,h.height+r,t,e))){switch(s.command){case"L":case"Z":n=vo(c[0],c[1],l[0],l[1],r,t,e);break;case"Q":var g=xw.default.pointDistance(c[0],c[1],u[1],u[2],u[3],u[4],t,e);n=g<=r/2;break;case"C":var w=dl.default.pointDistance(c[0],c[1],u[1],u[2],u[3],u[4],u[5],u[6],t,e);n=w<=r/2;break;case"A":var L=s.arcParams,D=L.cx,N=L.cy,H=L.rx,X=L.ry,mt=L.startAngle,xt=L.endAngle,Pt=L.xRotation,Ht=[t,e,1],te=[1,0,0,0,1,0,0,0,1],oe=H>X?H:X,qt=H>X?1:H/X,we=H>X?X/H:1;yf.translate(te,te,[-D,-N]),yf.rotate(te,te,-Pt),yf.scale(te,te,[1/qt,1/we]),lv.transformMat3(Ht,Ht,te),n=ws(0,0,oe,mt,xt,r,Ht[0],Ht[1]);break;default:break}if(n)break}}return n}function Sw(i){for(var r=i.length,t=[],e=[],n=[],a=0;a<r;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(e.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&e.push(n),{polygons:t,polylines:e}}var pl=(0,Q.__assign)({hasArc:bw,extractPolygons:Sw,isPointInStroke:ww},Qe.PathUtil);function uv(i,r,t){for(var e=!1,n=0;n<i.length;n++){var a=i[n];if(e=sv(a,r,t),e)break}return e}var Cw=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="path"&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,av.Z)(t);var e=pl.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,pw.default)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var a=this.getStartTangent();hf(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();vf(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(n&&(u=pl.isPointInStroke(s,o,t,e)),!u&&a)if(l)u=ov(this,t,e);else{var c=this.attr("path"),h=pl.extractPolygons(c);u=uv(h.polygons,t,e)||uv(h.polylines,t,e)}return u},r.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");tv(this,t,e,n)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,f.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var n,a,o=this.get("curve");if(!e||e.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,f.each)(e,function(c,h){t>=c[0]&&t<=c[1]&&(n=(t-c[0])/(c[1]-c[0]),a=h)});var s=o[a];if((0,f.isNil)(s)||(0,f.isNil)(a))return null;var l=s.length,u=o[a+1];return dl.default.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],n)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",pl.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,e=0,n=[],a,o,s,l,u=this.get("curve");if(!!u){if((0,f.each)(u,function(c,h){s=u[h+1],l=c.length,s&&(t+=dl.default.length(c[l-2],c[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,f.each)(u,function(c,h){s=u[h+1],l=c.length,s&&(a=[],a[0]=e/t,o=dl.default.length(c[l-2],c[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),e+=o||0,a[1]=e/t,n.push(a))}),this.set("tCache",n)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),e;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([a[0],a[1]]),e.push([n[0],n[1]]))}return e},r.prototype.getEndTangent=function(){var t=this.getSegments(),e=t.length,n;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},r}(La),mf=Cw;function fv(i,r,t,e,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],l=i[o][1],u=i[o+1][0],c=i[o+1][1];if(vo(s,l,u,c,r,t,e))return!0}if(n){var h=i[0],g=i[a-1];if(vo(h[0],h[1],g[0],g[1],r,t,e))return!0}return!1}var Mw=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr().points,l=!1;return n&&(l=fv(s,o,t,e,!0)),!l&&a&&(l=sv(s,t,e)),l},r.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(La),Ew=Mw,cv=v(65386),Aw=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,a=e.startArrow,o=e.endArrow,s=n.length,l=n[0][0],u=n[0][1],c=n[s-1][0],h=n[s-1][1];a&&hf(this,t,n[1][0],n[1][1],l,u),o&&vf(this,t,n[s-2][0],n[s-2][1],c,h)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return fv(s,o,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),n=e.points,a=e.startArrow,o=e.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],u=n[0][1],c=n[s-1][0],h=n[s-1][1];if(a&&a.d){var g=Lo(l,u,n[1][0],n[1][1],a.d);l+=g.dx,u+=g.dy}if(o&&o.d){var g=Lo(n[s-2][0],n[s-2][1],c,h,o.d);c-=g.dx,h-=g.dy}t.beginPath(),t.moveTo(l,u);for(var w=0;w<s-1;w++){var L=n[w];t.lineTo(L[0],L[1])}t.lineTo(c,h)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",cv.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),eo.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=eo.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(La),Tw=Aw;function Pw(i,r,t,e,n,a,o){var s=n/2;return ko(i-s,r-s,t,n,a,o)||ko(i+t-s,r-s,n,e,a,o)||ko(i+s,r+e-s,t,n,a,o)||ko(i-s,r+s,n,e,a,o)}function Ow(i,r,t,e,n,a,o,s){var l=a/2;return vo(i+n,r,i+t-n,r,a,o,s)||vo(i+t,r+n,i+t,r+e-n,a,o,s)||vo(i+t-n,r+e,i+n,r+e,a,o,s)||vo(i,r+e-n,i,r+n,a,o,s)||ws(i+t-n,r+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||ws(i+t-n,r+e-n,n,0,.5*Math.PI,a,o,s)||ws(i+n,r+e-n,n,.5*Math.PI,Math.PI,a,o,s)||ws(i+n,r+n,n,Math.PI,1.5*Math.PI,a,o,s)}var Iw=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,c=s.width,h=s.height,g=s.radius;if(g){var L=!1;return n&&(L=Ow(l,u,c,h,g,o,t,e)),!L&&a&&(L=ov(this,t,e)),L}else{var w=o/2;if(a&&n)return ko(l-w,u-w,c+w,h+w,t,e);if(a)return ko(l,u,c,h,t,e);if(n)return Pw(l,u,c,h,o,t,e)}},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var u=qb(l),c=u[0],h=u[1],g=u[2],w=u[3];t.moveTo(n+c,a),t.lineTo(n+o-h,a),h!==0&&t.arc(n+o-h,a+h,h,-Math.PI/2,0),t.lineTo(n+o,a+s-g),g!==0&&t.arc(n+o-g,a+s-g,g,0,Math.PI/2),t.lineTo(n+w,a+s),w!==0&&t.arc(n+w,a+s-w,w,Math.PI/2,Math.PI),t.lineTo(n,a+c),c!==0&&t.arc(n+c,a+c,c,Math.PI,Math.PI*1.5),t.closePath()}},r}(La),kw=Iw,hv=v(8914),Lw=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,hv.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,Hn.default)(t)&&t.indexOf(`
`)!==-1&&(e=t.split(`
`)),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=t.fontSize*1;return e?e-n:n*.14},r.prototype._drawTextArr=function(t,e,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=a.fontSize*1,c=this._getSpaceingY(),h=(0,hv.getTextHeight)(a.text,a.fontSize,a.lineHeight),g;(0,Zn.default)(e,function(w,L){g=l+L*(c+u)-h+u,o==="middle"&&(g+=h-u-(h-u)/2),o==="top"&&(g+=h-u),n?t.fillText(w,s,g):t.strokeText(w,s,g)})},r.prototype._drawText=function(t,e){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var l=n.text;e?t.fillText(l,a,o):t.strokeText(l,a,o)}},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&n>0&&(!(0,Gi.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,Gi.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(La),_w=Lw,Dw=v(4555),GG=v(85424),Bw=v(22487),vv=v(6052);function Fw(i,r){if(r){var t=(0,vv.U_)(r);return(0,vv.rG)(t,i)}return i}function dv(i,r,t){var e=i.getTotalMatrix();if(e){var n=Fw([r,t,1],e),a=n[0],o=n[1];return[a,o]}return[r,t]}function pv(i,r,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,Bw.isAllowCapture)(i)&&i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var e=dv(i,r,t),n=e[0],a=e[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox;return o||(o=i.getCanvasBBox()),r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function gv(i,r,t){if(!pv(i,r,t))return null;for(var e=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())e=gv(s,r,t);else if(pv(s,r,t)){var l=s,u=dv(s,r,t),c=u[0],h=u[1];l.isInShape(c,h)&&(e=s)}if(e)break}return e}var Rw=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return d},r.prototype.getGroupBase=function(){return pf},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Hb();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){i.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&n.scale(o,o)},r.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?gv(this,t,e):i.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),e=this.getViewRange(),n;if(t.length&&t[0]===this)n=e;else if(n=rv(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=ew(n,e))}return n},r.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,Xb.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Ko(t,this),df(t,n),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),Ko(t,this),df(t,n,a),t.restore()),(0,Zn.default)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,Vb.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r}(Qe.AbstractCanvas),yv=Rw,Nw=v(71270),Gw=Nw.version,xf={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},zn={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},YG=null;function Ma(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function mv(i){var r=xf[i.type],t=i.getParent();if(!r)throw new Error("the type "+i.type+" is not supported by svg");var e=Ma(r);if(i.get("id")&&(e.id=i.get("id")),i.set("el",e),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e}function xv(i,r){var t=i.get("el"),e=(0,f.toArray)(t.children).sort(r),n=document.createDocumentFragment();e.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function Yw(i,r){var t=i.parentNode,e=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=e[r],a=e.indexOf(i);if(n){if(a>r)t.insertBefore(i,n);else if(a<r){var o=e[r+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function zw(i,r){var t=i.cfg.el,e=i.attr(),n={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=r.find("filter",n);a||(a=r.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function Ss(i){var r=i.attr().matrix;if(r){for(var t=i.cfg.el,e=[],n=0;n<9;n+=3)e.push(r[n]+","+r[n+1]);e=e.join(","),e.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function Cs(i,r){var t=i.getClip(),e=i.get("el");if(!t)e.removeAttribute("clip-path");else if(t&&!e.hasAttribute("clip-path")){mv(t),t.createPath(r);var n=r.addClip(t);e.setAttribute("clip-path","url(#"+n+")")}}function bv(i,r){r.forEach(function(t){t.draw(i)})}function wv(i,r){var t=i.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(r==="remove"){var s=i.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")Yw(o,a.indexOf(i));else if(r==="sort"){var c=i.get("children");c&&c.length&&xv(i,function(h,g){return c.indexOf(h)-c.indexOf(g)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?Ss(i):r==="clip"?Cs(i,e):r==="attr"||r==="add"&&i.draw(e)}}var Vw=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=Ma("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.createPath(n,t)}},r.prototype.onCanvasChange=function(t){wv(this,t)},r.prototype.getShapeBase=function(){return P},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),Cs(this,t),this.createPath(t),e.length&&bv(t,e))},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){zn[s]&&a.setAttribute(zn[s],o)}),Ss(this)},r}(Qe.AbstractGroup),bf=Vw,Xw=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.draw(n,t)}},r.prototype.getShapeBase=function(){return P},r.prototype.getGroupBase=function(){return bf},r.prototype.onCanvasChange=function(t){wv(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,nv.b)(this.get("type"));n&&(e=n(this))}if(e){var a=e.x,o=e.y,s=e.width,l=e.height,u=this.getHitLineWidth(),c=u/2,h=a-c,g=o-c,w=a+s+c,L=o+l+c;return{x:h,y:g,minX:h,minY:g,maxX:w,maxY:L,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},r.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||mv(this),Cs(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,u=n.fillOpacity,c=n.strokeOpacity,h=n.lineWidth,g=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),u&&g.setAttribute(zn.fillOpacity,u)),this.canStroke&&h>0&&(e?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),c&&g.setAttribute(zn.strokeOpacity,c),h&&g.setAttribute(zn.lineWidth,h))},r.prototype._setColor=function(t,e,n){var a=this.get("el");if(!n){a.setAttribute(zn[e],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(zn[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(zn[e],"url(#"+o+")")}else a.setAttribute(zn[e],n)},r.prototype.shadow=function(t,e){var n=this.attr(),a=e||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,u=a.shadowColor;(o||s||l||u)&&zw(this,t)},r.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&Ss(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=e+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(n))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},r}(Qe.AbstractShape),Ea=Xw,Hw=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):zn[s]&&a.setAttribute(zn[s],o)})},r}(Ea),Ww=Hw,jw=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){zn[s]&&a.setAttribute(zn[s],o)}),a.innerHTML=n.html},r}(Ea),Uw=jw,Zw=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):zn[s]&&a.setAttribute(zn[s],o)})},r}(Ea),Qw=Zw,Kw=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){l==="img"?n._setImage(a.img):zn[l]&&o.setAttribute(zn[l],s)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,t==="img"&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,f.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,f.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},r}(Ea),$w=Kw,Jw=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,f.isObject)(o)?t.addArrow(n,zn[s]):t.getDefaultArrow(n,zn[s]);a.setAttribute(zn[s],"url(#"+l+")")}else a.removeAttribute(zn[s]);else zn[s]&&a.setAttribute(zn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return eo.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return eo.default.pointAt(n,a,o,s,t)},r}(Ea),qw=Jw,gl={circle:function(i,r,t){return[["M",i,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["z"]]},triangleDown:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},Sv={get:function(i){return gl[i]},register:function(i,r){gl[i]=r},remove:function(i){delete gl[i]},getAll:function(){return gl}},tS=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,f.isArray)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,f.isFunction)(o)?s=o:s=Sv.get(o),s?s(e,n,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=Sv,r}(Ea),eS=tS,rS=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){if(l==="path"&&(0,f.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=(0,f.isObject)(s)?t.addArrow(a,zn[l]):t.getDefaultArrow(a,zn[l]);o.setAttribute(zn[l],"url(#"+u+")")}else o.removeAttribute(zn[l]);else zn[l]&&o.setAttribute(zn[l],s)})},r.prototype._formatPath=function(t){var e=t.map(function(n){return n.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),a=e?e.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},r}(Ea),nS=rS,iS=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):zn[s]&&a.setAttribute(zn[s],o)})},r}(Ea),aS=iS,oS=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):zn[s]&&a.setAttribute(zn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",cv.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),eo.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=eo.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(Ea),sS=oS,lS=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,uS=/[^\s\,]+/gi;function fS(i){var r=0,t=0,e=0,n=0;return(0,f.isArray)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,{r1:r,r2:t,r3:e,r4:n}}function zG(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(lS),each(i,function(r,t){if(r=r.match(uS),r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=e}each(r,function(n,a){isNaN(n)||(r[a]=+n)}),i[t]=r}),i}var cS=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,f.each)(e||a,function(u,c){l.indexOf(c)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(c)===-1&&zn[c]&&o.setAttribute(zn[c],u)})},r.prototype._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=fS(s);(0,f.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(e+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},r}(Ea),hS=cS,vS=v(56463),Cv=.3,dS={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},pS={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},gS={left:"left",start:"left",center:"middle",right:"end",end:"end"},yS=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Q.__assign)((0,Q.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,f.each)(e||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?Ss(n):zn[l]&&o.setAttribute(zn[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,a=e.textAlign,o=(0,vS.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",pS[n]||"alphabetic"):t.setAttribute("alignment-baseline",dS[n]||"baseline"),t.setAttribute("text-anchor",gS[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)e.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),u=l.length-1,c="";(0,f.each)(l,function(h,g){g===0?s==="alphabetic"?c+='<tspan x="'+a+'" dy="'+-u+'em">'+h+"</tspan>":s==="top"?c+='<tspan x="'+a+'" dy="0.9em">'+h+"</tspan>":s==="middle"?c+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+h+"</tspan>":s==="bottom"?c+='<tspan x="'+a+'" dy="-'+(u+Cv)+'em">'+h+"</tspan>":s==="hanging"&&(c+='<tspan x="'+a+'" dy="'+(-(u-1)-Cv)+'em">'+h+"</tspan>"):c+='<tspan x="'+a+'" dy="1em">'+h+"</tspan>"}),e.innerHTML=c}else e.innerHTML=t},r}(Ea),mS=yS,xS=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,bS=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,wS=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Mv(i){var r=i.match(wS);if(!r)return"";var t="";return r.sort(function(e,n){return e=e.split(":"),n=n.split(":"),Number(e[0])-Number(n[0])}),(0,f.each)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}function SS(i,r){var t=xS.exec(i),e=(0,f.mod)((0,f.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,c=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",u),r.setAttribute("y2",c),r.innerHTML=Mv(n)}function CS(i,r){var t=bS.exec(i),e=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",e),r.setAttribute("cy",n),r.setAttribute("r",a),r.innerHTML=Mv(o)}var MS=function(){function i(r){this.cfg={};var t=null,e=(0,f.uniqueId)("gradient_");return r.toLowerCase()[0]==="l"?(t=Ma("linearGradient"),SS(r,t)):(t=Ma("radialGradient"),CS(r,t)),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),ES=MS,AS={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},TS={x:"-40%",y:"-40%",width:"200%",height:"200%"},PS=function(){function i(r){this.type="filter",this.cfg={},this.type="filter";var t=Ma("filter");return(0,f.each)(TS,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=(0,f.uniqueId)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return i.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,n=this.cfg;return(0,f.each)(Object.keys(n),function(a){if(n[a]!==t[a])return e=!1,!1}),e},i.prototype.update=function(r,t){var e=this.cfg;return e[AS[r]]=t,this._parseShadow(e,this.el),this},i.prototype._parseShadow=function(r,t){var e=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=e},i}(),OS=PS,IS=function(){function i(r,t){this.cfg={};var e=Ma("marker"),n=(0,f.uniqueId)("marker_");e.setAttribute("id",n);var a=Ma("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=n;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY",""+5)},i.prototype._setMarker=function(r,t){var e=this.el,n=this.cfg.path,a=this.cfg.d;(0,f.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},i.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},i}(),Ev=IS,kS=function(){function i(r){this.type="clip",this.cfg={};var t=Ma("clipPath");this.el=t,this.id=(0,f.uniqueId)("clip_"),t.id=this.id;var e=r.cfg.el;return t.appendChild(e),this.cfg=r,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},i}(),LS=kS,_S=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,DS=function(){function i(r){this.cfg={};var t=Ma("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=Ma("image");t.appendChild(e);var n=(0,f.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=r;var a=_S.exec(r),o=a[2];e.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),BS=DS,FS=function(){function i(r){var t=Ma("defs"),e=(0,f.uniqueId)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return i.prototype.find=function(r,t){for(var e=this.children,n=null,a=0;a<e.length;a++)if(e[a].match(r,t)){n=e[a].id;break}return n},i.prototype.findById=function(r){for(var t=this.children,e=null,n=0;n<t.length;n++)if(t[n].id===r){e=t[n];break}return e},i.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},i.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var n=new Ev(r,t);return this.defaultArrow[e]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(r){var t=new ES(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(r,t){var e=new Ev(r,t);return this.el.appendChild(e.el),this.add(e),e.id},i.prototype.addShadow=function(r){var t=new OS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(r){var t=new BS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(r){var t=new LS(r);return this.el.appendChild(t.el),this.add(t),t.id},i}(),RS=FS,NS=function(i){(0,Q.__extends)(r,i);function r(t){return i.call(this,(0,Q.__assign)((0,Q.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return P},r.prototype.getGroupBase=function(){return bf},r.prototype.getShape=function(t,e,n){var a=n.target||n.srcElement;if(!xf[a.tagName]){for(var o=a.parentNode;o&&!xf[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=Ma("svg"),e=new RS(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&xv(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=e.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?Ss(this):t==="clip"?Cs(this,e):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();Cs(this,t),e.length&&bv(t,e)},r}(Qe.AbstractCanvas),Av=NS,GS=v(23231),YS=GS.version;function wf(i){return i?!1:i==null||isNaN(i)}function Tv(i){if((0,f.isArray)(i))return wf(i[1].y);var r=i.y;return(0,f.isArray)(r)?wf(r[0]):wf(r)}function Sf(i,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(r){for(var e=[],n=0,a=i.length;n<a;n++){var o=i[n];Tv(o)||e.push(o)}return[e]}for(var s=[],l=[],n=0,a=i.length;n<a;n++){var o=i[n];Tv(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function ki(i,r,t,e){e===void 0&&(e="");var n=i.style,a=n===void 0?{}:n,o=i.defaultStyle,s=i.color,l=i.size,u=(0,Q.__assign)((0,Q.__assign)({},o),a);return s&&(r&&(a.stroke||(u.stroke=s)),t&&(a.fill||(u.fill=s))),e&&(0,f.isNil)(a[e])&&!(0,f.isNil)(l)&&(u[e]=l),u}function Cf(i){var r=i.x,t=(0,f.isArray)(i.y)?i.y:[i.y];return t.map(function(e,n){return{x:(0,f.isArray)(r)?r[n]:r,y:e}})}var zS={line:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dot:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dash:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},smooth:function(i,r,t){return[["M",i-t,r],["A",t/2,t/2,0,1,1,i,r],["A",t/2,t/2,0,1,0,i+t,r]]},hv:function(i,r,t){return[["M",i-t-1,r-2.5],["L",i,r-2.5],["L",i,r+2.5],["L",i+t+1,r+2.5]]},vh:function(i,r,t){return[["M",i-t-1,r+2.5],["L",i,r+2.5],["L",i,r-2.5],["L",i+t+1,r-2.5]]},hvh:function(i,r,t){return[["M",i-(t+1),r+2.5],["L",i-t/2,r+2.5],["L",i-t/2,r-2.5],["L",i+t/2,r-2.5],["L",i+t/2,r+2.5],["L",i+t+1,r+2.5]]},vhv:function(i,r){return[["M",i-5,r+2.5],["L",i-5,r],["L",i,r],["L",i,r-3],["L",i,r+3],["L",i+6.5,r+3]]}};function Pv(i,r){var t=i.color;return{symbol:zS[r],style:{lineWidth:2,r:6,stroke:t}}}function VS(i,r,t){for(var e=i.isStack,n=i.connectNulls,a=i.isInCircle,o=i.showSinglePoint,s=ki(i,!0,!1,"lineWidth"),l=Sf(i.points,n,o),u=[],c=0,h=l.length;c<h;c++){var g=l[c];u=u.concat(HS(g,a,e,r,t,s))}return s.path=u,s}function Mf(i,r,t,e,n){if(i.length===1)return[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]];var a;return t?(r&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=gr(i,!1,e)):(a=ze(i,!1),r&&a.push(["Z"])),a}function XS(i,r,t,e,n,a){var o=[],s=[];(0,f.each)(i,function(c){var h=Cf(c);o.push(h[1]),s.push(h[0])});var l=Mf(o,r,e,n,a),u=Mf(s,r,e,n,a);return t?l:l.concat(u)}function HS(i,r,t,e,n,a){if(i.length){var o=i[0];return(0,f.isArray)(o.y)?XS(i,r,t,e,n,a):Mf(i,r,e,n,a)}return[]}var VG=ho("line",{defaultShapeType:"line"});(0,f.each)(["line","dot","dash","smooth"],function(i){Nn("line",i,{draw:function(r,t){var e=i==="smooth",n;if(e){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=VS(r,e,n),u=t.addShape({type:"path",attrs:l,name:"line"});return u},getMarker:function(r){return Pv(r,i)}})});var XG=null,WS=function(i){(0,Q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return e.connectNulls=a,e.showSinglePoint=s,e}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=a.container,c=this.getElementId(t),h=this.getShapeInfo(t),g=o[c];if(g){var L=g.getModel();(this.isCoordinateChanged||Xh(L,h))&&(g.animate=this.animateOption,g.update(h)),delete o[c]}else{var w=this.getShapeFactory();g=new Nh({shapeFactory:w,container:u,offscreenGroup:this.getOffscreenGroup()}),g.geometry=this,g.animate=this.animateOption,g.draw(h,n)}return l.push(g),s[c]=g,l},r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),n.push(s[le])}return{points:e,data:n}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(to),Ef=WS;function jS(i,r,t,e,n){var a=[];if(i.length){for(var o=[],s=[],l=0,u=i.length;l<u;l++){var c=i[l];o.push(c[1]),s.push(c[0])}s=s.reverse(),(0,f.each)([o,s],function(h,g){var w=[],L=e.parsePoints(h),D=L[0];o.length===1&&s.length===1?w=g===0?[["M",D.x-.5,D.y],["L",D.x+.5,D.y]]:[["L",D.x+.5,D.y],["L",D.x-.5,D.y]]:(r&&L.push({x:D.x,y:D.y}),t?w=gr(L,!1,n):w=ze(L,!1),g>0&&(w[0][0]="L")),a=a.concat(w)}),a.push(["Z"])}return a}function yl(i,r,t,e,n){for(var a=ki(i,r,!r,"lineWidth"),o=i.connectNulls,s=i.isInCircle,l=i.points,u=i.showSinglePoint,c=Sf(l,o,u),h=[],g=0,w=c.length;g<w;g++){var L=c[g];h=h.concat(jS(L,s,t,e,n))}return a.path=h,a}function Ov(i){var r=i.start,t=i.end;return[[r.x,t.y],[t.x,r.y]]}var HG=ho("area",{defaultShapeType:"area",getDefaultPoints:function(i){var r=i.x,t=i.y0,e=(0,f.isArray)(i.y)?i.y:[t,i.y];return e.map(function(n){return{x:r,y:n}})}});Nn("area","area",{draw:function(i,r){var t=yl(i,!1,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}});var WG=null,US=function(i){(0,Q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,l=t.showSinglePoint,u=l===void 0?!1:l;return e.startOnZero=a,e.sortable=s,e.showSinglePoint=u,e}return r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),n.push(s[le])}return{points:e,data:n}},r.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(Ef),ZS=US,jG=ho("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return Cf(i)}});Nn("edge","line",{draw:function(i,r){var t=ki(i,!0,!1,"lineWidth"),e=ze(this.parsePoints(i.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var UG=null,QS=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(to),KS=QS,$S=v(55223),JS=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,f.get)(this.styleOption,["style","shadowBlur"]);return(0,f.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},r.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[le][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,f.isNumber)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),a=t+e,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,n,a){var o=this.coordinate,s=o.start,l=o.end,u=this.coordinate.getWidth(),c=this.coordinate.getHeight(),h=this.getAttribute("color"),g=h.getFields()[0];this.clearShadowCanvasCtx();var w=this.getShadowCanvasCtx();e&&(t=t.filter(function(oe){return oe[le][g]<=e[1]&&oe[le][g]>=e[0]}));for(var L=this.scales[g],D=0,N=t;D<N.length;D++){var H=N[D],X=this.getDrawCfg(H),mt=X.x,xt=X.y,Pt=L.scale(H[le][g]);this.drawGrayScaleBlurredCircle(mt-s.x,xt-l.y,n+a,Pt,w)}var Ht=w.getImageData(0,0,u,c);this.clearShadowCanvasCtx(),this.colorize(Ht),w.putImageData(Ht,0,0);var te=this.getImageShape();te.attr("x",s.x),te.attr("y",l.y),te.attr("width",u),te.attr("height",c),te.attr("img",w.canvas),te.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,f.isNumber)(s)){var l=a[s]?a[s]:$S.default.rgb2arr(e.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,Q.__assign)((0,Q.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[le]})},r}(to),qS=JS;function Af(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var c=[{x:l,y:o},{x:l,y:s}];return r?c.push({x:u,y:(s+o)/2}):c.push({x:u,y:s},{x:u,y:o}),c}function Tf(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function Iv(i,r,t){var e=[];return(0,f.isNil)(r)?t?e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}var ZG=ho("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return Af(i)}});Nn("interval","rect",{draw:function(i,r){var t=ki(i,!1,!0),e=this.parsePath(Tf(i.points)),n=r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var QG=null;function tC(i,r){var t=i.length,e=i;(0,f.isString)(e[0])&&(e=i.map(function(s){return r.translate(s)}));for(var n=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];n>o&&(n=o)}return n}function eC(i,r){if(r){var t=(0,f.flatten)(i),e=(0,f.valuesOfKey)(t,r);return e.length}return i.length}function kv(i){var r=i.theme,t=i.coordinate,e=i.getXScale(),n=e.values,a=i.beforeMappingData,o=n.length;if(e.isLinear&&n.length>1){n.sort();var s=tC(n,e);o=(e.max-e.min)/s,n.length>o&&(o=n.length)}var l=e.range,u=1/o,c=1;if(t.isPolar?t.isTransposed&&o>1?c=r.multiplePieWidthRatio:c=r.roseWidthRatio:(e.isLinear&&(u*=l[1]-l[0]),c=r.columnWidthRatio),u*=c,i.getAdjust("dodge")){var h=i.getAdjust("dodge"),g=h.dodgeBy,w=eC(a,g);u=u/w}var L=r.maxColumnWidth,D=r.minColumnWidth,N=Y(i.coordinate);if(L){var H=L/N;u>H&&(u=H)}if(D){var X=D/N;u<X&&(u=X)}return u}var rC=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Y(o);n=n/s}else this.defaultSize||(this.defaultSize=kv(this)),n=this.defaultSize;return e.size=n,e},r.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var e=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,f.get)(e,[n,"min"])&&t.change({min:0}),o<=0&&!(0,f.get)(e,[n,"max"])&&t.change({max:0}))}},r}(to),nC=rC,iC=function(i){(0,Q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="line";var n=t.sortable,a=n===void 0?!0:n;return e.sortable=a,e}return r}(Ef),aC=iC,_o={hexagon:function(i,r,t){var e=t/2*Math.sqrt(3);return[["M",i,r-t],["L",i+e,r-t/2],["L",i+e,r+t/2],["L",i,r+t],["L",i-e,r+t/2],["L",i-e,r-t/2],["Z"]]},bowtie:function(i,r,t){var e=t-1.5;return[["M",i-t,r-e],["L",i+t,r+e],["L",i+t,r-e],["L",i-t,r+e],["Z"]]},cross:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r+t],["M",i+t,r-t],["L",i-t,r+t]]},tick:function(i,r,t){return[["M",i-t/2,r-t],["L",i+t/2,r-t],["M",i,r-t],["L",i,r+t],["M",i-t/2,r+t],["L",i+t/2,r+t]]},plus:function(i,r,t){return[["M",i-t,r],["L",i+t,r],["M",i,r-t],["L",i,r+t]]},hyphen:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},line:function(i,r,t){return[["M",i,r-t],["L",i,r+t]]}},Lv=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],oC=["cross","tick","plus","hyphen","line"];function Pf(i,r,t,e,n){var a=ki(r,n,!n,"r"),o=i.parsePoints(r.points),s=o[0];if(r.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),u=0,c=o;u<c.length;u++){var h=c[u];l.addShape({type:"marker",attrs:(0,Q.__assign)((0,Q.__assign)((0,Q.__assign)({},a),{symbol:_o[e]||e}),h)})}return l}return t.addShape({type:"marker",attrs:(0,Q.__assign)((0,Q.__assign)((0,Q.__assign)({},a),{symbol:_o[e]||e}),s)})}var KG=ho("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return Cf(i)}});(0,f.each)(Lv,function(i){Nn("point","hollow-"+i,{draw:function(r,t){return Pf(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:_o[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var $G=null,sC=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return(0,Q.__assign)((0,Q.__assign)({},e),{isStack:!!this.getAdjust("stack")})},r}(to),lC=sC;function uC(i){for(var r=i[0],t=1,e=[["M",r.x,r.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(e.push(["L",n.x,n.y]),n.x===r.x&&n.y===r.y&&t<i.length-1&&(r=i[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,f.isEqual)((0,f.last)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}var JG=ho("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return(0,f.each)(i.x,function(t,e){var n=i.y[e];r.push({x:t,y:n})}),r}});Nn("polygon","polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=ki(i,!0,!0),e=this.parsePath(uC(i.points));return r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:e}),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var qG=null,fC=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n=e.x,a=e.y,o;if(!((0,f.isArray)(n)&&(0,f.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,c=l.values.length,h=.5*1/u,g=.5*1/c;s.isCategory&&l.isCategory?(n=[n-h,n-h,n+h,n+h],a=[a-g,a+g,a+g,a-g]):(0,f.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-g/2,a+g/2,a+g/2,a-g/2]):(0,f.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-h/2,n-h/2,n+h/2,n+h/2]),e.x=n,e.y=a}return e},r}(to),cC=fC,t7=ho("schema",{defaultShapeType:""}),e7=null,hC=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Y(o);n=n/s}else this.defaultSize||(this.defaultSize=kv(this)),n=this.defaultSize;return e.size=n,e},r}(to),vC=hC;Nn("area","line",{draw:function(i,r){var t=yl(i,!0,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),Nn("area","smooth",{draw:function(i,r){var t=this.coordinate,e=yl(i,!1,!0,this,Ov(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}}),Nn("area","smooth-line",{draw:function(i,r){var t=this.coordinate,e=yl(i,!0,!0,this,Ov(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function Of(i,r){var t=[];t.push({x:i.x,y:i.y*1/2+r.y*1/2}),t.push({x:r.x,y:i.y*1/2+r.y*1/2}),t.push(r);var e=["C"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function If(i,r){var t=[];t.push({x:r.x,y:r.y}),t.push(i);var e=["Q"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function dC(i,r,t){var e=If(r,t),n=[["M",i.x,i.y]];return n.push(e),n}function pC(i,r){var t=If(i[1],r),e=If(i[3],r),n=[["M",i[0].x,i[0].y]];return n.push(e),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}Nn("edge","arc",{draw:function(i,r){var t=ki(i,!0,!1,"lineWidth"),e=i.points,n=e.length>2?"weight":"normal",a;if(i.isInCircle){var o={x:0,y:1};return n==="normal"?a=dC(e[0],e[1],o):(t.fill=t.stroke,a=pC(e,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:a})})}else{if(n==="normal")return e=this.parsePoints(e),a=Jn((e[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:a})});var s=Of(e[1],e[3]),l=Of(e[2],e[0]);return a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:a})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function gC(i,r){var t=Of(i,r),e=[["M",i.x,i.y]];return e.push(t),e}Nn("edge","smooth",{draw:function(i,r){var t=ki(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(gC(e[0],e[1]));return r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var ml=1/3;function yC(i,r){var t=[];t.push({x:i.x,y:i.y*(1-ml)+r.y*ml}),t.push({x:r.x,y:i.y*(1-ml)+r.y*ml}),t.push(r);var e=[["M",i.x,i.y]];return(0,f.each)(t,function(n){e.push(["L",n.x,n.y])}),e}Nn("edge","vhv",{draw:function(i,r){var t=ki(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(yC(e[0],e[1]));return r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),Nn("interval","funnel",{getPoints:function(i){return i.size=i.size*2,Af(i)},draw:function(i,r){var t=ki(i,!1,!0),e=this.parsePath(Iv(i.points,i.nextPoints,!1)),n=r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}}),Nn("interval","hollow-rect",{draw:function(i,r){var t=ki(i,!0,!1),e=this.parsePath(Tf(i.points)),n=r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function mC(i){var r=i.x,t=i.y,e=i.y0;return(0,f.isArray)(t)?t.map(function(n,a){return{x:(0,f.isArray)(r)?r[a]:r,y:n}}):[{x:r,y:e},{x:r,y:t}]}Nn("interval","line",{getPoints:function(i){return mC(i)},draw:function(i,r){var t=ki(i,!0,!1,"lineWidth"),e=this.parsePath(Tf(i.points,!1)),n=r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:r}}}}),Nn("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,Af(i,!0)},draw:function(i,r){var t=ki(i,!1,!0),e=this.parsePath(Iv(i.points,i.nextPoints,!0)),n=r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function xC(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,f.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=r+n/2,l=r-n/2;return[{x:r,y:a},{x:r,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function bC(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}Nn("interval","tick",{getPoints:function(i){return xC(i)},draw:function(i,r){var t=ki(i,!0,!1),e=this.parsePath(bC(i.points)),n=r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:r}}}});var wC=function(i,r,t){var e=i.x,n=i.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var l=(a+e)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var u=(n+o)/2;s=[{x:e,y:u},{x:a,y:u}];break;default:break}return s};function SC(i,r){var t=[];return(0,f.each)(i,function(e,n){var a=i[n+1];if(t.push(e),a){var o=wC(e,a,r);t=t.concat(o)}}),t}function CC(i){return i.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function MC(i,r){var t=Sf(i.points,i.connectNulls,i.showSinglePoint),e=[];return(0,f.each)(t,function(n){var a=SC(n,r);e=e.concat(CC(a))}),(0,Q.__assign)((0,Q.__assign)({},ki(i,!0,!1,"lineWidth")),{path:e})}(0,f.each)(["hv","vh","hvh","vhv"],function(i){Nn("line",i,{draw:function(r,t){var e=MC(r,i),n=t.addShape({type:"path",attrs:e,name:"line"});return n},getMarker:function(r){return Pv(r,i)}})}),(0,f.each)(oC,function(i){Nn("point",i,{draw:function(r,t){return Pf(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:_o[i],style:{r:4.5,stroke:t,fill:null}}}})}),Nn("point","image",{draw:function(i,r){var t=ki(i,!1,!1,"r").r,e=this.parsePoints(i.points),n=e[0];if(i.isStack)n=e[1];else if(e.length>1){for(var a=r.addGroup(),o=0,s=e;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:i.shape[1]}})}return a}return r.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:i.shape[1]}})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,f.each)(Lv,function(i){Nn("point",i,{draw:function(r,t){return Pf(this,r,t,i,!1)},getMarker:function(r){var t=r.color;return{symbol:_o[i]||i,style:{r:4.5,fill:t}}}})});function _v(i){var r=(0,f.isArray)(i)?i:[i],t=r[0],e=r[r.length-1],n=r.length>1?r[1]:t,a=r.length>3?r[3]:e,o=r.length>2?r[2]:n;return{min:t,max:e,min1:n,max1:a,median:o}}function Dv(i,r,t){var e=t/2,n;if((0,f.isArray)(r)){var a=_v(r),o=a.min,s=a.max,l=a.median,u=a.min1,c=a.max1,h=i-e,g=i+e;n=[[h,s],[g,s],[i,s],[i,c],[h,u],[h,c],[g,c],[g,u],[i,u],[i,o],[h,o],[g,o],[h,l],[g,l]]}else{r=(0,f.isNil)(r)?.5:r;var w=_v(i),o=w.min,s=w.max,l=w.median,u=w.min1,c=w.max1,L=r-e,D=r+e;n=[[o,L],[o,D],[o,r],[u,r],[u,L],[u,D],[c,D],[c,L],[c,r],[s,r],[s,L],[s,D],[l,L],[l,D]]}return n.map(function(N){return{x:N[0],y:N[1]}})}function EC(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}Nn("schema","box",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return Dv(r,t,e)},draw:function(i,r){var t=ki(i,!0,!1),e=this.parsePath(EC(i.points)),n=r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e-6,e-3,e,e+3,e+6],o=Dv(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function AC(i){var r=(0,f.isArray)(i)?i:[i],t=r.sort(function(e,n){return n-e});return Bt(t,4,t[t.length-1])}function Bv(i,r,t){var e=AC(r);return[{x:i,y:e[0]},{x:i,y:e[1]},{x:i-t/2,y:e[2]},{x:i-t/2,y:e[1]},{x:i+t/2,y:e[1]},{x:i+t/2,y:e[2]},{x:i,y:e[2]},{x:i,y:e[3]}]}function TC(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}Nn("schema","candle",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return Bv(r,t,e)},draw:function(i,r){var t=ki(i,!0,!0),e=this.parsePath(TC(i.points)),n=r.addShape("path",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e+7.5,e+3,e-3,e-7.5],o=Bv(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function PC(i,r){var t=Math.abs(i[0].x-i[2].x),e=Math.abs(i[0].y-i[2].y),n=Math.min(t,e);r&&(n=(0,f.clamp)(r,0,Math.min(t,e))),n=n/2;var a=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}Nn("polygon","square",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=ki(i,!0,!0),e=this.parsePoints(i.points);return r.addShape("rect",{attrs:(0,Q.__assign)((0,Q.__assign)({},t),PC(e,i.size)),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var OC=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setLabelPosition=function(t,e,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=e.points,u=o.convert(l[0]),c=o.convert(l[2]),h=s?-1:1,g=(u.x-c.x)/2*h,w=(u.y-c.y)/2*h;switch(a){case"right":s||(t.x-=g,t.y+=w),t.textAlign=(0,f.get)(t,"textAlign","left");break;case"left":s?t.x-=g*2:(t.x+=g,t.y+=w),t.textAlign=(0,f.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=g,t.y-=w):t.y+=w*2,t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","top");break;case"middle":s?t.x-=g:t.y+=w,t.textAlign=(0,f.get)(t,"textAlign","center");break;case"top":s&&(t.x-=g,t.y+=w),t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","bottom");break;default:break}},r}(sl),IC=OC,xl=Math.PI/2,kC=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},r.prototype.getLabelPoint=function(t,e,n){var a=1,o,s=t.content[n];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(e,n));var l=this.getDefaultOffset(t.offset)*a,u=this.getPointAngle(o),c=t.labelEmit,h=this.getCirclePoint(u,l,o,c);return h.r===0?h.content="":(h.content=s,h.angle=u,h.color=e.color),h.rotate=t.autoRotate?this.getLabelRotate(u,l,c):t.rotate,h.start={x:o.x,y:o.y},h},r.prototype.getArcPoint=function(t,e){return e===void 0&&(e=0),!(0,f.isArray)(t.x)&&!(0,f.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,f.isArray)(t.x)?t.x[e]:t.x,y:(0,f.isArray)(t.y)?t.y[e]:t.y}},r.prototype.getPointAngle=function(t){return Wt(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=Ct(o,n);if(l===0)return(0,Q.__assign)((0,Q.__assign)({},s),{r:l});var u=t;if(o.isTransposed&&l>e&&!a){var c=Math.asin(e/(2*l));u=t+c*2}else l=l+e;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},r.prototype.getLabelRotate=function(t,e,n){var a=t+xl;return n&&(a-=xl),a&&(a>xl?a=a-Math.PI:a<-xl&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,f.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=e.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(sl),Fv=kC,LC=function(i){(0,Q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.defaultLayout="distribute",e}return r.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"pieLabels",{})},r.prototype.getDefaultOffset=function(t){return t||0},r.prototype.getLabelRotate=function(t,e,n){var a;return e<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n=e.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var e=this.getCoordinate(),n={x:(0,f.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,f.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=Wt(e,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=Wt(e,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,e,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+e;return(0,Q.__assign)((0,Q.__assign)({},dn(o.x,o.y,s,t)),{angle:t,r:s})},r}(Fv),_C=LC,Rv=4;function DC(i,r,t,e,n,a){var o=!0,s=e.start,l=e.end,u=Math.min(s.y,l.y),c=Math.abs(s.y-l.y),h,g=0,w=Number.MIN_VALUE,L=r.map(function(Pt){return Pt.y>g&&(g=Pt.y),Pt.y<w&&(w=Pt.y),{size:t,targets:[Pt.y-u]}});for(w-=u,g-u>c&&(c=g-u);o;)for(L.forEach(function(Pt){var Ht=(Math.min.apply(w,Pt.targets)+Math.max.apply(w,Pt.targets))/2;Pt.pos=Math.min(Math.max(w,Ht-Pt.size/2),c-Pt.size)}),o=!1,h=L.length;h--;)if(h>0){var D=L[h-1],N=L[h];D.pos+D.size>N.pos&&(D.size+=N.size,D.targets=D.targets.concat(N.targets),D.pos+D.size>c&&(D.pos=c-D.size),L.splice(h,1),o=!0)}h=0,L.forEach(function(Pt){var Ht=u+t/2;Pt.targets.forEach(function(){r[h].y=Pt.pos+Ht,Ht+=t,h++})});for(var H={},X=0,mt=i;X<mt.length;X++){var xt=mt[X];H[xt.get("id")]=xt}r.forEach(function(Pt){var Ht=Pt.r*Pt.r,te=Math.pow(Math.abs(Pt.y-n.y),2);if(Ht<te)Pt.x=n.x;else{var oe=Math.sqrt(Ht-te);a?Pt.x=n.x+oe:Pt.x=n.x-oe}var qt=H[Pt.id];qt.attr("x",Pt.x),qt.attr("y",Pt.y);var we=(0,f.find)(qt.getChildren(),function(Ie){return Ie.get("type")==="text"});we&&(we.attr("y",Pt.y),we.attr("x",Pt.x))})}function BC(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,u=o+n,c=u*2+l*2,h={start:a.start,end:a.end},g=[[],[]];i.forEach(function(w){!w||(w.textAlign==="right"?g[0].push(w):g[1].push(w))}),g.forEach(function(w,L){var D=c/l;w.length>D&&(w.sort(function(N,H){return H["..percent"]-N["..percent"]}),w.splice(D,w.length-D)),w.sort(function(N,H){return N.y-H.y}),DC(r,w,l,h,s,L)})}(0,f.each)(i,function(w){if(w&&w.labelLine){var L=w.offset,D=w.angle,N=dn(s.x,s.y,o,D),H=dn(s.x,s.y,o+L/2,D),X=w.x+(0,f.get)(w,"offsetX",0),mt=w.y+(0,f.get)(w,"offsetY",0),xt={x:X-Math.cos(D)*Rv,y:mt-Math.sin(D)*Rv};(0,f.isObject)(w.labelLine)||(w.labelLine={}),w.labelLine.path=["M "+N.x,N.y+" Q"+H.x,H.y+" "+xt.x,xt.y].join(",")}})}var Nv=4;function FC(i,r,t,e,n,a,o){r.sort(function(qt,we){return qt.y-we.y});var s=e.start,l=e.end,u=Math.min(s.y,l.y),c=Math.max(s.y,l.y),h,g=r.map(function(qt){return{content:qt.content,size:t,pos:qt.y,targets:[qt.y]}}),w=Math.max.apply(Math,g.map(function(qt){return qt.pos})),L=Math.min.apply(Math,g.map(function(qt){return qt.pos}));if(o){for(var D=Math.min(L,c-(g.length-1)*t),N=Math.max(D+g.length*t,w+t),H=!0;H;)for(H=!1,h=g.length;h--;)if(h>0){var X=g[h-1],mt=g[h];X.pos+X.size>mt.pos&&(mt.pos+h*t<N?(X.size+=mt.size,X.targets=X.targets.concat(mt.targets),g.splice(h,1)):X.pos=mt.pos-X.size,H=!0)}}else for(var N=Math.max(u+(g.length-1)*t,w),D=Math.min(L,N-(g.length-1)*t),H=!0;H;)for(H=!1,h=g.length;h--;)if(h>0){var X=g[h-1],mt=g[h];X.pos+X.size>mt.pos&&(X.pos-D>h*t?X.pos-=X.size:(X.size+=mt.size,X.targets=X.targets.concat(mt.targets),g.splice(h,1)),H=!0)}h=0,g.forEach(function(qt){var we=qt.pos;qt.targets.forEach(function(){r[h].y=we,we+=t,h++})});for(var xt={},Pt=0,Ht=i;Pt<Ht.length;Pt++){var te=Ht[Pt];xt[te.get("id")]=te}var oe=(Math.max.apply(Math,r.map(function(qt){return qt.y}))-Math.min.apply(Math,r.map(function(qt){return qt.y})))/2;oe=Math.max(oe,a),r.forEach(function(qt){var we=xt[qt.id],Ie=we.find(function(rr){return rr.get("type")==="text"});if(Ie&&Ie.attr("y")!==qt.y){var Pe=oe*oe,Ke=Math.pow(Math.abs(qt.y-n.y),2);if(Pe<Ke)qt.x=n.x;else{var ar=Math.sqrt(Pe-Ke);o?qt.x=n.x+ar:qt.x=n.x-ar}}we.attr("x",qt.x),we.attr("y",qt.y),Ie&&(Ie.attr("y",qt.y),Ie.attr("x",qt.x))})}function RC(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=(0,f.get)(i[0],"labelHeight",14),u=o+n,c=u*2+l*2,h={start:a.start,end:a.end},g=[[],[]];i.forEach(function(w){!w||(w.x<s.x?g[0].push(w):g[1].push(w))}),g.forEach(function(w,L){var D=c/l;if(w.length>D){w.sort(function(H,X){return X["data.percent"]-H["data.percent"]});var N=w.splice(D,w.length-D+1);N.forEach(function(H){var X=r.findIndex(function(mt){return mt.get("id")===H.id});r[X]&&(r[X].remove(!0),r.splice(X,1))})}FC(r,w,l,h,s,u,L===1)})}(0,f.each)(i,function(w){if(w&&w.labelLine){var L=w.angle,D=dn(s.x,s.y,o,L),N=w.x+(0,f.get)(w,"offsetX",0)*(Math.cos(L)>0?1:-1),H=w.y+(0,f.get)(w,"offsetY",0)*(Math.sin(L)>0?1:-1),X={x:N-Math.cos(L)*Nv,y:H-Math.sin(L)*Nv},mt=w.labelLine.smooth,xt=[],Pt=X.x-s.x,Ht=X.y-s.y,te=Math.atan(Ht/Pt);if(Pt<0&&(te+=Math.PI),mt===!1){(0,f.isObject)(w.labelLine)||(w.labelLine={});var oe=0;(L<0&&L>-Math.PI/2||L>Math.PI*1.5)&&X.y>D.y&&(oe=1),L>=0&&L<Math.PI/2&&X.y>D.y&&(oe=1),L>=Math.PI/2&&L<Math.PI&&D.y>X.y&&(oe=1),(L<-Math.PI/2||L>=Math.PI&&L<Math.PI*1.5)&&D.y>X.y&&(oe=1);var qt=n/2>4?4:Math.max(n/2-1,0),we=dn(s.x,s.y,o+qt,L),Ie=dn(s.x,s.y,o+n/2,te),Pe=0;xt.push("M "+D.x+" "+D.y),xt.push("L "+we.x+" "+we.y),xt.push("A "+s.x+" "+s.y+" 0 "+Pe+" "+oe+" "+Ie.x+" "+Ie.y),xt.push("L "+X.x+" "+X.y)}else{var we=dn(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),L),Ke=D.x<s.x?1:-1;xt.push("M "+X.x+" "+X.y);var ar=(D.y-s.y)/(D.x-s.x),rr=(X.y-s.y)/(X.x-s.x);Math.abs(ar-rr)>Math.pow(Math.E,-16)&&xt.push.apply(xt,["C",X.x+Ke*4,X.y,2*we.x-D.x,2*we.y-D.y,D.x,D.y]),xt.push("L "+D.x+" "+D.y)}w.labelLine.path=xt.join(" ")}})}function NC(i,r,t,e){(0,f.each)(r,function(n){var a=e.minX,o=e.minY,s=e.maxX,l=e.maxY,u=n.getCanvasBBox(),c=u.minX,h=u.minY,g=u.maxX,w=u.maxY,L=u.x,D=u.y,N=u.width,H=u.height,X=L,mt=D;(c<a||g<a)&&(X=a),(h<o||w<o)&&(mt=o),c>s?X=s-N:g>s&&(X=X-(g-s)),h>l?mt=l-H:w>l&&(mt=mt-(w-l)),(X!==L||mt!==D)&&lf(n,X-L,mt-D)})}function GC(i,r,t,e){(0,f.each)(r,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var YC=100,Gv=function(){function i(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,e=t===void 0?1:t,n=r.yGap,a=n===void 0?8:n;this.xGap=e,this.yGap=a}return i.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,n=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=n;l<=a;l+=1){if(!e[l]){e[l]={};continue}if(l===n||l===a){for(var u=o;u<=s;u++)if(e[l][u]){t=!1;break}}else if(e[l][o]||e[l][s]){t=!1;break}}return t},i.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),n=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=e;s<=n;s+=1)t[s]||(t[s]={});for(var s=e;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[e][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=e;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function zC(i,r,t){t===void 0&&(t=YC);var e=-1,n=i.attr(),a=n.x,o=n.y,s=i.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,c=-e,h=0,g=0,w=function(H){var X=H*.1;return[X*Math.cos(X),X*Math.sin(X)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var L=!1,D=0,N={};Math.min(Math.abs(h),Math.abs(g))<l&&D<t;)if(u=w(c+=e),h=~~u[0],g=~~u[1],!(!h&&!g||N[h+"-"+g])&&(i.attr({x:a+h,y:o+g}),h+g<0&&i.attr("textAlign","right"),D++,r.hasGap(i.getCanvasBBox()))){r.fillGap(i.getCanvasBBox()),L=!0,N[h+"-"+g]=!0;break}return L}function VC(i,r,t,e){var n=i.getCanvasBBox(),a=n.width,o=n.height,s={x:r,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return i.attr(s),i.getCanvasBBox()}function XC(i,r,t,e){var n=new Gv;(0,f.each)(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});zC(o,n)||a.remove(!0)}),n.destroy()}function HC(i,r,t,e){var n=new Gv;(0,f.each)(r,function(a){for(var o=a.find(function(w){return w.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,c=!1,h=0;h<=8;h++){var g=VC(o,l,u,h);if(n.hasGap(g)){n.fillGap(g),c=!0;break}}c||a.remove(!0)}),n.destroy()}function WC(i,r,t){var e={fillOpacity:(0,f.isNil)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,f.isNil)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,f.isNil)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(e,r)}function jC(i,r,t){var e={fillOpacity:0,strokeOpacity:0,opacity:0},n=r.easing,a=r.duration,o=r.delay;i.animate(e,a,n,function(){i.remove(!0)},o)}function UC(i,r,t){var e,n=r[0],a=r[1];return i.applyToMatrix([n,a,1]),t==="x"?(i.setMatrix(sr.transform(i.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),e=sr.transform(i.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(i.setMatrix(sr.transform(i.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),e=sr.transform(i.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(i.setMatrix(sr.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),e=sr.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),e}function kf(i,r,t,e,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),u,c;n==="y"?(u=a.x+s/2,c=e.y<a.y?e.y:a.y):n==="x"?(u=e.x>a.x?e.x:a.x,c=a.y+l/2):n==="xy"&&(t.isPolar?(u=t.getCenter().x,c=t.getCenter().y):(u=(a.x+o.x)/2,c=(a.y+o.y)/2));var h=UC(i,[u,c],n);i.animate({matrix:h},r)}function ZC(i,r,t){var e=t.coordinate,n=t.minYPoint;kf(i,r,e,n,"x")}function QC(i,r,t){var e=t.coordinate,n=t.minYPoint;kf(i,r,e,n,"y")}function KC(i,r,t){var e=t.coordinate,n=t.minYPoint;kf(i,r,e,n,"xy")}function $C(i,r,t){var e=i.getTotalLength();i.attr("lineDash",[e]),i.animate(function(n){return{lineDashOffset:(1-n)*e}},r)}function JC(i,r,t){var e=t.toAttrs,n=e.x,a=e.y;delete e.x,delete e.y,i.attr(e),i.animate({x:n,y:a},r)}function qC(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;i.applyToMatrix([o,s,1]);var l=sr.transform(i.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);i.setMatrix(l),i.animate({matrix:sr.transform(i.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function t2(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;i.applyToMatrix([a,s,1]);var l=sr.transform(i.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);i.setMatrix(l),i.animate({matrix:sr.transform(i.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}var e2=v(84909);function Yv(i,r){var t,e=(0,e2.Z)(i,r),n=e.startAngle,a=e.endAngle;return!(0,f.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,f.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,f.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,f.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function zv(i){var r;return i[0]==="M"||i[0]==="L"?r=[i[1],i[2]]:(i[0]==="a"||i[0]==="A")&&(r=[i[i.length-2],i[i.length-1]]),r}function Vv(i){var r,t,e,n=i.filter(function(mt){return mt[0]==="A"||mt[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=i.indexOf(a),l=i.indexOf(o),u=zv(i[s-1]),c=zv(i[l-1]),h=Yv(u,a),g=h.startAngle,w=h.endAngle,L=Yv(c,o),D=L.startAngle,N=L.endAngle;(0,f.isNumberEqual)(g,D)&&(0,f.isNumberEqual)(w,N)?(t=g,e=w):(t=Math.min(g,D),e=Math.max(w,N));var H=a[1],X=n[n.length-1][1];return H<X?(r=[X,H],H=r[0],X=r[1]):H===X&&(X=0),{startAngle:t,endAngle:e,radius:H,innerRadius:X}}function r2(i,r,t){var e=t.toAttrs,n=t.coordinate,a=e.path,o=a.map(function(X){return X[0]}),s=Vv(a),l=s.startAngle,u=s.endAngle,c=s.radius,h=s.innerRadius,g=Vv(i.attr("path")),w=g.startAngle,L=g.endAngle,D=n.getCenter(),N=l-w,H=u-L;i.animate(function(X){var mt=w+X*N,xt=L+X*H;return(0,Q.__assign)((0,Q.__assign)({},e),{path:(0,f.isEqual)(o,["M","A","A","Z"])?Jn(D.x,D.y,c,mt,xt):Mn(D.x,D.y,c,mt,xt,h)})},(0,Q.__assign)((0,Q.__assign)({},r),{callback:function(){i.attr("path",a)}}))}function n2(i,r,t){var e=Jt(t.coordinate,20),n=e.type,a=e.startState,o=e.endState,s=i.setClip({type:n,attrs:a});s.animate(o,(0,Q.__assign)((0,Q.__assign)({},r),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),s.remove(!0)}}))}function Lf(i,r,t){if(i.isGroup())(0,f.each)(i.getChildren(),function(s){Lf(s,r,t)});else{var e=i.getBBox(),n=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(i.applyToMatrix([n,a,1]),t==="zoomIn"){var o=sr.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(o),i.animate({matrix:sr.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},r)}else i.animate({matrix:sr.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,Q.__assign)((0,Q.__assign)({},r),{callback:function(){i.remove(!0)}}))}}function i2(i,r,t){Lf(i,r,"zoomIn")}function a2(i,r,t){Lf(i,r,"zoomOut")}function ro(i){return[It.TOP,It.BOTTOM].includes(i)?{offsetX:0,offsetY:i===It.TOP?-8:8,style:{textAlign:"center",textBaseline:i===It.TOP?"bottom":"top"}}:[It.LEFT,It.RIGHT].includes(i)?{offsetX:i===It.LEFT?-8:8,offsetY:0,style:{textAlign:i===It.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function _f(i,r,t){return{x:i.x+r*Math.cos(t),y:i.y+r*Math.sin(t)}}var o2=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*e,l=n/(1+1/Math.sin(o/2)),u=_f(a,n-l,s),c=Math.PI*5/4,h=Math.PI*1/4;return{start:_f(u,l,c),end:_f(u,l,h)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length,c=[];return l.forEach(function(h,g){var w=[{field:s,value:h,values:l}],L=(0,f.filter)(t,e.getFacetDataFilter(w)),D={type:o,data:L,region:e.getRegion(u,g),columnValue:h,columnField:s,columnIndex:g,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};c.push(D)}),c},r.prototype.getXAxisOption=function(t,e,n,a){return n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},ro(It.TOP),t.cfg.title);a.annotation().text(s)})},r}(Wr),s2=o2,l2=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length;a=a||l;var u=this.getPageCount(l,a),c=[];return s.forEach(function(h,g){var w=e.getRowCol(g,a),L=w.row,D=w.col,N=[{field:o,value:h,values:s}],H=(0,f.filter)(t,e.getFacetDataFilter(N)),X={type:e.cfg.type,data:H,region:e.getRegion(u,a,D,L),columnValue:h,rowValue:h,columnField:o,rowField:null,columnIndex:D,rowIndex:L,columnValuesLength:a,rowValuesLength:u,total:l};c.push(X)}),c},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,Q.__assign)((0,Q.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,Q.__assign)((0,Q.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},ro(It.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),a=t%e;return{row:n,col:a}},r}(Wr),u2=l2,f2=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,Q.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,Q.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,a=e.type,o=n.length,s=o,l=[],u=0;u<s;u++)for(var c=n[u],h=0;h<o;h++){var g=n[h],w={type:a,data:t,region:this.getRegion(o,s,u,h),columnValue:c,rowValue:g,columnField:c,rowField:g,columnIndex:u,rowIndex:h,columnValuesLength:s,rowValuesLength:o};l.push(w)}return l},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,Q.__assign)((0,Q.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,Q.__assign)((0,Q.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.rowValuesLength,u=e.columnValue,c=e.rowValue,h=e.view;if(o===0){var g=(0,f.get)(t.cfg.columnTitle,"formatter"),w=(0,f.deepMix)({position:["50%","0%"],content:g?g(u):u},ro(It.TOP),t.cfg.columnTitle);h.annotation().text(w)}if(a===s-1){var g=(0,f.get)(t.cfg.rowTitle,"formatter"),w=(0,f.deepMix)({position:["100%","50%"],content:g?g(c):c},ro(It.RIGHT),t.cfg.rowTitle);h.annotation().text(w)}})},r}(Wr),c2=f2,h2=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields[0],a=[],o=1,s=1,l=[""],u=[""],c,h;return this.cfg.transpose?(c=n,l=this.getFieldValues(t,c).slice(0,2),o=l.length):(h=n,u=this.getFieldValues(t,h).slice(0,2),s=u.length),l.forEach(function(g,w){u.forEach(function(L,D){var N=[{field:c,value:g,values:l},{field:h,value:L,values:u}],H=(0,f.filter)(t,e.getFacetDataFilter(N)),X={type:e.cfg.type,data:H,region:e.getRegion(s,o,w,D),columnValue:g,rowValue:L,columnField:c,rowField:h,columnIndex:w,rowIndex:D,columnValuesLength:o,rowValuesLength:s};a.push(X)})}),a},r.prototype.getXAxisOption=function(t,e,n,a){return a.columnIndex===1||a.rowIndex===1?(0,Q.__assign)((0,Q.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnValue,o=e.rowValue,s=e.view,l=(0,f.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var u=(0,f.deepMix)({position:["50%","0%"],content:l?l(a):a},ro(It.TOP),t.cfg.title);s.annotation().text(u)}else{var u=(0,f.deepMix)({position:["100%","50%"],content:l?l(o):o},ro(It.RIGHT),t.cfg.title);s.annotation().text(u)}})},r}(Wr),v2=h2,d2=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,Q.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,Q.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],l=1,u=1,c=[""],h=[""];return a&&(c=this.getFieldValues(t,a),l=c.length),o&&(h=this.getFieldValues(t,o),u=h.length),c.forEach(function(g,w){h.forEach(function(L,D){var N=[{field:a,value:g,values:c},{field:o,value:L,values:h}],H=(0,f.filter)(t,e.getFacetDataFilter(N)),X={type:e.cfg.type,data:H,region:e.getRegion(u,l,w,D),columnValue:g,rowValue:L,columnField:a,rowField:o,columnIndex:w,rowIndex:D,columnValuesLength:l,rowValuesLength:u};s.push(X)})}),s},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.columnValue,u=e.rowValue,c=e.view;if(o===0){var h=(0,f.get)(t.cfg.columnTitle,"formatter"),g=(0,f.deepMix)({position:["50%","0%"],content:h?h(l):l},ro(It.TOP),t.cfg.columnTitle);c.annotation().text(g)}if(a===s-1){var h=(0,f.get)(t.cfg.rowTitle,"formatter"),g=(0,f.deepMix)({position:["100%","50%"],content:h?h(u):u},ro(It.RIGHT),t.cfg.rowTitle);c.annotation().text(g)}})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,Q.__assign)((0,Q.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,Q.__assign)((0,Q.__assign)({},n),{title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,Q.__assign)((0,Q.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,Q.__assign)((0,Q.__assign)({},n),{title:null}):n},r}(Wr),p2=d2,g2=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){i.prototype.init.call(this),this.view.on($t.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(n){n.region=e.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},r.prototype.getRegion=function(t,e,n,a){var o=1/e,s=1/t,l={x:o*n,y:s*a},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},r.prototype.forceColIndex=function(t){var e=this,n=[],a=0;t.forEach(function(g){e.isLeaf(g)&&(n.push(g),g.columnIndex=a,a++)}),n.forEach(function(g){g.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(t,s),u=0,c=l;u<c.length;u++){var h=c[u];this.isLeaf(h)||(h.originColIndex=h.columnIndex,h.columnIndex=this.getRegionIndex(h.children),h.columnValuesLength=n.length)}},r.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(a){a.rowIndex===e&&n.push(a)}),n},r.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<e)){var l=[],u=o[e-1],c=this.getFieldValues(t,u);return c.forEach(function(h,g){var w=[{field:u,value:h,values:c}],L=t.filter(a.getFacetDataFilter(w));if(L.length){var D={type:a.cfg.type,data:L,region:null,columnValue:h,rowValue:"",columnField:u,rowField:"",columnIndex:g,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(L,e+1,n)};l.push(D),n.push(D)}}),l}},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},ro(It.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(n){if(!e.isLeaf(n)){var a=n.children;e.addFacetLines(n,a)}})},r.prototype.addFacetLines=function(t,e){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(l){var u=l.view.coordinateBBox,c={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},h={x:s.x,y:s.y+(c.y-s.y)/2},g={x:c.x,y:h.y};n.drawLine([s,h,g,c])})},r.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?e.push(["M",a.x,a.y]):e.push(["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,f.assign)({path:e},n)})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,Q.__assign)((0,Q.__assign)({},n),{title:null,label:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,Q.__assign)((0,Q.__assign)({},n),{title:null,label:null}):n},r}(Wr),y2=g2,m2=function(i){(0,Q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(vt.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(vt.BG).addGroup(),e.option=[],e}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){var t=this,e=this.getComponents(),n=function(o){var s=o.component,l=o.extra,u=l.type,c=t.getAnnotationTheme(u);s.update(t.getAnnotationCfg(u,l,c))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};e.length?(0,f.each)(e,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once($t.AFTER_RENDER,function(){n(o)}):n(o)}):(0,f.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once($t.AFTER_RENDER,function(){a(o)}):a(o)})},r.prototype.render=function(){},r.prototype.update=function(){var t=this,e=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),l=t.getAnnotationCfg(o,a,s),u=t.cache.get(a);if(u)G(l,["container"]),u.component.update(l),e.set(a,!0);else{var c=t.createAnnotation(a);c&&(c.component.init(),a.type==="regionFilter"&&c.component.render(),t.cache.set(a,c),e.set(a,!0))}};this.view.once($t.AFTER_RENDER,function(){(0,f.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){e.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,f.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},r.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.createAnnotation=function(t){var e=t.type,n=ye.Annotation[(0,f.upperFirst)(e)];if(n){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?vt.FORE:vt.BG,direction:It.NONE,type:Qt.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,Q.__assign)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,Q.__assign)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,Q.__assign)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,Q.__assign)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,Q.__assign)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,Q.__assign)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,Q.__assign)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,Q.__assign)({type:"regionFilter"},t))},r.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,f.isFunction)(t)?t.call(null,e,n):t,o=0,s=0;if((0,f.isArray)(a)){var l=a[0],u=a[1];if((0,f.isString)(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(l,e),s=this.getNormalizedValue(u,Object.values(n)[0])}else if(!(0,f.isNil)(a))for(var c=0,h=(0,f.keys)(a);c<h.length;c++){var g=h[c],w=a[g];g===e.field&&(o=this.getNormalizedValue(w,e)),n[g]&&(s=this.getNormalizedValue(w,n[g]))}return this.view.getCoordinate().convert({x:o,y:s})},r.prototype.getRegionPoints=function(t,e){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),c=(0,f.isArray)(t)?t[0]:t[l],h=(0,f.isArray)(e)?e[0]:e[l],g=[],w;return(0,f.each)(u,function(L,D){if(L[l]===c&&(w=D),D>=w){var N=n.parsePosition([L[l],L[s.field]]);N&&g.push(N)}if(L[l]===h)return!1}),g},r.prototype.getNormalizedValue=function(t,e){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(a);break}case"min":case"max":e.isCategory?a=t==="min"?0:e.values.length-1:a=e[t],n=e.scale(a);break;default:n=e.scale(t)}return n},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=a.getWidth()*e+l.x,c=a.getHeight()*n+l.y;return{x:u,y:c}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,e,n){var a=this.view.getCoordinate(),o={};if((0,f.isNil)(e))return null;if(t==="arc"){var s=e,l=s.start,u=s.end,c=this.parsePosition(l),h=this.parsePosition(u),g=Wt(a,c),w=Wt(a,h);g>w&&(w=Math.PI*2+w),o={center:a.getCenter(),radius:Ct(a,c),startAngle:g,endAngle:w}}else if(t==="image"){var L=e,l=L.start,u=L.end;o={start:this.parsePosition(l),end:this.parsePosition(u),src:e.src}}else if(t==="line"){var D=e,l=D.start,u=D.end;o={start:this.parsePosition(l),end:this.parsePosition(u),text:(0,f.get)(e,"text",null)}}else if(t==="region"){var N=e,l=N.start,u=N.end;o={start:this.parsePosition(l),end:this.parsePosition(u)}}else if(t==="text"){var H=this.view.getData(),X=e,mt=X.position,xt=X.content,Pt=(0,Q.__rest)(X,["position","content"]),Ht=xt;(0,f.isFunction)(xt)&&(Ht=xt(H)),o=(0,Q.__assign)((0,Q.__assign)((0,Q.__assign)({},this.parsePosition(mt)),Pt),{content:Ht})}else if(t==="dataMarker"){var te=e,mt=te.position,oe=te.point,qt=te.line,we=te.text,Ie=te.autoAdjust,Pe=te.direction;o=(0,Q.__assign)((0,Q.__assign)({},this.parsePosition(mt)),{coordinateBBox:this.getCoordinateBBox(),point:oe,line:qt,text:we,autoAdjust:Ie,direction:Pe})}else if(t==="dataRegion"){var Ke=e,l=Ke.start,u=Ke.end,ar=Ke.region,we=Ke.text,rr=Ke.lineLength;o={points:this.getRegionPoints(l,u),region:ar,text:we,lineLength:rr}}else if(t==="regionFilter"){var Mr=e,l=Mr.start,u=Mr.end,Ar=Mr.apply,Pr=Mr.color,xr=this.view.geometries,br=[],Xr=function(Hr){!Hr||(Hr.isGroup()?Hr.getChildren().forEach(function(an){return Xr(an)}):br.push(Hr))};(0,f.each)(xr,function(Hr){Ar?(0,f.contains)(Ar,Hr.type)&&(0,f.each)(Hr.elements,function(an){Xr(an.shape)}):(0,f.each)(Hr.elements,function(an){Xr(an.shape)})}),o={color:Pr,shapes:br,start:this.parsePosition(l),end:this.parsePosition(u)}}var zr=(0,f.deepMix)({},n,(0,Q.__assign)((0,Q.__assign)({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return zr.container=this.getComponentContainer(zr),zr.animate=this.view.getOptions().animate&&zr.animate&&(0,f.get)(e,"animate",zr.animate),zr.animateOption=(0,f.deepMix)({},Zo,zr.animateOption,e.animateOption),zr},r.prototype.isTop=function(t){return(0,f.get)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,f.get)(this.view.getTheme(),["components","annotation",t],{})},r}(Uo),x2=m2;function Xv(i,r){return(0,f.get)(i,["components","axis",r,"grid"],{})}function bl(i,r,t,e){var n=[],a=r.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(e)n.push({points:[i.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),i.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var c=o.value,h=(c+u)/2;n.push({points:[i.convert(t==="y"?{x:0,y:h}:{x:h,y:0}),i.convert(t==="y"?{x:1,y:h}:{x:h,y:1})]})}return s},a[0]),n}function Df(i,r,t,e,n){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var c=l?l.value:u.value,h=u.value,g=(c+h)/2;return n==="x"?o.push({points:[i.convert({x:e?h:g,y:0}),i.convert({x:e?h:g,y:1})]}):o.push({points:(0,f.map)(Array(a+1),function(w,L){return i.convert({x:L/a,y:e?h:g})})}),u},s[0]),o}function Hv(i,r){var t=(0,f.get)(r,"grid");if(t===null)return!1;var e=(0,f.get)(i,"grid");return!(t===void 0&&e===null)}var po=["container"],Wv=(0,Q.__assign)((0,Q.__assign)({},Zo),{appear:null}),b2=function(i){(0,Q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(vt.BG).addGroup(),e.axisContainer=e.view.getLayer(vt.BG).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,f.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,u=l.dim,c=l.scale,h=l.alignTick,g;if(s===Qt.AXIS)e.isPolar?u==="x"?g=e.isTransposed?tr(e,o):Nr(e):u==="y"&&(g=e.isTransposed?Nr(e):tr(e,o)):g=tr(e,o);else if(s===Qt.GRID)if(e.isPolar){var w=void 0;e.isTransposed?w=u==="x"?Df(e,t.view.getYScales()[0],c,h,u):bl(e,c,u,h):w=u==="x"?bl(e,c,u,h):Df(e,t.view.getXScale(),c,h,u),g={items:w,center:t.view.getCoordinate().getCenter()}}else g={items:bl(e,c,u,h)};a.update(g)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(n,a){t.has(a)?e.set(a,n):n.component.destroy()}),this.cache=e},r.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(!(!e||e.isIdentity)){var n=ir(this.option,e.field);if(n!==!1){var a=wr(n,It.BOTTOM),o=vt.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",e.field),c=this.getId("grid",e.field);if(l.isRect){var h=this.cache.get(u);if(h){var g=this.getLineAxisCfg(e,n,a);G(g,po),h.component.update(g),t.set(u,h)}else h=this.createLineAxis(e,n,o,a,s),this.cache.set(u,h),t.set(u,h);var w=this.cache.get(c);if(w){var g=this.getLineGridCfg(e,n,a,s);G(g,po),w.component.update(g),t.set(c,w)}else w=this.createLineGrid(e,n,o,a,s),w&&(this.cache.set(c,w),t.set(c,w))}else if(l.isPolar){var h=this.cache.get(u);if(h){var g=l.isTransposed?this.getLineAxisCfg(e,n,It.RADIUS):this.getCircleAxisCfg(e,n,a);G(g,po),h.component.update(g),t.set(u,h)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;h=this.createLineAxis(e,n,o,It.RADIUS,s)}else h=this.createCircleAxis(e,n,o,a,s);this.cache.set(u,h),t.set(u,h)}var w=this.cache.get(c);if(w){var g=l.isTransposed?this.getCircleGridCfg(e,n,It.RADIUS,s):this.getLineGridCfg(e,n,It.CIRCLE,s);G(g,po),w.component.update(g),t.set(c,w)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;w=this.createCircleGrid(e,n,o,It.RADIUS,s)}else w=this.createLineGrid(e,n,o,It.CIRCLE,s);w&&(this.cache.set(c,w),t.set(c,w))}}}}},r.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,f.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=ir(e.option,s);if(l!==!1){var u=vt.BG,c="y",h=e.getId("axis",s),g=e.getId("grid",s),w=e.view.getCoordinate();if(w.isRect){var L=wr(l,o===0?It.LEFT:It.RIGHT),D=e.cache.get(h);if(D){var N=e.getLineAxisCfg(a,l,L);G(N,po),D.component.update(N),t.set(h,D)}else D=e.createLineAxis(a,l,u,L,c),e.cache.set(h,D),t.set(h,D);var H=e.cache.get(g);if(H){var N=e.getLineGridCfg(a,l,L,c);G(N,po),H.component.update(N),t.set(g,H)}else H=e.createLineGrid(a,l,u,L,c),H&&(e.cache.set(g,H),t.set(g,H))}else if(w.isPolar){var D=e.cache.get(h);if(D){var N=w.isTransposed?e.getCircleAxisCfg(a,l,It.CIRCLE):e.getLineAxisCfg(a,l,It.RADIUS);G(N,po),D.component.update(N),t.set(h,D)}else{if(w.isTransposed){if((0,f.isUndefined)(l))return;D=e.createCircleAxis(a,l,u,It.CIRCLE,c)}else D=e.createLineAxis(a,l,u,It.RADIUS,c);e.cache.set(h,D),t.set(h,D)}var H=e.cache.get(g);if(H){var N=w.isTransposed?e.getLineGridCfg(a,l,It.CIRCLE,c):e.getCircleGridCfg(a,l,It.RADIUS,c);G(N,po),H.component.update(N),t.set(g,H)}else{if(w.isTransposed){if((0,f.isUndefined)(l))return;H=e.createLineGrid(a,l,u,It.CIRCLE,c)}else H=e.createCircleGrid(a,l,u,It.RADIUS,c);H&&(e.cache.set(g,H),t.set(g,H))}}}}})},r.prototype.createLineAxis=function(t,e,n,a,o){var s={component:new We(this.getLineAxisCfg(t,e,a)),layer:n,direction:a===It.RADIUS?It.NONE:a,type:Qt.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,e,n,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var l={component:new ae(s),layer:n,direction:It.NONE,type:Qt.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,e,n,a,o){var s={component:new De(this.getCircleAxisCfg(t,e,a)),layer:n,direction:a,type:Qt.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,e,n,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var l={component:new Yt(s),layer:n,direction:It.NONE,type:Qt.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=tr(o,n),l=Zr(t,e),u=_r(this.view.getTheme(),n),c=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,h=(0,f.deepMix)((0,Q.__assign)((0,Q.__assign)({container:a},s),{ticks:t.getTicks().map(function(mt){return{id:""+mt.tickValue,name:mt.text,value:mt.value}}),verticalFactor:o.isPolar?Tr(s,o.getCenter())*-1:Tr(s,o.getCenter())}),u,c),g=this.getAnimateCfg(h),w=g.animate,L=g.animateOption;h.animateOption=L,h.animate=w;var D=hr(s),N=(0,f.get)(h,"verticalLimitLength",D?1/3:1/2);if(N<=1){var H=this.view.getCanvas().get("width"),X=this.view.getCanvas().get("height");h.verticalLimitLength=N*(D?H:X)}return h},r.prototype.getLineGridCfg=function(t,e,n,a){if(!!Hv(_r(this.view.getTheme(),n),e)){var o=Xv(this.view.getTheme(),n),s=(0,f.deepMix)({container:this.gridContainer},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e));return s.items=bl(this.view.getCoordinate(),t,a,(0,f.get)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(D){return{id:""+D.tickValue,name:D.text,value:D.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=Zr(t,e),u=_r(this.view.getTheme(),It.CIRCLE),c=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,h=(0,f.deepMix)((0,Q.__assign)((0,Q.__assign)({container:a},Nr(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),u,c),g=this.getAnimateCfg(h),w=g.animate,L=g.animateOption;return h.animate=w,h.animateOption=L,h},r.prototype.getCircleGridCfg=function(t,e,n,a){if(!!Hv(_r(this.view.getTheme(),n),e)){var o=Xv(this.view.getTheme(),It.RADIUS),s=(0,f.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e)),l=(0,f.get)(s,"alignTick",!0),u=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=Df(this.view.getCoordinate(),u,t,l,a),s}},r.prototype.getId=function(t,e){var n=this.view.getCoordinate();return t+"-"+e+"-"+n.type},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,f.get)(t,"animate"),animateOption:t&&t.animateOption?(0,f.deepMix)({},Wv,t.animateOption):Wv}},r}(Uo),w2=b2;function wl(i,r,t){return t===It.TOP?[i.minX+i.width/2-r.width/2,i.minY]:t===It.BOTTOM?[i.minX+i.width/2-r.width/2,i.maxY-r.height]:t===It.LEFT?[i.minX,i.minY+i.height/2-r.height/2]:t===It.RIGHT?[i.maxX-r.width,i.minY+i.height/2-r.height/2]:t===It.TOP_LEFT||t===It.LEFT_TOP?[i.tl.x,i.tl.y]:t===It.TOP_RIGHT||t===It.RIGHT_TOP?[i.tr.x-r.width,i.tr.y]:t===It.BOTTOM_LEFT||t===It.LEFT_BOTTOM?[i.bl.x,i.bl.y-r.height]:t===It.BOTTOM_RIGHT||t===It.RIGHT_BOTTOM?[i.br.x-r.width,i.br.y-r.height]:[0,0]}function S2(i,r){if(r.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function jv(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function Uv(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function C2(i,r){var t=r.matrix[0],e=r.matrix[4],n=i;return t<0&&(n=jv(n)),e<0&&(n=Uv(n)),n}function M2(i,r){var t=i;return r.isReflect("x")&&(t=jv(t)),r.isReflect("y")&&(t=Uv(t)),t}function r7(i,r){var t=i;return t=S2(t,r),t=C2(t,r),t=M2(t,r),t}function Zv(i,r,t){if(!i)return t;var e;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");e=i.mapping.apply(i,(0,Q.__spreadArrays)([r],n)).join("")}else e=i.mapping(r).join("");return e||t}function Qv(i){var r=i.symbol;(0,f.isString)(r)&&_o[r]&&(i.symbol=_o[r])}function Bf(i){return i.startsWith(It.LEFT)||i.startsWith(It.RIGHT)?"vertical":"horizontal"}function E2(i,r,t,e,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),u=i.getTheme().defaultColor,c=r.coordinate.isPolar;return a.getTicks().map(function(h){var g,w=h.text,L=h.value,D=w,N=a.invert(L),H=i.filterFieldData(o,[(g={},g[o]=N,g)]).length===0,X=Zv(s,N,u),mt=Zv(l,N,"point"),xt=r.getShapeMarker(mt,{color:X,isInPolar:c});return xt=(0,f.deepMix)({},e,xt,n),Qv(xt),{id:N,name:D,value:N,marker:xt,unchecked:H}})}return[]}function A2(i,r,t){return t.map(function(e){var n=(0,f.deepMix)({},i,r,e.marker);return Qv(n),e.marker=n,e})}function Kv(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r],i)}function Ms(i){return(0,f.get)(i,"position",It.BOTTOM)}var T2=function(i){(0,Q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.container=e.view.getLayer(vt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var e=function(s,l,u){var c=t.createFieldLegend(s,l,u);c&&(c.component.init(),t.components.push(c))};if((0,f.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=vt.FORE,o=Ms(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:Qt.LEGEND,extra:void 0})}}else this.loopLegends(e)},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var e=(0,f.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,f.each)(this.components,function(n){var a=n.component,o=n.direction,s=Bf(o),l=t.getCategoryLegendSizeCfg(s),u=a.get("maxWidth"),c=a.get("maxHeight");a.update({maxWidth:Math.min(l.maxWidth,u||0),maxHeight:Math.min(l.maxHeight,c||0)});var h=a.getLayoutBBox(),g=new Yr(h.x,h.y,h.width,h.height),w=wl(t.view.viewBBox,g,o),L=w[0],D=w[1],N=wl(t.layoutBBox,g,o),H=N[0],X=N[1],mt=0,xt=0;o.startsWith("top")||o.startsWith("bottom")?(mt=L,xt=X):(mt=H,xt=D),o.indexOf("left")>=0&&(mt+=e[3]),o.indexOf("right")>=0&&(mt-=e[1]),o.indexOf("top")>=0&&(xt+=e[0]),o.indexOf("bottom")>=0&&(xt-=e[2]),a.update({x:mt,y:xt}),t.layoutBBox=t.layoutBBox.cut(g,o)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},n=function(g,w,L){var D=t.getId(L.field),N=t.getComponentById(D);if(N){var H=void 0,X=Kv(t.option,L.field);X!==!1&&((0,f.get)(X,"custom")?H=t.getCategoryCfg(g,w,L,X,!0):L.isLinear?H=t.getContinuousCfg(g,w,L,X):L.isCategory&&(H=t.getCategoryCfg(g,w,L,X))),H&&(G(H,["container"]),N.direction=Ms(X),N.component.update(H),e[D]=!0)}else{var mt=t.createFieldLegend(g,w,L);mt&&(mt.component.init(),t.components.push(mt),e[D]=!0)}};if((0,f.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);G(s,["container"]),o.component.update(s),e[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=vt.FORE,c=Ms(this.option);this.components.push({id:a,component:l,layer:u,direction:c,type:Qt.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(n);var h=[];(0,f.each)(this.getComponents(),function(g){e[g.id]?h.push(g):g.component.destroy()}),this.components=h},r.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,f.each)(t.views,function(a){n=n.concat(e.getGeometries(a))}),n},r.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(!!e){var n=this.getGeometries(this.view),a={};(0,f.each)(n,function(o){var s=o.getGroupAttributes();(0,f.each)(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||a[u.field]||(t(o,l,u),a[u.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,n){var a,o=Kv(this.option,n.field),s=vt.FORE,l=Ms(o);if(o!==!1&&((0,f.get)(o,"custom")?a=this.createCustomLegend(t,e,n,o):n.isLinear?a=this.createContinuousLegend(t,e,n,o):n.isCategory&&(a=this.createCategoryLegend(t,e,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:Qt.LEGEND,extra:{scale:n}}},r.prototype.createCustomLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a,!0);return new st(o)},r.prototype.createContinuousLegend=function(t,e,n,a){var o=this.getContinuousCfg(t,e,n,a);return new gt(o)},r.prototype.createCategoryLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a);return new st(o)},r.prototype.getContinuousCfg=function(t,e,n,a){var o=n.getTicks(),s=(0,f.find)(o,function(D){return D.value===0}),l=(0,f.find)(o,function(D){return D.value===1}),u=o.map(function(D){var N=D.value,H=D.tickValue,X=e.mapping(n.invert(N)).join("");return{value:H,attrValue:X,color:X,scaleValue:N}});s||u.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),l||u.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),u.sort(function(D,N){return D.value-N.value});var c={min:(0,f.head)(u).value,max:(0,f.last)(u).value,colors:[],rail:{type:e.type},track:{}};e.type==="size"&&(c.track={style:{fill:e.type==="size"?this.view.getTheme().defaultColor:void 0}}),e.type==="color"&&(c.colors=u.map(function(D){return D.attrValue}));var h=this.container,g=Ms(a),w=Bf(g),L=(0,f.get)(a,"title");return L&&(L=(0,f.deepMix)({text:xe(n)},L)),c.container=h,c.layout=w,c.title=L,c.animateOption=Zo,this.mergeLegendCfg(c,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,n,a,o){var s=this.container,l=(0,f.get)(a,"position",It.BOTTOM),u=(0,f.get)(this.view.getTheme(),["components","legend",l,"marker"]),c=(0,f.get)(a,"marker"),h=Bf(l),g=o?A2(u,c,a.items):E2(this.view,t,e,u,c),w=(0,f.get)(a,"title");w&&(w=(0,f.deepMix)({text:n?xe(n):""},w));var L=this.getCategoryLegendSizeCfg(h);L.container=s,L.layout=h,L.items=g,L.title=w,L.animateOption=Zo;var D=this.mergeLegendCfg(L,a,l);D.reversed&&D.items.reverse();var N=(0,f.get)(D,"maxItemWidth");return N&&N<=1&&(D.maxItemWidth=this.view.viewBBox.width*N),D},r.prototype.mergeLegendCfg=function(t,e,n){var a=n.split("-")[0],o=(0,f.get)(this.view.getTheme(),["components","legend",a],{});return(0,f.deepMix)({},o,t,e)},r.prototype.getId=function(t){return this.name+"-"+t},r.prototype.getComponentById=function(t){return(0,f.find)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,a=e.height;return t==="vertical"?{maxWidth:n*At,maxHeight:a}:{maxWidth:n,maxHeight:a*At}},r}(Uo),P2=T2,O2=function(i){(0,Q.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.onValueChanged=function(n){var a=n[0],o=n[1];e.updateMinMaxText(a,o),e.view.render(!0)},e.container=e.view.getLayer(vt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new Yr(e.x,e.y,Math.min(e.width,t),e.height),a=wl(this.view.viewBBox,n,It.BOTTOM),o=a[0],s=a[1],l=wl(this.view.coordinateBBox,n,It.BOTTOM),u=l[0],c=l[1];this.slider.component.update({x:u,y:s,width:t})}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new ye.Slider((0,Q.__assign)({container:this.container},t));return e.init(),{component:e,layer:vt.FORE,direction:It.BOTTOM,type:Qt.OTHER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();return G(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},r.prototype.getSliderCfg=function(){if((0,f.isObject)(this.option)){var t=(0,Q.__assign)({data:this.getData()},(0,f.get)(this.option,"trendCfg",{})),e=0,n=0,a=this.view.coordinateBBox.width,o=(0,f.deepMix)({},{x:e,y:n,width:a},this.option);return(0,Q.__assign)((0,Q.__assign)({},o),{trendCfg:t})}return{}},r.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(l,u){return u[o]===s[0]&&l.push(u[e.field]),l},[])}return t.map(function(l){return l[e.field]||0})},r.prototype.updateMinMaxText=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,f.size)(n);if(!(!a||!o)){var s=a.field,l=n.reduce(function(D,N){return D.includes(N[s])||D.push(N[s]),D},[]),u=(0,f.size)(l),c=Math.floor(t*(u-1)),h=Math.floor(e*(u-1)),g=(0,f.get)(l,[c]),w=(0,f.get)(l,[h]),L=this.getSliderCfg().formatter;L&&(g=L(g,n[c],c),w=L(w,n[h],h)),this.slider.component.update({minText:g,maxText:w,start:t,end:e}),this.view.filter(a.field,function(D,N){var H=l.indexOf(D);return H>-1?Pi(H,c,h):!0})}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r}(Uo),I2=O2;function k2(i){for(var r=[],t=function(n){var a=i[n],o=(0,f.find)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},e=0;e<i.length;e++)t(e);return r}var L2=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};e.emit("tooltip:show",(0,Q.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,c=s.showCrosshairs,h=s.showContent,g=s.marker,w=this.items,L=this.title;if(!(0,f.isEqual)(L,a)||!(0,f.isEqual)(w,n)?(e.emit("tooltip:change",(0,Q.__assign)({items:n,title:a},t)),h&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,f.mix)({},s,{items:n,title:a},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(n,g)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,c){var D=(0,f.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(D?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){e=(0,f.flatten)(e);for(var n=0,a=e;n<a.length;n++)for(var o=a[n],s=0,l=o;s<l.length;s++){var u=l[s],c=u.mappingData,h=c.x,g=c.y;u.x=(0,f.isArray)(h)?h[h.length-1]:h,u.y=(0,f.isArray)(g)?g[g.length-1]:g}var w=this.getTooltipCfg().shared;if(w===!1&&e.length>1){for(var L=e[0],D=Math.abs(t.y-L[0].y),N=0,H=e;N<H.length;N++){var X=H[N],mt=Math.abs(t.y-X[0].y);mt<=D&&(L=X,D=mt)}e=[L]}return k2((0,f.flatten)(e))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),a=(0,f.get)(n,["components","tooltip"],{}),o=(0,f.isUndefined)((0,f.get)(e,"enterable"))?a.enterable:(0,f.get)(e,"enterable");return(0,f.deepMix)({},a,e,{capture:!!(o||this.isLocked)})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new kt((0,Q.__assign)((0,Q.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,u=s.y,c=(0,Q.__assign)((0,Q.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:l,y:u});n.addShape("marker",{attrs:c})}},r.prototype.renderCrosshairs=function(t,e){var n=(0,f.get)(e,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):n==="xy"&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!_t(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=Wt(n,t),l=n.getCenter(),u=n.getRadius();o=dn(l.x,l.y,u,s),a=l}var c=(0,f.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete c.type;var h=this.xCrosshair;h?h.update(c):(h=new ye.Crosshair.Line(c),h.init()),h.render(),h.show(),this.xCrosshair=h}},r.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!_t(n,t)){var a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:Ct(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,f.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete a.type;var u=this.yCrosshair;u?n.isRect&&u.get("type")==="circle"||!n.isRect&&u.get("type")==="line"?(u=new ye.Crosshair[o](a),u.init()):u.update(a):(u=new ye.Crosshair[o](a),u.init()),u.render(),u.show(),this.yCrosshair=u}},r.prototype.getCrosshairsText=function(t,e,n){var a=(0,f.get)(n,["crosshairs","text"]),o=(0,f.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],c=l.getXScale(),h=l.getYScales()[0],g=void 0,w=void 0;if(o){var L=this.view.getCoordinate().invert(e);g=c.invert(L.x),w=h.invert(L.y)}else g=u.data[c.field],w=u.data[h.field];var D=t==="x"?g:w;return(0,f.isFunction)(a)?a=a(t,D,s,e):a.content=D,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.getTooltipItemsByHitShape=function(t,e,n){var a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=An(l,t,n);u.length&&a.push(u)}return a},r.prototype.getTooltipItemsByFindData=function(t,e,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,l=o;s<l.length;s++){var u=l[s],c=rn(e,u,t);if(c){var h=t.getElementId(c),g=t.elementsMap[h];if(t.type==="heatmap"||g.visible){var w=An(c,t,n);w.length&&a.push(w)}}}return a},r.prototype.findItemsFromView=function(t,e){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,l=o.title,u=0,c=a;u<c.length;u++){var h=c[u];if(h.visible&&h.tooltipOption!==!1){var g=h.type,w=void 0;["point","edge","polygon"].includes(g)?w=this.getTooltipItemsByHitShape(h,e,l):["area","line","path","heatmap"].includes(g)?w=this.getTooltipItemsByFindData(h,e,l):s!==!1?w=this.getTooltipItemsByFindData(h,e,l):w=this.getTooltipItemsByHitShape(h,e,l),w.length&&n.push(w)}}for(var L=0,D=t.views;L<D.length;L++){var N=D[L];n=n.concat(this.findItemsFromView(N,e))}return n},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,f.find)(t.views,function(n){return e.getViewWithGeometry(n)})},r}(Uo),_2=L2,D2=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context.view,e=this.context.event,n=t.getTooltipItems({x:e.x,y:e.y});if(!(0,f.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],l=t.geometries;if((0,f.each)(l,function(Ke){if(Ke.type==="interval"||Ke.type==="schema"){var ar=Ke.getElementsBy(function(rr){var Mr=rr.getData();return Mr[a]===o});s=s.concat(ar)}}),s.length){var u=t.getCoordinate(),c=s[0].shape.getCanvasBBox(),h=s[0].shape.getCanvasBBox(),g=c;(0,f.each)(s,function(Ke){var ar=Ke.shape.getCanvasBBox();u.isTransposed?(ar.minY<c.minY&&(c=ar),ar.maxY>h.maxY&&(h=ar)):(ar.minX<c.minX&&(c=ar),ar.maxX>h.maxX&&(h=ar)),g.x=Math.min(ar.minX,g.minX),g.y=Math.min(ar.minY,g.minY),g.width=Math.max(ar.maxX,g.maxX)-g.x,g.height=Math.max(ar.maxY,g.maxY)-g.y});var w=t.backgroundGroup,L=t.coordinateBBox,D=void 0;if(u.isRect){var N=t.getXScale(),H=N.isLinear?0:.25,X=void 0,mt=void 0,xt=void 0,Pt=void 0;u.isTransposed?(X=L.minX,mt=Math.min(h.minY,c.minY)-H*h.height,xt=L.width,Pt=g.height+H*2*h.height):(X=Math.min(c.minX,h.minX)-H*c.width,mt=Math.min(L.minY,c.minY),xt=g.width+H*2*c.width,Pt=L.height),D=[["M",X,mt],["L",X+xt,mt],["L",X+xt,mt+Pt],["L",X,mt+Pt],["Z"]]}else{var Ht=(0,f.head)(s),te=(0,f.last)(s),oe=qn(Ht.getModel(),u).startAngle,qt=qn(te.getModel(),u).endAngle,we=u.getCenter(),Ie=u.getRadius(),Pe=u.innerRadius*Ie;D=Mn(we.x,we.y,Ie,oe,qt,Pe)}this.regionPath?(this.regionPath.attr("path",D),this.regionPath.show()):this.regionPath=w.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:D,fill:"#CCD6EC",opacity:.3}})}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},r}(Le),B2=D2,F2=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,e=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var l=this.location,u={x:e.x,y:e.y};(!l||!(0,f.isEqual)(l,u))&&this.showTooltip(n,u),this.timeStamp=s,this.location=u}}},r.prototype.hide=function(){var t=this.context.view,e=t.isTooltipLocked();e||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(Le),$v=F2,R2=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,e){var n=Ei(t);(0,f.each)(n,function(a){var o=ji(t,a,e);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=Ei(t);(0,f.each)(e,function(n){n.hideTooltip()})},r}($v),N2=R2,G2=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,e=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,f.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,n=e.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,Q.__assign)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},a=t.getTheme(),o=(0,f.get)(a,["components","tooltip","domStyles"],{}),s=new kt({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},r}(Le),Y2=G2,z2=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var e=this,n=ti(t,this.stateName);(0,f.each)(n,function(a){e.setElementState(a,!1)})},r}(Le),Ff=z2;function Jv(i){return(0,f.get)(i.get("delegateObject"),"item")}var V2=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates,a=n.filter(function(o){return e.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,e,n){var a=this.context.view,o=t.get("field"),s=gn(a);this.setElementsStateByItem(s,o,e,n)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,n){var a=this.context.view,o=wa(a,e),s=Mi(t,e);return!(0,f.isNil)(s)&&n.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this;(0,f.each)(t,function(s){o.isMathItem(s,e,n)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var e=Gn(this.context);if(e)Oi(this.context)&&this.setStateByElement(e,t);else{var n=Yn(this.context);if(Fi(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&Jv(s.fromShape)===Jv(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=Gn(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Ff),Rf=V2,X2=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Rf),H2=X2,W2=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},r.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),a=e.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},r.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},r.prototype.linkByElement=function(t){var e=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=Mi(t,a.field);if(!this.cache[o]){var s=aa(n,a.field,o),l=this.linkGroup,u=l.addGroup();this.cache[o]=u;var c=s.length;(0,f.each)(s,function(h,g){if(g<c-1){var w=s[g+1];e.addLinkShape(u,h,w)}})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(!!e){var n=Mi(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},r.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=Gn(t);e&&this.linkByElement(e)},r.prototype.unlink=function(){var t=Gn(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(Le),j2=W2,U2=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(Wi(this.context))t=Ji(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var a={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},o=this.context.view;t=Ri(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=gn(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var n=this,a=this.context.view,o=Ei(a),s=t.map(function(c){return c.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;(0,f.each)(o,function(c){var h=gn(c),g=h.filter(function(w){var L=w.getModel().data;return Va(s,L,l,u)});n.setElementsState(g,e,h)})},r.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,a=Ei(n);Wi(this.context)&&(0,f.each)(a,function(o){var s=gn(o),l=qi(e.context,o,10);l&&l.length?e.setElementsState(l,t,s):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,n){var a=this;(0,f.each)(n,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=Ei(e);(0,f.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(Ff),Nf=U2,Z2=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Nf),Q2=Z2,K2=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var e=Gn(this.context);if(e){if(!Oi(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=Gn(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Ff),Gf=K2,$2=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Gf),J2=$2,Es="inactive",As="active";function Yf(i){var r=gn(i);(0,f.each)(r,function(t){t.hasState(As)&&t.setState(As,!1),t.hasState(Es)&&t.setState(Es,!1)})}function qv(i,r,t){(0,f.each)(i,function(e){r(e)?(e.hasState(Es)&&e.setState(Es,!1),e.setState(As,t)):(e.hasState(As)&&e.setState(As,!1),e.setState(Es,t))})}var Do=he.INACTIVE,no=he.ACTIVE,q2=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=no,t}return r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this,s=function(l){return o.isMathItem(l,e,n)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Do)&&t.setState(Do,!1),t.setState(no,!0)):t.hasState(no)||t.setState(Do,!0)},r.prototype.setHighlightBy=function(t,e,n){var a=this;if(n)(0,f.each)(t,function(l){a.setElementHighlight(l,e)});else{var o=ti(this.context.view,no),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(t,function(l){e(l)&&(l.hasState(no)&&l.setState(no,!1),l.setState(Do,!0))})}},r.prototype.setElementState=function(t,e){var n=this.context.view,a=gn(n);this.setHighlightBy(a,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;Yf(t)},r}(Rf),zf=q2,tM=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=Mi(t,o.field),l=gn(n),u=l.filter(function(c){return Mi(c,o.field)===s});this.setHighlightBy(l,function(c){return u.includes(c)},e)}},r}(zf),eM=tM,rM=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(Do)&&t.setState(Do,!1),t.setState(no,!0)):(t.setState(Do,!0),t.hasState(no)&&t.setState(no,!1))},r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=n.getXScale(),o=Mi(t,a.field),s=gn(n),l=s.filter(function(u){return Mi(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},e)},r.prototype.toggle=function(){var t=Gn(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(zf),nM=rM,iM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){Yf(t)},r.prototype.highlight=function(){this.setState()},r.prototype.setElementsState=function(t,e,n){qv(n,function(a){return t.indexOf(a)>=0},e)},r}(Nf),td=iM,aM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){var n=this.context.view,a=gn(n);qv(a,function(o){return t===o},e)},r.prototype.clear=function(){var t=this.context.view;Yf(t)},r}(Gf),oM=aM,sM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Nf),lM=sM,uM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Rf),fM=uM,cM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Gf),hM=cM,vM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=Yn(this.context),e=null;return Fi(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=Ia(e),a=[];return(0,f.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=wa(a,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return e.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,e,n){var a=t.get("field"),o=this.context.view,s=wa(o,a),l=Mi(e,a),u=s.getText(l);this.setItemsState(t,u,n)},r.prototype.setStateEnable=function(t){var e=this,n=Gn(this.context);if(n){var a=this.getAllowComponents();(0,f.each)(a,function(u){e.setStateByElement(u,n,t)})}else{var o=Yn(this.context);if(Fi(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,e,n){var a=this,o=t.getItems();(0,f.each)(o,function(s){s.name===e&&a.setItemState(t,s,n)})},r.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,a=this.hasState(e,n);this.setItemState(e,n,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(Le),Sl=vM,dM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Sl),pM=dM,ed="inactive",rd="active";function gM(i){var r=i.getItems();(0,f.each)(r,function(t){i.hasState(t,rd)&&i.setItemState(t,rd,!1),i.hasState(t,ed)&&i.setItemState(t,ed,!1)})}var Ts="inactive",Bo="active",yM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=Bo,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(a){return a.name===e},n)},r.prototype.setItemState=function(t,e,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===e},n)},r.prototype.setHighlightBy=function(t,e,n){var a=t.getItems();if(n)(0,f.each)(a,function(l){e(l)?(t.hasState(l,Ts)&&t.setItemState(l,Ts,!1),t.setItemState(l,Bo,!0)):t.hasState(l,Bo)||t.setItemState(l,Ts,!0)});else{var o=t.getItemsByState(Bo),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(a,function(l){e(l)&&(t.hasState(l,Bo)&&t.setItemState(l,Bo,!1),t.setItemState(l,Ts,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)gM(t.list);else{var e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(Bo),n.clearItemsState(Ts)})}},r}(Sl),Vf=yM,mM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Sl),xM=mM,bM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(Sl),wM=bM,SM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,a=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,Q.__assign)({fill:"#C5D4EB",opacity:.3},e)});return n},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y,o=this.points;(0,f.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},r}(Le),Xf=SM,CM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,f.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=Ni(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:n}},r}(Xf),MM=CM,EM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:(0,f.head)(t),end:(0,f.last)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end,a=Math.min(e.x,n.x),o=Math.min(e.y,n.y),s=Math.abs(n.x-e.x),l=Math.abs(n.y-e.y);return{x:a,y:o,width:s,height:l}},r}(Xf),nd=EM;function id(i){i.x=(0,f.clamp)(i.x,0,1),i.y=(0,f.clamp)(i.y,0,1)}var AM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,e=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,f.head)(n)),l=o.invert((0,f.last)(n));return this.inPlot&&(id(s),id(l)),a==="x"?(t=o.convert({x:s.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},r}(nd),ad=AM,TM=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,f.each)(t,function(n,a){a===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(Xf),od=TM,PM=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return xa(t,!0)},r}(od),OM=PM,IM=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(Le),kM=IM,LM=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,f.each)(t.views,function(o){a.filterView(o,e,n)})},r.prototype.filter=function(){var t=Yn(this.context);if(t){var e=this.context.view,n=t.component,a=n.get("field");if(Fi(t)){if(a){var o=n.getItemsByState("unchecked"),s=wa(e,a),l=o.map(function(g){return g.name});l.length?this.filterView(e,a,function(g){var w=s.getText(g);return!l.includes(w)}):this.filterView(e,a,null),e.render(!0)}}else if(gi(t)){var u=n.getValue(),c=u[0],h=u[1];this.filterView(e,a,function(g){return g>=c&&g<=h}),e.render(!0)}}},r}(Le),_M=LM;function sd(i,r,t,e){var n=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),o=i.range,s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var u=i.invert(n),c=i.invert(a);if(i.isCategory){var h=i.values.indexOf(u),g=i.values.indexOf(c),w=i.values.slice(h,g+1);return function(L){return w.includes(L)}}else return function(L){return L>=u&&L<=c}}var DM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(Wi(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context.view,s=o.getCoordinate(),l=s.invert(e),u=s.invert(t);if(this.hasDim("x")){var c=o.getXScale(),h=sd(c,"x",l,u);this.filterView(o,c.field,h)}if(this.hasDim("y")){var g=o.getYScales()[0],h=sd(g,"y",l,u);this.filterView(o,g.field,h)}this.reRender(o)}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},r.prototype.filterView=function(t,e,n){t.filter(e,n)},r.prototype.reRender=function(t){t.render(!0)},r}(Le),Cl=DM,BM=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=Ei(t);(0,f.each)(a,function(o){o.filter(e,n)})},r.prototype.reRender=function(t){var e=Ei(t);(0,f.each)(e,function(n){n.render(!0)})},r}(Cl),Hf=BM,FM=function(i){(0,Q.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filter=function(){var t=Yn(this.context),e=this.context.view,n=gn(e);if(Wi(this.context)){var a=Ji(this.context,10);a&&(0,f.each)(n,function(L){a.includes(L)?L.show():L.hide()})}else if(t){var o=t.component,s=o.get("field");if(Fi(t)){if(s){var l=o.getItemsByState("unchecked"),u=wa(e,s),c=l.map(function(L){return L.name});(0,f.each)(n,function(L){var D=Mi(L,s),N=u.getText(D);c.indexOf(N)>=0?L.hide():L.show()})}}else if(gi(t)){var h=o.getValue(),g=h[0],w=h[1];(0,f.each)(n,function(L){var D=Mi(L,s);D>=g&&D<=w?L.show():L.hide()})}}},r.prototype.clear=function(){var t=gn(this.context.view);(0,f.each)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(Le),RM=FM,NM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){Wi(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=Ji(this.context,10);if(!!e){var n=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(l){return l.getModel().data}),s=Ei(t);(0,f.each)(s,function(l){var u=gn(l);(0,f.each)(u,function(c){var h=c.getModel().data;Va(o,h,n,a)?c.show():c.hide()})})}},r.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=Ei(e);(0,f.each)(n,function(a){var o=qi(t.context,a,10),s=gn(a);o&&(0,f.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=Ei(this.context.view);(0,f.each)(t,function(e){var n=gn(e);(0,f.each)(n,function(a){a.show()})})},r}(Le),ld=NM,GM=10,YM=5,zM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,f.deepMix)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,Q.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=bi(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:(0,Q.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),n=e.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=sr.transform(null,[["t",n.x-o.width-GM,n.y+o.height+YM]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},r}(Le),VM=zM,XM=4,HM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):Ni(t,this.startPoint)>XM&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(Le),WM=HM,jM=5,UM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),n=Ni(t,e);if(n>jM&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=sr.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(Le),ZM=UM,ud="x",fd="y",QM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[ud,fd],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return t==="x"?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(ud),this.resetDim(fd);var t=this.context.view;t.render(!0)},r}(Le),cd=QM,KM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,f.each)(e,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(e),s=n.invert(a),l=s.x-o.x,u=s.y-o.y,c=this.context.view,h=this.dims;(0,f.each)(h,function(g){t.translateDim(g,{x:l*-1,y:u*-1})}),c.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},r.prototype.translateLinear=function(t,e,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,u=l-s,c=n[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:l}),a.scale(e.field,{nice:!1,min:s+c,max:l+c})},r.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(cd),$M=KM,JM=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this,n=this.dims;(0,f.each)(n,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},r.prototype.zoomLinear=function(t,e,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=e.min,u=e.max,c=n*s,h=l-c,g=u+c,w=g-h,L=w/s;g>h&&L<100&&L>.01&&a.scale(e.field,{nice:!1,min:l-c,max:u+c})},r}(cd),qM=JM;Gt("dark",Ir(Gb)),$("canvas",T),$("svg",I),ka("Polygon",cC),ka("Interval",nC),ka("Schema",vC),ka("Path",Ef),ka("Point",lC),ka("Line",aC),ka("Area",ZS),ka("Edge",KS),ka("Heatmap",qS),xs("base",sl),xs("interval",IC),xs("pie",_C),xs("polar",Fv),Oo("overlap",HC),Oo("distribute",BC),Oo("fixed-overlap",XC),Oo("limit-in-shape",GC),Oo("limit-in-canvas",NC),Oo("pie-outer",RC),wi("fade-in",WC),wi("fade-out",jC),wi("grow-in-x",ZC),wi("grow-in-xy",KC),wi("grow-in-y",QC),wi("scale-in-x",qC),wi("scale-in-y",t2),wi("wave-in",n2),wi("zoom-in",i2),wi("zoom-out",a2),wi("position-update",JC),wi("sector-path-update",r2),wi("path-in",$C),ue("rect",p2),ue("mirror",v2),ue("list",u2),ue("matrix",c2),ue("circle",s2),ue("tree",y2),Pn("axis",w2),Pn("legend",P2),Pn("tooltip",_2),Pn("annotation",x2),Pn("slider",I2),lr("tooltip",$v),lr("sibling-tooltip",N2),lr("ellipsis-text",Y2),lr("element-active",H2),lr("element-single-active",J2),lr("element-range-active",Q2),lr("element-highlight",zf),lr("element-highlight-by-x",nM),lr("element-highlight-by-color",eM),lr("element-single-highlight",oM),lr("element-range-highlight",td),lr("element-sibling-highlight",td,{effectSiblings:!0,effectByRecord:!0}),lr("element-selected",fM),lr("element-single-selected",hM),lr("element-range-selected",lM),lr("element-link-by-color",j2),lr("active-region",B2),lr("list-active",pM),lr("list-selected",xM),lr("list-highlight",Vf),lr("list-unchecked",wM),lr("legend-item-highlight",Vf,{componentNames:["legend"]}),lr("axis-label-highlight",Vf,{componentNames:["axis"]}),lr("rect-mask",nd),lr("x-rect-mask",ad,{dim:"x"}),lr("y-rect-mask",ad,{dim:"y"}),lr("circle-mask",MM),lr("path-mask",od),lr("smooth-path-mask",OM),lr("cursor",kM),lr("data-filter",_M),lr("brush",Cl),lr("brush-x",Cl,{dims:["x"]}),lr("brush-y",Cl,{dims:["y"]}),lr("sibling-filter",Hf),lr("sibling-x-filter",Hf),lr("sibling-y-filter",Hf),lr("element-filter",RM),lr("element-sibling-filter",ld),lr("element-sibling-filter-record",ld,{byRecord:!0}),lr("view-drag",WM),lr("view-move",ZM),lr("scale-translate",$M),lr("scale-zoom",qM),lr("reset-button",VM,{name:"reset-button",text:"reset"});function go(i){return i.isInPlot()}Re("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Re("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Re("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Re("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Re("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Re("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Re("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Re("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Re("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Re("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Re("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Re("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Re("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:go,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:go,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:go,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Re("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Re("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:go,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:go,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:go,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Re("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:go,action:"path-mask:start"},{trigger:"mousedown",isEnable:go,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Re("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Re("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),Re("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Re("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Re("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Re("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function hd(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}Re("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return hd(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!hd(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Re("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var vd={translate:lf,rotate:Hh,zoom:kb,transform:ol,getAngle:qn,polarToCartesian:dn},Ml=function(){function i(r){this.EVENT="gesture",this.gm=r}return i.prototype.do=function(r){var t=r.type;switch(t){case"touchstart":this.onTouchStart(r);break;case"touchmove":this.onTouchMove(r);break;case"touchend":this.onTouchEnd(r);break;case"touchcancel":this.onTouchCancel(r);break;default:return}},i.prototype.emit=function(r){this.gm.emit(this.EVENT,r)},i}(),tE=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="pan",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=e-this.preX,o=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:a,deltaY:o,event:t})},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},r}(Ml),yo=typeof performance=="object"&&performance.now?performance:Date,eE=300,dd=10,rE=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="press",t}return r.prototype.onTouchCancel=function(t){this.clearTimeout()},r.prototype.onTouchEnd=function(t){this.clearTimeout()},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>dd||n-this.touchStartY>dd)&&this.clearTimeout()},r.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=yo.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){e.emit({x:n,y:a,event:t})},eE)},r.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},r}(Ml),nE=100,iE=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(yo.now()-this.latestMoveTime<nE){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:e,speedY:n,event:t})}},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=yo.now(),o=e-this.preX,s=n-this.preY,l=a-this.ms;this.speedX=o/l,this.speedY=s/l,this.latestMoveTime=a},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=yo.now()},r}(Ml),aE=300,pd=2,oE=function(i){(0,Q.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="tap",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<pd&&n-this.touchStartY<pd&&yo.now()-this.touchStartTime<aE&&this.emit({x:e,y:n,event:t})},r.prototype.onTouchMove=function(t){},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=yo.now(),this.touchStartX=e,this.touchStartY=n},r}(Ml),sE={Pan:tE,Press:rE,Swipe:iE,Tap:oE},lE=function(i){return sE[i]},gd=function(i){(0,Q.__extends)(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=e,n.initialGestures(),n.bindTouchStart(),n}return r.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},r.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map(function(n){var a=lE(n);return new a(t)})},r.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},r.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},r.prototype.doGestures=function(t){this.gestures.forEach(function(e){e.do(t)})},r}(Zt.default),uE=v(68716),fE=uE.yD,cE=800,hE="swipe",vE="pan",yd="wheel",dE=function(i){(0,Q.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.rafMs=0,e.onPan=function(n){e.raf&&cancelAnimationFrame(e.raf);var a=n.deltaX,o=n.deltaY,s=e.getWrapperEvent(n,a,o);e.emit(yd,s)},e.onSwipe=function(n){var a=n.speedX,o=n.speedY;e.rafMs=yo.now(),e.ms=e.rafMs,(a!==0||o!==0)&&e.rafInertia(n)},e.element=t,e.gm=new gd(t,{gestures:["Pan","Swipe"]}),e.gm.on(hE,e.onSwipe),e.gm.on(vE,e.onPan),e}return r.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},r.prototype.rafInertia=function(t){var e=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=yo.now(),s=(o-e.ms)/cE;if(s<1){s=fE(1-s);var l=o-e.rafMs,u=n*s*l,c=a*s*l,h=e.getWrapperEvent(t,u,c);e.emit(yd,h),e.rafMs=o,e.rafInertia(t)}})},r.prototype.getWrapperEvent=function(t,e,n){return(0,Q.__assign)((0,Q.__assign)({},t),{deltaX:-e,deltaY:-n})},r}(Zt.default),Vn=v(29583),md=v(64815),pE=v(6750),n7=v(61058),gE=v(31882),mo=v(27978),i7=v(38700),yE=v(88373),Fo=v(55225);Pn("gesture",it.Z);var va="origin",Ps="_origin",xd=1e3,bd=60*xd,wd=60*bd,El=24*wd,mE=El*7,xE=El*30,bE=El*365,wE={second:{value:xd,format:"HH:mm:ss"},miniute:{value:bd,format:"HH:mm"},hour:{value:wd,format:"HH"},day:{value:El,format:"YYYY-MM-DD"},week:{value:mE,format:"YYYY-MM-DD"},month:{value:xE,format:"YYYY-MM"},year:{value:bE,format:"YYYY"}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wf=function(r,t){return Wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},Wf(r,t)};function nr(i,r){Wf(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var je=function(){return je=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},je.apply(this,arguments)};function Sd(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t}function a7(i,r,t,e){var n=arguments.length,a=n<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,r,t,e);else for(var s=i.length-1;s>=0;s--)(o=i[s])&&(a=(n<3?o(a):n>3?o(r,t,a):o(r,t))||a);return n>3&&a&&Object.defineProperty(r,t,a),a}function o7(i,r){return function(t,e){r(t,e,i)}}function s7(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function l7(i,r,t,e){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(e.next(c))}catch(h){o(h)}}function l(c){try{u(e.throw(c))}catch(h){o(h)}}function u(c){c.done?a(c.value):n(c.value).then(s,l)}u((e=e.apply(i,r||[])).next())})}function u7(i,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(e)throw new TypeError("Generator is already executing.");for(;t;)try{if(e=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(c){u=[6,c],n=0}finally{e=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function f7(i,r,t,e){e===void 0&&(e=t),i[e]=r[t]}function c7(i,r){for(var t in i)t!=="default"&&!r.hasOwnProperty(t)&&(r[t]=i[t])}function Cd(i){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&i[r],e=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function SE(i,r){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var e=t.call(i),n,a=[],o;try{for(;(r===void 0||r-- >0)&&!(n=e.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(t=e.return)&&t.call(e)}finally{if(o)throw o.error}}return a}function h7(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(SE(arguments[r]));return i}function Al(){for(var i=0,r=0,t=arguments.length;r<t;r++)i+=arguments[r].length;for(var e=Array(i),n=0,r=0;r<t;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,n++)e[n]=a[o];return e}function Tl(i){return this instanceof Tl?(this.v=i,this):new Tl(i)}function v7(i,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t.apply(i,r||[]),n,a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(g){e[g]&&(n[g]=function(w){return new Promise(function(L,D){a.push([g,w,L,D])>1||s(g,w)})})}function s(g,w){try{l(e[g](w))}catch(L){h(a[0][3],L)}}function l(g){g.value instanceof Tl?Promise.resolve(g.value.v).then(u,c):h(a[0][2],g)}function u(g){s("next",g)}function c(g){s("throw",g)}function h(g,w){g(w),a.shift(),a.length&&s(a[0][0],a[0][1])}}function d7(i){var r,t;return r={},e("next"),e("throw",function(n){throw n}),e("return"),r[Symbol.iterator]=function(){return this},r;function e(n,a){r[n]=i[n]?function(o){return(t=!t)?{value:Tl(i[n](o)),done:n==="return"}:a?a(o):o}:a}}function p7(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],t;return r?r.call(i):(i=typeof Cd=="function"?Cd(i):i[Symbol.iterator](),t={},e("next"),e("throw"),e("return"),t[Symbol.asyncIterator]=function(){return this},t);function e(a){t[a]=i[a]&&function(o){return new Promise(function(s,l){o=i[a](o),n(s,l,o.done,o.value)})}}function n(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}function g7(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}function y7(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var t in i)Object.hasOwnProperty.call(i,t)&&(r[t]=i[t]);return r.default=i,r}function m7(i){return i&&i.__esModule?i:{default:i}}function x7(i,r){if(!r.has(i))throw new TypeError("attempted to get private field on non-instance");return r.get(i)}function b7(i,r,t){if(!r.has(i))throw new TypeError("attempted to set private field on non-instance");return r.set(i,t),t}var Pl=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],CE=[],ME={axis:"axis-label",label:"label",legend:"legend-item"},EE={title:"title",description:"description",breadcrumb:"breadcrumb"},Md=(0,f.deepMix)(Li(EE),jf("Plot",Pl)),Ed=jf("Layer",Pl),_n=(0,f.deepMix)({},Li(ME),jf("View",Pl),AE());function xi(i,r,t){i.view.on(r,function(e){var n={x:e==null?void 0:e.x,y:e==null?void 0:e.y,clientX:e==null?void 0:e.clientX,clientY:e==null?void 0:e.clientY,target:e==null?void 0:e.target,data:(e==null?void 0:e.data)?e.data.data:null,plot:i,canvas:i.canvas,gEvent:e==null?void 0:e.gEvent};t(n)})}function Li(i){var r={};return(0,f.each)(i,function(t,e){var n=(0,f.upperFirst)(e),a="on"+n,o=t+":";(0,f.each)(Pl,function(s){var l=(0,f.upperFirst)(s),u=""+a+l,c=""+o+s;r[u]=c})}),r}function jf(i,r){var t={},e="on";return(0,f.each)(r,function(n){var a=(0,f.upperFirst)(n),o=""+e+i+a;t[o]=n}),t}function AE(){var i={},r="on";return(0,f.each)(CE,function(t){var e=(0,f.upperFirst)(t),n=""+r+e;i[n]=t}),i}var TE=v(85800),PE=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.fromBBoxObject=function(t){return new r(t.x,t.y,t.width,t.height)},r}(TE.BBox),mn=PE,OE=function(i){nr(r,i);function r(t){var e=i.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}return r.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},r.prototype.updateConfig=function(t){this.options=(0,f.deepMix)({},this.options,t),this.processOptions(this.options)},r.prototype.beforeInit=function(){return null},r.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},r.prototype.afterInit=function(){return null},r.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},r.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},r.prototype.destroy=function(){var t=this;this.eachLayer(function(e){e.destroy()}),(0,f.each)(this.eventHandlers,function(e){t.off(e.eventName,e.handler)}),this.container.remove(!0),this.destroyed=!0},r.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},r.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},r.prototype.removeLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e>=0&&this.layers.splice(e,1)},r.prototype.updateBBox=function(t,e){e===void 0&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,f.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},r.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},r.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},r.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new mn(t.x,t.y,this.width,this.height)},r.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:e,height:n};return(0,f.deepMix)({},a,t)},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(Ed);(0,f.each)(t,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=Ed[o]||o,l=a;e.on(s,l),e.eventHandlers.push({name:s,handler:l})}})},r.prototype.getLayerBBox=function(){return new mn(this.x,this.y,this.width,this.height)},r.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/e,l=(this.x+this.width-n)/t,u=(this.y+this.height-a)/e;return{start:{x:o,y:s},end:{x:l,y:u}}}return{start:{x:0,y:0},end:{x:1,y:1}}},r}(Zt.default),Ol=OE;function $o(i){return i?!!(i.visible===!0&&typeof i.text=="string"&&i.text.trim()):!1}function Ad(i,r){var t=Al(i);return r.forEach(function(e,n){t.splice(e+n,0,`
`)}),t.join("")}function IE(i){return i.getComponents().filter(function(r){return r.type===Vn.COMPONENT_TYPE.AXIS}).map(function(r){return r.component})}function kE(i){return i.getComponents().filter(function(r){return r.type===Vn.COMPONENT_TYPE.LEGEND}).map(function(r){return r.component})}function w7(i){var r=i.backgroundGroup.findAll(function(t){if(t.get("name")){var e=t.get("name").split("-");return e[0]==="axis"}});return r}function S7(i){var r=i.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return r}function LE(i,r){for(var t=i.length;t>0&&!(r>=i[t-1]);)t-=1;return t}function Td(i,r){return!(i.maxY<r.minY||r.maxY<i.minY||i.maxX<r.minX||r.maxX<i.minX)}function C7(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var _E=function(){function i(r){this.position="top",this.destroyed=!1,(0,f.assign)(this,r),this.init()}return i.prototype.getBBox=function(){var r=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return mn.fromBBoxObject(t);var e=this.plot.theme.description.padding;return(0,f.isArray)(e)&&(0,f.each)(e,function(n,a){typeof e[a]=="function"&&(e[a]=e[a](r.plot.options.legend.position))}),new mn(t.maxX,t.minY,t.width,t.height)}return null},i.prototype.clear=function(){this.shape&&this.shape.attr("text","")},i.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},i.prototype.init=function(){var r=this.textWrapper(),t=this.getPosition(),e=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,f.mix)({x:e,y:n,text:r},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},i.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},i.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},i.prototype.textWrapper=function(){var r=this.wrapperWidth,t=this.style,e=this.text,n=this.container.addShape("text",{attrs:je({text:"",x:0,y:0},t)}),a=e.split(`
`),o=a.map(function(s){for(var l="",u=s.split(""),c=[],h=0;h<u.length;h++){var g=u[h];n.attr("text",l+=g);var w=n.getBBox().width-1;if(w>r){if(h===0)break;c.push(h),l=""}}return Ad(u,c)});return n.remove(),o.join(`
`)},i}(),Il=_E,DE=function(i){nr(r,i);function r(t){var e=i.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}return r.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},r.prototype.getGroup=function(){return this.group},r.prototype.getConfig=function(){return this.config},r.prototype.getBBox=function(){return this.getGroup().getBBox()},r.prototype.clear=function(){this.group.clear()},r.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},r.prototype.update=function(t){this.config=je(je({},this.config),t),this.initConfig(this.config)},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},r.prototype.initGroup=function(){this.group=this.container.addGroup()},r.prototype.getCanvas=function(){return this.container.get("canvas")},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.initConfig=function(t){},r}(Zt.default),Os=DE,BE=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return r.prototype.getGeometry=function(){return this.geometry},r.prototype.getLabels=function(){return this.labels},r.prototype.show=function(){this.container.show()},r.prototype.hide=function(){this.container.hide()},r.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,f.deepMix)(this.getDefaultOptions(),t.label);var a=function(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()};n.on(Vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(Vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},r.prototype.renderInner=function(t){var e=this;this.labels=[],this.labelsCfgMap={},(0,f.each)(this.geometry.elements,function(s,l){var u=[].concat(e.drawLabelItem(t,s,l));(0,f.each)(u,function(c,h){e.adjustLabel(c,s,h),c.destroyed||(e.labels.push(c),e.labelsCfgMap[c.get("id")]=(0,f.clone)(c.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,mo.getDefaultAnimateCfg)("label",this.coord):!1;(0,f.each)(a,function(s,l){var u=t.findById(l);if(u)if(n[l]){var c=n[l],h=(0,f.get)(o,"update");h&&(u.stopAnimate(),u.attr(c),(0,mo.doAnimate)(u,h,{toAttrs:je({},s),coordinate:e.coord}))}else{var g=(0,f.get)(o,"appear");g&&(u.stopAnimate(),(0,mo.doAnimate)(u,g,{toAttrs:je({},u.attr()),coordinate:e.coord}))}delete n[l]}),(0,f.each)(n,function(s,l){var u=(0,f.get)(o,"leave");if(u){var c=t.addShape("text",{attrs:s,id:l,name:"label"});c.stopAnimate(),(0,mo.doAnimate)(c,u,{toAttrs:null,coordinate:e.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},r.prototype.drawLabelText=function(t,e,n){return n===void 0&&(n={}),t.addShape("text",je({attrs:e},n))},r.prototype.drawLabelItem=function(t,e,n){var a=this,o=e.getModel(),s=[].concat(this.getLabelItemAttrs(e,n)),l=this.getDefaultOffset(),u=this.getLabelOffset();return(0,f.map)(s,function(c,h){var g,w={x:c.x+u.x,y:c.y+u.y},L=(0,f.isArray)(o.mappingData)?o.mappingData[h]:o.mappingData,D=a.getLabelId(L);return a.drawLabelText(t,je(je({},c),w),(g={id:D,name:"label",offset:l,element:e},g[va]=L,g))})},r.prototype.getDefaultOffset=function(){return Number(this.options.offset)},r.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:(0,f.isNumber)(e)?e:0,y:(0,f.isNumber)(n)?n:0}},r.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),l={x:0,y:0};return l[t]=s*e,(0,f.isNumber)(a)&&(l.x+=a),(0,f.isNumber)(o)&&(l.y+=o),l},r.prototype.getDefaultOptions=function(){return{}},r.prototype.layoutLabels=function(t,e){},r.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+e[a.field]:n==="path"&&(s+=" "+e[a.field]+"-"+e[o.field]),s},r.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new mn(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},r}(Os),Uf=BE,Pd={};function sa(i,r){Pd[i]=r}function FE(i){return Pd[i]}var Zf=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return function(t,e,n){return i.reduce(function(a,o){return o(a,e,n)},t)}},Qf=function(){return function(i){return i}},Od=function(i){return function(r){var t=Number(r);return isNaN(t)||(0,f.isNil)(i)?r:t.toFixed(i)}},Id=function(i){return function(r){return(0,f.isNil)(i)?r:r+" "+i}};function Kf(i,r,t){i[t]&&(r[t]=i[t])}var RE=function(){function i(r){this.config=!1,this.plot=r.plot,this.dim=r.dim,this.init()}return i.prototype.init=function(){this.config=!1;var r=this.plot.getPlotTheme();this.themeConfig=r&&r.axis&&r.axis[this.dim],this._needDraw()&&this._styleParser()},i.prototype._styleParser=function(){this.config=je({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,Kf(this.localProps,this.config,"autoHideLabel"),Kf(this.localProps,this.config,"autoRotateLabel"),Kf(this.localProps,this.config,"autoRotateTitle")},i.prototype._needDraw=function(){var r=this.plot.options,t=r[this.dim+"Axis"]?r[this.dim+"Axis"]:{},e=(0,f.deepMix)({},this.themeConfig,t);return this.localProps=e,!!e.visible},i.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},i.prototype._gridParser=function(){var r=this,t,e,n,a,o,s=(e=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||e===void 0?void 0:e.style,l=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,u=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,f.isFunction)(s)?this.config.grid=function(c,h,g){var w=s(c,h,g);return{line:{type:l,style:(0,f.deepMix)({},(0,f.get)(r.themeConfig,"grid.line.style"),w)},alternateColor:u}}:s&&(this.config.grid={line:{type:l,style:s},alternateColor:u},this.applyThemeConfig("grid"))},i.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},i.prototype._labelParser=function(){var r=this.localProps.label,t=r.style,e=Sd(r,["style"]),n=je({},e);t&&(n.style=je({},this.localProps.label.style)),n.style=(0,f.deepMix)({},(0,f.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},i.prototype._titleParser=function(){var r=je({},this.localProps.title),t=this.localProps.title,e=t.visible,n=t.style,a=t.text;e?(this.config.showTitle=!0,n&&(r.style=n),r.style=(0,f.deepMix)({},(0,f.get)(this.config,"title.style"),r.textStyle),a&&(r.text=a)):this.config.showTitle=!1,this.config.title=r},i.prototype._isVisible=function(r){return!!(this.localProps[r]&&this.localProps[r].visible)},i.prototype.applyThemeConfig=function(r){this.config[r]=(0,f.deepMix)({},(0,f.get)(this.themeConfig,r+".style"),this.config[r])},i.prototype.parseFormatter=function(r){var t=Zf(Qf(),Od(r.precision),Id(r.suffix));return r.formatter&&(t=Zf(t,r.formatter)),t},i}(),NE=RE;function kl(i){var r=0;return each(i,function(t){r+=t*t}),Math.sqrt(r)}function $f(i,r){return i.x*r.y+i.y*r.x}function M7(i,r){var t=kl(i),e=kl(r),n=$f(i,r),a=Math.acos(n/t/e);return a}function E7(i,r){var t=kl(i),e=kl(r),n=$f(i,r),a=Math.acos(n/t/e);return t*e*Math.sin(a)}function A7(i,r){var t=i.x,e=i.y,n=i.z,a=r.x,o=r.y,s=r.z,l=e*s-n*o,u=n*a-t*s,c=t*o-e*a;return{x:l,y:u,z:c}}function T7(i,r){return{x:i.x-r.x,y:i.y-r.y}}function Ll(i,r,t){t===void 0&&(t=1);var e=[i.x,i.y,t];return lv.transformMat3(e,e,r),{x:e[0],y:e[1]}}function kd(i,r,t){return i>=r&&i<=t}var GE=.001;function P7(i,r,t,e){var n={x:t.x-i.x,y:t.y-i.y},a={x:r.x-i.x,y:r.y-i.y},o={x:e.x-t.x,y:e.y-t.y},s=a.x*o.y-a.y*o.x,l=s*s,u=a.x*a.x+a.y*a.y,c=o.x*o.x+o.y*o.y,h=null;if(l>GE*u*c){var g=(n.x*o.y-n.y*o.x)/s,w=(n.x*a.y-n.y*a.x)/s;kd(g,0,1)&&kd(w,0,1)&&(h={x:i.x+g*a.x,y:i.y+g*a.y})}return h}function YE(i,r){for(var t=!1,e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=o>i.y!=l>i.y&&i.x<=(s-a)*(i.y-o)/(l-o)+a;u&&(t=!t)}return t}function _l(i){return i*i}function Dl(i,r){return Math.sqrt(_l(i.x-r.x)+_l(i.y-r.y))}function Ld(i,r){return Math.sqrt(_l(i.x-r.x)+_l(i.y-r.y))}function _d(i,r,t){var e=Dl(r,t);if(e===0)return Dl(i,r);var n=((i.x-r.x)*(t.x-r.x)+(i.y-r.y)*(t.y-r.y))/e;n=Math.max(0,Math.min(1,n));var a=Dl(i,{x:r.x+n*(t.x-r.x),y:r.y+n*(t.y-r.y)});return Math.sqrt(a)}function Dd(i,r){var t=Infinity;(0,f.each)(r,function(c){var h=Math.sqrt(Dl(c,i));t>h&&(t=h)});for(var e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=_d(i,{x:a,y:o},{x:s,y:l});t>u&&(t=u)}return t}function zE(i,r){for(var t=0,e=i;t<e.length;t++){var n=e[t],a=YE(n,r);if(a)return!0}return!1}function Bd(i,r){if(zE(i,r))return 0;var t=Infinity,e=Infinity;return(0,f.each)(i,function(n){var a=Dd(n,r);t>a&&(t=a)}),(0,f.each)(r,function(n){var a=Dd(n,i);e>a&&(e=a)}),Math.min(t,e)}function VE(i){var r=i.getBBox(),t=r.minX,e=r.minY,n=r.maxX-r.minX,a=r.maxY-r.minY,o=i.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var l=Ll({x:0,y:0},s);l.x+=t,l.y+=e;var u=Ll({x:n,y:0},s);u.x+=t,u.y+=e;var c=Ll({x:0,y:a},s);c.x+=t,c.y+=e;var h=Ll({x:n,y:a},s);h.x+=t,h.y+=e;var g=[l,u,c,h];g.sort(function(oe,qt){return oe.y-qt.y});var w=g[0].y,L=g[g.length-1].y,D=[g[0],g[1]],N=[g[2],g[3]],H=D[0].x<D[1].x?D[0]:D[1],X=D[0].x<D[1].x?D[1]:D[0],mt=N[0].x<N[1].x?N[0]:N[1],xt=N[0].x<N[1].x?N[1]:N[0];g.sort(function(oe,qt){return oe.x-qt.x});var Pt=g[0].x,Ht=g[g.length-1].x,te={width:Ht-Pt,height:L-w,left:Pt,right:Ht,top:w,bottom:L,topLeft:H,topRight:X,bottomLeft:mt,bottomRight:xt,centerX:Pt+(Ht-Pt)/2,centerY:w+(L-w)/2};return te}var XE=2;function Jf(i){return i.length<5?i:qf(i,XE)}function qf(i,r){for(var t,e=-Infinity,n=0,a=i.length-1,o=1;o<a;o++){var s=i[o],l={start:i[0],end:i[a]},u=_d(s,l.start,l.end);u>e&&(e=u,n=o)}if(e>r){var c=qf(i.slice(0,n+1),r),h=qf(i.slice(n,i.length),r);t=c.concat(h)}else t=[i[0],i[i.length-1]];return t}function Fd(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2?r[t]:(r[t-1]+r[t])/2}function HE(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}function Rd(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function WE(i,r,t,e,n){n===void 0&&(n=2);for(var a=[],o=i;o<=i+t;o+=n)a.push([o,r]);for(var s=r;s<=r+e;s+=n)a.push([i+t,s]);for(var o=i+t;o>=i;o-=n)a.push([o,r+e]);for(var s=r+e;s>=r;s-=n)a.push([i,s]);return a}var jE=function(){function i(r){(0,f.assign)(this,r),this._init()}return i.prototype._init=function(){var r=this.plot.options,t=r.yField,e=r.data,n=this.plot.processData(e);if(!((0,f.isEmpty)(n)||!(0,f.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,f.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,f.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),l=this.getYScale(),u=(1-l.scale(s))*100+"%",c=["0%",u],h=["100%",u];this.config=(0,f.mix)({start:c,end:h},o)}else{var g=this.cfg,w=g.start,L=g.end;this.config=(0,f.clone)(o);var D=this.getXScale(),N=this.getYScale(),H=(0,f.clone)(w),X=(0,f.clone)(L);(0,f.each)(w,function(mt,xt){(!(0,f.contains)((0,f.toArray)(w[xt]),"%")||(0,f.isNumber)(w[xt]))&&(xt===0?H[xt]=D.scale(w[0])*100+"%":H[xt]=(1-N.scale(w[1]))*100+"%")}),(0,f.each)(L,function(mt,xt){(!(0,f.contains)((0,f.toArray)(L[xt]),"%")||(0,f.isNumber)(L[xt]))&&(xt===0?X[xt]=D.scale(L[0])*100+"%":X[xt]=(1-N.scale(L[1]))*100+"%")}),this.config.start=H,this.config.end=X}}},i.prototype.getYScale=function(){var r=this._getState("min"),t=this._getState("max"),e=(0,se.getScale)("linear"),n=new e((0,f.mix)({},{min:this.plot.type==="column"?0:r,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},i.prototype.getXScale=function(){var r=this.extractXValue();if((0,f.isString)(r[0])){var t=(0,se.getScale)("cat"),e=new t((0,f.mix)({},{values:r},this.plot.config.scales[this.plot.options.xField]));return e}else{var n=Math.min.apply(Math,r),a=Math.max.apply(Math,r),t=(0,se.getScale)("linear"),e=new t((0,f.mix)({},{min:n,max:a,nice:!0,values:r},this.plot.config.scales[this.plot.options.xField]));return e}},i.prototype._getState=function(r){if(this.values=this._extractValues(),r==="median")return Fd(this.values);if(r==="mean")return HE(this.values);if(r==="max")return Math.max.apply(Math,this.values);if(r==="min")return Math.min.apply(Math,this.values)},i.prototype._extractValues=function(){var r=this.plot.options,t=r.yField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.extractXValue=function(){var r=this.plot.options,t=r.xField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},i.prototype.getDefaultTextAlign=function(){var r=this.cfg.text;if(r){if(!r.position||r.position==="start")return"left";if(r.position==="center")return"center";if(r.position==="end")return"right"}},i}(),UE=jE,ZE=function(){function i(r){this.config={};var t=r.plot,e=Sd(r,["plot"]);this.plot=t,this.originConfig=e,this.init(r)}return i.prototype.getConfig=function(){return this.config},i.prototype.init=function(r){var t=this;(0,f.assign)(this.config,r),this.config.callback=function(e){return t.parseCallBack(e)}},i.prototype.parseCallBack=function(r){var t=this.originConfig,e=this.plot.getPlotTheme(),n=je({},t);return this.parseOffset(t,n),t.position&&((0,f.isFunction)(t.position)?n.position=t.position(r):n.position=t.position),this.parseFormatter(n),t.style&&((0,f.isFunction)(t.style)?n.textStyle=t.style(r):n.textStyle=t.style),n.textStyle=(0,f.deepMix)({},(0,f.get)(e,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},i.prototype.parseOffset=function(r,t){var e=["offset","offsetX","offsetY"],n=0;(0,f.each)(e,function(a){(0,f.has)(r,a)&&(t[a]=r[a],n++)}),n===0&&(0,f.get)(r,"position")==="middle"&&(t.offset=0)},i.prototype.parseFormatter=function(r){var t=this.originConfig;r.content=function(e,n){var a=e[t.fields[0]];return Zf(Qf(),Od(t.precision),Id(t.suffix),t.formatter?t.formatter:Qf())(a,e,n)}},i}(),QE=ZE,Ro,tc;function Nd(i,r){Ro||Gd(i),(0,f.each)(Ro,function(t){var e=Yd(t,r),n=e.labelData,a=e.con;if(zd(n,a)){var o=qE();t.shape.attr(o)}})}function KE(i,r){Ro||Gd(i),(0,f.each)(Ro,function(t,e){var n=Yd(t,r),a=n.labelData,o=n.con;if(zd(a,o)){var s=tc[e],l=JE(s);t.shape.attr(l)}})}function Gd(i){var r;Ro=[],tc=[];var t=(r=i.view.getController("axis"))===null||r===void 0?void 0:r.getComponents();(0,f.each)(t,function(e){var n=e.component,a=[],o=$E(i,n),s=n.get("labelRenderer").get("group").get("children");if((0,f.each)(s,function(c){c.type==="text"&&(a.push({shape:c}),tc.push(c.attr()))}),o){var l=o.ticks,u=o.field;(0,f.each)(a,function(c,h){c.value=l[h],c.scaleField=u,c.type=o.type})}Ro.push.apply(Ro,a)})}function $E(i,r){var t=i.options,e="y",n=r.get("position");(n==="bottom"||n==="top")&&(e="x");var a=t[e+"Field"];return i.view.get("scales")[a]}function Yd(i,r){var t,e=(t={},t[i.scaleField]=i.value,t),n=(0,f.clone)(r);return i.type==="time"&&(0,f.isObject)(r)&&!(0,f.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:e,con:n}}function JE(i){var r=i.opacity||1;return{opacity:r*.2}}function qE(){return{opacity:1,fontWeight:600,fill:"red"}}function zd(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return i[t]?(0,f.isFunction)(e)?e(i[t]):i[t]===e:!1}return r(i)}var tA={active:Nd,selected:Nd,disable:KE},eA=function(i){nr(r,i);function r(){var t=i.call(this)||this;return t._states={},t._stateStack={},t}return r.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},r.prototype.getState=function(t){return this._states[t]},r.prototype.getAllStates=function(){return this._states},r.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},r.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,f.each)(e,function(n,a){var o=e[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},r.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},r}(Zt.default),rA=eA;function io(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return(0,f.isFunction)(e)?e(i[t]):i[t]===e}return r(i)}var nA=function(){function i(r){this.shapeContainers=[],(0,f.assign)(this,r)}return i.prototype.createStateManager=function(){this.stateManager=new rA},i.prototype.bindStateManager=function(r,t){this.stateManager=r,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},i.prototype.defaultStates=function(r){var t=this;(0,f.each)(r,function(e,n){var a=e.condition,o=e.related;t.setState({type:n,condition:a,related:o})})},i.prototype.setState=function(r){var t=this,e=r.type,n=r.condition,a=r.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,f.each)(this.shapes,function(o,s){var l=o.get("origin").data,u=(0,f.isArray)(l)?l[0]:l;if(io(u,n)){var c=r.style?r.style:t._getDefaultStateStyle(e,o),h=t.originAttrs[s],g=void 0;(0,f.isFunction)(c)?g=c(h):g=(0,f.mix)({},h,c),o.attr(g),t.setZIndex(e,o)}}),a&&this._parserRelated(e,a,n),this.plot.canvas.draw()},i.prototype._updateStateProcess=function(r){var t=this;(0,f.each)(r,function(e){var n=e.state,a;(0,f.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},e.event?xi(t.plot,t._eventParser(e.event),a):a()})},i.prototype._stateChangeProcess=function(r){var t=this;(0,f.each)(r,function(e){t.stateManager.on(e.name+":change",function(n){e.callback(n,t.plot)})})},i.prototype._getShapes=function(){var r=this,t=[],e=this.plot.view.geometries;return(0,f.each)(e,function(n){var a=n.container;r.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},i.prototype._getOriginAttrs=function(){var r=[];return(0,f.each)(this.shapes,function(t){r.push((0,f.clone)(t.attr()))}),r},i.prototype._eventParser=function(r){var t=r.split(":"),e=this.plot.geometryParser("g2",t[0]),n=t[1];return e+":"+n},i.prototype._getDefaultStateStyle=function(r,t){var e=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(e[a]){var o=e[a][r];return(0,f.isFunction)(o)&&(o=o(t.attr())),o}return{}},i.prototype._parserRelated=function(r,t,e){var n=this;(0,f.each)(t,function(a){if(n.plot[a]){var o=pA(a,r);o(n.plot,e)}})},i.prototype.setZIndex=function(r,t){if(r==="active"||r==="selected"){var e=t.get("parent").get("children");e[e.length-1].setZIndex(0),t.setZIndex(1)}},i.prototype.resetZIndex=function(){(0,f.each)(this.shapeContainers,function(r){var t=r.get("children");t.sort(function(e,n){return e._INDEX-n._INDEX})})},i}(),iA=nA,Jo,Bl;function Vd(i,r){Jo||Xd(i),(0,f.each)(Jo,function(t,e){var n=t.get("origin");if(io(n,r)){var a=Bl[e],o=(0,f.mix)({},a,{opacity:1});t.attr(o)}})}function aA(i,r){Jo||Xd(i),(0,f.each)(Jo,function(t,e){var n=t.get("origin");if(io(n,r)){var a=Bl[e],o=oA(a);t.attr(o)}})}function Xd(i){Jo=[],Bl=[];var r=i.view.get("elements");(0,f.each)(r,function(t){var e=t.get("labels");e&&(0,f.each)(e,function(n){Jo.push(n),Bl.push(n.attr())})})}function oA(i){var r=i.opacity||1;return{opacity:r*.2}}var sA={active:Vd,selected:Vd,disable:aA},lA=["xField","yField","angleField"];function Hd(i,r){var t=i.options;if(fA(t,r)){var e=t.data;(0,f.each)(e,function(n){if(io(n,r)){var a=i.view.getXY(n);i.view.on("tooltip:create",function(o){Wd(r,o,!1)}),i.view.showTooltip(a)}})}}function uA(i,r){i.view.on("tooltip:change",function(t){Wd(r,t,!0)})}function Wd(i,r,t){var e=!t,n=(0,f.clone)(r.items);r.items.splice(0),(0,f.each)(n,function(a){var o=a.point._origin;io(o,i)===e&&r.items.push(a)})}function fA(i,r){var t=cA(i);return!(0,f.isFunction)(r)&&t.indexOf(r.name)}function cA(i){var r=[];return(0,f.each)(lA,function(t){(0,f.has)(i,t)&&r.push(t)}),r}var hA={active:Hd,selected:Hd,disable:uA},vA={axis:NE,label:QE,guideLine:UE},dA={tooltip:hA,label:sA,axis:tA};function zi(i,r){var t=vA[i];return new t(r).config}function pA(i,r){return dA[i][r]}var gA=["start","process","end","reset"],yA=function(){function i(r){var t=this.getDefaultCfg();(0,f.assign)(this,t,r),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return i.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},i.prototype._start=function(r){this.preStart(r),this.start(r),this.afterStart(r)},i.prototype.preStart=function(r){},i.prototype.afterStart=function(r){},i.prototype._process=function(r){this.preProcess(r),this.process(r),this.afterProcess(r)},i.prototype.preProcess=function(r){},i.prototype.process=function(r){},i.prototype.afterProcess=function(r){},i.prototype._end=function(r){this.preEnd(r),this.end(r),this.afterEnd(r)},i.prototype.preEnd=function(r){},i.prototype.end=function(r){},i.prototype.afterEnd=function(r){},i.prototype._reset=function(r){this.preReset(r),this.reset(r),this.afterReset(r)},i.prototype.preReset=function(r){},i.prototype.reset=function(r){},i.prototype.afterReset=function(r){},i.prototype._bindEvents=function(){var r=this;(0,f.each)(gA,function(t){var e=r[t+"Event"],n=(0,f.wrapBehavior)(r,"_"+t);r.view.on(e,n),r._eventHandlers.push({type:e,handler:n})})},i.prototype._unbindEvents=function(){var r=this,t=this._eventHandlers;(0,f.each)(t,function(e){r.view.off(e.type,e.handler)})},i.prototype.destroy=function(){this._unbindEvents(),this._reset()},i}(),ec=yA,mA=function(i){nr(r,i);function r(t,e,n,a){var o=i.call(this,t)||this;return o.viewLayer=e,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return r.registerInteraction=function(t,e){r.GLOBAL_INTERACTION_MAP[t]=e},r.registerPlotInteraction=function(t,e,n){r.PLOT_INTERACTION_MAP[t]||(r.PLOT_INTERACTION_MAP[t]={}),r.PLOT_INTERACTION_MAP[t][e]=n},r.getInteraction=function(t,e){return e&&r.PLOT_INTERACTION_MAP[e]&&r[e][t]?r.PLOT_INTERACTION_MAP[e][t]:r.GLOBAL_INTERACTION_MAP[t]},r.getInteractionRange=function(t,e){},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),i.prototype.destroy.call(this)},r.prototype.getViewLayer=function(){return this.viewLayer},r.prototype.getRange=function(){return this.interactionRange},r.prototype.getInteractionConfig=function(){return this.interactionConfig},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.render=function(){},r.prototype.start=function(t){},r.GLOBAL_INTERACTION_MAP={},r.PLOT_INTERACTION_MAP={},r}(ec),_a=mA,jd=function(i,r,t,e,n){var a=e[0],o=e[1];n===void 0&&(n=!1);var s=(0,f.groupBy)(t,i),l=n?r.slice(r.length-o,r.length-a):r.slice(a,o);return(0,f.flatten)((0,f.map)(l,function(u){return s[u]||[]}))},Xa;(function(i){i.BEFORE_INIT="beforeinit",i.AFTER_INIT="afterinit",i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata"})(Xa||(Xa={}));var Fl=4,Ud=8,xA=32,bA=20,wA=999,Rl=function(i){i===void 0&&(i={});var r=je({type:"horizontal",categorySize:xA,width:Ud,height:Ud,padding:[0,0,0,0]},i);return i.padding||(r.padding=r.type==="horizontal"?[Fl,0,Fl,0]:[0,Fl,0,Fl]),r},SA=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Rl(e),a=n.padding,o=a[0],s=a[1],l=a[2],u=a[3];return n.type==="horizontal"?new mn(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l):new mn(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,f.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(Vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(Vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(Vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(Vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),e.on(Xa.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return e.off(Xa.BEFORE_CHANGE_DATA,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},r.prototype.renderScrollbar=function(){var t=Rl(this.getInteractionConfig()),e=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],l=o[3],u=n?{x:a.minX+l,y:e.minY+s}:{x:e.minX+l,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:u.x,y:u.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new ye.Scrollbar({container:this.container,x:u.x,y:u.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",wA),this.scrollbar.on("scrollchange",this.onChangeFn))},r.prototype.measureScrollBar=function(){var t=Rl(this.getInteractionConfig()),e=t.padding,n=e[0],a=e[1],o=e[2],s=e[3],l=t.type!=="vertical",u=this.view.coordinateBBox,c=this.view.getXScale(),h=this.view.getYScales().filter(function(g){return g});this.cnt=c.values.length,this.xScaleCfg={field:c.field,values:c.values||[]},this.yScalesCfg=h,this.step=Math.floor((l?u.width:u.height)/t.categorySize),this.trackLen=l?u.width-s-a:u.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,f.clamp)(this.step/c.values.length,0,1),bA)},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,f.clamp)(this.ratio,0,1)),e=Math.min(t+this.step,this.cnt);return[t,e]},r.prototype.changeViewData=function(t,e){var n=this,a=t[0],o=t[1],s=Rl(this.getInteractionConfig()),l=this.getViewLayer(),u=l.options.meta,c=l.getData(),h=jd(this.xScaleCfg.field,this.xScaleCfg.values,c,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(g){var w=(0,f.get)(u,g.field)||{};n.view.scale(g.field,je(je({formatter:g.formatter},w),{type:g.type,min:g.min,max:g.max}))}),e?(this.view.data(h),this.view.render()):this.view.changeData(h)},r.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},r}(_a),CA=SA,Nl=4,Zd=16,rc=function(i){i===void 0&&(i={});var r=je({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},i);i.padding||(r.padding=r.type==="horizontal"?[Nl,0,Nl,0]:[0,Nl,0,Nl]),i.height||(r.height=Zd),i.width||(r.width=Zd);var t=(0,f.clamp)(Math.min(r.start,r.end),0,1),e=(0,f.clamp)(Math.max(r.start,r.end),0,1);return r.start=t,r.end=e,r},MA=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=rc(e),a=n.padding||[0,0,0,0],o=a[0],s=a[1],l=a[2],u=a[3];if(n.type==="horizontal"){var c=new mn(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l);return c}else return new mn(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view,a=rc(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,f.isEqual)(s,[0,0,0,1]))&&!(0,f.isEmpty)(e.options.data))if(t.xScaleCfg)t.renderSlider();else{var l=n.getXScale();t.xScaleCfg={field:l.field,values:l.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(Vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(Vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(Vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(Vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},r.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new ye.Slider(je(je({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},r.prototype.getSliderConfig=function(){var t=this.view,e=t.coordinateBBox,n=this.getRange(),a=rc(this.getInteractionConfig()),o=a||{},s=o.padding,l=s===void 0?[0,0,0,0]:s,u=o.backgroundStyle,c=o.foregroundStyle,h=o.handlerStyle,g=o.textStyle,w=o.trendCfg,L=w===void 0?{}:w,D=l[0],N=l[1],H=l[2],X=l[3],mt=this.getSliderMinMaxText(this.curStart,this.curEnd),xt=mt.minText,Pt=mt.maxText,Ht={x:e.minX+X,y:n.minY+D,width:e.width-X-N,height:n.height-D-H,start:this.curStart,end:this.curEnd,minText:xt,maxText:Pt,backgroundStyle:u,foregroundStyle:c,handlerStyle:h,textStyle:g,trendCfg:je(je({isArea:!1,smooth:!1},L),{data:this.getSliderTrendData()})};return Ht},r.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return(0,f.map)(e,function(a){return a[n]})},r.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),a=(0,f.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(e*a));return jd(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},r.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,l=(0,f.size)(o),u=Math.round(t*l),c=Math.max(u+1,Math.round(e*l)),h=o.slice(u,c);return{minText:h.length>0?(0,f.head)(h)[s]:"",maxText:h.length>0?(0,f.last)(h)[s]:""}},r.prototype.onChange=function(t){var e=this.view,n=(0,f.clamp)(Math.min(t[0],t[1]),0,1),a=(0,f.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),l=s.minText,u=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:l,maxText:u}),this.slider.render();var c=e.getOptions().animate;e.animate(!1),e.data(o),e.render(),e.animate(c)},r}(_a),EA=MA,AA=function(i){nr(r,i);function r(t){return i.call(this,(0,f.deepMix)({},t))||this}return r.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},r.prototype.destroy=function(){this.group.off(),i.prototype.destroy.call(this)},r.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},r.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},r.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},r}(Os),TA=AA,Qd="timelinestart",PA="timelinechange",Kd="timelineend",OA="timelineupdate",IA=20,kA=20,LA=function(i){nr(r,i);function r(t){var e=i.call(this,(0,f.deepMix)({},{speed:1,loop:!1},t))||this;return e.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,f.get)(n,"touches.0.pageX",n.pageX),o=a-e.prevX;e.setTimeSelectX(o),e.prevX=a},e.onTimeSelectMouseUp=function(){e.syncCurrnentTick(),e.emit(Kd,null);var n=e.getCanvas().get("container");n&&(n.removeEventListener("mousemove",e.onTimeSelectMouseMove),n.removeEventListener("mouseup",e.onTimeSelectMouseUp),n.removeEventListener("mouseleave",e.onTimeSelectMouseUp),n.removeEventListener("touchmove",e.onTimeSelectMouseMove),n.removeEventListener("touchend",e.onTimeSelectMouseUp),n.removeEventListener("touchcancel",e.onTimeSelectMouseUp))},e.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),e.isPlay===!1?e.emit(Qd,null):(e.isPlay=!1,e.changePlayStatus(!1)),e.prevX=(0,f.get)(a,"touches.0.pageX",a.pageX);var o=e.getCanvas().get("container");o.addEventListener("mousemove",e.onTimeSelectMouseMove),o.addEventListener("mouseup",e.onTimeSelectMouseUp),o.addEventListener("mouseleave",e.onTimeSelectMouseUp),o.addEventListener("touchmove",e.onTimeSelectMouseMove),o.addEventListener("touchend",e.onTimeSelectMouseUp),o.addEventListener("touchcancel",e.onTimeSelectMouseUp)},e}return r.prototype.renderInner=function(t){var e=this.config,n=e.ticks,a=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},r.prototype.update=function(t){i.prototype.update.call(this,t),this.emit(OA,this.currentTick)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},r.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,a=e.x,o=e.y,s=.8,l=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+l,y:o+l+n*(1-s)/2,r:l}):(this.timeLineButton=new TA({container:t,x:a+l,y:o+l+n*(1-s)/2,r:l,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},r.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+e+", "+n+("A"+s+","+s+" 90 0,0 "+e+","+(n+o))+("L"+(e+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(e+a)+","+n)+("L"+e+", "+n):[]},r.prototype.renderTimeLine=function(t){var e=this,n=this.config,a=n.width,o=n.height,s=n.ticks,l=n.x,u=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=l+o+IA,this.timeLine.y=u+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-kA,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var c=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(g){g.destroy()});var h=-Infinity;this.timeLine.textList=s.map(function(g,w){e.tickPosList.push(e.timeLine.x+w*c);var L=t.addShape("text",{attrs:{x:e.timeLine.x+w*c,y:e.timeLine.y+e.timeLine.height+5,text:g,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),D=L.getBBox();return D.minX>h?(L.show(),h=D.minX+D.width+10):L.hide(),L})},r.prototype.renderTimeSelect=function(t,e){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),l=(0,f.findIndex)(a,function(g){return g===e}),u=this.timeLine.x+l*s,c=this.config.y+o/2,h=o*.15;this.timeSelect?(this.timeSelect.attr("x",u),this.timeSelect.attr("y",c),this.timeSelect.attr("r",h)):this.timeSelect=t.addShape("circle",{attrs:{x:u,y:c,r:h,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",u),this.timeSelectText.attr("y",c-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:u,y:c-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},r.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},r.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(PA,this.currentTick)),this.getCanvas().draw()},r.prototype.syncCurrnentTick=function(){var t=this,e=this.config.ticks,n=this.timeLine.width/(e.length-1),a=(0,f.findIndex)(e,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},r.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var e=t.config,n=e.speed,a=e.ticks,o=t.timeLine.width,s=o/a.length,l=s/(n*1e3/60);t.setTimeSelectX(l),t.isPlay&&(t.playHandler=t.startPlay())})},r.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(Qd,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(Kd,null))),this.getCanvas().draw()},r.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(e){t.onTimeSelectMouseDown(e)})},r}(Os),_A=LA,DA=40;function $d(i){return je({loop:!1,auto:!0,height:DA,padding:[0,20,0,0],speed:2},i)}var BA=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=$d(e),a=n.padding[0],o=n.padding[2];return new mn(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},r.prototype.setAnimate=function(t){var e=this.view.geometries;this.view.animate(t),e.forEach(function(n){n.animate(t)})},r.prototype.start=function(){},r.prototype.renderTimeLine=function(){var t=this;this.config=$d(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,l=o[0],u=o[1],c=o[2],h=o[3],g=this.getRange(),w=this.getTicks(),L=e.width-h-u,D={x:e.minX+h,y:g.tl.y+l,width:L,height:g.height-l-c,loop:a,ticks:w,speed:s,defaultCurrentTick:w[0]};this.timeline?(0,f.isEqual)(D,this.timeLineConfig)||(this.timeLineConfig=D,this.timeline.update(D)):(this.container=this.canvas.addGroup(),this.timeline=new _A(je({container:this.container},D)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(w[0])),this.timeLineConfig=D)},r.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},r.prototype.getFilterData=function(t){var e=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[e]===t})},r.prototype.getTicks=function(){var t=this.config.field,e=this.getViewLayer().options.data;return(0,f.uniq)(e.map(function(n){return n[t]}))},r.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(Vn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(Vn.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(Vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(Vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},r.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},r}(_a),FA=BA;function RA(i,r){var t=[1,0,0,0,1,0,0,0,1],e=sr.transform(t,r);i.setMatrix(e)}function qo(i,r){var t=r?(0,f.clone)(r):[1,0,0,0,1,0,0,0,1];return sr.transform(t,i)}function Jd(i,r,t,e){var n=e?(0,f.clone)(e):[1,0,0,0,1,0,0,0,1];n[6]=r,n[7]=t,i.setMatrix(n)}function NA(i,r,t){vd.translate(i,r,t)}function O7(i,r){Util.rotate(i,r)}var GA=document.createElement("canvas"),qd=GA.getContext("2d"),Gl=(0,f.memoize)(function(i,r){r===void 0&&(r={});var t=r.fontSize,e=r.fontFamily,n=r.fontWeight,a=r.fontStyle,o=r.fontVariant;return qd.font=[a,o,n,t+"px",e].join(" "),qd.measureText((0,f.isString)(i)?i:"").width},function(i,r){return r?Al([i],(0,f.values)(r)).join(""):i}),tp=function(i,r,t){var e=16,n=Gl("...",t),a;(0,f.isString)(i)?a=i:a=(0,f.toString)(i);var o=r,s=[],l,u;if(Gl(i,t)<=r)return i;for(;l=a.substr(0,e),u=Gl(l,t),!(u+n>o&&u>o);)if(s.push(l),o-=u,a=a.substr(e),!a)return s.join("");for(;l=a.substr(0,1),u=Gl(l,t),!(u+n>o);)if(s.push(l),o-=u,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},hi;(function(i){i.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",i.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",i.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",i.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",i.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",i.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",i.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",i.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",i.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",i.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",i.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})(hi||(hi={}));var Yl;(function(i){i.ON_SELECT_ITEM="onSelectItem"})(Yl||(Yl={}));var xo;(function(i){i[i.LARGE=12]="LARGE",i[i.NORMAL=8]="NORMAL",i[i.SMALL=4]="SMALL"})(xo||(xo={}));var YA=160,zA=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(e){var n=XA(e.target,function(o){return o.get("name")===hi.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(e){var n=t.config.width,a=n===void 0?0:n,o=e.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),l=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),u=(0,f.clamp)(t.offsetX+o,s,l);u!==t.offsetX&&(NA(t.bodyGroup,t.offsetX-u,0),t.offsetX=u)},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.selectItem=function(t){this.doSelectItem(t)},r.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},r.prototype.initConfig=function(t){var e,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:xo.NORMAL,style:{}},line:{spacingX:xo.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:xo.SMALL,style:{}},itemName:{spacingX:xo.NORMAL,spacingY:xo.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:xo.LARGE};this.config=(0,f.deepMix)({},(e=a==null?void 0:a.components)===null||e===void 0?void 0:e.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},r.prototype.renderInner=function(t){var e=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,l=[],u=t.addGroup({name:hi.TOOLTIP_INDICATOR_INNER});this.renderTitle(u),this.bodyGroup=u.addGroup({name:hi.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(c,h){l.push(e.renderItem(e.bodyGroup,c,h))}),this.layoutItems(u),Jd(u,o,s),this.applyClip(t),this.bindEvents(u)},r.prototype.renderTitle=function(t){var e=this.config.title;if(e==null?void 0:e.text){var n=t.addShape({type:"text",name:hi.TOOLTIP_INDICATOR_TITLE,attrs:je({text:e==null?void 0:e.text,textAlign:"left",textBaseline:"top"},(e==null?void 0:e.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=e.spacingY||0,n}},r.prototype.renderItem=function(t,e,n){var a=this.config.itemBackground,o=t.addGroup({name:hi.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),s=this.curX,l=this.curY,u=o.addShape({name:hi.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:je({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),c=this.renderLine(o,e);this.renderItemTitle(o,e),this.renderItemValues(o,e);var h=o.getBBox();return c.attr({y2:c.attr("y1")+h.height}),this.curX=s+h.width,this.curX+=this.config.itemSpacing||0,u.attr({width:this.curX-s-u.attr("lineWidth")*2,height:this.curY-l-u.attr("lineWidth")*2}),this.curY=l,o},r.prototype.renderLine=function(t,e){var n=this.config.line,a=n.width||2,o=je({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:e.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:hi.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),l=s.getBBox();return this.curX+=l.width,this.curX+=n.spacingX||0,s},r.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,a=tp(e.title,YA,n.style||{}),o=t.addShape({name:hi.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:je({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},r.prototype.renderItemValues=function(t,e){var n=this,a,o=t.addGroup({name:hi.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=e.values)===null||a===void 0||a.forEach(function(l,u){var c=o.addGroup({name:hi.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:e,valueIndex:u}});n.curX=s,n.renderItemValueName(c,l),n.renderItemValueValue(c,l)}),this.layoutItemValues(o),o},r.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var a=t.addShape({name:hi.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:je({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),o=a.getBBox();return e.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},r.prototype.renderItemValueValue=function(t,e){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:hi.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:je({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},o.style||{})}),l=s.getBBox();return this.curY+=l.height,this.curY+=a.spacingY||0,s},r.prototype.layoutItems=function(t){var e=t.findAllByName(hi.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(hi.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!e||n.length===0)){var a=e.getBBox();this.scrollWidth=a.width}},r.prototype.layoutItemValues=function(t){var e=t.findAllByName(hi.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=e.map(function(l){return mn.fromBBoxObject(l.getBBox())}),a=t.findAllByName(hi.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(l){return mn.fromBBoxObject(l.getBBox())}),s=Math.max.apply(Math,o.map(function(l){return l.maxX}));e.forEach(function(l,u){var c=n[u],h=l.findAllByName(hi.TOOLTIP_INDICATOR_ITEM_NAME)[0],g=l.findAllByName(hi.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(h&&g){var w=mn.fromBBoxObject(h.getBBox()),L=mn.fromBBoxObject(g.getBBox());w.height<c.height&&h.attr("y",h.attr("y")+(c.height-w.height)/2),L.height<c.height&&g.attr("y",g.attr("y")+(c.height-L.height)/2),L.maxX<s&&g.attr("x",g.attr("x")+s-L.maxX)}})},r.prototype.applyClip=function(t){var e=this.config,n=e.x,a=e.y,o=e.width,s=e.height,l=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||l.width,height:s||l.height}})},r.prototype.doSelectItem=function(t){var e=this,n=this.getGroup(),a=n.findAllByName(hi.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&e.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){e.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(Yl.ON_SELECT_ITEM,this.selectedItemId)},r.prototype.applyItemStyle=function(t,e){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,l=n.itemValue,u=t.findAllByName(hi.TOOLTIP_INDICATOR_ITEM_LINE)[0],c=t.findAllByName(hi.TOOLTIP_INDICATOR_ITEM_TITLE)[0],h=t.findAllByName(hi.TOOLTIP_INDICATOR_ITEM_NAME),g=t.findAllByName(hi.TOOLTIP_INDICATOR_ITEM_VALUE),w=e&&e+"Style";u&&(u.attr(a.style),u.attr(a[w]||{})),c&&(c.attr(o.style),c.attr(o[w]||{})),h.forEach(function(L){L.attr(s.style),L.attr(s[w]||{})}),g.forEach(function(L){L.attr(l.style),L.attr(l[w]||{})})},r.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName(hi.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new gd(n),this.wheel=new dE(n),this.wheel.on("wheel",this.onWheel)},r.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},r.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},r}(Os),VA=zA;function XA(i,r){for(var t=i;t;){if(r(t))return t;t=t.getParent()}}function HA(i,r){return(0,f.filter)(i.geometries,function(t){return t.type===r})}function bo(i,r){return(0,f.head)(HA(i,r))}function WA(i){return(0,f.map)(i.elements,function(r){return r.shape})}function I7(i,r){i.geometries.forEach(r)}function nc(i,r){i.geometries.forEach(function(t){t.elements.forEach(function(e){r(e)})})}function jA(i,r,t){return(0,f.some)(r,function(e){return t(e.get(va),i.get(va))})}function zl(i,r){var t=i.getBBox(),e=0,n=0;t.minX<r.minX?e=t.minX-r.minX:t.maxX>r.maxX&&(e=t.maxX-r.maxX),e&&i.attr("x",i.attr("x")-e),t.minY<r.minY?n=t.minY-r.minY:t.maxY>r.maxY&&(n=t.maxY-r.maxY),n&&i.attr("y",i.attr("y")-n)}function ic(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function Vl(i,r){var t=i.getBBox();return(0,f.some)(r,function(e){var n=e.getBBox();return ic(t,n,2)>0})}var ep=8,rp=function(i){i===void 0&&(i={});var r=je({showTotal:!1,showPercent:!1,padding:[ep,24,ep,24],height:i.showPercent?72:54},i);return r},ts;(function(i){i.ACTIVE_ELEMENT="tooltip_indicator_active_element",i.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(ts||(ts={}));var UA=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return r.prototype.active=function(){var t=gE.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},r.prototype.setState=function(t){var e=this;nc(this.getView(),function(n){n===t?n.hasState(e.state)||n.setState(e.state,!0):n.setState(e.state,!1)}),this.isSingle=!0,this.getView().emit(ts.ACTIVE_ELEMENT,{element:t,isSingle:!0})},r.prototype.setStateByX=function(t){var e=this,n=this.getXField(),a=t.getData()[n];nc(this.getView(),function(o){o.getData()[n]===a?o.hasState(e.state)||o.setState(e.state,!0):o.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(ts.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},r.prototype.setStateByField=function(t,e){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;nc(this.getView(),function(s){var l=s.getData();s.setState(n.state,l[a]===t&&(e===void 0||l[o]===e))})},r.prototype.getView=function(){return this.context.view},r.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},r}(Le);lr("tooltip-indicator",UA),Re("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var ZA=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onElementActive=function(e){var n=e.element,a=e.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,l=t.view.getGroupScales()[0].field,u=n.getData(),c=u[s],h=t.getLegendItems(c);t.component.update({items:h,title:{text:o.getText(c)}}),t.component.render(),a&&t.component.selectItem(u[l]),t.curX=c},t.onSelectTooltipIndicatorItem=function(e){t.component&&e&&t.getInteractionAction().setStateByField(t.curX,e)},t}return r.getInteractionRange=function(t,e){var n=rp(e),a=n.padding,o=a[0],s=a[2];return new mn(t.minX,t.minY,t.width,n.height+o+s)},r.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},r.prototype.render=function(){var t=this,e=this.view,n=function(){var a=t.view.getXScale(),o=(0,f.last)(a.getTicks()).tickValue,s=t.view.padding;(0,f.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(Yl.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(Vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),e.on(Vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),e.on(ts.ACTIVE_ELEMENT,this.onElementActive),e.on(ts.ACTIVE_ELEMENT_BY_X,this.onElementActive)},r.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},r.prototype.createComponent=function(){var t=rp(this.getInteractionConfig()).padding,e=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),l=this.getRange(),u=this.view.getXScale(),c=(0,f.last)(u.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new VA({container:this.container,x:l.x+o,y:l.y+e,width:l.width-o-n,height:l.height-e-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(c)},r.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},r.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),a=e.getTheme().defaultColor,o=e.getXScale(),s=e.getYScales()[0],l=t||(0,f.last)(o.getTicks()).tickValue,u=e.getLegendAttributes(),c=u.find(function(D){return D.type==="color"}),h=[],g=e.getGroupScales()[0],w=g.field;g&&g.isCategory&&g.getTicks().forEach(function(D){var N=D.text,H=D.tickValue,X=c.mapping(H).join("")||a;h.push({id:H,title:N,color:X,values:[]})});var L=(n==null?void 0:n.filter(function(D){return D[o.field]===l}))||[];return h.forEach(function(D){var N=L.find(function(H){return H[w]===D.id});D.values.push({value:s.formatter?s.formatter(N[s.field]):N[s.field]})}),h},r}(_a),QA=ZA;_a.registerInteraction("slider",EA),_a.registerInteraction("scrollbar",CA),_a.registerInteraction("timeline",FA),_a.registerInteraction("tooltip-indicator",QA);var np=_a,KA=function(){function i(r){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=r.plot}return i.prototype.registerPadding=function(r,t,e){t===void 0&&(t="outer"),e===void 0&&(e=!1),t==="inner"?e?this.innerPaddingComponents.find(function(n){return n==r})||this.innerPaddingComponents.push(r):this.innerPaddingComponents.push(r):e?this.outerPaddingComponents.find(function(n){return n==r})||this.outerPaddingComponents.push(r):this.outerPaddingComponents.push(r)},i.prototype.getPaddingComponents=function(r){return r===void 0&&(r="outer"),(r==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},i.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,f.filter)(this.outerPaddingComponents,function(r){return r.afterRender})},i.prototype.clearOuterComponents=function(){(0,f.each)(this.outerPaddingComponents,function(r){r.afterRender&&r.destroy()}),this.outerPaddingComponents=[]},i.prototype.getPadding=function(){var r=this.plot.options,t=r.padding?r.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},i.prototype.processAutoPadding=function(){var r=this._getInnerAutoPadding();this.plot.updateConfig({padding:r}),this.plot.render()},i.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new mn(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var r=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,e=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,f.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),l=s.minX,u=s.maxX,c=s.minY,h=s.maxY;h>=e&&h<=n&&o==="top"&&(e=h),c>=e&&c<=n&&o==="bottom"&&(n=c),u>r&&u<=t&&o==="left"&&(r=u),l>=r&&u<=t&&o==="right"&&(t=l)}}),new mn(r,e,t-r,n-e)},i.prototype._getInnerAutoPadding=function(){var r,t=this.plot.options,e=this.plot.view,n=e.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,l=n.minX,u=this.plot.config.theme.bleeding;(0,f.isArray)(u)&&(0,f.each)(u,function(D,N){typeof u[N]=="function"&&(u[N]=u[N](t))}),this.bleeding=(0,f.clone)(u);var c=[new mn(n.minX,n.minY,n.width,n.height)];((r=this.plot.config.coordinate)===null||r===void 0?void 0:r.type)==="cartesian"&&this._getCartesianAxis(e,c[0],c);var h=this._mergeBBox(c);this._getLegend(e,h,c),h=this._mergeBBox(c);var g=this.innerPaddingComponents;(0,f.each)(g,function(D){var N=D,H=N.getBBox();c.push(H)}),h=this._mergeBBox(c);var w=[s-h.minY+this.bleeding[0],h.maxX-a+this.bleeding[1],h.maxY-o+this.bleeding[2],l-h.minX+this.bleeding[3]],L=this._getPanel(e);return w[0]+=L[0],w[1]+=L[1],w[2]+=L[2],w[3]+=L[3],w},i.prototype._getCartesianAxis=function(r,t,e){var n=IE(r),a=r.getCoordinate().isTransposed;(0,f.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),l=o.getLayoutBBox(),u=l.minX,c=l.minY,h=l.width,g=l.height;a?s==="bottom"?e.push(new mn(t.minX-h,c,h,g)):s==="left"?e.push(new mn(u,t.maxY,h,g)):s==="top"&&e.push(new mn(t.maxX,c,h,g)):s==="left"?e.push(new mn(t.minX-h,c,h,g)):s==="bottom"?e.push(new mn(u,t.maxY,h,g)):s==="right"&&e.push(new mn(t.maxX,c,h,g))}})},i.prototype._getLegend=function(r,t,e){var n=kE(r);(0,f.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),l=s.minX,u=s.minY,c=s.width,h=s.height;o==="top"?e.push(new mn(l,t.minY-h,c,h)):o==="bottom"?e.push(new mn(l,t.maxY,c,h)):o==="left"?e.push(new mn(t.minX-c,u,c,h)):e.push(new mn(t.maxX,u,c,h))})},i.prototype._getPanel=function(r){var t=[],e=r.geometries;(0,f.each)(e,function(L){L.labelsContainer&&t.push(L.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,f.each)(t,function(L){var D=L.get("children");D.forEach(function(N){if(!(N.type==="group"&&N.get("children").length===0)){var H=N.getBBox();H.minX<n&&(n=H.minX),H.maxX>a&&(a=H.maxX),H.minY<o&&(o=H.minY),H.maxY>s&&(s=H.maxY)}})});var l=r.coordinateBBox,u=Math.max(a-parseFloat(l.maxX),0);if(u>0){var c=l.width/(l.width+u);u*=c}var h=Math.max(parseFloat(l.minX)-n,0);if(h>0){var c=l.width/(l.width+h);h*=c}var g=Math.max(parseFloat(l.minY)-o,0);if(g>0){var c=l.height/(l.height+g);g*=c}var w=Math.max(s-parseFloat(l.maxY),0);if(w>0){var c=l.height/(l.height+w);w*=c}return[g,u,w,h]},i.prototype._mergeBBox=function(r){var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity;return(0,f.each)(r,function(o){var s=o;t=Math.min(s.minX,t),e=Math.max(s.maxX,e),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:e,minY:n,maxY:a}},i}(),$A=KA,JA="#5B8FF9",qA=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],tT=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],ip=function(i){return i&&i.split("-")[0]==="top"?12:24},ap=function(i){var r=i.title&&i.title.visible,t=i.description&&i.description.visible;return r||t?12:24},op=function(i){return(0,f.some)(i.interactions||[],function(r){return(r.type==="slider"||r.type==="scrollbar")&&(r.cfg&&r.cfg.type)!=="vertical"})?8:24},sp={width:400,height:400,bleeding:[ap,24,op,24],padding:"auto",defaultColor:JA,colors:qA,colors_20:tT,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,ip,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},eT={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[ap,24,op,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,ip,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},lp={default:sp,dark:eT};function k7(i,r){var t=Ui();lp[i.toLowerCase()]=deepMix({},t,r)}function Ui(i){i===void 0&&(i="default");var r=lp[i.toLowerCase()];return r||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",i),sp)}var up={};function fp(i,r){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},e={};i==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,f.each)(r,function(a,o){var s;if((0,f.has)(t,o)){var l=t[o];(0,f.each)(a,function(u,c){(0,f.set)(n,l+"."+[c==="normal"?"default":c==="disable"?"inactive":c]+".style",u)})}else e=(0,f.deepMix)({},e,(s={},s[o]=a,s))}),(0,f.isEmpty)(n)||(e=(0,f.deepMix)({},e,{geometries:n})),e}function la(i,r){up[i.toLowerCase()]=fp(i,r)}function cp(i){return up[i.toLowerCase()]||{}}function rT(i){var r=(0,f.clone)(i);return r.legend||(r.legend={}),r}var ac={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},hp={default:ac};function vp(i,r){hp[i.toLowerCase()]=(0,f.deepMix)({},ac,r)}function dp(i){var r=hp[i.toLowerCase()];return r||ac}var nT=Mt(),iT=function(){function i(){}return i.getGlobalTheme=function(r){return(0,f.isString)(r)?Ui(r):(0,f.deepMix)({},Ui(),r)},i.prototype.getPlotTheme=function(r,t){var e=r.theme;return(0,f.isString)(e)?(0,f.deepMix)({},Ui(e),cp(t)):(0,f.deepMix)({},Ui(),cp(t),fp(t,e))},i.prototype.getTheme=function(r,t){var e=rT(this.getPlotTheme(r,t)),n=(0,f.deepMix)({},nT,e);return n},i.prototype.getResponsiveTheme=function(r){return dp(r)||dp("default")},i}(),oc=iT,aT=function(i){nr(r,i);function r(t){var e=i.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},e.options),e.paddingController=new $A({plot:e}),e.stateController=new iA({plot:e}),e.themeController=new oc,e}return r.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,f.reduce)((0,f.flatten)((0,f.map)([n,a,(0,f.hasKey)(t,"interactions")?t:e],function(s){return(0,f.get)(s,"interactions",[])})),function(s,l){var u=(0,f.findIndex)(s,function(c){return c.type===l.type});return u>=0&&s.splice(u,1),Al(s,[l])},[]);return(0,f.deepMix)({},n,a,e,t,{interactions:o})},r.prototype.beforeInit=function(){this.emit(Xa.BEFORE_INIT),i.prototype.beforeInit.call(this)},r.prototype.init=function(){var t=this;i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new rf({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(Vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(Xa.AFTER_INIT))},r.prototype.afterRender=function(){var t,e;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((e=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||e===void 0?void 0:e.onChange)&&n.padding!=="auto"&&this.customTooltip()}},r.prototype.render=function(){this.emit(Xa.BEFORE_RENDER),i.prototype.render.call(this);var t=this.options.data;(0,f.isEmpty)(t)||this.view.render(),this.emit(Xa.AFTER_RENDER)},r.prototype.repaint=function(){this.canvas&&this.canvas.draw()},r.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},r.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options;if((0,f.contains)(t,"colorField"))return this.view.getScaleByField(t)},r.prototype.getShapes=function(){var t=this.view.geometries,e={};return(0,f.each)(t,function(n){var a=n.type;e[a]=n.getShapes()}),e},r.prototype.destroy=function(){this.doDestroy(),i.prototype.destroy.call(this)},r.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){this.emit(Xa.BEFORE_CHANGE_DATA);var e=(0,f.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(Xa.AFTER_CHANGE_DATA)},r.prototype.getPlot=function(){return this.view},r.prototype.getLabels=function(){return this.labels},r.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},r.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},r.prototype.getInteractions=function(){return this.interactions},r.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},r.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},r.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},r.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},r.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},r.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},r.prototype.processData=function(t){return t},r.prototype.scale=function(){var t=(0,f.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),e=(0,f.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},r.prototype.axis=function(){var t=zi("axis",{plot:this,dim:"x"}),e=zi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.tooltip=function(){var t,e;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,f.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((e=n.custom)===null||e===void 0?void 0:e.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,f.deepMix)({},n)),(0,f.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},r.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},r.prototype.customTooltip=function(){var t=this.options.tooltip.custom,e;t.container&&(e=(0,f.isString)(t.container)?document.getElementById(t.container):t.container),e||(e=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(e,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(e,n)})},r.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&e.length>1&&e[1]==="center"?e[0]:t},r.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var e=(0,f.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,f.get)(e,"position")),offsetX:(0,f.get)(e,"offsetX"),offsetY:(0,f.get)(e,"offsetY"),flipPage:(0,f.get)(e,"flipPage"),marker:(0,f.get)(e,"marker"),title:((t=e.title)===null||t===void 0?void 0:t.visible)?(0,f.get)(e,"title"):null,itemName:(0,f.get)(e,"text")};this.setConfig("legends",n)},r.prototype.annotation=function(){var t=this,e=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,f.each)(this.options.guideLine,function(n){var a=zi("guideLine",{plot:t,cfg:n});e.push(a)}),this.setConfig("annotations",e)},r.prototype.interaction=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e;(0,f.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,f.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},r.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},r.prototype.applyInteractions=function(){var t=this,e=mn.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new mn(e.minX,e.minY,e.width,n?n.getBBox().maxY:0);e=e.cut(a,Vn.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(l){l.destroy()}),this.interactions=[],s.forEach(function(l){var u=np.getInteraction(l.type,t.type);if(u){var c=new u({view:t.view},t,u.getInteractionRange(e,l.cfg),l.cfg);c.render(),t.interactions.push(c)}})},r.prototype.setConfig=function(t,e){if(t==="geometry"){this.config.geometries.push(e);return}if(t==="interaction"){this.config.interactions.push(e);return}if(e===!1){this.config[t]=!1;return}(0,f.assign)(this.config[t],e)},r.prototype.parseEvents=function(t){var e=this,n=this.options;if(n.events){i.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:_n;(0,f.each)(n.events,function(o,s){if((0,f.isFunction)(o)){var l=a[s]||s,u=o;xi(e,l,u)}})}},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),$o(t.title)){var n=this.width,a=this.config.theme,o=new Il({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:$o(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),$o(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new Il({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l,this.paddingController.registerPadding(l,"outer")}},r.prototype.doRenderLabel=function(t,e){(0,f.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:e},a=FE(e.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},r.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},r.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},r.prototype.doDestroyLabels=function(){(0,f.each)(this.labels,function(t){t.destroy()}),this.labels=[]},r.prototype.getViewRange=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e,a=this.paddingController.processOuterPadding();n.forEach(function(s){var l=np.getInteraction(s.type,t.type),u=l&&l.getInteractionRange(a,s.cfg),c="";u&&(u.maxY===a.maxY&&u.minY>a.minY?c="bottom":u.maxX===a.maxX&&u.minX>a.minX?c="right":u.minX===a.minX&&u.maxX>a.maxX?c="left":u.minY===a.minY&&u.maxY<a.maxY&&(c="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return u},position:c},"outer"))});var o=this.paddingController.processOuterPadding();return o},r.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,f.hasKey)(t,"max")||(0,f.hasKey)(t,"min")||(0,f.hasKey)(t,"maxLimit")||(0,f.hasKey)(t,"minLimit"))},r.prototype.viewRangeToRegion=function(t){var e=this,n=e.x,a=e.y,o=e.width,s=e.height,l={x:0,y:0},u={x:1,y:1};return l.x=t.minX/(n+o),l.y=t.minY/(a+s),u.x=t.maxX/(n+o),u.y=t.maxY/(a+s),{start:l,end:u}},r}(Ol),vi=aT,oT=v(91033),sT=function(){function i(r){var t=this;this.onResize=(0,f.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var e=r.containerDOM,n=r.plot;this.containerDOM=e,this.plot=n,this.init()}return i.prototype.getCanvasSize=function(){var r=Ui(),t=this.plot.width?this.plot.width:r.width,e=this.plot.height?this.plot.height:r.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,e=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:e),{width:t,height:e}},i.prototype.getCanvasDOM=function(){return this.canvas.get("container")},i.prototype.updateCanvasSize=function(){var r=this.getCanvasSize(),t=r.width,e=r.height;this.width=t,this.height=e,this.canvas.changeSize(t,e)},i.prototype.updateCanvasTheme=function(){var r=this.plot.theme,t=oc.getGlobalTheme(r),e=(0,f.get)(t,"backgroundStyle.fill");e&&this.updateCanvasStyle({backgroundColor:e})},i.prototype.updateCanvasStyle=function(r){(0,Tt.Z)(this.getCanvasDOM(),r),(0,Tt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},i.prototype.bindForceFit=function(){var r=this.plot.forceFit;r&&(this.resizeObserver=new oT.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},i.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},i.prototype.initGCanvas=function(){var r=this.plot,t=r.renderer,e=t===void 0?"canvas":t,n=r.pixelRatio,a=r.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),l=s.width,u=s.height,c=e==="canvas"?yv:Av;this.canvas=new c({localRefresh:o,container:this.containerDOM,width:l,height:u,pixelRatio:n}),this.width=l,this.height=u,this.updateCanvasTheme()},i}(),lT=sT;function uT(i,r){return!!(i&&r&&i===r)}function fT(i,r){return i.x>=r.minX&&i.x<=r.maxX&&i.y>=r.minY&&i.y<=r.maxY}var cT=function(){function i(r){this.plot=r.plot,this.canvas=r.canvas,this.eventHandlers=[]}return i.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,f.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,f.wrapBehavior)(this,"onEvents"))},i.prototype.clearEvents=function(){var r=this.eventHandlers;(0,f.each)(r,function(t){t.target.off(t.type,t.handler)})},i.prototype.addEvent=function(r,t,e){r.on(t,e),this.eventHandlers.push({target:r,type:t,handler:e})},i.prototype.onEvents=function(r){var t=this.getEventObj(r),e=r.target;!this.isShapeInView(e)&&e.name&&this.plot.emit(e.name+":"+r.type,r),this.plot.emit(""+r.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,r.type)},i.prototype.onMove=function(r){var t=r.target,e=this.getEventObj(r);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+r.type,e),this.lastShape&&!uT(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",e),this.plot.emit(t.name+":mouseenter",e)),this.lastShape=t),this.plot.emit("mousemove",e);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,e,"mousemove")},i.prototype.isShapeInView=function(r){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],e=r.get("parent");e;){var n=e.get("name");if(n&&(0,f.contains)(t,n))return!0;e=e.get("parent")}return!1},i.prototype.getEventObj=function(r){var t={clientX:r.clientX,clientY:r.clientY,x:r.x,y:r.y,plot:this.plot,data:r.data?r.data.data:null,canvas:this.canvas,target:r.target,gEvent:r};return t},i.prototype.onLayerEvent=function(r,t,e){var n=this;(0,f.each)(r,function(a){var o=a.getGlobalBBox();if(fT({x:t.x,y:t.y},o)){a.emit(""+e,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,e)}})},i}(),hT=cT,pp={};function On(i,r){pp[i.toLowerCase()]=r}function vT(i){return pp[i.toLowerCase()]}var dT=function(i){nr(r,i);function r(t,e){var n=i.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,f.isNil)(e.forceFit)?(0,f.isNil)(e.width)&&(0,f.isNil)(e.height):e.forceFit,n.renderer=e.renderer||"canvas",n.pixelRatio=e.pixelRatio||null,n.width=e.width,n.height=e.height,n.theme=e.theme,n.localRefresh=e.localRefresh,n.canvasController=new lT({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(e),n.eventController=new hT({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(e),n}return r.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},r.prototype.repaint=function(){this.canvasController.canvas.draw()},r.prototype.updateConfig=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof vi&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof Ol&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},r.prototype.changeData=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof vi&&a.changeData(t)});else{var n=this.layers[0];n instanceof vi&&n.changeData(t)}},r.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},r.prototype.getXScale=function(){return this.layers[0].getXScale()},r.prototype.getYScale=function(){return this.layers[0].getYScale()},r.prototype.getColorScale=function(){return this.layers[0].getColorScale()},r.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},r.prototype.getData=function(){var t=this.layers[0];return t.getData()},r.prototype.bindStateManager=function(t,e){this.eachLayer(function(n){n instanceof vi&&n.bindStateManager(t,e)})},r.prototype.setActive=function(t,e){this.eachLayer(function(n){n instanceof vi&&n.setActive(t,e)})},r.prototype.setSelected=function(t,e){this.eachLayer(function(n){n instanceof vi&&n.setSelected(t,e)})},r.prototype.setDisable=function(t,e){this.eachLayer(function(n){n instanceof vi&&n.setDisable(t,e)})},r.prototype.setDefault=function(t,e){this.eachLayer(function(n){n instanceof vi&&n.setDefault(t,e)})},r.prototype.getView=function(){return this.layers[0].view},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},r.prototype.getCanvas=function(){return this.canvasController.canvas},r.prototype.getLayers=function(){return this.layers},r.prototype.render=function(){this.eachLayer(function(t){return t.render()})},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&this.layers.push(t)},r.prototype.createLayers=function(t){if(!t.layers){if(t.type){var e=vT(t.type),n=(0,f.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new e(n);this.addLayer(a)}}},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(Md);t.events&&(0,f.each)(t.events,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=Md[o]||o,l=a;e.on(s,l)}})},r}(Zt.default),pn=dT,pT=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},i}(),Is=pT,gT=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();if(n&&(e.fields=n),(0,f.has)(t,"color")){var a=t.color;(0,f.isString)(a)?e.values=[a]:(0,f.isFunction)(a)?e.callback=a:(0,f.isArray)(a)&&(n?e.values=a:a.length>0&&(e.values=[a[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(Is),gp=gT;function yT(i,r){var t=[];if(i.length){for(var e=0,n=i.length;e<n;e+=1){var a=i[e],o=e===0?"M":"L";t.push([o,a.x,a.y])}r&&t.push(["Z"])}return t}function yp(i,r){var t=i.getCenter(),e=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return e}function sc(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convertPoint({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function mT(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",c=Math.abs(s[u]-o[u])*(a-n),h=s[u]>=o[u]?1:0,g=c>Math.PI?1:0,w=t.convertPoint(s),L=yp(t,w);if(L>=.5)if(c===Math.PI*2){var D={x:(s.x+o.x)/2,y:(s.y+o.y)/2},N=t.convertPoint(D);l.push(["A",L,L,0,g,h,N.x,N.y]),l.push(["A",L,L,0,g,h,w.x,w.y])}else l.push(["A",L,L,0,g,h,w.x,w.y]);return l}function xT(i){each(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var bT=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var c=0,h=i.length;c<h;c++){var g=i[c];l=ve.min([0,0],l,g),u=ve.max([0,0],u,g)}l=ve.min([0,0],l,e[0]),u=ve.max([0,0],u,e[1])}for(var c=0,w=i.length;c<w;c++){var g=i[c];if(t)a=i[c?c-1:w-1],o=i[(c+1)%w];else if(c===0||c===w-1){n.push(g);continue}else a=i[c-1],o=i[c+1];var L=[0,0];L=ve.sub(L,o,a),L=ve.scale(L,L,r);var D=ve.distance(g,a),N=ve.distance(g,o),H=D+N;H!==0&&(D/=H,N/=H);var X=ve.scale([0,0],L,-D),mt=ve.scale([0,0],L,N),xt=ve.add([0,0],g,X),Pt=ve.add([0,0],g,mt);s&&(xt=ve.max([0,0],xt,l),xt=ve.min([0,0],xt,u),Pt=ve.max([0,0],Pt,l),Pt=ve.min([0,0],Pt,u)),n.push(xt),n.push(Pt)}return t&&n.push(n.shift()),n};function wT(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=bT(n,.4,e,t),l=n.length,u=[],c,h,g,a=0;a<l-1;a++)c=s[a*2],h=s[a*2+1],g=n[a+1],u.push(["C",c[0],c[1],h[0],h[1],g[0],g[1]]);return e&&(c=s[l],h=s[l+1],g=n[0],u.push(["C",c[0],c[1],h[0],h[1],g[0],g[1]])),u}function ST(i,r){return yT(i,r)}function lc(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return ST(i,r);(0,f.each)(i,function(l){(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)});var o=t||[[0,0],[1,1]],s=wT(e,r,o);return s.unshift(["M",n.x,n.y]),s}function L7(i,r){return yp(i,r)}function _7(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function D7(i,r){var t=[];return each(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(sc(e,i));break;case"z":default:t.push(e);break}}),t}function B7(i,r){var t=[],e,n,a,o;return each(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(sc(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(mT(e,n,i)):t.push(sc(s,i));break;case"z":default:t.push(s);break}}),xT(t),t}Nn("area","miniArea",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=mp(i,this,!1),n=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),a=r.addShape("path",{attrs:{path:e,fill:bp(i.color||Ui().defaultColor),opacity:t||.4},style:n});return a}}),Nn("area","miniAreaSmooth",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=mp(i,this,!0),n=r.addShape("path",{attrs:{path:e,fill:bp(i.color||Ui().defaultColor),opacity:t||.5}});return n}});function mp(i,r,t){var e=[[0,0],[1,1]],n=[],a=[];(0,f.each)(i.points,function(u){n.push(u[1]),a.push(u[0])}),a=r.parsePoints(a.reverse()),n=Jf(r.parsePoints(n));var o=t?lc(n,!1,e):xp(n),s=xp(a);s[0][0]="L";var l=o.concat(s);return l}function xp(i){for(var r=[],t=0;t<i.length;t++){var e=i[t],n=t===0?"M":"L";r.push([n,e.x,e.y])}return r}function bp(i){return"l(90) 0:"+i+" 1:#ffffff"}var CT=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},r}(gp),MT=CT,ET={main:gp,mini:MT},wp=["colorField","stackField","groupField"],AT=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.type="interval",i.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var n=this._getStyleProps(t);n&&this.parseStyle(n)},r.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),n={};e&&(n.fields=e),t.color&&((0,f.isString)(t.color)?n.values=[t.color]:(0,f.isFunction)(t.color)?n.callback=t.color:(0,f.isArray)(t.color)?e?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,f.isObject)(t.color)&&(n.fields=e,n.callback=function(a){return t.color[a]})),this.config.color=n},r.prototype.parseSize=function(t){var e=this.plot.options,n={};(0,f.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},r.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,f.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[e.xField,e.yField],o.callback=a):o.cfg=a,this.config.style=o},r.prototype._getSizeProps=function(t){for(var e=["columnSize","barSize"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getStyleProps=function(t){for(var e=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getColorMappingField=function(t){for(var e=0,n=wp;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=wp;e<n.length;e++){var a=n[e];if(t[a])return!0}return!1},r}(Is),TT=AT,PT={main:TT},OT=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,f.get)(t,["line","style"]))&&this.parseStyle()},r.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};(0,f.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),(0,f.has)(t,"color")){var n=t.color;(0,f.isString)(n)?e.values=[n]:(0,f.isFunction)(n)?e.callback=n:(0,f.isArray)(n)&&(t.seriesField?e.values=n:n.length>0&&(e.values=[n[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||(0,f.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r}(Is),uc=OT,IT=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?(e.fields=n,e.callback=t.color):(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]])),this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.line.style,n={};(0,f.isFunction)(e)?(n.fields=this.config.position.fields,n.callback=e):n.cfg=e,this.config.style=n},r.prototype._needParseAttribute=function(t){var e=this.plot.options;return e[t]?!0:!!e.line[t]},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(uc),kT=IT;Nn("line","miniLine",{draw:function(i,r){for(var t=Jf(i.points),e=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";e.push([o,a.x,a.y])}var s=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),l=r.addShape("path",{attrs:(0,f.mix)({path:e,stroke:i.color||Ui().defaultColor,lineWidth:i.size||2},s)});return l}}),Nn("line","miniLineSmooth",{draw:function(i,r){var t=Jf(i.points),e=[[0,0],[1,1]],n=lc(t,!1,e),a=r.addShape("path",{attrs:(0,f.mix)({path:n,stroke:i.color||Ui().defaultColor,lineWidth:i.size||2},i.style)});return a}});var LT=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},r}(uc),_T=LT,DT={main:uc,guide:kT,mini:_T},BT=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=(0,f.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),(0,f.isEmpty)(e)||(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=(0,f.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},r.prototype.parseShape=function(t){this.config.shape=t},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,f.isFunction)(e)?(s?n.fields=(0,f.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=e):(n.cfg=e,(0,f.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},r.prototype._parseColor=function(t,e){(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(e.values=t.color)},r}(Is),FT=BT;function RT(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[i];t.push(n)}),(0,f.uniq)(t)}var NT=["seriesField","stackField"],GT=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,e,n);else if(t.point&&t.point.color)e.values=[t.point.color];else if(t.color)this._parseColor(t,e);else{var a=this.plot.getTheme();e.values=[a.defaultColor]}(0,f.keys)(e).length>0&&(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},r.prototype.parseShape=function(t){var e={};(0,f.isString)(t)?e.values=[t]:(0,f.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,f.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,a&&n.fields.unshift(a)):n.cfg=e,this.config.style=n},r.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var a=RT(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e)},r.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]]))},r.prototype._needParseAttribute=function(t){var e=this.plot.options,n=e.point&&(0,f.has)(e.point,t);return n},r.prototype._getColorMappingField=function(t){for(var e=0,n=NT;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r}(Is),YT=GT,zT={guide:YT,circle:FT},VT={area:ET,line:DT,point:zT,interval:PT};function yi(i,r,t){var e=VT[i][r];return new e(t).config}function XT(i){var r=wE,t=i.split(" "),e=r[t[1]],n=parseInt(t[0],10);return[e.format,n*e.value]}function Ai(i,r){if(!r)return i;Object.prototype.hasOwnProperty.call(r,"tickCount")&&(i.tickCount=r.tickCount),Object.prototype.hasOwnProperty.call(r,"type")&&r.type!=="dateTime"&&(i.type=r.type),Object.prototype.hasOwnProperty.call(r,"tickInterval")&&(r.type==="time"?i.tickInterval=XT(r.tickInterval):i.tickInterval=r.tickInterval),r.type==="time"&&r.mask&&(i.mask=r.mask),Object.prototype.hasOwnProperty.call(r,"min")&&(i.min=r.min),Object.prototype.hasOwnProperty.call(r,"max")&&(i.max=r.max),Object.prototype.hasOwnProperty.call(r,"minLimit")&&(i.minLimit=r.minLimit),Object.prototype.hasOwnProperty.call(r,"maxLimit")&&(i.maxLimit=r.maxLimit),Object.prototype.hasOwnProperty.call(r,"nice")&&(i.nice=r.nice),Object.prototype.hasOwnProperty.call(r,"formatter")&&(i.formatter=r.formatter),Object.prototype.hasOwnProperty.call(r,"exponent")&&(i.exponent=r.exponent),Object.prototype.hasOwnProperty.call(r,"base")&&(i.base=r.base),r.tickMethod&&(i.tickMethod=r.tickMethod)}function HT(i,r){var t=(0,f.filter)(r,function(a){return(0,f.isNumber)(a)}),e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);e>0?(0,f.isNil)(i.min)&&(i.min=0):n<0&&(0,f.isNil)(i.max)&&(i.max=0)}var fc;function WT(i,r){var t={easing:"easeLinear",duration:1e4},e=(0,f.deepMix)({},r,t),n=i.get("element").geometry;n.labelsContainer.set("visible",!1);var a=i.get("index"),o=n.coordinate,s=n.scales,l=s[fc.options.yField],u=(0,f.clone)(i.get("origin"));jT(i,o);var c=i.get("clipShape"),h=i.get("parent"),g=12,w=null,L=fc.options.seriesField;L&&(w=h.addShape("text",{attrs:{x:o.start.x+g,y:0,text:u.data[0][L],fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var D=w?16:0,N=h.addShape("text",{attrs:{x:o.start.x+g,y:D,text:"test"+a,fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});e.callback=function(){i&&!i.get("destroyed")&&(i.setClip(null),c.remove(),N.animate({opacity:0},300,function(){N.remove(),(0,f.isNil)(w)||w.remove();var mt=n.labelsContainer;mt.get("visible")||mt.set("visible",!0)}))};var H=e.delay;(0,f.isFunction)(H)&&(H=e.delay(a));var X=e.easing;(0,f.isFunction)(X)&&(X=e.easing(a)),c.animate({width:o.getWidth()},e.duration,X,e.callback,H),e.onFrame=function(mt){var xt=Sp(mt,u,o);if(!!xt){N.attr("x",xt[0]+g),N.attr("y",xt[1]+D);var Pt=UT(l,xt[1],o);l.formatter&&(Pt=l.formatter(Pt)),N.attr("text",Pt)}},N.animate(e.onFrame,{duration:e.duration,easing:X,callback:e.callback,delay:H}),w&&w.animate({onFrame:function(mt){var xt=Sp(mt,u,o);!xt||(w.attr("x",xt[0]+g),w.attr("y",xt[1]))}},e.duration,X,e.callback,H)}function jT(i,r){var t=r.start,e=r.end,n=r.height;i.setClip({type:"rect",attrs:{x:t.x,y:e.y,width:0,height:n}})}function Sp(i,r,t){for(var e=r.points,n=t.start.x+t.getWidth()*i,a=0;a<e.length-1;a++){var o=e[a],s=e[a+1];if(n>=o.x&&n<=s.x){var l=(s.y-o.y)/(s.x-o.x),u=o.y+l*(n-o.x);return[n,u]}}}function UT(i,r,t){var e=(r-t.start.y)/(t.end.y-t.start.y);return i.invert(e).toFixed(2)}function ZT(i){fc=i}wi("clipingWithData",WT);var QT=function(){function i(r){this.type="shape",this.shapes=r.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,f.deepMix)([],this.nodes)}return i.prototype.measure=function(r){var t=(0,f.deepMix)({},VE(r),{shape:r});return t},i.prototype.measureNodes=function(){var r=this,t=[],e=[];(0,f.each)(this.shapes,function(n,a){var o=(0,f.deepMix)({},r.nodes[a],r.measure(n));o.width!==0&&o.height!==0&&(t.push(o),e.push(n))}),this.nodes=t,this.shapes=e},i.prototype._parserNodes=function(){var r=this;(0,f.each)(this.shapes,function(t){var e=r.measure(t);r.nodes.push(e)})},i}(),Cp=QT;function KT(i,r,t){return t===void 0&&(t={ratio:.6}),r.width*t.ratio}var $T={type:"padding",usage:"assign",expression:KT};function JT(i,r){var t=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],e=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],n=Bd(t,e);return Math.round(n)>=2}var qT={type:"group",usage:"compare",expression:JT};function tP(i,r,t){t===void 0&&(t={value:4});var e=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],a=Bd(e,n);return Math.round(a)>=t.value}var eP={type:"chain",usage:"compare",expression:tP};function rP(i,r,t){t===void 0&&(t={value:5});var e=Math.abs(i.bottom-r.top);return Math.round(e)>=t.value}var nP={type:"chain",usage:"compare",expression:rP};function iP(i,r,t){return t===void 0&&(t={ratio:.15}),i.width<r.width*t.ratio}var aP={type:"padding",usage:"compare",expression:iP};function oP(i,r){var t=2,e=r.coord.radius/t;return Math.min(e,i.value)}var sP={type:"padding",usage:"assign",expression:oP};function lP(i,r,t){return t===void 0&&(t={ratio:.8}),r.radius*t.ratio}var uP={type:"padding",usage:"assign",expression:lP},Mp={elementDist:eP,elementDistVertical:nP,elementCollision:qT,elementWidth:aP,columnWidth:$T,ringThickness:uP,minRingThickness:sP};function F7(i,r){Mp[i]=r}function es(i){i.attr("text","")}function fP(i,r,t,e){var n=e.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var l=n[s],u=l.shape;if(s!==t&&!u.get("blank")){var c=Ep(a,l);c&&o.push(l)}}o.length>0&&(o.push(a),o.sort(function(h,g){return g.top-h.top}),(0,f.each)(o,function(h,g){if(g>0){var w=h.shape;es(w),w.set("blank",!0)}}))}function Ep(i,r){return!(i.bottom<r.top||r.bottom<i.top||i.right<r.left||r.right<i.left)}var wo=v(19432),cP=1e3,Ap=60*cP,cc=60*Ap,Xl=24*cc,Tp=31*Xl,Pp=365*Xl;function Op(i,r,t,e){var n=e.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=i.get("delegateObject").item.name,l=new Date(s),u=n[0].shape.get("delegateObject").item.name,c=new Date(u),h=n[n.length-1].shape.get("delegateObject").item.name,g=new Date(h),w=Ip(c,g),L=Ip(l,o);if(w===L){if(t!==0&&t!==n.length-1){var D=dP(w);i.attr("text",wo.default.format(l,D))}return}if(t!==0){var N=n[t-1].shape.get("delegateObject").item.name,H=new Date(N),X=hP(w,l,H);if(X){var D=vP(w,L);i.attr("text",wo.default.format(l,D));return}}}function hP(i,r,t){var e=kp(r,i),n=kp(t,i);return e===n}function Ip(i,r){var t,e=Math.abs(i-r),n={minute:[Ap,cc],hour:[cc,Xl],day:[Xl,Tp],month:[Tp,Pp],year:[Pp,Infinity]};return(0,f.each)(n,function(a,o){e>=a[0]&&e<a[1]&&(t=o)}),t}function vP(i,r){for(var t=["year","month","day","hour","minute"],e=["YYYY","MM","DD","HH","MM"],n=t.indexOf(i)+1,a=t.indexOf(r),o="",s=n;s<=a;s++)o+=e[s],s<a&&(o+="-");return o}function dP(i){var r=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],e=r.indexOf(i),n=t[e];return n}function kp(i,r){if(r==="year")return i.getFullYear();if(r==="month")return i.getMonth()+1;if(r==="day")return i.getDay()+1;if(r==="hour")return i.getHours()+1;if(r==="minute")return i.getMinutes()+1}function pP(i){var r=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return r.test(i)||t.test(i)}var Lp={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function _p(i,r,t,e){if(!(!(0,f.has)(e,"node")||!(0,f.has)(e.node,"node"))){var n=e.nodes.nodes,a=parseFloat(i.get("origin").text);if(a!==0){if(r.formatter){i.attr("text",r.formatter(a));return}if(r.unit){var o=Dp(r,a),s=o.num,l=o.unitname;i.attr("text",s+l)}else{var u=yP(n),c=Fd(u),l=gP(c),h=Lp[l].number,g=mP(n),w=xP(g,h),s=Dp({unit:l,decimal:w},a).num;i.attr("text",s+l)}}}}function Dp(i,r){var t=["k","m","b","t"],e,n;if(i.unit==="auto"){var a=Math.floor(Math.log(r)/Math.log(1e3));n=t[a-1],e=(r/Math.pow(1e3,a)).toFixed(i.decimal)}else if(i.unit){var o=Lp[i.unit];n=i.unit,e=(r/o.number).toFixed(i.decimal)}return{num:e,unitname:n}}function gP(i){var r=["k","m","b","t"],t=Math.floor(Math.log(i)/Math.log(1e3));return r[t-1]}function yP(i){var r=[];return(0,f.each)(i,function(t){var e=t,n=parseFloat(e.shape.get("origin").text);r.push(n)}),r}function mP(i){if(i.length>=2){var r=parseFloat(i[0].shape.get("origin").text),t=parseFloat(i[1].shape.get("origin").text);return Math.abs(r-t)}return 0}function xP(i,r){var t=Math.floor(Math.log10(r));if(i>=r){var e=i%r;if(e>0){var n=Math.floor(Math.log10(e));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(i));return Math.abs(a-t)}return 0}function bP(i,r,t){var e=t.nodes.nodes;if(r!==e.length-1){var n=e[r],a=e[r+1],o=wP(n,a).dir,s=i.get("startPoint");o==="x"&&i.attr("y",s.y+20)}}function wP(i,r){var t,e={x:r.centerX-i.centerX,y:r.centerY-i.centerY},n=Math.sqrt(e.x*e.x+e.y*e.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=$f(e,a),l=s/(n*o)*180/Math.PI;l<0&&(l=360-l),l=SP(l);var u=Math.abs(i.centerX-r.centerX),c=Math.abs(i.centerY-r.centerY);return l>45?t="x":l<45&&(t="y"),{dir:t,distX:u,distY:c}}function SP(i){return i>90&&i<=180?180-i:i>180&&i<270?i-180:360-i}function CP(i,r,t,e){var n=e.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(Ep(a,o)){var s=e.plot.view.geometries[0].elements[0],l=o.top-a.height/2,u=10;if(l-u>e.region.top){var c=a.shape.get("origin"),h=s.getShapeId(c),g=s.getShapes(),w=MP(h,g).get("box"),L=w.left+w.width/2,D=w.top,N=s.get("labelController").labelsContainer,H=N.addShape("path",{attrs:{path:[["M",L,D],["L",a.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),X={x:i.attr("x"),y:i.attr("y")};a.shape.attr("y",l-u),n[t]=e.nodes.measure(a.shape),n[t].line=H,n[t].origin_position=X}}}}function MP(i,r){var t;return(0,f.each)(r,function(e){var n=e,a=n.get("id");a===i&&(t=n)}),t}function EP(i,r,t,e){var n=e.nodes.nodes,a=n.length%2!=0;if(!Bp(r.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&es(i)}}function Bp(i,r,t){var e=[];(0,f.each)(i,function(s){s==="start"?e.push(r===0):s==="end"?e.push(r===t.length-1):(0,f.isNumber)(s)&&e.push(r===s)});for(var n=0,a=e;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function AP(i,r,t,e){var n=e.nodes.nodes;if(!Bp(r.keep,t,n)){var a=i.attr("text"),o=i.get("delegateObject").item.name;a!==o&&es(i)}}function TP(i,r,t,e){var n=e.nodes.nodes,a=OP(n);if(!(t<=1)){var o=n[t],s=PP(t,n),l=s.centerX-o.centerX,u=s.centerY-o.centerY,c=Math.sqrt(l*l+u*u);c<a&&(es(i),i.set("blank",!0))}}function PP(i,r){for(var t=i-1;t>0;t--){var e=r[t];if(!e.shape.get("blank"))return e}}function OP(i){var r=(0,f.deepMix)([],i);return r.sort(function(t,e){return e.width-t.width}),Math.round(r[0].width)}function IP(i,r,t,e){var n=e.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=e.plot.initialOptions.data,s=e.plot[e.plot.type]||e.plot[e.plot.baseType],l=(0,f.get)(s,["label","fields",0],(0,f.get)(s,["position","fields",1])),u=kP(o,l,n),c=!1;if((0,f.each)(u,function(L){L.shape.get("origin")===a.shape.get("origin")&&(c=!0)}),c){if(a.origin_position){var h=a.origin_position,g=h.x,w=h.y;i.attr("x",g),i.attr("y",w)}}else es(i)}function kP(i,r,t){var e=[];(0,f.each)(i,function(c){e.push(c[r])}),e.sort(function(c,h){return c-h});var n=e[0],a=hc(t,r,n),o=e[e.length-1],s=hc(t,r,o),l=LP(e),u=hc(t,r,l);return{min:a,max:s,median:u}}function LP(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2,r[t]}function hc(i,r,t){for(var e=0,n=i;e<n.length;e++){var a=n[e],o=a.shape.get("origin")._origin;if(o[r]===t)return a}}function Fp(i,r){var t=r.abbreviateBy?r.abbreviateBy:"end",e=i.attr("text"),n;t==="end"&&(n=e[0]+"..."),t==="start"&&(n="..."+e[e.length-1]),t==="middle"&&(n=e[0]+"..."+e[e.length-1]),i.resetMatrix(),i.attr({text:n,textAlign:"center",textBaseline:"top"})}function _P(i,r,t,e){var n=e.nodes.nodes,a=i.attr("text"),o=/^\d+$/.test(a);o?_p(i,r,t,n):pP(a)?Op(i,r,t,n):Fp(i,r)}function DP(i,r){i.resetMatrix(),i.attr({rotate:360-r.degree,textAlign:"right",textBaseline:"middle"})}function BP(i,r){for(var t=i.attr("text"),e=Math.ceil(t.length/r.lineNumber),n="",a=1;a<r.lineNumber;a++){var o=e*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=i.attr("fontSize");i.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var Rp={textWrapper:BP,textRotation:DP,textAbbreviate:Fp,textHide:es,digitsAbbreviate:_p,datetimeStringAbbrevaite:Op,robustAbbrevaite:_P,nodesResampling:EP,nodesResamplingByAbbrevate:AP,nodesResamplingByChange:TP,nodesResamplingByState:IP,nodeJitter:bP,nodeJitterUpward:CP,clearOverlapping:fP};function R7(i,r){Rp[i]=r}var FP=function(){function i(r){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,f.assign)(this,r),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return i.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},i.prototype._iteration=function(){var r;this.nodes.type==="shape"?r=this.nodes:r=this.nodes,r.type==="shape"&&r.measureNodes(),this.rules&&this._applyRules(),r.type==="shape"&&r.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},i.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},i.prototype._run=function(){for(var r=this._constraintsTest();!r&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),r=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},i.prototype._constraintsTest=function(){var r=Mp[this.currentConstraint.name],t=this.currentConstraint.option;return r.usage==="compare"?this._constraintCompare(r,t):this._constraintAssignment(r,t)},i.prototype._constraintCompare=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintCompare(n,a,t);if(e==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(e==="group")return this._groupConstraintCompare(n,a,t)},i.prototype._chainConstraintCompare=function(r,t,e){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(r(a,o,e)===!1)return!1}return!0},i.prototype._paddingConstraintCompare=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a];if(r(s,t,n)===!1)return!1}return!0},i.prototype._groupConstraintCompare=function(r,t,e){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(r(a,s,e)===!1)return!1}return!0},i.prototype._constraintAssignment=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintAssign();if(e==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},i.prototype._chainConstraintAssign=function(){return!0},i.prototype._paddingConstraintAssign=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a],l=r(s,t,n);s.value=l}return!0},i.prototype._applyRules=function(){for(var r=this.rules[this.currentConstraint.name][this.iterationIndex],t=Rp[r.name],e=r.option?r.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,e,a)}},i.prototype._applyRule=function(r,t,e,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(r,e,n,a)},i}(),Np=FP,RP=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},i}(),Gp=RP,NP={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},GP=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.axisInstance=this.getAxisInstance(),i.prototype.init.call(this)},r.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},r.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll(function(c){var h=c.get("name");if(h==="axis-label"){var g=c.get("delegateObject").axis.get("field");if(g===t.plot.options[t.dim+"Field"])return c}}),n=[],a=0;a<e.length;a++)n.push(e[a]);var o=new Cp({shapes:n}),s=this.responsiveTheme.axis.x[this.type],l=s.constraints,u=s.rules;new Np({nodes:o,constraints:l,region:this.plot.getViewRange(),rules:u,plot:this.plot,onEnd:function(c){t.updateTicks(c.origion_nodes)}})},r.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&t[e].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return NP[a]},r.prototype.getAxisInstance=function(){var t,e,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(e=a[n])===null||e===void 0?void 0:e.component},r.prototype.updateTicks=function(t){var e=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var l=o.get("delegateObject").axis.get("field");if(l===e.plot.options[e.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,f.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},r}(Gp),So=GP;function YP(i){var r=i.getResponsiveTheme(),t=i.canvas;new So({plot:i,responsiveTheme:r,dim:"x"}),new So({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var zP=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},r.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];(0,f.each)(t,function(l){e=e.concat(l.findAllByName("label"))});var n=new Cp({shapes:e}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new Np({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},r.prototype.getType=function(){return null},r}(Gp),Yp=zP,VP=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","type"],"point")},r}(Yp);function XP(i){var r=i.getResponsiveTheme();new VP({plot:i,responsiveTheme:r})}var HP=[],WP=[{name:"responsiveAxis",method:YP},{name:"responsivePointLabel",method:XP}],jP={preRender:HP,afterRender:WP},zp=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return je({offsetX:0,offsetY:0},n)},r.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},r.prototype.getLabelItemAttrs=function(t,e){var n=this,a=this.options,o=a.style,s=a.formatter,l=(0,f.get)(t,"model.mappingData",[]);return(0,f.map)(l,function(u,c){var h,g=n.getValue(u);return je(je(je({},n.getPosition(u)),{text:s?s(g,(h={},h[Ps]=u._origin,h.mappingDatum=u,h.mappingDatumIndex=c,h.element=t,h.elementIndex=e,h),e):g,textAlign:"center",textBaseline:"middle"}),o)})},r.prototype.getValue=function(t){return(0,f.get)(t._origin,this.layer.options.yField)},r.prototype.getPosition=function(t){var e={x:(0,f.isArray)(t.x)?(0,f.last)(t.x):t.x,y:(0,f.isArray)(t.y)?(0,f.last)(t.y):t.y};return e},r.prototype.layoutLabels=function(t,e){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(e);if(a){var o=this.getGlobalTolerance(e);(0,f.each)(e,function(s,l){l>1&&n.labelResamplingByChange(s,e,l,o)})}a=this.isOverlapped(e),a&&(0,f.each)(e,function(s,l){s.get("visible")&&n.clearOverlapping(s,e,l)})}},r.prototype.adjustLabel=function(){},r.prototype.labelResamplingByChange=function(t,e,n,a){var o=this.findPrevious(n,e),s=this.getCenter(t),l=this.getCenter(o),u=l.x-s.x,c=l.y-s.y,h=Math.sqrt(u*u+c*c);h<a&&t.set("visible",!1)},r.prototype.clearOverlapping=function(t,e,n){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(o!==n&&s.get("visible")){var l=Td(t.getBBox(),s.getBBox());l&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(u,c){return c.minY-u.minY}),(0,f.each)(a,function(u,c){c>0&&u.set("visible",!1)}))},r.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible")){for(var n=t[e].getBBox(),a=0;a<t.length;a++)if(a!==e&&t[a].get("visible")){var o=t[a].getBBox(),s=Td(n,o);if(s)return!0}}return!1},r.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(e[0].getBBox().width)},r.prototype.findPrevious=function(t,e){for(var n=t-1;n>0;n--)if(e[n].get("visible"))return e[n]},r.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,a=e.maxX,o=e.minY,s=e.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},r}(Uf),Vp=zp;sa("point",zp);var Xp=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){var n=this,a,o=[],s=mn.fromBBoxObject(this.getCoordinateBBox()),l=t.getXYFields(),u=l[0],c=l[1],h=(0,f.groupBy)(e,function(w){return w.get(va)[Vn.FIELD_ORIGIN][u]}),g=(a=e[0])===null||a===void 0?void 0:a.get("offset");(0,f.each)((0,f.keys)(h).reverse(),function(w){for(var L=n.sortLabels(t,h[w]);L.length;){var D=L.shift();if(jA(D,o,function(X,mt){return X._origin[u]===mt._origin[u]&&X._origin[c]===mt._origin[c]})){D.set("visible",!1);continue}zl(D,s);var N=Vl(D,o),H=void 0;if(N&&(D.attr("y",D.attr("y")+2*g),zl(D,s),H=Vl(D,o)),H){D.set("visible",!1);continue}o.push(D)}})},r.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],a=[];return e.sort(function(o,s){return s.get(va)[Vn.FIELD_ORIGIN][n]-o.get(va)[Vn.FIELD_ORIGIN][n]}),e.length>0&&a.push(e.shift()),e.length>0&&a.push(e.pop()),a.push.apply(a,e),a},r}(Vp),UP=Xp;sa("point-auto",Xp);var ZP=8,QP=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=r.getShapeInfo(e.shape),a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,c=u?u(n.name):n.name;r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:n.x+s,y:n.y+l,text:c,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return delete t.fill,{offsetX:ZP,offsetY:0,style:t}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="line"})},i.prototype.getShapeInfo=function(r){var t=r.get("origin").points,e=t[t.length-1],n=r.attr("stroke"),a=this.plot.options.seriesField,o=r.get("origin").data[0][a];return{x:e.x,y:e.y,color:n,name:o}},i}(),Hp=QP,KP={line:"line",point:"point"},$P=Li(KP);(0,f.assign)(_n,$P);var JP={stroke:"transparent",fill:"#FCC509",lineWidth:0},qP={stroke:"#FFF",fill:"#FCC509",lineWidth:1},tO={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},eO=function(){function i(r){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:JP,selected:tO,active:qP},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=r.view,this.size=r.size||6,this.config=(0,f.deepMix)({},this.defaultCfg,r),this._init()}return i.prototype.render=function(){var r=this.getDataArray();this._renderPoints(r),this.view.canvas.draw(),this._addInteraction()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},i.prototype.getDataArray=function(){var r=this.view.geometries[0];return r.dataArray},i.prototype._init=function(){var r=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){r.clear()})},i.prototype._renderPoints=function(r){var t=this;(0,f.each)(this.config.data,function(e,n){(0,f.each)(r,function(a){var o=(0,f.find)(a,function(H){return(0,f.isMatch)(H._origin,e)});if(o){var s=t.config.style.normal,l=t.container.addGroup({name:t.name}),u=o.x,c=o.y;(0,f.isArray)(u)&&(u=u[0]),(0,f.isArray)(c)&&(c=c[0]);var h=t.config.symbol,g=t.config,w=g.offsetX,L=g.offsetY,D=void 0;if((0,f.isString)(h)&&h.startsWith("image://")){var N=h.substr(8);D=l.addShape("image",{attrs:{x:u-t.size/2+w,y:c-t.size/2+L,img:N,width:t.size,height:t.size}})}else h=(0,f.isString)(h)?pE.MarkerSymbols[h]:h,D=l.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:je(je({x:u+w,y:c+L,r:t.size/2},s),{symbol:h})});t.points.push(D),t._animatePoint(D),t._renderLabel(l,o,n),l.set("data",e),l.set("origin",o)}})})},i.prototype._renderLabel=function(r,t,e){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,l=s===void 0?0:s,u=n.formatter,c=n.position,h=n.field,g=t._origin[h];u&&(g=u(g,{_origin:t._origin},e));var w=(0,f.isArray)(t.x)?t.x[0]:t.x,L=(0,f.isArray)(t.y)?t.y[0]:t.y,D=r.addShape("text",{name:"marker-label",id:"label-"+e,attrs:je(je({x:w+o,y:L+l,text:g||""},n.style),{textAlign:"center",textBaseline:c==="top"?"bottom":"top"})});this.labels.push(D)}},i.prototype._addInteraction=function(){var r=this,t=this.config.events;(0,f.each)(t,function(e,n){r.container.on(r.name+":"+n,function(a){e(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var l=s.get("data"),u=s.get("id"),c={id:u,data:l};n==="click"?r.selectedPoint&&r.selectedPoint.get("id")===u?(r.selectedPoint=null,r.setState("inactive",c)):(r.selectedPoint=s,r.setState("selected",c)):n==="mouseenter"?r.setState("active",c):n==="mouseleave"&&r.setState("inactive",c)}r.view.canvas.draw()}),r.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==r.name&&r.selectedPoint)&&(r.selectedPoint=null,r.setState("inactive"))})})},i.prototype.setState=function(r,t){var e=this;r==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):r==="inactive"?this.points.forEach(function(n){return e._onInactive(n)}):r==="selected"&&this._onSelected(t)},i.prototype._onActive=function(r){var t=this,e=this.config.style.active;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._onInactive=function(r){var t=this.config.style.normal;(!this.selectedPoint||r.get("id")!==this.selectedPoint.get("id"))&&(0,f.each)(t,function(e,n){r.attr(n,e)})},i.prototype._onSelected=function(r){var t=this,e=this.config.style.selected;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._animatePoint=function(r){var t=this.config,e=t.animation,n=t.size;if(e!==!1){var a=e,o=a.endState,s=o===void 0?{}:o,l=a.animateCfg,u=l===void 0?mo.DEFAULT_ANIMATE_CFG.appear:l;r.animate(je({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),u)}},i}(),rO=eO,nO=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+1}},iO=function(i){var r=i.shape,t=r.attr("opacity")||1;return{opacity:t*.2}},aO=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+2}};la("line",{lineStyle:{normal:{},active:nO,disable:iO,selected:aO},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var oO={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};vp("line",oO);var sO=function(i){nr(r,i);function r(t){return i.call(this,je({processEvent:"mousemove"},t))||this}return r.prototype.start=function(){},r.prototype.process=function(t){var e=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",!1)})})},r}(ec),lO=sO,uO=function(i){nr(r,i);function r(t){return i.call(this,je({endEvent:"click"},t))||this}return r.prototype.start=function(){},r.prototype.end=function(t){var e=t.target,n=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"});if(e.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",!1)})})},r}(ec),fO=uO,cO=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return je(je({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},r}(md.Z);Pn("selected-tooltip",cO);var hO=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.getPoint();(0,f.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.showTooltip=function(t){var e=this.getTooltipController();e.showTooltip(t)},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},r.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,f.last)(e.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},r}(Le),vO=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return je(je({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},r}(md.Z);Pn("tooltip-active",vO);var dO=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.getView().removeInteraction("tooltip")},r.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},r.prototype.hide=function(){var t=this.getView(),e=this.getTooltipController();e.hideTooltip();var n=(0,f.filter)(t.geometries,function(a){return a.type=="point"});(0,f.each)(n,function(a){(0,f.each)(a.elements,function(o){o.setState("active",!1)})})},r.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,f.filter)(e.geometries,function(s){return s.type=="point"});(0,f.each)(o,function(s){(0,f.each)(s.elements,function(l){l.setState("active",(0,f.findIndex)(a,function(u){return u.data===l.data})!==-1)})})},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},r}(Le),pO=dO;lr("selected-tooltip",hO),Re("selected-tooltip",{start:[{trigger:Vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:Vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),lr("marker-active",pO),Re("marker-active",{start:[{trigger:Vn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:Vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var gO={line:"line",point:"point"},Wp=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},r.prototype.afterRender=function(){var t=this,e=this.options;this.renderLabel(),e.markerPoints&&((0,f.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],e.markerPoints.forEach(function(n){if(n.visible){var a=new rO(je(je({},n),{view:t.view}));t.markerPoints.push(a)}})),e.responsive&&e.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return gO[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&Ai(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Ai(e[t.yField],t.yAxis),this.setConfig("scales",e),HT(e[t.yField],(0,f.map)(t.data||[],function(n){return n[t.yField]})),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.tooltip=function(){(0,f.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){this.addLine(),this.addPoint()},r.prototype.addLine=function(){var t=this.options;this.line=yi("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},r.prototype.addPoint=function(){var t=this.options,e={visible:!1};t.point&&(t.point=(0,f.deepMix)(e,t.point)),t.point&&t.point.visible&&(this.point=yi("point","guide",{plot:this}),this.setConfig("geometry",this.point))},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=bo(this.view,"line");if(n.type==="line"){var l=new Hp(je({view:this.view,plot:this},this.options.label));l.render()}else this.doRenderLabel(s,je({type:"point",formatter:o.formatter&&function(u){return o.formatter(u)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation?(ZT({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},r.prototype.applyInteractions=function(){i.prototype.applyInteractions.call(this),this.interactions.push(new lO({view:this.view})),this.interactions.push(new fO({view:this.view}))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,A)},r.prototype.applyResponsive=function(t){var e=this,n=jP[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},r}(vi),ks=Wp;On("line",Wp);var yO=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ks.getDefaultOptions,r}(pn),jp=yO;function mO(i,r,t,e,n){var a=e-r,o=i.children,s=i.value;o.sort(function(c,h){return h.value-c.value});var l=a/s,u=r;(0,f.each)(o,function(c){c.y0=t,c.y1=n,c.x0=u,u+=c.value*l,c.x1=c.x0+c.value*l})}function xO(i,r,t,e,n){var a=n-t,o=i.children,s=i.value;o.sort(function(c,h){return h.value-c.value});var l=a/s,u=t;(0,f.each)(o,function(c){c.x0=r,c.x1=e,c.y0=u,u+=c.value*l,c.y1=c.y0+c.value*l})}var bO=(1+Math.sqrt(5))/2;function Up(i,r,t,e,n){var a=i.children,o=i.value;a.sort(function(te,oe){return oe.value-te.value});for(var s=[],l,u,c,h,g,w,L,D,N=0,H=0;N<a.length;){var X=e-r,mt=n-t;for(l=a[H++].value,u=l,c=l,h=Math.max(mt/X,X/mt)/(o*bO),g=l*l*h,L=Math.max(u/g,g/c);H<a.length;H++){if(D=a[H].value,l+=D,D<c&&(c=D),D>u&&(u=D),g=l*l*h,w=Math.max(u/g,g/c),w>L){l-=D;break}L=w}var xt={value:l,dice:X<mt,children:a.slice(N,H)};if(s.push(xt),xt.dice){var Pt=o?mt*l/o:mt;mO(xt,r,t,e,t+Pt),o&&(t+=Pt)}else{var Ht=o?X*l/o:X;xO(xt,r,t,r+Ht,n),o&&(r+=Ht)}o-=l,N=H}return s}var wO=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(e,n){return function(){var a=e.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=je({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=je({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=je({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=je({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=je({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},r.prototype.renderInner=function(t){var e=0,n=0;this.offEvents(),this.renderItems(t,e,n),Jd(this.group,this.x,this.y)},r.prototype.renderItems=function(t,e,n){var a=this,o=this.itemPadding,s=o[0],l=o[1],u=o[2],c=o[3],h,g=t.addShape("rect",{class:"breadcrumb-background",attrs:je({x:e,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(w,L){var D=t.addGroup({id:"item-group-"+w.key,data:w,class:"item-group",attrs:{cursor:"pointer"}}),N=D.addShape("rect",{id:"item-background-"+w.key,class:"item-background",attrs:je(je({x:e,y:n,width:c+l,height:s+u},a.itemBackgroundStyle),{cursor:"pointer"})});N.name="breadcrumb";var H=D.addShape("text",{id:"item-text-"+w.key,class:"item-text",attrs:je(je({x:e+c,y:n+s,text:w.text},a.textStyle),{cursor:"pointer"})});H.name="breadcrumb";var X=H.getBBox();h=a.itemHeight||X.height;var mt=a.itemWidth||X.width;a.maxItemWidth&&(mt=Math.min(mt,a.maxItemWidth));var xt={x:e,y:n,width:mt+c+l,height:h+s+u};if(N.attr("width",xt.width),N.attr("height",xt.height),D.setClip({type:"rect",attrs:xt}),e+=xt.width,L!==a.items.length-1){var Pt=t.addShape("text",{attrs:je({x:e,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});e+=Pt.getBBox().width}}),g.attr({width:e,height:h+s+u})},r.prototype.bindEvents=function(t){var e=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,l,u){return function(){var c=l.get("data"),h=n.find(function(g){return g.key===c});e.emit(u,{item:h})}};a.forEach(function(s){var l=o("click",s,"onItemClick"),u=o("dblclick",s,"onItemDblclick"),c=e.onItemGroupToggleActive(s,!0),h=e.onItemGroupToggleActive(s,!1);s.on("click",l),s.on("dblclick",u),s.on("mouseenter",c),s.on("mouseleave",h),e.listeners.push({target:s,event:"click",callback:l}),e.listeners.push({target:s,event:"dblclick",callback:u}),e.listeners.push({target:s,event:"mouseenter",callback:c}),e.listeners.push({target:s,event:"mouseleave",callback:h})})},r.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,n=t.event,a=t.callback;e.off(n,a)}),this.listeners=[]},r}(Os),SO=wO,Hl=[1,0,0,0,1,0,0,0,1],No=400,rs="easeQuadInOut";function CO(i,r,t){var e=$p(i),n=Kp(r),a=n.width/e.width,o=n.height/e.height,s=(n.minX-e.minX)*a,l=(n.minY-e.minY)*o,u=qo([["s",a,o],["t",s,l]]),c=r.geometries[0];Wl(c);var h=r.backgroundGroup.addGroup();h.set("zIndex",-100),h.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var g=Zp(c,h);c.container.set("visible",!1),r.canvas.draw(),t(),window.setTimeout(function(){(0,f.each)(g,function(N,H){H===0?N.animate({matrix:u},No,rs,function(){h.remove(),r.canvas.draw()}):N.animate(qo,No)}),c=r.geometries[0],Wl(c);var w=c.getShapes();(0,f.each)(w,function(N){N.attr("opacity",0),N.animate({opacity:1},No,rs)});var L=c.container;L.stopAnimate(),L.set("visible",!0),L.attr("matrix",(0,f.clone)(Hl)),RA(L,[["s",e.width/n.width,e.height/n.height],["t",e.minX,e.minY]]);var D=(0,f.clone)(Hl);c.container.animate({matrix:D},No,rs,function(){Jp(c)}),r.canvas.draw()},16)}function Zp(i,r){var t=i.getShapes(),e=[];return(0,f.each)(t,function(n){var a=r.addShape("path",{attrs:(0,f.deepMix)({},n.attrs,{capture:!1})});e.push(a)}),e}function Qp(i,r,t){var e=r.geometries[0];Wl(e);var n=e.container;n.attr("matrix",(0,f.clone)(Hl));var a=r.backgroundGroup.addGroup();a.set("zIndex",-100);var o=Zp(e,a);n.set("visible",!1),r.canvas.draw(),t(),e=r.geometries[0],Wl(e),n=e.container;var s=MO(e.getShapes(),i),l=$p(s),u=Kp(r),c=n.get("parent");c.get("clipShape")||n.setClip({type:"rect",attrs:{x:u.minX,y:u.minY,width:u.width,height:u.height}}),EO(a,o,l,u);var h=u.width/l.width,g=u.height/l.height,w=(u.minX-l.minX)*h,L=(u.minY-l.minY)*g,D=qo([["s",h,g],["t",w,L]]);n.setMatrix(D),n.set("visible",!0),n.animate({matrix:Hl},No,rs,function(){Jp(e)})}function MO(i,r){var t;return(0,f.each)(i,function(e){var n=e.get("origin").data.name;n===r&&(t=e)}),t}function Kp(i){var r=i.coordinateBBox,t={minX:r.minX,minY:r.minY,centerX:(r.maxX-r.minX)/2,centerY:(r.maxY-r.minY)/2,width:r.width,height:r.height};return t}function $p(i){var r=i.attr("path"),t=r[0][1],e=r[0][2],n=r[1][1],a=r[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(e-a)/2,width:Math.abs(n-t),height:Math.abs(e-a)};return o}function EO(i,r,t,e){var n=t.width/e.width,a=t.height/e.height,o=qo([["s",n,a],["t",t.minX,t.minY]]);i.animate({matrix:o},No,rs,function(){i.remove()}),(0,f.each)(r,function(s){s.animate({opacity:0},No,rs)})}function Wl(i){var r=i.labelsContainer;r.set("visible",!1)}function Jp(i){var r=i.labelsContainer;r.set("visible",!0)}var AO=100,TO=30,PO=10,OO=function(i){i===void 0&&(i={});var r=je({x:0,y:0,startNode:{name:"root"},itemWidth:AO,itemHeight:TO,padding:[0,0,0,0]},i);return r},qp=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getInteractionRange=function(t,e){var n=OO(e),a=n.padding,o=a[0],s=a[1];if(t)return new mn(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},r.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,f.clone)(this.currentNode.name),value:(0,f.clone)(this.currentNode.value)},depth:(0,f.clone)(this.currentDepth)},this.currentDepth++,CO(t.target,this.view,function(){e.update(n)}))},r.prototype.update=function(t){(0,f.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},r.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,f.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+PO,this.breadcrumb=new SO({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},r.prototype.clear=function(){},r.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},r.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,f.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},r.prototype.findParent=function(t,e){if(t.parent)(0,f.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e);else return},r.prototype.onInteraction=function(){var t=this;this.container.on("click",function(e){var n=e.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?Qp(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,f.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?Qp(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},r.prototype.getRootItem=function(){var t=this.plot.options.data,e=(0,f.hasKey)(t,"name")?t.name:"root";return{key:"1",text:e,data:this.plot.rootData}},r.prototype.saveOriginMapping=function(){var t=this.plot.options,e=t.colorField,n=t.colors,a={field:e,values:n};this.originMapping=a},r.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&(0,f.hasKey)(this.mapping,String(t))){var n=(0,f.clone)(this.mapping[t]);if(n.values&&(0,f.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,f.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},r.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,e=this.geometry.container;e.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},r.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},r}(_a),IO=qp;_a.registerInteraction("drilldown",qp);var kO={drilldown:IO},LO={rect:"polygon",breadcrumb:"breadcrumb"},_O=Li(LO);(0,f.assign)(_n,_O);var tg=4,DO=8;function BO(i,r){return!i.children||i.depth>=r}function FO(i,r,t){var e=i.attr("fontSize"),n=i.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),o=n.split(`
`),s=o.map(function(l){for(var u="",c=l.split(""),h=[],g=0;g<c.length;g++){var w=c[g];a.attr("text",u+=w);var L=a.getBBox().width-1;if(L>r){if(g===0)break;h.push(g),u=""}}return Ad(c,h)});return a.remove(),s.join(`
`)}function eg(i,r,t,e){for(var n=e.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:r}}),a=n.getBBox().width,o=e.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:r}}),s="",l=t-a,u=0;u<i.length;u++){var c=i[u];o.attr("text",s+=c);var h=o.getBBox().width;if(h>=l){var g=s.substr(0,s.length-1);if(g.length>0)return g+"..."}}return o.remove(),n.remove(),s}var RO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=e.shape,a=n.get("origin").data,o=BO(a,r.plot.options.maxLevel);if(a.showLabel){var s=(0,f.clone)(r.options.style),l=r.getPosition(n,o),u=r.options.formatter,c=u?u(a.name):a.name,h=r.getTextBaseLine(o),g=r.container.addShape("text",{attrs:(0,f.deepMix)({},s,{x:l.x,y:l.y,text:c,fill:"black",textAlign:"center",textBaseline:h,fontWeight:o?300:600}),name:"label"});r.adjustLabel(g,n,o)}})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getPosition=function(r,t){var e=r.getBBox(),n=0,a=0;return t?(n=e.minX+e.width/2,a=e.minY+e.height/2):(n=e.x+e.width/2,a=e.y+4),{x:n,y:a}},i.prototype.getTextBaseLine=function(r){return r?"middle":"top"},i.prototype.adjustLabel=function(r,t,e){e?this.adjustLeafLabel(r,t):this.adjustParentLabel(r,t)},i.prototype.adjustLeafLabel=function(r,t){var e=t.getBBox(),n=r.getBBox(),a=(0,f.clone)(r.attr("text")),o=2,s=Math.max(r.attr("fontSize")-o,DO),l=e.x+e.width/2,u=e.y+e.height/2;r.attr({x:l,y:u,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var c=e.width-tg*2;if(n.width>e.width&&n.height>e.height){r.attr("text","");return}else if(c<s){r.attr("text","");return}if(n.width>e.width){var h=FO(r,c,this.container);r.attr({lineHeight:r.attr("fontSize"),text:h});var g=r.getBBox();if(g.height>e.height){var w=eg(a,s,c,this.container);r.attr("text",w)}}},i.prototype.adjustParentLabel=function(r,t){var e=t.getBBox(),n=e.width-tg*2;if(r.getBBox().width>n){var a=eg(r.attr("text"),r.attr("fontSize"),n,this.container);r.attr("text",a)}},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="polygon"})},i}(),NO=RO,GO=4,Ls=4,rg=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},r.prototype.beforeInit=function(){var t=this;i.prototype.beforeInit.call(this);var e=this.options.interactions;e&&(0,f.each)(e,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},r.prototype.afterRender=function(){if(i.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new NO(je({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.geometryParser=function(){return"polygon"},r.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),a=Up(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,e),o.sort(function(s,l){return s.depth-l.depth}),this.options.xField="x",this.options.yField="y",o},r.prototype.processData=function(){return this.rootData},r.prototype.coord=function(){},r.prototype.addGeometry=function(){var t=this,e=this.options,n=e.data,a=e.colorField,o=e.color,s=this.getTreemapData(n);this.rootData=s;var l=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(u){var c=t.adjustStyleByDepth(u,l);return(0,f.deepMix)({},c,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},r.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,n=this.view.interactions;(0,f.each)(e,function(a){var o=kO[a.type];if(o){var s=new o((0,f.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},r.prototype.animation=function(){i.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,E)},r.prototype.recursive=function(t,e){var n=this,a=this.options.colorField;(0,f.each)(t,function(o){(0,f.each)(o.children,function(s){s.depth=e,e>1&&(s.parent=o),(0,f.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var l=n.isLeaf(s);if(!l){var u=Math.abs(s.y1-s.y0),c=n.getLabelHeight(),h=u/2>c?c:Ls;s.showLabel=h!==Ls;var g=Up(s,s.x0+Ls,s.y0+h,s.x1-Ls,s.y1-Ls);n.fillColorField(g,a,s[a]),n.recursive(g,s.depth+1)}})})},r.prototype.getAllNodes=function(t,e,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,f.each)(t,function(l){(0,f.hasKey)(l,"x0")&&l.depth<=o&&e.push(je(je({},l),{x:[l.x0,l.x1,l.x1,l.x0],y:[s.height-l.y1,s.height-l.y1,s.height-l.y0,s.height-l.y0]})),(0,f.hasKey)(l,"children")&&a.getAllNodes(l.children,e)})},r.prototype.fillColorField=function(t,e,n){(0,f.each)(t,function(a){(0,f.hasKey)(a,e)||(a[e]=n)})},r.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:e}return n+GO*2},r.prototype.isLeaf=function(t){return!t.children||t.children.length===0},r.prototype.isNested=function(t){var e=this.options.maxLevel;if(e===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},r.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},r}(vi),YO=rg;On("treemap",rg);var zO=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="treemap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=YO.getDefaultOptions,r}(pn),ng=zO,ig=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="step-line",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{step:"hv"})},r}(ks);On("step-line",ig);var VO=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="step-line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ig.getDefaultOptions,r}(pn),ag=VO;function og(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}var XO=function(){function i(r){(0,f.deepMix)(this,this.constructor.getDefaultOptions(r),r),this._init()}return i.getDefaultOptions=function(r){var t=r.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(e,n){return(100*n/e).toFixed(2)+"%"}},animation:(0,f.deepMix)({},mo.DEFAULT_ANIMATE_CFG)}},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype.draw=function(){var r=this,t=this.transpose,e=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,l,u;t?a.forEach(function(c,h){s=e[h],h++>0&&r._drawTag(l,u,c,s),u=s,l=c}):a.forEach(function(c,h){u=e[h],h++>0&&r._drawTag(c,u,o,s),s=u,o=c})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._drawTag=function(r,t,e,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=og(r,o)[a?3:0],l=og(e,o)[a?0:3];this._drawTagArrow(s,l),this._drawTagValue(s,t,l,n)},i.prototype._drawTagArrow=function(r,t){var e=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,l=n.transpose,u=this.arrow.headSize,c=t.y-r.y,h=t.x-r.x,g;l?(h-u)/2<e?(e=Math.max(1,(h-u)/2),g=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e,t.y-o-a/2]]):g=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e-u,t.y-o-a],[t.x-e,t.y-o-a/2],[t.x-e-u,t.y-o]]:(c-u)/2<e?(e=Math.max(1,(c-u)/2),g=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a/2,t.y-e]]):g=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a,t.y-e-u],[t.x+o+a/2,t.y-e],[t.x+o,t.y-e-u]];var w=this.container.addShape("polygon",{name:"arrow",attrs:je(je({},this.arrow.style),{points:g})});s!==!1&&this._fadeInTagShape(w)},i.prototype._drawTagValue=function(r,t,e,n){var a=this,o=a.size,s=a.offset,l=a.animation,u=a.transpose,c=this.value.formatter(t,n),h=this.container.addShape("text",{name:"value",attrs:je(je({},this.value.style),{text:c,x:u?(r.x+e.x)/2:r.x+s+o/2,y:u?r.y-s-o/2:(r.y+e.y)/2,textAlign:"center",textBaseline:"middle"})});if(u){var g=e.x-r.x,w=h.getBBox().width;if(w>g){var L=w/c.length,D=Math.max(1,Math.ceil(g/L)-1),N=c.slice(0,D)+"...";h.attr("text",N)}}l!==!1&&this._fadeInTagShape(h)},i.prototype._fadeInTagShape=function(r){var t=this.animation,e=r.attr("opacity");r.attr("opacity",0);var n=(0,f.get)(t,"appear",mo.DEFAULT_ANIMATE_CFG.appear).duration;r.animate({opacity:e},n)},i}(),sg=XO;function HO(i){var r=i.getResponsiveTheme(),t=i.canvas;new So({plot:i,responsiveTheme:r,dim:"x"}),new So({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var WO=[],jO=[{name:"responsiveAxis",method:HO}],UO={preRender:WO,afterRender:jO},ZO=function(i){var r=i.opacity||1;return{opacity:r*.5}},QO=function(i){var r=i.opacity||1;return{opacity:r*.5}},vc={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:ZO,disable:QO,selected:{lineWidth:1,stroke:"black"}}};la("bar",vc);function ao(i){var r=i.indexOf("#")===0?i.substr(1):i,t=[];return t.push(parseInt(r.substr(0,2),16)),t.push(parseInt(r.substr(2,2),16)),t.push(parseInt(r.substr(4,2),16)),t}function dc(i){var r;return r=Math.round(i),r=r.toString(16),r.length===1&&(r="0"+i),r}function N7(i){return"#"+(dc(i[0])+dc(i[1])+dc(i[2]))}function jl(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var pc=function(i){var r=ao(i),t=r[0],e=r[1],n=r[2],a=(t*299+e*587+n*114)/1e3<128;return a},lg=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a=this.options,o=a.style,s=a.formatter,l=[].concat(t.getModel().mappingData),u=this.getValue(t);return(0,f.deepMix)({},o,je(je({},this.getPosition(t)),{text:s?s(u,(n={},n[Ps]=l[0]._origin,n.mappingDatum=l[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):u,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},r.prototype.adjustLabel=function(t,e){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),l=t.getBBox(),u=this.getElementShapeBBox(e);if(u.width<=l.width){var c=u.maxX+this.options.offsetX+s;t.attr("x",c),t.attr("fill",o.fill)}}},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return je({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.xField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,c=a.width,h=this.options,g=h.offsetX,w=h.offsetY,L=h.position,D=l+u/2+w,N=n<0?-1:1,H;if(L==="left"){var X=n>0?o:s;H=X+e*N+g}else if(L==="right"){var X=n>0?s:o;H=X+e*N+g}else H=o+c/2+g;return{x:H,y:D}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=ao(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=jl(l,s);return u}var c=this.options.style.fill;return c},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&e!=="black"?null:void 0},r.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return e<0?o[n]:a[n]},r.prototype.getTextBaseline=function(){return"middle"},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(w){a.push(e.coord.convertPoint(w))});var o=a.map(function(w){return w.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(w){return w.y}),c=Math.min.apply(Math,u),h=Math.max.apply(Math,u),g=new mn(s,c,l-s,h-c);return g},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Uf),ug=lg;sa("bar",lg);var fg=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,c=this.options,h=c.offsetX,g=c.offsetY,w=l+u/2+g,L=n<0?-1:1,D=n>0?s:o,N=D+e*L+h;return{x:N,y:w}},r.prototype.getTextAlign=function(t){var e=this.getValue(t);return e>0?"left":"right"},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.height>=a.height})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,c=(0,f.groupBy)(e,function(h){return h.get(va)[Vn.FIELD_ORIGIN][o]});(0,f.each)(e,function(h){var g=c[h.get(va)[Vn.FIELD_ORIGIN][o]]||[],w=h.get("element"),L=w.shape,D=pc(L.attr("fill")),N=n.getElementShapeBBox(w),H=mn.fromBBoxObject(h.getBBox());if(ic(a,N)<=0&&h.set("visible",!1),H.width>N.width){var X=(0,f.findIndex)(g,function(xt){return xt===h});X!==g.length-1&&h.set("visible",!1)}else{h.attr({x:N.x+N.width/2,textAlign:"center"});var mt=H.width>N.width||H.height>N.height;mt?h.attr({stroke:u==null?void 0:u.stroke}):h.attr({fill:D?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:D?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(w){return w.get(va)[Vn.FIELD_ORIGIN][o]}),c=(0,f.uniq)((0,f.map)(a,function(w){return w.get(va)[Vn.FIELD_ORIGIN][o]})),h;for((0,f.size)(c)>0&&(h=c.shift(),(0,f.each)(u[h],function(w){return l.push(w)})),(0,f.size)(c)>0&&(h=c.pop(),(0,f.each)(u[h],function(w){return l.push(w)})),(0,f.each)(c.reverse(),function(w){(0,f.each)(u[w],function(L){return l.push(L)})});l.length>0;){var g=l.shift();g.get("visible")&&(zl(g,n),Vl(g,s)?g.set("visible",!1):s.push(g))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(ug),KO=fg;sa("bar-auto",fg);var $O={bar:"interval"},JO=Li($O);(0,f.assign)(_n,JO);var qO={bar:"interval"},tI={interval:"bar"},cg=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new sg(je({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?qO[e]:tI[e]},r.prototype.processData=function(t){var e=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,f.each)(e,function(o){var s=(0,f.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},(0,f.has)(t,"yAxis")&&Ai(e[t.yField],t.yAxis),e[t.xField]={},(0,f.has)(t,"xAxis")&&Ai(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.axis=function(){var t=zi("axis",{plot:this,dim:"x"}),e=zi("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.adjustBar=function(t){return null},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,S)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=bo(this.view,"interval");this.doRenderLabel(s,je({type:"bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},r.prototype.applyResponsive=function(t){var e=this,n=UO[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},r}(vi),Ul=cg;On("bar",cg);var eI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ul.getDefaultOptions,r}(pn),hg=eI;la("stackedBar",vc);var rI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(e);a.maxX<=n.maxX&&t.set("visible",!1)}},r}(ug),G7=null;sa("stacked-bar",rI);var nI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(KO),Y7=null;sa("stacked-bar-auto",nI);var vg=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=bo(this.view,"interval");this.doRenderLabel(s,je({type:"stacked-bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(Ul),gc=vg;On("stackedBar",vg);var iI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gc.getDefaultOptions,r}(pn),dg=iI;la("groupedBar",vc);var pg=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=(0,f.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(e){var n=e.items,a=n===void 0?[]:n,o=(0,f.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,l){e.items[l]=s})})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,f.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,f.deepMix)({},this.options.meta,t):this.options.meta=t,i.prototype.scale.call(this)},r.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(Ul),gg=pg;On("groupedBar",pg);var aI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gg.getDefaultOptions,r}(pn),yg=aI,yc=function(i,r,t){var e=(0,f.groupBy)(i,r);e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){return(0,f.map)(t,function(l){return s[l]})})}),e=(0,f.mapValues)(e,f.flatten),e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){var l=Number.parseFloat(s);return!(0,f.isNumber)(l)||isNaN(l)?0:l})});var n=(0,f.mapValues)(e,function(o){return(0,f.reduce)(o,function(s,l){return s+l},0)}),a=(0,f.map)(i,function(o){var s=je(je({},o),{_origin:o,total:n[o[r]]});return(0,f.each)(t,function(l){s[l]=o[l]/(n[o[r]]||1)}),s});return(0,f.each)((0,f.groupBy)(a,r),function(o){var s=0;(0,f.each)(o,function(l,u){(0,f.each)(t,function(c,h){(s+l[c]>=1||u===o.length-1&&h===t.length-1&&s>0)&&(l[c]=1-s),s+=l[c]})})}),a},mg=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField,o=i.prototype.processData.call(this,t);return yc(o,a,[n])},r.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(gc),xg=mg;On("percentStackedBar",mg);var oI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=xg.getDefaultOptions,r}(pn),bg=oI,wg=8;function sI(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var lI=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.elements,n=t.coordinate;this.coord=n,(0,f.each)(e,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextAlign(),c=[];(0,f.each)(s,function(h,g){var w=g===0?r.options.leftStyle:r.options.rightStyle,L=r.getTextColor(o,g);r.options.position==="inner"&&r.options.adjustColor&&L!=="black"&&(w.stroke=null);var D=r.options.formatter,N=D?D(l[g]):l[g],H=r.container.addShape("text",{attrs:(0,f.deepMix)({},w,{x:h.x,y:h.y,text:N,fill:L,textAlign:u[g],textBaseline:"middle"}),name:"label"});c.push(H),r.doAnimation(H)}),o.set("labelShapes",c),r.adjustPosition(c[0],c[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new mn(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:wg,offsetY:0,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,l=s.offsetX,u=s.offsetY,c=a+o/2+u,h,g;return this.options.position==="outer"?(h=e-l,g=n+l):(h=e+l,g=n-l),[{x:h,y:c},{x:g,y:c}]},i.prototype.getValue=function(r){var t=this.plot.options.xField;return r.get("origin").data[t]},i.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=ao(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=sI(s,o);return l}var u=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),l=this.view.coordinateBBox,u=[r.getBBox(),t.getBBox()],c=r.attr("x"),h=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var g=u[0].width+u[1].width,w=u[0].maxX-u[1].minX>2,L=g>s;(w||L)&&(c=a-this.options.offsetX,r.attr("fill",this.options.leftStyle.fill),r.attr("textAlign","right"),u[0]=r.getBBox(),h=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),u[1]=t.getBBox())}u[0].minX<l.minX&&(c=l.minX+wg,r.attr("textAlign","left")),r.attr("x",c),t.attr("x",h),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),uI=lI,Sg;function Cg(i,r){var t=i.getBBox(),e=t.minX+t.width/2;i.setClip({type:"rect",attrs:{x:e,y:t.minY,width:0,height:t.height}});var n=i.get("clipShape");n.animate({width:t.width,x:t.minX},r.duration,r.easing,function(){i.setClip(null)},r.delay)}Cg.animationName="clipInFromCenter";function fI(i){Sg=i}function Mg(i,r){var t=cI(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function cI(i){var r=i.id,t;return(0,f.each)(Sg,function(e){e.id===r&&(t=e)}),t}Mg.animationName="updateFromCenter",wi("clipInFromCenter",Cg),wi("updateFromCenter",Mg);var Eg=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),fI(t),i.prototype.afterRender.call(this)},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new uI(je({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.animation=function(){i.prototype.animation.call(this)},r}(Ul),hI=Eg;On("rangeBar",Eg);var vI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=hI.getDefaultOptions,r}(pn),Ag=vI,Tg=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(Vp),dI=Tg;sa("area-point",Tg);var Pg=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){i.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},r.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=bo(e,"area"),l=WA(s).sort(function(u,c){return c.getBBox().height-u.getBBox().height});(0,f.each)(t,function(u){var c=u.getBBox(),h=WE(c.x,c.y,c.width,c.height),g=(0,f.map)(l,function(D){return{area:D,matches:(0,f.filter)(h,function(N){return!!D.isHit(N[0],N[1])}).length}}).sort(function(D,N){return D.matches-N.matches});if((0,f.last)(g).matches>0){var w=(0,f.last)(g).area.attr("fill"),L=pc(w);u.attr({fill:L?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:L?o.fillOpacity:a.fillOpacity,stroke:L?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},r}(UP),pI=Pg;sa("area-point-auto",Pg);function gI(i){var r=i.getResponsiveTheme(),t=i.canvas;new So({plot:i,responsiveTheme:r,dim:"x"}),new So({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var yI=[],mI=[{name:"responsiveAxis",method:gI}],xI={preRender:yI,afterRender:mI},bI={area:"area",line:"line",point:"point"},wI=Li(bI);(0,f.assign)(_n,wI);var SI=function(i){var r=i.opacity||1;return{opacity:r}},CI=function(i){var r=i.opacity||1;return{opacity:r*.5}},MI=function(i){var r=i.opacity||1;return{opacity:r}},EI=function(i){var r=i.opacity||1;return{opacity:r*.5}},AI=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},TI=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},PI=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},OI=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}},Og={areaStyle:{normal:{},active:SI,disable:CI,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:MI,disable:EI,selected:AI},pointStyle:{normal:{},active:TI,disable:OI,selected:PI},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};la("area",Og);var II={area:"area",line:"line",point:"point"},Ig=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return II[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Ai(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Ai(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){return null},r.prototype.addGeometry=function(){var t=this.options,e=yi("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},r.prototype.adjustArea=function(t){},r.prototype.adjustLine=function(t){},r.prototype.adjustPoint=function(t){},r.prototype.addLine=function(){var t=this.options,e=(0,f.deepMix)({},t.line);if(e.visible){var n=yi("line","guide",{type:"line",plot:this,line:e});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},r.prototype.addPoint=function(){var t=this.options,e=(0,f.deepMix)({},t.point);if(e.visible){var n=yi("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=bo(this.view,"area");this.doRenderLabel(s,je({type:"area-point",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.label=function(){},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,y)},r.prototype.applyResponsive=function(t){var e=this,n=xI[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(vi),mc=Ig;On("area",Ig);var kI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="area",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=mc.getDefaultOptions,r}(pn),kg=kI,LI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],l=(0,f.reduce)(n.y,function(u,c){return u+c},0)/(0,f.size)(n.y);return{x:n.x,y:l,color:a,name:s}},r}(Hp),_I=LI,xc=12,DI=.01,BI=100,FI=12;function RI(i){var r=-Infinity,t=Infinity,e=-Infinity;return(0,f.each)(i,function(n){t=Math.min(n.x,t),e=Math.max(n.x,e);var a=Math.abs(n.y[0]-n.y[1]);r=Math.max(r,a)}),{xRange:[t,e],maxHeight:r}}function Lg(i,r,t){var e=r[0],n=r[r.length-1];(0,f.each)(r,function(o){if(o.x===i)return o.y[t];o.x<i&&o.x>e.x&&(e=o),o.x>i&&o.x<n.x&&(n=o)});var a=(i-e.x)/(n.x-e.x);return e.y[t]*(1-a)+n.y[t]*a}function NI(i,r){var t;for(t=0;t<i.length;t++){var e=i[t];if(e.x===r||e.x>r)break}return t}var GI=function(){function i(r){this.destroyed=!1,this.scaleFactor=[],this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.plot.options.stackField,e=this.getGeometry().dataArray,n=[];(0,f.each)(e,function(o,s){var l=r.drawLabel(o,s);l&&(n.push((0,f.deepMix)({},o[0],l)),r.scaleFactor.push(l.scaleFactor))});var a=[];(0,f.each)(n,function(o,s){var l=r.options,u=l.style,c=l.offsetX,h=l.offsetY,g=r.getFontSize(s),w=r.options.formatter,L=w?w(o._origin[t]):o._origin[t],D=r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:o.x+c,y:o.y+h,text:L,fill:o.color,fontSize:g,textAlign:"center",textBaseline:"top"},u),name:"label"});a.push(D)}),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},i.prototype.drawLabel=function(r,t){var e=RI(r),n=e.xRange,a=e.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,r),l=this.getLabelBbox(t),u={xRange:n,aspect:l.width/l.height,data:s,justTest:!0},c=this.bisection(FI,a,this.testFit,u,DI,BI);if(c!==null){u.justTest=!1;var h=this.testFit(u);return h.x=h.x,h.y=h.y0+(h.y1-h.y0)/2,h.scaleFactor=c/l.height*.2,h}},i.prototype.getInterpolatedPoints=function(r,t,e){for(var n=[],a=2,o=r;o<t;o+=a){var s=Lg(o,e,0),l=Lg(o,e,1);n.push({x:o,y:[s,l]})}return n},i.prototype.bisection=function(r,t,e,n,a,o){for(var s=0;s<o;s++){var l=(r+t)/2,u=n;u.height=l,u.width=l*u.aspect;var c=e(u),h=(t-r)/2<a;if(c&&h)return l;c?r=l:t=l}return null},i.prototype.testFit=function(r){for(var t=r.xRange,e=r.width,n=r.height,a=r.data,o=r.justTest,s=0;s<a.length;s++){var l=a[s],u=l.x,c=u+e;if(c>t[1])break;for(var h=NI(a,c),g=-Infinity,w=null,L=Infinity,D=s;D<h;D++){var N=a[D].y[1],H=a[D].y[0];if(H<L&&(L=H),N>g&&(g=N,w=H),L-g<n)break}if(L-g>=n)return o?!0:{x:u,y0:g,y1:w,width:e,height:n}}return!1},i.prototype.getLabelBbox=function(r){var t=(0,f.clone)(this.plot.theme.label.textStyle);t.fontSize=xc;var e=this.container.addShape("text",{attrs:je({text:r,x:0,y:0},t)}),n=e.getBBox();return e.remove(),n},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="area"})},i.prototype.getFontSize=function(r){if(this.options.autoScale){var t=this.scaleFactor[r];return xc*t}return xc},i}(),YI=GI,zI={lineLabel:{Ctr:_I},areaLabel:{Ctr:YI}};function VI(i,r,t){if(i.options[r]&&i.options[r].visible){var e=zI[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var XI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(dI),z7=null;sa("stackedArea-point",XI);var HI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.sortLabels=function(t,e){var n=[];return e.length>0&&n.push(e.shift()),e.length>0&&n.push(e.pop()),n.push.apply(n,e),n},r}(pI),V7=null;sa("stackedArea-point-auto",HI),la("stackedArea",Og);var _g=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},r.prototype.beforeInit=function(){var t=(0,f.get)(this.options,["label","visible"]),e=(0,f.get)(this.options,["label","type"]),n=this.options;t&&(e==="line"&&(n.lineLabel=this.options.label),e==="area"&&(n.areaLabel=this.options.label)),i.prototype.beforeInit.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.label=function(){var t=this.options,e=t.label;if(e&&e.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},r.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},r.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,i.prototype.afterRender.call(this)},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r.prototype.renderPlotComponents=function(){var t=this,e=["areaLabel","lineLabel"];(0,f.each)(e,function(n){var a=je({view:t.view,plot:t},t.options[n]),o=VI(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(mc),bc=_g;On("stackedArea",_g);var WI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=bc.getDefaultOptions,r}(pn),Dg=WI,Bg=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return yc(t,n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},t,this.options.meta),i.prototype.scale.call(this)},r}(bc),Fg=Bg;On("percentStackedArea",Bg);var jI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Fg.getDefaultOptions,r}(pn),Rg=jI;function UI(i){var r=i.getResponsiveTheme(),t=i.canvas;new So({plot:i,responsiveTheme:r,dim:"x"}),new So({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var ZI=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","position"],"inner")},r}(Yp);function QI(i){var r=i.getResponsiveTheme();new ZI({plot:i,responsiveTheme:r})}var KI=[],$I=[{name:"responsiveAxis",method:UI},{name:"responsiveLabel",method:QI}],JI={preRender:KI,afterRender:$I},qI={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};vp("column",qI);var Ng=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a,o=this.options,s=o.style,l=o.formatter,u=[].concat(t.getModel().mappingData),c=this.getValue(t);return(0,f.deepMix)({},s,je(je({},this.getPosition(t)),{text:l?l(c,(n={},n[Ps]=(a=u[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=u[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):c,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return je({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(e);if(s.height<=o.height){var l=s.minY+this.options.offsetY-a;t.attr("y",l),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.yField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.height,c=a.width,h=this.options,g=h.offsetX,w=h.offsetY,L=h.position,D=o+c/2+g,N=n>0?-1:1,H;if(L==="top"){var X=n>0?s:l;H=X+e*N+w}else if(L==="bottom"){var X=n>0?l:s;H=X+e*N+w}else H=s+u/2+w;return{x:D,y:H}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=ao(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=jl(l,s);return u}var c=this.options.style.fill;return c},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&e!=="black"?null:void 0},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(w){a.push(e.coord.convertPoint(w))});var o=a.map(function(w){return w.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(w){return w.y}),c=Math.min.apply(Math,u),h=Math.max.apply(Math,u),g=new mn(s,c,l-s,h-c);return g},r.prototype.getTextAlign=function(){return"center"},r.prototype.getTextBaseLine=function(){return"middle"},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Uf),wc=Ng;sa("column",Ng);var Gg=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.width,c=this.options,h=c.offsetX,g=c.offsetY,w=o+u/2+h,L=n>0?-1:1,D=n>0?s:l,N=D+e*L+g;return{x:w,y:N}},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.width>=a.width})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,c=(0,f.groupBy)(e,function(h){return h.get(va)[Vn.FIELD_ORIGIN][o]});(0,f.each)(e,function(h){var g=c[h.get(va)[Vn.FIELD_ORIGIN][o]]||[],w=h.get("element"),L=w.shape,D=pc(L.attr("fill")),N=n.getElementShapeBBox(w),H=mn.fromBBoxObject(h.getBBox());if(ic(a,N)<=0&&h.set("visible",!1),H.height>N.height){var X=(0,f.findIndex)(g,function(xt){return xt===h});X!==0&&h.set("visible",!1)}else{h.attr({y:N.y+N.height/2,textBaseline:"middle"});var mt=H.width>N.width||H.height>N.height;mt?h.attr({stroke:u==null?void 0:u.stroke}):h.attr({fill:D?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:D?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(w){return w.get(va)[Vn.FIELD_ORIGIN][o]}),c=(0,f.uniq)((0,f.map)(a,function(w){return w.get(va)[Vn.FIELD_ORIGIN][o]})),h;for((0,f.size)(c)>0&&(h=c.shift(),(0,f.each)(u[h],function(w){return l.push(w)})),(0,f.size)(c)>0&&(h=c.pop(),(0,f.each)(u[h],function(w){return l.push(w)})),(0,f.each)(c.reverse(),function(w){(0,f.each)(u[w],function(L){return l.push(L)})});l.length>0;){var g=l.shift();g.get("visible")&&(zl(g,n),Vl(g,s)?g.set("visible",!1):s.push(g))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(wc),tk=Gg;sa("column-auto",Gg);var ek={column:"interval"},rk=Li(ek);(0,f.assign)(_n,rk);var nk=function(i){var r=i.opacity||1;return{opacity:r*.5}},ik=function(i){var r=i.opacity||1;return{opacity:r*.5,fillOpacity:r*.5}},Sc={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:nk,disable:ik,selected:{lineWidth:1,stroke:"black"}}};la("column",Sc);var ak={column:"interval"},ok={interval:"column"},Yg=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new sg(je({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?ak[e]:ok[e]},r.prototype.processData=function(t){var e=this.options.xField,n=[];return(0,f.each)(t,function(a){var o=(0,f.clone)(a);o[e]=o[e].toString(),n.push(o)}),n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Ai(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Ai(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.adjustColumn=function(t){},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},r.prototype.animation=function(){i.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,b)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n==null?void 0:n.visible){var s=bo(this.view,"interval");this.doRenderLabel(s,je({type:"column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.applyResponsive=function(t){var e=this,n=JI[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(vi),ns=Yg;On("column",Yg);var sk=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="column",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ns.getDefaultOptions,r}(pn),zg=sk;la("groupedColumn",Sc);var Vg=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.addGeometry=function(){i.prototype.addGeometry.call(this)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(ns),Cc=Vg;On("groupedColumn",Vg);var lk=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Cc.getDefaultOptions,r}(pn),Xg=lk;function Hg(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}function uk(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var fk=function(){function i(r){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,f.assign)(this,r),this._init()}return i.prototype.draw=function(){var r=this,t=this._getGroupedShapes();(0,f.each)(t,function(e,n){e.length>0&&r._drawConnection(e,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},i.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.setState=function(r,t){r==="active"&&this._onActive(t),r==="disabled"&&this._onDisabled(t),r==="selected"&&this._onSelected(t)},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype._getGroupedShapes=function(){var r=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0],n=e.getShapes(),a={};return(0,f.each)(t,function(o){a[o]=[]}),(0,f.each)(n,function(o){var s=o.get("origin").data,l=s[r.field];a[l].push(o)}),a},i.prototype._drawConnection=function(r,t){var e=r[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(e,"area"),this._lineStyle[t]=this._getShapeStyle(e,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<r.length-1;a++){var o=Hg(r[a],n),s=Hg(r[a+1],n),l=(0,f.mix)({},this._areaStyle[t]),u=(0,f.mix)({},this._lineStyle[t]);this.triggerOn&&(l.opacity=0,u.opacity=0);var c=this.container.addShape("path",{attrs:(0,f.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),h=this.container.addShape("path",{attrs:(0,f.mix)({},u,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),g=r[a].get("origin").data;c.set("data",g),h.set("data",g),this.areas.push(c),this.lines.push(h)}},i.prototype._getShapeStyle=function(r,t){var e=t+"Style";if(this[e])return this[e];var n=uk()[e],a={fill:r};return t==="line"&&(a={stroke:r}),(0,f.mix)(n,a)},i.prototype._addInteraction=function(){var r=this,t=this.triggerOn;this.view.on("interval:"+t,function(e){var n=e.target.get("origin").data[r.field];r.setState("active",{name:r.field,exp:n}),r.setState("disabled",{name:r.field,exp:function(a){return a!==n}}),r.view.canvas.draw()}),this.view.on("mousemove",function(e){e.gEvent.target.get("name")!=="interval"&&r.setState("disabled",{name:r.field,exp:function(){return!0}})})},i.prototype._initialAnimation=function(){var r=this.view.coordinateBBox,t=r.x,e=r.y,n=r.width,a=r.height;this.container.setClip({type:"rect",attrs:{x:t,y:e,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},i.prototype._onActive=function(r){var t=this;(0,f.each)(this.areas,function(e){var n=e.get("data"),a=n[t.field];if(io(n,r)){var o=t._areaStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}}),(0,f.each)(this.lines,function(e){var n=e.get("data"),a=n[t.field];if(io(n,r)){var o=t._lineStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}})},i.prototype._onDisabled=function(r){(0,f.each)(this.areas,function(t){var e=t.get("data");io(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,f.each)(this.lines,function(t){var e=t.get("data");io(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},i.prototype._onSelected=function(r){this._onActive(r)},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),ck=fk;la("stackedColumn",Sc);var hk=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(e);(o.height<a.height||o.width<a.width)&&t.hide()}},r}(wc),X7=null;sa("stacked-column",hk);var vk=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(tk),H7=null;sa("stacked-column-auto",vk);var Wg=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},r.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),i.prototype.init.call(this)},r.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new ck(je({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n&&n.visible){var s=bo(this.view,"interval");this.doRenderLabel(s,je({type:"stacked-column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(ns),Zl=Wg;On("stackedColumn",Wg);var dk=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Zl.getDefaultOptions,r}(pn),jg=dk,Mc=8;function pk(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var gk=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.coordinate,n=t.elements;this.coord=e,(0,f.each)(n,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextBaseline(),c=[];(0,f.each)(s,function(h,g){var w=g===1?r.options.topStyle:r.options.bottomStyle,L=r.getTextColor(o,g);r.options.position==="inner"&&r.options.adjustColor&&L!=="black"&&(w.stroke=null);var D=r.options.formatter,N=D?D(l[g]):l[g],H=r.container.addShape("text",{attrs:(0,f.deepMix)({},w,{x:h.x,y:h.y,text:N,fill:L,textAlign:"center",textBaseline:u[g]}),name:"label"});c.push(H),r.doAnimation(H)}),o.set("labelShapes",c),r.adjustPosition(c[0],c[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new mn(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:0,offsetY:Mc,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,l=e+o/2,u,c;return this.options.position==="outer"?(u=n-s,c=a+s):(u=n+s,c=a-s),[{x:l,y:c},{x:l,y:u}]},i.prototype.getValue=function(r){var t=this.plot.options.yField;return r.get("origin").data[t]},i.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=ao(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=pk(s,o);return l}var u=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.y[1],o=n.y[0],s=e.getBBox(),l=s.height,u=l,c=this.view.coordinateBBox,h=[r.getBBox(),t.getBBox()],g=r.attr("y"),w=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var L=h[0].height+h[1].height,D=h[1].maxY-h[0].minY>2,N=L>u;(D||N)&&(w=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),g=o+this.options.offsetY,r.attr("fill",this.options.bottomStyle.fill),r.attr("textBaseline","top"),h[0]=r.getBBox(),h[1]=t.getBBox())}h[0].maxY>c.maxY-Mc&&(g=c.maxY-Mc/2,r.attr("textBaseline","bottom")),r.attr("y",g),t.attr("y",w),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),yk=gk,Ug;function Zg(i,r){var t=i.getBBox(),e=t.minY+t.height/2;i.setClip({type:"rect",attrs:{x:t.minX,y:e,width:t.width,height:0}});var n=i.get("clipShape");n.animate({height:t.height,y:t.minY},r.duration,r.easing,function(){i.setClip(null)},r.delay)}Zg.animationName="clipInFromCenterVertical";function mk(i){Ug=i}function Qg(i,r){var t=xk(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function xk(i){var r=i.id,t;return(0,f.each)(Ug,function(e){e.id===r&&(t=e)}),t}Qg.animationName="updateFromCenterVertical",wi("clipInFromCenterVertical",Zg),wi("updateFromCenterVertical",Qg);var Kg=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),mk(t),i.prototype.afterRender.call(this)},r.prototype.animation=function(){i.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new yk(je({view:this.view,plot:this},this.options.label));t.render()}},r}(ns),bk=Kg;On("rangeColumn",Kg);var wk=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=bk.getDefaultOptions,r}(pn),$g=wk,Jg=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return yc(t||[],n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Zl),qg=Jg;On("percentStackedColumn",Jg);var Sk=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=qg.getDefaultOptions,r}(pn),ty=Sk,Ck={pie:"interval"},Mk=Li(Ck);(0,f.assign)(_n,Mk);function Ql(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}function W7(i){return{x:i.x+i.width/2,y:i.y+i.height/2}}function Ek(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function Ak(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e&&i.x<r.x&&(e=-e),n&&i.y<r.y&&(n=-n),i.x===r.x&&i.width===r.width&&(e=r.width),i.y===r.y&&i.height===r.height&&(n=r.height),{xOverlap:e,yOverlap:n}}function j7(i,r){return i.x<r.x&&i.x+i.width>r.x+r.width&&i.y<r.y&&i.y+i.height>r.y+r.height}var Tk=function(i,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[i,r].includes(Infinity)?Math.abs(i)===Math.abs(r):Math.abs(i-r)<t};function Pk(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function Ok(i){var r=Math.PI/2,t=i;return(t>r||t<-r)&&(t=t+Math.PI),t}var U7=4;function Ik(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}function kk(i,r){var t=i.getBBox();r.y<=t.y&&r.y+r.height>=t.y+t.height||i.get("parent").set("visible",!1)}var Lk=function(){function i(r,t){this.destroyed=!1,this.plot=r,this.coordinateBBox=this.plot.view.coordinateBBox;var e=(0,f.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(e),this.options=e,this.init()}return i.prototype.adjustOverlap=function(r,t){for(var e=1;e<r.length;e++)for(var n=r[e],a=0,o=e-1;o>=0;o--){var s=r[o],l=s.getBBox(),u=n.getBBox();if(s.get("parent").get("visible")&&(a=Ek(l,u),!Tk(a,0))){n.get("parent").set("visible",!1);break}}r.forEach(function(c){return kk(c,t)})},i.prototype.adjustItem=function(r){},i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getFilteredSum=function(){var r=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(e,n){return e+n[r]},0)},i.prototype.drawTexts=function(){var r=this,t=this.options,e=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,l=t.adjustPosition,u=t.allowOverlap,c=this.getItems(),h=[];c.map(function(g,w){var L=(0,f.deepMix)({},g,e),D=r.getFilteredSum(),N=r.plot.options.angleField,H=g.origin[N]/D,X=n?n(g.name,{_origin:g.origin,percent:H},w):g.name,mt=r.container.addGroup({name:"itemGroup",index:w,capture:!1}),xt=mt.addShape("text",{attrs:(0,f.deepMix)({},L,{x:g.x+o,y:g.y+s,text:X})});xt.set("id","text-"+g.name+"-"+w),h.push(xt)}),h.forEach(function(g){var w=r.coordinateBBox;r.adjustText(g,w)}),l&&this.layout(h,c,this.coordinateBBox),u||this.adjustOverlap(h,this.coordinateBBox),h.forEach(function(g,w){a&&r.rotateLabel(g,Ok(c[w].angle))})},i.prototype.adjustText=function(r,t){var e=r.getBBox(),n=e.width,a=0;if(e.maxX>t.maxX?n=t.maxX-e.minX:e.minX<t.minX&&(n=e.maxX-t.minX),r.attr("textAlign")==="left"?r.attr("x",Math.max(e.x-a,0)):r.attr("textAlign")==="right"&&r.attr("x",Math.max(e.maxX-a,0)),n!==e.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(l){o[l]=r.attr(l)});var s=r.attr("text").split(`
`).map(function(l){return tp(l,n,o)});r.attr("text",s.join(`
`))}},i.prototype.drawLines=function(){var r=this;if(this.options.line.visible){var t=this.container.get("children"),e=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=r.arcPoints[a],l=s.x<e.x,u=r.options.offset>4?4:0,c=r.getLinePath(o,s,u),h=r.options.line;n.addShape("path",{attrs:je({path:c,stroke:s.color},h)}),o.attr("x",o.attr("x")+(l?-u:u))})}},i.prototype.getLinePath=function(r,t,e){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,l=o.radius,u=Ql(s,a,l+e);e<4&&(u=t);var c=t.x<s.x,h=r.getBBox(),g={x:c?h.maxX:h.minX,y:h.y+h.height/2},w=["C",g.x+(c?1:-1)*(e<4?e/2:4),g.y,2*u.x-t.x,2*u.y-t.y,u.x,u.y],L=["L",u.x,u.y],D=n?w:L,N=["M",g.x,g.y].concat(D).concat("L",t.x,t.y);return N.join(",")},i.prototype.getGeometry=function(){return this.plot.view.geometries[0]},i.prototype.getCoordinate=function(){var r=this.getGeometry().coordinate,t=r.getCenter(),e=r.getRadius(),n=r.startAngle;return{center:t,radius:e,startAngle:n}},i.prototype.adjustOption=function(r){var t=r.offset,e=this.getCoordinate().radius;(0,f.isString)(t)&&(t=e*Ik(t)),r.offset=t},i.prototype.rotateLabel=function(r,t){var e=r.attr("x"),n=r.attr("y"),a=sr.transform(r.getMatrix(),[["t",-e,-n],["r",t],["t",e,n]]);r.setMatrix(a)},i.prototype.getItems=function(){var r=this,t=this.options.offset,e=this.getCoordinate(),n=e.center,a=e.radius,o=this.arcPoints.map(function(s){var l=Ql(n,s.angle,a+t),u=je(je({},s),l);return r.adjustItem(u),u});return o},i.prototype.initArcPoints=function(){var r=this,t=this.plot.options.angleField,e=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,l=this.getGeometry().attributes.position.scales,u=l[1],c=u.field,h=e.map(function(g){var w=g.shape.get("origin"),L=w.color,D=w.data[0]||w.data,N=s+Math.PI*2*u.scale(D[c]),H=(s+N)/2,X=Ql(a,H,o);s=N;var mt=u.getText(D[t]),xt=X.x>a.x?"left":"right";return{x:X.x,y:X.y,color:L,name:mt,origin:D,angle:Pk(r.getGeometry().coordinate,X),textAlign:xt}});this.arcPoints=h},i}(),Ec=Lk;function Z7(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}var _k=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},r.prototype.adjustItem=function(t){t.textAlign="middle"},r.prototype.drawLines=function(){},r.prototype.layout=function(t,e){var n=this;t.forEach(function(a,o){o>0&&(0,f.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,e[o])})})},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:je(je({},e),{textAlign:"center",textBaseline:"middle"})}},r.prototype.resolveCollision=function(t,e,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),l=e.getBBox(),u={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},c=(0,f.clone)(u),h=(0,f.clone)(u);if(e.get("id")!==t.get("id")){var g=Ak(s,l),w=g.xOverlap,L=g.yOverlap;if(w&&(c.x=u.x+w,c.y=u.y+Math.tan(o)*w),L){var D=L;u.y<a.y?D=D<0?D:l.minY-s.maxY:D=D>0?D:l.maxY-s.minY,h.y=u.y+D,h.x=u.x+D/Math.tan(o)}var N=Ld(u,c),H=Ld(u,h),X=N<H?c:h;t.attr("x",X.x),t.attr("y",X.y)}},r}(Ec),Dk=_k,Q7=16,Bk=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:je(je({},e),{textBaseline:"middle"})}},r.prototype.layout=function(t,e,n){var a=this,o=this.getCoordinate().center,s=(0,f.filter)(t,function(u){return u.attr("x")<=o.x}),l=(0,f.filter)(t,function(u){return u.attr("x")>o.x});[l,s].forEach(function(u,c){a._antiCollision(u,!c,n)})},r.prototype._antiCollision=function(t,e,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),l=s.center,u=s.radius,c=this.options.offset,h=u+c,g=Math.min(n.height,Math.max(h*2+o*2,t.length*o)),w=Math.floor(g/o);this.options.allowOverlap||t.slice(w).forEach(function(qt){qt.get("parent").set("visible",!1)}),t.splice(w,t.length-w),t.sort(function(qt,we){return qt.getBBox().y-we.getBBox().y});for(var L=!0,D,N=l.y+g/2,H=l.y-g/2,X=t.map(function(qt){var we=qt.getBBox();return we.maxY>N&&(N=Math.min(n.maxY,we.maxY)),we.minY<H&&(H=Math.max(n.minY,we.minY)),{text:qt.attr("text"),size:o,pos:we.y,targets:[]}}),mt=0;mt<X.length;)mt===X.length-1?X[mt].targets[0]=N:X[mt].targets[0]=X[mt+1].pos-X[mt+1].size/2,mt++;for(;L;)for(X.forEach(function(qt){var we=(0,f.last)(qt.targets);qt.pos=Math.max(H,Math.min(qt.pos,we-qt.size))}),L=!1,D=X.length;D--;)if(D>0){var xt=X[D-1],Pt=X[D];if(xt.pos+xt.size>Pt.pos){xt.size+=Pt.size,xt.targets=xt.targets.concat(Pt.targets);var Ht=(0,f.last)(xt.targets);xt.pos+xt.size>Ht&&(xt.pos=Ht-xt.size),X.splice(D,1),L=!0}else xt.targets.splice(-1,1,Pt.pos)}D=0,X.forEach(function(qt){var we=o/2;qt.targets.forEach(function(){t[D].attr("y",qt.pos+we),we+=o,D++})});var te=[],oe=[];t.forEach(function(qt,we){var Ie=a.arcPoints[we];Ie.angle>=0&&Ie.angle<=Math.PI?oe.push(qt):te.push(qt)}),[te,oe].forEach(function(qt,we){if(!!qt.length){var Ie=we?(0,f.last)(qt).getBBox().maxY-l.y:l.y-(0,f.head)(qt).getBBox().minY;Ie=Math.max(h,Ie);var Pe=c>4?4:0,Ke=Math.max.apply(0,(0,f.map)(t,function(Ar){return Ar.getBBox().width}))+c+Pe,ar=Math.max(h,Math.min((Ie+h)/2,l.x-(n.minX+Ke))),rr=ar*ar,Mr=Ie*Ie;qt.forEach(function(Ar,Pr){var xr=a.arcPoints[Pr],br=Ar.getBBox(),Xr={x:br.minX+br.width/2,y:br.minY+br.height/2},zr=Math.pow(Xr.y-l.y,2),Kr=Ql(l,xr.angle,u),Or=(e?1:-1)*Pe*2;if(zr>Mr)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",Ar.attr("text")),Ar.attr("x",Kr.x+Or);else{var Hr=l.x+(e?1:-1)*Math.sqrt((1-zr/Mr)*rr);(l.x===Kr.x&&Xr.y===Kr.y||l.y===Kr.y&&Hr===Kr.x)&&(Hr=Kr.x),Ar.attr("x",Hr+Or)}})}})},r.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,f.head)(t)?(0,f.head)(t).getBBox().height:14},r}(Ec),Fk=Bk,K7=16,Rk=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:je(je({},e),{textBaseline:"middle"})}},r.prototype.adjustItem=function(t){var e=this.options.offset;t.textAlign==="left"?t.x+=e>4?4:e/2:t.textAlign==="right"&&(t.x-=e>4?4:e/2)},r.prototype.layout=function(t,e,n){},r}(Ec),Nk=Rk,ey={inner:Dk,outer:Fk,"outer-center":Nk};function Gk(i){if(!ey[i]){console.warn("this label "+i+" is not registered");return}return ey[i]}var Yk=0,Ac=15,zk="#CCC",Vk=2,Xk=-2,ry=15;function ny(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}var Hk=function(){function i(r){this.destroyed=!1,this.view=r.view,this.options=(0,f.deepMix)({},this.getDefaultOptions(),r),this._adjustOptions(this.options),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear()})},i.prototype.render=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.halves=[[],[]];var e=[],n=this.view.geometries[0].elements;(0,f.each)(n,function(Pt){e.push(Pt.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,l=this.options.fields[0],u=this.view.getScalesByDim("y")[l],c=this.coord.getCenter(),h=this.coord.startAngle,g=this.coord.polarRadius,w=this.view.coordinateBBox,L=w.width,D=w.height;this.width=L,this.height=D;for(var N=h,H=function(Pt){var Ht=t[Pt],te=u.scale(Ht[l]),oe=N+Math.PI*2*te,qt=N+(oe-N)/2;N=oe;var we=ny(c,qt,g+Yk),Ie=ny(c,qt,g+Ac),Pe=zk;if(X.options.fields.length===2){var Ke=X.options.fields[1],ar=X.view.geometries[0].scales[Ke],rr=ar.scale(Ht[Ke]);if(rr){var Mr=Math.floor(rr*(e.length-1));Pe=e[Mr].attr("fill")}}var Ar={_anchor:we,_inflection:Ie,_data:Ht,x:Ie.x,y:Ie.y,r:g+Ac,fill:Pe,textGroup:null,_side:null},Pr=[];if((0,f.each)(X.options.fields,function(an){o&&an===Kl?Pr.push(Ht[s]):Pr.push(Ht[an])}),X.options.formatter){var xr=X.options.formatter(Ht[s],{_origin:Ht,color:Pe},Pt);(0,f.isString)(xr)&&(xr=[xr]),Pr=xr}var br=X.container.addGroup({capture:!1,visible:!1}),Xr={x:0,y:0,fontSize:X.options.text.fontSize,lineHeight:X.options.text.fontSize,fontWeight:X.options.text.fontWeight,fill:X.options.text.fill},zr=Ht[s];X.options.formatter&&(zr=Pr[0]);var Kr=(0,f.clone)(Xr);Pr.length===2&&(Kr.fontWeight=700);var Or=br.addShape("text",{attrs:(0,f.mix)({textBaseline:Pr.length===2?"top":"middle",text:zr},Kr),data:Ht,offsetY:Pr.length===2?Vk:0,name:"label"});if(Or.name="label",Pr.length===2){var Hr=br.addShape("text",{attrs:(0,f.mix)({textBaseline:"bottom",text:Pr[1]},Xr),data:Ht,offsetY:Xk,name:"label"});Hr.name="label"}Ar.textGroup=br,we.x<c.x?(Ar._side="left",X.halves[0].push(Ar)):(Ar._side="right",X.halves[1].push(Ar))},X=this,mt=0;mt<t.length;mt++)H(mt);var xt=Math.floor(D/this.options.lineHeight);(0,f.each)(this.halves,function(Pt){Pt.length>xt&&Pt.splice(xt,Pt.length-xt),Pt.sort(function(Ht,te){return Ht.y-te.y}),r._antiCollision(Pt)}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},i.prototype._antiCollision=function(r){var t=this,e=this.coord,n=e.getHeight(),a=e.center,o=e.getRadius(),s=a.y-o-Ac-this.options.lineHeight,l=!0,u=n,c,h=0,g=Number.MIN_VALUE,w=0,L=r.map(function(mt){var xt=mt.y;xt>h&&(h=xt),xt<g&&(g=xt);var Pt=mt.textGroup,Ht=Pt.getBBox().width;return Ht>=w&&(w=Ht),{size:t.options.lineHeight,targets:[xt-s]}});h-s>u&&(u=h-s);for(var D=function(mt){mt.forEach(function(xt){var Pt=(Math.min.apply(g,xt.targets)+Math.max.apply(g,xt.targets))/2;xt.pos=Math.min(Math.max(g,Pt-xt.size/2),u-xt.size)})};l;)for(D(L),l=!1,c=L.length;c--;)if(c>0){var N=L[c-1],H=L[c];N.pos+N.size>H.pos&&(N.size+=H.size,N.targets=N.targets.concat(H.targets),N.pos+N.size>u&&(N.pos=u-N.size),L.splice(c,1),l=!0)}c=0,L.forEach(function(mt){var xt=s;mt.targets.forEach(function(){r[c].y=mt.pos+xt+t.options.lineHeight/2,xt+=t.options.lineHeight,c++})});var X=[];r.forEach(function(mt){var xt=t._drawLabel(mt);t._drawLabelLine(mt,w,xt),X.push(xt)})},i.prototype._drawLabel=function(r){var t=this.coord,e=t.getCenter(),n=t.getRadius(),a=r.y,o=r.textGroup,s=o.get("children"),l=r._side==="left"?1:-1,u=je({textAlign:r._side==="left"?"right":"left",x:r._side==="left"?e.x-n-this.options.sidePadding:e.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(u.x+=this.options.offsetX*l),s.forEach(function(c){var h=c.get("offsetY"),g=a+h;c.attr(u),c.attr("y",g)}),o.show(),o},i.prototype._drawLabelLine=function(r,t,e){var n=[r._anchor.x,r._anchor.y],a=[r._inflection.x,r._inflection.y],o=r.y,s=r.textGroup;if(!!s){var l=[r._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],u=[n,a,l];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var c=a,h=l[0]+ry,g=l[0]-ry,w=[r._side==="left"?h:g,a[1]];u=[n,c,w,l],(r._side==="right"&&w[0]<c[0]||r._side==="left"&&w[0]>c[0])&&(u=[n,c,l])}else u=[n,[a[0],o],l];for(var L=[],D=0;D<u.length;D++){var N=u[D],H="L";D===0&&(H="M"),L.push([H,N[0],N[1]])}e.addShape("path",{attrs:{path:L,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},i.prototype._adjustOptions=function(r){r.text.fontSize&&(r.lineHeight=r.text.fontSize*3)},i}(),Wk=Hk,jk=function(i){var r=i.opacity||1;return{fillOpacity:r*.8}},Uk=function(i){var r=i.opacity||1;return{fillOpacity:r*.5}};la("pie",{columnStyle:{normal:{},active:jk,disable:Uk,selected:{lineWidth:1,stroke:"black"}}});var Kl="$$percentage$$",Zk={pie:"interval"},Qk={pie:"column"},iy=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.angleField,n=t.colorField,a=t.data,o=(0,f.every)(a,function(l){return l[e]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+e)}},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var e=t.label;if(e.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,f.every)(n,function(c){return c[o]===0}),l=s?Kl:o;this.labelComponent=new Wk(je({view:this.view,fields:a?[l,a]:[l],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var u=Gk(e.type);this.labelComponent=new u(this,t.label),this.labelComponent.render()}}},r.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?Zk[e]:Qk[e]},r.prototype.scale=function(){var t=this.options;i.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=(0,f.deepMix)({},this.config.scales,e),this.setConfig("scales",e)},r.prototype.processData=function(t){var e=this.options.angleField,n=(0,f.every)(t,function(a){return a[e]===0});return n?t.map(function(a){var o;return je(je({},a),(o={},o[e]=typeof a[e]=="string"?Number.parseFloat(a[e]):a[e],o[Kl]=1/t.length,o))}):t.map(function(a){var o,s=a[e];return je(je({},a),(o={},o[e]=s&&!isNaN(s)?+s:s,o))})},r.prototype.axis=function(){},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=t.data,n=t.angleField,a,o=(0,f.every)(e,function(s){return s[n]===0});o?a=yi("interval","main",{plot:this,positionFields:[1,Kl]}):a=yi("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},r.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,p)},r.prototype.label=function(){this.pie.label=!1},r}(vi),ay=iy;On("pie",iy);var Kk=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="pie",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=ay.getDefaultOptions,r}(pn),oy=Kk,$k=.3989422804014327,Jk=1/255/16,_s="_origin",qk=function(i){nr(r,i);function r(t){var e=i.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}return r.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},r.prototype.clear=function(){this.clearShadowCanvasCtx(),i.prototype.clear.call(this)},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[_s][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,f.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},r.prototype.prepareBlur=function(){var t=(0,f.get)(this.styleOption,["style","shadowBlur"]);(0,f.isNumber)(t)||(t=this.radius/2),this.blur=t},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate,n=Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4));return n},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var l=void 0;a[s]?l=a[s]:(l=ao(e.gradient(s/256)),a[s]=l),n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(Jk/t/n/$k))/3*t,o=a-t,s=a+o,l=e.getContext("2d");e.width=e.height=s*2,l.clearRect(0,0,e.width,e.height),l.shadowOffsetX=l.shadowOffsetY=s*2,l.shadowBlur=o,l.shadowColor="black",l.beginPath(),l.arc(-s,-s,t,0,Math.PI*2,!0),l.closePath(),l.fill()},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;t=e.addShape({type:"image",attrs:{}}),this.imageShape=t},r.prototype.drawWithRange=function(t,e){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),u=this.getAttribute("color"),c=u.getFields()[0];this.clearShadowCanvasCtx();var h=this.getShadowCanvasCtx();e&&(t=t.filter(function(mt){return mt[_s][c]<=e[1]&&mt[_s][c]>=e[0]}));for(var g=this.scales[c],w=0;w<t.length;w++){var L=t[w],D=this.getDrawCfg(L),N=g.scale(L[_s][c]);this.drawGrayScaleBlurredCircle(D.x-a.x,D.y-o.y,this.radius+this.blur,N,h)}var H=h.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(H),h.putImageData(H,0,0);var X=new Image;X.src=h.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",l),this.imageShape.attr("img",h.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return je(je({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[_s]})},r}(to);ka("linearHeatmap",qk);var tL=function(i){nr(r,i);function r(t){var e=i.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}return r.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},r.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},r.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},r.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},r.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},r.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},r.prototype.getCoordinate=function(){var t;return(0,f.each)(this.view.geometries,function(e){e.type==="heatmap"&&(t=e.coordinate)}),t},r}(Zt.default),eL=tL,$l=4,sy=1,rL=.1,nL=function(){function i(r){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();r.plot.options.theme&&r.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var r=this.options.plot.container;this.container=r.addGroup()},i.prototype.render=function(){var r=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new mn(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=this.width,o=this.height/e.length,s=this.container.addGroup(),l=(0,f.clone)(e).reverse(),u=(t-r)/e.length;(0,f.each)(l,function(c,h){var g=o*h,w={to:t-u*h,from:t-u*(h+1)},L=n.container.addShape("rect",{attrs:{x:0,y:g,width:a,height:o,fill:c,opacity:sy,cursor:"pointer"},name:"legend"});L.set("info",w);var D=n.getDataSlide(w);n.dataSlides[w.from+"-"+w.to]={mode:"active",data:D},s.addShape("path",{attrs:je({path:[["M",0,g+o],["L",a,g+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:je({text:t,x:a/2,y:-$l,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:je(je({text:r,x:a/2,y:this.height+$l,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:je({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=this.width/e.length,o=this.height,s=this.container.addGroup(),l=(t-r)/e.length;(0,f.each)(e,function(u,c){var h=a*c,g={from:l*c,to:l*(c+1)},w=n.container.addShape("rect",{attrs:{x:h,y:0,width:a,height:o,fill:u,opacity:.8,cursor:"pointer"},name:"legend"});w.set("info",g),s.addShape("path",{attrs:je({path:[["M",h+a,0],["L",h+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:je(je({text:r,x:-$l,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:je({text:t,x:this.width+$l,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:je({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.options.plot.options.width;return r*.5}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.options.plot.options.height;return r*.5}return 10},i.prototype.legendLayout=function(){var r=this,t=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(t)&&(0,f.each)(t,function(u,c){typeof t[c]=="function"&&(t[c]=t[c](r.options.plot.options))});var e=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-e.width:o[1]==="center"?n=(s-e.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-e.width),o[0]==="bottom"?a=l-t[2]-e.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(l-e.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=l-t[2]-e.height),this.x=n,this.y=a,this.container.translate(n,a)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},i.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},i.prototype.addInteraction=function(){var r=this,t=this.options.plot.options.colorField;this.container.on("click",function(e){var n=e.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=r.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:rL},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:sy},200));var l=r.getFilteredData();l.length>0&&(r.view.changeData(l),r.view.scale(t,{min:r.colorScale.min,max:r.colorScale.max,nice:r.colorScale.nice}),r.view.render())}})},i.prototype.getFilteredData=function(){var r=[];return(0,f.each)(this.dataSlides,function(t){t.mode=="active"&&r.push.apply(r,t.data)}),r},i.prototype.getDataSlide=function(r){var t=[],e=this.options.plot.options,n=e.colorField,a=e.data;return(0,f.each)(a,function(o){var s=o[n];s>=r.from&&s<r.to&&t.push(o)}),t},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.getScales=function(){var r;return(0,f.each)(this.view.geometries,function(t){t.type==="heatmap"&&(r=t.scales)}),r},i}(),iL=nL,aL={background:{Ctr:eL},legend:{Ctr:iL,padding:"outer"}};function oL(i,r,t){if(i.options[r]&&i.options[r].visible){var e=aL[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var sL={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},lL=Li(sL);(0,f.assign)(_n,lL);var ly=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&Ai(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Ai(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.geometryParser=function(){return"heatmap"},r.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},r.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,f.deepMix)(e,t.point):t.point=e;var n=yi("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=zi("label",je({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e));return n},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,m)},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()});var e=["legend","background"];(0,f.each)(e,function(n){var a=je({view:t.view,plot:t},t.options[n]),o=oL(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(vi),uL=ly;On("densityHeatmap",ly);var fL=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="densityHeatmap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=uL.getDefaultOptions,r}(pn),uy=fL;function Jl(i,r,t,e,n){var a=t*n,o=e*n,s=[["M",i-a/2,r+o/2],["Q",i-a/2,r,i-a/2,r-o/2],["Q",i,r-o/2,i+a/2,r-o/2],["Q",i+a/2,r,i+a/2,r+o/2],["Q",i,r+o/2,i-a/2,r+o/2],["Z"]];return s}function ql(i,r,t){var e=[["M",i,r],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return e}function fy(i,r,t){var e=[["M",i-t,r],["Q",i-t,r-t,i,r-t],["Q",i+t,r-t,i+t,r],["Q",i+t,r+t,i,r+t],["Q",i-t,r+t,i-t,r],["Z"]];return e}Nn("polygon","rect",{draw:function(i,r){var t=this.parsePoints(i.points),e=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+e/2,o=t[1].y+n/2,s=Jl(a,o,e,n,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:s,fill:i.color,opacity:1},i.style)})}}),Nn("point","curvePoint",{draw:function(i,r){var t=ql(i.x,i.y,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:t,fill:i.color,opacity:1},i.style)})}});var cL=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.view.geometries[0].elements;(0,f.each)(t,function(e){var n=e.shape,a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,c=u?u(r.getContent(n)):r.getContent(n),h=r.getPosition(n),g=r.getTextColor(n),w=r.container.addShape("text",{attrs:(0,f.deepMix)({},o,{x:h.x+s,y:h.y+l,text:c,fill:g,textAlign:"center",textBaseline:"middle"}),name:"label"});r.options.adjustPosition&&r.adjustLabel(w,n)})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getContent=function(r){var t=r.get("origin").data,e=this.plot.options.colorField;return t[e]},i.prototype.getPosition=function(r){var t=r.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},i.prototype.getTextColor=function(r){if(this.options.adjustColor){var t=r.attr("fill"),e=r.attr("opacity")?r.attr("opacity"):1,n=ao(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/e,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=jl(o,a);return s}var l=this.options.style.fill;return l},i.prototype.adjustLabel=function(r,t){var e=r.getBBox(),n=t.getBBox();(e.width>n.width||e.height>n.height)&&r.attr("text","")},i}(),hL=cL,cy=4,vL=function(){function i(r){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){var r=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){r.clear(),r.options.plot.canvas.draw()})},i.prototype.render=function(){var r=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new mn(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.height/(e.length-1),l="l(90)";(0,f.each)(e,function(g,w){var L=o*w;l+=L+":"+g+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(g,w){var L=s*w;n.container.addShape("path",{attrs:je({path:[["M",0,L],["L",n.width,L]]},n.options.ticklineStyle)});var D=Math.round(a*w);n.container.addShape("text",{attrs:je({text:D,textAlign:"left",textBaseline:"middle",x:n.width+cy,y:L},n.options.text.style),name:"legend-label"})});var u=10,c=14,h=[["M",-u,-c/2],["L",0,0],["L",-u,c/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:je({path:h},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.width/(e.length-1),l="l(0)";(0,f.each)(e,function(g,w){var L=o*w;l+=L+":"+g+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(g,w){var L=s*w;n.container.addShape("path",{attrs:je({path:[["M",L,0],["L",L,n.height]]},n.options.ticklineStyle),name:"legend-label"});var D=Math.round(a*w);n.container.addShape("text",{attrs:je({text:D,textAlign:"center",textBaseline:"top",x:L,y:n.height+cy},n.options.text.style)})});var u=14,c=10,h=[["M",0,0],["L",-u/2,-c],["L",u/2,-c],["Z"]];this.anchor=this.container.addShape("path",{attrs:je({path:h},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.view.coordinateBBox.width;return r}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.view.coordinateBBox.height;return r}return 10},i.prototype.legendLayout=function(){var r=this,t=this.view.coordinateBBox,e=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(e)&&(0,f.each)(e,function(c,h){typeof e[h]=="function"&&(e[h]=e[h](r.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),l=this.options.plot.width,u=this.options.plot.height;s[0]==="left"?a=e[3]:s[0]==="right"?a=l-e[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(l-n.width)/2:s[1]==="left"?a=e[3]:s[1]==="right"&&(a=this.options.plot.width-e[1]-n.width),s[0]==="bottom"?o=u-e[2]-n.height:s[0]==="top"?o=this.getTopPosition(e):s[1]==="center"?this.height===t.height?o=t.y:o=(u-n.height)/2:s[1]==="top"?o=e[0]:s[1]==="bottom"&&(o=u-e[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},i.prototype.addInteraction=function(){var r=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var e=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,l=function(c){var h=c.data.data[n],g=(h-o)/(s-o);r.moveAnchor(g)};this.view.on(e,l),this.interactiveEvents[e]={target:this.view,handler:l};var u=function(){r.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",u),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:u}},i.prototype.moveAnchor=function(r){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*r,e=[1,0,0,0,1,0,0,0,1];e[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}else{var t=this.width*r,e=[1,0,0,0,1,0,0,0,1];e[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.offEvent=function(){(0,f.each)(this.interactiveEvents,function(r,t){var e=r.target,n=r.handler;e.off(t,n)})},i}(),dL=vL,pL={label:{Ctr:hL},legend:{Ctr:dL,padding:"outer"}};function gL(i,r,t){if(i.options[r]&&i.options[r].visible){var e=pL[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var hy=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var e=this.getShape();this.circleToRect(e)}else if(t==="circle"){var e=this.getShape();this.rectToCircle(e)}}},r.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var e=(0,f.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=(0,se.getScale)("linear"),s=new o({min:n,max:a}),l=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(l,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(l,s,t)}},r.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(){return""},r.prototype.coord=function(){},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var e=this.addCircle();t=e}if(this.options.shapeStyle){var n={};(0,f.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,f.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},r.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},r.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},e},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,a=e.xField,o=e.yField,s=e.data,l=t.width-n[1]-n[3],u=t.height-n[0]-n[2],c=(0,f.valuesOfKey)(s,a).length,h=(0,f.valuesOfKey)(s,o).length;return[l/c,u/h]},r.prototype.circleToRect=function(t){var e=this,n=this.gridSize;(0,f.each)(t,function(a){var o=a.get("origin"),s=o.x,l=o.y,u=o.size,c=u*2/Math.min(n[0],n[1]);e.options.sizeField||(c=1);var h=fy(s,l,u),g=Jl(s,l,n[0],n[1],c);a.stopAnimate(),a.attr("path",h),a.animate({path:g},500,"easeLinear")})},r.prototype.rectToCircle=function(t){var e=this;(0,f.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,f.each)(o,function(N){s.push(a.convertPoint(N))});var l=n.getBBox(),u=l.width,c=l.height,h=l.minX+u/2,g=l.minY+c/2,w=e.options.sizeField?1:.9,L=fy(h,g,Math.min(u,c)/2*w),D=ql(h,g,Math.min(u,c)/2*w);n.stopAnimate(),n.animate({path:L},500,"easeLinear",function(){n.attr("path",D)})})},r.prototype.rectSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6;a.get("origin").size=s;var l=a.getBBox(),u=l.width,c=l.height,h=l.minX+u/2,g=l.minY+c/2,w=Jl(h,g,u,c,s);a.stopAnimate(),a.animate({path:w},500,"easeLinear")})},r.prototype.circleSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6,l=a.get("origin"),u=l.x,c=l.y,h=l.size,g=ql(u,c,h*s);a.get("origin").size=h*s,a.stopAnimate(),a.animate({path:g},500,"easeLinear")})},r.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,l=Math.min(e.gridSize[0],e.gridSize[1])*.9;n.get("origin").size=l/2;var u=ql(o,s,l/2);n.stopAnimate(),n.animate({path:u},500,"easeLinear")})},r.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,l=a.minX+o/2,u=a.minY+s/2,c=Jl(l,u,e.gridSize[0],e.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:c},500,"easeLinear")})},r.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return(0,f.each)(t,function(n){e.push(n.shape)}),e},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var e=["label","legend"];(0,f.each)(e,function(n){var a=je({view:t.view,plot:t},t.options[n]),o=gL(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(vi),yL=hy;On("heatmap",hy);var mL=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="heatmap",i.prototype.createLayers.call(this,e)},r.prototype.changeShape=function(t){var e=this.layers[0];e.changeShape(t)},r.prototype.mappingSize=function(t){var e=this.layers[0];e.mappingSize(t)},r.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=yL.getDefaultOptions,r}(pn),vy=mL,xL=function(i){nr(r,i);function r(t){var e=this,n=(0,f.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return e=i.call(this,n)||this,e}return r}(yE.Z),bL=xL;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(e+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,e.length)!==e)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(e.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var Tc=function(){var r=document.createElement("canvas");if(!r||!r.getContext)return!1;var t=r.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),is=function(){if(!!Tc){for(var r=document.createElement("canvas").getContext("2d"),t=20,e,n;t;){if(r.font=t.toString(10)+"px sans-serif",r.measureText("\uFF37").width===e&&r.measureText("m").width===n)return t+1;e=r.measureText("\uFF37").width,n=r.measureText("m").width,t--}return 0}}(),wL=function(r){for(var t,e,n=r.length;n;t=Math.floor(Math.random()*n),e=r[--n],r[n]=r[t],r[t]=e);return r},Pc=function(r,t){if(!Tc)return;Array.isArray(r)||(r=[r]),r.forEach(function(tn,vr){if(typeof tn=="string"){if(r[vr]=document.getElementById(tn),!r[vr])throw"The element id specified is not found."}else if(!tn.tagName&&!tn.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var e={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:is,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in e&&(e[o]=t[a][o]);else a in e&&(e[a]=t[a]);if(e.minFontSize<is&&(e.minFontSize=is),e.minFontSize>e.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,l=0;l<e.data.length;l++)s<e.data[l].weight&&(s=e.data[l].weight);var u=function(vr){var Lr=Math.min(Math.max(e.minFontSize,e.maxFontSize*vr/s),e.maxFontSize);return ln?Lr*e.fontScale:Lr},c=!1;if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(vr){return 1-Math.sin(vr)},c=!0;break;case"diamond":e.shape=function(vr){var Lr=vr%(2*Math.PI/4);return 1/(Math.cos(Lr)+Math.sin(Lr))};break;case"square":e.shape=function(vr){var Lr=(vr+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(Lr)+Math.sin(Lr))};break;case"triangle-forward":e.shape=function(vr){var Lr=vr%(2*Math.PI/3);return 1/(Math.cos(Lr)+Math.sqrt(3)*Math.sin(Lr))};break;case"triangle-backward":e.shape=function(vr){var Lr=(vr+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(Lr)+Math.sqrt(3)*Math.sin(Lr))};break;case"triangle":case"triangle-up":e.shape=function(vr){var Lr=(vr+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(Lr)+Math.sqrt(3)*Math.sin(Lr))};break;case"triangle-down":e.shape=function(vr){var Lr=(vr+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos(Lr)+Math.sqrt(3)*Math.sin(Lr))};break;case"pentagon":e.shape=function(vr){var Lr=(vr+.955)%(2*Math.PI/5);return 1/(Math.cos(Lr)+.726543*Math.sin(Lr))};break;case"star":e.shape=function(vr){var Lr=(vr+.955)%(2*Math.PI/10);return(vr+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-Lr)+3.07768*Math.sin(2*Math.PI/10-Lr)):1/(Math.cos(Lr)+3.07768*Math.sin(Lr))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var h=e.gridSize,g=h-e.maskGapWidth,w=Math.abs(e.maxRotation-e.minRotation),L=Math.min(e.maxRotation,e.minRotation),D=e.rotationSteps,N,H,X,mt,xt,Pt,Ht;function te(tn,vr){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(vr-tn)+tn).toFixed()+"%)"}switch(e.color){case"random-dark":Ht=function(){return te(10,50)};break;case"random-light":Ht=function(){return te(50,90)};break;default:typeof e.color=="function"&&(Ht=e.color);break}var oe=null;typeof e.classes=="function"&&(oe=e.classes);var qt=!1,we=[],Ie,Pe=function(vr){var Lr=vr.currentTarget,un=Lr.getBoundingClientRect(),hn,nn;vr.touches?(hn=vr.touches[0].clientX,nn=vr.touches[0].clientY):(hn=vr.clientX,nn=vr.clientY);var Sn=hn-un.left,yn=nn-un.top,fn=Math.floor(Sn*(Lr.width/un.width||1)/h),Cn=Math.floor(yn*(Lr.height/un.height||1)/h);return we&&we[fn]&&we[fn][Cn]},Ke=function(vr,Lr,un,hn){hn(vr?vr.id:-1)},ar=function(vr){var Lr=Pe(vr);if(Ie!==Lr&&!(ln&&Lr&&Lr.item&&!(0,f.get)(Lr,["item","twiceRender"]))){if(!Lr){e.onWordCloudHover(void 0,void 0,vr,xn),e.active&&Ke(void 0,void 0,vr,xn);return}e.onWordCloudHover(Lr.item,Lr.dimension,vr,xn),e.active&&Ke(Lr.item,Lr.dimension,vr,xn),Ie=Lr}},rr=function(vr){var Lr=Pe(vr);!Lr||(e.onWordCloudClick(Lr.item,Lr.dimension,vr),vr.preventDefault())},Mr=[],Ar=function(vr){if(Mr[vr])return Mr[vr];var Lr=vr*8,un=Lr,hn=[];for(vr===0&&hn.push([mt[0],mt[1],0]);un--;){var nn=1;e.shape!=="circle"&&(nn=e.shape(un/Lr*2*Math.PI)),hn.push([mt[0]+vr*nn*Math.cos(-un/Lr*2*Math.PI),mt[1]+vr*nn*Math.sin(-un/Lr*2*Math.PI)*e.ellipticity,un/Lr*2*Math.PI])}return Mr[vr]=hn,hn},Pr=function(){return e.abortThreshold>0&&new Date().getTime()-Pt>e.abortThreshold},xr=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:w===0?L:D>0?L+Math.floor(Math.random()*D)*w/D:L+Math.random()*w},br=function(vr,Lr,un){var hn=!1,nn=u(Lr);if(nn<=0)return!1;var Sn=1;nn<is&&(Sn=function(){for(var Ho=2;Ho*nn<is;)Ho+=2;return Ho}());var yn=document.createElement("canvas"),fn=yn.getContext("2d",{willReadFrequently:!0});fn.font=e.fontWeight+" "+(nn*Sn).toString(10)+"px "+e.fontFamily;var Cn=fn.measureText(vr).width/Sn,Dn=Math.max(nn*Sn,fn.measureText("m").width,fn.measureText("\uFF37").width)/Sn,ri=Cn+Dn*2,Wn=Dn*3,fi=Math.ceil(ri/h),pi=Math.ceil(Wn/h);ri=fi*h,Wn=pi*h;var Hi=-Cn/2,Ki=-Dn*.4,Ci=Math.ceil((ri*Math.abs(Math.sin(un))+Wn*Math.abs(Math.cos(un)))/h),on=Math.ceil((ri*Math.abs(Math.cos(un))+Wn*Math.abs(Math.sin(un)))/h),ci=on*h,Di=Ci*h;yn.setAttribute("width",ci),yn.setAttribute("height",Di),hn&&(document.body.appendChild(yn),fn.save()),fn.scale(1/Sn,1/Sn),fn.translate(ci*Sn/2,Di*Sn/2),fn.rotate(-un),fn.font=e.fontWeight+" "+(nn*Sn).toString(10)+"px "+e.fontFamily,fn.fillStyle="#000",fn.textBaseline="middle",fn.fillText(vr,Hi*Sn,(Ki+nn*.5)*Sn);var Ti;try{Ti=fn.getImageData(0,0,ci,Di).data}catch($i){return!1}if(Pr())return!1;hn&&(fn.strokeRect(Hi*Sn,Ki,Cn*Sn,Dn*Sn),fn.restore());for(var qa=[],Bi=on,jn,Xn,ni,li=[Ci/2,on/2,Ci/2,on/2];Bi--;)for(jn=Ci;jn--;){ni=h;t:{for(;ni--;)for(Xn=h;Xn--;)if(Ti[((jn*h+ni)*ci+(Bi*h+Xn))*4+3]){qa.push([Bi,jn]),Bi<li[3]&&(li[3]=Bi),Bi>li[1]&&(li[1]=Bi),jn<li[0]&&(li[0]=jn),jn>li[2]&&(li[2]=jn),hn&&(fn.fillStyle="rgba(255, 0, 0, 0.5)",fn.fillRect(Bi*h,jn*h,h-.5,h-.5));break t}hn&&(fn.fillStyle="rgba(0, 0, 255, 0.5)",fn.fillRect(Bi*h,jn*h,h-.5,h-.5))}}return hn&&(fn.fillStyle="rgba(0, 255, 0, 0.5)",fn.fillRect(li[3]*h,li[0]*h,(li[1]-li[3]+1)*h,(li[2]-li[0]+1)*h)),{mu:Sn,occupied:qa,bounds:li,gw:on,gh:Ci,fillTextOffsetX:Hi,fillTextOffsetY:Ki,fillTextWidth:Cn,fillTextHeight:Dn,fontSize:nn}},Xr=function(vr,Lr,un,hn,nn){for(var Sn=nn.length;Sn--;){var yn=vr+nn[Sn][0],fn=Lr+nn[Sn][1];if(yn>=H||fn>=X||yn<0||fn<0){if(!e.drawOutOfBound)return!1;continue}if(!N[yn][fn])return!1}return!0},zr=function(vr,Lr,un,hn,nn,Sn,yn,fn,Cn,Dn,ri){var Wn=un.fontSize,fi=e.color,pi=e.classes;if(!ri)Ht?fi=Ht(hn,nn,Wn,Sn,yn):fi=e.color,oe?pi=oe(hn,nn,Wn,Sn,yn):pi=e.classes;else{var Hi=jr(Dn);fi=Hi?Hi.color:e.color}var Ki,Ci=un.bounds;Ki={x:(vr+Ci[3])*h,y:(Lr+Ci[0])*h,w:(Ci[1]-Ci[3]+1)*h,h:(Ci[2]-Ci[0]+1)*h},r.forEach(function(on){if(on.getContext){var ci=on.getContext("2d"),Di=un.mu;ci.save();var Ti=e.fontWeight+" "+(Wn*Di).toString(10)+"px "+e.fontFamily;ci.scale(1/Di,1/Di),ci.font=Ti,ci.fillStyle=fi;var qa=(vr+un.gw/2)*h*Di,Bi=(Lr+un.gh/2)*h*Di;ci.translate(qa,Bi),fn!==0&&ci.rotate(-fn),ci.textBaseline="middle",e.selected===Dn&&(ci.shadowColor=e.shadowColor,ci.shadowBlur=e.shadowBlur),ci.fillText(hn,un.fillTextOffsetX*Di,(un.fillTextOffsetY+Wn*.5)*Di),ri||n.push({gx:vr,gy:Lr,info:un,word:hn,weight:nn,distance:Sn,theta:yn,rotateDeg:fn,attributes:Cn,id:Dn,color:fi}),ci.restore()}else{var jn=document.createElement("span"),Xn="";Xn="rotate("+-fn/Math.PI*180+"deg) ",un.mu!==1&&(Xn+="translateX(-"+un.fillTextWidth/4+"px) scale("+1/un.mu+")");var ni={position:"absolute",display:"block",font:e.fontWeight+" "+Wn*un.mu+"px "+e.fontFamily,left:(vr+un.gw/2)*h+un.fillTextOffsetX+"px",top:(Lr+un.gh/2)*h+un.fillTextOffsetY+"px",width:un.fillTextWidth+"px",height:un.fillTextHeight+"px",lineHeight:Wn+"px",whiteSpace:"nowrap",transform:Xn,webkitTransform:Xn,msTransform:Xn,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};fi&&(ni.color=fi),jn.textContent=hn;for(var li in ni)jn.style[li]=ni[li];if(Cn)for(var $i in Cn)jn.setAttribute($i,Cn[$i]);pi&&(jn.className+=pi),on.appendChild(jn)}})},Kr=function(vr,Lr,un,hn,nn){if(!(vr>=H||Lr>=X||vr<0||Lr<0)){if(N[vr][Lr]=!1,un){var Sn=r[0].getContext("2d");Sn.fillRect(vr*h,Lr*h,g,g)}qt&&(we[vr][Lr]={item:nn,dimension:hn})}},Or=function(vr,Lr,un,hn,nn){var Sn=nn.occupied,yn=e.drawMask,fn;yn&&(fn=r[0].getContext("2d"),fn.save(),fn.fillStyle=e.maskColor);var Cn;if(qt){var Dn=nn.bounds;Cn={x:(vr+Dn[3])*h,y:(Lr+Dn[0])*h,w:(Dn[1]-Dn[3]+1)*h,h:(Dn[2]-Dn[0]+1)*h}}for(var ri=Sn.length;ri--;){var Wn=vr+Sn[ri][0],fi=Lr+Sn[ri][1];if(!(Wn>=H||fi>=X||Wn<0||fi<0)){var pi=jr(nn.item.id);pi&&(nn.item.color=pi.color),Kr(Wn,fi,yn,Cn,nn.item)}}yn&&fn.restore()},Hr=function(vr,Lr,un,hn,nn,Sn,yn,fn){var Cn=Math.floor(vr[0]-Lr.gw/2),Dn=Math.floor(vr[1]-Lr.gh/2),ri=Lr.gw,Wn=Lr.gh;return Xr(Cn,Dn,ri,Wn,Lr.occupied)?(zr(Cn,Dn,Lr,un,hn,nn,vr[2],Sn,yn,fn,!1),Or(Cn,Dn,ri,Wn,Lr),{gx:Cn,gy:Dn,rot:Sn,info:Lr}):!1},an=function(vr){var Lr,un,hn,nn;Array.isArray(vr)?(Lr=vr[0],un=vr[1]):(Lr=vr.word,un=vr.weight,hn=vr.attributes,nn=vr.id);var Sn=(0,f.isNil)(vr.rotateDeg)?xr():vr.rotateDeg,yn=br(Lr,un,Sn);if(yn&&(yn.item=vr),!yn||Pr())return!1;if(!e.drawOutOfBound){var fn=yn.bounds;if(fn[1]-fn[3]+1>H||fn[2]-fn[0]+1>X)return!1}for(var Cn=xt+1;Cn--;){var Dn=Ar(xt-Cn);e.shuffle&&(Dn=[].concat(Dn),wL(Dn));for(var ri=0;ri<Dn.length;ri++){var Wn=Hr(Dn[ri],yn,Lr,un,xt-Cn,Sn,hn,nn);if(Wn)return Wn}}return null},Ur=function(vr,Lr,un){if(Lr)return!r.some(function(hn){var nn=document.createEvent("CustomEvent");return nn.initCustomEvent(vr,!0,Lr,un||{}),!hn.dispatchEvent(nn)},this);r.forEach(function(hn){var nn=document.createEvent("CustomEvent");nn.initCustomEvent(vr,!0,Lr,un||{}),hn.dispatchEvent(nn)},this)},jr=function(vr){for(var Lr=0;Lr<n.length;Lr++){var un=n[Lr];if(n[Lr].id===vr)return un}},ln,xn=function(vr){if(vr!==void 0){if(e.selected!==vr&&r[0].getContext){e.selected=vr;var Lr=r[0].getContext("2d");Lr.fillStyle=e.backgroundColor,Lr.clearRect(0,0,r[0].width,r[0].height),Lr.fillRect(0,0,r[0].width,r[0].height);for(var un=0;un<n.length;un++){var hn=n[un];(!ln||ln&&(0,f.get)(hn,["info","item","twiceRender"]))&&zr(hn.gx,hn.gy,hn.info,hn.word,hn.weight,hn.distance,hn.theta,hn.rotateDeg,hn.attributes,hn.id,!0)}}return}var nn=r[0];if(nn.getContext)H=Math.ceil(nn.width/h),X=Math.ceil(nn.height/h);else{var Sn=nn.getBoundingClientRect();H=Math.ceil(Sn.width/h),X=Math.ceil(Sn.height/h)}if(!!Ur("wordcloudstart",!0)){mt=e.origin?[e.origin[0]/h,e.origin[1]/h]:[H/2,X/(c?4:2)],xt=Math.floor(Math.sqrt(H*H+X*X)),N=[];var yn,fn,Cn;if(!nn.getContext||e.clearCanvas)for(r.forEach(function(Xn){if(Xn.getContext){var ni=Xn.getContext("2d");ni.fillStyle=e.backgroundColor,ni.clearRect(0,0,H*(h+1),X*(h+1)),ni.fillRect(0,0,H*(h+1),X*(h+1))}else Xn.textContent="",Xn.style.backgroundColor=e.backgroundColor,Xn.style.position="relative"}),yn=H;yn--;)for(N[yn]=[],fn=X;fn--;)N[yn][fn]=!0;else{var Dn=document.createElement("canvas").getContext("2d");Dn.fillStyle=e.backgroundColor,Dn.fillRect(0,0,1,1);var ri=Dn.getImageData(0,0,1,1).data,Wn=nn.getContext("2d").getImageData(0,0,H*h,X*h).data;yn=H;for(var fi,pi;yn--;)for(N[yn]=[],fn=X;fn--;){pi=h;t:for(;pi--;)for(fi=h;fi--;)for(Cn=4;Cn--;)if(Wn[((fn*h+pi)*H*h+(yn*h+fi))*4+Cn]!==ri[Cn]){N[yn][fn]=!1;break t}N[yn][fn]!==!1&&(N[yn][fn]=!0)}Wn=Dn=ri=void 0}if(e.onWordCloudHover||e.onWordCloudClick){for(qt=!0,yn=H+1;yn--;)we[yn]=[];e.onWordCloudHover&&nn.addEventListener("mousemove",ar),e.onWordCloudClick&&(nn.addEventListener("click",rr),nn.addEventListener("touchstart",rr),nn.addEventListener("touchend",function(Xn){Xn.preventDefault()}),nn.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),nn.addEventListener("wordcloudstart",function Xn(){nn.removeEventListener("wordcloudstart",Xn),nn.removeEventListener("mousemove",ar),nn.removeEventListener("click",rr),Ie=void 0})}if(e.animatable){Cn=0;var ci,Di;e.wait!==0?(ci=window.setTimeout,Di=window.clearTimeout):(ci=window.setImmediate,Di=window.clearImmediate);var Ti=function(ni,li){r.forEach(function($i){$i.addEventListener(ni,li)},this)},qa=function(ni,li){r.forEach(function($i){$i.removeEventListener(ni,li)},this)},Bi=function Xn(){qa("wordcloudstart",Xn),Di(jn)};Ti("wordcloudstart",Bi);var jn=ci(function Xn(){if(Cn>=e.data.length){Di(jn),Ur("wordcloudstop",!1),qa("wordcloudstart",Bi);return}Pt=new Date().getTime();var ni=an(e.data[Cn]),li=!Ur("wordclouddrawn",!0,{item:e.data[Cn],drawn:ni});if(Pr()||li){Di(jn),e.abort(),Ur("wordcloudabort",!1),Ur("wordcloudstop",!1),qa("wordcloudstart",Bi);return}Cn++,jn=ci(Xn,e.wait)},e.wait)}else{t.maskImage&&r.forEach(function(Xn){if(Xn.getContext){var ni=Xn.getContext("2d");ni.fillStyle=e.backgroundColor,ni.clearRect(0,0,H*(h+1),X*(h+1)),ni.fillRect(0,0,H*(h+1),X*(h+1))}});for(var Hi=[],Ki=0;Ki<e.data.length;Ki++){var Ci=an(e.data[Ki]);Ci&&Hi.push(Ci)}if(Hi.length===e.data.length&&!ln){for(r.forEach(function(Xn){if(Xn.getContext){var ni=Xn.getContext("2d");ni.fillStyle=e.backgroundColor,ni.clearRect(0,0,H*(h+1),X*(h+1)),ni.fillRect(0,0,H*(h+1),X*(h+1))}}),yn=H;yn--;)for(N[yn]=[],fn=X;fn--;)N[yn][fn]=!0;ln=!0;for(var on=0;on<e.data.length;on++)an(je(je({},e.data[on]),{twiceRender:ln}))}}}};xn()};Pc.isSupported=Tc,Pc.minFontSize=is;var SL=Pc,CL=function(i){nr(r,i);function r(t){var e=i.call(this,t)||this;return e._toolTipsAction=function(n,a,o,s){a?(e._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),e._toolTips.show()):e._toolTips.hide(),e._toolTips.render(),e._configHoverAction&&e._configHoverAction(n,a,o,s)},e._configHoverAction=t.onWordCloudHover,e._enableToolTips=(0,f.get)(t,"tooltip.visible",!0),e.options=(0,f.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:e._enableToolTips?e._toolTipsAction:e._configHoverAction}),e}return r.prototype.init=function(){i.prototype.init.call(this),this._initToolTips()},r.prototype.render=function(){i.prototype.render.call(this),this._render()},r.prototype._initToolTips=function(){this._toolTips=new bL({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},r.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},r.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+new Date().getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},r.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),SL(this._targetCanvas,this.options)},r.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],e=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,f.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:e[0],maxRotation:e[1],active:n,shadowColor:a,shadowBlur:o})},r.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,a=e.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,l=a.getImageData(0,0,n.width,n.height),u=a.createImageData(l),c=0;c<l.data.length;c+=4)l.data[c+3]>128?(u.data[c]=s[0],u.data[c+1]=s[1],u.data[c+2]=s[2],u.data[c+3]=s[3]):(u.data[c]=s[0],u.data[c+1]=s[1],u.data[c+2]=s[2],u.data[c+3]=254);a.putImageData(u,0,0);var h=this._targetCanvas.getContext("2d");h.drawImage(n,0,0),this.options=(0,f.deepMix)({},this.options,{clearCanvas:!1}),this._start()},r.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},r.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,e.width,e.height),o=4,s=0,l=255,u=0;u<a.data.length;u+=o){var c=a.data[u]+a.data[u+1]+a.data[u+2],h=a.data[u+3];h<128||c>250*3?(a.data[u]=l,a.data[u+1]=l,a.data[u+2]=l,a.data[u+3]=s):(a.data[u]=s,a.data[u+1]=s,a.data[u+2]=s,a.data[u+3]=l)}return n.putImageData(a,0,0),e},r}(Ol),ML=CL,EL=function(i){nr(r,i);function r(t,e){var n=this;return e.renderer="canvas",n=i.call(this,t,e)||this,n}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="wordCloud",e.container=this.containerDOM,i.prototype.createLayers.call(this,e)},r}(pn),AL=EL;On("wordCloud",ML);var TL={rose:"interval"},PL=Li(TL);(0,f.assign)(_n,PL);var OL={rose:"interval"},IL={rose:"column"},dy=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,f.deepMix)({},e,{columnStyle:n,xField:a,yField:o})},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},r.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?OL[e]:IL[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.adjustRoseAdjust=function(){},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,x)},r.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=(0,f.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField],a=zi("label",je({plot:this,labelType:"polar",fields:n},e));return a},r.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,l){return""+l._origin[e]})}},r}(vi),Oc=dy;On("rose",dy);var kL=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Oc.getDefaultOptions,r}(pn),py=kL,LL=function(i){var r=i.opacity||1;return{opacity:r*.5}},_L=function(i){var r=i.opacity||1;return{opacity:r*.5}};la("funnel",{columnStyle:{normal:{},active:LL,disable:_L,selected:{lineWidth:1,stroke:"black"}}});var gy=v(26485);function DL(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var c=[{x:l,y:o},{x:l,y:s}];return r?c.push({x:u,y:(s+o)/2}):c.push({x:u,y:s},{x:u,y:o}),c}function BL(i,r){var t=[],e=i.points,n=i.nextPoints;if(r){var a=r.yValues,o=r.yValuesMax,s=r.yValuesNext,l=(e[0].y+e[1].y)/2,u=a[0]+a[1],c=a.map(function(D){return D/u/.5}),h=(o[0]/(o[0]+o[1])-.5)*.9,g=.001;if((0,f.isNil)(n))t.push(["M",e[0].x,h+(e[0].y-l)*c[0]+l],["L",e[1].x,h+l],["L",e[2].x,h+l],["L",e[3].x,h+(e[3].y-l)*c[0]+l],["Z"]),t.push(["M",e[0].x,h+.002+l],["L",e[1].x,h+.002+(e[1].y-l)*c[1]+l],["L",e[2].x,h+.002+(e[2].y-l)*c[1]+l],["L",e[3].x,h+.002+l],["Z"]);else{var w=s[0]+s[1],L=s.map(function(D){return D/w/.5});t.push(["M",e[0].x,h+(e[0].y-l)*c[0]+l-g],["L",e[1].x,h+l-g],["L",n[1].x,h+l-g],["L",n[0].x,h+(n[3].y-l)*L[0]+l-g],["Z"]),t.push(["M",e[0].x,h+l+g],["L",e[1].x,h+(e[1].y-l)*c[1]+l+g],["L",n[1].x,h+(n[2].y-l)*L[1]+l+g],["L",n[0].x,h+l+g],["Z"])}}else(0,f.isNil)(n)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}Nn("interval","funnel-basic-rect",{getPoints:function(i){return i.size=i.size*1.8,DL(i)},draw:function(i,r){var t,e=(0,gy.getStyle)(i,!1,!0),n=(0,f.get)(i,"data.__compare__"),a=this.parsePath(BL(i,n));return r.addShape("path",(t={name:"interval",attrs:je(je({},e),{path:a})},t.__compare__=n,t))},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function Ic(i,r,t){return(1-t)*i+t*r}function FL(i,r){var t=r.reverse,e=r.ratioUpper,n=r.ratioLower,a=[],o=i[0],s=(i[1].x+i[2].x)/2,l=1.2,u=.6;if(t){var c=n;n=e,e=c}var h=(o.x-s)*Ic(u,l,n)+s;a.push(["M",h,o.y]);for(var g=1,w=i.length;g<w;g++){var L=i[g].x;switch(g){case 1:case 2:L=(L-s)*Ic(u,l,e)+s;break;case 3:L=(L-s)*Ic(u,l,n)+s;break}a.push(["L",L,i[g].y])}return a.push(["L",h,o.y]),a.push(["z"]),a}Nn("interval","funnel-dynamic-rect",{draw:function(i,r){var t=(0,gy.getStyle)(i,!1,!0),e=(0,f.get)(i,"data.__custom__"),n=this.parsePath(FL(i.points,e));return r.addShape("path",{attrs:je(je({},t),{path:n})})},getMarker:function(i){var r=i.color,t=i.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:r}}}});function yy(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),c=l?u.maxX:u.minX,h=(u.minY+u.maxY)/2,g=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),w={matrix:[1,0,0,0,1,0,0,0,1]};g.setMatrix(sr.transform(g.getMatrix(),[["t",-c,-h],["s",0,1],["t",c,h]]));var L={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),g.animate(w,{duration:200,easing:o,callback:function(){i.setClip(null),g.remove()},delay:a}),i.animate(L,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}yy.animationName="funnelScaleInX",wi("funnelScaleInX",yy);function my(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),c=(u.minX+u.maxX)/2,h=l?u.maxY:u.minY,g=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),w={matrix:[1,0,0,0,1,0,0,0,1]};g.setMatrix(sr.transform(g.getMatrix(),[["t",-c,-h],["s",1,0],["t",c,h]]));var L={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),g.animate(w,{duration:200,easing:o,callback:function(){i.setClip(null),g.remove()},delay:a}),i.animate(L,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}my.animationName="funnelScaleInY",wi("funnelScaleInY",my);function tu(i,r,t){return(1-t)*i+t*r}var RL={column:"interval"},NL={interval:"funnel"},xy=function(i){nr(r,i);function r(t){var e=i.call(this,t)||this;return e.type="funnel",e._shouldResetPercentages=!0,e._shouldResetLabels=!0,e._shouldResetCompareTexts=!0,e._legendsListenerAttached=!1,e._onLegendContainerMouseDown=function(n){var a=e.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),e.refreshPercentages(),e.refreshLabels(),a.dynamicHeight){var l=e._findCheckedDataByMouseDownLegendItem(s);e._genCustomFieldForDynamicHeight(l)}if(a.compareField){var l=e._findCheckedDataByMouseDownLegendItem(s);e._updateDataForCompare(l),e.refreshCompareTexts()}}},e.adjustProps(e.options),t.dynamicHeight&&e._genCustomFieldForDynamicHeight(e.getData()),t.compareField&&(e.options.data=e._reduceDataForCompare(e.getData())),e}return r.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,f.deepMix)({},mo.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,f.deepMix)({},i.getDefaultOptions.call(this),e)},r.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},(0,f.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},r.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,f.deepMix)(t.tooltip,{htmlContent:function(e,n){var a,o,s,l;a=qe.CONTAINER_CLASS,o=(0,et.Z)('<div class="'+a+'"></div>'),(0,Tt.Z)(o,Fo.default[a]);var u=o;if(e){a=qe.TITLE_CLASS,o=(0,et.Z)('<div class="'+a+'"></div>'),(0,Tt.Z)(o,Fo.default[a]),u.appendChild(o);var c=o;a=qe.MARKER_CLASS,o=(0,et.Z)('<span class="'+a+'"></span>'),(0,Tt.Z)(o,Fo.default[a]),(0,Tt.Z)(o,{width:"10px",height:"10px"}),c.appendChild(o),l=o,o=(0,et.Z)("<span>"+e+"</span>"),c.appendChild(o)}if(n){a=qe.LIST_CLASS,o=(0,et.Z)('<ul class="'+a+'"></ul>'),(0,Tt.Z)(o,Fo.default[a]),u.appendChild(o);var h=o;n.reduce(function(g,w){s||(s=w.color);var L=(0,f.get)(w,"point._origin.__compare__.compareValues"),D=(0,f.get)(w,"point._origin.__compare__.yValues");return D.forEach(function(N,H){return g.push([L[H],N])}),g},[]).forEach(function(g,w){var L=g[0],D=g[1];a=qe.LIST_ITEM_CLASS,o=(0,et.Z)('<li class="'+a+'" data-index='+w+"></li>"),(0,Tt.Z)(o,Fo.default[a]),h.appendChild(o);var N=o;a=qe.NAME_CLASS,o=(0,et.Z)('<span class="'+a+'">'+L+"</span>"),(0,Tt.Z)(o,Fo.default[a]),N.appendChild(o),a=qe.VALUE_CLASS,o=(0,et.Z)('<span class="'+a+'">'+D+"</span>"),(0,Tt.Z)(o,Fo.default[a]),N.appendChild(o)})}return s&&l&&(0,Tt.Z)(l,{backgroundColor:s}),u}}),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e),t.compareField||this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},r.prototype.animation=function(){var t=this;i.prototype.animation.call(this);var e=this.options;if(e.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,f.get)(e,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),e.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,f.deepMix)({},e.animation,{appear:{animation:e.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,f.findIndex)(n,function(l){return(0,f.isEqual)(l,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},r.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(i.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},r.prototype.updateConfig=function(t){t=this.adjustProps(t),i.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},r.prototype.changeData=function(t){var e=this.options;if(e.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),e.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(e.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}i.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),e.compareField&&this.fadeInCompareTexts()},r.prototype.geometryParser=function(t,e){return t==="g2"?RL[e]:NL[e]},r.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,f.set)(t,"meta."+t.yField+".nice",!1),(0,f.set)(t,"tooltip.shared",!1)),t},r.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var e=this.options,n=e.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,l=n.line,u=l===void 0?{}:l,c=n.text,h=c===void 0?{}:c,g=n.value,w=g===void 0?{}:g,L=Date.now(),D=this._findPercentageContainer(!0);this._eachShape(function(N,H,X,mt){if(H>0){var xt=N.getBBox(),Pt=xt.minX,Ht=xt.maxX,te=xt.maxY,oe=xt.minY,qt=e.transpose?Pt:Ht,we=e.transpose&&e.compareField?te:oe,Ie=t._findPercentageMembersInContainerByIndex(D,H,!0),Pe=Ie.line,Ke=Ie.text,ar=Ie.value,rr=[function(xr,br,Xr,zr,Kr){Xr&&(Xr.attr((0,f.deepMix)({},u.style,{x1:xr,y1:br,x2:e.transpose?xr+a:xr-a,y2:e.transpose?br-o:br+o,opacity:0})),Xr.set("adjustTimestamp",L));var Or=0,Hr=0,an=function(){zr&&(zr.attr((0,f.deepMix)({},h.style,{x:e.transpose?xr+a:xr-a-s-Hr-s,y:e.transpose?br-o-s:br+o,opacity:0,text:h.content,textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),zr.set("adjustTimestamp",L),Or=zr.getBBox().width)},Ur=function(){Kr&&(Kr.attr((0,f.deepMix)({},w.style,{x:e.transpose?xr+a+Or+s:xr-a-s,y:e.transpose?br-o-s:br+o,opacity:0,text:(0,f.isFunction)(w.formatter)?e.compareField?w.formatter((0,f.get)(mt,"__compare__.yValues.0"),(0,f.get)(X,"__compare__.yValues.0")):w.formatter(mt[e.yField],X[e.yField]):"",textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),Kr.set("adjustTimestamp",L),Hr=Kr.getBBox().width)};e.transpose?(an(),Ur()):(Ur(),an())},function(xr,br,Xr,zr,Kr){Xr&&(Xr.attr((0,f.deepMix)({},u.style,{x1:xr,y1:br,x2:xr+a,y2:e.transpose?e.compareField?br+o:br-o:br+o,opacity:0})),Xr.set("adjustTimestamp",L));var Or=0;zr&&(zr.attr((0,f.deepMix)({},h.style,{x:e.transpose?xr+a:xr+a+s,y:e.transpose?e.compareField?br+o+s:br-o-s:br+o,opacity:0,text:h.content,textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),zr.set("adjustTimestamp",L),Or=zr.getBBox().width),Kr&&(Kr.attr((0,f.deepMix)({},w.style,{x:e.transpose?xr+a+Or+s:xr+a+s+Or+s,y:e.transpose?e.compareField?br+o+s:br-o-s:br+o,opacity:0,text:(0,f.isFunction)(w.formatter)?e.compareField?w.formatter((0,f.get)(mt,"__compare__.yValues.1"),(0,f.get)(X,"__compare__.yValues.1")):w.formatter(mt[e.yField],X[e.yField]):"",textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),Kr.set("adjustTimestamp",L))}];if(e.compareField){var Mr=[Pt,oe],Ar=Mr[0],Pr=Mr[1];[[Ar,Pr],[qt,we]].forEach(function(xr,br){var Xr=xr[0],zr=xr[1];return rr[br](Xr,zr,Pe&&Pe[br],Ke&&Ke[br],ar&&ar[br])})}else rr[1](qt,we,Pe,Ke,ar)}mt=X,H++}),D.get("children").forEach(function(N){N.get("adjustTimestamp")!=L&&(N.attr({opacity:0}),D.set(N.get("id"),null),setTimeout(function(){return N.remove()},0))})}},r.prototype.fadeInPercentages=function(t,e){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(l){var u={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(c,h){var g=n._findPercentageMembersInContainerByIndex(o,h),w={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},L=function(N){if(N&&N.get("type")=="text"){var H=N.getBBox(),X=H.minX,mt=H.maxX,xt=H.minY,Pt=H.maxY;X<w.minX&&(w.minX=X),mt>w.maxX&&(w.maxX=mt),xt<w.minY&&(w.minY=xt),Pt>w.maxY&&(w.maxY=Pt)}};if((0,f.each)(g,function(N){return(0,f.isArray)(N)?L(N[l]):L(N)}),w.minX>u.maxX||w.maxX<u.minX||w.minY>u.maxY||w.maxY<u.minY){var D=function(N){if(N){var H={opacity:1};t?N.animate(H,t):N.attr(H)}};(0,f.each)(g,function(N){return(0,f.isArray)(N)?D(N[l]):D(N)}),(0,f.assign)(u,w)}})};a.compareField?[0,1].forEach(s):s(),t&&e&&setTimeout(e,t)},r.prototype.fadeOutPercentages=function(t,e){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var l=n._findPercentageMembersInContainerByIndex(a,s),u=function(c){if(c){var h={opacity:0};t?c.animate(h,t):c.attr(h)}};(0,f.each)(l,function(c){return(0,f.isArray)(c)?c.forEach(u):u(c)})}),t&&e&&setTimeout(e,t)},r.prototype.refreshPercentages=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(s,t)})}},r.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},r.prototype._findPercentageMembersInContainerByIndex=function(t,e,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,l=o.line,u=l===void 0?{}:l,c=o.text,h=c===void 0?{}:c,g=o.value,w=g===void 0?{}:g,L={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return L;if(u.visible!==!1){var D=function(mt){var xt="_percentage-line-"+e+"-"+mt,Pt=t.get(xt);return!Pt&&n&&(Pt=t.addShape({id:xt,type:"line",attrs:{}}),t.set(xt,Pt)),Pt},N=a.compareField?[0,1].map(D):D(0);L.line=N}if(h.visible!==!1){var D=function(xt){var Pt="_percentage-text-"+e+"-"+xt,Ht=t.get(Pt);return!Ht&&n&&(Ht=t.addShape({id:Pt,type:"text",attrs:{}}),t.set(Pt,Ht)),Ht},H=a.compareField?[0,1].map(D):D(0);L.text=H}if(w.visible!==!1){var D=function(xt){var Pt="_percentage-value-"+e+"-"+xt,Ht=t.get(Pt);return!Ht&&n&&(Ht=t.addShape({id:Pt,type:"text",attrs:{}}),t.set(Pt,Ht)),Ht},X=a.compareField?[0,1].map(D):D(0);L.value=X}return L},r.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=(0,f.get)(t,"animation.update.duration"),n=(0,f.get)(t,"animation.enter.duration"),a=Math.min(n,e)*.6,o=Math.max(n,e)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},r.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var e=this.options,n=e.xField,a=e.yField,o=Date.now(),s=this._getGeometry().labelsContainer,l=e.label||{},u=(0,f.deepMix)(je({},this.theme.label),e.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),c;this._eachShape(function(h,g,w,L){var D,N=h.get("element");g==0&&(c=w);var H=h.getBBox(),X=H.minX,mt=H.maxX,xt=H.minY,Pt=H.maxY,Ht=w[n],te=w[a];l.adjustColor&&(u.fill=t._getAdjustedTextFillByShape(h));var oe=w.__compare__,qt,we=(D={},D[Ps]=w,D.element=N,D.elementIndex=L,D.mappingDatum=[].concat(N.getModel().mappingData)[0],D.mappingDatumIndex=0,D);l.formatter?qt=l.formatter(Ht,we,g,te,c[a]):oe?qt=[0,1].map(function(){return""+te}).join(e.transpose?`

`:"    "):qt=Ht+" "+te;var Ie=t._findLabelInContainerByIndex(s,g,!0),Pe=oe?oe.yValues[0]/(oe.yValues[0]+oe.yValues[1]):.5;Ie&&(Ie.attr(je(je({},u),{x:tu(X,mt,e.transpose?.5:Pe),y:tu(xt,Pt,e.transpose?Pe:.5),text:qt})),Ie.set("adjustTimestamp",o))}),s.get("children").forEach(function(h){h.get("adjustTimestamp")!=o&&(h.attr({opacity:0}),s.set(h.get("id"),null),setTimeout(function(){return h.remove()}))})}},r.prototype.fadeInLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var c=s.getBBox(),h=u.getBBox();if(h.minX>=c.minX&&h.maxX<=c.maxX&&h.minY>=c.minY&&h.maxY<=c.maxY){var g={opacity:1};e?u.animate(g,e):u.attr(g)}}}}),e&&n&&setTimeout(n,e)},r.prototype.fadeOutLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var c={opacity:0};e?u.animate(c,e):u.attr(c)}}}),e&&n&&setTimeout(n,e)},r.prototype.refreshLabels=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,s,t)})}},r.prototype._findLabelInContainerByIndex=function(t,e,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var l="_label-"+e;return s=t.get(l),!s&&n&&(s=t.addShape({id:l,type:"text",attrs:{}}),t.set(l,s)),s},r.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,e,n;if(this._eachShape(function(w,L,D){L==0&&(e=w.get("parent").getBBox(),n=(0,f.get)(D,"__compare__"))}),e&&n&&(0,f.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,l=e.minX,u=e.maxX,c=e.minY,h=e.maxY,g=a.get("children");[0,1].forEach(function(w){var L=g[w];L||(L=a.addShape({type:"text"})),L.attr((0,f.deepMix)({},(0,f.get)(t,"compareText.style"),{text:t.transpose?s[w]:w?"  "+s[w]:s[w]+"  ",x:t.transpose?l+(0,f.get)(t,"compareText.offsetX"):tu(l,u,o[0]/(o[0]+o[1])),y:t.transpose?tu(c,h,o[0]/(o[0]+o[1]))+(w?8:-8):c+(0,f.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":w?"left":"right",textBaseline:t.transpose&&w?"top":"bottom"}))})}}},r.prototype.fadeInCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:1};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.fadeOutCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:0};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.refreshCompareTexts=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(o,t)})}},r.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},r.prototype._eachShape=function(t){var e,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(e=this._getGeometry())===null||e===void 0||e.elements.forEach(function(l,u){var c=l.shape,h=n[o];o<a&&t(c,o,h,s,u),s=h,o++})},r.prototype._getGeometry=function(){return this.view.geometries[0]},r.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=ao(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=jl(s,o);return l},r.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,n=t.reduce(function(o,s){return o+s[e.yField]},0),a=1;t.forEach(function(o,s){var l=o[e.yField],u=l/n,c=a-u;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:c,reverse:e.transpose},a=c})},r.prototype._findCheckedDataByMouseDownLegendItem=function(t){var e=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return e[o]});return n},r.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,f.contains)(a,s[e.xField])});return o},r.prototype._findCheckedData=function(t){var e,n=this.options;if((e=n.legend)===null||e===void 0?void 0:e.visible){var a=this.view.getController("legend").container,o=a.findAll(function(l){return l.get("name")=="legend-item"}).filter(function(l){return!l.get("unchecked")}).map(function(l){return l.get("id").replace("-legend-item-","")}),s=t.filter(function(l){return(0,f.contains)(o,l[n.xField])});return s}else return this.processData(n.data)},r.prototype._reduceDataForCompare=function(t){var e=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var l,u=s[e.xField],c=s[e.yField],h=s[e.compareField];n||(n=h);var g=o.find(function(L){return L[e.xField]==u});g||(g=(l={},l[e.xField]=u,l[e.yField]=0,l.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:e.transpose},l),o.push(g));var w=h==n?0:1;return g.__compare__.yValues[w]=c,a[w]<c&&(a[w]=c),g.__compare__.compareValues[w]=h,o},[]),t.forEach(function(o,s){o[e.yField]=(0,f.get)(o,"__compare__.yValues",[]).reduce(function(l,u){return l+=u},0),(0,f.set)(o,"__compare__.yValuesMax",a),(0,f.set)(o,"__compare__.yValuesNext",(0,f.get)(t,s+1+".__compare__.yValues"))}),t},r.prototype._updateDataForCompare=function(t){var e=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,f.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>e[o]&&(e[o]=a[o])})}),t.forEach(function(n,a){(0,f.set)(n,"__compare__.yValuesMax",e),(0,f.set)(n,"__compare__.yValuesNext",(0,f.get)(t,a+1+".__compare__.yValues"))})},r}(vi),GL=xy;On("funnel",xy);var YL=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="funnel",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=GL.getDefaultOptions,r}(pn),zL=YL,by=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},r}(Oc),VL=by;On("stackedRose",by);var XL=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedRose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=VL.getDefaultOptions,r}(pn),wy=XL,Sy=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},r}(Oc),HL=Sy;On("groupedRose",Sy);var WL=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedRose",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=HL.getDefaultOptions,r}(pn),Cy=WL,jL={area:"area",line:"line",point:"point"},UL=Li(jL);(0,f.assign)(_n,UL);var ZL=function(i){var r=i.opacity||1;return{opacity:r}},QL=function(i){var r=i.opacity||1;return{opacity:r*.5}},KL=function(i){var r=i.opacity||1;return{opacity:r}},$L=function(i){var r=i.opacity||1;return{opacity:r*.5}},JL=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},qL=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},t_=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},e_=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}};la("radar",{areaStyle:{normal:{},active:ZL,disable:QL,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:KL,disable:$L,selected:JL},pointStyle:{normal:{},active:qL,disable:e_,selected:t_}});var r_={area:"area",line:"line",point:"point"},My=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="radar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},r.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,i.prototype.init.call(this)},r.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return r_[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},(0,f.has)(t,"angleAxis")&&Ai(e[t.angleField],t.angleAxis),e[t.radiusField]={},(0,f.has)(t,"radiusAxis")&&Ai(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",e)},r.prototype.axis=function(){var t=this.options,e=zi("axis",{plot:this,dim:"angle"}),n=zi("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=e,a[t.radiusField]=n,this.setConfig("axes",a)},r.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=yi("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var n=yi("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=yi("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var e=zi("label",je({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},r.prototype.annotation=function(){},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,M)},r}(vi),n_=My;On("radar",My);var i_=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="radar",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},r.getDefaultOptions=n_.getDefaultOptions,r}(pn),Ey=i_,a_=v(89810),o_=v(79189),s_=function(){function i(r){var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return i.prototype.render=function(){if((0,f.isElement)(this.container)){this.wrapperNode=(0,et.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,Tt.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var r=this.html;this.wrapperNode.appendChild(r),this.setDomPosition(this.x,this.y)}},i.prototype.updateHtml=function(r){(0,f.isType)(r,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(r)):this.wrapperNode.innerHTML=r,this.setDomPosition(this.x,this.y)},i.prototype.updatePosition=function(r,t){this.x=r,this.y=t,this.setDomPosition(r,t)},i.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},i.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},i.prototype.setDomPosition=function(r,t){var e=r,n=t,a=(0,a_.Z)(this.wrapperNode),o=(0,o_.Z)(this.wrapperNode);this.options.alignX==="middle"&&(e=r-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,Tt.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(e)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},i}(),Ay=s_,l_="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",u_="font-size:32px;font-weight:bold;color:#4D4D4D";function f_(i,r){var t='<span class="liquid-guide-value" style='+u_+">"+i+"</span>";return'<div class="liquid-guide-html '+r+'" style='+l_+">"+t+"</div>"}var c_=function(i){nr(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),e=this.plot.options,n=e.value,a=n===void 0?0:n,o=e.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,f.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=f_(s,this.statisticClass),t},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r}(Ay),h_=c_,v_={liquid:"intervl",statistic:"annotation-text"},d_=Li(v_);(0,f.assign)(_n,d_);var Ty=Ui(),Py={splitPoints:function(i){var r=[],t=i.x,e=i.y;return e=(0,f.isArray)(e)?e:[e],(0,f.each)(e,function(n,a){var o={x:(0,f.isArray)(t)?t[a]:t,y:n};r.push(o)}),r},addFillAttrs:function(i,r){r.color&&!i.fill&&(i.fill=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.fillOpacity=r.opacity)},addStrokeAttrs:function(i,r){r.color&&!i.stroke&&(i.stroke=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.strokeOpacity=r.opacity)}},kc={lerp:function(i,r,t){return(1-t)*i+t*r}},p_=function(i){var r={lineWidth:0,fill:Ty.color,fillOpacity:.85},t=(0,f.mix)({},r,i.style);return Py.addFillAttrs(t,i),i.color&&!t.stroke&&(t.stroke=t.stroke||i.color),t},g_=function(i){var r={fill:"#fff",stroke:Ty.color,fillOpacity:0,lineWidth:2},t=(0,f.mix)({},r,i.style);return Py.addStrokeAttrs(t,i),t};function y_(i,r,t,e){return r===0?[[i+1/2*t/Math.PI/2,e/2],[i+1/2*t/Math.PI,e],[i+t/4,e]]:r===1?[[i+1/2*t/Math.PI/2*(Math.PI-2),e],[i+1/2*t/Math.PI/2*(Math.PI-1),e/2],[i+t/4,0]]:r===2?[[i+1/2*t/Math.PI/2,-e/2],[i+1/2*t/Math.PI,-e],[i+t/4,-e]]:[[i+1/2*t/Math.PI/2*(Math.PI-2),-e],[i+1/2*t/Math.PI/2*(Math.PI-1),-e/2],[i+t/4,0]]}function m_(i,r,t,e,n,a,o){for(var s=Math.ceil(2*i/t*4)*2,l=[],u=e;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*t;var c=a-i+u-i*2;l.push(["M",c,r]);for(var h=0,g=0;g<s;++g){var w=g%4,L=y_(g*t/4,w,t,n);l.push(["C",L[0][0]+c,-L[0][1]+r,L[1][0]+c,-L[1][1]+r,L[2][0]+c,-L[2][1]+r]),g===s-1&&(h=L[2][0])}return l.push(["L",h+c,o+i]),l.push(["L",c,o+i]),l.push(["L",c,r]),l}function x_(i,r,t,e,n,a,o,s){for(var l=o.getBBox(),u=l.maxX-l.minX,c=l.maxY-l.minY,h=5e3,g=0;g<e;g++){var w=e<=1?0:g/(e-1),L=a.addShape("path",{attrs:{path:m_(s,l.minY+c*t,u/4,0,u/kc.lerp(56,64,w),i,r),fill:n,opacity:kc.lerp(.6,.3,w)}}),D=qo([["t",u/2,0]]);L.animate({matrix:D},{duration:kc.lerp(h,.7*h,w),repeat:!0})}}Nn("interval","liquid-fill-gauge",{draw:function(i,r){var t=.5,e=Infinity;(0,f.each)(i.points,function(g){g.x<e&&(e=g.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:e,y:.5}),s=a.x-o.x,l=Math.min(s,o.y),u=p_(i).fill,c=r.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});c.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:l}});var h=c.get("clipShape");return x_(a.x,a.y,1-i.points[1].y,3,u,c,h,l*4),r.addShape("circle",{name:"wrap",attrs:(0,f.mix)(g_(i),{x:a.x,y:a.y,r:l,fill:"transparent"})}),c[0]}});function Oy(i,r){var t=i.get("parent"),e=t.getBBox(),n=Math.min(Math.max(0,(0,f.get)(r,"factor",.5)),1),a=(0,f.get)(r,"delay",0),o=(0,f.get)(r,"duration",800),s=r.callback,l=(e.minX+e.maxX)/2,u=e.maxY,c=t.find(function(D){return D.get("name")=="wrap"}),h=c.attr("opacity");c.attr("opacity",0),c.animate({opacity:h},o*n,"easeLinear",null,a);var g=t.find(function(D){return D.get("name")=="waves"}),w=(0,f.clone)(g.attr("matrix"))||[1,0,0,0,1,0,0,0,1],L=qo(w,[["t",-l,-u],["s",1,0],["t",l,u]]);g.setMatrix(L),g.animate({matrix:w},o,r.easing,function(){return s&&s(t,c,g)},a)}Oy.animationName="liquidMoveIn",wi("liquidMoveIn",Oy);var b_={column:"interval"},w_={interval:"liquid"},Iy=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return r.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,a=t.value;if(!(0,f.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,f.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,f.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},r.prototype.init=function(){this.options.data=[{}],i.prototype.init.call(this)},r.prototype.coord=function(){},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a={value:{}};Ai(a.value,{min:Math.min(e,n),max:Math.max(e,n)}),this.setConfig("scales",a),i.prototype.scale.call(this)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;(0,f.isFunction)(n)&&(n=n()),n&&(t.style=n)},r.prototype.addGeometry=function(){var t=yi("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=Math.min(e.width,e.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},r.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var e=(0,f.get)(t,"animation.factor"),n=(0,f.get)(t,"animation.easing"),a=(0,f.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:n,duration:a}}}},r.prototype.geometryParser=function(t,e){return t==="g2"?b_[e]:w_[e]},r.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},r.prototype.useHtmlContent=function(){var t=this.options,e=t.statistic||{};return(0,f.isFunction)(e.htmlContent)},r.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,e=t.statistic||{},n;(0,f.isFunction)(e.formatter)?n=e.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var l;if(e.visible!==!1){var u=(0,f.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:l,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},e);return delete u.visible,delete u.formatter,delete u.adjustColor,u}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,k)},r.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var e=this.options,n=e.padding?e.padding:this.config.theme.padding;if(e.defaultState&&n!=="auto"&&this.stateController.defaultStates(e.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,Tt.Z)(o,{position:"relative"}),this.statistic=new h_(je({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}i.prototype.afterRender.call(this)}},r.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},r.prototype.changeValue=function(t){var e=this.options;e.value=t,this.changeData([])},r.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,f.forIn)(o,function(s,l){return n.attr(l,s)})},r.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,f.get)(t,"statistic.adjustColor")===!1)return{fill:(0,f.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,f.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var l;if(a==o?l=1:l=(s-a)/(o-a),l>.55){var u=this.options.color,c=.8,h=ao(u),g=Math.round(h[0]*.299+h[1]*.587+h[2]*.114)/c;return g<156?e:n}return n},r.prototype.updateConfig=function(t){i.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},r.prototype.getViewRange=function(){var t=i.prototype.getViewRange.call(this),e=this.options.liquidStyle,n=e.lineWidth?e.lineWidth:2,a=t.minX,o=t.minY,s=t.width,l=t.height,u=Math.min(s,l)-n*2,c=a+s/2,h=o+l/2,g=c-u/2,w=h-u/2;return new mn(g,w,u,u)},r}(vi),Lc=Iy;On("liquid",Iy);var S_=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="liquid",i.prototype.createLayers.call(this,e)},r.prototype.changeValue=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Lc&&a.changeValue(t)});else{var n=this.layers[0];n instanceof Lc&&n.changeValue(t)}},r.getDefaultOptions=Lc.getDefaultOptions,r}(pn),ky=S_,Ly=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="histogram",t}return r.prototype.init=function(){this.options.xField="range",this.options.yField="count",i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=(0,f.clone)(t);(0,f.sortBy)(l,a);var u=(0,f.valuesOfKey)(l,a),c=(0,f.getRange)(u),h=c.max-c.min,g=o;if(!o&&s&&(g=h/s),!o&&!s){var w=Rd(u);g=h/w}var L={};(0,f.each)(l,function(N){var H=N[a],X=e.getBin(H,g),mt=X[0]+"-"+X[1];(0,f.hasKey)(L,mt)||(L[mt]={name:mt,range:X,count:0,data:[]}),L[mt].data.push(N),L[mt].count+=1});var D=[];return(0,f.each)(L,function(N){D.push(N)}),D},r.prototype.scale=function(){i.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},r.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},r}(ns),C_=Ly;On("histogram",Ly);var M_=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="histogram",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=C_.getDefaultOptions,r}(pn),_y=M_,E_={epanechnikov:function(i){return Math.abs(i)<=1?.75*(1-i*i):0},gaussian:function(i){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(i,2))},uniform:function(i){return Math.abs(i)<=1?.5:0},triangle:function(i){return Math.abs(i)<=1?1-Math.abs(i):0},quartic:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*r*r:0},triweight:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*Math.pow(r,3):0},cosinus:function(i){var r=Math.PI/4*Math.cos(.5*Math.PI*i);return Math.abs(i)<=1?r:0}},Dy=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="density",t}return r.prototype.init=function(){var t=this.options.xAxis?(0,f.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,f.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=n.kernel,u=l||"epanechnikov",c=E_[u],h=(0,f.clone)(t);(0,f.sortBy)(h,a);var g=(0,f.valuesOfKey)(h,a),w=(0,f.getRange)(g),L=w.max-w.min,D=s,N=o;!s&&o&&(D=Math.floor(L/o)),!o&&s&&(N=L/s),!s&&!o&&(D=Rd(g),N=L/s);var H=(0,se.getScale)("linear"),X=new H({min:w.min,max:w.max,tickCount:D,nice:!1}),mt=X.getTicks(),xt=[];return(0,f.each)(mt,function(Pt){var Ht=e.kernelDensityEstimator(N,c,Pt,g);xt.push({value:Pt.text,density:Ht})}),xt},r.prototype.kernelDensityEstimator=function(t,e,n,a){var o=0;return(0,f.each)(a,function(s){var l=(n.tickValue-s)/t;o+=e(l)}),a.length===0?0:o/a.length},r}(mc),A_=Dy;On("density",Dy);var $7=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="density",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=A_.getDefaultOptions,r}(pn),J7=null,T_={ring:"interval"},P_=Li(T_);(0,f.assign)(_n,P_);var O_="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",I_="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",k_="font-size:32px;font-weight:bold;color:#4D4D4D";function L_(i,r,t,e){var n=O_+"width:"+e+"px;",a=i?'<span class="ring-guide-name" style='+I_+">"+i+"</span><br/>":"",o='<span class="ring-guide-value" style='+k_+">"+r+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var __=function(i){nr(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on("interval:"+e,(0,f.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,f.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},r.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var e=this.getTotalValue();t=this.parseStatisticData("total",e)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,f.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,f.each)(this.plot.options.data,function(u){typeof u[a]=="number"&&(e+=u[a])});var l=(t={},t[a]=e,t[o]=s,t);return l},r.prototype.parseStatisticData=function(t,e,n){var a=this.plot,o=a.options,s=o.angleField,l=o.colorField,u=a.getScaleByField(s),c=a.getScaleByField(l),h={name:c?c.getText(e[l]):null,value:u.getText(e[s])};return t==="item"&&(h.itemData=e,h.color=n),h},r.prototype.getStatisticTemplate=function(t){var e=this.getStatisticSize(),n=L_(t.name,t.value,this.statisticClass,e);return n},r.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,a=e.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},r.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent,n;return e?n=e(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},r}(Ay),D_=__,B_={ring:"interval"},F_={interval:"ring"},By=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="donut",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),r.centralId++,this.statisticClass="statisticClassId"+r.centralId,this.adjustLabelDefaultOptions()},r.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var e=this.canvas.get("container");(0,Tt.Z)(e,{position:"relative"}),this.statistic=new D_(je({container:e,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}i.prototype.afterRender.call(this)},r.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),i.prototype.destroy.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?B_[e]:F_[e]},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,_)},r.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},r.centralId=0,r}(ay),Fy=By;On("donut",By);var R_=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Fy.getDefaultOptions,r}(pn),Ry=R_;function N_(i,r,t){var e=i.style,n=i.defaultStyle,a=i.color,o=je(je({},n),e);return a&&(r&&(o.stroke=a),t&&(o.fill=a)),o}function G_(i){var r=[],t=i[0];r.push(["M",t.x,t.y]);for(var e=1,n=i.length;e<n;e++)r.push(["L",i[e].x,i[e].y]);return r.push(["L",t.x,t.y]),r.push(["z"]),r}Nn("interval","waterfall",{draw:function(i,r){var t=N_(i,!1,!0),e=this.parsePath(G_(i.points)),n=r.addShape("path",{attrs:je(je({},t),{path:e}),name:"interval"}),a=(0,f.get)(i.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(i.nextPoints){var s=[["M",i.points[2].x,i.points[2].y],["L",i.nextPoints[0].x,i.nextPoints[0].y]];s=this.parsePath(s),r.addShape("path",{attrs:je({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var Ny=2,Y_=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n,a,o=e.shape,s=o.getBBox(),l=e.getData(),u=l[da],c=l[this.layer.options.yField],h=(0,f.isArray)(u)?u[1]:u,g=this.options.formatter,w=[].concat(e.getModel().mappingData),L=g?w[0]&&w[0]._origin[eu]:0,D=g?g(h,(n={},n[Ps]=(a=w[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=w[0],n.mappingDatumIndex=0,n.element=e,n.elementIndex=L,n),L):h,N=(s.minY+s.maxY)/2,H="bottom";c<0?(N=s.maxY+Ny,H="top"):N=s.minY-Ny,t.attr("y",N),t.attr("text",D),t.attr("textBaseline",H)},r}(wc),q7=null;sa("waterfall",Y_);function z_(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var V_=function(){function i(r){this.textAttrs={},this.view=r.view,this.fields=r.fields,this.formatter=r.formatter,this.textAttrs=(0,f.mix)(z_(),r.style),this._init()}return i.prototype.draw=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var e=this.view.geometries[0].elements.map(function(n){return n.shape});(0,f.each)(e,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),l=o[da],u=l;(0,f.isArray)(l)&&(u=l[1]-l[0]),u=u>0?"+"+u:u,o[_c]&&(u=l[0]-l[1]);var c=u;if(r.formatter){var h=e[a].attr("fill");c=r.formatter(""+u,{_origin:t[a],color:h},a)}var g=r.container.addShape("text",{attrs:je({text:c,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},r.textAttrs),name:"dill-label"});g.getBBox().height>s.height&&g.set("visible",!1)}}),this.view.getCanvas().draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype._init=function(){var r=this;this.view.on(Vn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){r.clear()}),this.view.on(Vn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){r.draw()})},i}(),X_=V_,H_={waterfall:"interval"},W_={interval:"waterfall"},da="$$value$$",_c="$$total$$",eu="$$index$$",Gy=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="watarfall",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new X_({view:this.view,fields:[t.xField,t.yField,da],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(e){for(var n=e.items,a=0;a<n.length;a++){var o=n[a],s=(0,f.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[_c]){var l=s[da];o.value=l[0]-l[1]}e.items[a]=o}}),this.renderLabel()},r.prototype.renderLabel=function(){var t=bo(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,je({type:"waterfall"},this.options.label))},r.prototype.geometryParser=function(t,e){return t==="g2"?H_[e]:W_[e]},r.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},r.prototype.addGeometry=function(){var t=this.options,e={type:"interval",position:{fields:[t.xField,da]},shape:{values:["waterfall"]}};e.style=this._parseStyle(),e.color=this._parseColor(),this.waterfall=e,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.processData=function(t){var e,n=[],a=this.options.xField,o=this.options.yField;if((0,f.map)(t,function(u,c){var h,g=u[o];if(c>0){var w=n[c-1][da];(0,f.isArray)(w)?g=[w[1],u[o]+w[1]]:g=[w,u[o]+w]}n.push(je(je({},u),(h={},h[da]=g,h[eu]=c,h)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,f.map)(t,function(u){return u[o]}),l=(0,f.reduce)(s,function(u,c){return u+c},0);n.push((e={},e[a]=this.options.showTotal.label,e[o]=null,e[da]=[l,0],e[eu]=n.length,e[_c]=!0,e))}return n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Ai(e[t.xField],t.xAxis),e[da]={},(0,f.has)(t,"yAxis")&&Ai(e[da],t.yAxis),this.setConfig("scales",e)},r.prototype.axis=function(){var t=zi("axis",{plot:this,dim:"x"}),e=zi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[da]=e,this.setConfig("axes",n)},r.prototype.coord=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,B)},r.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,da]))},r.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,n={};return(0,f.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:e})}:n.cfg=je(je({},t),{leaderLine:e}),n},r.prototype._parseColor=function(){var t=this,e=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,da,eu]};if((0,f.isFunction)(e.color))s.callback=e.color;else{var l="#f4664a",u="#30bf78",c="rgba(0, 0, 0, 0.25)";if((0,f.isString)(e.color))l=u=c=e.color;else if((0,f.isObject)(e.color)){var h=e.color,g=h.rising,w=h.falling,L=h.total;l=g,u=w,c=L}s.callback=function(D,N,H,X){return X===t.options.data.length?c||(H[0]>=0?l:u):((0,f.isArray)(H)?H[1]-H[0]:H)>=0?l:u}}return s},r.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},r.prototype.adjustMeta=function(t){var e=t.meta;if(e){var n=e?e[t.yField]:{};n.alias=n.alias||t.yField,t.meta[da]=n}},r}(vi),j_=Gy;On("waterfall",Gy);var U_=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="waterfall",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=j_.getDefaultOptions,r}(pn),Yy=U_,Z_=function(){function i(r){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=r,this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options,t=r.xBaseline,e=r.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var l=(t-a.min)/(a.max-a.min);s=[new mn(n.start.x,n.end.y,n.getWidth()*l,n.getHeight()),new mn(n.start.x+n.getWidth()*l,n.end.y,n.getWidth()*(1-l),n.getHeight())];var u={start:{x:n.start.x+n.getWidth()*l,y:n.end.y},end:{x:n.start.x+n.getWidth()*l,y:n.start.y}};this.lineData.push(u)}else s=[new mn(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(e>o.min&&e<o.max){var l=(e-o.min)/(o.max-o.min),c={start:{x:n.start.x,y:n.start.y-n.getHeight()*l},end:{x:n.end.x,y:n.start.y-n.getHeight()*l}};this.lineData.push(c);var h={name:t<=a.min?"top-right":"top-left",bbox:new mn(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-l)),index:t<=a.min?2:0};this.regionData.push(h);var g={name:t<=a.min?"bottom-right":"bottom-left",bbox:new mn(s[0].minX,s[0].minY+s[0].height*(1-l),s[0].width,s[0].height*l),index:t<=a.min?3:1};if(this.regionData.push(g),s.length>1){var w={name:"top-right",bbox:new mn(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-l)),index:2};this.regionData.push(w);var L={name:"bottom-right",bbox:new mn(s[1].minX,s[1].minY+s[1].height*(1-l),s[1].width,s[1].height*l),index:3};this.regionData.push(L)}}else if(s.length===2)if(e<=o.min){var D={name:"top-left",bbox:s[0],index:0};this.regionData.push(D);var w={name:"top-right",bbox:s[1],index:2};this.regionData.push(w)}else{var N={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(N);var L={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(L)}else if(t<=a.min)if(e<=o.min){var w={name:"top-right",bbox:s[0],index:2};this.regionData.push(w)}else{var L={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(L)}else if(e<=o.min){var D={name:"top-left",bbox:s[0],index:0};this.regionData.push(D)}else{var N={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(N)}this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),e=this.getRegionStyle(this.regionData);(0,f.each)(this.regionData,function(a){var o=a.index,s=r.container.addGroup(),l=s.addShape("rect",{attrs:je({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},e[o]),name:"quadrant"});if(r.options.label&&r.options.label.text){var u=(0,f.deepMix)({},t.label,r.options.label),c=r.getLabelConfig(a,u);s.addShape("text",{attrs:je({},c),name:"quadrant-label"})}l.set("data",a),r.quadrantGroups.push(s)});var n=(0,f.deepMix)({},t.line,this.options.lineStyle);(0,f.each)(this.lineData,function(a){r.container.addShape("path",{attrs:je({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},i.prototype.getRegionStyle=function(r){var t=this.getDefaultStyle(),e=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,f.isArray)(n)?e=e.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,f.isFunction)(n)&&(0,f.each)(r,function(a,o){e[o]=n(a)})}return e},i.prototype.getLabelConfig=function(r,t){var e=r.index,n=0,a=0,o={},s=t.text;(0,f.isFunction)(s)?s=s(r):(0,f.isArray)(s)&&(s=s[e]);var l=t.position,u=l.split("-"),c=r.name.split("-");return c[1]==="left"?(u[0]==="inner"&&(n=r.bbox.maxX-t.offset,o.textAlign="right"),u[0]==="outter"&&(n=r.bbox.minX+t.offset,o.textAlign="left")):c[1]==="right"&&(u[0]==="inner"&&(n=r.bbox.minX+t.offset,o.textAlign="left"),u[0]==="outter"&&(n=r.bbox.maxX-t.offset,o.textAlign="right")),c[0]==="top"?(u[1]==="inner"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom"),u[1]==="outter"&&(a=r.bbox.minY+t.offset,o.textBaseline="top")):c[0]==="bottom"&&(u[1]==="inner"&&(a=r.bbox.minY+t.offset,o.textBaseline="top"),u[1]==="outter"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,f.deepMix)({},t.style,o),o.lineHeight=o.fontSize,je({x:n,y:a,text:s},o)},i}(),Q_=Z_,Go=v(56645),K_={exp:Go.regressionExp,linear:Go.regressionLinear,loess:Go.regressionLoess,log:Go.regressionLog,poly:Go.regressionPoly,pow:Go.regressionPow,quad:Go.regressionQuad};function $_(i,r){return Math.sqrt(i*(1-i)/r)*1.96}var J_=function(){function i(r){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options.plotOptions,t=r.xField,e=r.yField,n=r.data,a=K_[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[e]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),e=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,se.getScale)("linear"),o=this.adjustScale(r,n,"x"),s=new a({min:o.min,max:o.max}),l=this.adjustScale(t,n,"y"),u=new a({min:l.min,max:l.max});if(this.options.showConfidence){var c=this.getConfidencePath(s,u,e);this.container.addShape("path",{attrs:je({path:c},this.options.confidenceStyle),name:"confidence"})}var h=this.getTrendlinePoints(s,u,e),g=[[0,0],[1,1]],w=lc(h,!1,g);this.shape=this.container.addShape("path",{attrs:je({path:w},this.options.style),name:"trendline"})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.destroy()},i.prototype.processData=function(r){var t=[],e=[];return(0,f.each)(r,function(n){t.push({x:n[0],y:n[1]});var a=$_(r.rSquared,n[1]);e.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:e}},i.prototype.getTrendlinePoints=function(r,t,e){var n=[];return(0,f.each)(this.data.trendlineData,function(a){var o=r.scale(a.x),s=t.scale(a.y),l=e.start.x+e.width*o,u=e.start.y-e.height*s;n.push({x:l,y:u})}),n},i.prototype.getConfidencePath=function(r,t,e){var n=[],a=[],o=[];(0,f.each)(this.data.confidenceData,function(h){var g=r.scale(h.x),w=t.scale(h.y0),L=t.scale(h.y1),D=e.start.x+e.width*g,N=e.start.y-e.height*w,H=e.start.y-e.height*L;n.push({x:D,y:N}),a.push({x:D,y:H})});for(var s=0;s<n.length;s++){var l=s===0?"M":"L",u=n[s];!isNaN(u.x)&&!isNaN(u.y)&&o.push([l,u.x,u.y])}for(var c=a.length-1;c>0;c--){var u=a[c];!isNaN(u.x)&&!isNaN(u.y)&&o.push(["L",u.x,u.y])}return o},i.prototype.adjustScale=function(r,t,e){var n=r.min,a=r.max,o=this.options.plotOptions,s=o.data,l=o.xField,u=o.yField,c=e==="x"?l:u,h=(0,f.minBy)(s,c)[c],g=(0,f.maxBy)(s,c)[c],w=(n-h)/(g-h),L=(a-g)/(g-h),D=(0,f.minBy)(t,e)[e],N=(0,f.maxBy)(t,e)[e];return{min:D+w*(N-D),max:N+L*(N-D)}},i}(),q_=J_,tD={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},eD=Li(tD);(0,f.assign)(_n,eD);var rD=function(i){var r=i.stroke||"#000";return{stroke:r}},nD=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},iD=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};la("scatter",{pointStyle:{normal:{},active:rD,selected:nD,inactive:iD}});var aD={scatter:"point"},oD={point:"point"},zy=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="scatter",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new Q_(je({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new q_(je({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},r.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),i.prototype.destroy.call(this)},r.prototype.isValidLinearValue=function(t){return(0,f.isNil)(t)?!1:!Number.isNaN(Number(t))},r.prototype.processData=function(t){var e=this,n=this.options,a=n.xField,o=n.yField,s=(0,f.get)(this.options,["xAxis","type"],"linear"),l=(0,f.get)(this.options,["yAxis","type"],"linear");if(s&&l){var u=t.filter(function(c){return!(s==="linear"&&!e.isValidLinearValue(c[a])||l==="linear"&&!e.isValidLinearValue(c[o]))}).map(function(c){var h;return je(je({},c),(h={},h[a]=s==="linear"?Number(c[a]):String(c[a]),h[o]=l==="linear"?Number(c[o]):String(c[o]),h))});return u}return t},r.prototype.geometryParser=function(t,e){return t==="g2"?aD[e]:oD[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&Ai(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Ai(e[t.yField],t.yAxis);var n=(0,f.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,f.get)(n,"cfg.key")){var a=n.cfg.key;e[a]?e[a].key=!0:e[a]={key:!0}}this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=yi("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,n=e.showTitle,a=e.titleField;this.extractTooltip(),this.setConfig("tooltip",je({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var e=zi("label",je(je({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},r.prototype.parseEvents=function(t){i.prototype.parseEvents.call(this,t||z)},r.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},r}(vi),Vy=zy;On("scatter",zy);var sD=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="scatter",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Vy.getDefaultOptions,r}(pn),Xy=sD,lD=v(75564);Nn("point","bubble-point",{draw:function(i,r){var t=(0,lD.iV)(this,i,r,"circle",!1);if(!i.style.stroke){var e=t.attr("fill");t.attr("stroke",e)}return t},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}});var uD=function(i){var r=i.stroke||"#000",t=i.fillOpacity||i.opacity||.95;return{stroke:r,fillOpacity:t}},fD=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},cD=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};la("bubble",{pointStyle:{normal:{},active:uD,selected:fD,inactive:cD}});var Hy=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bubble",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.legend=function(){var t;i.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,z)},r}(Vy),hD=Hy;On("bubble",Hy);var vD=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bubble",i.prototype.createLayers.call(this,e)},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=hD.getDefaultOptions,r}(pn),Wy=vD,dD={bullet:"interval",bulletTarget:"bullet-target"},pD=Li(dD);(0,f.assign)(_n,pD);var gD=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var r=this.getGeometry(),t=(0,f.map)(r==null?void 0:r.elements,function(o){return o.shape}),e=0;e<this.cfg.ranges.length;e+=1){var n=t[e].getBBox(),a=n.width/t[e].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[e]||[0,1],a)}this.view.canvas.draw()}},i.prototype.drawRect=function(r,t,e){for(var n=this.cfg,a=n.rangeColors,o=r.minX,s=r.minY-r.height*(n.rangeSize-1)/2,l=1;l<t.length;l+=1){var u=(t[l]-t[l-1])*n.rangeMax*e;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:u,height:r.height*n.rangeSize,x:o,y:s,fill:a[(l-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=u}if(n.axis&&n.axis.visible){var c=n.rangeMax/(n.axis.tickCount-1),h=new mn(r.x,s,o,r.height*n.rangeSize);this.drawBulletTicks(h,c,e)}},i.prototype.drawBulletTicks=function(r,t,e){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,l=(0,f.get)(a,"lineHeight",0)-a.fontSize/2,u=0;u<o;u+=1){var c=r.minX+t*u*e,h=""+t*u;if(n.axis.formatter&&(h=n.axis.formatter(h,u)),this.container.addShape("text",{name:"tick",attrs:je({x:c,y:s==="before"?r.minY-l:r.maxY+l,text:""+h},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var g=n.axis.tickLine;u>0&&u!==o-1&&this.container.addShape("path",{attrs:je({path:[["M",c,r.minY],["L",c,r.maxY]]},g)}).set("zIndex",-1)}}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),yD=gD,mD=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var r=(0,f.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var e=r[t].getBBox(),n=e.width/r[t].get("origin").data[this.cfg.yField];this.drawTarget(e,this.cfg.targets[t],n)}this.view.canvas.draw()}},i.prototype.drawTarget=function(r,t,e){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,l){var u=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:je(je({width:u.width,height:r.height*a.markerSize-u.width/2,x:r.minX+s*e,y:r.minY-r.height*(a.markerSize-1)/2},u),{fill:o[l%o.length]||u.fill})})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),xD=mD,bD=function(i){var r=i.opacity||1;return{opacity:r*.5,lineWidth:0}},wD=function(i){var r=i.opacity||1;return{opacity:r*.5}};la("bullet",{columnStyle:{normal:{},active:bD,disable:wD,selected:{}}});var SD={bullet:"interval"},CD={interval:"bullet"},MD="$$stackField$$",ED="$$xField$$",AD="$$yField$$",jy=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{data:[],stackField:MD,xField:ED,yField:AD,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},(0,f.has)(t,"yAxis")&&Ai(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Ai(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new yD(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new xD(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},r.prototype.geometryParser=function(t,e){return t==="g2"?SD[e]:CD[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],o=je({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,W)},r.prototype.extractLabel=function(){var t=this.options,e=(0,f.deepMix)({},t.label);if(e.visible===!1)return!1;var n=zi("label",je({plot:this,labelType:"barLabel",fields:[t.yField]},e));return n},r.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},r.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(n){return e.push(n.measures.reduce(function(a,o){return a+o},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},r.prototype.processData=function(t){var e=this.options,n=[];return t.forEach(function(a,o){for(var s,l=0;l<a.measures.length;l+=1){var u=a.measures[l],c=a.title||""+o;n.push((s={},s[e.xField]=c,s[e.yField]=u,s[e.stackField]=""+l,s))}}),n},r}(vi),TD=jy;On("bullet",jy);var PD=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bullet",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=TD.getDefaultOptions,r}(pn),Uy=PD,as="$$day$$",os="$$week$$",Zy="$$date$$",tY="$$is_month_center$$",ss="YYYY-MM-DD",OD=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ID=["S","M","T","W","T","F","S"],Ds=864e5;function kD(i){var r=Al(i).sort(function(t,e){return t.getTime()-e.getTime()});return[wo.default.format((0,f.head)(r),ss),wo.default.format((0,f.last)(r),ss)]}function eY(i){var r=i||new Date;return[fecha.format(new Date(r.getFullYear(),0,1),FORMATTER),fecha.format(new Date(r.getFullYear(),11,30),FORMATTER)]}function LD(i){return i.getMonth()!==ru(new Date(i),7*Ds).getMonth()}function _D(i){return i.getMonth()!==ru(new Date(i),Ds).getMonth()}function Qy(i){var r=new Date(i.getFullYear(),0,1);return Math.ceil(((i.getTime()-r.getTime())/Ds+r.getDay()+1)/7)}function DD(i){return i.getDay()}function ru(i,r){return i.setMilliseconds(i.getMilliseconds()+r),i}function Ky(i){var r,t=i[0],e=i[1],n=wo.default.parse(t,ss),a=wo.default.parse(e,ss);return n>a&&(r=[n,a],a=r[0],n=r[1]),[n,a]}function BD(i,r,t){for(var e=[],n=Ky(r),a=n[0],o=n[1],s=new Date(a),l=function(){var u,c=wo.default.format(s,ss),h=(0,f.find)(i,function(g){return g[t]===c});e.push(je((u={},u[as]=DD(s),u[os]=""+Qy(s),u[t]=c,u[Zy]=new Date(s),u),h)),ru(s,Ds)};s<=o;)l();return e}function FD(i){var r=Ky(i),t=r[0],e=r[1],n=new Map;function a(l){var u=l.getMonth(),c=Qy(l);n.has(u)||n.set(u,[]),n.get(u).push(c)}for(var o=new Date(t);o<=e;)a(o),ru(o,Ds*7);e<o&&a(e);var s={};return n.forEach(function(l,u){var c=Math.ceil(((0,f.head)(l)+(0,f.last)(l))/2);s[c]=u}),s}var RD={rect:"polygon"},ND=Li(RD);(0,f.assign)(_n,ND);var $y=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="calendar",t}return r.getDefaultOptions=function(){var t;return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[as]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[os]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},r.prototype.processData=function(t){var e=this.options.dateField,n=this.options.dateRange;if((0,f.isNil)(n)){var a=(0,f.map)(t,function(o){return wo.default.parse(""+o[e],ss)});n=kD(a)}return BD(t,n,e)},r.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[os,as]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[os,as]))},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=this.options.valueField;return zi("label",je({plot:this,fields:[n],position:"top",offset:0},e))},r.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},r.prototype.geometryParser=function(){return""},r.prototype.axis=function(){var t=zi("axis",{plot:this,dim:"x"}),e=zi("axis",{plot:this,dim:"y"}),n={};n[os]=t,n[as]=e,this.setConfig("axes",n)},r.prototype.scale=function(){i.prototype.scale.call(this);var t=FD(this.options.dateRange),e=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?ID:a,s=n.months,l=s===void 0?OD:s,u=e[os],c=e[as];u.formatter=function(L){var D=t[L];return D!==void 0?l[D]:""},c.formatter=function(L){return o[L]||""};var h=this.options,g=h.xAxis,w=h.yAxis;u.alias=(0,f.get)(g,["title","text"],u.alias),c.alias=(0,f.get)(w,["title","text"],c.alias),this.setConfig("scales",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,R)},r}(vi),GD=$y;On("calendar",$y),Nn("polygon","calendar-polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=i.points,e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];e=this.parsePath(e);var n=je(je({stroke:"#fff",lineWidth:1,fill:i.color},i.style),{path:e}),a=r.addShape("path",{attrs:n}),o=i.data[Zy];if(LD(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];r.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),_D(o)&&r.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return r.sort(),a}}});var YD=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="calendar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=GD.getDefaultOptions,r}(pn),zD=YD,Jy=function(){function i(r){this.uid=r}return i.prototype.setOption=function(r,t){this.type=r,this.options=t,this.axis=t.axis,this.pivot=t.pivot},i.prototype.render=function(){var r=this;Nn("point","gauge",{draw:function(t,e){var n,a,o;this.gauge={},this.gauge.options=r.options,this.gauge.axis=r.axis,this.gauge.pivot=r.pivot,this.gauge.type=r.type;var s=this.gauge,l=this.gauge.type,u=t.points[0],c=this.parsePoint({x:0,y:0}),h=this.parsePoint({x:u.x||0,y:1});s.center=c,s.group=e;var g={x:c.x-h.x,y:c.y-h.y};this.gauge.ringRadius=Math.sqrt(g.x*g.x+g.y*g.y);var w=this.getAngleRange(),L=w.starAngle,D=w.endAngle,N=u.x*(D-L)+L;switch(l){case"meterGauge":this.drawBarGauge(N),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(N),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(N),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,l=o||Ui().colors,u=this.getAngleRange(),c=u.starAngle,h=u.endAngle,g={min:e,max:n,starAngle:c,endAngle:h},w=0;w<a.length;w++){var L=this.valueToAngle(a[w],g),D=this.valueToAngle(a[w+1],g);if(D>=L){var N=this.getPath(L,D),H=(0,f.deepMix)({fill:l[w]},s);this.drawRing(N,H)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(e,n);this.drawRing(o,a)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(e,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:e,max:n,starAngle:s,endAngle:l},c=(n-e)/a.tickCount,h=0;h<a.tickCount;h++){var g=e+h*c,w=this.valueToAngle(g+c/2,u);this.drawRect(w,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},c=(a-n)/(t.tickCount-1),h=0;h<t.tickCount;h++){var g=n+h*c,w=this.valueToAngle(g,u),L=(0,f.clone)(t.tickLine.style);h%5!=0&&(L.lineWidth=L.lineWidth/2),this.drawRect(w,{length:h%5==0?t.tickLine.length:t.tickLine.length/2,style:L})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},c=(a-n)/(t.tickCount-1),h=0;h<t.tickCount;h++){var g=n+h*c,w=this.valueToAngle(g,u);this.drawRect(w,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,l=n.color,u=n.rangeStyle,c=n.rangeBackgroundStyle,h=l||Ui().colors,g=this.getAngleRange(),w=g.starAngle,L=g.endAngle,D={min:a,max:o,starAngle:w,endAngle:L},N=(L-w)/(50-1),H=N/3,X=0;X<50;X++){var mt=w+X*N,xt=this.getPath(mt-H/2,mt+H-H/2),Pt=c;if(s&&s.length){var Ht=s.map(function(qt){return e.valueToAngle(qt,D)}),te=LE(Ht,mt),oe=Math.min(te,s.length-1);Pt=(0,f.deepMix)({},{fill:h[oe-1]},u)||c}else Pt=t>=mt?(0,f.deepMix)({},{fill:l},u):c;this.drawRing(xt,Pt)}},getAngleRange:function(){var t=this.gauge.options.angle,e=90-(360-t)*.5,n=(270-90-e)*Math.PI/180,a=(270+90+e)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,e){var n=e.min,a=e.max,o=e.starAngle,s=e.endAngle;if(t===a)return s;if(t===n)return o;var l=(t-n)/(a-n);a===n&&(l=1);var u=l*(s-o)+o;return u=Math.max(u,o),u=Math.min(u,s),u},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:(0,f.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n=this.gauge.axis,a=je(je({},n),e),o=a.offset,s=a.length,l=this.gauge.center,u;o<0?u=this.gauge.ringRadius-this.gauge.options.rangeSize+o:u=this.gauge.ringRadius+o;var c=u*Math.cos(t)+l.x,h=u*Math.sin(t)+l.y,g=(u+s)*Math.cos(t)+l.x,w=(u+s)*Math.sin(t)+l.y,L=this.gauge.group.addShape("line",{attrs:(0,f.deepMix)({},{x1:c,y1:h,x2:g,y2:w},e.style)});L.set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,l=a*Math.sin(t)+n.y,u=(a-o)*Math.cos(t)+n.x,c=(a-o)*Math.sin(t)+n.y,h=a*Math.cos(e)+n.x,g=a*Math.sin(e)+n.y,w=(a-o)*Math.cos(e)+n.x,L=(a-o)*Math.sin(e)+n.y,D=Math.abs(t-e)>Math.PI?1:0;return[["M",s,l],["A",a,a,0,D,1,h,g],["L",w,L],["A",a-o,a-o,0,D,0,u,c],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),n=e.starAngle,a=e.endAngle,o=this.gauge.options,s=o.radius,l=o.rangeSize,u=this.gauge.pivot,c=u.thickness,h=u.thickness/2.5,g=this.gauge.group,w=t.points[0],L=this.parsePoint({x:0,y:0}),D=w.x*(a-n)+n,N=(this.gauge.ringRadius-l)*s*Math.cos(D)+this.gauge.center.x,H=(this.gauge.ringRadius-l)*s*Math.sin(D)+this.gauge.center.y,X={x:N,y:H};if(u.base.visible&&g.addShape("circle",{attrs:(0,f.deepMix)({},{x:L.x,y:L.y,r:u.base.size?u.base.size/2:c*2.2},u.base.style)}),u.pointer.visible){var mt={x:L.x-X.x,y:L.y-X.y},xt=Math.sqrt(mt.x*mt.x+mt.y*mt.y);mt.x*=1/xt,mt.y*=1/xt;var Pt=-Math.PI/2,Ht=Math.cos(Pt)*mt.x-Math.sin(Pt)*mt.y,te=Math.sin(Pt)*mt.x+Math.cos(Pt)*mt.y,oe=Math.PI/2,qt=Math.cos(oe)*mt.x-Math.sin(oe)*mt.y,we=Math.sin(oe)*mt.x+Math.cos(oe)*mt.y,Ie=[["M",X.x+Ht*h,X.y+te*h],["L",L.x+Ht*c,L.y+te*c],["L",L.x+qt*c,L.y+we*c],["L",X.x+qt*h,X.y+we*h],["Z"]];g.addShape("path",{attrs:(0,f.deepMix)({},{path:Ie},u.pointer.style)}),g.addShape("circle",{attrs:{x:X.x,y:X.y,r:h,fill:u.pointer.style.fill}}),g.addShape("circle",{attrs:{x:L.x,y:L.y,r:c,fill:u.pointer.style.fill}})}u.pin.visible&&g.addShape("circle",{attrs:(0,f.deepMix)({},{x:L.x,y:L.y,r:h/1.2},u.pin.style)})}})},i}(),VD={range:"point",statistic:"annotation-text"},XD=Li(VD);(0,f.assign)(_n,XD);var qy=function(i){nr(r,i);function r(t){var e=i.call(this,t)||this;return e.type="gauge",e}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},r.prototype.init=function(){var t=this.options,e=t.value,n=t.range,a=(n||[]).map(function(L){return+L}).sort(function(L,D){return L-D}),o=this.options,s=o.min,l=s===void 0?a[0]:s,u=o.max,c=u===void 0?a[a.length-1]:u,h=o.format,g=h===void 0?function(L){return""+L}:h,w=g(e);this.options.data=[{value:e||0}],this.options.valueText=w,this.options.min=l,this.options.max=c,this.options.format=g,this.initG2Shape(),i.prototype.init.call(this)},r.prototype.initG2Shape=function(){this.gaugeShape=new Jy((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},r.prototype.geometryParser=function(){return"gauge"},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a=t.format,o={value:{}};Ai(o.value,{min:e,max:n,minLimit:e,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),i.prototype.scale.call(this)},r.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},r.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?e.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e["1"]=!1,e.value=t.visible?e.value:!1,this.setConfig("axes",e)},r.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,e={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",e)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}this.setConfig("annotations",e)},r.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic,n={type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,K)},r}(vi),Dc=qy;On("gauge",qy);var HD=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="gauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Dc.getDefaultOptions,r}(pn),t0=HD,e0=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="fanGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},r.prototype.initG2Shape=function(){this.gaugeShape=new Jy((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},r.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}var a=this.renderSideText(),o=e.concat(a);this.setConfig("annotations",o)},r.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,l=12;return[n,e].map(function(u,c){return{type:"text",top:!0,position:["50%","50%"],content:a(u),style:(0,f.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:c?o:-o,offsetY:l}})},r}(Dc),WD=e0;On("fanGauge",e0);var jD=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="fanGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=WD.getDefaultOptions,r}(pn),r0=jD,n0=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="meterGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},r}(Dc),UD=n0;On("meterGauge",n0);var ZD=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="meterGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=UD.getDefaultOptions,r}(pn),i0=ZD,QD=v(25155),oo=v.n(QD),rY=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e),oo()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},r.getDefaultOptions=Fy.getDefaultOptions,r}(pn),nY=null,iY=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e),oo()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},r.getDefaultOptions=Cc.getDefaultOptions,r}(pn),aY=null,oY=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e),oo()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},r.getDefaultOptions=gg.getDefaultOptions,r}(pn),sY=null,lY=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e),oo()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},r.getDefaultOptions=Fg.getDefaultOptions,r}(pn),uY=null,fY=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e),oo()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},r.getDefaultOptions=xg.getDefaultOptions,r}(pn),cY=null,hY=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e),oo()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},r.getDefaultOptions=qg.getDefaultOptions,r}(pn),vY=null,dY=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e),oo()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},r.getDefaultOptions=bc.getDefaultOptions,r}(pn),pY=null,gY=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e),oo()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},r.getDefaultOptions=gc.getDefaultOptions,r}(pn),yY=null,mY=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e),oo()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},r.getDefaultOptions=Zl.getDefaultOptions,r}(pn),xY=null,KD=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},r.prototype.coord=function(){},r.prototype.addGeometry=function(){},r.prototype.annotation=function(){var t=this,e=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,f.each)(e.guideLine,function(o){var s=zi("guideLine",{plot:t,cfg:(0,f.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},r}(vi),nu=KD,$D=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.destroy=function(){this.shape&&this.shape.destroy()},i.prototype.update=function(r,t,e){var n={};if((0,f.assign)(this,r),this.coord=this.view.geometries[0].coordinate,r.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(r.style){var s=this.shape,l=s.attrs,u=(0,f.deepMix)({},l,r.style);n=(0,f.deepMix)({},u,n)}this.shape.stopAnimate(),this.shape.animate(n,t,e)},i.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var r=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,e=this.coord.center.y+this.progressSize/2+2,n=(0,f.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:je({path:[["M",0,t],["L",0,e]]},n),name:"progress-marker"}),this.shape.move(r,0),this.canvas.draw()},i}(),a0=$D,JD={progress:"interval"},qD=Li(JD);(0,f.assign)(_n,qD);var tB={progress:"interval"},eB={interval:"progress"},o0=["#55A6F3","#E8EDF3"],s0=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||o0};t=(0,f.mix)(t,e)},r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,f.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},r.prototype.update=function(t){var e=this.options;if((0,f.hasKey)(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,f.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},r.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,f.each)(this.markers,function(t){t.destroy()}),this.markers=[]),i.prototype.destroy.call(this)},r.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,f.each)(this.options.marker,function(s){var l=(0,f.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),u=new a0(l);t.markers.push(u)}));var e=this.view.geometries[0].container,n=e.getBBox(),a=e.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},r.prototype.geometryParser=function(t,e){return t==="g2"?tB[e]:eB[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],(0,f.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,ut)},r.prototype.parseColorProps=function(t){var e;if(t.color)if((0,f.isFunction)(t.color)?e=t.color(t.percent):e=t.color,(0,f.isString)(e)){var n=(0,f.clone)(o0);return n[0]=e,n}else return e;return t.color},r.prototype.processData=function(){var t=this.options,e=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return e},r.prototype.updateMarkers=function(t){var e=t.length,n=this.getUpdateAnimationOptions();if((0,f.each)(this.markers,function(u,c){c>e-1?u.destroy():u.update(t[c],n.duration,n.easing)}),this.markers.length<e)for(var a=this.markers.length,o=a;o<e;o++){var s=(0,f.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),l=new a0(s);this.markers.push(l)}},r.prototype.getSize=function(){var t=this.height;return t>=50?10:4},r.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,a=e.easing,o=[],s=this.view,l=s.geometries;(0,f.each)(l,function(u){if(u.type==="interval"){var c=u.elements;(0,f.each)(c,function(h){o.push.apply(o,h.shape)})}}),(0,f.isArray)(t)?(0,f.each)(t,function(u,c){o[c].animate(u,n,a)}):o[0].animate(t,n,a)},r.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},r.prototype.updateColorConfigByStyle=function(t){var e=this;(0,f.isArray)(t)?(0,f.each)(t,function(n,a){n.fill&&(e.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},r}(nu),l0=s0;On("progress",s0);var rB=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="progress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t,e){var n=this.layers[0];n.update(t,e)},r.getDefaultOptions=l0.getDefaultOptions,r}(pn),u0=rB,nB={ringProgress:"interval"},iB=Li(nB);(0,f.assign)(_n,iB);var aB=["#55A6F3","#E8EDF3"],f0=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ringProgrsss",t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||aB};t=(0,f.mix)(t,e)},r.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=this.options;this.ring=yi("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},r.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,ot)},r.prototype.getThickness=function(t){var e=this.width,n=this.height,a=Math.min(e,n);return t?1-t/a:a>=60?1-20/a:1-10/a},r}(l0),oB=f0;On("ringProgress",f0);var sB=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="ringProgress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t){var e=this.layers[0];e.update(t)},r.getDefaultOptions=oB.getDefaultOptions,r}(pn),c0=sB,lB={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,f.assign)(_n,lB);var uB=.6,fB={column:"interval"},cB={interval:"column"},h0=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyColumn",t}return r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?fB[e]:cB[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},this.setConfig("scales",e)},r.prototype.addGeometry=function(){var t=this.options,e=yi("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,dt)},r.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,f.mix)(this.options,t)},r.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField),n=this.width;return n/e*uB},r.prototype.getColumnNum=function(t,e){var n=[];return(0,f.each)(t,function(a){var o=a[e];n.indexOf(o)<0&&n.push(o)}),n.length},r}(nu),hB=h0;On("tinyColumn",h0);var vB=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=hB.getDefaultOptions,r}(pn),v0=vB,dB={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(_n,dB);var pB={area:"area",line:"line"},d0=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyArea",t}return r.prototype.geometryParser=function(t,e){return pB[e]},r.prototype.addGeometry=function(){this.area=yi("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=yi("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,nt)},r}(nu),gB=d0;On("tinyArea",d0);var yB=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gB.getDefaultOptions,r}(pn),p0=yB,mB={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)(_n,mB);var xB={line:"line"},g0=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyLine",t}return r.prototype.geometryParser=function(t,e){return xB[e]},r.prototype.addGeometry=function(){this.line=yi("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,yt)},r}(nu),bB=g0;On("tinyLine",g0);var wB=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=bB.getDefaultOptions,r}(pn),y0=wB,Bc=5,SB=function(i){nr(r,i);function r(t){var e=i.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},t),e.themeController=new oc,e}return r.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,f.deepMix)({},n,a,e,t)},r.prototype.checkData=function(){for(var t=this,e,n,a=this.options,o=a.data,s=a.xField,l=a.yField,u=0;u<this.requiredField.length;u++){var c=this.requiredField[u];if(!(0,f.hasKey)(this.options,c))return!1}return!(!(0,f.isArray)(l)||l.length<2||!(0,f.isArray)(o)||o.length===0||((e=o[0])===null||e===void 0?void 0:e.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,f.each)(o,function(h,g){if(!(0,f.isArray)(h)||h.length===0){var w=t.getMockData(g);o[g]=w}}),!o[0][0][s]||!o[1][0][s]))},r.prototype.init=function(){i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},r.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){t&&t.length<2||!(0,f.isArray)(t[0])||(0,f.each)(this.geomLayers,function(e,n){e.changeData(t[n])})},r.prototype.changeDataByIndex=function(t,e){if(!(0,f.isArray)(t[0])){var n=this.geomLayers[e];n.changeData(t)}},r.prototype.doDestroy=function(){(0,f.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,f.each)(this.legends,function(t){t.destroy()}),this.legends=[]},r.prototype.createLayer=function(t,e,n){var a=this.getViewRange(),o=new t(je({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:e},n));return this.geomLayers.push(o),o},r.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),e=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(e.max,0):t.max},r.prototype.yAxis=function(t){var e=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,f.clone)(a),l={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,f.each)(s,function(c,h){if(!(0,f.isString)(c)&&(0,f.hasKey)(l,h)){var g=l[h];c.style||(c.style={}),c.style[g]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var u=this.getYAxisGlobalConfig();return t===0&&e.max===0&&e.min===0&&(s.max=this.getLeftYAxisMax()),(0,f.deepMix)({},u,s)},r.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=(0,se.getScale)("linear"),a=new n((0,f.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:e.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,l=s/(o-1),u=[],c=0;c<o;c++){var h=c*l;Number.isInteger(h)||(h=parseFloat(h.toFixed(1))),u.push(h)}return u},r.prototype.getScaleData=function(t){var e=this.options,n=e.data,a=e.yField,o=e.yAxis,s=[];(0,f.each)(n[t],function(c){s.push(c[a[t]])}),s.sort(function(c,h){return c-h});var l=s[0],u=o.max?o.max:s[s.length-1];return{min:l,max:u,values:s}},r.prototype.getDataByXField=function(t,e){var n=this.options,a=n.data,o=n.xField,s=a[e];return s.filter(function(l){return l[o]===t})},r.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,e=t.min,n=t.max,a=t.tickCount;return{min:e,max:n,tickCount:a}},r.prototype.adjustLayout=function(){var t=this,e,n,a=Ui().bleeding;(0,f.isArray)(a)&&(0,f.each)(a,function(w,L){typeof a[L]=="function"&&(a[L]=a[L](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),u=0,c,h;((e=this.options.legend)===null||e===void 0?void 0:e.visible)&&(c=this.legends[0].getLayoutBBox(),h=this.legends[1].getLayoutBBox(),u=c.height+Bc*2);var g=s.map(function(w,L){return L===0?Math.max.apply(null,[w+u,l[L]]):Math.max.apply(null,[w,l[L]])});this.geomLayers[0].updateConfig({padding:g}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:g}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+Bc}),this.legends[1].setLocation({x:o.maxX-a[1]-h.width,y:o.minY+Bc}))},r.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},r.prototype.legendFilter=function(t){var e=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),e.showLayer(t)):(n.setItemState(o,"unchecked",!0),e.hideLayer(t))})},r.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},r.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},r.prototype.setGeometryVisibility=function(t,e){(0,f.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",e),o&&o.set("visible",e)})},r.prototype.getYAxisContainer=function(t,e){var n,a=t.controllers.filter(function(l){return(0,f.hasKey)(l,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,f.each)(s,function(l){var u=l.get("component").get("field");u===e&&(n=l)})}return n},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),$o(t.title)){var n=this.width,a=this.theme,o=new Il({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:$o(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),$o(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new Il({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l}},r.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new mn(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,e=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,f.each)(o,function(s){if(s){var l=s.position,u=s.getBBox(),c=u.minX,h=u.maxX,g=u.minY,w=u.maxY;w>=n&&w<=a&&l==="top"&&(n=w),g>=n&&g<=a&&l==="bottom"&&(a=g),h>t&&h<=e&&l==="left"&&(t=h),c>=t&&h<=e&&l==="right"&&(e=c)}}),new mn(t,n,e-t,a-n)},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o={};return o[n]="null",o[a[t]]=0,[o]},r}(Ol),m0=SB,x0={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},b0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},w0=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dualLine",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:b0,rightConfig:b0},lineConfigs:[(0,f.deepMix)({},x0,{color:"#5B8FF9"}),(0,f.deepMix)({},x0,{color:"#e76c5e"})]})},r.prototype.init=function(){var t=this;if(i.prototype.init.call(this),!!this.checkData()){var e=this.options,n=e.data,a=e.meta,o=e.xField,s=e.yField,l=e.xAxis,u=e.tooltip,c=e.lineConfigs,h=e.legend,g=e.events,w=e.customMeta;this.colors=[c[0].color,c[1].color];var L=this.getYAxisGlobalConfig(),D=this.createLayer(ks,n[0],je({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,f.deepMix)({},L,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:g},c[0]));D.render();var N={};N[s[1]]={ticks:this.getTicks()};var H=this.createLayer(ks,n[1],je({xField:o,yField:s[1],meta:w?a:(0,f.deepMix)({},a,N),serieField:s[1],xAxis:l,yAxis:(0,f.deepMix)({},L,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(X,mt){t.tooltip(X,mt)}}},u),events:g},c[1]));H.render(),h.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.tooltip=function(t,e){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,l=(0,f.clone)(e.items[0]),u=this.getDataByXField(e.title,0)[0];u&&(0,f.findIndex)(e.items,function(c){return c.name===o[0]})<0&&e.items.push(je(je({},l),{mappingData:(0,f.deepMix)({},l.mappingData,{_origin:u}),data:u,name:o[0],value:u[o[0]],color:this.colors[0]})),s.visible&&(0,f.each)(this.legends,function(c,h){var g=c.get("items")[0];if(g.unchecked){var w=h===0?1:0;e.items.splice(w,1)}})},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a;(0,f.each)(this.geomLayers,function(u,c){var h=(0,f.deepMix)({},{symbol:"circle",style:{r:4,fill:o[c]}},l.marker),g=[{name:n[c],unchecked:!1,marker:h}],w=new ye.Legend.Category({id:t.type,container:s,x:0,y:0,items:g,updateAutoRender:!0,itemBackground:null,itemName:l.text});w.init(),w.render(),t.legends.push(w)}),(0,f.each)(this.geomLayers,function(u,c){t.legendFilter(c)})},r}(m0),CB=w0;On("dualLine",w0);var MB=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="dualLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=CB.getDefaultOptions,r}(pn),S0=MB,EB={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},AB={color:"#5B8FF9"},C0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},M0=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:C0,rightConfig:C0},lineConfig:EB,columnConfig:AB,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var s=Ui(),l=s.colors,u=s.colors_20,c=this.getValueBySeriesField(),h=c.length>l.length?u:l,g=[];(0,f.each)(c,function(w,L){g.push(h[L+1])}),a.lineConfig.color=g}},r.prototype.init=function(){if(i.prototype.init.call(this),!!this.checkData()){var t=this.options,e=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,l=t.legend,u=t.lineConfig,c=t.columnConfig,h=t.events,g=t.customMeta;this.colors=[c.color,u.color],this.drawColumn();var w={};w[o[1]]={ticks:this.getTicks()};var L=this.createLayer(ks,e[1],je({xField:a,yField:o[1],seriesField:s,meta:g?n:(0,f.deepMix)({},n,w),xAxis:{visible:!1},yAxis:(0,f.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:h},u));L.render(),l.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.xAxis,l=e.tooltip,u=e.columnConfig,c=e.meta,h=e.events,g=this.createLayer(ns,n[0],je({xField:a,yField:o[0],meta:c,xAxis:s,yAxis:(0,f.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(w,L){t.tooltip(w,L)}}},l),events:h},u));g.render()},r.prototype.tooltip=function(t,e){var n=this,a=this.options,o=a.xField,s=a.yField,l=a.tooltip,u=(0,f.clone)(e.items[0]),c=this.getDataByXField(e.title,1),h=(0,f.get)(l,"formatter");if(c&&(0,f.each)(c,function(N,H){var X=n.geomLayers[1].options.seriesField,mt=X?N[X]:s[1],xt=h?h(N[o],N[s[1]],N[X]):{name:mt,value:N[s[1]]};e.items.push(je(je(je(je({},u),{mappingData:(0,f.deepMix)({},u.mappingData,{_origin:c}),data:N}),xt),{color:(0,f.isArray)(n.colors[1])?n.colors[1][H]:n.colors[1]}))}),this.options.legend.visible){var g=this.getUnCheckedValue(),w=this.legends[0].get("items").length+this.legends[1].get("items").length;if(g.length===w){t.style.display="none";return}else t.style.display="block";var L=[],D=[];(0,f.each)(e.items,function(N){var H=N.name;!(0,f.contains)(L,H)&&!(0,f.contains)(g,H)&&(L.push(H),D.push(N))}),(0,f.each)(e.items,function(N,H){H<D.length?e.items[H]=D[H]:e.items.pop()})}},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(c,h){var g;if(c.options.seriesField){var w=t.getValueBySeriesField();g=t.createNormalLegend(w,u[h],o[h],l,s)}else g=t.createSingleLegend(n[h],u[h],o[h],l,s);t.legends.push(g)}),(0,f.each)(this.geomLayers,function(c,h){c.options.seriesField?t.multipleLegendFilter(h,c.options.seriesField):t.legendFilter(h)})},r.prototype.createSingleLegend=function(t,e,n,a,o){var s=(0,f.deepMix)({},{symbol:e,style:{r:4,fill:n}},a.marker),l=[{name:t,unchecked:!1,marker:s}],u=new ye.Legend.Category({id:this.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});return u.init(),u.render(),u},r.prototype.createNormalLegend=function(t,e,n,a,o){var s=[];(0,f.each)(t,function(u,c){s.push({name:u,unchecked:!1,marker:{symbol:e,style:{r:4,fill:n[c]}}})});var l=new ye.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return l.init(),l.render(),l},r.prototype.multipleLegendFilter=function(t,e){var n=this,a=this.legends[t],o=[],s=a.get("group"),l=!1;s.on("click",function(u){var c=n.geomLayers[t].view,h=u.target.get("delegateObject").item;h.unchecked?(l===!0&&(n.showLayer(t),l=!1),(0,f.pull)(o,h.name),c.filter(h.value,function(g){return!(0,f.contains)(o,g)}),c.render(),a.setItemState(h,"unchecked",!1)):(a.setItemState(h,"unchecked",!0),o.push(h.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),l=!0):(c.filter(e,function(g){return!(0,f.contains)(o,g)}),c.render())),n.canvas.draw()})},r.prototype.getValueBySeriesField=function(){var t=this.options,e=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r}(m0),Fc=M0;On("columnLine",M0);var TB=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="columnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Fc.getDefaultOptions,r}(pn),E0=TB,PB={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},OB={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},A0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},T0=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},A0,{colorMapping:!1}),rightConfig:A0},lineConfig:PB,columnConfig:OB,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var l=Ui(),u=l.colors,c=l.colors_20,h=this.getValueBySeriesField(),g=h.length>u.length?c:u,w=[],L=s.length;(0,f.each)(h,function(N,H){w.push(g[H+L])}),a.lineConfig.color=w}var D=this.options.columnConfig.color;this.options.columnConfig.color=D.slice(0,s.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnGroupField,l=e.xAxis,u=e.tooltip,c=e.columnConfig,h=e.events,g=this.createLayer(Cc,n[0],je({xField:a,yField:o[0],groupField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(w,L){t.tooltip(w,L)}}}),events:h},c));g.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(c,h){var g;if(c.options.seriesField){var w=t.getValueBySeriesField();g=t.createNormalLegend(w,u[h],o[h],l,s)}else if(c.options.groupField){var w=t.getValueByGroupField();g=t.createNormalLegend(w,u[h],o[h],l,s)}else g=t.createSingleLegend(n[h],u[h],o[h],l,s);t.legends.push(g)}),(0,f.each)(this.geomLayers,function(c,h){c.options.seriesField?t.multipleLegendFilter(h,c.options.seriesField):c.options.groupField?t.multipleLegendFilter(h,c.options.groupField):t.legendFilter(h)})},r.prototype.getValueByGroupField=function(){var t=this.options,e=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(Fc),IB=T0;On("groupedColumnLine",T0);var kB=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=IB.getDefaultOptions,r}(pn),P0=kB,LB={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},_B={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},O0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},I0=function(i){nr(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},O0,{colorMapping:!1}),rightConfig:O0},lineConfig:LB,columnConfig:_B,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((e=s.lineConfig)===null||e===void 0?void 0:e.color))){var l=Ui(),u=l.colors,c=l.colors_20,h=this.getValueBySeriesField(),g=h.length>u.length?c:u,w=[],L=n.length;(0,f.each)(h,function(N,H){w.push(g[H+L])}),o.lineConfig.color=w}var D=this.options.columnConfig.color;this.options.columnConfig.color=D.slice(0,n.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnStackField,l=e.xAxis,u=e.tooltip,c=e.columnConfig,h=e.events,g=this.createLayer(Zl,n[0],je({xField:a,yField:o[0],stackField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(w,L){t.tooltip(w,L)}}}),events:h},c));g.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(c,h){var g;if(c.options.seriesField){var w=t.getValueBySeriesField();g=t.createNormalLegend(w,u[h],o[h],l,s)}else if(c.options.stackField){var w=t.getValueByStackField();g=t.createNormalLegend(w,u[h],o[h],l,s)}else g=t.createSingleLegend(n[h],u[h],o[h],l,s);t.legends.push(g)}),(0,f.each)(this.geomLayers,function(c,h){c.options.seriesField?t.multipleLegendFilter(h,c.options.seriesField):c.options.stackField?t.multipleLegendFilter(h,c.options.stackField):t.legendFilter(h)})},r.prototype.getValueByStackField=function(){var t=this.options,e=t.columnStackField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(Fc),DB=I0;On("stackedColumnLine",I0);var BB=function(i){nr(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=DB.getDefaultOptions,r}(pn),k0=BB,FB=function(r){return r.charAt(0).toUpperCase()+r.slice(1).replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},bY=function(r,t){return JSON.stringify(r)===JSON.stringify(t)},RB=function(r,t){return new Set(r.concat(t)).size===r.length},NB=function(r,t){var e={}.toString;return e.call(r)==="[object "+t+"]"},GB=function(r){if(!r)return r;var t={};for(var e in r)t[e]=r[e];return t},Bs={sameArray:RB,camelCase:FB,isType:NB,clone:GB},YB=v(73935),zB=function(r){var t=document.createElement("div");return t.className="g2-tooltip eva-charts-tootip",YB.render(r,t),t},Rc=zB;function L0(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function VB(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?L0(Object(t),!0).forEach(function(e){XB(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):L0(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function XB(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function kn(i,r){var t=(0,q.useRef)(),e=(0,q.useRef)(null),n=function(){var l,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",c=arguments.length>1?arguments[1]:void 0;return(l=t.current)===null||l===void 0?void 0:l.canvas.cfg.el.toDataURL(u,c)},a=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/png",c=arguments.length>2?arguments[2]:void 0;try{var h;l&&l.indexOf(".")===-1&&(l="".concat(l,".png"));var g=l;if(!g){var w,L=r;g="".concat((L==null||(w=L.title)===null||w===void 0?void 0:w.text)||(i==null?void 0:i.name),".png")}var D=(h=t.current)===null||h===void 0?void 0:h.canvas.cfg.el.toDataURL(u,c),N=document.createElement("a");N.href=D,N.download=g,document.body.appendChild(N),N.click(),document.body.removeChild(N),N=null}catch(H){console.log(H)}},o=function(){var l,u,c,h,g;if((l=r.statistic)===null||l===void 0?void 0:l.htmlContent){var w=r.statistic.htmlContent;r.statistic.htmlContent=function(){var D=w.apply(void 0,arguments);return Bs.isType(D,"String")||Bs.isType(D,"Number")||Bs.isType(D,"HTMLDivElement")?D:Rc(D)}}if(((u=r.tooltip)===null||u===void 0||(c=u.custom)===null||c===void 0?void 0:c.container)&&(r.tooltip.custom.container=Rc(r.tooltip.custom.container)),(h=r.tooltip)===null||h===void 0||(g=h.custom)===null||g===void 0?void 0:g.customContent){var L=r.tooltip.custom.customContent;r.tooltip.custom.customContent=function(D,N){var H=L(D,N)||"";return Bs.isType(H,"HTMLDivElement")?H:Rc(H)}}};return(0,q.useEffect)(function(){t.current&&(r.onlyChangeData?t.current.changeData((r==null?void 0:r.data)||[]):(o(),t.current.updateConfig(r),t.current.render()))},[(r==null?void 0:r.memoData)?r.memoData:JSON.stringify(r)]),(0,q.useEffect)(function(){if(!e.current)return function(){return null};o();var s=new i(e.current,VB({},r));return s.__proto__.toDataURL=function(l,u){return n(l,u)},s.__proto__.downloadImage=function(l,u,c){return a(l,u,c)},s.render(),t.current=Bs.clone(s),function(){return s.destroy()}},[]),{chart:t,container:e,toDataURL:n,downloadImage:a}}var HB=q.createContext({});function iu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iu=function(t){return typeof t}:iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(i)}function WB(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function _0(i,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function jB(i,r,t){return r&&_0(i.prototype,r),t&&_0(i,t),i}function UB(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&Nc(i,r)}function Nc(i,r){return Nc=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},Nc(i,r)}function ZB(i){var r=$B();return function(){var e=au(i),n;if(r){var a=au(this).constructor;n=Reflect.construct(e,arguments,a)}else n=e.apply(this,arguments);return QB(this,n)}}function QB(i,r){return r&&(iu(r)==="object"||typeof r=="function")?r:KB(i)}function KB(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function $B(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}function au(i){return au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},au(i)}var JB=function(i){UB(t,i);var r=ZB(t);function t(){var e;return WB(this,t),e=r.apply(this,arguments),e.state={hasError:!1},e.renderError=function(n){switch(n){default:return q.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},e}return jB(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(q.Component),En=JB,wY=HB.Provider;function qB(i,r){if(i==null)return{};var t=tF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function tF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var D0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=qB(i,["chartRef","style","className"]),s=kn(kg,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});D0.defaultProps=kg.getDefaultOptions();var eF=D0;function rF(i,r){if(i==null)return{};var t=nF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function nF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var B0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=rF(i,["chartRef","style","className"]),s=kn(hg,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});B0.defaultProps=hg.getDefaultOptions();var iF=B0;function aF(i,r){if(i==null)return{};var t=oF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function oF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var F0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=aF(i,["chartRef","style","className"]),s=kn(Wy,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});F0.defaultProps=Wy.getDefaultOptions();var sF=F0;function lF(i,r){if(i==null)return{};var t=uF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function uF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var R0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=lF(i,["chartRef","style","className"]),s=kn(Uy,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});R0.defaultProps=Uy.getDefaultOptions();var fF=R0;function cF(i,r){if(i==null)return{};var t=hF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function hF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var vF=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=cF(i,["chartRef","style","className"]),s=kn(zD,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))}),dF=vF;function pF(i,r){if(i==null)return{};var t=gF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function gF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var N0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=pF(i,["chartRef","style","className"]),s=kn(zg,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});N0.defaultProps=zg.getDefaultOptions();var yF=N0;function mF(i,r){if(i==null)return{};var t=xF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function xF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var G0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=mF(i,["chartRef","style","className"]),s=kn(E0,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});G0.defaultProps=E0.getDefaultOptions();var bF=G0;function wF(i,r){if(i==null)return{};var t=SF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function SF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Y0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=wF(i,["chartRef","style","className"]),s=kn(uy,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});Y0.defaultProps=uy.getDefaultOptions();var CF=Y0;function MF(i,r){if(i==null)return{};var t=EF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function EF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var z0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=MF(i,["chartRef","style","className"]),s=kn(Ry,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});z0.defaultProps=Ry.getDefaultOptions();var V0=z0;function AF(i,r){if(i==null)return{};var t=TF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function TF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var X0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=AF(i,["chartRef","style","className"]),s=kn(S0,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});X0.defaultProps=S0.getDefaultOptions();var PF=X0;function OF(i,r){if(i==null)return{};var t=IF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function IF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var H0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=OF(i,["chartRef","style","className"]),s=kn(r0,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});H0.defaultProps=r0.getDefaultOptions();var kF=H0;function LF(i,r){if(i==null)return{};var t=_F(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function _F(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var DF=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=LF(i,["chartRef","style","className"]),s=kn(zL,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))}),BF=DF;function FF(i,r){if(i==null)return{};var t=RF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function RF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var W0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=FF(i,["chartRef","style","className"]),s=kn(t0,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});W0.defaultProps=t0.getDefaultOptions();var NF=W0;function GF(i,r){if(i==null)return{};var t=YF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function YF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var j0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=GF(i,["chartRef","style","className"]),s=kn(yg,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});j0.defaultProps=yg.getDefaultOptions();var zF=j0;function VF(i,r){if(i==null)return{};var t=XF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function XF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var U0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=VF(i,["chartRef","style","className"]),s=kn(Xg,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});U0.defaultProps=Xg.getDefaultOptions();var HF=U0;function WF(i,r){if(i==null)return{};var t=jF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function jF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Z0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=WF(i,["chartRef","style","className"]),s=kn(P0,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});Z0.defaultProps=P0.getDefaultOptions();var UF=Z0;function ZF(i,r){if(i==null)return{};var t=QF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function QF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Q0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=ZF(i,["chartRef","style","className"]),s=kn(Cy,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});Q0.defaultProps=Cy.getDefaultOptions();var KF=Q0;function $F(i,r){if(i==null)return{};var t=JF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function JF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var K0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=$F(i,["chartRef","style","className"]),s=kn(vy,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});K0.defaultProps=vy.getDefaultOptions();var qF=K0;function t5(i,r){if(i==null)return{};var t=e5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function e5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var $0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=t5(i,["chartRef","style","className"]),s=kn(_y,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});$0.defaultProps=_y.getDefaultOptions();var r5=$0;function n5(i,r){if(i==null)return{};var t=i5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function i5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var J0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=n5(i,["chartRef","style","className"]),s=kn(jp,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});J0.defaultProps=jp.getDefaultOptions();var a5=J0;function o5(i,r){if(i==null)return{};var t=s5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function s5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var q0=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=o5(i,["chartRef","style","className"]),s=kn(ky,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});q0.defaultProps=ky.getDefaultOptions();var l5=q0;function u5(i,r){if(i==null)return{};var t=f5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function f5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var tm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=u5(i,["chartRef","style","className"]),s=kn(i0,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});tm.defaultProps=i0.getDefaultOptions();var c5=tm;function h5(i,r){if(i==null)return{};var t=v5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function v5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var em=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=h5(i,["chartRef","style","className"]),s=kn(Rg,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});em.defaultProps=Rg.getDefaultOptions();var d5=em;function p5(i,r){if(i==null)return{};var t=g5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function g5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var rm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=p5(i,["chartRef","style","className"]),s=kn(bg,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});rm.defaultProps=bg.getDefaultOptions();var y5=rm;function m5(i,r){if(i==null)return{};var t=x5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function x5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var nm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=m5(i,["chartRef","style","className"]),s=kn(ty,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});nm.defaultProps=ty.getDefaultOptions();var b5=nm;function w5(i,r){if(i==null)return{};var t=S5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function S5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var im=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=w5(i,["chartRef","style","className"]),s=kn(oy,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});im.defaultProps=oy.getDefaultOptions();var C5=im;function M5(i,r){if(i==null)return{};var t=E5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function E5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var am=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=M5(i,["chartRef","style","className"]),s=kn(u0,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});am.defaultProps=u0.getDefaultOptions();var A5=am;function T5(i,r){if(i==null)return{};var t=P5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function P5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var om=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=T5(i,["chartRef","style","className"]),s=kn(Ey,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});om.defaultProps=Ey.getDefaultOptions();var O5=om;function I5(i,r){if(i==null)return{};var t=k5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function k5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var sm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=I5(i,["chartRef","style","className"]),s=kn(Ag,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});sm.defaultProps=Ag.getDefaultOptions();var L5=sm;function _5(i,r){if(i==null)return{};var t=D5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function D5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var lm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=_5(i,["chartRef","style","className"]),s=kn($g,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});lm.defaultProps=$g.getDefaultOptions();var B5=lm;function F5(i,r){if(i==null)return{};var t=R5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function R5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var um=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=F5(i,["chartRef","style","className"]),s=kn(c0,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});um.defaultProps=c0.getDefaultOptions();var N5=um;function G5(i,r){if(i==null)return{};var t=Y5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function Y5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var fm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=G5(i,["chartRef","style","className"]),s=kn(py,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});fm.defaultProps=py.getDefaultOptions();var z5=fm;function V5(i,r){if(i==null)return{};var t=X5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function X5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var cm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=V5(i,["chartRef","style","className"]),s=kn(Xy,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});cm.defaultProps=Xy.getDefaultOptions();var H5=cm;function W5(i,r){if(i==null)return{};var t=j5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function j5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var hm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=W5(i,["chartRef","style","className"]),s=kn(Dg,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});hm.defaultProps=Dg.getDefaultOptions();var U5=hm;function Z5(i,r){if(i==null)return{};var t=Q5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function Q5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var vm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=Z5(i,["chartRef","style","className"]),s=kn(dg,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});vm.defaultProps=dg.getDefaultOptions();var K5=vm;function $5(i,r){if(i==null)return{};var t=J5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function J5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var dm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=$5(i,["chartRef","style","className"]),s=kn(jg,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});dm.defaultProps=jg.getDefaultOptions();var q5=dm;function tR(i,r){if(i==null)return{};var t=eR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function eR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var pm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=tR(i,["chartRef","style","className"]),s=kn(k0,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});pm.defaultProps=k0.getDefaultOptions();var rR=pm;function nR(i,r){if(i==null)return{};var t=iR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function iR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var gm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=nR(i,["chartRef","style","className"]),s=kn(wy,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});gm.defaultProps=wy.getDefaultOptions();var aR=gm;function oR(i,r){if(i==null)return{};var t=sR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function sR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var ym=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=oR(i,["chartRef","style","className"]),s=kn(ag,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});ym.defaultProps=ag.getDefaultOptions();var lR=ym;function uR(i,r){if(i==null)return{};var t=fR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function fR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var mm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=uR(i,["chartRef","style","className"]),s=kn(p0,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});mm.defaultProps=p0.getDefaultOptions();var cR=mm;function hR(i,r){if(i==null)return{};var t=vR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function vR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var xm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=hR(i,["chartRef","style","className"]),s=kn(v0,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});xm.defaultProps=v0.getDefaultOptions();var dR=xm;function pR(i,r){if(i==null)return{};var t=gR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function gR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var bm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=pR(i,["chartRef","style","className"]),s=kn(y0,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});bm.defaultProps=y0.getDefaultOptions();var yR=bm;function mR(i,r){if(i==null)return{};var t=xR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function xR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var wm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=mR(i,["chartRef","style","className"]),s=kn(ng,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});wm.defaultProps=ng.getDefaultOptions();var bR=wm;function wR(i,r){if(i==null)return{};var t=SR(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function SR(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Sm=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=wR(i,["chartRef","style","className"]),s=kn(Yy,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))});Sm.defaultProps=Yy.getDefaultOptions();var CR=Sm;function MR(i,r){if(i==null)return{};var t=ER(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function ER(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var AR=(0,q.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=MR(i,["chartRef","style","className"]),s=kn(AL,o),l=s.chart,u=s.container;return(0,q.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,q.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),q.createElement(En,null,q.createElement("div",{className:a,style:n,ref:u}))}),TR=AR,PR={i8:"3.8.5"},di=v(50229),OR={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(r){var t=this,e=this.events;this.graph=r,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!0),(0,Zn.default)(e,function(n,a){r.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(r){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!1),(0,Zn.default)(t,function(e,n){r.off(n,e)})},get:function(r){return this[r]},set:function(r,t){return this[r]=t,this}},IR=function(){function i(){}return i.registerBehavior=function(r,t){if(!t)throw new Error("please specify handler for this behavior: "+r);var e=(0,di.d9)(OR);Object.assign(e,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var u={};l&&((0,di.S6)(l,function(c,h){u[h]=(0,di.Ko)(s,c)}),this.events=u)};n.prototype=e,i.types[r]=n},i.hasBehavior=function(r){return!!i.types[r]},i.getBehavior=function(r){return i.types[r]},i.types={},i}(),Gc=IR,Yc;(function(i){i.CLICK="click",i.DBLCLICK="dblclick",i.MOUSEDOWN="mousedown",i.MOUDEUP="mouseup",i.CONTEXTMENU="contextmenu",i.MOUSEENTER="mouseenter",i.MOUSEOUT="mouseout",i.MOUSEOVER="mouseover",i.MOUSEMOVE="mousemove",i.MOUSELEAVE="mouseleave",i.DRAGSTART="dragstart",i.DRAGEND="dragend",i.DRAG="drag",i.DRAGENTER="dragenter",i.DRAGLEAVE="dragleave",i.DRAGOVER="dragover",i.DRAGOUT="dragout",i.DDROP="drop",i.KEYUP="keyup",i.KEYDOWN="keydown",i.WHEEL="wheel",i.FOCUS="focus",i.BLUR="blur",i.TOUCHSTART="touchstart",i.TOUCHMOVE="touchmove",i.TOUCHEND="touchend",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_CLICK="node:click",i.NODE_DBLCLICK="node:dblclick",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEOUT="node:mouseout",i.NODE_MOUSEOVER="node:mouseover",i.NODE_DROP="node:drop",i.NODE_DRAGOVER="node:dragover",i.NODE_DRAGENTER="node:dragenter",i.NODE_DRAGLEAVE="node:dragleave",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DRAGEND="node:dragend",i.COMBO_CONTEXTMENU="combo:contextmenu",i.COMBO_CLICK="combo:click",i.COMBO_DBLCLICK="combo:dblclick",i.COMBO_MOUSEDOWN="combo:mousedown",i.COMBO_MOUSEUP="combo:mouseup",i.COMBO_MOUSEENTER="combo:mouseenter",i.COMBO_MOUSELEAVE="combo:mouseleave",i.COMBO_MOUSEMOVE="combo:mousemove",i.COMBO_MOUSEOUT="combo:mouseout",i.COMBO_MOUSEOVER="combo:mouseover",i.COMBO_DROP="combo:drop",i.COMBO_DRAGOVER="combo:dragover",i.COMBO_DRAGENTER="combo:dragenter",i.COMBO_DRAGLEAVE="combo:dragleave",i.COMBO_DRAGSTART="combo:dragstart",i.COMBO_DRAG="combo:drag",i.COMBO_DRAGEND="combo:dragend",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_CLICK="edge:click",i.EDGE_DBLCLICK="edge:dblclick",i.EDGE_MOUSEDOWN="edge:mousedown",i.EDGE_MOUSEUP="edge:mouseup",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_MOUSEMOVE="edge:mousemove",i.EDGE_MOUSEOUT="edge:mouseout",i.EDGE_MOUSEOVER="edge:mouseover",i.EDGE_DROP="edge:drop",i.EDGE_DRAGOVER="edge:dragover",i.EDGE_DRAGENTER="edge:dragenter",i.EDGE_DRAGLEAVE="edge:dragleave",i.CANVAS_CONTEXTMENU="canvas:contextmenu",i.CANVAS_CLICK="canvas:click",i.CANVAS_DBLCLICK="canvas:dblclick",i.CANVAS_MOUSEDOWN="canvas:mousedown",i.CANVAS_MOUSEUP="canvas:mouseup",i.CANVAS_MOUSEENTER="canvas:mouseenter",i.CANVAS_MOUSELEAVE="canvas:mouseleave",i.CANVAS_MOUSEMOVE="canvas:mousemove",i.CANVAS_MOUSEOUT="canvas:mouseout",i.CANVAS_MOUSEOVER="canvas:mouseover",i.CANVAS_DROP="canvas:drop",i.CANVAS_DRAGENTER="canvas:dragenter",i.CANVAS_DRAGLEAVE="canvas:dragleave",i.CANVAS_DRAGSTART="canvas:dragstart",i.CANVAS_DRAG="canvas:drag",i.CANVAS_DRAGEND="canvas:dragend",i.BEFORERENDER="beforerender",i.AFTERRENDER="afterrender",i.BEFOREADDITEM="beforeadditem",i.AFTERADDITEM="afteradditem",i.BEFOREREMOVEITEM="beforeremoveitem",i.AFTERREMOVEITEM="afterremoveitem",i.BEFOREUPDATEITEM="beforeupdateitem",i.AFTERUPDATEITEM="afterupdateitem",i.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",i.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",i.BEFOREITEMSTATECHANGE="beforeitemstatechange",i.AFTERITEMSTATECHANGE="afteritemstatechange",i.BEFOREITEMREFRESH="beforeitemrefresh",i.AFTERITEMREFRESH="afteritemrefresh",i.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",i.AFTERITEMSTATESCLEAR="afteritemstatesclear",i.BEFOREMODECHANGE="beforemodechange",i.AFTERMODECHANGE="aftermodechange",i.BEFORELAYOUT="beforelayout",i.AFTERLAYOUT="afterlayout",i.BEFORECREATEEDGE="beforecreateedge",i.AFTERCREATEEDGE="aftercreateedge",i.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",i.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",i.BEFOREGRAPHREFRESH="beforegraphrefresh",i.AFTERGRAPHREFRESH="aftergraphrefresh",i.BEFOREANIMATE="beforeanimate",i.AFTERANIMATE="afteranimate",i.BEFOREPAINT="beforepaint",i.AFTERPAINT="afterpaint",i.GRAPHSTATECHANGE="graphstatechange",i.AFTERACTIVATERELATIONS="afteractivaterelations",i.NODESELECTCHANGE="nodeselectchange",i.TOOLTIPCHANGE="tooltipchange",i.WHEELZOOM="wheelzoom",i.VIEWPORTCHANGE="viewportchange",i.DRAGNODEEND="dragnodeend",i.STACKCHANGE="stackchange"})(Yc||(Yc={}));var Da=v(16185);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zc=function(r,t){return zc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a])},zc(r,t)};function ai(i,r){zc(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var ce=function(){return ce=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ce.apply(this,arguments)};function ea(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t}function SY(i,r,t,e){var n=arguments.length,a=n<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(i,r,t,e);else for(var s=i.length-1;s>=0;s--)(o=i[s])&&(a=(n<3?o(a):n>3?o(r,t,a):o(r,t))||a);return n>3&&a&&Object.defineProperty(r,t,a),a}function CY(i,r){return function(t,e){r(t,e,i)}}function MY(i,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,r)}function EY(i,r,t,e){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{u(e.next(c))}catch(h){o(h)}}function l(c){try{u(e.throw(c))}catch(h){o(h)}}function u(c){c.done?a(c.value):n(c.value).then(s,l)}u((e=e.apply(i,r||[])).next())})}function AY(i,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},e,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(e)throw new TypeError("Generator is already executing.");for(;t;)try{if(e=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=r.call(i,t)}catch(c){u=[6,c],n=0}finally{e=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function TY(i,r,t,e){e===void 0&&(e=t),i[e]=r[t]}function PY(i,r){for(var t in i)t!=="default"&&!r.hasOwnProperty(t)&&(r[t]=i[t])}function Cm(i){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&i[r],e=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function kR(i,r){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var e=t.call(i),n,a=[],o;try{for(;(r===void 0||r-- >0)&&!(n=e.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(t=e.return)&&t.call(e)}finally{if(o)throw o.error}}return a}function OY(){for(var i=[],r=0;r<arguments.length;r++)i=i.concat(kR(arguments[r]));return i}function Fs(){for(var i=0,r=0,t=arguments.length;r<t;r++)i+=arguments[r].length;for(var e=Array(i),n=0,r=0;r<t;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,n++)e[n]=a[o];return e}function ou(i){return this instanceof ou?(this.v=i,this):new ou(i)}function IY(i,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t.apply(i,r||[]),n,a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(g){e[g]&&(n[g]=function(w){return new Promise(function(L,D){a.push([g,w,L,D])>1||s(g,w)})})}function s(g,w){try{l(e[g](w))}catch(L){h(a[0][3],L)}}function l(g){g.value instanceof ou?Promise.resolve(g.value.v).then(u,c):h(a[0][2],g)}function u(g){s("next",g)}function c(g){s("throw",g)}function h(g,w){g(w),a.shift(),a.length&&s(a[0][0],a[0][1])}}function kY(i){var r,t;return r={},e("next"),e("throw",function(n){throw n}),e("return"),r[Symbol.iterator]=function(){return this},r;function e(n,a){r[n]=i[n]?function(o){return(t=!t)?{value:ou(i[n](o)),done:n==="return"}:a?a(o):o}:a}}function LY(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i[Symbol.asyncIterator],t;return r?r.call(i):(i=typeof Cm=="function"?Cm(i):i[Symbol.iterator](),t={},e("next"),e("throw"),e("return"),t[Symbol.asyncIterator]=function(){return this},t);function e(a){t[a]=i[a]&&function(o){return new Promise(function(s,l){o=i[a](o),n(s,l,o.done,o.value)})}}function n(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}function _Y(i,r){return Object.defineProperty?Object.defineProperty(i,"raw",{value:r}):i.raw=r,i}function DY(i){if(i&&i.__esModule)return i;var r={};if(i!=null)for(var t in i)Object.hasOwnProperty.call(i,t)&&(r[t]=i[t]);return r.default=i,r}function BY(i){return i&&i.__esModule?i:{default:i}}function FY(i,r){if(!r.has(i))throw new TypeError("attempted to get private field on non-instance");return r.get(i)}function RY(i,r,t){if(!r.has(i))throw new TypeError("attempted to set private field on non-instance");return r.set(i,t),t}var LR=v(21885),_R=function(i){ai(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.item=e.item,n.canvasX=e.canvasX,n.canvasY=e.canvasY,n.wheelDelta=e.wheelDelta,n.detail=e.detail,n}return r}(LR.Z),Vc=function(r){var t=0,e=0,n=0,a=0;if((0,Da.default)(r))t=e=n=a=r;else if((0,Hn.default)(r)){var o=parseInt(r,10);t=e=n=a=o}else(0,Yi.default)(r)&&(t=r[0],n=(0,Gi.default)(r[1])?r[0]:r[1],a=(0,Gi.default)(r[2])?r[0]:r[2],e=(0,Gi.default)(r[3])?n:r[3]);return[t,n,a,e]},su=function(r){var t=new _R(r.type,r);return t.clientX=r.clientX,t.clientY=r.clientY,t.x=r.x,t.y=r.y,t.target=r.target,t.currentTarget=r.currentTarget,t.bubbles=!0,t.item=r.item,t},Mm=function(r){if(!r)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(r[n]!==e[n])return!0;return!1},so=function(r){return Number.isNaN(Number(r))},Em=function(r){for(var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity,o=0;o<r.length;o++){var s=r[o],l=s.getBBox(),u=l.minX,c=l.minY,h=l.maxX,g=l.maxY;u<t&&(t=u),c<n&&(n=c),h>e&&(e=h),g>a&&(a=g)}var w=Math.floor(t),L=Math.floor(n),D=Math.ceil(e)-Math.floor(t),N=Math.ceil(a)-Math.floor(n);return{x:w,y:L,width:D,height:N,minX:t,minY:n,maxX:e,maxY:a}},DR=function(r,t){t===void 0&&(t=15);for(var e=r.length,n=t*2,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},s=[],l={},u=0;u<e;u++){var c=r[u],h=c.source,g=c.target,w=h+"-"+g;if(!s[u]){o[w]||(o[w]=[]),s[u]=!0,o[w].push(c);for(var L=0;L<e;L++)if(u!==L){var D=r[L],N=D.source,H=D.target;s[L]||(h===H&&g===N?(o[w].push(D),s[L]=!0,l[N+"|"+H+"|"+(o[w].length-1)]=!0):h===N&&g===H&&(o[w].push(D),s[L]=!0))}}}for(var X in o)for(var mt=o[X],xt=mt.length,Pt=0;Pt<xt;Pt++){var Ht=mt[Pt];if(Ht.source===Ht.target){Ht.type="loop",Ht.loopCfg={position:a[Pt%8],dist:Math.floor(Pt/8)*20+50};continue}Ht.type="quadratic";var te=(Pt%2==0?1:-1)*(l[Ht.source+"|"+Ht.target+"|"+Pt]?-1:1);xt%2==1?Ht.curveOffset=te*Math.ceil(Pt/2)*n:Ht.curveOffset=te*(Math.floor(Pt/2)*n+t)}return r},Am=Math.abs,BR=10,FR=["shift","ctrl","alt","control"],RR={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(r){var t=this.origin,e=+r.clientX,n=+r.clientY;if(!(so(e)||so(n))){var a=e-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:e,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox();(u.minX<=s+this.scalableRange&&u.minX+a>s+this.scalableRange||u.maxX+this.scalableRange>=0&&u.maxX+this.scalableRange+a<0)&&(a=0),(u.minY<=l+this.scalableRange&&u.minY+o>l+this.scalableRange||u.maxY+this.scalableRange>=0&&u.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(a,o)}},onMouseDown:function(r){var t=this,e=r.originalEvent;if(!(e&&e.button!==0)&&!(r.name!==Yc.TOUCHSTART&&window&&window.event&&typeof window!="undefined"&&!window.event.buttons&&!window.event.button)&&!(t.keydown||r.shape)&&(t.origin={x:r.clientX,y:r.clientY},t.dragging=!1,this.enableOptimize)){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(X){X.hide()})}for(var u=n.getNodes(),c=0,h=u.length;c<h;c++)for(var g=u[c].getContainer(),w=g.get("children"),L=0,D=w;L<D.length;L++){var N=D[L],H=N.get("isKeyShape");H||N.hide()}}},onMouseMove:function(r){var t=this.graph;if(!(this.keydown||r.shape)&&(r=su(r),!!this.origin)){if(this.dragging)r.type="drag",t.emit("canvas:drag",r);else{if(Am(this.origin.x-r.clientX)+Am(this.origin.y-r.clientY)<BR)return;this.shouldBegin.call(this,r)&&(r.type="dragstart",t.emit("canvas:dragstart",r),this.dragging=!0)}this.shouldUpdate.call(this,r)&&this.updateViewport(r)}},onMouseUp:function(r){var t=this.graph;if(!(this.keydown||r.shape)){if(this.enableOptimize){for(var e=t.getEdges(),n=0,a=e.length;n<a;n++){var o=e[n].get("group").get("children");!o||o.forEach(function(N){N.show()})}for(var s=t.getNodes(),l=0,u=s.length;l<u;l++)for(var c=s[l].getContainer(),h=c.get("children"),g=0,w=h;g<w.length;g++){var L=w[g],D=L.get("isKeyShape");D||L.show()}}if(!this.dragging){this.origin=null;return}r=su(r),this.shouldEnd.call(this,r)&&this.updateViewport(r),r.type="dragend",t.emit("canvas:dragend",r),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(r){var t=this,e=r.key;!e||(FR.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},NR=v(6767),lu=v.n(NR),GR=v(17621),uu=v.n(GR),fu=2,Tm=.16,YR=.05,zR=.05,VR=.15,Pm=5,Om=4,XR=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Im(i,r,t){var e;return Math.round(i.h)>=60&&Math.round(i.h)<=240?e=t?Math.round(i.h)-fu*r:Math.round(i.h)+fu*r:e=t?Math.round(i.h)+fu*r:Math.round(i.h)-fu*r,e<0?e+=360:e>=360&&(e-=360),e}function km(i,r,t){if(i.h===0&&i.s===0)return i.s;var e;return t?e=i.s-Tm*r:r===Om?e=i.s+Tm:e=i.s+YR*r,e>1&&(e=1),t&&r===Pm&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function Lm(i,r,t){var e;return t?e=i.v+zR*r:e=i.v-VR*r,e>1&&(e=1),Number(e.toFixed(2))}function Xc(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=uu()(i),n=Pm;n>0;n-=1){var a=e.toHsv(),o=uu()({h:Im(a,n,!0),s:km(a,n,!0),v:Lm(a,n,!0)}).toHexString();t.push(o)}t.push(e.toHexString());for(var s=1;s<=Om;s+=1){var l=e.toHsv(),u=uu()({h:Im(l,s),s:km(l,s),v:Lm(l,s)}).toHexString();t.push(u)}return r.theme==="dark"?XR.map(function(c){var h=c.index,g=c.opacity,w=uu().mix(r.backgroundColor||"#141414",t[h],g*100).toHexString();return w}):t}var Hc={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ra={},Wc={};Object.keys(Hc).forEach(function(i){ra[i]=Xc(Hc[i]),ra[i].primary=ra[i][5],Wc[i]=Xc(Hc[i],{theme:"dark",backgroundColor:"#141414"}),Wc[i].primary=Wc[i][5]});var NY=ra.red,GY=ra.volcano,YY=ra.gold,zY=ra.orange,VY=ra.yellow,XY=ra.lime,HY=ra.green,WY=ra.cyan,jY=ra.blue,UY=ra.geekblue,ZY=ra.purple,QY=ra.magenta,KY=ra.grey,Ha=function(r,t,e){var n=lu()(r),a=lu()(t);return lu()([(1-e)*n.color[0]+e*a.color[0],(1-e)*n.color[1]+e*a.color[1],(1-e)*n.color[2]+e*a.color[2]]).rgb()},_m=function(r,t,e,n){t===void 0&&(t="#fff"),e===void 0&&(e="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=Ha(t,r,.05).rgb().toString(),o=Ha(t,n,.02).rgb().toString(),s=Ha(t,n,.05).rgb().toString(),l=Ha(t,n,.1).rgb().toString(),u=Ha(t,n,.2).rgb().toString(),c=Ha(t,n,.3).rgb().toString(),h=Xc(r,{theme:e,backgroundColor:t}),g=lu()(r).hex().toLowerCase(),w=h.indexOf(g),L=r;return w!==-1&&(L=h[w+1]),{mainStroke:r,mainFill:Ha(t,r,.1).rgb().toString(),activeStroke:r,activeFill:a,inactiveStroke:Ha(t,r,.4).rgb().toString(),inactiveFill:a,selectedStroke:r,selectedFill:t,highlightStroke:L,highlightFill:Ha(t,r,.2).rgb().toString(),disableStroke:c,disableFill:s,edgeMainStroke:c,edgeActiveStroke:r,edgeInactiveStroke:u,edgeSelectedStroke:r,edgeHighlightStroke:r,edgeDisableStroke:l,comboMainStroke:c,comboMainFill:o,comboActiveStroke:r,comboActiveFill:a,comboInactiveStroke:c,comboInactiveFill:o,comboSelectedStroke:r,comboSelectedFill:o,comboHighlightStroke:L,comboHighlightFill:o,comboDisableStroke:u,comboDisableFill:s}},HR="rgb(95, 149, 255)",WR="rgb(255, 255, 255)",Dm="rgb(0, 0, 0)",Bn=_m(HR,WR),yr={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Bn.mainStroke,fill:Bn.mainFill},size:20,color:Bn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Bn.activeFill,stroke:Bn.activeStroke}},nodeStateStyles:{active:{fill:Bn.activeFill,stroke:Bn.activeStroke,lineWidth:2,shadowColor:Bn.mainStroke,shadowBlur:10},selected:{fill:Bn.selectedFill,stroke:Bn.selectedStroke,lineWidth:4,shadowColor:Bn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Bn.highlightFill,stroke:Bn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Bn.inactiveFill,stroke:Bn.inactiveStroke,lineWidth:1},disable:{fill:Bn.disableFill,stroke:Bn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Dm,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Bn.edgeMainStroke,lineAppendWidth:2},color:Bn.edgeMainStroke},edgeStateStyles:{active:{stroke:Bn.edgeActiveStroke,lineWidth:1},selected:{stroke:Bn.edgeSelectedStroke,lineWidth:2,shadowColor:Bn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Bn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Bn.edgeInactiveStroke,lineWidth:1},disable:{stroke:Bn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Dm,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Bn.comboMainFill,lineWidth:1,stroke:Bn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Bn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Bn.comboActiveStroke,lineWidth:1,fill:Bn.comboActiveFill},selected:{stroke:Bn.comboSelectedStroke,lineWidth:2,fill:Bn.comboSelectedFill,shadowColor:Bn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Bn.comboHighlightStroke,lineWidth:2,fill:Bn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Bn.comboInactiveStroke,fill:Bn.comboInactiveFill,lineWidth:1},disable:{stroke:Bn.comboDisableStroke,fill:Bn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},jR={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(r){if(!this.origin||!r||r.destroyed)return!1;var t=r.getType();return t==="combo"},onDragStart:function(r){var t=this;if(!!this.shouldBegin.call(this,r)){var e=r.item;if(!(!e||e.destroyed||e.hasLocked())){var n=e.getContainer();n.set("capture",!1);var a=r.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),u=e.get("id"),c=l.filter(function(g){var w=g.get("id");return u===w});c.length===0?this.targets.push(e):l.length>1?l.forEach(function(g){var w=g.hasLocked();w||t.targets.push(g)}):this.targets.push(e);var h=[];this.targets.forEach(function(g){h.push((0,di.d9)(g.getModel()))}),this.set("beforeDragNodes",h),this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}}},onDrag:function(r){var t=this;!this.origin||!this.shouldUpdate(this,r)||(this.get("enableDelegate")?this.updateDelegate(r):this.targets.map(function(e){t.update(e,r)}))},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){var t=r.item;if(t){var e=t.getContainer();e.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(r);var n=this.graph;if(n.get("enabledStack")){var a={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(o){a.after.nodes.push(o.getModel())}),n.pushStack("update",(0,di.d9)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(r){var t=r.item;if(!!this.validationCombo(t)){this.updatePositions(r);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&e.updateComboTree(a,n.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(r){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(r),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var n=e.getModel();n.comboId&&t.updateComboTree(e)}))},onDropNode:function(r){if(!(!this.targets||this.targets.length===0)){var t=this,e=r.item;this.updatePositions(r);var n=t.graph,a=e.getModel().comboId;if(a){var o=n.findById(a);t.comboActiveState&&n.setItemState(o,t.comboActiveState,!1),this.targets.map(function(s){var l=s.getModel();a!==l.comboId&&n.updateComboTree(s,a)}),n.updateCombo(o)}else this.targets.map(function(s){var l=s.getModel();l.comboId&&n.updateComboTree(s)});n.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(r){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&this.targets.map(function(e){return t.update(e,r)})},update:function(r,t){var e=this.origin,n=r.get("model"),a=r.get("id");this.point[a]||(this.point[a]={x:n.x||0,y:n.y||0});var o=t.x-e.x+this.point[a].x,s=t.y-e.y+this.point[a].y,l={x:o,y:s};this.get("updateEdge")?this.graph.updateItem(r,l,!1):r.updatePosition(l)},updateDelegate:function(r){var t=this.graph;if(this.delegateRect){var g=r.x-this.origin.x+this.originPoint.minX,w=r.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:g,y:w})}else{var e=this.graph.get("group"),n=(0,di.b$)({},yr.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(r),o=a.x,s=a.y,l=a.width,u=a.height,c=a.minX,h=a.minY;this.originPoint={x:o,y:s,width:l,height:u,minX:c,minY:h},this.delegateRect=e.addShape("rect",{attrs:ce({width:l,height:u,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(r){var t=this.graph,e=t.findAllByState("node",this.selectedState);e.length===0&&e.push(r.item);for(var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity,l=0;l<e.length;l++){var u=e[l],c=u.getBBox(),h=c.minX,g=c.minY,w=c.maxX,L=c.maxY;h<n&&(n=h),g<o&&(o=g),w>a&&(a=w),L>s&&(s=L)}var D=Math.floor(n),N=Math.floor(o),H=Math.ceil(a)-Math.floor(n),X=Math.ceil(s)-Math.floor(o);return{x:D,y:N,width:H,height:X,minX:n,minY:o}}},UR={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(r){var t=r.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(r.item,{event:r,action:"activate"})){for(var n=this,a=this.activeState,o=this.inactiveState,s=e.getNodes(),l=e.getEdges(),u=s.length,c=l.length,h=0;h<u;h++){var g=s[h],w=g.hasState("selected");n.resetSelected&&w&&e.setItemState(g,"selected",!1),e.setItemState(g,a,!1),o&&e.setItemState(g,o,!0)}for(var h=0;h<c;h++){var L=l[h];e.setItemState(L,a,!1),o&&e.setItemState(L,o,!0)}o&&e.setItemState(t,o,!1),e.setItemState(t,a,!0);for(var D=t.getEdges(),N=D.length,h=0;h<N;h++){var L=D[h],H=void 0;L.getSource()===t?H=L.getTarget():H=L.getSource(),o&&e.setItemState(H,o,!1),e.setItemState(H,a,!0),e.setItemState(L,o,!1),e.setItemState(L,a,!0),L.toFront()}e.emit("afteractivaterelations",{item:r.item,action:"activate"})}},clearActiveState:function(r){var t=this,e=t.get("graph");if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){var n=this.activeState,a=this.inactiveState,o=e.get("autoPaint");e.setAutoPaint(!1);for(var s=e.getNodes(),l=e.getEdges(),u=s.length,c=l.length,h=0;h<u;h++){var g=s[h];e.clearItemStates(g,[n,a])}for(var h=0;h<c;h++){var w=l[h];e.clearItemStates(w,[n,a,"deactivate"])}e.paint(),e.setAutoPaint(o),e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}},clearAllItemStates:function(r){var t=this,e=t.graph;if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){for(var n=this.activeState,a=this.inactiveState,o=e.getNodes(),s=e.getEdges(),l=o.length,u=s.length,c=0;c<l;c++){var h=o[c];e.clearItemStates(h,[n,a])}for(var c=0;c<u;c++){var g=s[c];e.clearItemStates(g,[n,a,"deactivate"])}e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}}},cu=Math.min,Bm=Math.max,Fm=Math.abs,Rm="shift",ZR=["drag","shift","ctrl","alt","control"],QR={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Rm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return ZR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Rm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(r){var t=r.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:r.canvasX,y:r.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(r)},onMouseUp:function(r){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(r),this.dragging=!1)},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(r){var t=this,e=this,n=e.graph,a=e.originPoint,o=e.shouldUpdate,s=this.selectedState,l={x:r.x,y:r.y},u=n.getPointByCanvas(a.x,a.y),c=cu(l.x,u.x),h=Bm(l.x,u.x),g=cu(l.y,u.y),w=Bm(l.y,u.y),L=[],D=[];n.getNodes().forEach(function(H){var X=H.getBBox();if(X.centerX>=c&&X.centerX<=h&&X.centerY>=g&&X.centerY<=w&&o(H,"select")){L.push(H);var mt=H.getModel();D.push(mt.id),n.setItemState(H,s,!0)}});var N=[];this.includeEdges&&L.forEach(function(H){var X=H.getOutEdges();X.forEach(function(mt){var xt=mt.getModel(),Pt=xt.source,Ht=xt.target;D.includes(Pt)&&D.includes(Ht)&&o(mt,"select")&&(N.push(mt),n.setItemState(mt,t.selectedState,!0))})}),this.selectedEdges=N,this.selectedNodes=L,this.onSelect&&this.onSelect(L,N),n.emit("nodeselectchange",{selectedItems:{nodes:L,edges:N},select:!0})},createBrush:function(){var r=this,t=r.graph.get("canvas").addShape("rect",{attrs:r.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(r){var t=this.originPoint;this.brush.attr({width:Fm(r.canvasX-t.x),height:Fm(r.canvasY-t.y),x:cu(r.canvasX,t.x),y:cu(r.canvasY,t.y)})},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Nm="shift",KR=["shift","ctrl","alt","control"],$R={getDefaultCfg:function(){return{multiple:!0,trigger:Nm,selectedState:"selected"}},getEvents:function(){var r=this;return KR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Nm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),r.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(r){var t=this,e=r.item;if(!(!e||e.destroyed)){var n=e.getType(),a=this,o=a.graph,s=a.keydown,l=a.multiple,u=a.shouldUpdate,c=a.shouldBegin;if(!!c.call(this,r)){if(!s||!l){var h=o.findAllByState(n,this.selectedState);(0,Zn.default)(h,function(L){L!==e&&o.setItemState(L,t.selectedState,!1)})}if(e.hasState(this.selectedState)){u.call(this,r)&&o.setItemState(e,this.selectedState,!1);var g=o.findAllByState("node",this.selectedState),w=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:g,combos:w},select:!1})}else{u.call(this,r)&&o.setItemState(e,this.selectedState,!0);var g=o.findAllByState("node",this.selectedState),w=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:g,combos:w},select:!0})}}}},onCanvasClick:function(){var r=this,t=this.graph,e=t.findAllByState("node",this.selectedState);(0,Zn.default)(e,function(a){t.setItemState(a,r.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);(0,Zn.default)(n,function(a){t.setItemState(a,r.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},pa=v(31502);pa.translate=function(i,r,t){var e=new Array(9);return pa.fromTranslation(e,t),pa.multiply(i,e,r)},pa.rotate=function(i,r,t){var e=new Array(9);return pa.fromRotation(e,t),pa.multiply(i,e,r)},pa.scale=function(i,r,t){var e=new Array(9);return pa.fromScaling(e,t),pa.multiply(i,e,r)},pa.transform=function(i,r){for(var t=[].concat(i),e=0,n=r.length;e<n;e++){var a=r[e];switch(a[0]){case"t":pa.translate(t,t,[a[1],a[2]]);break;case"s":pa.scale(t,t,[a[1],a[2]]);break;case"r":pa.rotate(t,t,a[1]);break;default:break}}return t};var lo=pa,Wa=v(76172);Wa.angle=function(i,r){var t=Wa.dot(i,r)/(Wa.length(i)*Wa.length(r));return Math.acos((0,f.clamp)(t,-1,1))},Wa.direction=function(i,r){return i[0]*r[1]-r[0]*i[1]},Wa.angleTo=function(i,r,t){var e=Wa.angle(i,r),n=Wa.direction(i,r)>=0;return t?n?Math.PI*2-e:e:n?e:Math.PI*2-e},Wa.vertical=function(i,r,t){return t?(i[0]=r[1],i[1]=-1*r[0]):(i[0]=-1*r[1],i[1]=r[0]),i};var oi=Wa,JR=v(88395),Gm=JR,ja=function(i,r){var t=i?(0,f.clone)(i):[1,0,0,0,1,0,0,0,1];return(0,f.each)(r,function(e){switch(e[0]){case"t":lo.translate(t,t,[e[1],e[2]]);break;case"s":lo.scale(t,t,[e[1],e[2]]);break;case"r":lo.rotate(t,t,e[1]);break;case"m":lo.multiply(t,t,e[1]);break;default:return!1}}),t},Ym=.05,qR={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var r=this.fixSelectedItems;return r.fixState||(r.fixState="selected"),r.fixAll&&(r.fixLineWidth=!0,r.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(r){var t=r.originalEvent.touches,e=t[0],n=t[1];r.preventDefault(),!!n&&(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(r){if(!!this.moveable){r.preventDefault();var t=r.originalEvent.touches,e=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(w,L){return Math.hypot(L.x-w.x,L.y-w.y)},o=a({x:e.pageX,y:e.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),u=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>u||s<l)){var c=this.graph.get("canvas"),h=c.getPointByClient(r.clientX,r.clientY);this.graph.zoomTo(s,{x:h.x,y:h.y}),this.graph.emit("wheelzoom",r)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(r){var t=this,e=this,n=e.graph,a=e.fixSelectedItems;if(!!this.shouldUpdate.call(this,r)){r.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(r.clientX,r.clientY),l=this.get("sensitivity"),u=n.getZoom(),c=u,h=u;r.wheelDelta<0?c=1-Ym*l:c=1/(1-Ym*l),h=u*c;var g=this.get("minZoom")||n.get("minZoom"),w=this.get("maxZoom")||n.get("maxZoom");if(!(h>w||h<g)){var L=this.get("enableOptimize");if(L){var D=this.get("optimizeZoom"),N=this.get("optimized"),H=n.getNodes(),X=n.getEdges(),mt=H.length,xt=X.length;if(!N){for(var Pt=0;Pt<mt;Pt++){var Ht=H[Pt];if(!Ht.destroyed)for(var te=Ht.get("group").get("children"),oe=te.length,qt=0;qt<oe;qt++){var we=te[qt];!we.destoryed&&!we.get("isKeyShape")&&we.hide()}}for(var Ie=0;Ie<xt;Ie++)for(var Pe=X[Ie],te=Pe.get("group").get("children"),oe=te.length,qt=0;qt<oe;qt++){var we=te[qt];we.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Ke=setTimeout(function(){var fn=n.getZoom(),Cn=t.get("optimized");if(Cn){t.set("optimized",!1);for(var Dn=0;Dn<mt;Dn++){var ri=H[Dn],Wn=ri.get("group").get("children"),fi=Wn.length;if(fn<D)ri.getKeyShape().show();else for(var pi=0;pi<fi;pi++){var Hi=Wn[pi];Hi.get("visible")||Hi.show()}}for(var Ki=0;Ki<xt;Ki++){var Ci=X[Ki],Wn=Ci.get("group").get("children"),fi=Wn.length;if(fn<D)Ci.getKeyShape().show();else for(var pi=0;pi<fi;pi++){var Hi=Wn[pi];Hi.get("visible")||Hi.show()}}}},500);this.set("timeout",Ke)}if(u<=1){var ar=void 0,rr=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){ar=n.findAllByState("node",a.fixState),rr=n.findAllByState("edge",a.fixState);for(var Mr=u/h,Ar=ar.length,Pr=0;Pr<Ar;Pr++){var Ht=ar[Pr],xr=Ht.getContainer(),br=Ht.getModel(),Xr=Ht.getOriginStyle(),zr=Ht.getStateStyle(a.fixState),Kr=Ht.get("shapeFactory").getShape(br.shape||br.type).getStateStyle(a.fixState,Ht)[a.fixState];if(a.fixAll){if(h<=1){var Or=(0,f.clone)(xr.getMatrix());Or||(Or=[1,0,0,0,1,0,0,0,1]);var Hr=Ht.getModel(),an=Hr.x,Ur=Hr.y;lo.translate(Or,Or,[-an,-Ur]),lo.scale(Or,Or,[Mr,Mr]),lo.translate(Or,Or,[an,Ur]),xr.setMatrix(Or)}}else for(var te=xr.get("children"),oe=te.length,qt=0;qt<oe;qt++){var we=te[qt],jr=void 0,ln=void 0;if(a.fixLabel){var xn=we.get("type");if(xn==="text"){jr=we.attr("fontSize")||12;var tn=zr[we.get("name")],vr=Kr[we.get("name")],Lr=tn?tn.fontSize:12,un=vr?vr.fontSize:12,hn=Lr||un||12;if(h<=1&&we.attr("fontSize",hn/h),ln)break}}if(a.fixLineWidth&&we.get("isKeyShape")){ln=we.attr("lineWidth")||0;var nn=zr.lineWidth||Kr.lineWidth||Xr.lineWidth||0;if(h<=1&&we.attr("lineWidth",nn/h),jr)break}}}for(var Sn=rr.length,yn=0;yn<Sn;yn++)for(var Pe=rr[yn],xr=Pe.getContainer(),te=xr.get("children"),br=Pe.getModel(),zr=Pe.getStateStyle(a.fixState),Kr=Pe.get("shapeFactory").getShape(br.shape||br.type).getStateStyle(a.fixState,Pe)[a.fixState],oe=te.length,qt=0;qt<oe;qt++){var we=te[qt],jr=void 0,ln=void 0;if(a.fixLabel||a.fixAll){var xn=we.get("type");if(xn==="text"){jr=we.attr("fontSize")||12;var tn=zr[we.get("name")],vr=Kr[we.get("name")],Lr=tn?tn.fontSize:12,un=vr?vr.fontSize:12,hn=Lr||un||12;if(h<=1&&we.attr("fontSize",hn/h),ln)break}}if((a.fixLineWidth||a.fixAll)&&we.get("isKeyShape")){ln=we.attr("lineWidth")||0;var nn=zr.lineWidth||Kr.lineWidth||1;if(h<=1&&we.attr("lineWidth",nn/h),jr)break}}}}n.zoomTo(h,{x:s.x,y:s.y}),n.emit("wheelzoom",r)}}}},Kn=v(1513),Si=v(57821),zm={onMouseEnter:function(r){var t=r.item;this.currentTarget=t,this.showTooltip(r),this.graph.emit("tooltipchange",{item:r.item,action:"show"})},onMouseMove:function(r){if(!this.shouldUpdate(r)){this.hideTooltip();return}!this.currentTarget||r.item!==this.currentTarget||this.updatePosition(r)},onMouseLeave:function(r){!this.shouldEnd(r)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(r){var t=this.container;if(!(!r.item||r.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(r.item.get("model"),r);t.innerHTML=e,(0,Kn.Z)(this.container,{visibility:"visible"}),this.updatePosition(r)}},hideTooltip:function(){(0,Kn.Z)(this.container,{visibility:"hidden"})},updatePosition:function(r){var t=this.get("shouldBegin"),e=this,n=e.width,a=e.height,o=e.container,s=e.graph;if(!t(r)){(0,Kn.Z)(o,{visibility:"hidden"});return}var l=s.getPointByClient(r.clientX,r.clientY),u=s.getCanvasByPoint(l.x,l.y),c=u.x,h=u.y,g=o.getBoundingClientRect();c>n/2?c-=g.width:c+=this.offset,h>a/2?h-=g.height:h+=this.offset;var w=c+"px",L=h+"px";(0,Kn.Z)(this.container,{left:w,top:L,visibility:"visible"})},createTooltip:function(r){var t=r.get("el");t.style.position="relative";var e=(0,Si.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),(0,Kn.Z)(e,{position:"absolute",visibility:"visible"}),this.width=r.get("width"),this.height=r.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},tN=ce({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},zm),eN=ce({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},zm),Zi=v(90497),rN={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(!!n){var a=t.get("customGroupControll"),o=a.customGroup,s=o[n].nodeGroup;this.targetGroup=s,this.mouseOrigin={x:r.x,y:r.y};for(var l=t.save().groups,u=null,c=0;c<l.length;c++){var h=l[c];if(n===h.id){u=h.parentId;break}}if(u){var g=o[u].nodeGroup;a.setGroupStyle(g.get("keyShape"),"hover")}}},onDrag:function(r){!this.mouseOrigin||this.updateDelegate(r)},onDragEnd:function(r){var t=this.graph,e=r.target.get("groupId");if(this.delegateShapes[e]&&(this.delegateShapeBBox=this.delegateShapes[e].getBBox(),this.delegateShapes[e].remove(),delete this.delegateShapes[e]),!!this.delegateShapeBBox){var n=t.get("customGroupControll"),a=this.delegateShapeBBoxs[e];n.updateGroup(e,a,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(r){var t=this.graph,e=r.target.get("groupId"),n=this.targetGroup.get("keyShape"),a=this.delegateShapes[e],o=n.getBBox(),s=n.get("type");if(a){var H=this,X=H.mouseOrigin,mt=H.shapeOrigin,xt=r.x-X.x,Pt=r.y-X.y,Ht=xt+mt.x,te=Pt+mt.y;a.attr({x:Ht,y:te}),this.delegateShapeBBoxs[e]=a.getBBox()}else{var l=t.get("delegateGroup"),u=o.x,c=o.y,h=o.width,g=o.height,w=ce({width:h,height:g},(0,Zi.default)({},yr.delegateStyle,this.delegateStyle));if(s==="circle"){var L=h>g?h/2:g/2,D=u+L,N=c+L;a=l.addShape("circle",{attrs:ce({x:D,y:N,r:L},w),name:"circle-delegate-shape"}),this.shapeOrigin={x:D,y:N}}else a=l.addShape("rect",{attrs:ce({x:u,y:c},w),name:"rect-delegate-shape"}),this.shapeOrigin={x:u,y:c};this.delegateShapes[e]=a,this.delegateShapeBBoxs[e]=a.getBBox()}},onOutOfRange:function(r){var t=this,e=this.graph.get("canvas").get("el"),n=function a(o){o.target!==e&&(t.onDragEnd(r),document.body.removeEventListener("mouseup",a,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",n,!0)}},nN=document.body,iN={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");this.inGroupId=n,a.setGroupStyle(l,"hover")}}},onDragLeave:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");a.setGroupStyle(l,"default")}}n||(this.inGroupId=null)},onDragStart:function(r){var t=this.graph;if(!!this.shouldBegin.call(this,r)){var e=r.item;this.target=e;var n=e.getModel(),a=n.groupId;if(a){var o=t.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");o.setGroupStyle(u,"hover"),this.inGroupId=a}}this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}},onDrag:function(r){if(!!this.origin&&!!this.get("shouldUpdate").call(this,r)){this.update(this.target,r,!0);var t=r.item,e=this.graph,n=t.getModel(),a=n.groupId;if(a){var o=e.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");this.inGroupId!==a?o.setGroupStyle(u,"default"):o.setGroupStyle(u,"hover")}}}},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,r),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(r)}},setCurrentGroupStyle:function(r){var t=this.graph,e=r.item,n=e.getModel(),a=n.groupId,o=n.id,s=t.get("customGroupControll"),l=s.customGroup,u=t.get("groupNodes");if(this.inGroupId&&a){var c=l[a].nodeGroup;if(!c)return;var h=c.get("keyShape"),g=e.getBBox(),w=h.getBBox(),L=g.centerX,D=g.centerY,N=w.minX,H=w.minY,X=w.maxX,mt=w.maxY;if(!(L<X*this.maxMultiple&&L>N*this.minMultiple&&D<mt*this.maxMultiple&&D>H*this.minMultiple)||this.inGroupId!==a){var xt=u[a];u[a]=xt.filter(function(te){return te!==o}),s.dynamicChangeGroupSize(r,c,h),delete n.groupId}if(this.inGroupId!==a){var Pt=l[this.inGroupId].nodeGroup;if(!Pt)return;var Ht=Pt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,Pt,Ht)}s.setGroupStyle(h,"default")}else if(this.inGroupId&&!a){var Pt=l[this.inGroupId].nodeGroup;if(!Pt)return;var h=Pt.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,Pt,h)}else if(!this.inGroupId&&a){Object.keys(u).forEach(function(qt){var we=u[qt];u[qt]=we.filter(function(Ie){return Ie!==o})});var c=l[a].nodeGroup;if(!c)return;var h=c.get("keyShape");s.dynamicChangeGroupSize(r,c,h),delete n.groupId}this.inGroupId=null},onOutOfRange:function(r){var t=this,e=t.graph.get("canvas").get("el");function n(a){a.target!==e&&(r.item=t.target,t.onDragEnd(r),document.body.removeEventListener("mouseup",n,!0))}t.origin&&nN.addEventListener("mouseup",n,!0)},update:function(r,t,e){var n=this.origin,a=r.get("model"),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;if(e){this.updateDelegate(t,s,l);return}var u={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(r,u):(r.updatePosition(u),this.graph.paint())},updateDelegate:function(r,t,e){var n=this.graph,a=r.item,o=n.get("groupType"),s=a.get("keyShape").getBBox();if(!this.shape){var l=n.get("delegateGroup"),u=(0,Zi.default)({},yr.delegateStyle,this.delegateStyle);this.target&&(this.shape=l.addShape("rect",{attrs:ce({width:s.width,height:s.height,x:t-s.width/2,y:e-s.height/2},u),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(o==="circle"?this.shape.attr({x:t-s.width/2,y:e-s.height/2}):o==="rect"&&this.shape.attr({x:t,y:e}))}},Vm="dblclick",aN=["click","dblclick"],oN={getDefaultCfg:function(){return{trigger:Vm}},getEvents:function(){var r,t;return aN.includes(this.trigger)?t=this.trigger:(t=Vm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r[""+t]="onGroupClick",r},onGroupClick:function(r){var t=r.target,e=this.graph,n=t.get("groupId");if(!!n){var a=e.get("customGroupControll");a.collapseExpandGroup(n)}}},Xm="click",sN=["click","dblclick"],lN={getDefaultCfg:function(){return{trigger:Xm,onChange:function(){}}},getEvents:function(){var r,t;return sN.includes(this.trigger)?t=this.trigger:(t=Xm,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["node:"+t]="onNodeClick",r.touchstart="onNodeClick",r},onNodeClick:function(r){var t=r.item,e=this.graph.findDataById(t.get("id"));if(!!e){var n=e.children;if(!(!n||n.length===0)){var a=!e.collapsed;if(!!this.shouldBegin(r,a)&&(e.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:r.item,collapsed:a}),!!this.shouldUpdate(r,a))){try{this.onChange(t,a)}catch(o){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",o)}this.graph.layout()}}}}},uN=function i(r,t){if(t(r)!==!1&&r){var e=r.get("combos");if(e.length===0)return!1;(0,di.S6)(e,function(n){i(n,t)})}},fN={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(r){var t=r.item;if(!t||t.destroyed||!this.shouldUpdate(this,r))return!1;var e=t.getType();return e==="combo"},onDragStart:function(r){var t=this,e=this.graph,n=r.item;if(!!this.validationCombo(r)){this.targets=[];var a=e.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var u=l.get("id");return o===u});s.length===0?this.targets.push(n):this.targets=a,this.activeState&&this.targets.map(function(l){var u=l.getModel();if(u.parentId){var c=e.findById(u.parentId);c&&e.setItemState(c,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:r.x,y:r.y},this.currentItemChildCombos=[],uN(n,function(l){if(l.destroyed)return!1;var u=l.getModel();return t.currentItemChildCombos.push(u.id),!0})}},onDrag:function(r){var t=this;if(!!this.origin&&!!this.validationCombo(r))if(this.enableDelegate)this.updateDelegate(r);else{if(this.activeState){var e=this.graph,n=r.item,a=n.getModel(),o=e.getCombos(),s=n.getBBox(),l=s.centerX,u=s.centerY,c=s.width,h=o.filter(function(g){var w=g.getModel();return a.parentId,w.id!==a.id&&!t.currentItemChildCombos.includes(w.id)});h.map(function(g){var w=g.getBBox(),L=w.centerX,D=w.centerY,N=w.width,H=l-L,X=u-D,mt=2*Math.sqrt(H*H+X*X);c+N-mt>.8*c?e.setItemState(g,t.activeState,!0):e.setItemState(g,t.activeState,!1)})}(0,di.S6)(this.targets,function(g){t.updateCombo(g,r)})}},updatePositions:function(r){var t=this;this.enableDelegate&&(0,di.S6)(this.targets,function(e){t.updateCombo(e,r)})},onDrop:function(r){var t=this,e=r.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(r);var n=this.graph,a=e.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id)):n.updateCombo(e)}),this.end(e,r),this.endComparison=!0}},onNodeDrop:function(r){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(r);var e=this.graph,n=r.item,a=n.getModel().comboId,o;if(a){if(this.activeState){var s=e.findById(a);e.setItemState(s,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?e.updateCombo(l):a!==l.getID()&&(o=e.findById(a),a!==l.getModel().parentId&&e.updateComboTree(l,a))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)e.updateCombo(l);else{var u=l.getModel();u.comboId&&e.updateComboTree(l)}});this.endComparison=!0,this.end(o,r)}},onDragEnter:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(r){if(!(!this.targets||this.targets.length===0)){var t=r.item;this.updatePositions(r);var e=this.getParentCombo(t.getModel().parentId),n=this.graph;e&&this.activeState&&n.setItemState(e,this.activeState,!1),this.end(void 0,r)}},end:function(r,t){var e=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}r&&this.activeState&&n.setItemState(r,this.activeState,!1),r||this.targets.map(function(o){e.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(r,t){var e=this;if(t(r)!==!1&&r){var n=r.get("combos");(0,di.S6)(n,function(o){e.traverse(o,t)});var a=r.get("nodes");(0,di.S6)(a,function(o){e.traverse(o,t)})}},updateCombo:function(r,t){var e=this;this.traverse(r,function(n){return n.destroyed?!1:(e.updateSignleItem(n,t),!0)})},updateSignleItem:function(r,t){var e=this.origin,n=this.graph,a=r.getModel(),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-e.x+this.point[o].x,l=t.y-e.y+this.point[o].y;n.updateItem(r,{x:s,y:l})},getParentCombo:function(r){var t=this.graph;if(!!r){var e=t.findById(r);if(!!e)return e}},updateDelegate:function(r){var t=this.graph;if(this.delegateShape){var g=r.x-this.origin.x+this.originPoint.minX,w=r.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:g,y:w})}else{var e=t.get("delegateGroup"),n=null;this.targets.length>1?n=Em(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,u=n.minX,c=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:u,minY:c};var h=ce(ce({},yr.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:ce({width:n.width,height:n.height,x:n.x,y:n.y},h),name:"combo-delegate-shape"})}}},Hm="dblclick",cN=["click","dblclick"],hN={getDefaultCfg:function(){return{trigger:Hm,relayout:!0}},getEvents:function(){var r,t;return cN.includes(this.trigger)?t=this.trigger:(t=Hm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["combo:"+t]="onComboClick",r},onComboClick:function(r){var t=r.item,e=this,n=e.graph,a=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},Wm=function(r,t,e){return r>=t&&r<=e},Rs=function(r,t,e,n){var a=.001,o={x:e.x-r.x,y:e.y-r.y},s={x:t.x-r.x,y:t.y-r.y},l={x:n.x-e.x,y:n.y-e.y},u=s.x*l.y-s.y*l.x,c=u*u,h=s.x*s.x+s.y*s.y,g=l.x*l.x+l.y*l.y,w=null;if(c>a*h*g){var L=(o.x*l.y-o.y*l.x)/u,D=(o.x*s.y-o.y*s.x)/u;Wm(L,0,1)&&Wm(D,0,1)&&(w={x:r.x+L*s.x,y:r.y+L*s.y})}return w},jm=function(r,t){var e=r.x,n=r.y,a=r.width,o=r.height,s=e+a/2,l=n+o/2,u=[],c={x:s,y:l};u.push({x:e,y:n}),u.push({x:e+a,y:n}),u.push({x:e+a,y:n+o}),u.push({x:e,y:n+o}),u.push({x:e,y:n});for(var h=null,g=1;g<u.length&&(h=Rs(u[g-1],u[g],c,t),!h);g++);return h},Um=function(r,t){var e=r.x,n=r.y,a=r.r,o=t.x,s=t.y,l=o-e,u=s-n,c=Math.sqrt(l*l+u*u);if(c<a)return null;var h=Math.sign(l),g=Math.sign(u),w=Math.atan(u/l);return{x:e+Math.abs(a*Math.cos(w))*h,y:n+Math.abs(a*Math.sin(w))*g}},Zm=function(r,t){var e=r.rx,n=r.ry,a=r.x,o=r.y,s=t.x-a,l=t.y-o,u=Math.atan2(l/n,s/e);return u<0&&(u+=2*Math.PI),{x:a+e*Math.cos(u),y:o+n*Math.sin(u)}},Ns=function(r,t,e){e===void 0&&(e=1);var n=[r.x,r.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Gm.transformMat3(n,n,t),{x:n[0],y:n[1]}},Qm=function(r,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=lo.invert([],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[r.x,r.y,e];return Gm.transformMat3(a,a,n),{x:a[0],y:a[1]}},jc=function(r,t,e){var n=r.x-t.x,a=r.y-t.y,o=r.x-e.x,s=r.y-e.y,l=(r.x*r.x-t.x*t.x-t.y*t.y+r.y*r.y)/2,u=(r.x*r.x-e.x*e.x-e.y*e.y+r.y*r.y)/2,c=a*o-n*s;return{x:-(s*l-a*u)/c,y:-(n*u-o*l)/c}},Gs=function(r,t){var e=r.x-t.x,n=r.y-t.y;return Math.sqrt(e*e+n*n)},Km=function(r,t){var e=[];return r.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),e.push(a)}),e},Uc=function(r){for(var t=[],e=r.length,n=0;n<e;n+=1){t[n]=[];for(var a=0;a<e;a+=1)n===a?t[n][a]=0:r[n][a]===0||!r[n][a]?t[n][a]=Infinity:t[n][a]=r[n][a]}for(var o=0;o<e;o+=1)for(var n=0;n<e;n+=1)for(var a=0;a<e;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},Zc=function(r,t){var e=r.nodes,n=r.edges,a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.id]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.source,u=s.target,c=o[l],h=o[u];a[c][h]=1,t||(a[h][c]=1)}),a},$m=function(r,t){r.translate(t.x,t.y)},Jm=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=r.getCanvasBBox(),a=t.x-n.minX,o=t.y-n.minY,s=ja(e,[["t",a,o]]);r.setMatrix(s)},vN=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=t;(0,Yi.default)(t)||(n=[t,t]),(0,Yi.default)(t)&&t.length===1&&(n=[t[0],t[0]]),e=ja(e,[["s",n[0],n[1]]]),r.setMatrix(e)},dN=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=ja(e,[["r",t]]),r.setMatrix(e)},hu=function(r,t,e){for(var n=[],a=0;a<r;a++)n[a]=0;return e.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function pN(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}var Ys=function(r,t,e){var n=!1,a=r.length,o=1e-6;function s(h){return Math.abs(h)<o?0:h<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var u=r[l],c=r[(l+1)%a];if(pN(u,c,[t,e]))return!0;s(u[1]-e)>0!=s(c[1]-e)>0&&s(t-(e-u[1])*(u[0]-c[0])/(u[1]-c[1])-u[0])<0&&(n=!n)}return n},qm=function(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)},gN=function(r,t){var e=!1;return(0,f.each)(r,function(n){if(Rs(n.from,n.to,t.from,t.to))return e=!0,!1}),e},Qc=function(r,t){var e=function(g){var w=g.map(function(D){return D[0]}),L=g.map(function(D){return D[1]});return{minX:Math.min.apply(null,w),maxX:Math.max.apply(null,w),minY:Math.min.apply(null,L),maxY:Math.max.apply(null,L)}},n=function(g){for(var w=[],L=g.length,D=0;D<L-1;D++){var N=g[D],H=g[D+1];w.push({from:{x:N[0],y:N[1]},to:{x:H[0],y:H[1]}})}if(w.length>1){var X=g[0],mt=g[L-1];w.push({from:{x:mt[0],y:mt[1]},to:{x:X[0],y:X[1]}})}return w};if(r.length<2||t.length<2)return!1;var a=e(r),o=e(t);if(!qm(a,o))return!1;var s=!1;if((0,f.each)(t,function(h){if(Ys(r,h[0],h[1]))return s=!0,!1}),s||((0,f.each)(r,function(h){if(Ys(t,h[0],h[1]))return s=!0,!1}),s))return!0;var l=n(r),u=n(t),c=!1;return(0,f.each)(u,function(h){if(gN(l,h))return c=!0,!1}),c},Yo=function(){function i(r,t,e,n){this.x1=r,this.y1=t,this.x2=e,this.y2=n}return i.prototype.getBBox=function(){var r=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:r,y:t,minX:r,minY:t,maxX:e,maxY:n,width:e-r,height:n-t};return a},i}(),Kc=function(r,t){var e={top:[r.minX,r.minY,r.maxX,r.minY],left:[r.minX,r.minY,r.minX,r.maxY],bottom:[r.minX,r.maxY,r.maxX,r.maxY],right:[r.maxX,r.minY,r.maxX,r.maxY]};return e[t]},yN=function(r,t){var e=(t.x2-t.x1)*(r.y1-t.y1)-(t.y2-t.y1)*(r.x1-t.x1),n=(r.x2-r.x1)*(r.y1-t.y1)-(r.y2-r.y1)*(r.x1-t.x1),a=(t.y2-t.y1)*(r.x2-r.x1)-(t.x2-t.x1)*(r.y2-r.y1);if(a){var o=e/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},tx=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=0,o=[],s=0;s<4;s++){var l=Kc(n,e[s]),u=l[0],c=l[1],h=l[2],g=l[3];o[s]=Rs({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:c},{x:h,y:g}),o[s]&&(a+=1)}return[o,a]},$c=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=Kc(n,e[s]),u=l[0],c=l[1],h=l[2],g=l[3],w=yN(t,new Yo(u,c,h,g));w=Math.abs(w-.5),w>=0&&w<=1&&(o+=1,a=w<a?w:a)}return o===0?-1:a},ex=function(r){var t=0,e=0;if(r.length>0){for(var n=0,a=r;n<a.length;n++){var o=a[n];t+=o.x,e+=o.y}t/=r.length,e/=r.length}return{x:t,y:e}},vu=function(r,t){return Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)},rx=function(r,t){var e=t.x1,n=t.y1,a=t.x2-e,o=t.y2-n,s=r.x-e,l=r.y-n,u=s*a+l*o,c;u<=0?c=0:(s=a-s,l=o-l,u=s*a+l*o,u<=0?c=0:c=u*u/(a*a+o*o));var h=s*s+l*l-c;return h<0&&(h=0),h},Jc=function(r,t,e){return e===void 0&&(e=.001),Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)<Math.pow(e,2)},nx=function(r,t){var e=r.x<t.x,n=r.x>t.x+t.width,a=r.y>t.y+t.height,o=r.y<t.y,s=e||n||a||o;if(!s)return 0;if(a&&!e&&!n)return Math.pow(t.y+t.height-r.y,2);if(o&&!e&&!n)return Math.pow(r.y-t.y,2);if(e&&!a&&!o)return Math.pow(t.x-r.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-r.x,2);var l=Math.min(Math.abs(t.x-r.x),Math.abs(t.x+t.width-r.x)),u=Math.min(Math.abs(t.y-r.y),Math.abs(t.y+t.height-r.y));return l*l+u*u},mN=function(r,t){return!r||!t?r:r.replace(/\\?\{([^{}]+)\}/g,function(e,n){if(e.charAt(0)==="\\")return e.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},ix=function(r){var t=[];if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);for(var e=0,n=r;e<n.length;e++){var a=n[e],o=a.x,s=a.y;t.push(o),t.push(s)}var l=(0,al.catmullRom2Bezier)(t);return l.unshift(["M",r[0].x,r[0].y]),l},du=function(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var a={x:(1-e)*r.x+e*t.x,y:(1-e)*r.y+e*t.y},o=[];oi.normalize(o,[t.x-r.x,t.y-r.y]),o.length===0&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},ax=function(r,t){var e=r.length;if(!e)return"";for(var n="",a="",o=0;o<e;o++){var s=r[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=mN(a,s)}return t&&(n+="Z"),n},pu=function(r){var t=[];return r.forEach(function(e){var n=e[0];if(n!=="A")for(var a=1;a<e.length;a=a+2)t.push([e[a],e[a+1]]);else{var o=e.length;t.push([e[o-2],e[o-1]])}}),t},qc=function(r){if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);var t=r[0],e=r[1],n=r[r.length-1],a=r[r.length-2];r.unshift(n),r.unshift(a),r.push(t),r.push(e);for(var o=[],s=1;s<r.length-2;s+=1){var l=r[s-1].x,u=r[s-1].y,c=r[s].x,h=r[s].y,g=r[s+1].x,w=r[s+1].y,L=s!==r.length-2?r[s+2].x:g,D=s!==r.length-2?r[s+2].y:w,N=c+(g-l)/6,H=h+(w-u)/6,X=g-(L-c)/6,mt=w-(D-h)/6;o.push(["C",N,H,X,mt,g,w])}return o.unshift(["M",n.x,n.y]),o},ox=function(r,t){return oi.scale([],oi.normalize([],r),t)},sx=function(r,t){var e=[r[1]-t[1],t[0]-r[0]],n=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[e[0]/n,e[1]/n]},lx=function(r,t){return[t[0]-r[0],t[1]-r[1]]};function ux(i,r){var t=function(h){var g=[h[0][0],h[0][1]-r],w=[h[0][0],h[0][1]+r];return"M "+g+" A "+r+","+r+",0,0,0,"+w+" A "+r+","+r+",0,0,0,"+g},e=function(h){var g=oi.scale([],sx(h[0],h[1]),r),w=oi.scale([],g,-1),L=oi.add([],h[0],g),D=oi.add([],h[1],g),N=oi.add([],h[1],w),H=oi.add([],h[0],w);return"M "+L+" L "+D+" A "+[r,r,"0,0,0",N].join(",")+" L "+H+" A "+[r,r,"0,0,0",L].join(",")};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return e(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],l=oi.scale([],sx(o,s),r);n[a]=[oi.add([],o,l),oi.add([],s,l)]}var u="A "+[r,r,"0,0,0,"].join(",");return n=n.map(function(c,h){var g="";return h===0&&(g="M "+n[n.length-1][1]+" "),g+=u+c[0]+" L "+c[1],g}),n.join(" ")}function fx(i,r){var t=i.length,e=function(c){var h=[c[0][0],c[0][1]-r],g=[c[0][0],c[0][1]+r];return"M "+h+" A "+[r,r,"0,0,0",g].join(",")+" A "+[r,r,"0,0,0",h].join(",")},n=function(c){var h=lx(c[0],c[1]),g=ox(h,r),w=oi.add([],c[0],oi.scale([],g,-1)),L=oi.add([],c[1],g),D=1.2*r,N=ox(oi.normalize([],h),D),H=oi.scale([],N,-1),X=oi.add([],w,H),mt=oi.add([],L,H),xt=oi.add([],w,N);return"M "+w+" C "+[X,mt,L].join(",")+" S "+[xt,w].join(",")+" Z"};if(!i||t<1)return"";if(t===1)return e(i);if(t===2)return n(i);for(var a=i.map(function(u,c){var h=i[(c+1)%t];return{p:u,v:oi.normalize([],lx(u,h))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=oi.normalize([],oi.add([],a[s].v,oi.scale([],a[o].v,-1)));a[o].p=oi.add([],a[o].p,oi.scale([],l,r))}return a.map(function(u){var c=u.p;return{x:c[0],y:c[1]}})}var cx="shift",xN=["drag","shift","ctrl","alt","control"],bN=function(r,t){var e,n=r.getKeyShape();if(r.get("type")==="path")e=pu(n.attr("path"));else{var a=n.getCanvasBBox();e=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return Qc(t,e)},wN={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:cx,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return xN.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=cx,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(r){var t=this.lasso,e=r.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:r.x,y:r.y},this.points.push(this.originPoint),t.show())},onDragMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:r.x,y:r.y}),this.updateLasso(r))},onDragEnd:function(r){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var r=this.points,t=[];return r.length&&(r.forEach(function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",r[0].x,r[0].y])),t},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var r=this,t=this,e=t.graph,n=t.shouldUpdate,a=this.points.map(function(c){return[e.getCanvasByPoint(c.x,c.y).x,e.getCanvasByPoint(c.x,c.y).y]}),o=this.selectedState,s=[],l=[];e.getNodes().forEach(function(c){if(bN(c,a)&&n(c,"select")){s.push(c);var h=c.getModel();l.push(h.id),e.setItemState(c,o,!0)}});var u=[];this.includeEdges&&s.forEach(function(c){var h=c.getOutEdges();h.forEach(function(g){var w=g.getModel(),L=w.source,D=w.target;l.includes(L)&&l.includes(D)&&n(g,"select")&&(u.push(g),e.setItemState(g,r.selectedState,!0))})}),this.selectedEdges=u,this.selectedNodes=s,this.onSelect&&this.onSelect(s,u),e.emit("nodeselectchange",{selectedItems:{nodes:s,edges:u},select:!0})},createLasso:function(){var r=this,t=r.graph.get("delegateGroup").addShape("path",{attrs:ce({path:[]},r.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(r){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},hx="click",SN=["click","drag"],vx=void 0,CN=["shift","ctrl","control","alt","meta",void 0],MN={getDefaultCfg:function(){return{trigger:hx,key:vx,edgeConfig:{}}},getEvents:function(){var r=this;SN.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=hx,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),r.key&&CN.indexOf(r.key.toLowerCase())===-1&&(r.trigger=vx,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return r.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:r.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),r.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:r.x,y:r.y})}},onClick:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item,n=t.graph,a=e.getModel();if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,r))return;var o={target:a.id};t.source===a.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,o),n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,r))return;t.edge=n.addItem("edge",ce({source:a.id,target:a.id},t.edgeConfig),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(r){var t=this;if(!(t.key&&!t.keydown)){var e={x:r.x,y:r.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,n=r.item;if(t.addingEdge&&r.target&&r.target.isCanvas&&r.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}if(t.addingEdge&&t.edge===n){var a=!0;if(!e.get("groupByTypes"))for(var o=r.x,s=r.y,l=e.getNodes(),u=l.length,c=0;c<u;c++){var h=l[c],g=h.getModel(),w=h.getBBox();if(o<=w.maxX&&o>=w.minX&&s<=w.maxY&&s>=w.minY){if(!t.shouldEnd.call(t,{x:r.x,y:r.y,canvasX:r.canvasX,canvasY:r.canvasY,clientX:r.clientX,clientY:r.clientY,item:h}))return;e.emit("beforecreateedge",{}),e.updateItem(t.edge,{target:g.id}),e.emit("aftercreateedge",{edge:t.edge}),a=!1;break}}a&&e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1}}},onKeyDown:function(r){var t=this,e=r.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var r=this;r.addingEdge&&r.edge&&(r.graph.removeItem(r.edge,!1),r.addingEdge=!1,r.edge=null),this.keydown=!1}},dx="ctrl",EN=["shift","ctrl","alt","control"],AN="1",TN={getDefaultCfg:function(){return{trigger:dx,combinedKey:AN,functionName:"fitView",functionParams:[]}},getEvents:function(){return EN.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=dx,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},PN={"drag-canvas":RR,"zoom-canvas":qR,"drag-node":jR,"activate-relations":UR,"brush-select":QR,"click-select":$R,"lasso-select":wN,tooltip:tN,"edge-tooltip":eN,"drag-group":rN,"drag-node-with-group":iN,"collapse-expand-group":oN,"collapse-expand":lN,"drag-combo":fN,"collapse-expand-combo":hN,"create-edge":MN,"shortcuts-call":TN};(0,Zn.default)(PN,function(i,r){Gc.registerBehavior(r,i)});var px=Gc,zo=v(19083),zs=v(19270),Ba=v(27549),gx=v(54544),ON=function(r){var t=(0,gx.default)(r.groups,"id"),e=(0,gx.default)(r.groups,"parentId"),n={};for(var a in e)if(!!a){var o=e[a],s=t[a];if(s&&o){var l=Fs(o,s);n[a]=l}else o&&(n[a]=o)}var u=ce(ce({},t),n),c={};for(var h in u)if(!(!h||h==="undefined")){var o=u[h].map(function(D){return D.id});c[h]=o}var g={},w=function(D){if(!D||D==="undefined")return"continue";for(var N=c[D],H=[],X=0,mt=N;X<mt.length;X++){var xt=mt[X],Pt=u[xt].map(function(te){return te.id});H.push.apply(H,Pt)}var Ht=r.nodes?r.nodes.filter(function(te){return H.indexOf(te.groupId)>-1||H.indexOf(te.parentId)>-1}).map(function(te){return te.id}):[];g[D]=Ht};for(var h in c)w(h);return g},IN=function(){function i(r){this.graph=r,this.destroyed=!1,this.modes=r.get("modes")||{default:[]},this.formatModes(),this.mode=r.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var r=this.modes;(0,Zn.default)(r,function(t){(0,Zn.default)(t,function(e,n){(0,Hn.default)(e)&&(t[n]={type:e})})})},i.prototype.setBehaviors=function(r){var t=this.graph,e=this.modes[r],n=[],a;(0,Zn.default)(e||[],function(o){var s=Gc.getBehavior(o.type);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(r,t){return(0,Zn.default)(t,function(e){r.indexOf(e)<0&&((0,Hn.default)(e)&&(e={type:e}),r.push(e))}),r},i.filterBehaviors=function(r,t){var e=[];return r.forEach(function(n){var a="";(0,Hn.default)(n)?a=n:a=n.type,t.indexOf(a)<0&&e.push(n)}),e},i.prototype.setMode=function(r){var t=this,e=t.modes,n=t.graph,a=r,o=e[a];!o||(n.emit("beforemodechange",{mode:r}),(0,Zn.default)(this.currentBehaves,function(s){s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:r}),this.mode=r)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(r,t,e){var n=this,a;if((0,Yi.default)(r)?a=r:a=[r],(0,Yi.default)(t))return(0,Zn.default)(t,function(s){n.modes[s]?e?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):e&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||e&&(this.modes[o]=a),e?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.setMode(this.mode),this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),kN=IN,LN=function(){function i(r){this.destroyed=!1,this.graph=r,this.destroyed=!1}return i.prototype.getViewCenter=function(){var r=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),n=t.get("height");return{x:(e-r[1]-r[3])/2+r[3],y:(n-r[0]-r[2])/2+r[0]}},i.prototype.fitCenter=function(){var r=this.graph,t=r.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var n=this.getViewCenter(),a={x:e.x+e.width/2,y:e.y+e.height/2};r.translate(n.x-a.x,n.y-a.y)}},i.prototype.fitView=function(){var r=this.graph,t=this.getFormatPadding(),e=r.get("width"),n=r.get("height"),a=r.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};r.translate(s.x-l.x,s.y-l.y);var u=(e-t[1]-t[3])/o.width,c=(n-t[0]-t[2])/o.height,h=u;u>c&&(h=c),r.zoom(h,s)}},i.prototype.getFormatPadding=function(){var r=this.graph.get("fitViewPadding");return Vc(r)},i.prototype.focusPoint=function(r,t,e){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-r.x)*s[0],u=(o.y-r.y)*s[4],c=0,h=0,g=0,w=0;this.graph.get("canvas").animate(function(L){g=l*L,w=u*L,n.graph.translate(g-c,w-h),c=g,h=w},ce({},e))}else this.graph.translate((o.x-r.x)*s[0],(o.y-r.y)*s[4])},i.prototype.getPointByCanvas=function(r,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=Qm({x:r,y:t},e);return n},i.prototype.getPointByClient=function(r,t){var e=this.graph.get("canvas"),n=e.getPointByClient(r,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(r,t){var e=this.graph.get("canvas"),n=this.getCanvasByPoint(r,t),a=e.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(r,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Ns({x:r,y:t},e)},i.prototype.focus=function(r,t,e){(0,Hn.default)(r)&&(r=this.graph.findById(r));var n=r.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r&&this.focusPoint({x:a[6],y:a[7]},t,e)},i.prototype.changeSize=function(r,t){var e=this.graph;if(!(0,Da.default)(r)||!(0,Da.default)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:r,height:t});var n=e.get("canvas");n.changeSize(r,t);var a=e.get("plugins");a.forEach(function(o){if(o.get("gridContainer")){var s=e.get("minZoom");(0,Kn.Z)(o.get("container"),{width:r+"px",height:t+"px"}),(0,Kn.Z)(o.get("gridContainer"),{width:r/s+"px",height:t/s+"px",left:0,top:0})}})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),_N=LN,Vs=v(73136),gu=v(61262),DN=function(){function i(r){this.preItem=null,this.graph=r,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return i.prototype.initEvents=function(){var r=this,t=r.graph,e=r.extendEvents,n=t.get("canvas"),a=n.get("el"),o=(0,gu.default)(this,"onCanvasEvents"),s=(0,gu.default)(this,"onExtendEvents"),l=(0,gu.default)(this,"onWheelEvent");n.on("*",o),this.canvasHandler=o,e.push((0,Vs.Z)(a,"DOMMouseScroll",l)),e.push((0,Vs.Z)(a,"mousewheel",l)),typeof window!="undefined"&&(e.push((0,Vs.Z)(window,"keydown",s)),e.push((0,Vs.Z)(window,"keyup",s)),e.push((0,Vs.Z)(window,"focus",s)))},i.getItemRoot=function(r){for(;r&&!r.get("item");)r=r.get("parent");return r},i.prototype.onCanvasEvents=function(r){var t=this.graph,e=t.get("canvas"),n=r.target,a=r.type;r.canvasX=r.x,r.canvasY=r.y;var o={x:r.canvasX,y:r.canvasY},s=t.get("group"),l=s.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),Mm(l)&&(o=t.getPointByClient(r.clientX,r.clientY)),r.x=o.x,r.y=o.y,r.currentTarget=t,n===e){a==="mousemove"&&this.handleMouseMove(r,"canvas"),r.target=e,r.item=null,t.emit(a,r),t.emit("canvas:"+a,r);return}var u=i.getItemRoot(n);if(!u){t.emit(a,r);return}var c=u.get("item");if(!c.destroyed){var h=c.getType();if(r.target=n,r.item=c,r.canvasX===r.x&&r.canvasY===r.y){var g=t.getCanvasByPoint(r.x,r.y);r.canvasX=g.x,r.canvasY=g.y}t.emit(a,r),r.name&&!r.name.includes(":")?t.emit(h+":"+a,r):t.emit(r.name,r),a==="dragstart"&&(this.dragging=!0),a==="dragend"&&(this.dragging=!1),a==="mousemove"&&this.handleMouseMove(r,h)}},i.prototype.onExtendEvents=function(r){this.graph.emit(r.type,r)},i.prototype.onWheelEvent=function(r){(0,Gi.default)(r.wheelDelta)&&(r.wheelDelta=-r.detail),this.graph.emit("wheel",r)},i.prototype.handleMouseMove=function(r,t){var e=this,n=e.graph,a=e.preItem,o=n.get("canvas"),s=r.target===o?null:r.item;r=su(r),a&&a!==s&&!a.destroyed&&(r.item=a,this.emitCustomEvent(a.getType(),"mouseleave",r),this.dragging&&this.emitCustomEvent(a.getType(),"dragleave",r)),s&&a!==s&&(r.item=s,this.emitCustomEvent(t,"mouseenter",r),this.dragging&&this.emitCustomEvent(t,"dragenter",r)),this.preItem=s},i.prototype.emitCustomEvent=function(r,t,e){e.type=t,this.graph.emit(r+":"+t,e)},i.prototype.destroy=function(){var r=this,t=r.graph,e=r.canvasHandler,n=r.extendEvents,a=t.get("canvas");a.off("*",e),(0,Zn.default)(n,function(o){o.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},i}(),BN=DN,yx=v(8289),mx=v(33643),xx=v(85260),FN=v(58070),RN={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Aa=Math.PI,th=Math.sin,eh=Math.cos,Vi=th(Aa/8),Xi=eh(Aa/8),yu=function(r,t){var e=r.getBBox(),n={x:e.minX,y:e.minY},a={x:e.maxX,y:e.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Ns(n,o),a=Ns(a,o)}var s=n.x,l=n.y,u=a.x,c=a.y;return{x:s,y:l,minX:s,minY:l,maxX:u,maxY:c,width:u-s,height:c-l}},bx=function(r){var t=r.sourceNode||r.targetNode,e=t.get("group"),n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=r.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,u=s.position||yr.defaultLoopPosition,c=[n[6],n[7]],h=[r.startPoint.x,r.startPoint.y],g=[r.endPoint.x,r.endPoint.y],w=o.height/2,L=o.height/2,D=w*Vi,N=w*Xi,H=L*Vi,X=L*Xi;if(h[0]===g[0]&&h[1]===g[1]){switch(u){case"top":h=[c[0]-D,c[1]-N],g=[c[0]+H,c[1]-X];break;case"top-right":w=o.height/2,L=o.width/2,D=w*Vi,N=w*Xi,H=L*Vi,X=L*Xi,h=[c[0]+D,c[1]-N],g=[c[0]+X,c[1]-H];break;case"right":w=o.width/2,L=o.width/2,D=w*Vi,N=w*Xi,H=L*Vi,X=L*Xi,h=[c[0]+N,c[1]-D],g=[c[0]+X,c[1]+H];break;case"bottom-right":w=o.width/2,L=o.height/2,D=w*Vi,N=w*Xi,H=L*Vi,X=L*Xi,h=[c[0]+N,c[1]+D],g=[c[0]+H,c[1]+X];break;case"bottom":w=o.height/2,L=o.height/2,D=w*Vi,N=w*Xi,H=L*Vi,X=L*Xi,h=[c[0]+D,c[1]+N],g=[c[0]-H,c[1]+X];break;case"bottom-left":w=o.height/2,L=o.width/2,D=w*Vi,N=w*Xi,H=L*Vi,X=L*Xi,h=[c[0]-D,c[1]+N],g=[c[0]-X,c[1]+H];break;case"left":w=o.width/2,L=o.width/2,D=w*Vi,N=w*Xi,H=L*Vi,X=L*Xi,h=[c[0]-N,c[1]+D],g=[c[0]-X,c[1]-H];break;case"top-left":w=o.width/2,L=o.height/2,D=w*Vi,N=w*Xi,H=L*Vi,X=L*Xi,h=[c[0]-N,c[1]-D],g=[c[0]-H,c[1]-X];break;default:w=o.width/2,L=o.width/2,D=w*Vi,N=w*Xi,H=L*Vi,X=L*Xi,h=[c[0]-D,c[1]-N],g=[c[0]+H,c[1]-X]}if(s.clockwise===!1){var mt=[h[0],h[1]];h=[g[0],g[1]],g=[mt[0],mt[1]]}}var xt=[h[0]-c[0],h[1]-c[1]],Pt=(w+l)/w,Ht=(L+l)/L;s.clockwise===!1&&(Pt=(L+l)/L,Ht=(w+l)/w);var te=oi.scale([],xt,Pt),oe=[c[0]+te[0],c[1]+te[1]],qt=[g[0]-c[0],g[1]-c[1]],we=oi.scale([],qt,Ht),Ie=[c[0]+we[0],c[1]+we[1]];return r.startPoint={x:h[0],y:h[1]},r.endPoint={x:g[0],y:g[1]},r.controlPoints=[{x:oe[0],y:oe[1]},{x:Ie[0],y:Ie[1]}],r},mu=function(r,t,e,n,a){var o=1e-4,s=[],l=r.getPoint(t);if(l===null)return{x:0,y:0,angle:0};if(t<o)s=r.getStartTangent().reverse();else if(t>1-o)s=r.getEndTangent();else{var u=r.getPoint(t+o);s.push([l.x,l.y]),s.push([u.x,u.y])}var c=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(c<0&&(c+=Aa*2),e&&(l.x+=eh(c)*e,l.y+=th(c)*e),n){var h=c-Aa/2;c>1/2*Aa&&c<3*1/2*Aa&&(h-=Aa),l.x+=eh(h)*n,l.y+=th(h)*n}var g={x:l.x,y:l.y,angle:c};return a?(c>1/2*Aa&&c<3*1/2*Aa&&(c-=Aa),ce({rotate:c},g)):g},wx=function i(r,t){if(t(r)===!1)return!1;if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return!1}return!0},NN=function i(r,t){if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return}return t(r)!==!1},na=function(r,t){typeof t=="function"&&wx(r,t)},Ta=function(r,t){typeof t=="function"&&NN(r,t)},Sx=function(r,t){var e=["V","TB","BT"],n={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},o="x",s="y";t&&e.indexOf(t)>=0&&(s="x",o="y");var l=0;na(r,function(h){return l++,h.x>a.x&&(a.x=h.x),h.x<n.x&&(n.x=h.x),h.y>a.y&&(a.y=h.y),h.y<n.y&&(n.y=h.y),!0});var u=Aa*2/l,c=a[s]-n[s];return c===0||na(r,function(h){var g=(h[s]-n[s])/c*(Aa*2-u)+u,w=Math.abs(o==="x"?h.x-r.x:h.y-r.y);return h.x=w*Math.cos(g),h.y=w*Math.sin(g),!0}),r},Cx=function(r,t){return t*(RN[r]||1)},Mx=function(r,t){var e=0,n=new RegExp("[\u4E00-\u9FA5]+");return r.split("").forEach(function(a){n.test(a)?e+=t:e+=Cx(a,t)}),[e,t]},rh=function(r,t){var e=[],n={},a={};r.forEach(function(s){a[s.id]=s}),r.forEach(function(s,l){var u=(0,f.clone)(s);u.itemType="combo",u.children=void 0,u.parentId===u.id?(console.warn("The parentId for combo "+u.id+" can not be the same as the combo's id"),delete u.parentId):u.parentId&&!a[u.parentId]&&(console.warn("The parent combo for combo "+u.id+" does not exist!"),delete u.parentId);var c=n[u.id];if(c){if(u.children=c.children,n[u.id]=u,c=u,!c.parentId){e.push(c);return}var h=n[c.parentId];if(h)h.children?h.children.push(u):h.children=[u];else{var g={id:c.parentId,children:[c]};n[c.parentId]=g,n[u.id]=u}return}if((0,f.isString)(s.parentId)){var w=n[s.parentId];if(w)w.children?w.children.push(u):w.children=[u],n[u.id]=u;else{var L={id:s.parentId,children:[u]};n[L.id]=L,n[u.id]=u}}else e.push(u),n[u.id]=u});var o={};return(t||[]).forEach(function(s){o[s.id]=s;var l=n[s.comboId];if(l){var u={id:s.id,comboId:s.comboId};l.children?l.children.push(u):l.children=[u],u.itemType="node",n[s.id]=u}}),e.forEach(function(s){s.depth=0,wx(s,function(l){var u,c=n[l.id].itemType;c==="node"?u=n[l.comboId]:u=n[l.parentId],u?c==="node"?l.depth=u.depth+1:l.depth=u.depth+2:l.depth=0;var h=o[l.id];return h&&(h.depth=l.depth),!0})}),e},nh=function(r,t,e){var n=r,a,o={root:{children:r}},s=!1,l="root";(r||[]).forEach(function(w){if(!s){if(w.id===t){a=w,w.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0;return}na(w,function(L){return o[L.id]={children:L.children},n=o[L.parentId||L.comboId||"root"].children,L&&(L.removed||t===L.id)&&n?(l=L.parentId||L.comboId||"root",a=L,L.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0,!1):!0})}}),n=o[l].children;var u=n?n.indexOf(a):-1;if(u>-1&&n.splice(u,1),s||(a={id:t,itemType:"node",comboId:e},o[t]={children:void 0}),t){var c=!1;if(e){var h=0;(r||[]).forEach(function(w){c||na(w,function(L){return e===L.id?(c=!0,L.children?L.children.push(a):L.children=[a],h=L.depth,a.itemType==="node"?a.depth=h+2:a.depth=h+1,!1):!0})})}else(!e||!c)&&a.itemType!=="node"&&r.push(a);var g=a.depth;na(a,function(w){return w.itemType==="node"?g+=2:g+=1,w.depth=g,!0})}return r},ih=function(r,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!r||r.length===0||(r.forEach(function(n){var a=t.findById(n.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var o=a.getCanvasBBox();o.x&&e.minX>o.minX&&(e.minX=o.minX),o.y&&e.minY>o.minY&&(e.minY=o.minY),o.x&&e.maxX<o.maxX&&(e.maxX=o.maxX),o.y&&e.maxY<o.maxY&&(e.maxY=o.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(n){(e[n]===Infinity||e[n]===-Infinity)&&(e[n]=void 0)})),e},GN=function(r){var t=r.group,e=r.height,n=r.width,a=r.x,o=r.y,s=t.get("canvas"),l=s.get("width"),u=s.get("height"),c={start:{x:0,y:0},end:{x:0,y:0}};return c.start.x=a/l,c.start.y=o/u,c.end.x=(a+n)/l,c.end.y=(o+e)/u,c};function xu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xu=function(t){return typeof t}:xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(i)}function Ex(i){if(typeof i!="string")return i;var r=function(te){if(typeof te!="string")return te;try{return JSON.parse(te.trim())}catch(oe){return te.trim()}},t=r(i);if(typeof t!="string")return t;for(var e=function(te){return te[te.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var te=[],oe=0;oe<arguments.length;oe++)te[oe]=arguments[oe];return te.some(function(qt){return e(o)===qt})},l=function(){return e(a)},u=null,c=0,h="";c<n.length;){var g=n[c],w=s('"',"'");if(!w&&!g.trim()){c+=1;continue}var L=n[c-1]==="\\",D=s("}"),N=s("]"),H=s(","),X=l();if(w)if(e(o)===g&&!L){o.pop();var mt=r(h);X.push(mt),u=mt,h=""}else h+=g;else if(N&&g===",")h&&(X.push(r(h)),h="");else if(D&&g===":")o.push(","),h&&(X.push(h),h="");else if(H&&g===",")h&&(X.push(r(h)),h=""),o.pop();else if(g==="}"&&(D||H)){h&&(X.push(r(h)),h=""),H&&o.pop();for(var xt={},Pt=1;Pt<X.length;Pt+=2)xt[X[Pt-1]]=X[Pt];a.pop(),a.length&&e(a).push(xt),o.pop(),u=xt}else g==="]"&&N?(h&&(X.push(r(h)),h=""),a.pop(),a.length&&e(a).push(X),o.pop(),u=X):g==="{"?(a.push([]),o.push("}")):g==="["?(a.push([]),o.push("]")):g==='"'?o.push('"'):g==="'"?o.push("'"):h+=g;c+=1}return u||h}var YN=function(r){return r.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},zN=function(r){return function(t){for(var e=r.length,n=[],a=0,o="";a<e;)if(r[a]==="{"&&r[a+1]==="{")n.push(o),o="",a+=2;else if(r[a]==="}"&&r[a+1]==="}"){if(n.length){var s=n.pop();o=(0,FN.default)(t,o,s.endsWith("=")?'"{'+o+'}"':o),n.push(s+o)}a+=2,o=""}else o+=r[a],a+=1;return n.push(o),n.map(function(l,u){return n[u-1]&&n[u-1].endsWith("=")?'"{'+l+'}"':l}).join("")}};function Ax(i,r){var t={},e=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return Ax(s,r)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(e).forEach(function(s){var l=YN(s),u=i.getAttribute(s);try{if(l==="style"||l==="attrs"){var c=Ex(u);t=ce(ce({},t),c)}else a[l]=Ex(u)}catch(h){if(l==="style")throw h;a[l]=u}}),a.attrs=t,r&&r.style&&a.name&&xu(r.style[a.name])==="object"&&(a.attrs=ce(ce({},a.attrs),r.style[a.name])),r&&r.style&&a.keyshape&&(a.attrs=ce(ce({},a.attrs),r.style)),n.length&&(a.children=n),a}function VN(i,r,t){var e=i.attrs,n=e===void 0?{}:e,a={x:r.x||0,y:r.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=Mx(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=ce({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function Tx(i,r){var t;r===void 0&&(r={x:0,y:0});var e=ce({x:0,y:0,width:0,height:0},r);if((t=i.children)===null||t===void 0?void 0:t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=ce({},r);o&&(s.y+=o);for(var l=0;l<i.children.length;l++){i.children[l].attrs.key=(a.key||"root")+" -"+l+" ";var u=Tx(i.children[l],s);if(u.bbox){var c=u.bbox;u.attrs.next==="inline"?s.x+=u.bbox.width:s.y+=u.bbox.height,c.width+c.x>e.width&&(e.width=c.width+c.x),c.height+c.y>e.height&&(e.height=c.height+c.y)}}}return i.bbox=VN(i,r,e),i.attrs=ce(ce({},i.attrs),i.bbox),i}function Px(i,r){var t,e,n,a,o=(i||{}).type,s=((r==null?void 0:r.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&r)return{action:"delete",val:r,type:o,key:s};if(i&&!r)return{action:"add",val:i,type:o};if(!i&&!r)return{action:"same",type:o};var l=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((e=r.children)===null||e===void 0?void 0:e.length)>0)for(var u=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=r.children)===null||a===void 0?void 0:a.length),c=r.children||[],h=i.children||[],g=0;g<u;g+=1)l.push(Px(h[g],c[g]));var w=Object.keys(r.attrs),L=Object.keys(i.attrs);return r.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:r,key:s,children:l}:w.filter(function(D){return D!=="children"}).some(function(D){return i.attrs[D]!==r.attrs[D]||!L.includes(D)})?{action:"change",val:i,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function Ox(i){var r={},t=function(n){var a=typeof i=="function"?i(n):i,o=zN(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],u=Tx(Ax(l,n));return s.remove(),u};return{draw:function(n,a){var o=t(n),s=a,l=function u(c){var h=c.attrs,g=h===void 0?{}:h,w=c.bbox,L=c.type,D=c.children,N=ea(c,["attrs","bbox","type","children"]);if(c.type!=="group"){var H=a.addShape(c.type,ce({attrs:g,origin:{bbox:w,type:L,children:D}},N));c.keyshape&&(s=H)}c.children&&c.children.forEach(function(X){return u(X)})};return l(o),r[n.id]=[o],s},update:function(n,a){r[n.id]||(r[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),u=r[n.id].pop(),c=Px(l,u),h=function L(D){var N;D.type!=="group"&&o.addShape(D.type,{attrs:D.attrs}),((N=D.children)===null||N===void 0?void 0:N.length)&&D.children.map(function(H){return L(H)})},g=function L(D){var N,H=s.find(function(X){return X.attrs.key===D.attrs.key});H&&o.removeChild(H),((N=D.children)===null||N===void 0?void 0:N.length)&&D.children.map(function(X){return L(X)})},w=function L(D){var N=D.key;if(D.type!=="group"){var H=s.find(function(mt){return mt.attrs.key===N});switch(D.action){case"change":if(H){var X=D.val.keyshape?a.getOriginStyle():{};H.attr(ce(ce({},X),D.val.attrs))}break;case"add":h(D.val);break;case"delete":g(D.val);break;case"restructure":g(D.formerTarget),h(D.nowTarget);break;default:break}}D.children&&D.children.forEach(function(mt){return L(mt)})};w(c),r[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var ah={};function Ix(i){return ah[i]||(ah[i]=(0,f.upperFirst)(i)),ah[i]}var XN={defaultShapeType:"defaultType",className:null,getShape:function(r){var t=this,e=t[r]||t[t.defaultShapeType];return e},draw:function(r,t,e){var n=this.getShape(r),a=n.draw(t,e);return n.afterDraw&&n.afterDraw(t,e,a),a},baseUpdate:function(r,t,e){var n=this.getShape(r);n.update&&n.update(t,e),n.afterUpdate&&n.afterUpdate(t,e)},setState:function(r,t,e,n){var a=this.getShape(r);a.setState(t,e,n)},shouldUpdate:function(r){var t=this.getShape(r);return!!t.update},getControlPoints:function(r,t){var e=this.getShape(r);return e.getControlPoints(t)},getAnchorPoints:function(r,t){var e=this.getShape(r);return e.getAnchorPoints(t)}},oh={options:{},draw:function(r,t){return this.drawShape(r,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.options.anchorPoints,e=r.anchorPoints||t;return e}},bu=function(){function i(){}return i.registerFactory=function(r,t){var e=Ix(r),n=XN,a=ce(ce({},n),t);return i[e]=a,a.className=e,a},i.getFactory=function(r){var t=Ix(r);return i[t]},i.registerNode=function(r,t,e){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=Ox(t);a=ce(ce({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=Ox(s);a=ce(ce(ce({},n.getShape("single-node")),o),t)}else{var l=e?n.getShape(e):oh;a=ce(ce({},l),t)}return a.type=r,a.itemType="node",n[r]=a,a},i.registerEdge=function(r,t,e){var n=i.Edge,a=e?n.getShape(e):oh,o=ce(ce({},a),t);return o.type=r,o.itemType="edge",n[r]=o,o},i.registerCombo=function(r,t,e){var n=i.Combo,a=e?n.getShape(e):oh,o=ce(ce({},a),t);return o.type=r,o.itemType="combo",n[r]=o,o},i}(),mi=bu;bu.registerFactory("node",{defaultShapeType:"circle"}),bu.registerFactory("edge",{defaultShapeType:"line"}),bu.registerFactory("combo",{defaultShapeType:"circle"});var sh="bboxCache",lh="bboxCanvasCache",HN=function(){function i(r){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),r);var e=this.get("model"),n=e.id,a=this.get("type");n||(n=(0,f.uniqueId)(a),this.get("model").id=n),this.set("id",n);var o=r.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=e.shape||e.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var u=l[s].options;if(u&&u.stateStyles){var c=this.get("styles")||e.stateStyles;c=(0,f.deepMix)({},u.stateStyles,c),this.set("styles",c)}}}return i.prototype.calculateBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=yu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.calculateCanvasBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=yu(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.drawInner=function(){var r=this,t=r.get("shapeFactory"),e=r.get("group"),n=r.get("model");e.clear();var a=n.visible;if(a!==void 0&&!a&&r.changeVisibility(a),!!t){r.updatePosition(n);var o=r.getShapeCfg(n),s=o.shape||o.type,l=t.draw(s,o,e);l&&(r.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(r){var t={},e=this.get("group"),n=e.get("children"),a=this.getKeyShape(),o=this;(0,f.each)(n,function(u){var c=u.get("name");if(c)t[c]=o.getShapeStyleByName(c);else{var h=a.get("name"),g=o.getShapeStyleByName();h?t[h]=g:Object.assign(t,g)}});var s=this.getOriginStyle(),l={};r?l=(0,f.deepMix)({},s,t,r.style,{labelCfg:r.labelCfg}):l=(0,f.deepMix)({},s,t),o.set("originStyle",l)},i.prototype.restoreStates=function(r,t){var e=this,n=e.get("states");(0,f.each)(n,function(a){r.setState(t,a,!0,e)})},i.prototype.init=function(){var r=mi.getFactory(this.get("type"));this.set("shapeFactory",r)},i.prototype.get=function(r){return this._cfg[r]},i.prototype.set=function(r,t){(0,f.isPlainObject)(r)?this._cfg=ce(ce({},this._cfg),r):this._cfg[r]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(sh,null),this.set(lh,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(r){var t=this.get("group"),e=this.getKeyShape();if(r&&(e=t.find(function(a){return a.get("name")===r})),e){var n={};return(0,f.each)(e.attr(),function(a,o){o!=="img"&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(r){var t=this.get("styles");if(t){var e=r;return e.style=ce(ce({},t),r.style),e}return r},i.prototype.getStateStyle=function(r){var t=this.get("styles"),e=t&&t[r];return e},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var r=this,t={};return(0,f.each)(r.getStates(),function(e){t=Object.assign(t,r.getStateStyle(e))}),t},i.prototype.setState=function(r,t){var e=this.get("states"),n=this.get("shapeFactory"),a=r,o=r;(0,f.isString)(t)&&(a=r+":"+t,o=r+":");var s=e;if((0,f.isBoolean)(t)){var l=e.indexOf(o);if(t){if(l>-1)return;e.push(a)}else l>-1&&e.splice(l,1)}else if((0,f.isString)(t)){var u=e.filter(function(g){return g.includes(o)});u.length>0&&this.clearStates(u),s=s.filter(function(g){return!g.includes(o)}),s.push(a),this.set("states",s)}if(n){var c=this.get("model"),h=c.shape||c.type;n.setState(h,r,t,this)}},i.prototype.clearStates=function(r){var t=this,e=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.shape||a.type;r||(r=e),(0,f.isString)(r)&&(r=[r]);var s=e.filter(function(l){return r.indexOf(l)===-1});t.set("states",s),r.forEach(function(l){n.setState(o,l,!1,t)})},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(r){var t=this.getStates();return t.indexOf(r)>=0},i.prototype.refresh=function(){var r=this.get("model");this.updatePosition(r),this.updateShape(),this.afterUpdate(),this.clearCache()},i.prototype.isOnlyMove=function(r){return!1},i.prototype.update=function(r){var t=this.get("model"),e=t.visible,n=r.visible;e!==n&&n!==void 0&&this.changeVisibility(n);var a={x:t.x,y:t.y};r.x=isNaN(r.x)?t.x:r.x,r.y=isNaN(r.y)?t.y:r.y;var o=this.get("styles");if(r.stateStyles){var s=r.stateStyles;(0,f.mix)(o,s),delete r.stateStyles}Object.assign(t,r);var l=this.isOnlyMove(r);l?this.updatePosition(r):((a.x!==r.x||a.y!==r.y)&&this.updatePosition(r),this.updateShape()),this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(){var r=this.get("shapeFactory"),t=this.get("model"),e=t.shape||t.type;if(r.shouldUpdate(e)&&e===this.get("currentShape")){var n=this.getShapeCfg(t);r.baseUpdate(e,n,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(r,e)},i.prototype.updatePosition=function(r){var t=this.get("model"),e=(0,f.isNil)(r.x)?t.x:r.x,n=(0,f.isNil)(r.y)?t.y:r.y,a=this.get("group");(0,f.isNil)(e)||(0,f.isNil)(n)||(a.resetMatrix(),$m(a,{x:e,y:n}),t.x=e,t.y=n,this.clearCache())},i.prototype.getBBox=function(){var r=this.get(sh);return r||(r=this.calculateBBox(),this.set(sh,r)),r},i.prototype.getCanvasBBox=function(){var r=this.get(lh);return r||(r=this.calculateCanvasBBox(),this.set(lh,r)),r},i.prototype.toFront=function(){var r=this.get("group");r.toFront()},i.prototype.toBack=function(){var r=this.get("group");r.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(r){var t=this.get("group");r?t.show():t.hide(),this.set("visible",r)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(r){var t=this.get("group");t&&t.set("capture",r)},i.prototype.destroy=function(){if(!this.destroyed){var r=this.get("animate"),t=this.get("group");r&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),kx=HN,wu={source:"start",target:"end"},Ua="Node",ls="Point",WN="Anchor",jN=function(i){ai(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},r.prototype.setEnd=function(t,e){var n=wu[t]+ls,a=t+Ua,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,f.isPlainObject)(e)?(this.set(n,e),this.set(a,null)):(e.addEdge(this),this.set(a,e),this.set(n,null))},r.prototype.getLinkPoint=function(t,e,n){var a=wu[t]+ls,o=t+Ua,s=this.get(a);if(!s){var l=this.get(o),u=t+WN,c=this.getPrePoint(t,n),h=e[u];(0,f.isNil)(h)||(s=l.getLinkPointByAnchor(h)),s=s||l.getLinkPoint(c),(0,f.isNil)(s.index)||this.set(t+"AnchorIndex",s.index)}return s},r.prototype.getPrePoint=function(t,e){if(e&&e.length){var n=t==="source"?0:e.length-1;return e[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},r.prototype.getEndPoint=function(t){var e=t+Ua,n=wu[t]+ls,a=this.get(e);return a?a.get("model"):this.get(n)},r.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.shape||t.type;return a.getControlPoints(o,{startPoint:e,endPoint:n})},r.prototype.getEndCenter=function(t){var e=t+Ua,n=wu[t]+ls,a=this.get(e);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},r.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},r.prototype.getShapeCfg=function(t){var e=this,n=e.get("linkCenter"),a=i.prototype.getShapeCfg.call(this,t);if(n)a.startPoint=e.getEndCenter("source"),a.endPoint=e.getEndCenter("target");else{var o=a.controlPoints||e.getControlPointsByCenter(a);a.startPoint=e.getLinkPoint("source",t,o),a.endPoint=e.getLinkPoint("target",t,o)}return a.sourceNode=e.get("sourceNode"),a.targetNode=e.get("targetNode"),a},r.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+Ua),n=this.get("target"+Ua);return e?delete t["source"+Ua]:t.source=this.get("start"+ls),n?delete t["target"+Ua]:t.target=this.get("end"+ls),!(0,f.isString)(t.source)&&!(0,f.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,f.isString)(t.target)&&!(0,f.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},r.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},r.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},r.prototype.getSource=function(){return this.get("source")},r.prototype.getTarget=function(){return this.get("target")},r.prototype.updatePosition=function(){},r.prototype.update=function(t){var e=this.get("model"),n=e.visible,a=t.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,f.mix)(o,s),delete t.stateStyles}Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},r.prototype.destroy=function(){var t=this.get("source"+Ua),e=this.get("target"+Ua);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),i.prototype.destroy.call(this)},r}(kx),UN=jN,Xs=v(66974),uh="anchorPointsCache",ZN="bboxCache",QN=function(i){ai(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getNearestPoint=function(t,e){for(var n=0,a=t[0],o=Gs(t[0],e),s=0;s<t.length;s++){var l=t[s],u=Gs(l,e);u<o&&(a=l,o=u,n=s)}return a.anchorIndex=n,a},r.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},r.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},r.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if(t==="target"){var a=function(u){return u.getSource()===e};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(u){return u.getTarget()===e};return n.filter(o).map(function(l){return l.getSource()})}var s=function(u){return u.getSource()===e?u.getTarget():u.getSource()};return n.map(s)},r.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},r.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),n=e.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=(l.maxX+l.minX)/2,s=(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var u=this.getAnchorPoints(),c;switch(n){case"circle":c=Um({x:o,y:s,r:l.width/2},t);break;case"ellipse":c=Zm({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:c=jm(l,t)}var h=c;return u.length&&(h||(h=t),h=this.getNearestPoint(u,h)),h||(h={x:o,y:s}),h},r.prototype.getAnchorPoints=function(){var t=this.get(uh);if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.shape||a.type,l=e.getAnchorPoints(s,o)||[];(0,Zn.default)(l,function(u,c){var h=(0,Xs.default)({x:n.minX+u[0]*n.width,y:n.minY+u[1]*n.height},u[2],{index:c});t.push(h)}),this.set(uh,t)}return t},r.prototype.addEdge=function(t){this.get("edges").push(t)},r.prototype.lock=function(){this.set("locked",!0)},r.prototype.unlock=function(){this.set("locked",!1)},r.prototype.hasLocked=function(){return this.get("locked")},r.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},r.prototype.clearCache=function(){this.set(ZN,null),this.set(uh,null)},r.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!(0,Gi.default)(t.x),n=!(0,Gi.default)(t.y),a=Object.keys(t);return a.length===1&&(e||n)||a.length===2&&e&&n},r}(kx),Lx=QN,KN="bboxCache",_x="bboxCanvasCache",fh="sizeCache",$N="anchorPointsCache",JN=function(i){ai(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},r.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var a=t,o={r:Math.hypot(n.height,n.width)/2||yr.defaultCombo.size[0]/2,width:n.width||yr.defaultCombo.size[0],height:n.height||yr.defaultCombo.size[1]};a.style=ce(ce(ce({},e),t.style),o);var s=t.padding||yr.defaultCombo.padding;return(0,Da.default)(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(fh,o),a}return t},r.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=yu(t,e);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(fh);if(a){var o=t.get("type");o==="circle"?(n.width=a.r*2,n.height=a.r*2):(n.width=a.width,n.height=a.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n},r.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},r.prototype.getNodes=function(){var t=this;return t.get("nodes")},r.prototype.getCombos=function(){var t=this;return t.get("combos")},r.prototype.addChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},r.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},r.prototype.removeChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.isOnlyMove=function(t){return!1},r.prototype.getBBox=function(){this.set(_x,null);var t=this.calculateCanvasBBox();return t},r.prototype.clearCache=function(){this.set(KN,null),this.set(_x,null),this.set($N,null)},r.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(fh,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},r}(Lx),qN=JN,Su="node",Cu="edge",Dx="vedge",Mu="combo",t3="default",Bx="Mapper",uo="stateStyles",e3=Object.hasOwnProperty,r3=function(){function i(r){this.graph=r,this.destroyed=!1}return i.prototype.addItem=function(r,t){var e=this,n=this.graph,a=r===Dx?Cu:r,o=n.get(a+"Group")||n.get("group"),s=(0,xx.default)(a),l=null,u=n.get(a+(0,xx.default)(uo))||{},c=n.get(t3+s);t[uo]&&(u=t[uo]);var h=n.get(a+Bx);if(h){var g=h(t);g[uo]&&(u=g[uo],delete g[uo]),t=(0,Zi.default)({},c,t,g)}else c&&(0,Zn.default)(c,function(mt,xt){e3.call(t,xt)||((0,mx.default)(mt)?t[xt]=(0,yx.default)(mt):t[xt]=c[xt])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),n.emit("beforeadditem",{type:r,model:t}),r===Cu||r===Dx){var w=void 0,L=void 0;if(w=t.source,L=t.target,w&&(0,Hn.default)(w)&&(w=n.findById(w)),L&&(0,Hn.default)(L)&&(L=n.findById(L)),!w||!L){console.warn("The source or target node of edge "+t.id+" does not exist!");return}w.getType&&w.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(w)),L.getType&&L.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(L)),l=new UN({model:t,source:w,target:L,styles:u,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(r===Su)l=new Lx({model:t,styles:u,group:o.addGroup()});else if(r===Mu){var D=t.children,N=ih(D,n);t.x=N.x||t.x||Math.random()*100,t.y=N.y||t.y||Math.random()*100;var H=o.addGroup();H.setZIndex(t.depth),l=new qN({model:t,styles:u,bbox:N,group:H});var X=l.getModel();(D||[]).forEach(function(mt){var xt=n.findById(mt.id);l.addChild(xt),mt.depth=X.depth+2}),t.collapsed&&setTimeout(function(){n.collapseCombo(l),e.updateCombo(l,[])},250)}if(l)return n.get(r+"s").push(l),n.get("itemMap")[l.get("id")]=l,n.emit("afteradditem",{item:l,model:t}),l},i.prototype.updateItem=function(r,t){var e=this.graph;if((0,Hn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n="";r.getType&&(n=r.getType());var a=e.get(n+Bx),o=r.getModel();if(a){var s=(0,Zi.default)({},o,t),l=a(s),u=(0,Zi.default)({},o,l,t);l[uo]&&(r.set("styles",u[uo]),delete u[uo]),(0,Zn.default)(u,function(w,L){t[L]=w})}else(0,Zn.default)(t,function(w,L){o[L]&&(0,mx.default)(w)&&!(0,Yi.default)(w)&&(t[L]=ce(ce({},o[L]),t[L]))});if(e.emit("beforeupdateitem",{item:r,cfg:t}),n===Cu){if(t.source){var c=t.source;(0,Hn.default)(c)&&(c=e.findById(c)),r.setSource(c)}if(t.target){var h=t.target;(0,Hn.default)(h)&&(h=e.findById(h)),r.setTarget(h)}}if(r.update(t),n===Su||n===Mu){var g=r.getEdges();(0,Zn.default)(g,function(w){w.refresh()})}e.emit("afterupdateitem",{item:r,cfg:t})}},i.prototype.updateCombo=function(r,t){var e=this.graph;if((0,Hn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=ih(t,e);r.set("bbox",n),r.update({x:n.x,y:n.y});for(var a=r.getEdges()||[],o=a.length,s=0;s<o;s++){var l=a[s];l==null||l.refresh()}}},i.prototype.collapseCombo=function(r){var t=this.graph;(0,Hn.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.hideItem(n)}),e.combos.forEach(function(n){t.hideItem(n)})},i.prototype.expandCombo=function(r){var t=this.graph;(0,Hn.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.showItem(n)}),e.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},i.prototype.removeItem=function(r){var t=this,e=this.graph;if((0,Hn.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=(0,yx.default)(r.getModel());e.emit("beforeremoveitem",{item:n});var a="";r.getType&&(a=r.getType());var o=e.get(a+"s"),s=o.indexOf(r);if(s>-1&&o.splice(s,1),a===Cu){var l=e.get("v"+a+"s"),u=l.indexOf(r);u>-1&&l.splice(u,1)}var c=r.get("id"),h=e.get("itemMap");delete h[c];var g=e.get("comboTrees"),w=r.get("id");if(a===Su){var L=r.getModel().comboId;if(g){var D=g,N=!1;g.forEach(function(Ht){N||na(Ht,function(te){if(te.id===w&&D){var oe=D.indexOf(te);return D.splice(oe,1),N=!0,!1}return D=te.children,!0})})}for(var H=r.getEdges(),X=H.length-1;X>=0;X--)e.removeItem(H[X],!1);L&&e.updateCombo(L)}else if(a===Mu){var mt=r.getModel().parentId,xt,Pt=!1;(g||[]).forEach(function(te){Pt||na(te,function(oe){return oe.id===w?(xt=oe,Pt=!0,!1):!0})}),xt.removed=!0,xt&&xt.children&&xt.children.forEach(function(te){t.removeItem(te.id)});for(var H=r.getEdges(),X=H.length;X>=0;X--)e.removeItem(H[X],!1);mt&&e.updateCombo(mt)}r.destroy(),e.emit("afterremoveitem",{item:n})}},i.prototype.setItemState=function(r,t,e){var n=this.graph,a=t;(0,Hn.default)(e)&&(a=t+":"+e),!(r.hasState(a)===e||(0,Hn.default)(e)&&r.hasState(a))&&(n.emit("beforeitemstatechange",{item:r,state:a,enabled:e}),r.setState(t,e),n.autoPaint(),n.emit("afteritemstatechange",{item:r,state:a,enabled:e}))},i.prototype.priorityState=function(r,t){var e=this.graph,n=r;(0,Hn.default)(r)&&(n=e.findById(r)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(r,t){var e=this.graph;(0,Hn.default)(r)&&(r=e.findById(r)),e.emit("beforeitemstatesclear",{item:r,states:t}),r.clearStates(t),e.emit("afteritemstatesclear",{item:r,states:t})},i.prototype.refreshItem=function(r){var t=this.graph;(0,Hn.default)(r)&&(r=t.findById(r)),t.emit("beforeitemrefresh",{item:r}),r.refresh(),t.emit("afteritemrefresh",{item:r})},i.prototype.addCombos=function(r,t){var e=this,n=this.graph;(r||[]).forEach(function(o){Ta(o,function(s){var l;return t.forEach(function(u){u.id===s.id&&(u.children=s.children,u.depth=s.depth,l=u)}),l&&e.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(r,t){var e=this,n=this.graph;if((0,Hn.default)(r)&&(r=n.findById(r)),!r){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:r,visible:t}),r.changeVisibility(t),r.getType&&r.getType()===Su){var a=r.getEdges();(0,Zn.default)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||e.changeItemVisibility(c,t)})}else if(r.getType&&r.getType()===Mu){var o=n.get("comboTrees"),s=r.get("id"),l=[],u=!1;(o||[]).forEach(function(h){u||!h.children||h.children.length===0||na(h,function(g){return g.id===s?(l=g.children,u=!0,!1):!0})}),l.forEach(function(h){var g=n.findById(h.id);e.changeItemVisibility(g,t)});var a=r.getEdges();(0,Zn.default)(a,function(h){t&&!(h.get("source").isVisible()&&h.get("target").isVisible())||e.changeItemVisibility(h,t)})}return n.emit("afteritemvisibilitychange",{item:r,visible:t}),r},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),n3=r3,Pa=function(){function i(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return i.prototype.init=function(r){var t=this;t.nodes=r.nodes||[],t.edges=r.edges||[],t.combos=r.combos||[]},i.prototype.execute=function(){},i.prototype.layout=function(r){var t=this;t.init(r),t.execute()},i.prototype.getDefaultCfg=function(){return{}},i.prototype.updateCfg=function(r){var t=this;(0,Xs.default)(t,r)},i.prototype.destroy=function(){var r=this;r.positions=null,r.nodes=null,r.edges=null,r.destroyed=!0},i}(),Fx={registerLayout:function(r,t,e){if(e===void 0&&(e=Pa),!t)throw new Error("please specify handler for this layout: "+r);var n=function(a){ai(o,a);function o(s){var l=a.call(this)||this,u=l,c={},h=u.getDefaultCfg();return(0,Xs.default)(c,h,t,s),(0,Zn.default)(c,function(g,w){u[w]=g}),l}return o}(e);Fx[r]=n}},Rx=Fx;function i3(i,r,t,e){i.forEach(function(n,a){i[a].children=[],i[a].parent=[]}),e?r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].parent.push(i[a].id)}):r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].children.push(i[a].id)})}function a3(i,r,t){for(var e=t.length,n=0;n<e;n++)if(i.id===t[n].source&&r.id===t[n].target||r.id===t[n].source&&i.id===t[n].target)return!0;return!1}function o3(i,r){return i.degree<r.degree?-1:i.degree>r.degree?1:0}var s3=function(i){ai(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.radius,l=t.startRadius,u=t.endRadius,c=t.divisions,h=t.startAngle,g=t.endAngle,w=(g-h)/a,L={};e.forEach(function(qt,we){L[qt.id]=we}),t.nodeMap=L;var D=hu(e.length,L,n);t.degrees=D,!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),!s&&!l&&!u?s=t.height>t.width?t.width/2:t.height/2:!l&&u?l=u:l&&!u&&(u=l);var N=t.angleRatio,H=w*N;t.astep=H;var X=t.ordering,mt=[];X==="topology"?mt=t.topologyOrdering():X==="topology-directed"?mt=t.topologyOrdering(!0):X==="degree"?mt=t.degreeOrdering():mt=e;for(var xt=t.clockwise,Pt=Math.ceil(a/c),Ht=0;Ht<a;++Ht){var te=s;!te&&l!==null&&u!==null&&(te=l+Ht*(u-l)/(a-1)),te||(te=10+Ht*100/(a-1));var oe=h+Ht%Pt*H+2*Math.PI/c*Math.floor(Ht/Pt);xt||(oe=g-Ht%Pt*H-2*Math.PI/c*Math.floor(Ht/Pt)),mt[Ht].x=o[0]+Math.cos(oe)*te,mt[Ht].y=o[1]+Math.sin(oe)*te,mt[Ht].weight=D[Ht]}}},r.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var e=this,n=e.degrees,a=e.edges,o=e.nodes,s=(0,f.clone)(o),l=e.nodeMap,u=[s[0]],c=[o[0]],h=[],g=o.length;h[0]=!0,i3(s,a,l,t);var w=0;return s.forEach(function(L,D){if(D!==0)if((D===g-1||n[D]!==n[D+1]||a3(u[w],L,a))&&h[D]!==!0)u.push(L),c.push(o[l[L.id]]),h[D]=!0,w++;else{for(var N=u[w].children,H=!1,X=0;X<N.length;X++){var mt=l[N[X]];if(n[mt]===n[D]&&h[mt]!==!0){u.push(s[mt]),c.push(o[l[s[mt].id]]),h[mt]=!0,H=!0;break}}for(var xt=0;!H&&(h[xt]||(u.push(s[xt]),c.push(o[l[s[xt].id]]),h[xt]=!0,H=!0),xt++,xt!==g););}}),c},r.prototype.degreeOrdering=function(){var t=this,e=t.nodes,n=[],a=t.degrees;return e.forEach(function(o,s){o.degree=a[s],n.push(o)}),n.sort(o3),n},r}(Pa),l3=s3,u3=function(i){ai(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=3/2*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=[],l;(0,Yi.default)(t.nodeSize)?l=Math.max(t.nodeSize[0],t.nodeSize[1]):l=t.nodeSize,e.forEach(function(oe){s.push(oe);var qt=l;(0,Yi.default)(oe.size)?qt=Math.max(oe.size[0],oe.size[1]):(0,f.isNumber)(oe.size)&&(qt=oe.size),l=Math.max(l,qt)}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var u={},c={};if(s.forEach(function(oe,qt){u[oe.id]=oe,c[oe.id]=qt}),(t.sortBy==="degree"||!(0,Hn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",!(0,f.isNumber)(e[0].degree))){var h=hu(e.length,c,n);s.forEach(function(oe,qt){oe.degree=h[qt]})}s.sort(function(oe,qt){return qt[t.sortBy]-oe[t.sortBy]}),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var g=[[]],w=g[0];s.forEach(function(oe){if(w.length>0){var qt=Math.abs(w[0][t.sortBy]-oe[t.sortBy]);t.maxLevelDiff&&qt>=t.maxLevelDiff&&(w=[],g.push(w))}w.push(oe)});var L=l+t.minNodeSpacing;if(!t.preventOverlap){var D=g.length>0&&g[0].length>1,N=Math.min(t.width,t.height)/2-L,H=N/(g.length+(D?1:0));L=Math.min(L,H)}var X=0;if(g.forEach(function(oe){var qt=t.sweep;qt===void 0&&(qt=2*Math.PI-2*Math.PI/oe.length);var we=oe.dTheta=qt/Math.max(1,oe.length-1);if(oe.length>1&&t.preventOverlap){var Ie=Math.cos(we)-Math.cos(0),Pe=Math.sin(we)-Math.sin(0),Ke=Math.sqrt(L*L/(Ie*Ie+Pe*Pe));X=Math.max(Ke,X)}oe.r=X,X+=L}),t.equidistant){for(var mt=0,xt=0,Pt=0;Pt<g.length;Pt++){var Ht=g[Pt],te=Ht.r-xt;mt=Math.max(mt,te)}xt=0,g.forEach(function(oe,qt){qt===0&&(xt=oe.r),oe.r=xt,xt+=mt})}g.forEach(function(oe){var qt=oe.dTheta,we=oe.r;oe.forEach(function(Ie,Pe){var Ke=t.startAngle+(t.clockwise?1:-1)*qt*Pe;Ie.x=o[0]+we*Math.cos(Ke),Ie.y=o[1]+we*Math.sin(Ke)})})}},r}(Pa),f3=u3,c3=v(70681),Nx=v.n(c3),h3=function(i){ai(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return r.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.nodeSize,a=t.rankdir;if(!!e){var o=t.edges||[],s=new(Nx()).graphlib.Graph,l;n?(0,Yi.default)(n)?l=function(){return n}:l=function(){return[n,n]}:l=function(w){return w.size?(0,Yi.default)(w.size)?w.size:[w.size,w.size]:[40,40]};var u=Eu(t.nodesepFunc,t.nodesep,50),c=Eu(t.ranksepFunc,t.ranksep,50);(a==="LR"||a==="RL")&&(u=Eu(t.ranksepFunc,t.ranksep,50),c=Eu(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(function(){return{}}),s.setGraph(t),e.forEach(function(g){var w=l(g),L=c(g),D=u(g),N=w[0]+2*D,H=w[1]+2*L;s.setNode(g.id,{width:N,height:H})}),o.forEach(function(g){s.setEdge(g.source,g.target,{weight:g.weight||1})}),Nx().layout(s);var h;s.nodes().forEach(function(g){h=s.node(g);var w=e.findIndex(function(L){return L.id===g});e[w].x=h.x,e[w].y=h.y}),s.edges().forEach(function(g){h=s.edge(g);var w=o.findIndex(function(L){return L.source===g.v&&L.target===g.w});t.controlPoints&&o[w].type!=="loop"&&o[w].shape!=="loop"&&(o[w].controlPoints=h.points.slice(1,h.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},r.prototype.sortLevel=function(t){var e=this,n=e.nodes,a={};n.forEach(function(o){a[o.y]||(a[o.y]={y:o.y,nodes:[]}),a[o.y].nodes.push(o)}),Object.keys(a).forEach(function(o){var s=a[o].nodes,l=s.length,u={};if(s.forEach(function(D){var N=D.comboId;u[N]||(u[N]={x:0,y:0,count:0}),u[N].x+=D.x,u[N].y+=D.y,u[N].count++}),Object.keys(u).forEach(function(D){u[D].x/=u[D].count,u[D].y/=u[D].count}),l!==1){var c=s.sort(function(D,N){return D.x-N.x}),h=c[0].x,g=c[l-1].x,w=(g-h)/(l-1),L=s.sort(function(D,N){var H=D[t]||"undefined",X=N[t]||"undefined";return H<X?-1:H>X?1:0});L.forEach(function(D,N){D.x=h+N*w})}})},r}(Pa),v3=h3;function Eu(i,r,t){var e;return i?e=i:(0,f.isNumber)(r)?e=function(){return r}:e=function(){return t},e}function d3(i){const r=+this._x.call(null,i),t=+this._y.call(null,i);return Gx(this.cover(r,t),r,t,i)}function Gx(i,r,t,e){if(isNaN(r)||isNaN(t))return i;var n,a=i._root,o={data:e},s=i._x0,l=i._y0,u=i._x1,c=i._y1,h,g,w,L,D,N,H,X;if(!a)return i._root=o,i;for(;a.length;)if((D=r>=(h=(s+u)/2))?s=h:u=h,(N=t>=(g=(l+c)/2))?l=g:c=g,n=a,!(a=a[H=N<<1|D]))return n[H]=o,i;if(w=+i._x.call(null,a.data),L=+i._y.call(null,a.data),r===w&&t===L)return o.next=a,n?n[H]=o:i._root=o,i;do n=n?n[H]=new Array(4):i._root=new Array(4),(D=r>=(h=(s+u)/2))?s=h:u=h,(N=t>=(g=(l+c)/2))?l=g:c=g;while((H=N<<1|D)==(X=(L>=g)<<1|w>=h));return n[X]=a,n[H]=o,i}function p3(i){var r,t,e=i.length,n,a,o=new Array(e),s=new Array(e),l=Infinity,u=Infinity,c=-Infinity,h=-Infinity;for(t=0;t<e;++t)isNaN(n=+this._x.call(null,r=i[t]))||isNaN(a=+this._y.call(null,r))||(o[t]=n,s[t]=a,n<l&&(l=n),n>c&&(c=n),a<u&&(u=a),a>h&&(h=a));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),t=0;t<e;++t)Gx(this,o[t],s[t],i[t]);return this}function g3(i,r){if(isNaN(i=+i)||isNaN(r=+r))return this;var t=this._x0,e=this._y0,n=this._x1,a=this._y1;if(isNaN(t))n=(t=Math.floor(i))+1,a=(e=Math.floor(r))+1;else{for(var o=n-t||1,s=this._root,l,u;t>i||i>=n||e>r||r>=a;)switch(u=(r<e)<<1|i<t,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:n=t+o,a=e+o;break;case 1:t=n-o,a=e+o;break;case 2:n=t+o,e=a-o;break;case 3:t=n-o,e=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=e,this._x1=n,this._y1=a,this}function y3(){var i=[];return this.visit(function(r){if(!r.length)do i.push(r.data);while(r=r.next)}),i}function m3(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ua(i,r,t,e,n){this.node=i,this.x0=r,this.y0=t,this.x1=e,this.y1=n}function x3(i,r,t){var e,n=this._x0,a=this._y0,o,s,l,u,c=this._x1,h=this._y1,g=[],w=this._root,L,D;for(w&&g.push(new ua(w,n,a,c,h)),t==null?t=Infinity:(n=i-t,a=r-t,c=i+t,h=r+t,t*=t);L=g.pop();)if(!(!(w=L.node)||(o=L.x0)>c||(s=L.y0)>h||(l=L.x1)<n||(u=L.y1)<a))if(w.length){var N=(o+l)/2,H=(s+u)/2;g.push(new ua(w[3],N,H,l,u),new ua(w[2],o,H,N,u),new ua(w[1],N,s,l,H),new ua(w[0],o,s,N,H)),(D=(r>=H)<<1|i>=N)&&(L=g[g.length-1],g[g.length-1]=g[g.length-1-D],g[g.length-1-D]=L)}else{var X=i-+this._x.call(null,w.data),mt=r-+this._y.call(null,w.data),xt=X*X+mt*mt;if(xt<t){var Pt=Math.sqrt(t=xt);n=i-Pt,a=r-Pt,c=i+Pt,h=r+Pt,e=w.data}}return e}function b3(i){if(isNaN(c=+this._x.call(null,i))||isNaN(h=+this._y.call(null,i)))return this;var r,t=this._root,e,n,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,c,h,g,w,L,D,N,H;if(!t)return this;if(t.length)for(;;){if((L=c>=(g=(o+l)/2))?o=g:l=g,(D=h>=(w=(s+u)/2))?s=w:u=w,r=t,!(t=t[N=D<<1|L]))return this;if(!t.length)break;(r[N+1&3]||r[N+2&3]||r[N+3&3])&&(e=r,H=N)}for(;t.data!==i;)if(n=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,n?(a?n.next=a:delete n.next,this):r?(a?r[N]=a:delete r[N],(t=r[0]||r[1]||r[2]||r[3])&&t===(r[3]||r[2]||r[1]||r[0])&&!t.length&&(e?e[H]=t:this._root=t),this):(this._root=a,this)}function w3(i){for(var r=0,t=i.length;r<t;++r)this.remove(i[r]);return this}function S3(){return this._root}function C3(){var i=0;return this.visit(function(r){if(!r.length)do++i;while(r=r.next)}),i}function M3(i){var r=[],t,e=this._root,n,a,o,s,l;for(e&&r.push(new ua(e,this._x0,this._y0,this._x1,this._y1));t=r.pop();)if(!i(e=t.node,a=t.x0,o=t.y0,s=t.x1,l=t.y1)&&e.length){var u=(a+s)/2,c=(o+l)/2;(n=e[3])&&r.push(new ua(n,u,c,s,l)),(n=e[2])&&r.push(new ua(n,a,c,u,l)),(n=e[1])&&r.push(new ua(n,u,o,s,c)),(n=e[0])&&r.push(new ua(n,a,o,u,c))}return this}function E3(i){var r=[],t=[],e;for(this._root&&r.push(new ua(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var n=e.node;if(n.length){var a,o=e.x0,s=e.y0,l=e.x1,u=e.y1,c=(o+l)/2,h=(s+u)/2;(a=n[0])&&r.push(new ua(a,o,s,c,h)),(a=n[1])&&r.push(new ua(a,c,s,l,h)),(a=n[2])&&r.push(new ua(a,o,h,c,u)),(a=n[3])&&r.push(new ua(a,c,h,l,u))}t.push(e)}for(;e=t.pop();)i(e.node,e.x0,e.y0,e.x1,e.y1);return this}function A3(i){return i[0]}function T3(i){return arguments.length?(this._x=i,this):this._x}function P3(i){return i[1]}function O3(i){return arguments.length?(this._y=i,this):this._y}function ch(i,r,t){var e=new hh(r==null?A3:r,t==null?P3:t,NaN,NaN,NaN,NaN);return i==null?e:e.addAll(i)}function hh(i,r,t,e,n,a){this._x=i,this._y=r,this._x0=t,this._y0=e,this._x1=n,this._y1=a,this._root=void 0}function Yx(i){for(var r={data:i.data},t=r;i=i.next;)t=t.next={data:i.data};return r}var fa=ch.prototype=hh.prototype;fa.copy=function(){var i=new hh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,t,e;if(!r)return i;if(!r.length)return i._root=Yx(r),i;for(t=[{source:r,target:i._root=new Array(4)}];r=t.pop();)for(var n=0;n<4;++n)(e=r.source[n])&&(e.length?t.push({source:e,target:r.target[n]=new Array(4)}):r.target[n]=Yx(e));return i},fa.add=d3,fa.addAll=p3,fa.cover=g3,fa.data=y3,fa.extent=m3,fa.find=x3,fa.remove=b3,fa.removeAll=w3,fa.root=S3,fa.size=C3,fa.visit=M3,fa.visitAfter=E3,fa.x=T3,fa.y=O3;function ca(i){return function(){return i}}function Co(i){return(i()-.5)*1e-6}var I3={value:function(){}};function zx(){for(var i=0,r=arguments.length,t={},e;i<r;++i){if(!(e=arguments[i]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new Au(t)}function Au(i){this._=i}function k3(i,r){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}Au.prototype=zx.prototype={constructor:Au,on:function(r,t){var e=this._,n=k3(r+"",e),a,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((a=(r=n[o]).type)&&(a=L3(e[a],r.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(r=n[o]).type)e[a]=Vx(e[a],r.name,t);else if(t==null)for(a in e)e[a]=Vx(e[a],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new Au(r)},call:function(r,t){if((a=arguments.length-2)>0)for(var e=new Array(a),n=0,a,o;n<a;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,a=o.length;n<a;++n)o[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],a=0,o=n.length;a<o;++a)n[a].value.apply(t,e)}};function L3(i,r){for(var t=0,e=i.length,n;t<e;++t)if((n=i[t]).name===r)return n.value}function Vx(i,r,t){for(var e=0,n=i.length;e<n;++e)if(i[e].name===r){i[e]=I3,i=i.slice(0,e).concat(i.slice(e+1));break}return t!=null&&i.push({name:r,value:t}),i}var _3=zx,us=0,Hs=0,Ws=0,Xx=1e3,Tu,js,Pu=0,Vo=0,Ou=0,Us=typeof performance=="object"&&performance.now?performance:Date,Hx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function Wx(){return Vo||(Hx(D3),Vo=Us.now()+Ou)}function D3(){Vo=0}function vh(){this._call=this._time=this._next=null}vh.prototype=jx.prototype={constructor:vh,restart:function(i,r,t){if(typeof i!="function")throw new TypeError("callback is not a function");t=(t==null?Wx():+t)+(r==null?0:+r),!this._next&&js!==this&&(js?js._next=this:Tu=this,js=this),this._call=i,this._time=t,dh()},stop:function(){this._call&&(this._call=null,this._time=Infinity,dh())}};function jx(i,r,t){var e=new vh;return e.restart(i,r,t),e}function B3(){Wx(),++us;for(var i=Tu,r;i;)(r=Vo-i._time)>=0&&i._call.call(null,r),i=i._next;--us}function Ux(){Vo=(Pu=Us.now())+Ou,us=Hs=0;try{B3()}finally{us=0,R3(),Vo=0}}function F3(){var i=Us.now(),r=i-Pu;r>Xx&&(Ou-=r,Pu=i)}function R3(){for(var i,r=Tu,t,e=Infinity;r;)r._call?(e>r._time&&(e=r._time),i=r,r=r._next):(t=r._next,r._next=null,r=i?i._next=t:Tu=t);js=i,dh(e)}function dh(i){if(!us){Hs&&(Hs=clearTimeout(Hs));var r=i-Vo;r>24?(i<Infinity&&(Hs=setTimeout(Ux,i-Us.now()-Ou)),Ws&&(Ws=clearInterval(Ws))):(Ws||(Pu=Us.now(),Ws=setInterval(F3,Xx)),us=1,Hx(Ux))}}var N3=1664525,G3=1013904223,Zx=4294967296;function Y3(){var i=1;return function(){return(i=(N3*i+G3)%Zx)/Zx}}function z3(i){return i.x}function V3(i){return i.y}var X3=10,H3=Math.PI*(3-Math.sqrt(5));function Qx(i){var r,t=1,e=.001,n=1-Math.pow(e,1/300),a=0,o=.6,s=new Map,l=jx(h),u=_3("tick","end"),c=Y3();i==null&&(i=[]);function h(){g(),u.call("tick",r),t<e&&(l.stop(),u.call("end",r))}function g(D){var N,H=i.length,X;D===void 0&&(D=1);for(var mt=0;mt<D;++mt)for(t+=(a-t)*n,s.forEach(function(xt){xt(t)}),N=0;N<H;++N)X=i[N],X.fx==null?X.x+=X.vx*=o:(X.x=X.fx,X.vx=0),X.fy==null?X.y+=X.vy*=o:(X.y=X.fy,X.vy=0);return r}function w(){for(var D=0,N=i.length,H;D<N;++D){if(H=i[D],H.index=D,H.fx!=null&&(H.x=H.fx),H.fy!=null&&(H.y=H.fy),isNaN(H.x)||isNaN(H.y)){var X=X3*Math.sqrt(.5+D),mt=D*H3;H.x=X*Math.cos(mt),H.y=X*Math.sin(mt)}(isNaN(H.vx)||isNaN(H.vy))&&(H.vx=H.vy=0)}}function L(D){return D.initialize&&D.initialize(i,c),D}return w(),r={tick:g,restart:function(){return l.restart(h),r},stop:function(){return l.stop(),r},nodes:function(N){return arguments.length?(i=N,w(),s.forEach(L),r):i},alpha:function(N){return arguments.length?(t=+N,r):t},alphaMin:function(N){return arguments.length?(e=+N,r):e},alphaDecay:function(N){return arguments.length?(n=+N,r):+n},alphaTarget:function(N){return arguments.length?(a=+N,r):a},velocityDecay:function(N){return arguments.length?(o=1-N,r):1-o},randomSource:function(N){return arguments.length?(c=N,s.forEach(L),r):c},force:function(N,H){return arguments.length>1?(H==null?s.delete(N):s.set(N,L(H)),r):s.get(N)},find:function(N,H,X){var mt=0,xt=i.length,Pt,Ht,te,oe,qt;for(X==null?X=Infinity:X*=X,mt=0;mt<xt;++mt)oe=i[mt],Pt=N-oe.x,Ht=H-oe.y,te=Pt*Pt+Ht*Ht,te<X&&(qt=oe,X=te);return qt},on:function(N,H){return arguments.length>1?(u.on(N,H),r):u.on(N)}}}function Kx(){var i,r,t,e,n=ca(-30),a,o=1,s=Infinity,l=.81;function u(w){var L,D=i.length,N=ch(i,z3,V3).visitAfter(h);for(e=w,L=0;L<D;++L)r=i[L],N.visit(g)}function c(){if(!!i){var w,L=i.length,D;for(a=new Array(L),w=0;w<L;++w)D=i[w],a[D.index]=+n(D,w,i)}}function h(w){var L=0,D,N,H=0,X,mt,xt;if(w.length){for(X=mt=xt=0;xt<4;++xt)(D=w[xt])&&(N=Math.abs(D.value))&&(L+=D.value,H+=N,X+=N*D.x,mt+=N*D.y);w.x=X/H,w.y=mt/H}else{D=w,D.x=D.data.x,D.y=D.data.y;do L+=a[D.data.index];while(D=D.next)}w.value=L}function g(w,L,D,N){if(!w.value)return!0;var H=w.x-r.x,X=w.y-r.y,mt=N-L,xt=H*H+X*X;if(mt*mt/l<xt)return xt<s&&(H===0&&(H=Co(t),xt+=H*H),X===0&&(X=Co(t),xt+=X*X),xt<o&&(xt=Math.sqrt(o*xt)),r.vx+=H*w.value*e/xt,r.vy+=X*w.value*e/xt),!0;if(w.length||xt>=s)return;(w.data!==r||w.next)&&(H===0&&(H=Co(t),xt+=H*H),X===0&&(X=Co(t),xt+=X*X),xt<o&&(xt=Math.sqrt(o*xt)));do w.data!==r&&(mt=a[w.data.index]*e/xt,r.vx+=H*mt,r.vy+=X*mt);while(w=w.next)}return u.initialize=function(w,L){i=w,t=L,c()},u.strength=function(w){return arguments.length?(n=typeof w=="function"?w:ca(+w),c(),u):n},u.distanceMin=function(w){return arguments.length?(o=w*w,u):Math.sqrt(o)},u.distanceMax=function(w){return arguments.length?(s=w*w,u):Math.sqrt(s)},u.theta=function(w){return arguments.length?(l=w*w,u):Math.sqrt(l)},u}function W3(i,r){var t,e=1;i==null&&(i=0),r==null&&(r=0);function n(){var a,o=t.length,s,l=0,u=0;for(a=0;a<o;++a)s=t[a],l+=s.x,u+=s.y;for(l=(l/o-i)*e,u=(u/o-r)*e,a=0;a<o;++a)s=t[a],s.x-=l,s.y-=u}return n.initialize=function(a){t=a},n.x=function(a){return arguments.length?(i=+a,n):i},n.y=function(a){return arguments.length?(r=+a,n):r},n.strength=function(a){return arguments.length?(e=+a,n):e},n}function j3(i){return i.index}function $x(i,r){var t=i.get(r);if(!t)throw new Error("node not found: "+r);return t}function Jx(i){var r=j3,t=h,e,n=ca(30),a,o,s,l,u,c=1;i==null&&(i=[]);function h(N){return 1/Math.min(s[N.source.index],s[N.target.index])}function g(N){for(var H=0,X=i.length;H<c;++H)for(var mt=0,xt,Pt,Ht,te,oe,qt,we;mt<X;++mt)xt=i[mt],Pt=xt.source,Ht=xt.target,te=Ht.x+Ht.vx-Pt.x-Pt.vx||Co(u),oe=Ht.y+Ht.vy-Pt.y-Pt.vy||Co(u),qt=Math.sqrt(te*te+oe*oe),qt=(qt-a[mt])/qt*N*e[mt],te*=qt,oe*=qt,Ht.vx-=te*(we=l[mt]),Ht.vy-=oe*we,Pt.vx+=te*(we=1-we),Pt.vy+=oe*we}function w(){if(!!o){var N,H=o.length,X=i.length,mt=new Map(o.map(function(Pt,Ht){return[r(Pt,Ht,o),Pt]})),xt;for(N=0,s=new Array(H);N<X;++N)xt=i[N],xt.index=N,typeof xt.source!="object"&&(xt.source=$x(mt,xt.source)),typeof xt.target!="object"&&(xt.target=$x(mt,xt.target)),s[xt.source.index]=(s[xt.source.index]||0)+1,s[xt.target.index]=(s[xt.target.index]||0)+1;for(N=0,l=new Array(X);N<X;++N)xt=i[N],l[N]=s[xt.source.index]/(s[xt.source.index]+s[xt.target.index]);e=new Array(X),L(),a=new Array(X),D()}}function L(){if(!!o)for(var N=0,H=i.length;N<H;++N)e[N]=+t(i[N],N,i)}function D(){if(!!o)for(var N=0,H=i.length;N<H;++N)a[N]=+n(i[N],N,i)}return g.initialize=function(N,H){o=N,u=H,w()},g.links=function(N){return arguments.length?(i=N,w(),g):i},g.id=function(N){return arguments.length?(r=N,g):r},g.iterations=function(N){return arguments.length?(c=+N,g):c},g.strength=function(N){return arguments.length?(t=typeof N=="function"?N:ca(+N),L(),g):t},g.distance=function(N){return arguments.length?(n=typeof N=="function"?N:ca(+N),D(),g):n},g}function U3(i){return i.x+i.vx}function Z3(i){return i.y+i.vy}function qx(i){var r,t,e,n=1,a=1;typeof i!="function"&&(i=ca(i==null?1:+i));function o(){for(var u,c=r.length,h,g,w,L,D,N,H=0;H<a;++H)for(h=ch(r,U3,Z3).visitAfter(s),u=0;u<c;++u)g=r[u],D=t[g.index],N=D*D,w=g.x+g.vx,L=g.y+g.vy,h.visit(X);function X(mt,xt,Pt,Ht,te){var oe=mt.data,qt=mt.r,we=D+qt;if(oe){if(oe.index>g.index){var Ie=w-oe.x-oe.vx,Pe=L-oe.y-oe.vy,Ke=Ie*Ie+Pe*Pe;Ke<we*we&&(Ie===0&&(Ie=Co(e),Ke+=Ie*Ie),Pe===0&&(Pe=Co(e),Ke+=Pe*Pe),Ke=(we-(Ke=Math.sqrt(Ke)))/Ke*n,g.vx+=(Ie*=Ke)*(we=(qt*=qt)/(N+qt)),g.vy+=(Pe*=Ke)*we,oe.vx-=Ie*(we=1-we),oe.vy-=Pe*we)}return}return xt>w+we||Ht<w-we||Pt>L+we||te<L-we}}function s(u){if(u.data)return u.r=t[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function l(){if(!!r){var u,c=r.length,h;for(t=new Array(c),u=0;u<c;++u)h=r[u],t[h.index]=+i(h,u,r)}}return o.initialize=function(u,c){r=u,e=c,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(n=+u,o):n},o.radius=function(u){return arguments.length?(i=typeof u=="function"?u:ca(+u),l(),o):i},o}function Q3(i){var r=ca(.1),t,e,n;typeof i!="function"&&(i=ca(i==null?0:+i));function a(s){for(var l=0,u=t.length,c;l<u;++l)c=t[l],c.vx+=(n[l]-c.x)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:ca(+s),o(),a):r},a.x=function(s){return arguments.length?(i=typeof s=="function"?s:ca(+s),o(),a):i},a}function K3(i){var r=ca(.1),t,e,n;typeof i!="function"&&(i=ca(i==null?0:+i));function a(s){for(var l=0,u=t.length,c;l<u;++l)c=t[l],c.vy+=(n[l]-c.y)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:ca(+s),o(),a):r},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:ca(+s),o(),a):i},a}function $3(){function i(Or){return function(){return Or}}var r=function(Hr){return Hr.cluster},t=i(1),e=i(-1),n=i(100),a=i(.1),o=[0,0],s=[],l={},u=[],c=100,h=100,g={none:{x:0,y:0}},w=[],L,D="force",N=!0,H=.1;function X(Or){if(!N)return X;L.tick(),oe();for(var Hr=0,an=s.length,Ur=void 0,jr=Or*H;Hr<an;++Hr)Ur=s[Hr],Ur.vx+=(g[r(Ur)].x-Ur.x)*jr,Ur.vy+=(g[r(Ur)].y-Ur.y)*jr}function mt(){!s||xt()}function xt(){if(!(!s||!s.length)){if(r(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Or=Pt();L=Qx(Or.nodes).force("x",Q3(c).strength(.1)).force("y",K3(h).strength(.1)).force("collide",qx(function(Hr){return Hr.r}).iterations(4)).force("charge",Kx().strength(e)).force("links",Jx(Or.nodes.length?Or.links:[]).distance(n).strength(a)),w=L.nodes(),oe()}}function Pt(){var Or=[],Hr=[],an={},Ur=[],jr={},ln=[];return jr=Ht(s),ln=te(u),Ur=Object.keys(jr),Ur.forEach(function(xn,tn){var vr=jr[xn];Or.push({id:xn,size:vr.count,r:Math.sqrt(vr.sumforceNodeSize/Math.PI)}),an[xn]=tn}),ln.forEach(function(xn){var tn=an[xn.source],vr=an[xn.target];tn!==void 0&&vr!==void 0&&Hr.push({source:tn,target:vr,count:xn.count})}),{nodes:Or,links:Hr}}function Ht(Or){var Hr={};return Or.forEach(function(an){var Ur=r(an);Hr[Ur]||(Hr[Ur]={count:0,sumforceNodeSize:0})}),Or.forEach(function(an){var Ur=r(an),jr=t(an),ln=Hr[Ur];ln.count=ln.count+1,ln.sumforceNodeSize=ln.sumforceNodeSize+Math.PI*(jr*jr)*1.3,Hr[Ur]=ln}),Hr}function te(Or){var Hr={},an=[];Or.forEach(function(jr){var ln=qt(jr),xn=0;Hr[ln]!==void 0&&(xn=Hr[ln]),xn+=1,Hr[ln]=xn});var Ur=Object.entries(Hr);return Ur.forEach(function(jr){var ln=jr[0],xn=jr[1],tn=ln.split("~")[0],vr=ln.split("~")[1];tn!==void 0&&vr!==void 0&&an.push({source:tn,target:vr,count:xn})}),an}function oe(){return g={none:{x:0,y:0}},w.forEach(function(Or){g[Or.id]={x:Or.x-o[0],y:Or.y-o[1]}}),g}function qt(Or){var Hr=r(l[Or.source]),an=r(l[Or.target]);return Hr<=an?Hr+"~"+an:an+"~"+Hr}function we(Or){l={},Or.forEach(function(Hr){l[Hr.id]=Hr})}function Ie(Or){return arguments.length?(D=Or,mt(),X):D}function Pe(Or){return arguments.length?typeof Or=="string"?(r=function(an){return an[Or]},X):(r=Or,X):r}function Ke(Or){return arguments.length?(N=Or,X):N}function ar(Or){return arguments.length?(H=Or,X):H}function rr(Or){return arguments.length?(c=Or,X):c}function Mr(Or){return arguments.length?(h=Or,X):h}function Ar(Or){return arguments.length?(we(Or||[]),s=Or||[],X):s}function Pr(Or){return arguments.length?(u=Or||[],mt(),X):u}function xr(Or){return arguments.length?(typeof Or=="function"?t=Or:t=i(+Or),mt(),X):t}function br(Or){return arguments.length?(typeof Or=="function"?e=Or:e=i(+Or),mt(),X):e}function Xr(Or){return arguments.length?(typeof Or=="function"?n=Or:n=i(+Or),mt(),X):n}function zr(Or){return arguments.length?(typeof Or=="function"?a=Or:a=i(+Or),mt(),X):a}function Kr(Or){return arguments.length?(o=Or,X):o}return X.initialize=function(Or){s=Or,mt()},X.template=Ie,X.groupBy=Pe,X.enableGrouping=Ke,X.strength=ar,X.centerX=rr,X.centerY=Mr,X.nodes=Ar,X.links=Pr,X.forceNodeSize=xr,X.nodeSize=X.forceNodeSize,X.forceCharge=br,X.forceLinkDistance=Xr,X.forceLinkStrength=zr,X.offset=Kr,X.getFocis=oe,X}var fo={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"},J3=function(i){ai(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},r.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var n=t.edges||[];e.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),e.ticking=!1},r.prototype.execute=function(t){var e=this,n=e.nodes,a=e.edges;if(!e.ticking){var o=e.forceSimulation,s=e.alphaMin,l=e.alphaDecay,u=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(a)),o.nodes(n),e.edgeForce.links(a)),e.preventOverlap&&e.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0;else try{var c=Kx();if(e.nodeStrength&&c.strength(e.nodeStrength),o=Qx().nodes(n),e.clustering){var h=$3();h.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),a&&h.links(a),n&&h.nodes(n),h.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=h,o.force("group",h)}if(o.force("center",W3(e.center[0],e.center[1])).force("charge",c).alpha(u).alphaDecay(l).alphaMin(s),e.preventOverlap&&e.overlapProcess(o),a){var g=Jx().id(function(D){return D.id}).links(a);e.edgeStrength&&g.strength(e.edgeStrength),e.linkDistance&&g.distance(e.linkDistance),e.edgeForce=g,o.force("link",g)}if(e.workerEnabled&&!e6()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!e.workerEnabled)o.on("tick",function(){e.tick()}).on("end",function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;else{o.stop();for(var w=t6(o),L=1;L<=w;L++)o.tick(),postMessage({type:fo.TICK,currentTick:L,totalTicks:w,nodes:n},void 0);e.ticking=!1}e.forceSimulation=o,e.ticking=!0}catch(D){e.ticking=!1,console.warn(D)}}},r.prototype.overlapProcess=function(t){var e=this,n=e.nodeSize,a=e.nodeSpacing,o,s,l=e.collideStrength;if((0,Da.default)(a)?s=function(){return a}:(0,ll.default)(a)?s=a:s=function(){return 0},!n)o=function(w){if(w.size){if((0,Yi.default)(w.size)){var L=w.size[0]>w.size[1]?w.size[0]:w.size[1];return L/2+s(w)}return w.size/2+s(w)}return 10+s(w)};else if((0,ll.default)(n))o=function(w){var L=n(w);return L+s(w)};else if((0,Yi.default)(n)){var u=n[0]>n[1]?n[0]:n[1],c=u/2;o=function(w){return c+s(w)}}else if((0,Da.default)(n)){var h=n/2;o=function(w){return h+s(w)}}else o=function(){return 10};t.force("collisionForce",qx(o).strength(l))},r.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,(0,Xs.default)(e,t)},r.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},r}(Pa),q3=J3;function t6(i){var r=i.alphaMin(),t=i.alphaTarget(),e=i.alpha(),n=Math.log((r-t)/(e-t))/Math.log(1-i.alphaDecay()),a=Math.ceil(n);return a}function e6(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var r6=function(i){ai(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}var a={},o={};e.forEach(function(s,l){a[s.id]=s,o[s.id]=l}),t.nodeMap=a,t.nodeIdxMap=o,t.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.velocityDecay,l=t.clustering,u;t.initVals(),l&&(u=t.getClusterMap());for(var c=function(N){var H=[];e.forEach(function(X,mt){H[mt]={x:0,y:0}}),t.applyCalculate(e,n,H),l&&t.applyClusterForce(u,H),e.forEach(function(X,mt){!(0,f.isNumber)(X.x)||!(0,f.isNumber)(X.y)||(X.x+=H[mt].x*s,X.y+=H[mt].y*s)}),h.alpha+=(h.alphaTarget-h.alpha)*h.alphaDecay,t.tick()},h=this,g=0;g<a;g++)c(g);var w=[0,0];e.forEach(function(D){!(0,f.isNumber)(D.x)||!(0,f.isNumber)(D.y)||(w[0]+=D.x,w[1]+=D.y)}),w[0]/=e.length,w[1]/=e.length;var L=[o[0]-w[0],o[1]-w[1]];e.forEach(function(D,N){!(0,f.isNumber)(D.x)||!(0,f.isNumber)(D.y)||(D.x+=L[0],D.y+=L[1])})},r.prototype.initVals=function(){for(var t=this,e=t.edges,n={},a=0;a<e.length;++a)n[e[a].source]?n[e[a].source]++:n[e[a].source]=1,n[e[a].target]?n[e[a].target]++:n[e[a].target]=1;for(var o=[],a=0;a<e.length;++a)o[a]=n[e[a].source]/(n[e[a].source]+n[e[a].target]);this.bias=o;var s=t.nodeSize,l=t.nodeSpacing,u,c;if((0,f.isNumber)(l)?c=function(){return l}:(0,f.isFunction)(l)?c=l:c=function(){return 0},!s)u=function(Pt){if(Pt.size){if((0,f.isArray)(Pt.size)){var Ht=Pt.size[0]>Pt.size[1]?Pt.size[0]:Pt.size[1];return Ht/2+c(Pt)}return Pt.size/2+c(Pt)}return 10+c(Pt)};else if((0,f.isFunction)(s))u=function(Pt){var Ht=s(Pt);return Ht+c(Pt)};else if((0,f.isArray)(s)){var h=s[0]>s[1]?s[0]:s[1],g=h/2;u=function(Pt){return g+c(Pt)}}else if((0,f.isNumber)(s)){var w=s/2;u=function(Pt){return w+c(Pt)}}else u=function(){return 10};this.nodeSize=u;var L=this.linkDistance,D;L||(L=50),(0,f.isNumber)(L)&&(D=function(Pt){return L}),this.linkDistance=D;var N=this.linkStrength,H;N||(N=1),(0,f.isNumber)(N)&&(H=function(Pt){return N}),this.linkStrength=H;var X=this.nodeStrength,mt;X||(X=30),(0,f.isNumber)(X)&&(mt=function(Pt){return X}),this.nodeStrength=mt},r.prototype.getClusterMap=function(){var t=this,e=t.nodes,n={};e.forEach(function(o){if(n[o.cluster]===void 0){var s={name:o.cluster,cx:0,cy:0,count:0};n[o.cluster]=s}var l=n[o.cluster];(0,f.isNumber)(o.x)&&(l.cx+=o.x),(0,f.isNumber)(o.y)&&(l.cy+=o.y),l.count++});for(var a in n)n[a].cx/=n[a].count,n[a].cy/=n[a].count;return n},r.prototype.applyClusterForce=function(t,e){var n=this,a=n.gravity,o=n.nodes,s=n.clusterGravity||a,l=this.alpha;o.forEach(function(c,h){if(!(!(0,f.isNumber)(c.x)||!(0,f.isNumber)(c.y))){var g=t[c.cluster],w=c.x-g.cx,L=c.y-g.cy,D=Math.sqrt(w*w+L*L);e[h].x-=w*s*l/D,e[h].y-=L*s*l/D}});for(var u in t)t[u].cx=0,t[u].cy=0,t[u].count=0;o.forEach(function(c){var h=t[c.cluster];(0,f.isNumber)(c.x)&&(h.cx+=c.x),(0,f.isNumber)(c.y)&&(h.cy+=c.y),h.count++});for(var u in t)t[u].cx/=t[u].count,t[u].cy/=t[u].count},r.prototype.applyCalculate=function(t,e,n){var a=this,o={};t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,c){if(!(l<c)){var h=s.x-u.x,g=s.y-u.y,w=h*h+g*g;w<1&&(w=Math.sqrt(w)),h===0&&(h=Math.random()*.01,w+=h*h),g===0&&(g=Math.random()*.01,w+=g*g);var L=Math.sqrt(w);o[s.id+"-"+u.id]={vx:h,vy:g,vl:w,sqrtVl:L},o[u.id+"-"+s.id]={vx:-h,vy:-g,vl:w,sqrtVl:L}}})}),a.calRepulsive(t,n,o),a.calAttractive(e,n,o)},r.prototype.calRepulsive=function(t,e,n){var a=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,s=this.alpha,l=this.collideStrength,u=this.preventOverlap,c=this.nodeSize;t.forEach(function(h,g){t.forEach(function(w,L){if(g!==L&&!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(w.x)||!(0,f.isNumber)(h.y)||!(0,f.isNumber)(w.y))){var D=n[h.id+"-"+w.id],N=D.vl,H=D.vx,X=D.vy;if(!(N>a)&&(e[g].x+=H*o(w)*s/N,e[g].y+=X*o(w)*s/N,u&&g<L)){var mt=c(h),xt=c(w),Pt=mt+xt;if(N<Pt*Pt){var Ht=n[h.id+"-"+w.id].sqrtVl,te=(Pt-Ht)/Ht*l,oe=xt*xt/(mt*mt+xt*xt),qt=H*te,we=X*te;e[g].x+=qt*oe,e[g].y+=we*oe,oe=1-oe,e[L].x-=qt*oe,e[L].y-=we*oe}}}})})},r.prototype.calAttractive=function(t,e,n){var a=this,o=this.linkDistance,s=this.alpha,l=this.linkStrength,u=this.bias;t.forEach(function(c,h){if(!(!c.source||!c.target)){var g=a.nodeIdxMap[c.source],w=a.nodeIdxMap[c.target];if(g!==w){var L=a.nodeMap[c.source],D=a.nodeMap[c.target];if(!(!(0,f.isNumber)(D.x)||!(0,f.isNumber)(L.x)||!(0,f.isNumber)(D.y)||!(0,f.isNumber)(L.y))){var N=n[c.target+"-"+c.source],H=N.vl,X=N.sqrtVl,mt=N.vx,xt=N.vy,Pt=(X-o(c))/X*s*l(c),Ht=mt*Pt,te=xt*Pt,oe=u[h];e[w].x-=Ht*oe,e[w].y-=te*oe,e[g].x+=Ht*(1-oe),e[g].y+=te*(1-oe)}}}})},r}(Pa),n6=r6,i6=800,a6=function(i){ai(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},r.prototype.execute=function(){var t=this,e=this,n=e.nodes,a=e.center;if(!(!n||n.length===0)){if(n.length===1){n[0].x=a[0],n[0].y=a[1];return}var o={},s={};n.forEach(function(l,u){(0,f.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,f.isNumber)(l.y)||(l.y=Math.random()*t.height),o[l.id]=l,s[l.id]=u}),e.nodeMap=o,e.nodeIdxMap=s,e.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.width/10,l=Math.sqrt(t.width*t.height/(e.length+1)),u=t.gravity,c=t.speed,h=t.clustering,g={};if(h){e.forEach(function(N){if(g[N.cluster]===void 0){var H={name:N.cluster,cx:0,cy:0,count:0};g[N.cluster]=H}var X=g[N.cluster];(0,f.isNumber)(N.x)&&(X.cx+=N.x),(0,f.isNumber)(N.y)&&(X.cy+=N.y),X.count++});for(var w in g)g[w].cx/=g[w].count,g[w].cy/=g[w].count}for(var L=function(H){var X=[];if(e.forEach(function(Pt,Ht){X[Ht]={x:0,y:0}}),t.applyCalculate(e,n,X,l),h){var mt=t.clusterGravity||u;e.forEach(function(Pt,Ht){if(!(!(0,f.isNumber)(Pt.x)||!(0,f.isNumber)(Pt.y))){var te=g[Pt.cluster],oe=Math.sqrt((Pt.x-te.cx)*(Pt.x-te.cx)+(Pt.y-te.cy)*(Pt.y-te.cy)),qt=l*mt;X[Ht].x-=qt*(Pt.x-te.cx)/oe,X[Ht].y-=qt*(Pt.y-te.cy)/oe}});for(var xt in g)g[xt].cx=0,g[xt].cy=0,g[xt].count=0;e.forEach(function(Pt){var Ht=g[Pt.cluster];(0,f.isNumber)(Pt.x)&&(Ht.cx+=Pt.x),(0,f.isNumber)(Pt.y)&&(Ht.cy+=Pt.y),Ht.count++});for(var xt in g)g[xt].cx/=g[xt].count,g[xt].cy/=g[xt].count}e.forEach(function(Pt,Ht){if(!(!(0,f.isNumber)(Pt.x)||!(0,f.isNumber)(Pt.y))){var te=.01*l*u;X[Ht].x-=te*(Pt.x-o[0]),X[Ht].y-=te*(Pt.y-o[1])}}),e.forEach(function(Pt,Ht){if(!(!(0,f.isNumber)(Pt.x)||!(0,f.isNumber)(Pt.y))){var te=Math.sqrt(X[Ht].x*X[Ht].x+X[Ht].y*X[Ht].y);if(te>0){var oe=Math.min(s*(c/i6),te);Pt.x+=X[Ht].x/te*oe,Pt.y+=X[Ht].y/te*oe}}})},D=0;D<a;D++)L(D)},r.prototype.applyCalculate=function(t,e,n,a){var o=this;o.calRepulsive(t,n,a),o.calAttractive(e,n,a)},r.prototype.calRepulsive=function(t,e,n){t.forEach(function(a,o){e[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,f.isNumber)(a.x)||!(0,f.isNumber)(s.x)||!(0,f.isNumber)(a.y)||!(0,f.isNumber)(s.y))){var u=a.x-s.x,c=a.y-s.y,h=u*u+c*c;if(h===0){h=1;var g=o>l?1:-1;u=.01*g,c=.01*g}var w=n*n/h;e[o].x+=u*w,e[o].y+=c*w}})})},r.prototype.calAttractive=function(t,e,n){var a=this;t.forEach(function(o){if(!(!o.source||!o.target)){var s=a.nodeIdxMap[o.source],l=a.nodeIdxMap[o.target];if(s!==l){var u=a.nodeMap[o.source],c=a.nodeMap[o.target];if(!(!(0,f.isNumber)(c.x)||!(0,f.isNumber)(u.x)||!(0,f.isNumber)(c.y)||!(0,f.isNumber)(u.y))){var h=c.x-u.x,g=c.y-u.y,w=Math.sqrt(h*h+g*g),L=w*w/n;e[l].x-=h/w*L,e[l].y-=g/w*L,e[s].x+=h/w*L,e[s].y+=g/w*L}}}})},r}(Pa),o6=a6,s6=function(i){ai(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return r.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},r.prototype.execute=function(){var t=this,e=t.nodes,n=e.length,a=t.center;if(n!==0){if(n===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.edges,s=[];e.forEach(function(X){s.push(X)});var l={};if(s.forEach(function(X,mt){l[X.id]=mt}),(t.sortBy==="degree"||!(0,Hn.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",so(e[0].degree))){var u=hu(s.length,l,o);s.forEach(function(X,mt){X.degree=u[mt]})}s.sort(function(X,mt){return mt[t.sortBy]-X[t.sortBy]}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var c=t.rows,h=t.cols!=null?t.cols:t.columns;if(t.cells=n,c!=null&&h!=null?(t.rows=c,t.cols=h):c!=null&&h==null?(t.rows=c,t.cols=Math.ceil(t.cells/t.rows)):c==null&&h!=null?(t.cols=h,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var g=t.small(),w=t.large();(g-1)*w>=t.cells?t.small(g-1):(w-1)*g>=t.cells&&t.large(w-1)}else for(;t.cols*t.rows<t.cells;){var g=t.small(),w=t.large();(w+1)*g>=t.cells?t.large(w+1):t.small(g+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&s.forEach(function(X){(!X.x||!X.y)&&(X.x=0,X.y=0);var mt,xt;(0,f.isArray)(X.size)?(mt=X.size[0],xt=X.size[1]):(0,f.isNumber)(X.size)&&(mt=X.size,xt=X.size),(mt===void 0||xt===void 0)&&((0,f.isArray)(t.nodeSize)?(mt=t.nodeSize[0],xt=t.nodeSize[1]):(0,f.isNumber)(t.nodeSize)?(mt=t.nodeSize,xt=t.nodeSize):(mt=30,xt=30));var Pt=t.preventOverlapPadding,Ht=mt+Pt,te=xt+Pt;t.cellWidth=Math.max(t.cellWidth,Ht),t.cellHeight=Math.max(t.cellHeight,te)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var L=0;L<s.length;L++){var D=s[L],N=void 0;if(t.position&&(N=t.position(D)),N&&(N.row!==void 0||N.col!==void 0)){var H={row:N.row,col:N.col};if(H.col===void 0)for(H.col=0;t.used(H.row,H.col);)H.col++;else if(H.row===void 0)for(H.row=0;t.used(H.row,H.col);)H.row++;t.id2manPos[D.id]=H,t.use(H.row,H.col)}t.getPos(D)}}},r.prototype.small=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.large=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.used=function(t,e){var n=this;return n.cellUsed["c-"+t+"-"+e]||!1},r.prototype.use=function(t,e){var n=this;n.cellUsed["c-"+t+"-"+e]=!0},r.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},r.prototype.getPos=function(t){var e=this,n=e.begin,a=e.cellWidth,o=e.cellHeight,s,l,u=e.id2manPos[t.id];if(u)s=u.col*a+a/2+n[0],l=u.row*o+o/2+n[1];else{for(;e.used(e.row,e.col);)e.moveToNextCell();s=e.col*a+a/2+n[0],l=e.row*o+o/2+n[1],e.use(e.row,e.col),e.moveToNextCell()}t.x=s,t.y=l},r}(Pa),l6=s6,u6=v(79320),t1=v(81306),e1=v(59206),Iu=v(69610),ku=v(54941);const f6=Object.prototype.toString;function ga(i){return f6.call(i).endsWith("Array]")}function c6(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ga(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]>o&&(o=i[s]);return o}function h6(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!ga(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]<o&&(o=i[s]);return o}function r1(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ga(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!ga(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(i.length);var e=h6(i),n=c6(i);if(e===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,o=a===void 0?r.autoMinMax?e:0:a,s=r.max,l=s===void 0?r.autoMinMax?n:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-o)/(n-e),c=0;c<i.length;c++)t[c]=(i[c]-e)*u+o;return t}var Lu=" ".repeat(2),n1=" ".repeat(4);function v6(){return i1(this)}function i1(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.maxRows,e=t===void 0?15:t,n=r.maxColumns,a=n===void 0?10:n,o=r.maxNumSize,s=o===void 0?8:o;return"".concat(i.constructor.name,` {
`).concat(Lu,`[
`).concat(n1).concat(d6(i,e,a,s),`
`).concat(Lu,`]
`).concat(Lu,"rows: ").concat(i.rows,`
`).concat(Lu,"columns: ").concat(i.columns,`
}`)}function d6(i,r,t,e){for(var n=i.rows,a=i.columns,o=Math.min(n,r),s=Math.min(a,t),l=[],u=0;u<o;u++){for(var c=[],h=0;h<s;h++)c.push(p6(i.get(u,h),e));l.push("".concat(c.join(" ")))}return s!==a&&(l[l.length-1]+=" ... ".concat(a-t," more columns")),o!==n&&l.push("... ".concat(n-r," more rows")),l.join(`
`.concat(n1))}function p6(i,r){var t=String(i);if(t.length<=r)return t.padEnd(r," ");var e=i.toPrecision(r-2);if(e.length<=r)return e;var n=i.toExponential(r-2),a=n.indexOf("e"),o=n.slice(a);return n.slice(0,r-o.length)+o}function g6(i,r){i.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},i.prototype.addS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e);return this},i.prototype.addM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e.get(n,a));return this},i.add=function(e,n){var a=new r(e);return a.add(n)},i.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},i.prototype.subS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e);return this},i.prototype.subM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e.get(n,a));return this},i.sub=function(e,n){var a=new r(e);return a.sub(n)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},i.prototype.mulS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e);return this},i.prototype.mulM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e.get(n,a));return this},i.mul=function(e,n){var a=new r(e);return a.mul(n)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},i.prototype.divS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e);return this},i.prototype.divM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e.get(n,a));return this},i.div=function(e,n){var a=new r(e);return a.div(n)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},i.prototype.modS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e);return this},i.prototype.modM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e.get(n,a));return this},i.mod=function(e,n){var a=new r(e);return a.mod(n)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},i.prototype.andS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e);return this},i.prototype.andM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e.get(n,a));return this},i.and=function(e,n){var a=new r(e);return a.and(n)},i.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},i.prototype.orS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e);return this},i.prototype.orM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e.get(n,a));return this},i.or=function(e,n){var a=new r(e);return a.or(n)},i.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},i.prototype.xorS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e);return this},i.prototype.xorM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e.get(n,a));return this},i.xor=function(e,n){var a=new r(e);return a.xor(n)},i.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},i.prototype.leftShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e);return this},i.prototype.leftShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e.get(n,a));return this},i.leftShift=function(e,n){var a=new r(e);return a.leftShift(n)},i.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},i.prototype.signPropagatingRightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e);return this},i.prototype.signPropagatingRightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e.get(n,a));return this},i.signPropagatingRightShift=function(e,n){var a=new r(e);return a.signPropagatingRightShift(n)},i.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},i.prototype.rightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e);return this},i.prototype.rightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e.get(n,a));return this},i.rightShift=function(e,n){var a=new r(e);return a.rightShift(n)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,~this.get(e,n));return this},i.not=function(e){var n=new r(e);return n.not()},i.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.abs(this.get(e,n)));return this},i.abs=function(e){var n=new r(e);return n.abs()},i.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acos(this.get(e,n)));return this},i.acos=function(e){var n=new r(e);return n.acos()},i.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acosh(this.get(e,n)));return this},i.acosh=function(e){var n=new r(e);return n.acosh()},i.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asin(this.get(e,n)));return this},i.asin=function(e){var n=new r(e);return n.asin()},i.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asinh(this.get(e,n)));return this},i.asinh=function(e){var n=new r(e);return n.asinh()},i.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atan(this.get(e,n)));return this},i.atan=function(e){var n=new r(e);return n.atan()},i.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atanh(this.get(e,n)));return this},i.atanh=function(e){var n=new r(e);return n.atanh()},i.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cbrt(this.get(e,n)));return this},i.cbrt=function(e){var n=new r(e);return n.cbrt()},i.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.ceil(this.get(e,n)));return this},i.ceil=function(e){var n=new r(e);return n.ceil()},i.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.clz32(this.get(e,n)));return this},i.clz32=function(e){var n=new r(e);return n.clz32()},i.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cos(this.get(e,n)));return this},i.cos=function(e){var n=new r(e);return n.cos()},i.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cosh(this.get(e,n)));return this},i.cosh=function(e){var n=new r(e);return n.cosh()},i.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.exp(this.get(e,n)));return this},i.exp=function(e){var n=new r(e);return n.exp()},i.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.expm1(this.get(e,n)));return this},i.expm1=function(e){var n=new r(e);return n.expm1()},i.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.floor(this.get(e,n)));return this},i.floor=function(e){var n=new r(e);return n.floor()},i.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.fround(this.get(e,n)));return this},i.fround=function(e){var n=new r(e);return n.fround()},i.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log(this.get(e,n)));return this},i.log=function(e){var n=new r(e);return n.log()},i.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log1p(this.get(e,n)));return this},i.log1p=function(e){var n=new r(e);return n.log1p()},i.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log10(this.get(e,n)));return this},i.log10=function(e){var n=new r(e);return n.log10()},i.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log2(this.get(e,n)));return this},i.log2=function(e){var n=new r(e);return n.log2()},i.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.round(this.get(e,n)));return this},i.round=function(e){var n=new r(e);return n.round()},i.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sign(this.get(e,n)));return this},i.sign=function(e){var n=new r(e);return n.sign()},i.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sin(this.get(e,n)));return this},i.sin=function(e){var n=new r(e);return n.sin()},i.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sinh(this.get(e,n)));return this},i.sinh=function(e){var n=new r(e);return n.sinh()},i.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sqrt(this.get(e,n)));return this},i.sqrt=function(e){var n=new r(e);return n.sqrt()},i.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tan(this.get(e,n)));return this},i.tan=function(e){var n=new r(e);return n.tan()},i.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tanh(this.get(e,n)));return this},i.tanh=function(e){var n=new r(e);return n.tanh()},i.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.trunc(this.get(e,n)));return this},i.trunc=function(e){var n=new r(e);return n.trunc()},i.pow=function(e,n){var a=new r(e);return a.pow(n)},i.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},i.prototype.powS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e));return this},i.prototype.powM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e.get(n,a)));return this}}function Fa(i,r,t){var e=t?i.rows:i.rows-1;if(r<0||r>e)throw new RangeError("Row index out of range")}function Ra(i,r,t){var e=t?i.columns:i.columns-1;if(r<0||r>e)throw new RangeError("Column index out of range")}function fs(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function cs(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function y6(i,r){if(!ga(r))throw new TypeError("row indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.rows)throw new RangeError("row indices are out of range")}function m6(i,r){if(!ga(r))throw new TypeError("column indices must be an array");for(var t=0;t<r.length;t++)if(r[t]<0||r[t]>=i.columns)throw new RangeError("column indices are out of range")}function a1(i,r,t,e,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Du("startRow",r),Du("endRow",t),Du("startColumn",e),Du("endColumn",n),r>t||e>n||r<0||r>=i.rows||t<0||t>=i.rows||e<0||e>=i.columns||n<0||n>=i.columns)throw new RangeError("Submatrix indices are out of range")}function _u(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<i;e++)t.push(r);return t}function Du(i,r){if(typeof r!="number")throw new TypeError("".concat(i," must be a number"))}function hs(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function x6(i){for(var r=_u(i.rows),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]+=i.get(t,e);return r}function b6(i){for(var r=_u(i.columns),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]+=i.get(t,e);return r}function w6(i){for(var r=0,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r+=i.get(t,e);return r}function S6(i){for(var r=_u(i.rows,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]*=i.get(t,e);return r}function C6(i){for(var r=_u(i.columns,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]*=i.get(t,e);return r}function M6(i){for(var r=1,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r*=i.get(t,e);return r}function E6(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<e;o++){for(var s=0,l=0,u=0,c=0;c<n;c++)u=i.get(o,c)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function A6(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<n;o++){for(var s=0,l=0,u=0,c=0;c<e;c++)u=i.get(c,o)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/e)/(e-1)):a.push((l-s*s/e)/e)}return a}function T6(i,r,t){for(var e=i.rows,n=i.columns,a=e*n,o=0,s=0,l=0,u=0;u<e;u++)for(var c=0;c<n;c++)l=i.get(u,c)-t,o+=l,s+=l*l;return r?(s-o*o/a)/(a-1):(s-o*o/a)/a}function P6(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[t])}function O6(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[e])}function I6(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r)}function k6(i){for(var r=[],t=0;t<i.rows;t++){for(var e=0,n=0;n<i.columns;n++)e+=Math.pow(i.get(t,n),2)/(i.columns-1);r.push(Math.sqrt(e))}return r}function L6(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[t])}function _6(i){for(var r=[],t=0;t<i.columns;t++){for(var e=0,n=0;n<i.rows;n++)e+=Math.pow(i.get(n,t),2)/(i.rows-1);r.push(Math.sqrt(e))}return r}function D6(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[e])}function B6(i){for(var r=i.size-1,t=0,e=0;e<i.columns;e++)for(var n=0;n<i.rows;n++)t+=Math.pow(i.get(n,e),2)/r;return Math.sqrt(t)}function F6(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r)}var _i=function(){function i(){(0,Iu.Z)(this,i)}return(0,ku.Z)(i,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);t++}return a}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);for(var s=e+1;s<this.rows;s++)this.get(t,s)!==0&&(a=!1);t++}return a}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var a=e,o=e;o<t.rows;o++)t.get(o,n)>t.get(a,n)&&(a=o);if(t.get(a,n)===0)n++;else{t.swapRows(e,a);for(var s=t.get(e,n),l=n;l<t.columns;l++)t.set(e,l,t.get(e,l)/s);for(var u=e+1;u<t.rows;u++){var c=t.get(u,n)/t.get(e,n);t.set(u,n,0);for(var h=n+1;h<t.columns;h++)t.set(u,h,t.get(u,h)-t.get(e,h)*c)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,a=n-1;a>=0;)if(t.maxRow(a)===0)a--;else{for(var o=0,s=!1;o<n&&s===!1;)t.get(a,o)===1?s=!0:o++;for(var l=0;l<a;l++)for(var u=t.get(l,o),c=o;c<e;c++){var h=t.get(l,c)-u*t.get(a,c);t.set(l,c,h)}a--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,n=e===void 0?1:e,a=t.columns,o=a===void 0?1:a;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var s=new wn(this.rows*n,this.columns*o),l=0;l<n;l++)for(var u=0;u<o;u++)s.setSubMatrix(this,this.rows*l,this.columns*u);return s}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){Fa(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return wn.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){Fa(this,t),e=fs(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){Fa(this,t),Fa(this,e);for(var n=0;n<this.columns;n++){var a=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,a)}return this}},{key:"getColumn",value:function(t){Ra(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return wn.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){Ra(this,t),e=cs(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){Ra(this,t),Ra(this,e);for(var n=0;n<this.rows;n++){var a=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,a)}return this}},{key:"addRowVector",value:function(t){t=fs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=fs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=fs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=fs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=cs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=cs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=cs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=cs(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){Fa(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){Ra(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>e[n]&&(e[n]=this.get(n,a));return e}case"column":{for(var o=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)>o[l]&&(o[l]=this.get(s,l));return o}case void 0:{for(var u=this.get(0,0),c=0;c<this.rows;c++)for(var h=0;h<this.columns;h++)this.get(c,h)>u&&(u=this.get(c,h));return u}default:throw new Error("invalid option: ".concat(t))}}},{key:"maxIndex",value:function(){hs(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"min",value:function(t){if(this.isEmpty())return NaN;switch(t){case"row":{for(var e=new Array(this.rows).fill(Number.POSITIVE_INFINITY),n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<e[n]&&(e[n]=this.get(n,a));return e}case"column":{for(var o=new Array(this.columns).fill(Number.POSITIVE_INFINITY),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)<o[l]&&(o[l]=this.get(s,l));return o}case void 0:{for(var u=this.get(0,0),c=0;c<this.rows;c++)for(var h=0;h<this.columns;h++)this.get(c,h)<u&&(u=this.get(c,h));return u}default:throw new Error("invalid option: ".concat(t))}}},{key:"minIndex",value:function(){hs(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"maxRow",value:function(t){if(Fa(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){Fa(this,t),hs(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)>e&&(e=this.get(t,a),n[1]=a);return n}},{key:"minRow",value:function(t){if(Fa(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){Fa(this,t),hs(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)<e&&(e=this.get(t,a),n[1]=a);return n}},{key:"maxColumn",value:function(t){if(Ra(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){Ra(this,t),hs(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)>e&&(e=this.get(a,t),n[0]=a);return n}},{key:"minColumn",value:function(t){if(Ra(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){Ra(this,t),hs(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)<e&&(e=this.get(a,t),n[0]=a);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)e=e+this.get(n,a)*this.get(n,a);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(t){i.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[a];return n}},{key:"mmul",value:function(t){t=wn.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.columns,o=new wn(e,a),s=new Float64Array(n),l=0;l<a;l++){for(var u=0;u<n;u++)s[u]=t.get(u,l);for(var c=0;c<e;c++){for(var h=0,g=0;g<n;g++)h+=this.get(c,g)*s[g];o.set(c,l,h)}}return o}},{key:"strassen2x2",value:function(t){t=wn.checkMatrix(t);var e=new wn(2,2),n=this.get(0,0),a=t.get(0,0),o=this.get(0,1),s=t.get(0,1),l=this.get(1,0),u=t.get(1,0),c=this.get(1,1),h=t.get(1,1),g=(n+c)*(a+h),w=(l+c)*a,L=n*(s-h),D=c*(u-a),N=(n+o)*h,H=(l-n)*(a+s),X=(o-c)*(u+h),mt=g+D-N+X,xt=L+N,Pt=w+D,Ht=g-w+L+H;return e.set(0,0,mt),e.set(0,1,xt),e.set(1,0,Pt),e.set(1,1,Ht),e}},{key:"strassen3x3",value:function(t){t=wn.checkMatrix(t);var e=new wn(3,3),n=this.get(0,0),a=this.get(0,1),o=this.get(0,2),s=this.get(1,0),l=this.get(1,1),u=this.get(1,2),c=this.get(2,0),h=this.get(2,1),g=this.get(2,2),w=t.get(0,0),L=t.get(0,1),D=t.get(0,2),N=t.get(1,0),H=t.get(1,1),X=t.get(1,2),mt=t.get(2,0),xt=t.get(2,1),Pt=t.get(2,2),Ht=(n+a+o-s-l-h-g)*H,te=(n-s)*(-L+H),oe=l*(-w+L+N-H-X-mt+Pt),qt=(-n+s+l)*(w-L+H),we=(s+l)*(-w+L),Ie=n*w,Pe=(-n+c+h)*(w-D+X),Ke=(-n+c)*(D-X),ar=(c+h)*(-w+D),rr=(n+a+o-l-u-c-h)*X,Mr=h*(-w+D+N-H-X-mt+xt),Ar=(-o+h+g)*(H+mt-xt),Pr=(o-g)*(H-xt),xr=o*mt,br=(h+g)*(-mt+xt),Xr=(-o+l+u)*(X+mt-Pt),zr=(o-u)*(X-Pt),Kr=(l+u)*(-mt+Pt),Or=a*N,Hr=u*xt,an=s*D,Ur=c*L,jr=g*Pt,ln=Ie+xr+Or,xn=Ht+qt+we+Ie+Ar+xr+br,tn=Ie+Pe+ar+rr+xr+Xr+Kr,vr=te+oe+qt+Ie+xr+Xr+zr,Lr=te+qt+we+Ie+Hr,un=xr+Xr+zr+Kr+an,hn=Ie+Pe+Ke+Mr+Ar+Pr+xr,nn=Ar+Pr+xr+br+Ur,Sn=Ie+Pe+Ke+ar+jr;return e.set(0,0,ln),e.set(0,1,xn),e.set(0,2,tn),e.set(1,0,vr),e.set(1,1,Lr),e.set(1,2,un),e.set(2,0,hn),e.set(2,1,nn),e.set(2,2,Sn),e}},{key:"mmulStrassen",value:function(t){t=wn.checkMatrix(t);var e=this.clone(),n=e.rows,a=e.columns,o=t.rows,s=t.columns;a!==o&&console.warn("Multiplying ".concat(n," x ").concat(a," and ").concat(o," x ").concat(s," matrix: dimensions do not match."));function l(g,w,L){var D=g.rows,N=g.columns;if(D===w&&N===L)return g;var H=i.zeros(w,L);return H=H.setSubMatrix(g,0,0),H}var u=Math.max(n,o),c=Math.max(a,s);e=l(e,u,c),t=l(t,u,c);function h(g,w,L,D){if(L<=512||D<=512)return g.mmul(w);L%2==1&&D%2==1?(g=l(g,L+1,D+1),w=l(w,L+1,D+1)):L%2==1?(g=l(g,L+1,D),w=l(w,L+1,D)):D%2==1&&(g=l(g,L,D+1),w=l(w,L,D+1));var N=parseInt(g.rows/2,10),H=parseInt(g.columns/2,10),X=g.subMatrix(0,N-1,0,H-1),mt=w.subMatrix(0,N-1,0,H-1),xt=g.subMatrix(0,N-1,H,g.columns-1),Pt=w.subMatrix(0,N-1,H,w.columns-1),Ht=g.subMatrix(N,g.rows-1,0,H-1),te=w.subMatrix(N,w.rows-1,0,H-1),oe=g.subMatrix(N,g.rows-1,H,g.columns-1),qt=w.subMatrix(N,w.rows-1,H,w.columns-1),we=h(i.add(X,oe),i.add(mt,qt),N,H),Ie=h(i.add(Ht,oe),mt,N,H),Pe=h(X,i.sub(Pt,qt),N,H),Ke=h(oe,i.sub(te,mt),N,H),ar=h(i.add(X,xt),qt,N,H),rr=h(i.sub(Ht,X),i.add(mt,Pt),N,H),Mr=h(i.sub(xt,oe),i.add(te,qt),N,H),Ar=i.add(we,Ke);Ar.sub(ar),Ar.add(Mr);var Pr=i.add(Pe,ar),xr=i.add(Ie,Ke),br=i.sub(we,Ie);br.add(Pe),br.add(rr);var Xr=i.zeros(2*Ar.rows,2*Ar.columns);return Xr=Xr.setSubMatrix(Ar,0,0),Xr=Xr.setSubMatrix(Pr,Ar.rows,0),Xr=Xr.setSubMatrix(xr,0,Ar.columns),Xr=Xr.setSubMatrix(br,Ar.rows,Ar.columns),Xr.subMatrix(0,L-1,0,D-1)}return h(e,t,u,c)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new wn(this.rows,this.columns),l=0;l<this.rows;l++){var u=this.getRow(l);u.length>0&&r1(u,{min:n,max:o,output:u}),s.setRow(l,u)}return s}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new wn(this.rows,this.columns),l=0;l<this.columns;l++){var u=this.getColumn(l);u.length&&r1(u,{min:n,max:o,output:u}),s.setColumn(l,u)}return s}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var a=this.get(e,n),o=this.get(e,this.columns-1-n);this.set(e,n,o),this.set(e,this.columns-1-n,a)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var a=this.get(n,e),o=this.get(this.rows-1-n,e);this.set(n,e,o),this.set(this.rows-1-n,e,a)}return this}},{key:"kroneckerProduct",value:function(t){t=wn.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.rows,o=t.columns,s=new wn(e*a,n*o),l=0;l<e;l++)for(var u=0;u<n;u++)for(var c=0;c<a;c++)for(var h=0;h<o;h++)s.set(a*l+c,o*u+h,this.get(l,u)*t.get(c,h));return s}},{key:"kroneckerSum",value:function(t){if(t=wn.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,n=t.rows,a=this.kroneckerProduct(wn.eye(n,n)),o=wn.eye(e,e).kroneckerProduct(t);return a.add(o)}},{key:"transpose",value:function(){for(var t=new wn(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o1,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o1,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,a){a1(this,t,e,n,a);for(var o=new wn(e-t+1,a-n+1),s=t;s<=e;s++)for(var l=n;l<=a;l++)o.set(s-t,l-n,this.get(s,l));return o}},{key:"subMatrixRow",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var a=new wn(t.length,n-e+1),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));a.set(o,s-e,this.get(t[o],s))}return a}},{key:"subMatrixColumn",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var a=new wn(n-e+1,t.length),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));a.set(s-e,o,this.get(s,t[o]))}return a}},{key:"setSubMatrix",value:function(t,e,n){if(t=wn.checkMatrix(t),t.isEmpty())return this;var a=e+t.rows-1,o=n+t.columns-1;a1(this,e,a,n,o);for(var s=0;s<t.rows;s++)for(var l=0;l<t.columns;l++)this.set(e+s,n+l,t.get(s,l));return this}},{key:"selection",value:function(t,e){y6(this,t),m6(this,e);for(var n=new wn(t.length,e.length),a=0;a<t.length;a++)for(var o=t[a],s=0;s<e.length;s++){var l=e[s];n.set(a,s,this.get(o,l))}return n}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){for(var t=new wn(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return x6(this);case"column":return b6(this);case void 0:return w6(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return S6(this);case"column":return C6(this);case void 0:return M6(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(var a=0;a<this.columns;a++)e[a]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.unbiased,o=a===void 0?!0:a,s=n.mean,l=s===void 0?this.mean(t):s;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!ga(l))throw new TypeError("mean must be an array");return E6(this,o,l)}case"column":{if(!ga(l))throw new TypeError("mean must be an array");return A6(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return T6(this,o,l)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(var a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.center,o=a===void 0?this.mean(t):a;switch(t){case"row":{if(!ga(o))throw new TypeError("center must be an array");return P6(this,o),this}case"column":{if(!ga(o))throw new TypeError("center must be an array");return O6(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return I6(this,o),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":{if(n===void 0)n=k6(this);else if(!ga(n))throw new TypeError("scale must be an array");return L6(this,n),this}case"column":{if(n===void 0)n=_6(this);else if(!ga(n))throw new TypeError("scale must be an array");return D6(this,n),this}case void 0:{if(n===void 0)n=B6(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return F6(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return i1(this,t)}}],[{key:"from1DArray",value:function(t,e,n){var a=t*e;if(a!==n.length)throw new RangeError("data length does not match given dimensions");for(var o=new wn(t,e),s=0;s<t;s++)for(var l=0;l<e;l++)o.set(s,l,n[s*e+l]);return o}},{key:"rowVector",value:function(t){for(var e=new wn(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new wn(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new wn(t,e)}},{key:"ones",value:function(t,e){return new wn(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");for(var a=n.random,o=a===void 0?Math.random:a,s=new wn(t,e),l=0;l<t;l++)for(var u=0;u<e;u++)s.set(l,u,o());return s}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");var a=n.min,o=a===void 0?0:a,s=n.max,l=s===void 0?1e3:s,u=n.random,c=u===void 0?Math.random:u;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(l))throw new TypeError("max must be an integer");if(o>=l)throw new RangeError("min must be smaller than max");for(var h=l-o,g=new wn(t,e),w=0;w<t;w++)for(var L=0;L<e;L++){var D=o+Math.round(c()*h);g.set(w,L,D)}return g}},{key:"eye",value:function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);for(var a=Math.min(t,e),o=this.zeros(t,e),s=0;s<a;s++)o.set(s,s,n);return o}},{key:"diag",value:function(t,e,n){var a=t.length;e===void 0&&(e=a),n===void 0&&(n=e);for(var o=Math.min(a,e,n),s=this.zeros(e,n),l=0;l<o;l++)s.set(l,l,t[l]);return s}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new wn(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.min(t.get(s,l),e.get(s,l)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new this(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.max(t.get(s,l),e.get(s,l)));return o}},{key:"checkMatrix",value:function(t){return i.isMatrix(t)?t:new wn(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),i}();_i.prototype.klass="Matrix",typeof Symbol!="undefined"&&(_i.prototype[Symbol.for("nodejs.util.inspect.custom")]=v6);function o1(i,r){return i-r}function R6(i){return i.every(function(r){return typeof r=="number"})}_i.random=_i.rand,_i.randomInt=_i.randInt,_i.diagonal=_i.diag,_i.prototype.diagonal=_i.prototype.diag,_i.identity=_i.eye,_i.prototype.negate=_i.prototype.neg,_i.prototype.tensorProduct=_i.prototype.kroneckerProduct;var wn=function(i){(0,t1.Z)(t,i);var r=(0,e1.Z)(t);function t(e,n){var a;if((0,Iu.Z)(this,t),a=r.call(this),t.isMatrix(e))return(0,u6.Z)(a,e.clone());if(Number.isInteger(e)&&e>=0)if(a.data=[],Number.isInteger(n)&&n>=0)for(var o=0;o<e;o++)a.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(ga(e)){var s=e;if(e=s.length,n=e?s[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");a.data=[];for(var l=0;l<e;l++){if(s[l].length!==n)throw new RangeError("Inconsistent array dimensions");if(!R6(s[l]))throw new TypeError("Input data contains non-numeric values");a.data.push(Float64Array.from(s[l]))}}else throw new TypeError("First argument must be a positive number or an array");return a.rows=e,a.columns=n,a}return(0,ku.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}},{key:"removeRow",value:function(n){return Fa(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,a){return a===void 0&&(a=n,n=this.rows),Fa(this,n,!0),a=Float64Array.from(fs(this,a)),this.data.splice(n,0,a),this.rows+=1,this}},{key:"removeColumn",value:function(n){Ra(this,n);for(var a=0;a<this.rows;a++){for(var o=new Float64Array(this.columns-1),s=0;s<n;s++)o[s]=this.data[a][s];for(var l=n+1;l<this.columns;l++)o[l-1]=this.data[a][l];this.data[a]=o}return this.columns-=1,this}},{key:"addColumn",value:function(n,a){typeof a=="undefined"&&(a=n,n=this.columns),Ra(this,n,!0),a=cs(this,a);for(var o=0;o<this.rows;o++){for(var s=new Float64Array(this.columns+1),l=0;l<n;l++)s[l]=this.data[o][l];for(s[l++]=a[o];l<this.columns+1;l++)s[l]=this.data[o][l-1];this.data[o]=s}return this.columns+=1,this}}]),t}(_i);g6(_i,wn);var N6=function(i){(0,t1.Z)(t,i);var r=(0,e1.Z)(t);function t(e){var n;return(0,Iu.Z)(this,t),n=r.call(this),n.data=e,n.rows=e.length,n.columns=e[0].length,n}return(0,ku.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}}]),t}(_i);function vs(i,r){var t=0;return Math.abs(i)>Math.abs(r)?(t=r/i,Math.abs(i)*Math.sqrt(1+t*t)):r!==0?(t=i/r,Math.abs(r)*Math.sqrt(1+t*t)):0}var s1=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,Iu.Z)(this,i),r=N6.checkMatrix(r),r.isEmpty())throw new Error("Matrix must be non-empty");var e=r.rows,n=r.columns,a=t.computeLeftSingularVectors,o=a===void 0?!0:a,s=t.computeRightSingularVectors,l=s===void 0?!0:s,u=t.autoTranspose,c=u===void 0?!1:u,h=Boolean(o),g=Boolean(l),w=!1,L;if(e<n)if(!c)L=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{L=r.transpose(),e=L.rows,n=L.columns,w=!0;var D=h;h=g,g=D}else L=r.clone();for(var N=Math.min(e,n),H=Math.min(e+1,n),X=new Float64Array(H),mt=new wn(e,N),xt=new wn(n,n),Pt=new Float64Array(n),Ht=new Float64Array(e),te=new Float64Array(H),oe=0;oe<H;oe++)te[oe]=oe;for(var qt=Math.min(e-1,n),we=Math.max(0,Math.min(n-2,e)),Ie=Math.max(qt,we),Pe=0;Pe<Ie;Pe++){if(Pe<qt){X[Pe]=0;for(var Ke=Pe;Ke<e;Ke++)X[Pe]=vs(X[Pe],L.get(Ke,Pe));if(X[Pe]!==0){L.get(Pe,Pe)<0&&(X[Pe]=-X[Pe]);for(var ar=Pe;ar<e;ar++)L.set(ar,Pe,L.get(ar,Pe)/X[Pe]);L.set(Pe,Pe,L.get(Pe,Pe)+1)}X[Pe]=-X[Pe]}for(var rr=Pe+1;rr<n;rr++){if(Pe<qt&&X[Pe]!==0){for(var Mr=0,Ar=Pe;Ar<e;Ar++)Mr+=L.get(Ar,Pe)*L.get(Ar,rr);Mr=-Mr/L.get(Pe,Pe);for(var Pr=Pe;Pr<e;Pr++)L.set(Pr,rr,L.get(Pr,rr)+Mr*L.get(Pr,Pe))}Pt[rr]=L.get(Pe,rr)}if(h&&Pe<qt)for(var xr=Pe;xr<e;xr++)mt.set(xr,Pe,L.get(xr,Pe));if(Pe<we){Pt[Pe]=0;for(var br=Pe+1;br<n;br++)Pt[Pe]=vs(Pt[Pe],Pt[br]);if(Pt[Pe]!==0){Pt[Pe+1]<0&&(Pt[Pe]=0-Pt[Pe]);for(var Xr=Pe+1;Xr<n;Xr++)Pt[Xr]/=Pt[Pe];Pt[Pe+1]+=1}if(Pt[Pe]=-Pt[Pe],Pe+1<e&&Pt[Pe]!==0){for(var zr=Pe+1;zr<e;zr++)Ht[zr]=0;for(var Kr=Pe+1;Kr<e;Kr++)for(var Or=Pe+1;Or<n;Or++)Ht[Kr]+=Pt[Or]*L.get(Kr,Or);for(var Hr=Pe+1;Hr<n;Hr++)for(var an=-Pt[Hr]/Pt[Pe+1],Ur=Pe+1;Ur<e;Ur++)L.set(Ur,Hr,L.get(Ur,Hr)+an*Ht[Ur])}if(g)for(var jr=Pe+1;jr<n;jr++)xt.set(jr,Pe,Pt[jr])}}var ln=Math.min(n,e+1);if(qt<n&&(X[qt]=L.get(qt,qt)),e<ln&&(X[ln-1]=0),we+1<ln&&(Pt[we]=L.get(we,ln-1)),Pt[ln-1]=0,h){for(var xn=qt;xn<N;xn++){for(var tn=0;tn<e;tn++)mt.set(tn,xn,0);mt.set(xn,xn,1)}for(var vr=qt-1;vr>=0;vr--)if(X[vr]!==0){for(var Lr=vr+1;Lr<N;Lr++){for(var un=0,hn=vr;hn<e;hn++)un+=mt.get(hn,vr)*mt.get(hn,Lr);un=-un/mt.get(vr,vr);for(var nn=vr;nn<e;nn++)mt.set(nn,Lr,mt.get(nn,Lr)+un*mt.get(nn,vr))}for(var Sn=vr;Sn<e;Sn++)mt.set(Sn,vr,-mt.get(Sn,vr));mt.set(vr,vr,1+mt.get(vr,vr));for(var yn=0;yn<vr-1;yn++)mt.set(yn,vr,0)}else{for(var fn=0;fn<e;fn++)mt.set(fn,vr,0);mt.set(vr,vr,1)}}if(g)for(var Cn=n-1;Cn>=0;Cn--){if(Cn<we&&Pt[Cn]!==0)for(var Dn=Cn+1;Dn<n;Dn++){for(var ri=0,Wn=Cn+1;Wn<n;Wn++)ri+=xt.get(Wn,Cn)*xt.get(Wn,Dn);ri=-ri/xt.get(Cn+1,Cn);for(var fi=Cn+1;fi<n;fi++)xt.set(fi,Dn,xt.get(fi,Dn)+ri*xt.get(fi,Cn))}for(var pi=0;pi<n;pi++)xt.set(pi,Cn,0);xt.set(Cn,Cn,1)}for(var Hi=ln-1,Ki=0,Ci=Number.EPSILON;ln>0;){var on=void 0,ci=void 0;for(on=ln-2;on>=-1&&on!==-1;on--){var Di=Number.MIN_VALUE+Ci*Math.abs(X[on]+Math.abs(X[on+1]));if(Math.abs(Pt[on])<=Di||Number.isNaN(Pt[on])){Pt[on]=0;break}}if(on===ln-2)ci=4;else{var Ti=void 0;for(Ti=ln-1;Ti>=on&&Ti!==on;Ti--){var qa=(Ti!==ln?Math.abs(Pt[Ti]):0)+(Ti!==on+1?Math.abs(Pt[Ti-1]):0);if(Math.abs(X[Ti])<=Ci*qa){X[Ti]=0;break}}Ti===on?ci=3:Ti===ln-1?ci=1:(ci=2,on=Ti)}switch(on++,ci){case 1:{var Bi=Pt[ln-2];Pt[ln-2]=0;for(var jn=ln-2;jn>=on;jn--){var Xn=vs(X[jn],Bi),ni=X[jn]/Xn,li=Bi/Xn;if(X[jn]=Xn,jn!==on&&(Bi=-li*Pt[jn-1],Pt[jn-1]=ni*Pt[jn-1]),g)for(var $i=0;$i<n;$i++)Xn=ni*xt.get($i,jn)+li*xt.get($i,ln-1),xt.set($i,ln-1,-li*xt.get($i,jn)+ni*xt.get($i,ln-1)),xt.set($i,jn,Xn)}break}case 2:{var Ho=Pt[on-1];Pt[on-1]=0;for(var Na=on;Na<ln;Na++){var qs=vs(X[Na],Ho),Ph=X[Na]/qs,Oh=Ho/qs;if(X[Na]=qs,Ho=-Oh*Pt[Na],Pt[Na]=Ph*Pt[Na],h)for(var Mo=0;Mo<e;Mo++)qs=Ph*mt.get(Mo,Na)+Oh*mt.get(Mo,on-1),mt.set(Mo,on-1,-Oh*mt.get(Mo,Na)+Ph*mt.get(Mo,on-1)),mt.set(Mo,Na,qs)}break}case 3:{var tl=Math.max(Math.abs(X[ln-1]),Math.abs(X[ln-2]),Math.abs(Pt[ln-2]),Math.abs(X[on]),Math.abs(Pt[on])),ps=X[ln-1]/tl,ib=X[ln-2]/tl,qu=Pt[ln-2]/tl,Ih=X[on]/tl,_G=Pt[on]/tl,Wo=((ib+ps)*(ib-ps)+qu*qu)/2,tf=ps*qu*(ps*qu),el=0;(Wo!==0||tf!==0)&&(Wo<0?el=0-Math.sqrt(Wo*Wo+tf):el=Math.sqrt(Wo*Wo+tf),el=tf/(Wo+el));for(var jo=(Ih+ps)*(Ih-ps)+el,gs=Ih*_G,Un=on;Un<ln-1;Un++){var ha=vs(jo,gs);ha===0&&(ha=Number.MIN_VALUE);var Ga=jo/ha,Ya=gs/ha;if(Un!==on&&(Pt[Un-1]=ha),jo=Ga*X[Un]+Ya*Pt[Un],Pt[Un]=Ga*Pt[Un]-Ya*X[Un],gs=Ya*X[Un+1],X[Un+1]=Ga*X[Un+1],g)for(var Eo=0;Eo<n;Eo++)ha=Ga*xt.get(Eo,Un)+Ya*xt.get(Eo,Un+1),xt.set(Eo,Un+1,-Ya*xt.get(Eo,Un)+Ga*xt.get(Eo,Un+1)),xt.set(Eo,Un,ha);if(ha=vs(jo,gs),ha===0&&(ha=Number.MIN_VALUE),Ga=jo/ha,Ya=gs/ha,X[Un]=ha,jo=Ga*Pt[Un]+Ya*X[Un+1],X[Un+1]=-Ya*Pt[Un]+Ga*X[Un+1],gs=Ya*Pt[Un+1],Pt[Un+1]=Ga*Pt[Un+1],h&&Un<e-1)for(var Ao=0;Ao<e;Ao++)ha=Ga*mt.get(Ao,Un)+Ya*mt.get(Ao,Un+1),mt.set(Ao,Un+1,-Ya*mt.get(Ao,Un)+Ga*mt.get(Ao,Un+1)),mt.set(Ao,Un,ha)}Pt[ln-2]=jo,Ki=Ki+1;break}case 4:{if(X[on]<=0&&(X[on]=X[on]<0?-X[on]:0,g))for(var ef=0;ef<=Hi;ef++)xt.set(ef,on,-xt.get(ef,on));for(;on<Hi&&!(X[on]>=X[on+1]);){var rl=X[on];if(X[on]=X[on+1],X[on+1]=rl,g&&on<n-1)for(var ys=0;ys<n;ys++)rl=xt.get(ys,on+1),xt.set(ys,on+1,xt.get(ys,on)),xt.set(ys,on,rl);if(h&&on<e-1)for(var ms=0;ms<e;ms++)rl=mt.get(ms,on+1),mt.set(ms,on+1,mt.get(ms,on)),mt.set(ms,on,rl);on++}Ki=0,ln--;break}}}if(w){var DG=xt;xt=mt,mt=DG}this.m=e,this.n=n,this.s=X,this.U=mt,this.V=xt}return(0,ku.Z)(i,[{key:"solve",value:function(t){for(var e=t,n=this.threshold,a=this.s.length,o=wn.zeros(a,a),s=0;s<a;s++)Math.abs(this.s[s])<=n?o.set(s,s,0):o.set(s,s,1/this.s[s]);for(var l=this.U,u=this.rightSingularVectors,c=u.mmul(o),h=u.rows,g=l.rows,w=wn.zeros(h,g),L=0;L<h;L++)for(var D=0;D<g;D++){for(var N=0,H=0;H<a;H++)N+=c.get(L,H)*l.get(D,H);w.set(L,D,N)}return w.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(wn.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,a=t.columns,o=new wn(n,this.s.length),s=0;s<n;s++)for(var l=0;l<a;l++)Math.abs(this.s[l])>e&&o.set(s,l,t.get(s,l)/this.s[l]);for(var u=this.U,c=u.rows,h=u.columns,g=new wn(n,c),w=0;w<n;w++)for(var L=0;L<c;L++){for(var D=0,N=0;N<h;N++)D+=o.get(w,N)*u.get(L,N);g.set(w,L,D)}return g}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,a=0,o=n.length;a<o;a++)n[a]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return wn.diag(this.s)}}]),i}(),G6=function(i){ai(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.linkDistance,l=Zc({nodes:e,edges:a},!1),u=Uc(l);t.handleInfinity(u);var c=Km(u,s);t.scaledDistances=c;var h=t.runMDS();t.positions=h,h.forEach(function(g,w){e[w].x=g[0]+o[0],e[w].y=g[1]+o[1]})}},r.prototype.runMDS=function(){var t=this,e=2,n=t.scaledDistances,a=wn.mul(wn.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new s1(a),c=wn.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(h){return wn.mul([h],[c]).toJSON()[0].splice(0,e)})},r.prototype.handleInfinity=function(t){var e=-999999;t.forEach(function(n){n.forEach(function(a){a!==Infinity&&e<a&&(e=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===Infinity&&(t[a][s]=e)})})},r}(Pa),Y6=G6,z6=function(){function i(r){this.distances=r.distances,this.dimension=r.dimension||2,this.linkDistance=r.linkDistance}return i.prototype.layout=function(){var r=this,t=r.dimension,e=r.distances,n=r.linkDistance;try{var a=wn.mul(wn.pow(e,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new s1(a),c=wn.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(D){return wn.mul([D],[c]).toJSON()[0].splice(0,t)})}catch(D){for(var h=[],g=0;g<e.length;g++){var w=Math.random()*n,L=Math.random()*n;h.push([w,L])}return h}},i}(),V6=z6,X6=800,H6=function(){function i(r){this.disp=[],this.positions=r.positions,this.adjMatrix=r.adjMatrix,this.focusID=r.focusID,this.radii=r.radii,this.iterations=r.iterations||10,this.height=r.height||10,this.width=r.width||10,this.speed=r.speed||100,this.gravity=r.gravity||10,this.nodeSizeFunc=r.nodeSizeFunc,this.k=r.k||5,this.strictRadial=r.strictRadial,this.nodes=r.nodes}return i.prototype.layout=function(){var r=this,t=r.positions,e=[],n=r.iterations,a=r.width/10;r.maxDisplace=a,r.disp=e;for(var o=0;o<n;o++)t.forEach(function(s,l){e[l]={x:0,y:0}}),r.getRepulsion(),r.updatePositions();return t},i.prototype.getRepulsion=function(){var r=this,t=r.positions,e=r.nodes,n=r.disp,a=r.k,o=r.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,c){if(l!==c&&o[l]===o[c]){var h=s[0]-u[0],g=s[1]-u[1],w=Math.sqrt(h*h+g*g);if(w===0){w=1;var L=l>c?1:-1;h=.01*L,g=.01*L}if(w<r.nodeSizeFunc(e[l])/2+r.nodeSizeFunc(e[c])/2){var D=a*a/w;n[l].x+=h/w*D,n[l].y+=g/w*D}}})})},i.prototype.updatePositions=function(){var r=this,t=r.positions,e=r.disp,n=r.speed,a=r.strictRadial,o=r.focusID,s=r.maxDisplace||r.width/10;a&&e.forEach(function(u,c){var h=t[c][0]-t[o][0],g=t[c][1]-t[o][1],w=Math.sqrt(h*h+g*g),L=g/w,D=-h/w,N=Math.sqrt(u.x*u.x+u.y*u.y),H=Math.acos((L*u.x+D*u.y)/N);H>Math.PI/2&&(H-=Math.PI/2,L*=-1,D*=-1);var X=Math.cos(H)*N;u.x=L*X,u.y=D*X});var l=r.radii;t.forEach(function(u,c){if(c!==o){var h=Math.sqrt(e[c].x*e[c].x+e[c].y*e[c].y);if(h>0&&c!==o){var g=Math.min(s*(n/X6),h);if(u[0]+=e[c].x/h*g,u[1]+=e[c].y/h*g,a){var w=u[0]-t[o][0],L=u[1]-t[o][1],D=Math.sqrt(w*w+L*L);w=w/D*l[c],L=L/D*l[c],u[0]=t[o][0]+w,u[1]=t[o][1]+L}}}})},i}(),W6=H6;function j6(i){for(var r=i.length,t=i[0].length,e=[],n=0;n<r;n++){for(var a=[],o=0;o<t;o++)i[n][o]!==0?a.push(1/(i[n][o]*i[n][o])):a.push(0);e.push(a)}return e}function U6(i,r){var t=-1;return i.forEach(function(e,n){e.id===r&&(t=n)}),t}function l1(i,r){return Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}var Z6=function(i){ai(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[],a=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.linkDistance,s=null;if((0,Hn.default)(t.focusNode)){for(var l=!1,u=0;u<e.length;u++)e[u].id===t.focusNode&&(s=e[u],t.focusNode=s,l=!0,u=e.length);l||(s=null)}else s=t.focusNode;s||(s=e[0],t.focusNode=s);var c=U6(e,s.id);t.focusIndex=c;var h=Zc({nodes:e,edges:n},!1),g=Uc(h),w=t.maxToFocus(g,c);t.handleInfinity(g,c,w+1),t.distances=g;var L=g[c];!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var D=t.width||500,N=t.height||500,H=D-a[0]>a[0]?a[0]:D-a[0],X=N-a[1]>a[1]?a[1]:N-a[1];H===0&&(H=D/2),X===0&&(X=N/2);var mt=X>H?H:X,xt=Math.max.apply(Math,L),Pt=[];L.forEach(function(Pr,xr){t.unitRadius||(t.unitRadius=mt/xt),Pt[xr]=Pr*t.unitRadius}),t.radii=Pt;var Ht=t.eIdealDisMatrix();t.eIdealDistances=Ht;var te=j6(Ht);t.weights=te;var oe=new V6({distances:Ht,linkDistance:o}),qt=oe.layout();qt.forEach(function(Pr){so(Pr[0])&&(Pr[0]=Math.random()*o),so(Pr[1])&&(Pr[1]=Math.random()*o)}),t.positions=qt,qt.forEach(function(Pr,xr){e[xr].x=Pr[0]+a[0],e[xr].y=Pr[1]+a[1]}),qt.forEach(function(Pr){Pr[0]-=qt[c][0],Pr[1]-=qt[c][1]}),t.run();var we=t.preventOverlap,Ie=t.nodeSize,Pe,Ke=t.strictRadial;if(we){var ar=t.nodeSpacing,rr;(0,Da.default)(ar)?rr=function(){return ar}:(0,ll.default)(ar)?rr=ar:rr=function(){return 0},Ie?(0,Yi.default)(Ie)?Pe=function(xr){var br=Ie[0]>Ie[1]?Ie[0]:Ie[1];return br+rr(xr)}:Pe=function(xr){return Ie+rr(xr)}:Pe=function(xr){if(xr.size){if((0,Yi.default)(xr.size)){var br=xr.size[0]>xr.size[1]?xr.size[0]:xr.size[1];return br+rr(xr)}return xr.size+rr(xr)}return 10+rr(xr)};var Mr={nodeSizeFunc:Pe,adjMatrix:h,positions:qt,radii:Pt,height:N,width:D,strictRadial:Ke,focusID:c,iterations:t.maxPreventOverlapIteration||200,k:qt.length/4.5,nodes:e},Ar=new W6(Mr);qt=Ar.layout()}qt.forEach(function(Pr,xr){e[xr].x=Pr[0]+a[0],e[xr].y=Pr[1]+a[1]})}},r.prototype.run=function(){for(var t=this,e=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=e;l++){var u=l/e;t.oneIteration(u,n,s,o,a)}},r.prototype.oneIteration=function(t,e,n,a,o){var s=this,l=1-t,u=s.focusIndex;e.forEach(function(c,h){var g=l1(c,[0,0]),w=g===0?0:1/g;if(h!==u){var L=0,D=0,N=0;e.forEach(function(X,mt){if(h!==mt){var xt=l1(c,X),Pt=xt===0?0:1/xt,Ht=a[mt][h];N+=o[h][mt],L+=o[h][mt]*(X[0]+Ht*(c[0]-X[0])*Pt),D+=o[h][mt]*(X[1]+Ht*(c[1]-X[1])*Pt)}});var H=n[h]===0?0:1/n[h];N*=l,N+=t*H*H,L*=l,L+=t*H*c[0]*w,c[0]=L/N,D*=l,D+=t*H*c[1]*w,c[1]=D/N}})},r.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(u,c){var h=[];u.forEach(function(g,w){if(c===w)h.push(0);else if(o[c]===o[w])if(t.sortBy==="data")h.push(g*(Math.abs(c-w)*t.sortStrength)/(o[c]/s));else if(t.sortBy){var L=e[c][t.sortBy]||0,D=e[w][t.sortBy]||0;(0,Hn.default)(L)&&(L=L.charCodeAt(0)),(0,Hn.default)(D)&&(D=D.charCodeAt(0)),h.push(g*(Math.abs(L-D)*t.sortStrength)/(o[c]/s))}else h.push(g*a/(o[c]/s));else{var N=(a+s)/2;h.push(g*N)}}),l.push(h)}),l},r.prototype.handleInfinity=function(t,e,n){for(var a=t.length,o=0;o<a;o++)if(t[e][o]===Infinity){t[e][o]=n,t[o][e]=n;for(var s=0;s<a;s++)t[o][s]!==Infinity&&t[e][s]===Infinity&&(t[e][s]=n+t[o][s],t[s][e]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==e){for(var s=0;s<a;s++)if(t[o][s]===Infinity){var l=Math.abs(t[e][o]-t[e][s]);l=l===0?1:l,t[o][s]=l}}},r.prototype.maxToFocus=function(t,e){for(var n=0,a=0;a<t[e].length;a++)t[e][a]!==Infinity&&(n=t[e][a]>n?t[e][a]:n);return n},r}(Pa),Q6=Z6,K6=function(i){ai(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},r.prototype.execute=function(){var t=this,e=t.nodes,n=.9,a=t.center;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),e&&e.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]})},r}(Pa),$6=K6,J6=function(i){ai(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return r.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}t.initVals(),t.run(),t.onLayoutEnd()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(w){var L=[];e.forEach(function(D,N){L[N]={x:0,y:0}}),t.applyCalculate(L),t.applyComboCenterForce(L),e.forEach(function(D,N){!(0,f.isNumber)(D.x)||!(0,f.isNumber)(D.y)||(D.x+=L[N].x*o,D.y+=L[N].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<n;u++)l(u);var c=[0,0];e.forEach(function(g){!(0,f.isNumber)(g.x)||!(0,f.isNumber)(g.y)||(c[0]+=g.x,c[1]+=g.y)}),c[0]/=e.length,c[1]/=e.length;var h=[a[0]-c[0],a[1]-c[1]];e.forEach(function(g,w){!(0,f.isNumber)(g.x)||!(0,f.isNumber)(g.y)||(g.x+=h[0],g.y+=h[1])}),t.combos.forEach(function(g){var w=s[g.id];w&&w.empty&&(g.x=w.cx||g.x,g.y=w.cy||g.y)}),t.previousLayouted=!0},r.prototype.initVals=function(){var t=this,e=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(rr,Mr){s[rr.id]=rr,l[rr.id]=Mr}),t.nodeMap=s,t.nodeIdxMap=l;var u={};a.forEach(function(rr){u[rr.id]=rr}),t.oriComboMap=u,t.comboMap=t.getComboMap();var c=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||c,t.preventNodeOverlap=t.preventNodeOverlap||c;var h=t.collideStrength;h&&(t.comboCollideStrength=h,t.nodeCollideStrength=h);for(var g=0;g<e.length;++g)o[e[g].source]?o[e[g].source]++:o[e[g].source]=1,o[e[g].target]?o[e[g].target]++:o[e[g].target]=1;for(var w=[],g=0;g<e.length;++g)w[g]=o[e[g].source]/(o[e[g].source]+o[e[g].target]);this.bias=w;var L=t.nodeSize,D=t.nodeSpacing,N,H;if((0,f.isNumber)(D)?H=function(){return D}:(0,f.isFunction)(D)?H=D:H=function(){return 0},this.nodeSpacing=H,!L)N=function(Mr){if(Mr.size){if((0,f.isArray)(Mr.size)){var Ar=Mr.size[0]>Mr.size[1]?Mr.size[0]:Mr.size[1];return Ar/2}return Mr.size/2}return 10};else if((0,f.isFunction)(L))N=function(Mr){return L(Mr)};else if((0,f.isArray)(L)){var X=L[0]>L[1]?L[0]:L[1],mt=X/2;N=function(Mr){return mt}}else{var xt=L/2;N=function(Mr){return xt}}this.nodeSize=N;var Pt=t.comboSpacing,Ht;(0,f.isNumber)(Pt)?Ht=function(){return Pt}:(0,f.isFunction)(Pt)?Ht=Pt:Ht=function(){return 0},this.comboSpacing=Ht;var te=t.comboPadding,oe;(0,f.isNumber)(te)?oe=function(){return te}:(0,f.isArray)(te)?oe=function(){return Math.max.apply(null,te)}:(0,f.isFunction)(te)?oe=te:oe=function(){return 0},this.comboPadding=oe;var qt=this.linkDistance,we;qt||(qt=10),(0,f.isNumber)(qt)?we=function(Mr){return qt}:we=qt,this.linkDistance=we;var Ie=this.edgeStrength,Pe;Ie||(Ie=1),(0,f.isNumber)(Ie)?Pe=function(Mr){return Ie}:Pe=Ie,this.edgeStrength=Pe;var Ke=this.nodeStrength,ar;Ke||(Ke=30),(0,f.isNumber)(Ke)?ar=function(Mr){return Ke}:ar=Ke,this.nodeStrength=ar},r.prototype.initPos=function(t){var e=this,n=e.nodes;n.forEach(function(a,o){if(a.comboId){var s=t[a.comboId];a.x=s.cx+100/(o+1),a.y=s.cy+100/(o+1)}else a.x=100/(o+1),a.y=100/(o+1)})},r.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.nodeIdxMap,a=t.comboTrees,o=t.oriComboMap,s={};return(a||[]).forEach(function(l){var u=[];Ta(l,function(c){if(c.itemType==="node"||!o[c.id])return!0;if(s[c.id]===void 0){var h={name:c.id,cx:0,cy:0,count:0,depth:t.oriComboMap[c.id].depth,children:[]};s[c.id]=h}var g=c.children;g&&g.forEach(function(X){if(!s[X.id]&&!e[X.id])return!0;u.push(X)});var w=s[c.id];if(w.cx=0,w.cy=0,u.length===0){w.empty=!0;var L=o[c.id],D=Object.keys(e).length,N=c.id+"-visual-child-"+D,H={id:N,x:L.x,y:L.y,depth:w.depth+1,itemType:"node"};t.nodes.push(H),e[N]=H,n[N]=D,w.cx=L.x,w.cy=L.y,u.push(H)}return u.forEach(function(X){if(w.count++,X.itemType!=="node"){var mt=s[X.id];(0,f.isNumber)(mt.cx)&&(w.cx+=mt.cx),(0,f.isNumber)(mt.cy)&&(w.cy+=mt.cy);return}var xt=e[X.id];!xt||((0,f.isNumber)(xt.x)&&(w.cx+=xt.x),(0,f.isNumber)(xt.y)&&(w.cy+=xt.y))}),w.cx/=w.count,w.cy/=w.count,w.children=u,!0})}),s},r.prototype.applyComboCenterForce=function(t){var e=this,n=e.gravity,a=e.comboGravity||n,o=this.alpha,s=e.comboTrees,l=e.nodeIdxMap,u=e.nodeMap,c=e.comboMap;(s||[]).forEach(function(h){Ta(h,function(g){if(g.itemType==="node")return!0;var w=c[g.id];if(!w)return!0;var L=c[g.id],D=(L.depth+1)*.5,N=L.cx,H=L.cy;return L.cx=0,L.cy=0,L.children.forEach(function(X){if(X.itemType!=="node"){var mt=c[X.id];mt&&(0,f.isNumber)(mt.cx)&&(L.cx+=mt.cx),mt&&(0,f.isNumber)(mt.cy)&&(L.cy+=mt.cy);return}var xt=u[X.id],Pt=xt.x-N||.005,Ht=xt.y-H||.005,te=Math.sqrt(Pt*Pt+Ht*Ht),oe=l[xt.id],qt=a*o/te*D;t[oe].x-=Pt*qt,t[oe].y-=Ht*qt,(0,f.isNumber)(xt.x)&&(L.cx+=xt.x),(0,f.isNumber)(xt.y)&&(L.cy+=xt.y)}),L.cx/=L.count,L.cy/=L.count,!0})})},r.prototype.applyCalculate=function(t){var e=this,n=e.comboMap,a=e.nodes,o={};a.forEach(function(l,u){a.forEach(function(c,h){if(!(u<h)){var g=l.x-c.x||.005,w=l.y-c.y||.005,L=g*g+w*w,D=Math.sqrt(L);L<1&&(L=D),o[l.id+"-"+c.id]={vx:g,vy:w,vl2:L,vl:D},o[c.id+"-"+l.id]={vx:-g,vy:-w,vl2:L,vl:D}}})}),e.updateComboSizes(n),e.calRepulsive(t,o),e.calAttractive(t,o);var s=e.preventComboOverlap;s&&e.comboNonOverlapping(t,n)},r.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,a=e.nodeMap,o=e.nodeSize,s=e.comboSpacing,l=e.comboPadding;(n||[]).forEach(function(u){var c=[];Ta(u,function(h){if(h.itemType==="node")return!0;var g=t[h.id];if(!!g){var w=h.children;w&&w.forEach(function(N){!t[N.id]&&!a[N.id]||c.push(N)}),g.minX=Infinity,g.minY=Infinity,g.maxX=-Infinity,g.maxY=-Infinity,c.forEach(function(N){if(N.itemType!=="node")return!0;var H=a[N.id];if(!H)return!0;var X=o(H),mt=H.x-X,xt=H.y-X,Pt=H.x+X,Ht=H.y+X;g.minX>mt&&(g.minX=mt),g.minY>xt&&(g.minY=xt),g.maxX<Pt&&(g.maxX=Pt),g.maxY<Ht&&(g.maxY=Ht)});var L=e.oriComboMap[h.id].size||yr.defaultCombo.size;(0,f.isArray)(L)&&(L=L[0]);var D=Math.max(g.maxX-g.minX,g.maxY-g.minY,L);return g.r=D/2+s(g)/2+l(g),!0}})})},r.prototype.comboNonOverlapping=function(t,e){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.nodeIdxMap,l=n.nodeMap;Ta(a,function(u){if(!(!e[u.id]&&!l[u.id]&&u.id!=="comboTreeRoot")){var c=u.children;return c&&c.length>1&&c.forEach(function(h,g){if(h.itemType!=="node"){var w=e[h.id];!w||c.forEach(function(L,D){if(!(g<=D)&&L.itemType!=="node"){var N=e[L.id];if(!!N){var H=w.cx-N.cx||.005,X=w.cy-N.cy||.005,mt=H*H+X*X,xt=w.r,Pt=N.r,Ht=xt+Pt,te=Pt*Pt,oe=xt*xt;if(mt<Ht*Ht){var qt=h.children;if(!qt||qt.length===0)return;var we=L.children;if(!we||we.length===0)return;var Ie=Math.sqrt(mt),Pe=(Ht-Ie)/Ie*o,Ke=H*Pe,ar=X*Pe,rr=te/(oe+te),Mr=1-rr;qt.forEach(function(Ar){if(Ar.itemType==="node"&&!!l[Ar.id]){var Pr=s[Ar.id];we.forEach(function(xr){if(xr.itemType==="node"&&!!l[xr.id]){var br=s[xr.id];t[Pr].x+=Ke*rr,t[Pr].y+=ar*rr,t[br].x-=Ke*Mr,t[br].y-=ar*Mr}})}})}}}})}}),!0}})},r.prototype.calRepulsive=function(t,e){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,u=n.nodeCollideStrength,c=n.preventNodeOverlap,h=n.nodeSize,g=n.nodeSpacing,w=n.depthRepulsiveForceScale,L=n.center;a.forEach(function(D,N){if(!(!D.x||!D.y)){if(L){var H=n.gravity,X=D.x-L[0]||.005,mt=D.y-L[1]||.005,xt=Math.sqrt(X*X+mt*mt);t[N].x-=X*H*l/xt,t[N].y-=mt*H*l/xt}a.forEach(function(Pt,Ht){if(N!==Ht&&!(!Pt.x||!Pt.y)){var te=e[D.id+"-"+Pt.id],oe=te.vl2,qt=te.vl;if(!(qt>o)){var we=e[D.id+"-"+Pt.id],Ie=we.vx,Pe=we.vy,Ke=Math.abs(Pt.depth-D.depth)+1||1;Pt.comboId!==D.comboId&&Ke++;var ar=Ke?Math.pow(w,Ke):1,rr=s(Pt)*l/oe*ar;if(t[N].x+=Ie*rr,t[N].y+=Pe*rr,N<Ht&&c){var Mr=h(D)+g(D),Ar=h(Pt)+g(Pt),Pr=Mr+Ar;if(oe<Pr*Pr){var xr=(Pr-qt)/qt*u,br=Ar*Ar,Xr=br/(Mr*Mr+br),zr=Ie*xr,Kr=Pe*xr;t[N].x+=zr*Xr,t[N].y+=Kr*Xr,Xr=1-Xr,t[Ht].x-=zr*Xr,t[Ht].y-=Kr*Xr}}}}})}})},r.prototype.calAttractive=function(t,e){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,u=n.bias,c=n.depthAttractiveForceScale;a.forEach(function(h,g){if(!(!h.source||!h.target||h.source===h.target)){var w=n.nodeIdxMap[h.source],L=n.nodeIdxMap[h.target],D=n.nodeMap[h.source],N=n.nodeMap[h.target],H=Math.abs(D.depth-N.depth);D.comboId===N.comboId&&(H=H/2);var X=H?Math.pow(c,H):1;if(D.comboId!==N.comboId&&X===1?X=c/2:D.comboId===N.comboId&&(X=2),!(!(0,f.isNumber)(N.x)||!(0,f.isNumber)(D.x)||!(0,f.isNumber)(N.y)||!(0,f.isNumber)(D.y))){var mt=e[h.target+"-"+h.source],xt=mt.vl,Pt=mt.vx,Ht=mt.vy,te=(xt-o(h))/xt*s*l(h)*X,oe=Pt*te,qt=Ht*te,we=u[g];t[L].x-=oe*we,t[L].y-=qt*we,t[w].x+=oe*(1-we),t[w].y+=qt*(1-we)}}})},r}(Pa),q6=J6,t4={circular:l3,concentric:f3,dagre:v3,force:q3,g6force:n6,comboForce:q6,fruchterman:o6,grid:l6,mds:Y6,radial:Q6,random:$6};(0,Zn.default)(t4,function(i,r){Rx.registerLayout(r,{},i)});var Zs=Rx,ph=self;function e4(i){var r=i.data.type;return r===fo.RUN}function r4(i){var r=i.data.type;switch(r){case fo.RUN:{var t=i.data,e=t.nodes,n=t.edges,a=t.layoutCfg,o=a===void 0?{}:a,s=o.type,l=Zs[s];if(!l){ph.postMessage({type:fo.ERROR,message:"layout "+s+" not found"});break}var u=new l(o);u.init({nodes:e,edges:n}),u.execute(),ph.postMessage({type:fo.END,nodes:e}),u.destroy();break}default:break}}ph.onmessage=function(i){e4(i)&&r4(i)};var n4=null;function Bu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bu=function(t){return typeof t}:Bu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(i)}var i4=function(r){return setTimeout(r,16)},a4=function(r){return clearTimeout(r)},Fu={requestAnimationFrame:function(r){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||i4;return t(r)},cancelAnimationFrame:function(r){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||a4;return t(r)}},o4=function(){function i(r){this.graph=r,this.layoutCfg=r.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new n4,this.worker)},i.prototype.stopWorker=function(){var r=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,r.requestId&&(Fu.cancelAnimationFrame(r.requestId),r.requestId=null),r.requestId2&&(Fu.cancelAnimationFrame(r.requestId2),r.requestId2=null))},i.prototype.getLayoutType=function(){return this.layoutCfg.type},i.prototype.layout=function(r){var t=this.graph;this.data=this.setDataFromGraph();var e=this.data.nodes;if(!e)return!1;var n=t.get("width"),a=t.get("height"),o={};Object.assign(o,{width:n,height:a,center:[n/2,a/2]},this.layoutCfg),this.layoutCfg=o;var s=!!this.layoutType,l=this.layoutMethod;l&&l.destroy(),t.emit("beforelayout");var u=this.initPositions(o.center,e);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,r))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var c=o.onTick,h=function(){c&&c(),t.refreshPositions()};o.tick=h;var g=o.onLayoutEnd;o.onLayoutEnd=function(){g&&g(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(o.comboTrees=t.get("comboTrees"));var w=!1;if(this.layoutType!==void 0){try{l=new Zs[this.layoutType](o)}catch(H){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(w=l.enableTick,w){var L=o.onTick,D=o.onLayoutEnd,h=function(){L&&L(),t.refreshPositions()};l.tick=h;var N=function(){D&&D(),t.emit("afterlayout")};l.onLayoutEnd=N}l.init(this.data),s&&l.execute(),this.layoutMethod=l}return(s||!u)&&this.layoutType!=="force"&&!w&&(t.emit("afterlayout"),this.refreshLayout()),!1},i.prototype.layoutWithWorker=function(r,t){var e=this,n=r.nodes,a=r.edges,o=this,s=o.layoutCfg,l=o.graph,u=this.getWorker(),c=this.workerData;if(!u)return!1;c.requestId=null,c.requestId2=null,c.currentTick=null,c.currentTickData=null;var h=l4(s,function(g){return typeof g!="function"});return u.postMessage({type:fo.RUN,nodes:n,edges:a,layoutCfg:h}),u.onmessage=function(g){e.handleWorkerMessage(g,r,t)},!0},i.prototype.handleWorkerMessage=function(r,t,e){var n=this,a=n.graph,o=n.workerData,s=n.layoutCfg,l=r.data,u=l.type,c=function(){s.onTick&&s.onTick()},h=function(){s.onLayoutEnd&&s.onLayoutEnd(),a.emit("afterlayout")};switch(u){case fo.TICK:o.currentTick=l.currentTick,o.currentTickData=l,o.requestId||(o.requestId=Fu.requestAnimationFrame(function(){gh(t,l),a.refreshPositions(),c(),l.currentTick===1&&e&&e(),l.currentTick===l.totalTicks?h():o.currentTick===l.totalTicks&&(o.requestId2=Fu.requestAnimationFrame(function(){gh(t,o.currentTickData),a.refreshPositions(),o.requestId2=null,c(),h()})),o.requestId=null}));break;case fo.END:o.currentTick==null&&(gh(t,l),this.refreshLayout(),e&&e(),a.emit("afterlayout"));break;case fo.ERROR:break;default:break}},i.prototype.refreshLayout=function(){var r=this.graph;r.get("animate")?r.positionsAnimate():r.refreshPositions()},i.prototype.updateLayoutCfg=function(r){var t=this,e=t.graph,n=t.layoutMethod;if(this.layoutType=r.type,!n){console.warn("You did not assign any layout type and the graph has no previous layout method!");return}this.data=this.setDataFromGraph(),this.stopWorker(),!(r.workerEnabled&&this.layoutWithWorker(this.data,null))&&(n.init(this.data),n.updateCfg(r),e.emit("beforelayout"),n.execute(),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout())},i.prototype.changeLayout=function(r){var t=this,e=t.graph,n=t.layoutMethod;this.layoutType=r,this.layoutCfg=e.get("layout")||{},this.layoutCfg.type=r,n&&n.destroy(),this.layout()},i.prototype.changeData=function(){var r=this.layoutMethod;r&&r.destroy(),this.layout()},i.prototype.destroyLayout=function(){var r=this,t=r.layoutMethod,e=r.graph;t&&t.destroy(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},i.prototype.setDataFromGraph=function(){var r=[],t=[],e=[],n=this.graph.getNodes(),a=this.graph.getEdges(),o=this.graph.getCombos();n.forEach(function(l){if(!!l.isVisible()){var u=l.getModel();r.push(u)}}),a.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();u.isComboEdge||t.push(u)}}),o.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();e.push(u)}});var s={nodes:r,edges:t,combos:e};return s},i.prototype.relayout=function(r){var t=this,e=t.graph,n=t.layoutMethod,a=t.layoutCfg;if(r){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(a.center,o),n.init(this.data)}this.layoutType==="force"&&(n.ticking=!1,n.forceSimulation.stop()),e.emit("beforelayout"),n.execute(r),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout()},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var r=this.graph,t=r.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||so(e[0].x))){var n=[0,0];e.forEach(function(a){n[0]+=a.x,n[1]+=a.y}),n[0]/=e.length,n[1]/=e.length,e.forEach(function(a){a.x-=n[0],a.y-=n[1]})}},i.prototype.initPositions=function(r,t){var e=this.graph;if(!t)return!1;var n=!0,a=e.get("width")*.85,o=e.get("height")*.85,s=t.length,l=Math.ceil(Math.sqrt(s)*(a/o)),u=Math.ceil(s/l),c=a/(l-1),h=o/(u-1);(!isFinite(c)||!c)&&(c=0),(!isFinite(h)||!c)&&(h=0);var g=r[0]-a/2,w=r[1]-o/2;return t.forEach(function(L,D){so(L.x)&&(n=!1,L.x=D%l*c+g),so(L.y)&&(n=!1,L.y=Math.floor(D/l)*h+w)}),n},i.prototype.destroy=function(){var r=this.layoutMethod;this.graph=null,r&&r.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},i}(),s4=o4;function gh(i,r){var t=i.nodes,e=r.nodes;t.forEach(function(n,a){n.x=e[a].x,n.y=e[a].y})}function l4(i,r){var t={};return i&&Bu(i)==="object"?(Object.keys(i).forEach(function(e){i.hasOwnProperty(e)&&r(i[e])&&(t[e]=i[e])}),t):i}var Xo=null,u4=function(){function i(r){this.graph=r,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return i.checkCache=function(r,t,e){if(!!e[t]){var n=e[t].indexOf(r);n>=0&&e[t].splice(n,1)}},i.cacheState=function(r,t,e){e[t]||(e[t]=[]),e[t].push(r)},i.prototype.updateState=function(r,t,e){var n=this,a=i.checkCache,o=i.cacheState;if(!r.destroyed){var s=this.cachedStates,l=s.enabled,u=s.disabled;e?(a(r,t,u),o(r,t,l)):(a(r,t,l),o(r,t,u)),Xo&&clearTimeout(Xo),Xo=setTimeout(function(){Xo=null,n.updateGraphStates()},16)}},i.prototype.updateStates=function(r,t,e){var n=this;(0,Hn.default)(t)?this.updateState(r,t,e):t.forEach(function(a){n.updateState(r,a,e)})},i.prototype.updateGraphStates=function(){var r=this.graph.get("states"),t=this.cachedStates;(0,Zn.default)(t.disabled,function(e,n){r[n]&&(r[n]=r[n].filter(function(a){return e.indexOf(a)<0&&!e.destroyed}))}),(0,Zn.default)(t.enabled,function(e,n){if(!r[n])r[n]=e;else{var a={};r[n].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),e.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,r[n].push(o))}})}}),this.graph.emit("graphstatechange",{states:r}),this.cachedStates={enabled:{},disabled:{}}},i.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Xo&&clearTimeout(Xo),Xo=null,this.destroyed=!0},i}(),f4=u4,yh=null,c4=function(){function i(r){this.graph=r;var t=r.get("groupStyle");this.styles=(0,Zi.default)({},i.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return i.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},i.prototype.create=function(r,t,e,n,a,o){e===void 0&&(e="circle"),n===void 0&&(n=0),a===void 0&&(a=!1),o===void 0&&(o={});var s=this.graph,l=s.get("customGroup"),u=l.get("children").map(function(Kr){return Kr.get("id")});if(u.indexOf(r)>-1){console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+r+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");return}var c=l.addGroup({id:r,zIndex:n}),h=this.styles.default,g=this.calculationGroupPosition(t),w=g.x,L=g.y,D=g.width,N=g.height,H=g.maxX,X=this.getGroupPadding(r),mt=s.get("groupBBoxs");mt[r]={x:w,y:L,width:D,height:N,maxX:H};var xt=null;if(a){var Pt=s.get("groups");t.forEach(function(Kr){var Or=s.findById(Kr),Hr=Or.getModel();Hr.groupId||(Hr.groupId=r)}),Pt.find(function(Kr){return Kr.id===r})||(Pt.push({id:r,title:o}),s.set({groups:Pt}))}var Ht=s.get("groups").filter(function(Kr){return Kr.id===r});Ht&&Ht.length>0&&(xt=Ht[0].title);var te=0,oe=0,qt=null;if(e==="circle"){var we=D>N?D/2:N/2,Ie=(D+2*w)/2,Pe=(N+2*L)/2,Ke=we+X;qt=c.addShape("circle",{attrs:ce(ce({},h),{x:Ie,y:Pe,r:Ke}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"circle-group-shape"}),te=Ie,oe=Pe-Ke,this.setDeletageGroupByStyle(r,c,{width:D,height:N,x:Ie,y:Pe,r:Ke})}else{var ar=X*h.disCoefficient;qt=c.addShape("rect",{attrs:ce(ce({},h),{x:w-ar,y:L-ar,width:D+ar*2,height:N+ar*2}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"rect-group-shape"}),te=w-ar+15,oe=L-ar+15,this.setDeletageGroupByStyle(r,c,{x:w-ar,y:L-ar,width:D+ar,height:N+ar,btnOffset:H-3})}if(xt){var rr=xt.offsetX,Mr=rr===void 0?0:rr,Ar=xt.offsetY,Pr=Ar===void 0?0:Ar,xr=xt.text,br=xr===void 0?xt:xr,Xr=ea(xt,["offsetX","offsetY","text"]),zr=c.addShape("text",{attrs:ce({text:br,stroke:"#444",x:te+Mr,y:oe+Pr},Xr),className:"group-title",name:"group-title-shape"});zr.set("capture",!1)}c.set("keyShape",qt),s.get("groupNodes")[r]=t},i.prototype.setGroupStyle=function(r,t){if(!(!r||r.get("destroyed"))){var e={},n=this.styles,a=n.hover,o=n.default;(0,Hn.default)(t)?t==="default"?e=(0,Zi.default)({},o):t==="hover"&&(e=(0,Zi.default)({},a)):e=(0,Zi.default)({},o,t),Object.keys(e).forEach(function(s){r.attr(s,e[s])})}},i.prototype.calculationGroupPosition=function(r,t){if(t===void 0&&(t={x:100,y:100}),r.length===0)return{x:t.x,y:t.y,width:100,height:100};var e=this.graph,n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;r.forEach(function(g){var w=(0,Hn.default)(g)?e.findById(g):g,L=w.getBBox(),D=L.minX,N=L.minY,H=L.maxX,X=L.maxY;D<n&&(n=D),N<o&&(o=N),H>a&&(a=H),X>s&&(s=X)});var l=Math.floor(n),u=Math.floor(o),c=Math.ceil(a)-l,h=Math.ceil(s)-u;return{x:l,y:u,width:c,height:h,maxX:Math.ceil(a)}},i.prototype.flatToTree=function(r,t,e){t===void 0&&(t="id"),e===void 0&&(e="parentId");var n="children",a=[],o=[];return r.forEach(function(s){a[s[t]]=s}),r.forEach(function(s){var l=a[s[e]];l?(l[n]=l[n]||[],l[n].push(s)):o.push(s)}),o},i.prototype.getGroupPadding=function(r){var t=this.graph,e=this.styles.default,n=t.get("groups"),a=n.filter(function(c){return c.parentId===r}),o=1;a.length>0&&(yh||(yh=this.flatToTree(n)),na(yh[0],function(c){if(c.parentId===r&&c.children)return o+=c.children.length,!0}));var s=n.filter(function(c){return c.id===r&&!c.parentId});s.length>0&&(o+=1);var l=n.filter(function(c){return c.parentId===r}).length>0,u=l?e.maxDis+(o>1?o/2:1)*30:e.minDis;return u},i.prototype.setDeletageGroupByStyle=function(r,t,e){var n=e.width,a=e.height,o=e.x,s=e.y,l=e.r,u=e.btnOffset,c=this.customGroup[r];if(!c)this.customGroup[r]={nodeGroup:t,groupStyle:{width:n,height:a,x:o,y:s,r:l,btnOffset:u}};else{var h=c.groupStyle,g=(0,Zi.default)({},h,e);this.customGroup[r]={nodeGroup:t,groupStyle:g}}},i.prototype.getDeletageGroupById=function(r){return this.customGroup[r]},i.prototype.collapseExpandGroup=function(r){var t=this.getDeletageGroupById(r),e=t.nodeGroup,n=e.get("hasHidden");n?(e.set("hasHidden",!1),this.expandGroup(r)):(e.set("hasHidden",!0),this.collapseGroup(r))},i.prototype.setGroupTmpNode=function(r,t){var e=this.graph,n=e.get("groupNodes"),a=e.get("groups");n[r].indexOf(t)<0&&n[r].push(t);var o=a.filter(function(l){return l.id===r}),s=null;o.length>0&&(s=o[0].parentId),s&&this.setGroupTmpNode(s,t)},i.prototype.collapseGroup=function(r){var t=this,e=this.getDeletageGroupById(r),n=e.nodeGroup,a=this.styles.collapse,o=this.graph,s=o.get("groupType"),l=o.get("groupNodes")[r],u=n.get("keyShape"),c=a.r,h=a.width,g=a.height,w=a.offsetX,L=a.offsetY,D=ea(a,["r","width","height","offsetX","offsetY"]);Object.keys(D).forEach(function(te){u.attr(te,D[te])});var N={groupId:r,id:r+"-custom-node",x:u.attr("x"),y:u.attr("y"),style:{r:c},type:"circle"},H=n.find(function(te){return te.get("className")==="group-title"});s==="circle"?(u.animate({r:c},{duration:500,easing:"easeCubic"}),H&&H.attr({x:u.attr("x")+w,y:u.attr("y")+L})):s==="rect"&&(u.animate({width:h,height:g},{duration:500,easing:"easeCubic"}),H&&H.attr({x:u.attr("x")+10,y:u.attr("y")+g/2+5}),N={groupId:r,id:r+"-custom-node",x:u.attr("x")+h/2,y:u.attr("y")+g/2,size:[h,g],type:"rect"});var X=o.getEdges(),mt=X.filter(function(te){var oe=te.getModel();return!l.includes(oe.source)&&l.includes(oe.target)}),xt=X.filter(function(te){var oe=te.getModel();return l.includes(oe.source)&&!l.includes(oe.target)}),Pt=X.filter(function(te){var oe=te.getModel();return l.includes(oe.source)&&l.includes(oe.target)});if(l.forEach(function(te){var oe=o.findById(te),qt=oe.getModel(),we=qt.groupId;if(we&&we!==r){var Ie=t.getDeletageGroupById(we),Pe=Ie.nodeGroup;Pe.hide()}oe.hide()}),Pt.forEach(function(te){var oe=te.getSource(),qt=te.getTarget();oe.isVisible()&&qt.isVisible()?te.show():te.hide()}),mt.length>0||xt.length>0){var Ht=o.add("node",N);Ht.set("capture",!1),Ht.hide(),this.delegateInGroup[r]={delegateNode:Ht},this.setGroupTmpNode(r,r+"-custom-node"),this.updateEdgeInGroupLinks(r,mt,xt)}},i.prototype.updateEdgeInGroupLinks=function(r,t,e){var n=this.graph,a={};t.map(function(s){var l=s.getModel(),u=s.get("id"),c=l.target;return a[u]=c,n.updateItem(s,{target:r+"-custom-node"}),!0});var o={};e.map(function(s){var l=s.getModel(),u=s.get("id"),c=l.source;return o[u]=c,n.updateItem(s,{source:r+"-custom-node"}),!0}),this.delegateInGroup[r]=(0,Zi.default)({sourceOutTargetInEdges:t,sourceInTargetOutEdges:e,edgesOuts:a,edgesIn:o},this.delegateInGroup[r])},i.prototype.expandGroup=function(r){var t=this,e=this.graph,n=e.get("groupType"),a=e.get("groupNodes")[r],o=a.filter(function(Ar){return Ar.indexOf("custom-node")===-1}),s=this.calculationGroupPosition(o),l=s.width,u=s.height,c=this.getDeletageGroupById(r).nodeGroup,h=c.get("keyShape"),g=this.styles,w=g.default,L=g.collapse;Object.keys(w).forEach(function(Ar){h.attr(Ar,w[Ar])});var D=c.find(function(Ar){return Ar.get("className")==="group-title"}),N=this.getGroupPadding(r);if(n==="circle"){var H=l>u?l/2:u/2;h.animate({r:H+N},{duration:500,easing:"easeCubic"})}else if(n==="rect"){var X=L.width,mt=L.height;h.animate({width:X+l+N*w.disCoefficient*2,height:mt+u+N*w.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(D){var xt=null,Pt=e.get("groups").filter(function(Ar){return Ar.id===r});Pt&&Pt.length>0&&(xt=Pt[0].title);var Ht=xt.offsetX,te=Ht===void 0?0:Ht,oe=xt.offsetY,qt=oe===void 0?0:oe;n==="circle"?D.animate({x:h.attr("x")+te,y:h.attr("y")-h.attr("r")+qt},{duration:600,easing:"easeCubic"}):n==="rect"&&D.animate({x:h.attr("x")+(15+te),y:h.attr("y")+(15+qt)},{duration:600,easing:"easeCubic"})}setTimeout(function(){a.forEach(function(xr){var br=e.findById(xr),Xr=br.getModel(),zr=Xr.groupId;if(zr&&zr!==r){var Kr=t.getDeletageGroupById(zr),Or=Kr.nodeGroup;Or.show();var Hr=Or.get("hasHidden");Hr||br.show()}else br.show()});var Ar=e.getEdges(),Pr=Ar.filter(function(xr){var br=xr.getModel();return a.includes(br.source)||a.includes(br.target)});Pr.forEach(function(xr){var br=xr.getSource(),Xr=xr.getTarget();br.isVisible()&&Xr.isVisible()&&xr.show()})},300);var we=this.delegateInGroup[r];if(we){var Ie=we.sourceOutTargetInEdges,Pe=we.sourceInTargetOutEdges,Ke=we.edgesOuts,ar=we.edgesIn,rr=we.delegateNode;Ie.map(function(Ar){var Pr=Ar.get("id"),xr=Ke[Pr];return e.updateItem(Ar,{target:xr}),!0}),Pe.map(function(Ar){var Pr=Ar.get("id"),xr=ar[Pr];return e.updateItem(Ar,{source:xr}),!0});var Mr=rr.getModel();this.deleteTmpNode(r,Mr.id),e.remove(rr),delete this.delegateInGroup[r]}},i.prototype.deleteTmpNode=function(r,t){var e=this.graph,n=e.get("groups"),a=e.get("groupNodes")[r],o=a.indexOf(t);a.splice(o,1);var s=n.filter(function(u){return u.id===r}),l=null;s.length>0&&(l=s[0].parentId),l&&this.deleteTmpNode(l,t)},i.prototype.remove=function(r){var t=this.graph,e=this.getDeletageGroupById(r);if(!!e){var n=e.nodeGroup,a=t.get("groupNodes"),o=a[r];o.forEach(function(w){var L=t.findById(w),D=L.getModel(),N=D.groupId;!N||r===N&&(delete D.groupId,t.updateItem(L,D))}),n.destroy(),delete this.customGroup[r];var s=t.get("groups");if(s.length>0){var l=s.filter(function(w){return w.id!==r});t.set("groups",l)}for(var u=null,c=null,h=0;h<s.length;h++){var g=s[h];if(r===g.id){u=g.parentId,c=g;break}}c&&delete c.parentId,delete a[r],u&&(a[u]=a[u].filter(function(w){return!o.includes(w)}))}},i.prototype.updateGroup=function(r,t,e){var n=this.graph,a=n.get("groupType");this.updateItemInGroup(r,t,e);for(var o=n.save().groups,s=null,l=null,u=0;u<o.length;u++){var c=o[u];if(r===c.id){s=c.parentId,l=c;break}}if(s){var h=this.getDeletageGroupById(s).nodeGroup,g=h.get("keyShape");this.setGroupStyle(g,"default");var w=g.getBBox(),L=w.minX,D=w.minY,N=w.maxX,H=w.maxY,X=this.getDeletageGroupById(r).nodeGroup,mt=X.get("keyShape"),xt=mt.getBBox(),Pt=xt.x,Ht=xt.y;if(!(Pt<N&&Pt>L&&Ht<H&&Ht>D)){delete l.parentId;var te=n.get("groupNodes"),oe=te[r],qt=te[s];te[s]=qt.filter(function(Ur){return oe.indexOf(Ur)===-1});var we=this.calculationGroupPosition(te[s]),Ie=we.x,Pe=we.y,Ke=we.width,ar=we.height,rr=this.getGroupPadding(s),Mr=h.find(function(Ur){return Ur.get("className")==="group-title"}),Ar=0,Pr=0;if(a==="circle"){var xr=Ke>ar?Ke/2:ar/2,br=Ie,Xr=Pe;g.attr({r:xr+rr,x:br,y:Xr}),Ar=br,Pr=Xr-g.attr("r")}else if(a==="rect"){var zr=this.styles.default,Kr=rr*zr.disCoefficient;g.attr({x:Ie-Kr,y:Pe-Kr}),Ar=Ie-Kr+15,Pr=Pe-Kr+15}if(Mr){var Or=l.title,Hr=0,an=0;Or&&(Hr=Or.offsetX,an=Or.offsetY),Mr.attr({x:Ar+Hr,y:Pr+an})}}}},i.prototype.updateItemInGroup=function(r,t,e){var n=this,a=this.graph,o=a.get("groupType"),s=a.get("groupNodes"),l=s[r],u=this.getDeletageGroupById(r).nodeGroup,c=u.getBBox(),h=[];l.forEach(function(g,w){var L=a.findById(g),D=L.getModel(),N=D.groupId;N&&!h.includes(N)&&h.push(N),n.nodePoint[w]||(n.nodePoint[w]={x:D.x,y:D.y});var H=t.x-c.x+n.nodePoint[w].x,X=t.y-c.y+n.nodePoint[w].y;n.nodePoint[w]={x:H,y:X},a.updateItem(L,{x:H,y:X})}),h.includes(r)||h.push(r),h.forEach(function(g){var w=n.getDeletageGroupById(g).nodeGroup,L=w.get("keyShape"),D=s[g].filter(function(ar){return ar.indexOf("custom-node")===-1}),N=n.calculationGroupPosition(D,t),H=N.x,X=N.y,mt=N.width,xt=N.height,Pt=0,Ht=0;if(o==="circle"){var te=(mt+2*H)/2,oe=(xt+2*X)/2;L.attr({x:te,y:oe}),Pt=te,Ht=oe-L.attr("r")}else if(o==="rect"){var qt=w.get("hasHidden"),we=n.getGroupPadding(g),Ie={},Pe=n.styles.default,Ke=we*Pe.disCoefficient;Pt=H-Ke+15,Ht=X-Ke+15,qt?(Ie={x:H-Ke,y:X-Ke},Ht=Ht+10):Ie={x:H-Ke,y:X-Ke,width:mt+Ke*2,height:xt+Ke*2},L.attr(Ie)}n.updateGroupTitle(w,g,Pt,Ht)})},i.prototype.updateGroupTitle=function(r,t,e,n){var a=this.graph,o=r.find(function(h){return h.get("className")==="group-title"});if(o){var s=null,l=a.get("groups").filter(function(h){return h.id===t});l&&l.length>0&&(s=l[0].title);var u=0,c=0;s&&(u=s.offsetX||0,c=s.offsetY||0),o.attr({x:e+u,y:n+c})}},i.prototype.dynamicChangeGroupSize=function(r,t,e){var n=r.item,a=n.getModel(),o=a.groupId,s=this.graph,l=s.get("groupType"),u=s.get("groupNodes"),c=u[o];if(c.length===0){delete u[o];var h=s.get("groups");s.set("groups",h.filter(function(qt){return qt.id!==o})),t.remove()}else{var g=this.calculationGroupPosition(c),w=g.x,L=g.y,D=g.width,N=g.height,H=this.getGroupPadding(o),X=0,mt=0;if(l==="circle"){var xt=D>N?D/2:N/2,Pt=(D+2*w)/2,Ht=(N+2*L)/2;e.attr({r:xt+H,x:Pt,y:Ht}),X=Pt,mt=Ht-e.attr("r")}else if(l==="rect"){var te=this.styles.default,oe=H*te.disCoefficient;e.attr({x:w-oe,y:L-oe,width:D+oe*2,height:N+oe*2}),X=w-oe+15,mt=L-oe+15}this.updateGroupTitle(t,o,X,mt)}this.setGroupStyle(e,"default")},i.prototype.resetNodePoint=function(){this.nodePoint.length=0},i.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},i}(),h4=c4,v4=function(r){var t={};return r.getNodes().forEach(function(e){t[e.getID()]={degree:0,inDegree:0,outDegree:0}}),r.getEdges().forEach(function(e){t[e.getSource().getID()].degree++,t[e.getSource().getID()].outDegree++,t[e.getTarget().getID()].degree++,t[e.getTarget().getID()].inDegree++}),t},u1=v4,d4=function(){function i(r){this.compare=r||i.defaultCompareFunction}return i.defaultCompareFunction=function(r,t){return r===t?0:r<t?-1:1},i.prototype.equal=function(r,t){return this.compare(r,t)===0},i.prototype.lessThan=function(r,t){return this.compare(r,t)<0},i.prototype.greaterThan=function(r,t){return this.compare(r,t)>0},i.prototype.lessThanOrEqual=function(r,t){return this.lessThan(r,t)||this.equal(r,t)},i.prototype.greaterThanOrEqual=function(r,t){return this.greaterThan(r,t)||this.equal(r,t)},i.prototype.reverse=function(){var r=this.compare;this.compare=function(t,e){return r(e,t)}},i}(),p4=d4,f1=function(){function i(r,t){t===void 0&&(t=null),this.value=r,this.next=t}return i.prototype.toString=function(r){return r?r(this.value):""+this.value},i}(),g4=function(){function i(r){r===void 0&&(r=null),this.head=null,this.tail=null,this.compare=new p4(r)}return i.prototype.prepend=function(r){var t=new f1(r,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(r){var t=new f1(r);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(r){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,r);)t=this.head,this.head=this.head.next;var e=this.head;if(e!==null)for(;e.next;)this.compare.equal(e.next.value,r)?(t=e.next,e.next=e.next.next):e=e.next;return this.compare.equal(this.tail.value,r)&&(this.tail=e),t},i.prototype.find=function(r){var t=r.value,e=t===void 0?void 0:t,n=r.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||e!==void 0&&this.compare.equal(o.value,e))return o;o=o.next}return null},i.prototype.deleteTail=function(){var r=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,r;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,r},i.prototype.deleteHead=function(){if(!this.head)return null;var r=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),r},i.prototype.fromArray=function(r){var t=this;return r.forEach(function(e){return t.append(e)}),this},i.prototype.toArray=function(){for(var r=[],t=this.head;t;)r.push(t),t=t.next;return r},i.prototype.reverse=function(){for(var r=this.head,t=null,e=null;r;)e=r.next,r.next=t,t=r,r=e;this.tail=this.head,this.head=t},i.prototype.toString=function(r){return r===void 0&&(r=void 0),this.toArray().map(function(t){return t.toString(r)}).toString()},i}(),c1=g4,y4=function(){function i(r){r===void 0&&(r=10),this.linkedList=new c1,this.maxStep=r}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(r){this.linkedList.prepend(r),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(r){return r.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),h1=y4,m4=function(r,t){var e=r.getNodes(),n=r.getEdges(),a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.getID()]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.getModel(),u=l.source,c=l.target,h=o[u],g=o[c];a[h][g]=1,t||(a[g][h]=1)}),a},Ru=m4,x4=function(r,t){var e=r.get("adjMatrix");e||(e=Ru(r,t));for(var n=[],a=e.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:e[o][s]===0||!e[o][s]?n[o][s]=Infinity:n[o][s]=e[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},v1=x4,d1=function(r,t,e){return(r.y-e.y)*(t.x-e.x)-(r.x-e.x)*(t.y-e.y)},p1=function(r){var t=r.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});t.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x});for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&d1(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var a=[],n=t.length-1;n>=0;n--){for(;a.length>=2&&d1(a[a.length-2],a[a.length-1],t[n])<=0;)a.pop();a.push(t[n])}a.pop(),e.pop();var o=e.concat(a);return o},b4={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function w4(i,r,t){var e=!1,n=function(l,u){return r.cells[l+u*r.width]},a=function(l,u){var c=0;return n(l-1,u-1)>=t&&(c+=1),n(l,u-1)>t&&(c+=2),n(l-1,u)>t&&(c+=4),n(l,u)>t&&(c+=8),c},o=function(l,u){for(var c=l,h=u,g,w,L=0;L<r.width*r.height;L++){if(g=c,w=h,i.findIndex(function(N){return N.x===c&&N.y===h})>-1){if(!(i[0].x!==c||i[0].y!==h))return!0}else i.push({x:c,y:h});var D=a(c,h);switch(D){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:c++;break;case 12:case 14:case 4:c--;break;case 6:g===0&&(w===-1?c-=1:c+=1);break;case 1:case 13:case 5:h--;break;case 9:g===1&&(w===0?h-=1:h+=1);break;case 10:case 8:case 11:h++;break;default:return console.warn("Marching squares invalid state: "+D),!0}}};this.march=function(){for(var s=0;s<r.width&&!e;s+=1)for(var l=0;l<r.height&&!e;l+=1)n(s,l)>t&&a(s,l)!==15&&(e=o(s,l));return e}}var S4=function(r,t,e){var n=Math.ceil(r/e),a=Math.ceil(t/e),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},C4=function(r,t,e){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:r.getModel().x,y:r.getModel().y},l={x:o.getModel().x,y:o.getModel().y},u=vu(s,l),c=new Yo(s.x,s.y,l.x,l.y),h=e.reduce(function(g,w){return $c(w,c)>0?g+1:g},0);u*Math.pow(h+1,2)<a&&(n=o,a=u*Math.pow(h+1,2))}),n},g1=function(r,t){var e=Number.POSITIVE_INFINITY,n=null;return r.forEach(function(a){var o=$c(a,t);o>=0&&o<e&&(n=a,e=o)}),n},M4=function(r,t,e,n){var a=[],o=[];o.push(r);for(var s=!0,l=0,u=function(w,L){var D=!1;return L.forEach(function(N){D||(Jc(w,{x:N.x1,y:N.y1})||Jc(w,{x:N.x2,y:N.y2}))&&(D=!0)}),D},c=function(w,L){for(var D=0,N=L;D<N.length;D++){var H=N[D],X=H.getBBox(),mt=[[X.x,X.y],[X.x+X.width,X.y],[X.x,X.y+X.height],[X.x+X.width,X.y+X.height]];if(Ys(mt,w.x,w.y))return!0}return!1};s&&l<e;){s=!1;for(var h=function(){var w=o.pop(),L=g1(t,w);if(L){var D=tx(L,w),N=D[0],H=D[1];if(H===2){var X=function(xt){for(var Pt=n,Ht=y1(L,Pt,N,xt),te=u(Ht,o)||u(Ht,a),oe=c(Ht,t);!te&&oe&&Pt>=1;)Pt/=1.5,Ht=y1(L,Pt,N,xt),te=u(Ht,o)||u(Ht,a),oe=c(Ht,t);Ht&&!te&&(!xt||!oe)&&(o.push(new Yo(w.x1,w.y1,Ht.x,Ht.y)),o.push(new Yo(Ht.x,Ht.y,w.x2,w.y2)),s=!0)};X(!0),s||X(!1)}}s||a.push(w),l+=1};!s&&o.length;)h()}for(;o.length;)a.push(o.pop());return a};function E4(i,r,t,e,n){var a=C4(i,t,r);if(a===null)return[];var o=function(h){for(var g=[];h.length>0;){var w=h.pop();if(h.length===0){g.push(w);break}var L=h.pop(),D=new Yo(w.x1,w.y1,L.x2,L.y2),N=g1(r,D);N?(g.push(w),h.push(L)):h.push(D)}return g},s=new Yo(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),l=M4(s,r,e,n),u=o(l);return u}var A4=function(r,t,e){var n=Object.assign(b4,e),a=ex(r.map(function(X){return{x:X.getModel().x,y:X.getModel().y}}));r=r.sort(function(X,mt){return vu({x:X.getModel().x,y:X.getModel().y},a)-vu({x:mt.getModel().x,y:mt.getModel().y},a)});var o=[],s=[];r.forEach(function(X){var mt=E4(X,t,o,n.maxRoutingIterations,n.morphBuffer);mt.forEach(function(xt){s.push(xt)}),o.push(X)});for(var l=T4(r,s,n.nodeR0),u=S4(l.width,l.height,n.pixelGroupSize),c=[],h=[],g=0;g<n.maxMarchingIterations;g++)if(P4(r,t,s,l,u,n),c=[],h=[],!!new w4(c,u,n.threshold).march()){var w=c.map(function(X){return{x:Math.round(X.x*n.pixelGroupSize+l.minX),y:Math.round(X.y*n.pixelGroupSize+l.minY)}});if(w){var L=w.length;if(n.skip>1)for(L=Math.floor(w.length/n.skip);L<3&&n.skip>1;)n.skip-=1,L=Math.floor(w.length/n.skip);for(var D=0,N=0;N<L;N+=1,D+=n.skip)h.push({x:w[D].x,y:w[D].y})}var H=function(){for(var mt=0,xt=r;mt<xt.length;mt++){var Pt=xt[mt],Ht=h.map(function(te){return[te.x,te.y]});if(!Ys(Ht,Pt.getBBox().centerX,Pt.getBBox().centerY))return!1}return!0};if(h&&H())return h;if(n.threshold*=.9,g<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return h};function T4(i,r,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(l){n.push(l.getBBox())}),r.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];e.minX=(s.minX<e.minX?s.minX:e.minX)-t,e.minY=(s.minY<e.minY?s.minY:e.minY)-t,e.maxX=(s.maxX>e.maxX?s.maxX:e.maxX)+t,e.maxY=(s.maxY>e.maxY?s.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function P4(i,r,t,e,n,a){function o(w,L){var D=Math.floor((w-L)/a.pixelGroupSize);return D<0?0:D}function s(w,L){return w*a.pixelGroupSize+L}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),u=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),c=function(L,D){var N=Math.min(o(L.minX,D+e.minX),n.width),H=Math.min(o(L.minY,D+e.minY),n.height),X=Math.min(o(L.maxX,-D+e.minX),n.width),mt=Math.min(o(L.maxY,-D+e.minY),n.height);return[N,H,X,mt]},h=function(L,D){for(var N=L.getBBox(),H=c(N,a.nodeR1),X=H[0],mt=H[1],xt=H[2],Pt=H[3],Ht=mt;Ht<Pt;Ht+=1)for(var te=X;te<xt;te+=1)if(!(D<0&&n[te+Ht*n.width]<=0)){var oe=s(te,e.minX),qt=s(Ht,e.minY),we=nx({x:oe,y:qt},{x:N.minX,y:N.minY,width:N.width,height:N.height});if(we<Math.pow(a.nodeR1,2)){var Ie=Math.sqrt(we)-a.nodeR1;n.cells[te+Ht*n.width]+=D*Ie*Ie}}},g=function(L,D){for(var N=L.getBBox(),H=c(N,a.edgeR1),X=H[0],mt=H[1],xt=H[2],Pt=H[3],Ht=mt;Ht<Pt;Ht+=1)for(var te=X;te<xt;te+=1)if(!(D<0&&n.cells[te+Ht*n.width]<=0)){var oe=s(te,e.minX),qt=s(Ht,e.minY),we=rx({x:oe,y:qt},L);if(we<Math.pow(a.edgeR1,2)){var Ie=Math.sqrt(we)-a.edgeR1;n.cells[te+Ht*n.width]+=D*Ie*Ie}}};a.nodeInfluenceFactor&&i.forEach(function(w){h(w,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(w){g(w,a.edgeInfluenceFactor/u)}),a.negativeNodeInfluenceFactor&&r.forEach(function(w){h(w,a.negativeNodeInfluenceFactor/l)})}function y1(i,r,t,e){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],u={topLeft:{x:n.minX-r,y:n.minY-r},topRight:{x:n.maxX+r,y:n.minY-r},bottomLeft:{x:n.minX-r,y:n.maxY+r},bottomRight:{x:n.maxX+r,y:n.maxY+r}},c=n.height*n.width;function h(L,D){return n.width*((L.y-n.minY+(D.y-n.minY))*.5)}if(o){if(a)return e?u.topLeft:u.bottomRight;if(s)return e?u.bottomLeft:u.topRight;var g=h(o,l);return g<c*.5?o.y>l.y?e?u.topLeft:u.bottomRight:e?u.topRight:u.bottomLeft:o.y<l.y?e?u.bottomLeft:u.topRight:e?u.bottomRight:u.topLeft}if(l){if(a)return e?u.topRight:u.bottomLeft;if(s)return e?u.bottomRight:u.topLeft}var w=h(a,s);return w<c*.5?a.x>s.x?e?u.topLeft:u.bottomRight:e?u.bottomLeft:u.topRight:a.x<s.x?e?u.topRight:u.bottomLeft:e?u.bottomRight:u.topLeft}var O4=function(){function i(r,t){this.cfg=(0,f.deepMix)(this.getDefaultCfg(),t),this.graph=r,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var r=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+r:10+r,this.cfg.bubbleCfg={nodeR0:this.padding-r,nodeR1:this.padding-r,morphBuffer:this.padding-r}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(r,t){var e,n,a;switch(this.type){case"round-convex":e=p1(r),a=ux(e.map(function(o){return[o.x,o.y]}),this.padding),n=(0,al.parsePathString)(a);break;case"smooth-convex":e=p1(r),a=fx(e.map(function(o){return[o.x,o.y]}),this.padding),n=e.length>=2&&qc(a);break;case"bubble":e=A4(r,t,this.cfg.bubbleCfg),n=e.length>=2&&qc(e);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:ce({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},i.prototype.addMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.members.push(r);var t=this.nonMembers.indexOf(r);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.nonMembers.push(r);var t=this.members.indexOf(r);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.members.indexOf(r);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.nonMembers.indexOf(r);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(r,t){var e=this;this.group.findById(this.id).remove(),r&&(this.members=r.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(r){var t=this.group.findById(this.id);t.attr(ce({},r))},i.prototype.updateCfg=function(r){var t=this;this.cfg=(0,f.deepMix)(this.cfg,r),this.id=this.cfg.id,this.group=this.cfg.group,r.members&&(this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),r.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(r){var t=this,e;(0,f.isString)(r)?e=this.graph.findById(r):e=r;var n,a=e.getKeyShape();if(e.get("type")==="path")n=pu(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),Qc(n,pu(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),I4=O4,k4="node",L4="svg",_4=function(i){ai(r,i);function r(t){var e=i.call(this)||this;return e.cfg=(0,f.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new h1(e.cfg.maxStep),e.redoStack=new h1(e.cfg.maxStep)),e}return r.prototype.init=function(){this.initCanvas();var t=new BN(this),e=new _N(this),n=new kN(this),a=new n3(this),o=new s4(this),s=new f4(this),l=new h4(this);this.set({eventController:t,viewController:e,modeController:n,itemController:a,layoutController:o,stateController:s,customGroupControll:l}),this.initPlugin()},r.prototype.initCanvas=function(){var t=this.get("container");if((0,f.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=this.get("width"),n=this.get("height"),a=this.get("renderer"),o;if(a===L4)o=new zs.Z({container:t,width:e,height:n});else{var s={container:t,width:e,height:n},l=this.get("pixelRatio");l&&(s.pixelRatio=l),o=new zo.Z(s)}this.set("canvas",o),this.initGroups()},r.prototype.initPlugin=function(){var t=this;(0,f.each)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},r.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),n=e.id,a=t.addGroup({id:n+"-root",className:yr.rootContainerClassName});if(this.get("groupByTypes")){var o=a.addGroup({id:n+"-edge",className:yr.edgeContainerClassName}),s=a.addGroup({id:n+"-node",className:yr.nodeContainerClassName}),l=a.addGroup({id:n+"-combo",className:yr.comboContainerClassName}),u=a.addGroup({id:n+"-group",className:yr.customGroupContainerClassName});u.toBack(),l.toBack(),this.set({nodeGroup:s,edgeGroup:o,customGroup:u,comboGroup:l})}var c=a.addGroup({id:n+"-delegate",className:yr.delegateContainerClassName});this.set({delegateGroup:c}),this.set("group",a)},r.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},r.prototype.set=function(t,e){return(0,f.isPlainObject)(t)?this.cfg=ce(ce({},this.cfg),t):this.cfg[t]=e,this},r.prototype.get=function(t){return this.cfg[t]},r.prototype.getGroup=function(){return this.get("group")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.setMinZoom=function(t){return this.set("minZoom",t)},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},r.prototype.getWidth=function(){return this.get("width")},r.prototype.getHeight=function(){return this.get("height")},r.prototype.clearItemStates=function(t,e){(0,f.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e);var a=this.get("stateController");a.updateStates(t,e,!1)},r.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},r.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},r.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},r.prototype.findById=function(t){return this.get("itemMap")[t]},r.prototype.find=function(t,e){var n,a=this.get(t+"s");return(0,f.each)(a,function(o,s){if(e(o,s))return n=o,n}),n},r.prototype.findAll=function(t,e){var n=[];return(0,f.each)(this.get(t+"s"),function(a,o){e(a,o)&&n.push(a)}),n},r.prototype.findAllByState=function(t,e){return this.findAll(t,function(n){return n.hasState(e)})},r.prototype.translate=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),Ba.wO.translate(a,a,[t,e]),n.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},r.prototype.moveTo=function(t,e){var n=this.get("group");Jm(n,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},r.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},r.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},r.prototype.addBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!0),this},r.prototype.removeBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!1),this},r.prototype.zoom=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix()),o=this.get("minZoom"),s=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),e?(Ba.wO.translate(a,a,[-e.x,-e.y]),Ba.wO.scale(a,a,[t,t]),Ba.wO.translate(a,a,[e.x,e.y])):Ba.wO.scale(a,a,[t,t]),!(o&&a[0]<o||s&&a[0]>s)&&(n.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},r.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},r.prototype.focusItem=function(t,e,n){var a=this.get("viewController"),o=!1;e?o=!0:e===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},r.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},r.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},r.prototype.getPointByClient=function(t,e){var n=this.get("viewController");return n.getPointByClient(t,e)},r.prototype.getClientByPoint=function(t,e){var n=this.get("viewController");return n.getClientByPoint(t,e)},r.prototype.getPointByCanvas=function(t,e){var n=this.get("viewController");return n.getPointByCanvas(t,e)},r.prototype.getCanvasByPoint=function(t,e){var n=this.get("viewController");return n.getCanvasByPoint(t,e)},r.prototype.showItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],u.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],u.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],u.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],u.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],u.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],u.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},r.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var n=e.get("canvas");n.set("autoDraw",t)},r.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},r.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var n=t;if((0,f.isString)(t)&&(n=this.findById(t)),!n&&(0,f.isString)(t)){console.warn("The item to be removed does not exist!");var a=this.get("customGroupControll");a.remove(t)}else if(n){var o="";if(n.getType&&(o=n.getType()),e&&this.get("enabledStack")){var s=ce(ce({},n.getModel()),{itemType:o}),l={};switch(o){case"node":{l.nodes=[s],l.edges=[];for(var u=n.getEdges(),c=u.length-1;c>=0;c--)l.edges.push(ce(ce({},u[c].getModel()),{itemType:"edge"}));break}case"edge":l.edges=[s];break;case"combo":l.combos=[s];break;default:break}this.pushStack("delete",{before:l,after:{}})}var h=this.get("itemController");if(h.removeItem(t),o==="combo"){var g=nh(this.get("comboTrees"));this.set("comboTrees",g)}}},r.prototype.addItem=function(t,e,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(t==="group"){var l=e.groupId,u=e.nodes,c=e.type,h=e.zIndex,g=e.title,w=g;return(0,f.isString)(g)&&(w={text:g}),this.get("customGroupControll").create(l,u,c,h,!0,w)}if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var L,D=this.get("comboTrees");if(D||(D=[]),t==="combo"){var N=this.get("itemMap"),H=!1;if(D.forEach(function(we){H||Ta(we,function(Ie){if(e.parentId===Ie.id){H=!0;var Pe=ce({id:e.id,depth:Ie.depth+2},e);Ie.children?Ie.children.push(Pe):Ie.children=[Pe],e.depth=Pe.depth,L=s.addItem(t,e)}var Ke=N[Ie.id];return H&&Ke&&Ke.getType&&Ke.getType()==="combo"&&s.updateCombo(Ke,Ie.children),!0})}),!H){var X=ce({id:e.id,depth:0},e);e.depth=X.depth,D.push(X),L=s.addItem(t,e)}this.set("comboTrees",D)}else if(t==="node"&&(0,f.isString)(e.comboId)&&D){var mt=this.findById(e.comboId);if(mt&&mt.getType&&mt.getType()!=="combo"){console.warn("'"+e.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");return}L=s.addItem(t,e);var xt=this.get("itemMap"),Pt=!1,Ht=!1;(D||[]).forEach(function(we){Ht||Pt||Ta(we,function(Ie){if(Ie.id===e.id)return Ht=!0,!1;if(e.comboId===Ie.id&&!Ht){Pt=!0;var Pe=(0,f.clone)(e);Pe.itemType="node",Ie.children?Ie.children.push(Pe):Ie.children=[Pe],e.depth=Ie.depth+1}return Pt&&xt[Ie.id].getType&&xt[Ie.id].getType()==="combo"&&s.updateCombo(xt[Ie.id],Ie.children),!0})})}else L=s.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var mt=this.findById(e.comboId||e.parentId);mt&&mt.addChild(L)}var te=this.get("combos");if(te&&te.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var oe=ce(ce({},L.getModel()),{itemType:t}),qt={};switch(t){case"node":qt.nodes=[oe];break;case"edge":qt.edges=[oe];break;case"combo":qt.combos=[oe];break;default:break}this.pushStack("add",{before:{},after:qt})}return L},r.prototype.add=function(t,e,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,e,n,a)},r.prototype.updateItem=function(t,e,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,f.isString)(t)?s=this.findById(t):s=t;var l=(0,f.clone)(s.getModel()),u="";s.getType&&(u=s.getType());var c=Fs(s.getStates());if(u==="combo"&&(0,f.each)(c,function(L){return a.setItemState(s,L,!1)}),o.updateItem(s,e),u==="combo"&&(0,f.each)(c,function(L){return a.setItemState(s,L,!0)}),n&&this.get("enabledStack")){var h={nodes:[],edges:[],combos:[]},g={nodes:[],edges:[],combos:[]},w=ce({id:l.id},e);switch(u){case"node":h.nodes.push(l),g.nodes.push(w);break;case"edge":h.edges.push(l),g.edges.push(w);break;case"combo":h.combos.push(l),g.combos.push(w);break;default:break}u==="node"&&h.nodes.push(l),this.pushStack("update",{before:h,after:g})}},r.prototype.update=function(t,e,n){n===void 0&&(n=!0),this.updateItem(t,e,n)},r.prototype.setItemState=function(t,e,n){(0,f.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,e,n);var o=this.get("stateController");(0,f.isString)(n)?o.updateState(t,e+":"+n,!0):o.updateState(t,e,n)},r.prototype.priorityState=function(t,e){var n=this.get("itemController");n.priorityState(t,e)},r.prototype.data=function(t){this.set("data",t)},r.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o,l=e.combos,u=l===void 0?[]:l;if(this.clear(),this.emit("beforerender"),(0,f.each)(a,function(X){t.add("node",X,!1,!1)}),u&&u.length!==0){var c=rh(u,a);this.set("comboTrees",c),t.addCombos(u)}(0,f.each)(s,function(X){t.add("edge",X,!1,!1)});var h=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var g=t.get("layoutController");g.layout(w)||w();function w(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",h)}if(!this.get("groupByTypes"))if(u&&u.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var L=this.getNodes();L.forEach(function(X){X.toFront()})}else{var D=this.getEdges();D.forEach(function(X){X.toBack()})}if(e.nodes){var N=e.nodes.filter(function(X){return X.groupId});if(N.length>0){var H=t.get("groupType");this.renderCustomGroup(e,H)}}this.get("enabledStack")&&this.pushStack("render")},r.prototype.read=function(t){this.data(t),this.render()},r.prototype.diffItems=function(t,e,n){var a=this,o,s=this.get("itemMap");(0,f.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===k4){var u=o.getContainer().getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:u[6],y:u[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);e[t+"s"].push(o)})},r.prototype.changeData=function(t,e){e===void 0&&(e=!0);var n=this;if(!t)return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(D){return n.clearItemStates(D)}),this.getEdges().map(function(D){return n.clearItemStates(D)});var a=this.get("canvas"),o=a.get("localRefresh");a.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var s=this.get("itemMap"),l={nodes:[],edges:[]},u=t.combos;if(u){var c=rh(u,t.nodes);this.set("comboTrees",c)}this.diffItems("node",l,t.nodes),(0,f.each)(s,function(D,N){s[N].getModel().depth=0,!(D.getType&&D.getType()==="edge")&&(D.getType&&D.getType()==="combo"?(delete s[N],D.destroy()):l.nodes.indexOf(D)<0&&(delete s[N],n.remove(D,!1)))});for(var h=this.getCombos(),g=h.length,w=g-1;w>=0;w--)h[w].destroyed&&h.splice(w,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,t.edges),(0,f.each)(s,function(D,N){D.getType&&(D.getType()==="node"||D.getType()==="combo")||l.edges.indexOf(D)<0&&(delete s[N],n.remove(D,!1))}),this.set({nodes:l.nodes,edges:l.edges});var L=this.get("layoutController");return L.changeData(),n.get("animate")&&!L.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){a.set("localRefresh",o)},16),this},r.prototype.addCombos=function(t){var e=this,n=e.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},r.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var a="",o;if(!!t){if((0,f.isString)(t))a=t,o={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=t}var s=e.map(function(u){var c=n.findById(u),h="";c.getType&&(h=c.getType());var g={id:c.getID(),itemType:h};return h==="combo"?g.parentId=a:h==="node"&&(g.comboId=a),g});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(u){Ta(u,function(c){return c.id===a?(c.itemType="combo",c.children=s,!1):!0})}),l&&this.sortCombos()}},r.prototype.uncombo=function(t){var e=this,n,a=this,o=t;if((0,f.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var u=this.get("itemMap"),c=o.get("id"),h,g=[],w=this.get("combos"),L=this.findById(s);if(l.forEach(function(N){h||Ta(N,function(H){var X;if(H.id===c){h=H;var mt=o.getEdges();mt.forEach(function(Pt){e.removeItem(Pt,!1)});var xt=w.indexOf(t);w.splice(xt,1),delete u[c],o.destroy()}if(s&&h&&H.id===s){L.removeCombo(o),g=H.children;var xt=g.indexOf(h);return xt!==-1&&g.splice(xt,1),(X=h.children)===null||X===void 0||X.forEach(function(Ht){var te=e.findById(Ht.id),oe=te.getModel();te.getType&&te.getType()==="combo"?(Ht.parentId=s,delete Ht.comboId,oe.parentId=s,delete oe.comboId):te.getType&&te.getType()==="node"&&(Ht.comboId=s,oe.comboId=s),L.addChild(te),g.push(Ht)}),!1}return!0})}),!s&&h){var D=l.indexOf(h);l.splice(D,1),(n=h.children)===null||n===void 0||n.forEach(function(N){N.parentId=void 0;var H=e.findById(N.id).getModel();H.parentId=void 0,N.itemType!=="node"&&l.push(N)})}},r.prototype.updateCombos=function(){var t=this,e=this,n=this.get("comboTrees"),a=e.get("itemController"),o=e.get("itemMap");(n||[]).forEach(function(s){Ta(s,function(l){if(!l)return!0;var u=o[l.id];if(u&&u.getType&&u.getType()==="combo"){var c=Fs(u.getStates());(0,f.each)(c,function(h){return t.setItemState(u,h,!1)}),a.updateCombo(u,l.children),(0,f.each)(c,function(h){return t.setItemState(u,h,!0)})}return!0})}),e.sortCombos()},r.prototype.updateCombo=function(t){var e=this,n=this,a=t,o;if((0,f.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),u=n.get("itemMap");(s||[]).forEach(function(c){Ta(c,function(h){if(!h)return!0;var g=u[h.id];if(o===h.id&&g&&g.getType&&g.getType()==="combo"){var w=Fs(g.getStates());(0,f.each)(w,function(L){g.getStateStyle(L)&&e.setItemState(g,L,!1)}),l.updateCombo(g,h.children),(0,f.each)(w,function(L){g.getStateStyle(L)&&e.setItemState(g,L,!0)}),o&&(o=h.parentId)}return!0})})},r.prototype.updateComboTree=function(t,e){var n=this;this.set("comboSorted",!1);var a;(0,f.isString)(t)?a=n.findById(t):a=t;var o=a.getModel(),s=o.comboId||o.parentId;if(e&&a.getType&&a.getType()==="combo"){var l=this.get("comboTrees"),u=!0,c;if((l||[]).forEach(function(D){c||na(D,function(N){if(!c)return N.id===a.getID()&&(c=N),!0})}),na(c,function(D){return D.id===e?(u=!1,!1):!0}),!u){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o.parentId||o.comboId){var h=this.findById(o.parentId||o.comboId);h&&h.removeChild(a)}var g="";if(a.getType&&(g=a.getType()),g==="combo"?o.parentId=e:g==="node"&&(o.comboId=e),e){var w=this.findById(e);w&&w.addChild(a)}if(s){var w=this.findById(s);w&&w.removeChild(a)}var L=nh(this.get("comboTrees"),o.id,e);this.set("comboTrees",L),this.updateCombos()},r.prototype.renderCustomGroup=function(t,e){var n=this,a=t.groups,o=t.nodes,s=o===void 0?[]:o,l=10;if(a){this.set({groups:a});var g=ON(t);Object.keys(g).forEach(function(L){var D=g[L];n.get("customGroupControll").create(L,D,e,l),l--});var w=this.get("customGroup");w.sort()}else{var u=s.filter(function(L){return L.groupId}),c=[],h=(0,f.groupBy)(u,"groupId");Object.keys(h).forEach(function(L){var D=h[L].map(function(N){return N.id});n.get("customGroupControll").create(L,D,e,l),l--,c.find(function(N){return N.id===L})||c.push({id:L})}),this.set({groups:c})}},r.prototype.save=function(){var t=[],e=[],n=[];return(0,f.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,f.each)(this.get("edges"),function(a){e.push(a.getModel())}),(0,f.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:e,combos:n,groups:this.get("groups")}},r.prototype.changeSize=function(t,e){var n=this.get("viewController");return n.changeSize(t,e),this},r.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,f.each)(e,function(o){o.refresh()}),(0,f.each)(n,function(o){o.refresh()}),(0,f.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},r.prototype.getNodes=function(){return this.get("nodes")},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getCombos=function(){return this.get("combos")},r.prototype.getComboChildren=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},r.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,a=t.getNodes(),o=a.map(function(l){var u=l.getModel();return{id:u.id,x:u.x,y:u.y}});t.isAnimating()&&t.stopAnimate();var s=t.get("canvas");s.animate(function(l){(0,f.each)(o,function(u){var c=t.findById(u.id);if(!(!c||c.destroyed)){var h=c.get("originAttrs"),g=c.get("model");if(!h){var w=c.getContainer().getMatrix();w||(w=[1,0,0,0,1,0,0,0,1]),h={x:w[6],y:w[7]},c.set("originAttrs",h)}if(n){var L=n(c,l,u,h);c.set("model",Object.assign(g,L))}else g.x=h.x+(u.x-h.x)*l,g.y=h.y+(u.y-h.y)*l}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){(0,f.each)(a,function(u){u.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},r.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),n=t.get("edges"),a=t.get("vedges"),o=t.get("combos"),s,l={};(0,f.each)(e,function(u){s=u.getModel();var c=u.get("originAttrs");c&&s.x===c.x&&s.y===c.y||(u.updatePosition({x:s.x,y:s.y}),l[s.id]=!0,s.comboId&&(l[s.comboId]=!0))}),o&&o.length!==0&&t.updateCombos(),(0,f.each)(n,function(u){var c=u.getSource().getModel(),h=u.getTarget().getModel();(l[c.id]||l[h.id]||u.getModel().isComboEdge)&&u.refresh()}),(0,f.each)(a,function(u){u.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},r.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},r.prototype.isAnimating=function(){return this.animating},r.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},r.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},r.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},r.prototype.clear=function(){var t=this.get("canvas");return t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},r.prototype.toDataURL=function(t,e){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),u=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),c=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",u);c.replaceChild(l,c.documentElement);var h=new XMLSerializer().serializeToString(c);s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(h)}else{var g=void 0,w=o.getContext("2d"),L=this.get("width"),D=this.get("height"),N=void 0;if(e){var H=window.devicePixelRatio;g=w.getImageData(0,0,L*H,D*H),N=w.globalCompositeOperation,w.globalCompositeOperation="destination-over",w.fillStyle=e,w.fillRect(0,0,L,D)}s=o.toDataURL(t),e&&(w.clearRect(0,0,L,D),w.putImageData(g,0,0),w.globalCompositeOperation=N)}return s},r.prototype.toFullDataURL=function(t,e,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),u=(0,Si.Z)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,h=n?n.padding:void 0;h?(0,f.isNumber)(h)&&(h=[h,h,h,h]):h=[0,0,0,0];var g=o+h[0]+h[2],w=s+h[1]+h[3],L={container:u,height:g,width:w,quickHit:!0},D=l==="svg"?new zs.Z(L):new zo.Z(L),N=this.get("group"),H=N.clone(),X=(0,f.clone)(H.getMatrix());X||(X=[1,0,0,0,1,0,0,0,1]);var mt=(a.maxX+a.minX)/2,xt=(a.maxY+a.minY)/2;Ba.wO.translate(X,X,[-mt,-xt]),Ba.wO.translate(X,X,[s/2+h[3],o/2+h[0]]),H.resetMatrix(),H.setMatrix(X),D.add(H);var Pt=D.get("el"),Ht="";e||(e="image/png"),setTimeout(function(){if(l==="svg"){var te=Pt.cloneNode(!0),oe=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),qt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",oe);qt.replaceChild(te,qt.documentElement);var we=new XMLSerializer().serializeToString(qt);Ht="data:image/svg+xml;charset=utf8,"+encodeURIComponent(we)}else{var Ie=void 0,Pe=Pt.getContext("2d"),Ke=void 0;if(c){var ar=window.devicePixelRatio;Ie=Pe.getImageData(0,0,w*ar,g*ar),Ke=Pe.globalCompositeOperation,Pe.globalCompositeOperation="destination-over",Pe.fillStyle=c,Pe.fillRect(0,0,w,g)}Ht=Pt.toDataURL(e),c&&(Pe.clearRect(0,0,w,g),Pe.putImageData(Ie,0,0),Pe.globalCompositeOperation=Ke)}t==null||t(Ht)},16)},r.prototype.downloadFullImage=function(t,e,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,u=this.get("renderer"),c=(0,Si.Z)('<id="virtual-image"></div>'),h=n?n.backgroundColor:void 0,g=n?n.padding:void 0;g?(0,f.isNumber)(g)&&(g=[g,g,g,g]):g=[0,0,0,0];var w=s+g[0]+g[2],L=l+g[1]+g[3],D={container:c,height:w,width:L},N=u==="svg"?new zs.Z(D):new zo.Z(D),H=this.get("group"),X=H.clone(),mt=(0,f.clone)(X.getMatrix());mt||(mt=[1,0,0,0,1,0,0,0,1]);var xt=(o.maxX+o.minX)/2,Pt=(o.maxY+o.minY)/2;Ba.wO.translate(mt,mt,[-xt,-Pt]),Ba.wO.translate(mt,mt,[l/2+g[3],s/2+g[0]]),X.resetMatrix(),X.setMatrix(mt),N.add(X);var Ht=N.get("el");e||(e="image/png"),setTimeout(function(){var te="";if(u==="svg"){var oe=Ht.cloneNode(!0),qt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),we=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",qt);we.replaceChild(oe,we.documentElement);var Ie=new XMLSerializer().serializeToString(we);te="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Ie)}else{var Pe=void 0,Ke=Ht.getContext("2d"),ar=void 0;if(h){var rr=window.devicePixelRatio;Pe=Ke.getImageData(0,0,L*rr,w*rr),ar=Ke.globalCompositeOperation,Ke.globalCompositeOperation="destination-over",Ke.fillStyle=h,Ke.fillRect(0,0,L,w)}te=Ht.toDataURL(e),h&&(Ke.clearRect(0,0,L,w),Ke.putImageData(Pe,0,0),Ke.globalCompositeOperation=ar)}var Mr=document.createElement("a"),Ar=(t||"graph")+(u==="svg"?".svg":"."+e.split("/")[1]);a.dataURLToImage(te,u,Mr,Ar);var Pr=document.createEvent("MouseEvents");Pr.initEvent("click",!1,!1),Mr.dispatchEvent(Pr)},16)},r.prototype.downloadImage=function(t,e,n){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();e||(e="image/png");var u=(t||"graph")+(l==="svg"?".svg":e.split("/")[1]),c=document.createElement("a");setTimeout(function(){var h=o.toDataURL(e,n);a.dataURLToImage(h,l,c,u);var g=document.createEvent("MouseEvents");g.initEvent("click",!1,!1),c.dispatchEvent(g)},16)},r.prototype.dataURLToImage=function(t,e,n,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var u=atob(o[1]),c=u.length,h=new Uint8Array(c);c--;)h[c]=u.charCodeAt(c);var g=new Blob([h],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(g,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(g)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},r.prototype.updateLayout=function(t){var e=this.get("layoutController"),n;(0,f.isString)(t)?(n=t,t={type:n}):n=t.type;var a=this.get("layout"),o=a?a.type:void 0;if(!n||o===n){var s={};Object.assign(s,a,t),s.type=o||"random",this.set("layout",s),e.updateLayoutCfg(s)}else this.set("layout",t),e.changeLayout(n)},r.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},r.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!!e){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},r.prototype.collapseCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.collapseCombo(t),n.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),c=!1,h={};(u||[]).forEach(function(L){h[L.id]=L}),(u||[]).forEach(function(L){c||na(L,function(D){if(c&&h[D.id])return!1;if(n.parentId===D.id?(h={},D.children.forEach(function(H){h[H.id]=H})):n.id===D.id&&(c=!0),c){var N=e.findById(D.id);N&&N.getType&&N.getType()==="combo"&&(s=s.concat(N.getNodes()),l=l.concat(N.getCombos()))}return!0})});var g={},w=[];o.forEach(function(L){if(!(L.isVisible()&&!L.getModel().isVEdge)){var D=L.getSource(),N=L.getTarget();if((s.includes(D)||l.includes(D))&&!s.includes(N)&&!l.includes(N)||D.getModel().id===n.id){var H=L.getModel();if(H.isVEdge){e.removeItem(L,!1);return}for(var X=N.getModel();!N.isVisible();){if(N=e.findById(X.parentId||X.comboId),!N||!X.parentId&&!X.comboId)return;X=N.getModel()}var mt=X.id;if(g[n.id+"-"+mt]){g[n.id+"-"+mt]+=H.size||1;return}var xt=e.addItem("vedge",{source:n.id,target:mt,isVEdge:!0},!1);g[n.id+"-"+mt]=H.size||1,w.push(xt)}else if(!s.includes(D)&&!l.includes(D)&&(s.includes(N)||l.includes(N))||N.getModel().id===n.id){var H=L.getModel();if(H.isVEdge){e.removeItem(L,!1);return}for(var Pt=D.getModel();!D.isVisible();){if(D=e.findById(Pt.parentId||Pt.comboId),!D||!Pt.parentId&&!Pt.comboId)return;Pt=D.getModel()}var Ht=Pt.id;if(g[Ht+"-"+n.id]){g[Ht+"-"+n.id]+=H.size||1;return}var xt=e.addItem("vedge",{target:n.id,source:Ht,isVEdge:!0},!1);g[Ht+"-"+n.id]=H.size||1,w.push(xt)}}}),w.forEach(function(L){var D=L.getModel();e.updateItem(L,{size:g[D.source+"-"+D.target]},!1)})},r.prototype.expandCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.expandCombo(t),n.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),c=!1,h={};(u||[]).forEach(function(L){h[L.id]=L}),(u||[]).forEach(function(L){c||na(L,function(D){if(c&&h[D.id])return!1;if(n.parentId===D.id?(h={},D.children.forEach(function(H){h[H.id]=H})):n.id===D.id&&(c=!0),c){var N=e.findById(D.id);N&&N.getType&&N.getType()==="combo"&&(s=s.concat(N.getNodes()),l=l.concat(N.getCombos()))}return!0})});var g={},w={};o.forEach(function(L){if(!(L.isVisible()&&!L.getModel().isVEdge)){var D=L.getSource(),N=L.getTarget(),H=D.get("id"),X=N.get("id");if((s.includes(D)||l.includes(D))&&!s.includes(N)&&!l.includes(N)||H===n.id){if(L.getModel().isVEdge){e.removeItem(L,!1);return}for(var mt=N.getModel();!N.isVisible();){if(N=e.findById(mt.comboId||mt.parentId),!N||!mt.parentId&&!mt.comboId)return;mt=N.getModel()}X=mt.id;for(var xt=D.getModel();!D.isVisible();){if(D=e.findById(xt.comboId||xt.parentId),!D||!xt.parentId&&!xt.comboId)return;if(xt.comboId===n.id||xt.parentId===n.id)break;xt=D.getModel()}if(H=xt.id,X){var Pt=H+"-"+X;if(g[Pt]){g[Pt]+=L.getModel().size||1,e.updateItem(w[Pt],{size:g[Pt]},!1);return}var Ht=e.addItem("vedge",{source:H,target:X,isVEdge:!0},!1);g[Pt]=L.getModel().size||1,w[Pt]=Ht}}else if(!s.includes(D)&&!l.includes(D)&&(s.includes(N)||l.includes(N))||X===n.id){if(L.getModel().isVEdge){e.removeItem(L,!1);return}for(var xt=D.getModel();!D.isVisible();){if(D=e.findById(xt.comboId||xt.parentId),!D||!xt.parentId&&!xt.comboId)return;xt=D.getModel()}H=xt.id;for(var mt=N.getModel();!N.isVisible();){if(N=e.findById(mt.comboId||mt.parentId),!N||!mt.parentId&&!mt.comboId)return;if(mt.comboId===n.id||mt.parentId===n.id)break;mt=N.getModel()}if(X=mt.id,H){var Pt=H+"-"+X;if(g[Pt]){g[Pt]+=L.getModel().size||1,e.updateItem(w[Pt],{size:g[Pt]},!1);return}var Ht=e.addItem("vedge",{target:X,source:H,isVEdge:!0},!1);g[Pt]=L.getModel().size||1,w[Pt]=Ht}}else(s.includes(D)||l.includes(D))&&(s.includes(N)||l.includes(N))&&D.isVisible()&&N.isVisible()&&L.show()}})},r.prototype.collapseExpandCombo=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!(t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var a=n.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(a.parentId)}var o=e.collapsed;o?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},r.prototype.collapseGroup=function(t){var e=this.get("customGroupControll");e.collapseGroup(t)},r.prototype.expandGroup=function(t){var e=this.get("customGroupControll");e.expandGroup(t)},r.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},r.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},r.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var n=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){na(l,function(u){return n[u.depth]?n[u.depth].push(u.id):n[u.depth]=[u.id],a[u.id]=u.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var u=l.getModel(),c=a[u.source]||0,h=a[u.target]||0,g=Math.max(c,h);n[g]?n[g].push(u.id):n[g]=[u.id]}),n.forEach(function(l){if(!(!l||!l.length))for(var u=l.length-1;u>=0;u--){var c=t.findById(l[u]);c==null||c.toFront()}})}},r.prototype.getNeighbors=function(t,e){var n=t;return(0,f.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},r.prototype.getNodeDegree=function(t,e){e===void 0&&(e=void 0);var n=t;(0,f.isString)(t)&&(n=this.findById(t));var a=this.get("degrees");a||(a=u1(this)),this.set("degees",a);var o=a[n.getID()],s;switch(e){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},r.prototype.getUndoStack=function(){return this.undoStack},r.prototype.getRedoStack=function(){return this.redoStack},r.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},r.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},r.prototype.pushStack=function(t,e,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=e?(0,f.clone)(e):{before:{},after:(0,f.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},r.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=Ru(this,e),this.set("adjMatrix",n)),n},r.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=Ru(this,e),this.set("adjMatrix",n)),(!a||!t)&&(a=v1(this,e),this.set("shortestPathMatrix",a)),a},r.prototype.destroy=function(){this.clear(),this.clearStack(),(0,f.each)(this.get("plugins"),function(o){o.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var n=t[e];if(!!n){var a=n.parentElement;!a||a.removeChild(n)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},r.prototype.createHull=function(t){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e||(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=e.addGroup({id:t.id+"-container"}),o=new I4(this,ce(ce({},t),{group:a})),s=o.id;return n[s]=o,o},r.prototype.getHulls=function(){return this.get("hullMap")},r.prototype.getHullById=function(t){return this.get("hullMap")[t]},r.prototype.removeHull=function(t){var e;(0,f.isString)(t)?e=this.getHullById(t):e=t;var n=this.get("hullMap");delete n[e.id],e.destroy()},r.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=yr.waterMarkerImage);var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},yr.imageWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,c=o.image;if(!a){var h={container:n,width:s,height:l,capture:!1},g=this.get("pixelRatio");g&&(h.pixelRatio=g),a=new zo.Z(h),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var w=a.get("context"),L=c.rotate,D=c.x,N=c.y;w.rotate(-L*Math.PI/180);var H=new Image;H.crossOrigin="anonymous",H.src=t,H.onload=function(){if(w.drawImage(H,D,N,c.width,c.height),w.rotate(L*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var X=document.querySelector(".g6-graph-watermarker");X||(X=document.createElement("div"),X.className="g6-graph-watermarker"),X.className="g6-graph-watermarker",a.destroyed||(X.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(X))}}},r.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},yr.textWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,c=o.text;if(!a){var h={container:n,width:s,height:l,capture:!1},g=this.get("pixelRatio");g&&(h.pixelRatio=g),a=new zo.Z(h),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var w=a.get("context"),L=c.rotate,D=c.fill,N=c.fontFamily,H=c.fontSize,X=c.baseline,mt=c.x,xt=c.y,Pt=c.lineHeight;w.rotate(-L*Math.PI/180),w.font=H+"px "+N,w.fillStyle=D,w.textBaseline=X;for(var Ht=t.length-1;Ht>=0;Ht--)w.fillText(t[Ht],mt,xt+Ht*Pt);if(w.rotate(L*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var te=document.querySelector(".g6-graph-watermarker");te||(te=document.createElement("div"),te.className="g6-graph-watermarker"),te.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(te)}},r}(Zt.default),m1=_4,D4=v(77201),x1=v.n(D4),B4=function(i){ai(r,i);function r(t){var e=i.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return r.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var n=x1()[t.type](e,t);return Sx(n),n}:function(e){return x1()[t.type](e,t)}):null},r.indexOfChild=function(t,e){var n=-1;return(0,di.S6)(t,function(a,o){if(e===a.id)return n=o,!1}),n},r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},r.prototype.innerAddChild=function(t,e,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(e){if(s.set("parent",e),n){var l=e.get("originAttrs");if(l)s.set("originAttrs",l);else{var u=e.getModel();s.set("originAttrs",{x:u.x,y:u.y})}}var c=e.get("children");c?c.push(s):e.set("children",[s]),a.addItem("edge",{source:e,target:s,id:e.get("id")+":"+s.get("id")},!1)}return(0,di.S6)(t.children||[],function(h){a.innerAddChild(h,s,n)}),a.emit("afteraddchild",{item:s,parent:e}),s},r.prototype.innerUpdateChild=function(t,e,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,e,n);return}(0,di.S6)(t.children||[],function(L){a.innerUpdateChild(L,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var u=s.length-1;u>=0;u--){var c=s[u].getModel();r.indexOfChild(t.children||[],c.id)===-1&&(a.innerRemoveChild(c.id,{x:t.x,y:t.y},n),s.splice(u,1))}}var h,g;o.get("originAttrs")&&(h=o.get("originAttrs").x,g=o.get("originAttrs").y);var w=o.getModel();n&&o.set("originAttrs",{x:w.x,y:w.y}),o.set("model",t.data),(h!==t.x||g!==t.y)&&o.updatePosition({x:t.x,y:t.y})},r.prototype.innerRemoveChild=function(t,e,n){var a=this,o=a.findById(t);if(!!o)if((0,di.S6)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,e,n)}),n){var s=o.getModel();o.set("to",e),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o)},r.prototype.changeData=function(t){var e=this;this.getNodes().map(function(n){return e.clearItemStates(n)}),this.getEdges().map(function(n){return e.clearItemStates(n)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},r.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},r.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},r.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},r.prototype.layout=function(t){var e=this,n=e.get("data"),a=e.get("layoutMethod"),o=a(n,e.get("layout")),s=e.get("animate");if(e.emit("beforerefreshlayout",{data:n,layoutData:o}),e.emit("beforelayout"),e.innerUpdateChild(o,void 0,s),t){var l=e.get("viewController");l.fitView()}s?e.layoutAnimate(o):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:n,layoutData:o}),e.emit("afterlayout")},r.prototype.addChild=function(t,e){var n=this;n.emit("beforeaddchild",{model:t,parent:e}),(0,di.HD)(e)||(e=e.get("id"));var a=n.findDataById(e);a&&(a.children||(a.children=[]),a.children.push(t),n.changeData())},r.prototype.updateChild=function(t,e){var n=this;if(!e||!n.findById(e)){n.changeData(t);return}var a=n.findById(e).getModel(),o=n.findById(t.id);if(a.children||(a.children=[]),!o)a.children.push(t);else{var s=r.indexOfChild(a.children,t.id);a.children[s]=t}n.changeData()},r.prototype.removeChild=function(t){var e=this,n=e.findById(t);if(!!n){var a=n.get("parent");if(a&&!a.destroyed){var o=e.findDataById(a.get("id")),s=o&&o.children||[],l=n.getModel(),u=r.indexOfChild(s,l.id);s.splice(u,1)}e.changeData()}},r.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var a=null;return(0,di.S6)(e.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},r.prototype.layoutAnimate=function(t,e){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){na(t,function(s){var l=n.findById(s.id);if(l){var u=l.get("originAttrs"),c=l.get("model");if(u||(u={x:c.x,y:c.y},l.set("originAttrs",u)),e){var h=e(l,o,u,t);l.set("model",Object.assign(c,h))}else c.x=u.x+(s.x-u.x)*o,c.y=u.y+(s.y-u.y)*o}return!0}),(0,di.S6)(n.get("removeList"),function(s){var l=s.getModel(),u=s.get("originAttrs"),c=s.get("to");l.x=u.x+(c.x-u.x)*o,l.y=u.y+(c.y-u.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,di.S6)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,di.S6)(n.get("removeList"),function(s){n.removeItem(s)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},r.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},r.prototype.isLayoutAnimating=function(){return this.layoutAnimating},r.prototype.render=function(){var t=this,e=t.get("data");if(!e)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},r.prototype.save=function(){return this.get("data")},r}(m1),F4=B4,R4="-shape",b1="-label",Nu=["startArrow","endArrow"],mh="-label-bg",xh={options:{},itemType:"",type:"",getCustomConfig:function(r){return{}},getOptions:function(r){return(0,f.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(r)||{},r)},draw:function(r,t){var e=this.drawShape(r,t);if(e.set("className",this.itemType+R4),r.label){var n=this.drawLabel(r,t);n.set("className",this.itemType+b1)}return e},afterDraw:function(r,t,e){},drawShape:function(r,t){return null},drawLabel:function(r,t){var e=this.getOptions(r).labelCfg,n=e||{},a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(o){var l=s.getBBox(),u=s.getMatrix();if(u||(u=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":u=ja(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":u=ja(u,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":u=ja(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:u=ja(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else u=ja(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(u)}if(a.background){var c=this.drawLabelBg(r,t,s),h=this.itemType+mh;c.set("classname",h),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.mix)({},n,r.labelCfg),o=this.getLabelBgStyleByPosition(e,r,a,t),s=t.addShape("rect",{name:"text-bg-shape",attrs:o});return s},getLabelStyleByPosition:function(r,t,e){return{text:r.label}},getLabelBgStyleByPosition:function(r,t,e,n){return{}},getLabelStyle:function(r,t,e){var n=this.getLabelStyleByPosition(r,t,e),a=this.itemType+"Label",o=yr[a]?yr[a].style:null,s=ce(ce(ce({},o),n),t.style);return s},getShapeStyle:function(r){return r.style},update:function(r,t){this.updateShapeStyle(r,t),this.updateLabel(r,t)},updateShapeStyle:function(r,t){var e=t.getContainer(),n=t.getKeyShape(),a=(0,f.mix)({},n.attr(),r.style),o=function(u){var c,h=a[u];if((0,f.isPlainObject)(h)){var g=e.find(function(w){return w.get("name")===u});g&&g.attr(h)}else n.attr((c={},c[u]=h,c))};for(var s in a)o(s)},updateLabel:function(r,t){var e=t.getContainer(),n=this.getOptions({}).labelCfg,a=this.itemType+b1,o=e.find(function(xt){return xt.get("className")===a}),s=this.itemType+mh,l=e.find(function(xt){return xt.get("classname")===s});if(r.label||r.label==="")if(o){var c={};t.getModel&&(c=t.getModel().labelCfg);var h=(0,f.deepMix)({},n,c,r.labelCfg),g=this.getLabelStyleByPosition(r,h,e),w=r.labelCfg?r.labelCfg.style:void 0,L=h.style&&h.style.background,D=ce(ce(ce({},o.attr()),g),w),N=D.rotate;if(delete D.rotate,N){var H=[1,0,0,0,1,0,0,0,1];H=ja(H,[["t",-D.x,-D.y],["r",N],["t",D.x,D.y]]),o.resetMatrix(),o.attr(ce(ce({},D),{matrix:H}))}else o.resetMatrix(),o.attr(D);if(!l)D.background&&(l=this.drawLabelBg(r,e,o),l.set("classname",s),o.toFront());else if(D.background){var X=this.getLabelBgStyleByPosition(o,r,h,e),mt=ce(ce({},X),L);l.resetMatrix(),N&&l.rotateAtStart(N),l.attr(mt)}else e.removeChild(l)}else{var u=this.drawLabel(r,e);u.set("className",a)}},afterUpdate:function(r,t){},setState:function(r,t,e){var n,a,o=e.get("keyShape");if(!!o){var s=e.getType(),l=(0,f.isBoolean)(t)?r:r+":"+t,u=this.getStateStyle(l,e),c=e.getStateStyle(l);if(!(!c&&!u)){var h=(0,f.mix)({},c||u),g=e.getContainer();if(t){var w=function(Pe){var Ke,ar=h[Pe];if((0,f.isPlainObject)(ar)&&!Nu.includes(Pe)){var rr=g.find(function(Mr){return Mr.get("name")===Pe});rr&&rr.attr(ar)}else o.attr((Ke={},Ke[Pe]=ar,Ke))};for(var L in h)w(L)}else{var D=(0,f.clone)(e.getCurrentStatesStyle()),N=e.getModel(),H=(0,f.mix)({},N.style,(0,f.clone)(e.getOriginStyle())),X=o.get("name"),mt=o.attr(),xt={},Pt=function(Pe){var Ke=h[Pe];if((0,f.isPlainObject)(Ke)&&!Nu.includes(Pe)){var ar=g.find(function(Ar){return Ar.get("name")===Pe});if(ar){var rr=ar.attr();(0,f.each)(Ke,function(Ar,Pr){(rr[Pr]||rr[Pr]===0)&&delete rr[Pr]}),xt[Pe]=rr}}else{var Mr={x:1,y:1,cx:1,cy:1};mt[Pe]&&!Mr[Pe]&&delete mt[Pe]}};for(var Ht in h)Pt(Ht);X?xt[X]=mt:(0,f.mix)(xt,mt);for(var L in D){var te=D[L];(!(0,f.isPlainObject)(te)||Nu.includes(L))&&(X?((0,f.mix)(H[X],(a={},a[L]=te,a)),delete H[L]):(0,f.mix)(H,(n={},n[L]=te,n)),delete D[L])}var oe={};(0,f.deepMix)(oe,H,xt,D);var qt=function(Pe){var Ke,ar,rr=oe[Pe];if((0,f.isPlainObject)(rr)&&!Nu.includes(Pe)){var Mr=g.find(function(Ar){return Ar.get("name")===Pe});Mr&&Mr.attr(rr)}else s==="combo"?X||o.attr((Ke={},Ke[Pe]=rr,Ke)):o.attr((ar={},ar[Pe]=rr,ar))};for(var we in oe)qt(we)}}}},getStateStyle:function(r,t){var e=t.getModel(),n=t.getType(),a=this.getOptions(e),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,u=e.stateStyles?e.stateStyles[r]:o&&o[r];return n==="combo"?(0,f.clone)(u):(0,f.mix)({},l,u)},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.getOptions(r).anchorPoints;return t}},N4={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:yr.nodeLabel.offset,getSize:function(r){var t=r.size||this.getOptions({}).size||yr.defaultNode.size;return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:r.label};var n=t.offset;(0,f.isNil)(n)&&(n=this.offset);var a=this.getSize(r),o=a[0],s=a[1],l;switch(e){case"top":l={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":l={x:0,y:s/2+n,textBaseline:"top"};break;case"left":l={x:0-o/2-n,y:0,textAlign:"right"};break;default:l={x:o/2+n,y:0,textAlign:"left"};break}return l.text=r.label,l},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=Vc(o.padding),l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],c=e.offset;(0,f.isNil)(c)&&(c=this.offset);var h;return h={x:a.minX-s[3],y:a.minY-s[0]},h=ce(ce(ce({},h),o),{width:l,height:u}),h},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=t.find(function(te){return te.get("className")==="link-point-left"}),a=t.find(function(te){return te.get("className")==="link-point-right"}),o=t.find(function(te){return te.get("className")==="link-point-top"}),s=t.find(function(te){return te.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=e);var u=(0,f.mix)({},l,r.linkPoints),c=u.fill,h=u.stroke,g=u.lineWidth,w=u.size/2;w||(w=u.r);var L=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},D=L.left,N=L.right,H=L.top,X=L.bottom,mt=this.getSize(r),xt=mt[0],Pt=mt[1],Ht={r:w,fill:c,stroke:h,lineWidth:g};n?!D&&D!==void 0?n.remove():n.attr(ce(ce({},Ht),{x:-xt/2,y:0})):D&&t.addShape("circle",{attrs:ce(ce({},Ht),{x:-xt/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!N&&N!==void 0&&a.remove(),a.attr(ce(ce({},Ht),{x:xt/2,y:0}))):N&&t.addShape("circle",{attrs:ce(ce({},Ht),{x:xt/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o?(!H&&H!==void 0&&o.remove(),o.attr(ce(ce({},Ht),{x:0,y:-Pt/2}))):H&&t.addShape("circle",{attrs:ce(ce({},Ht),{x:0,y:-Pt/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?!X&&X!==void 0?s.remove():s.attr(ce(ce({},Ht),{x:0,y:Pt/2})):X&&t.addShape("circle",{attrs:ce(ce({},Ht),{x:0,y:Pt/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(r,t,e,n){var a=t.get("keyShape");a.attr(ce({},e)),this.updateLabel(r,t),n&&this.updateIcon(r,t)},updateIcon:function(r,t){var e=this,n=t.getContainer(),a=this.getOptions(r).icon,o=(r.icon?r.icon:{show:void 0}).show,s=n.find(function(g){return g.get("className")===e.type+"-icon"});if(s)if(o||o===void 0){var l=(0,f.mix)({},s.attr(),a),u=l.width,c=l.height;s.attr(ce(ce({},l),{x:-u/2,y:-c/2}))}else s.remove();else if(o){var u=a.width,c=a.height;n.addShape("image",{attrs:ce(ce({},a),{x:-u/2,y:-c/2}),className:this.type+"-icon",name:this.type+"-icon"});var h=n.find(function(L){return L.get("className")==="node-label"});h&&h.toFront()}}},G4=ce(ce({},xh),N4);mi.registerNode("single-node",G4);var Gu="edge-shape";function Y4(i){var r=i;return i==="start"?r="end":i==="end"&&(r="start"),r}var z4={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:yr.defaultEdge.size,style:{x:0,y:0,stroke:yr.defaultEdge.style.stroke,lineAppendWidth:yr.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:yr.edgeLabel.style.fill,fontSize:yr.edgeLabel.style.fontSize}},stateStyles:ce({},yr.edgeStateStyles)},getPath:function(r){var t=[];return(0,f.each)(r,function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style),a=r.size||yr.defaultEdge.size;r=this.getPathPoints(r);var o=r.startPoint,s=r.endPoint,l=this.getControlPoints(r),u=[o];l&&(u=u.concat(l)),u.push(s);var c=this.getPath(u),h=(0,f.mix)({},yr.defaultEdge.style,{stroke:yr.defaultEdge.color,lineWidth:a,path:c},n);return h},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(H){return H.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),c=[s];u&&(c=c.concat(u)),c.push(l);var h=(0,f.mix)({},n,a.attr(),r.style),g=r.sourceNode,w=r.targetNode,L={radius:h.radius};u||(L={source:g,target:w,offset:h.offset,radius:h.radius});var D=this.getPath(c,L),N=(0,f.mix)(n,a.attr(),{lineWidth:o,path:D},r.style);a&&a.attr(N)},getLabelStyleByPosition:function(r,t,e){var n=t.position||this.labelPosition,a={},o=e&&e.find(function(g){return g.get("className")===Gu}),s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,u=t.refY||this.refY;if(r.startPoint.x===r.endPoint.x&&r.startPoint.y===r.endPoint.y)return a.x=r.startPoint.x+l,a.y=r.startPoint.y+u,a.text=r.label,a;var c=(0,f.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,h=mu(o,s,l,u,c);return a.x=h.x,a.y=h.y,a.rotate=h.rotate,a.textAlign=this._getTextAlign(n,h.angle),a.text=r.label,a},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=o.padding,l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],c=e.position||this.labelPosition,h=ce(ce({},o),{width:l,height:u,x:a.minX-s[2],y:a.minY-s[0],rotate:0}),g=(0,f.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,w=n&&n.find(function(mt){return mt.get("className")===Gu}),L;c==="start"?L=0:c==="end"?L=1:L=.5;var D=e.refX||this.refX,N=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return h.x=t.startPoint.x+D,h.y=t.startPoint.y+N,h;var H=mu(w,L,D-l/2,N+u/2,g),X=H.angle;return X>1/2*Math.PI&&X<3*1/2*Math.PI&&(H=mu(w,L,D+l/2,N+u/2,g)),g&&(h.x=H.x,h.y=H.y),h.rotate=H.rotate,h},_getTextAlign:function(r,t){var e="center";return t?(t=t%(Math.PI*2),r!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=r:e=Y4(r)),e):r},getControlPoints:function(r){return r.controlPoints},getPathPoints:function(r){return r},drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("path",{className:Gu,name:Gu,attrs:e});return n},drawLabel:function(r,t){var e=this.options.labelCfg,n=(0,f.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},e,r.labelCfg),a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape"});if(o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(r,t,s),u=this.itemType+mh;l.set("classname",u),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.deepMix)({},n,r.labelCfg),o=this.getLabelStyle(r,a,t),s=o.rotate,l=this.getLabelBgStyleByPosition(e,r,a,t);delete l.rotate;var u=t.addShape("rect",{name:"text-bg-shape",attrs:l});return s&&u.rotateAtStart(s),u}},V4=ce(ce({},xh),z4);mi.registerEdge("single-edge",V4),mi.registerEdge("line",{getControlPoints:function(){}},"single-edge"),mi.registerEdge("spline",{getPath:function(r){var t=ix(r);return t}},"single-edge"),mi.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(r){var t=r.startPoint,e=r.endPoint,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2},a,o;if(r.controlPoints!==void 0){if(o=r.controlPoints[0],a=jc(t,o,e),t.x<=e.x&&t.y>e.y?this.clockwise=a.x>o.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=a.x>o.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),(0,Yi.default)(r.curveOffset)&&(r.curveOffset=r.curveOffset[0]),r.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:e.x-t.x,y:e.y-t.y},l=Math.atan2(s.y,s.x);o={x:r.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:r.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=jc(t,o,e)}var u=Gs(t,a),c=[{x:u,y:u}];return c},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),r.length===2?t.push(["L",r[1].x,r[1].y]):t.push(["A",r[1].x,r[1].y,0,0,this.clockwise,r[2].x,r[2].y]),t}},"single-edge"),mi.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(r){var t=r.controlPoints;if(!t||!t.length){var e=r.startPoint,n=r.endPoint;r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,Yi.default)(this.curveOffset)&&(r.curveOffset=r.curveOffset[0]),(0,Yi.default)(this.curvePosition)&&(r.curvePosition=r.curveOffset[0]);var a=du(e,n,r.curvePosition,r.curveOffset);t=[a]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["Q",r[1].x,r[1].y,r[2].x,r[2].y]),t}},"single-edge"),mi.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(r){var t=r.controlPoints;if(r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,Da.default)(r.curveOffset)&&(r.curveOffset=[r.curveOffset,-r.curveOffset]),(0,Da.default)(r.curvePosition)&&(r.curvePosition=[r.curvePosition,1-r.curvePosition]),!t||!t.length||t.length<2){var e=r.startPoint,n=r.endPoint,a=du(e,n,r.curvePosition[0],r.curveOffset[0]),o=du(e,n,r.curvePosition[1],r.curveOffset[1]);t=[a,o]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["C",r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y]),t}},"single-edge"),mi.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,Da.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:t.x,y:(e.y-t.y)*this.curvePosition[0]+t.y},a={x:e.x,y:(e.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),mi.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,Da.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:(e.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(e.x-t.x)*this.curvePosition[1]+t.x,y:e.y},o=[n,a];return o}},"cubic"),mi.registerEdge("loop",{getPathPoints:function(r){return bx(r)},getControlPoints:function(r){return r.controlPoints},afterDraw:function(r){r.controlPoints=void 0},afterUpdate:function(r){r.controlPoints=void 0}},"cubic");var X4={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:yr.comboLabel.refX,refY:yr.comboLabel.refY,options:{style:{stroke:yr.defaultCombo.style.stroke,fill:yr.defaultCombo.style.fill,lineWidth:yr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:yr.comboLabel.style.fill,fontSize:yr.comboLabel.style.fontSize}},stateStyles:ce({},yr.comboStateStyles)},getSize:function(r){var t=(0,f.clone)(r.size||this.options.size||yr.defaultCombo.size);return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isArray)(a)&&(a=a[0]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=this.getSize(r),u=Math.max(n.r,l[0]/2)||l[0]/2,c=u+a,h;switch(e){case"top":h={x:0,y:-c-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":h={x:0,y:c+s,textBaseline:"bottom",textAlign:"center"};break;case"left":h={x:-c+o,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:r.label,textAlign:"center"};break;default:h={x:c+o,y:0,textAlign:"right"};break}return h.text=r.label,h},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr(ce({},e)),this.updateLabel(r,t)}},H4=ce(ce({},xh),X4);mi.registerCombo("single-combo",H4),mi.registerCombo("circle",{options:{size:[yr.defaultCombo.size[0],yr.defaultCombo.size[0]],padding:yr.defaultCombo.padding[0],animate:!0,style:{stroke:yr.defaultCombo.style.stroke,fill:yr.defaultCombo.style.fill,lineWidth:yr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:yr.comboLabel.style.fill,fontSize:yr.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:ce({},yr.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r);delete e.height,delete e.width;var n=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isArray)(e)&&(e=e[0]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s;!(0,f.isNumber)(a.r)||isNaN(a.r)?s=o[0]/2||yr.defaultCombo.style.r:s=Math.max(a.r,o[0]/2)||o[0]/2,a.r=s+e;var l=ce({x:0,y:0},a);return r.style?r.style.r=s:r.style={r:s},l},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isArray)(n)&&(n=n[0]);var a=(0,f.clone)(r.style),o=Math.max(a.r,e[0]/2)||e[0]/2;a.r=o+n;var s=t.get("sizeCache");s&&(s.r=a.r);var l={stroke:r.color},u=t.get("keyShape"),c=(0,f.mix)({},u.attr(),l,a);r.style?r.style.r=o:r.style={r:o},this.updateShape(r,t,c,!0)}},"single-combo"),mi.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:yr.defaultCombo.style.stroke,fill:yr.defaultCombo.style.fill,lineWidth:yr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:yr.comboLabel.style.fill,fontSize:yr.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:ce({},yr.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=n.width/2+a[3],u=n.height/2+a[0],c;switch(e){case"top":c={x:0-l+o,y:0-u+s,textBaseline:"top",textAlign:"left"};break;case"bottom":c={x:0,y:u+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:0-l+s,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:r.label,textAlign:"center"};break;default:c={x:l+o,y:0,textAlign:"right"};break}return c.text=r.label,c},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isNumber)(e)&&(e=[e,e,e,e]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s,l;!(0,f.isNumber)(a.width)||isNaN(a.width)?s=o[0]||yr.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,f.isNumber)(a.height)||isNaN(a.height)?l=o[1]||yr.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1];var u=-s/2-e[3],c=-l/2-e[0];a.width=s+e[1]+e[3],a.height=l+e[0]+e[2];var h=ce({x:u,y:c},a);return r.style?(r.style.width=s,r.style.height=l):r.style={width:s,height:l},h},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,f.clone)(r.style),o=Math.max(a.width,e[0])||e[0],s=Math.max(a.height,e[1])||e[1];a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var u={stroke:r.color},c=t.get("keyShape"),h=(0,f.mix)({},c.attr(),u,a);r.style?(r.style.width=o,r.style.height=s):r.style={width:o,height:s},this.updateShape(r,t,h,!1)},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr(ce({},e)),this.updateLabel(r,t)}},"single-combo"),mi.registerNode("circle",{options:{size:yr.defaultNode.size,style:{x:0,y:0,stroke:yr.defaultNode.style.stroke,fill:yr.defaultNode.style.fill,lineWidth:yr.defaultNode.style.lineWidth},labelCfg:{style:{fill:yr.nodeLabel.style.fill,fontSize:yr.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:yr.defaultNode.linkPoints.size,lineWidth:yr.defaultNode.linkPoints.lineWidth,fill:yr.defaultNode.linkPoints.fill,stroke:yr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ce({},yr.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=(0,Zi.default)({},n,r.icon),s=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),l=o.width,u=o.height,c=o.show;return c&&t.addShape("image",{attrs:ce({x:-l/2,y:-u/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(r,t),s},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,c=n.r,h=ea(n,["top","left","right","bottom","size","r"]),g=this.getSize(r),w=g[0]/2;o&&t.addShape("circle",{attrs:ce(ce({},h),{x:-w,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ce(ce({},h),{x:w,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ce(ce({},h),{x:0,y:-w,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ce(ce({},h),{x:0,y:w,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,Zi.default)({},t,e),a=this.getSize(r),o=a[0]/2,s=ce({x:0,y:0,r:o},n);return s},update:function(r,t){var e=t.getContainer(),n=this.getSize(r),a={stroke:r.color,r:n[0]/2},o=t.get("keyShape"),s=(0,Zi.default)({},o.attr(),a,r.style);this.updateShape(r,t,s,!0),this.updateLinkPoints(r,e)}},"single-node"),mi.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:yr.defaultNode.style.stroke,fill:yr.defaultNode.style.fill,lineWidth:yr.defaultNode.style.lineWidth},labelCfg:{style:{fill:yr.nodeLabel.style.fill,fontSize:yr.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:yr.defaultNode.linkPoints.size,lineWidth:yr.defaultNode.linkPoints.lineWidth,fill:yr.defaultNode.linkPoints.fill,stroke:yr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:ce({},yr.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(r,t),n},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,c=n.r,h=ea(n,["top","left","right","bottom","size","r"]),g=this.getSize(r),w=g[0],L=g[1];o&&t.addShape("circle",{attrs:ce(ce({},h),{x:-w/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ce(ce({},h),{x:w/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ce(ce({},h),{x:0,y:-L/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ce(ce({},h),{x:0,y:L/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=ce({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o=t.get("keyShape");r.size||(a[0]=o.attr("width")||n.width,a[1]=o.attr("height")||n.height);var s={stroke:r.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=(0,f.mix)({},n,o.attr(),s);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!1),this.updateLinkPoints(r,e)}},"single-node"),mi.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:yr.defaultNode.style.stroke,fill:yr.defaultNode.style.fill,lineWidth:yr.defaultNode.style.lineWidth},labelCfg:{style:{fill:yr.nodeLabel.style.fill,fontSize:yr.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:yr.defaultNode.linkPoints.size,lineWidth:yr.defaultNode.linkPoints.lineWidth,fill:yr.defaultNode.linkPoints.fill,stroke:yr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ce({},yr.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var c=t.addShape("image",{attrs:ce({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,c=n.r,h=ea(n,["top","left","right","bottom","size","r"]),g=this.getSize(r),w=g[0]/2,L=g[1]/2;o&&t.addShape("circle",{attrs:ce(ce({},h),{x:-w,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ce(ce({},h),{x:w,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ce(ce({},h),{x:0,y:-L,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ce(ce({},h),{x:0,y:L,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=a[0]/2,s=a[1]/2,l=ce({x:0,y:0,rx:o,ry:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o={stroke:r.color,rx:a[0]/2,ry:a[1]/2},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),mi.registerNode("diamond",{options:{size:[80,80],style:{stroke:yr.defaultNode.style.stroke,fill:yr.defaultNode.style.fill,lineWidth:yr.defaultNode.style.lineWidth},labelCfg:{style:{fill:yr.nodeLabel.style.fill,fontSize:yr.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:yr.defaultNode.linkPoints.size,lineWidth:yr.defaultNode.linkPoints.lineWidth,fill:yr.defaultNode.linkPoints.fill,stroke:yr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ce({},yr.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var c=t.addShape("image",{attrs:ce({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,c=n.r,h=ea(n,["top","left","right","bottom","size","r"]),g=this.getSize(r),w=g[0],L=g[1];o&&t.addShape("circle",{attrs:ce(ce({},h),{x:-w/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ce(ce({},h),{x:w/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ce(ce({},h),{x:0,y:-L/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ce(ce({},h),{x:0,y:L/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(r){var t=this.getSize(r),e=t[0],n=t[1],a=[["M",0,-n/2],["L",e/2,0],["L",0,n/2],["L",-e/2,0],["Z"]];return a},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=ce({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),mi.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:yr.defaultNode.style.stroke,fill:yr.defaultNode.style.fill,lineWidth:yr.defaultNode.style.lineWidth},labelCfg:{style:{fill:yr.nodeLabel.style.fill,fontSize:yr.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:yr.defaultNode.linkPoints.size,lineWidth:yr.defaultNode.linkPoints.lineWidth,fill:yr.defaultNode.linkPoints.fill,stroke:yr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:ce({},yr.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(r,t){var e=this.getOptions(r),n=e.icon,a=n===void 0?{}:n,o=e.direction,s=this.getShapeStyle(r),l=r.direction||o,u=t.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),c=a.width,h=a.height,g=a.show,w=a.offset;if(g){var L=-c/2,D=-h/2;(l==="up"||l==="down")&&(D+=w),(l==="left"||l==="right")&&(L+=w),t.addShape("image",{attrs:ce({x:L,y:D},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(r,t),u},drawLinkPoints:function(r,t){var e=this.getOptions(r),n=e.linkPoints,a=n===void 0?{}:n,o=e.direction,s=r.direction||o,l=a.top,u=a.left,c=a.right,h=a.bottom,g=a.size,w=a.r,L=ea(a,["top","left","right","bottom","size","r"]),D=this.getSize(r),N=D[0];if(u){var H=null,X=N*Math.sin(1/3*Math.PI),mt=N*Math.sin(1/3*Math.PI);s==="up"?H=[-mt,X]:s==="down"?H=[-mt,-X]:s==="left"&&(H=[-mt,mt-X]),H&&t.addShape("circle",{attrs:ce(ce({},L),{x:H[0],y:H[1],r:g/2||w||5}),className:"link-point-left",name:"link-point-left"})}if(c){var xt=null,X=N*Math.sin(1/3*Math.PI),mt=N*Math.sin(1/3*Math.PI);s==="up"?xt=[mt,X]:s==="down"?xt=[mt,-X]:s==="right"&&(xt=[mt,mt-X]),xt&&t.addShape("circle",{attrs:ce(ce({},L),{x:xt[0],y:xt[1],r:g/2||w||5}),className:"link-point-right",name:"link-point-right"})}if(l){var Pt=null,X=N*Math.sin(1/3*Math.PI),mt=N*Math.sin(1/3*Math.PI);s==="up"?Pt=[mt-X,-X]:s==="left"?Pt=[mt,-X]:s==="right"&&(Pt=[-mt,-X]),Pt&&t.addShape("circle",{attrs:ce(ce({},L),{x:Pt[0],y:Pt[1],r:g/2||w||5}),className:"link-point-top",name:"link-point-top"})}if(h){var Ht=null,X=N*Math.sin(1/3*Math.PI),mt=N*Math.sin(1/3*Math.PI);s==="down"?Ht=[-mt+X,X]:s==="left"?Ht=[mt,X]:s==="right"&&(Ht=[-mt,X]),Ht&&t.addShape("circle",{attrs:ce(ce({},L),{x:Ht[0],y:Ht[1],r:g/2||w||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(r){var t=this.getOptions(r).direction,e=r.direction||t,n=this.getSize(r),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return e==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:e==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:e==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=ce({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}),n=e.linkPoints,a=e.direction,o=r.direction||a,s=t.find(function(Mr){return Mr.get("className")==="link-point-left"}),l=t.find(function(Mr){return Mr.get("className")==="link-point-right"}),u=t.find(function(Mr){return Mr.get("className")==="link-point-top"}),c=t.find(function(Mr){return Mr.get("className")==="link-point-bottom"}),h=n,g=s||l||u||c;g&&(h=g.attr());var w=(0,f.mix)({},h,r.linkPoints),L=w.fill,D=w.stroke,N=w.lineWidth,H=w.size/2;H||(H=w.r);var X=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},mt=X.left,xt=X.right,Pt=X.top,Ht=X.bottom,te=this.getSize(r),oe=te[0],qt={r:H,fill:L,stroke:D,lineWidth:N},we=null,Ie=oe*Math.sin(1/3*Math.PI),Pe=oe*Math.sin(1/3*Math.PI);o==="up"?we=[-Pe,Ie]:o==="down"?we=[-Pe,-Ie]:o==="left"&&(we=[-Pe,Pe-Ie]),we&&(s?!mt&&mt!==void 0?s.remove():s.attr(ce(ce({},qt),{x:we[0],y:we[1]})):mt&&t.addShape("circle",{attrs:ce(ce({},qt),{x:we[0],y:we[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Ke=null;o==="up"?Ke=[Pe,Ie]:o==="down"?Ke=[Pe,-Ie]:o==="right"&&(Ke=[Pe,Pe-Ie]),Ke&&(l?!xt&&xt!==void 0?l.remove():l.attr(ce(ce({},qt),{x:Ke[0],y:Ke[1]})):xt&&t.addShape("circle",{attrs:ce(ce({},qt),{x:Ke[0],y:Ke[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var ar=null;o==="up"?ar=[Pe-Ie,-Ie]:o==="left"?ar=[Pe,-Ie]:o==="right"&&(ar=[-Pe,-Ie]),ar&&(u?!Pt&&Pt!==void 0?u.remove():u.attr(ce(ce({},qt),{x:ar[0],y:ar[1]})):Pt&&t.addShape("circle",{attrs:ce(ce({},qt),{x:ar[0],y:ar[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var rr=null;o==="down"?rr=[-Pe+Ie,Ie]:o==="left"?rr=[Pe,Ie]:o==="right"&&(rr=[-Pe,Ie]),rr&&(c?!Ht&&Ht!==void 0?c.remove():c.attr(ce(ce({},qt),{x:rr[0],y:rr[1]})):Ht&&t.addShape("circle",{attrs:ce(ce({},qt),{x:rr[0],y:rr[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),mi.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:yr.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(r,t){var e=this.getOptions(r).preRect,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=this.getSize(r),s=o[0],l=o[1],u=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),c=n.show,h=ea(n,["show"]);return c&&t.addShape("rect",{attrs:ce({x:-s/2,y:-l/2,height:l},h),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(r,t),this.drawStateIcon(r,t),this.drawLinkPoints(r,t),u},drawLogoIcon:function(r,t){var e=this.getOptions(r).logoIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,c=n.y,h=n.offset,g=ea(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:ce(ce({},g),{x:u||-o/2+s+h,y:c||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(r,t){var e=this.getOptions(r).stateIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,c=n.y,h=n.offset,g=ea(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:ce(ce({},g),{x:u||o/2-s+h,y:c||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,c=n.r,h=ea(n,["top","left","right","bottom","size","r"]),g=this.getSize(r),w=g[0],L=g[1];o&&t.addShape("circle",{attrs:ce(ce({},h),{x:-w/2,y:0,r:u/2||c||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:ce(ce({},h),{x:w/2,y:0,r:u/2||c||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:ce(ce({},h),{x:0,y:-L/2,r:u/2||c||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:ce(ce({},h),{x:0,y:L/2,r:u/2||c||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(r,t){var e=this.getOptions(r),n=e.labelCfg,a=n===void 0?{}:n,o=e.logoIcon,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,c=this.getSize(r),h=c[0],g=null,w=s.show,L=s.width,D=-h/2+a.offset;w&&(D=-h/2+L+a.offset);var N=a.style,H=u.style,X=u.paddingTop;return(0,f.isString)(r.description)?(g=t.addShape("text",{attrs:ce(ce({},N),{x:D,y:-5,text:r.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:ce(ce({},H),{x:D,y:17+(X||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0})):g=t.addShape("text",{attrs:ce(ce({},N),{x:D,y:7,text:r.label}),draggable:!0}),g},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=ce({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=this.getOptions(r),n=e.style,a=n===void 0?{}:n,o=e.labelCfg,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,c=this.getSize(r),h=c[0],g=c[1],w=t.get("keyShape");w.attr(ce(ce({},a),{x:-h/2,y:-g/2,width:h,height:g}));var L=t.getContainer(),D=L.find(function(an){return an.get("className")==="rect-logo-icon"}),N=D?D.attr():{},H=(0,f.mix)({},N,r.logoIcon),X=H.width;X===void 0&&(X=this.options.logoIcon.width);var mt=r.logoIcon?r.logoIcon.show:void 0,xt=s.offset,Pt=-h/2+X+xt;!mt&&mt!==void 0&&(Pt=-h/2+xt);var Ht=L.find(function(an){return an.get("className")==="node-label"}),te=L.find(function(an){return an.get("className")==="rect-description"});if(r.label)if(!Ht)L.addShape("text",{attrs:ce(ce({},s.style),{x:Pt,y:r.description?-5:7,text:r.label}),className:"node-label",name:"node-label",draggable:!0});else{var oe=r.labelCfg?r.labelCfg.style:{},qt=(0,f.mix)({},Ht.attr(),oe);r.label&&(qt.text=r.label),qt.x=Pt,(0,f.isString)(r.description)&&(qt.y=-5),te&&(te.resetMatrix(),te.attr({x:Pt})),Ht.resetMatrix(),Ht.attr(qt)}if((0,f.isString)(r.description)){var we=u.paddingTop;if(!te)L.addShape("text",{attrs:ce(ce({},u.style),{x:Pt,y:17+(we||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var oe=r.descriptionCfg?r.descriptionCfg.style:{},Ie=(0,f.mix)({},te.attr(),oe);(0,f.isString)(r.description)&&(Ie.text=r.description),Ie.x=Pt,te.resetMatrix(),te.attr(ce(ce({},Ie),{y:17+(we||0)}))}}var Pe=L.find(function(an){return an.get("className")==="pre-rect"});if(Pe){var Ke=(0,f.mix)({},Pe.attr(),r.preRect);Pe.attr(ce(ce({},Ke),{x:-h/2,y:-g/2,height:g}))}if(D)if(!mt&&mt!==void 0)D.remove();else{var ar=H.width,rr=H.height,Mr=H.x,Ar=H.y,Pr=H.offset,xr=ea(H,["width","height","x","y","offset"]);D.attr(ce(ce({},xr),{x:Mr||-h/2+ar+Pr,y:Ar||-rr/2,width:ar,height:rr}))}else mt&&this.drawLogoIcon(r,L);var br=L.find(function(an){return an.get("className")==="rect-state-icon"}),Xr=br?br.attr():{},zr=(0,f.mix)({},Xr,r.stateIcon);if(br){!zr.show&&zr.show!==void 0&&br.remove();var Kr=zr.width,rr=zr.height,Mr=zr.x,Ar=zr.y,Or=zr.offset,Hr=ea(zr,["width","height","x","y","offset"]);br.attr(ce(ce({},Hr),{x:Mr||h/2-Kr+Or,y:Ar||-rr/2,width:Kr,height:rr}))}else zr.show&&this.drawStateIcon(r,L);this.updateLinkPoints(r,L)}},"single-node"),mi.registerNode("star",{options:{size:60,style:{stroke:yr.defaultNode.style.stroke,fill:yr.defaultNode.style.fill,lineWidth:yr.defaultNode.style.lineWidth},labelCfg:{style:{fill:yr.nodeLabel.style.fill,fontSize:yr.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:yr.defaultNode.linkPoints.size,lineWidth:yr.defaultNode.linkPoints.lineWidth,fill:yr.defaultNode.linkPoints.fill,stroke:yr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:ce({},yr.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var c=t.addShape("image",{attrs:ce({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.leftBottom,u=n.rightBottom,c=n.size,h=n.r,g=ea(n,["top","left","right","leftBottom","rightBottom","size","r"]),w=this.getSize(r),L=w[0];if(s){var D=Math.cos((18+72*0)/180*Math.PI)*L,N=Math.sin((18+72*0)/180*Math.PI)*L;t.addShape("circle",{attrs:ce(ce({},g),{x:D,y:-N,r:c/2||h||5}),className:"link-point-right",name:"link-point-right"})}if(a){var D=Math.cos((18+72*1)/180*Math.PI)*L,N=Math.sin((18+72*1)/180*Math.PI)*L;t.addShape("circle",{attrs:ce(ce({},g),{x:D,y:-N,r:c/2||h||5}),className:"link-point-top",name:"link-point-top"})}if(o){var D=Math.cos((18+72*2)/180*Math.PI)*L,N=Math.sin((18+72*2)/180*Math.PI)*L;t.addShape("circle",{attrs:ce(ce({},g),{x:D,y:-N,r:c/2||h||5}),className:"link-point-left",name:"link-point-left"})}if(l){var D=Math.cos((18+72*3)/180*Math.PI)*L,N=Math.sin((18+72*3)/180*Math.PI)*L;t.addShape("circle",{attrs:ce(ce({},g),{x:D,y:-N,r:c/2||h||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){var D=Math.cos((18+72*4)/180*Math.PI)*L,N=Math.sin((18+72*4)/180*Math.PI)*L;t.addShape("circle",{attrs:ce(ce({},g),{x:D,y:-N,r:c/2||h||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(r){for(var t=this.getSize(r),e=t[0],n=e*3/8,a=r.innerR||n,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*e,u=Math.sin((18+72*s)/180*Math.PI)*e,c=Math.cos((54+72*s)/180*Math.PI)*a,h=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-u]):o.push(["L",l,-u]),o.push(["L",c,-h])}return o.push(["Z"]),o},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=ce({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}).linkPoints,n=t.find(function(Ie){return Ie.get("className")==="link-point-left"}),a=t.find(function(Ie){return Ie.get("className")==="link-point-right"}),o=t.find(function(Ie){return Ie.get("className")==="link-point-top"}),s=t.find(function(Ie){return Ie.get("className")==="link-point-left-bottom"}),l=t.find(function(Ie){return Ie.get("className")==="link-point-right-bottom"}),u=e,c=n||a||o||s||l;c&&(u=c.attr());var h=(0,f.mix)({},u,r.linkPoints),g=h.fill,w=h.stroke,L=h.lineWidth,D=h.size/2;D||(D=h.r);var N=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},H=N.left,X=N.right,mt=N.top,xt=N.leftBottom,Pt=N.rightBottom,Ht=this.getSize(r),te=Ht[0],oe={r:D,fill:g,stroke:w,lineWidth:L},qt=Math.cos((18+72*0)/180*Math.PI)*te,we=Math.sin((18+72*0)/180*Math.PI)*te;a?!X&&X!==void 0?a.remove():a.attr(ce(ce({},oe),{x:qt,y:-we})):X&&t.addShape("circle",{attrs:ce(ce({},oe),{x:qt,y:-we}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),qt=Math.cos((18+72*1)/180*Math.PI)*te,we=Math.sin((18+72*1)/180*Math.PI)*te,o?!mt&&mt!==void 0?o.remove():o.attr(ce(ce({},oe),{x:qt,y:-we})):mt&&t.addShape("circle",{attrs:ce(ce({},oe),{x:qt,y:-we}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),qt=Math.cos((18+72*2)/180*Math.PI)*te,we=Math.sin((18+72*2)/180*Math.PI)*te,n?!H&&H!==void 0?n.remove():n.attr(ce(ce({},oe),{x:qt,y:-we})):H&&t.addShape("circle",{attrs:ce(ce({},oe),{x:qt,y:-we}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),qt=Math.cos((18+72*3)/180*Math.PI)*te,we=Math.sin((18+72*3)/180*Math.PI)*te,s?!xt&&xt!==void 0?s.remove():s.attr(ce(ce({},oe),{x:qt,y:-we})):xt&&t.addShape("circle",{attrs:ce(ce({},oe),{x:qt,y:-we}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),qt=Math.cos((18+72*4)/180*Math.PI)*te,we=Math.sin((18+72*4)/180*Math.PI)*te,l?!Pt&&Pt!==void 0?s.remove():l.attr(ce(ce({},oe),{x:qt,y:-we})):Pt&&t.addShape("circle",{attrs:ce(ce({},oe),{x:qt,y:-we}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),mi.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r);delete n.fill;var a=t.addShape(e,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(r,a),a},drawClip:function(r,t){var e=this.getOptions(r).clipCfg;if(!!e.show){var n=e.type,a=e.x,o=e.y,s=e.style;if(n==="circle"){var l=e.r;t.setClip({type:"circle",attrs:ce({r:l,x:a,y:o},s)})}else if(n==="rect"){var u=e.width,c=e.height,h=a-u/2,g=o-c/2;t.setClip({type:"rect",attrs:ce({x:h,y:g,width:u,height:c},s)})}else if(n==="ellipse"){var w=e.rx,L=e.ry;t.setClip({type:"ellipse",attrs:ce({x:a,y:o,rx:w,ry:L},s)})}else if(n==="polygon"){var D=e.points;t.setClip({type:"polygon",attrs:ce({points:D},s)})}else if(n==="path"){var N=e.path;t.setClip({type:"path",attrs:ce({path:N},s)})}}},getShapeStyle:function(r){var t=this.getOptions(r).style,e=this.getSize(r),n=this.getOptions(r).img,a=e[0],o=e[1];t&&(a=t.width||e[0],o=t.height||e[1]);var s=ce({x:-a/2,y:-o/2,width:a,height:o,img:n},t);return s},updateShapeStyle:function(r,t){var e=t.getContainer(),n=this.itemType+"-shape",a=e.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(r);a&&a.attr(o)}},"single-node");function Yu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yu=function(t){return typeof t}:Yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(i)}var zu=function(r){var t=r.x,e=r.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},W4=function(r){r===void 0&&(r=[]);var t=[],e=[];r.forEach(function(l){t.push(l.x),e.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,e),s=Math.max.apply(Math,e);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},w1=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},bh=function(r){var t=[],e={};return r.forEach(function(n){var a=n.x+"-"+n.y;n.id=a,e[a]=n}),(0,f.each)(e,function(n){t.push(n)}),t},Vu=function(r){return r=bh(r),r},S1=function(r,t){return[r,{x:r.x,y:t.y},t]},Xu=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},j4=function(r,t){var e=Math.abs(r.x-t.centerX),n=Math.abs(r.y-t.centerY);return e/t.width>n/t.height},wh=function(r,t){var e=j4(t,r);return e?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},Sh=function(r,t){var e=Math.min(r.minX,t.minX),n=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),o=Math.max(r.maxY,t.maxY);return{centerX:(e+a)/2,centerY:(n+o)/2,minX:e,minY:n,maxX:a,maxY:o,height:o-n,width:a-e}},Ch=function(r){var t=r.minX,e=r.minY,n=r.maxX,a=r.maxY;return[{x:t,y:e},{x:n,y:e},{x:n,y:a},{x:t,y:a}]},Hu=function(r,t){var e=r.x,n=r.y;return e<t.minX||e>t.maxX||n<t.minY||n>t.maxY},U4=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},Z4=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},Q4=function(r,t){return U4(r,t.x).concat(Z4(r,t.y))},Qs=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},K4=function(r,t){var e=-2,n=0;return t.forEach(function(a){a&&(r.x===a.x&&(n+=e),r.y===a.y&&(n+=e))}),n},C1=function(r,t,e,n,a){return Qs(r,t)+Qs(r,e)+K4(r,[t,e,n,a])},$4=function i(r,t,e,n,a){a===void 0&&(a=0),r.unshift(t[n]),e[n]&&e[n]!==n&&a<=100&&i(r,t,e,e[n],a+1)},J4=function(r,t){var e=r.indexOf(t);e>-1&&r.splice(e,1)},Wu=function(r,t,e,n){var a=t.x-r.x,o=t.y-r.y,s=n.x-e.x,l=n.y-e.y,u=(-o*(r.x-e.x)+a*(r.y-e.y))/(-s*o+a*l),c=(s*(r.y-e.y)-l*(r.x-e.x))/(-s*o+a*l);return u>=0&&u<=1&&c>=0&&c<=1},Mh=function(r,t,e){if(e.width===0&&e.height===0)return!1;var n=Ch(e),a=n[0],o=n[1],s=n[2],l=n[3];return Wu(r,t,a,o)||Wu(r,t,a,l)||Wu(r,t,o,s)||Wu(r,t,s,l)},q4=function(r,t,e,n){var a=[];return r.forEach(function(o){o!==t&&(o.x===t.x||o.y===t.y)&&!Mh(o,t,e)&&!Mh(o,t,n)&&a.push(o)}),bh(a)},t8=function(r,t,e,n,a,o,s){var l=[],u=[t],c={},h={},g={};h[t.id]=0,g[t.id]=C1(t,e,t);var w={};r.forEach(function(N){w[N.id]=N});for(var L=function(){var H,X=Infinity;if(u.forEach(function(xt){g[xt.id]<X&&(X=g[xt.id],H=xt)}),H===e){var mt=[];return $4(mt,w,c,e.id),{value:mt}}J4(u,H),l.push(H),q4(r,H,n,a).forEach(function(xt){if(l.indexOf(xt)===-1){u.indexOf(xt)===-1&&u.push(xt);var Pt=g[H.id]+Qs(H,xt);h[xt.id]&&Pt>=h[xt.id]||(c[xt.id]=H.id,h[xt.id]=Pt,g[xt.id]=h[xt.id]+C1(xt,e,t,o,s))}})};u.length;){var D=L();if(Yu(D)==="object")return D.value}return[t,e]},e8=function(r,t,e){return!(r.x===t.x&&t.x===e.x||r.y===t.y&&t.y===e.y)},r8=function(r,t,e,n){var a=Qs(r,t),o=Qs(e,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-r.x),y:t.y-n/a*(t.y-r.y)},l={x:t.x-n/o*(t.x-e.x),y:t.y-n/o*(t.y-e.y)};return[s,l]},M1=function(r,t){var e=[],n=r[0];return e.push("M"+n.x+" "+n.y),r.forEach(function(a,o){var s=r[o+1],l=r[o+2];if(s&&l)if(e8(a,s,l)){var u=r8(a,s,l,t),c=u[0],h=u[1];e.push("L"+c.x+" "+c.y),e.push("Q"+s.x+" "+s.y+" "+h.x+" "+h.y),e.push("L"+h.x+" "+h.y)}else e.push("L"+s.x+" "+s.y);else s&&e.push("L"+s.x+" "+s.y)}),e.join("")},n8=function(r,t,e,n,a){var o,s;if(!e||!e.getType())o=zu(r);else if(e.getType()==="combo"){var l=e.getKeyShape();o=l.getCanvasBBox()||zu(r),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=e.getBBox();if(!n||!n.getType())s=zu(t);else if(n.getType()==="combo"){var u=n.getKeyShape();s=u.getCanvasBBox()||zu(t),s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=n&&n.getBBox();if(w1(o,s))return Vu(S1(r,t));var c=Xu(o,a),h=Xu(s,a);if(w1(c,h))return Vu(S1(r,t));var g=wh(c,r),w=wh(h,t),L=W4([g,w]),D=Sh(c,h),N=Sh(c,L),H=Sh(h,L),X=[];X=X.concat(Ch(N)),X=X.concat(Ch(H));var mt={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[L,N,H].forEach(function(Pt){X=X.concat(Q4(Pt,mt).filter(function(Ht){return Hu(Ht,c)&&Hu(Ht,h)}))}),[{x:g.x,y:w.y},{x:w.x,y:g.y}].forEach(function(Pt){Hu(Pt,c)&&Hu(Pt,h)&&X.push(Pt)}),X.unshift(g),X.push(w),X=bh(X);var xt=t8(X,g,w,o,s,r,t);return xt.unshift(r),xt.push(t),Vu(xt)};function ju(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ju=function(t){return typeof t}:ju=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ju(i)}var i8=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},a8=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},o8=function(r,t){return[r,t]},s8=function(r,t,e,n,a){return Vu(n8(r,t,e,n,a.offset))},l8={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:i8,fallbackRoute:s8},$Y={maxAllowedDirectionChange:45,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:a8,fallbackRoute:o8},ya=function(r,t){var e=Math.floor(r/t);return e<0?0:e},u8=function(r,t,e){var n={};return r.forEach(function(a){if(a)for(var o=Xu(a.getBBox(),e),s=ya(o.minX,t);s<=ya(o.maxX,t);s+=1)for(var l=ya(o.minY,t);l<=ya(o.maxY,t);l+=1){var u=s+"-"+l;n[u]=!0}}),n},Eh=function(r,t){var e=t.x-r.x,n=t.y-r.y;if(!e&&!n)return 0;var a=(360+Math.atan2(n,e)*180/Math.PI)%360;return a},E1=function(r,t){var e=Math.abs(r-t);return e>180?360-e:e},A1=function(r,t,e){for(var n=Infinity,a=0,o=t.length;a<o;a++){var s=e(r,t[a]);s<n&&(n=s)}return n},T1=function(r,t,e){var n=[];if(!t)return n;var a=e.directions,o=e.offset,s=t.getBBox(),l=Xu(t.getBBox(),o);for(var u in l)l[u]=ya(l[u],e.gridSize);var c=r.x>ya(s.minX,e.gridSize)&&r.x<ya(s.maxX,e.gridSize)&&r.y>ya(s.minY,e.gridSize)&&r.y<ya(s.maxY,e.gridSize);if(c)for(var h=0,g=a;h<g.length;h++)for(var w=g[h],L=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]],u=0;u<4;u++){var D=L[u],N=Rs(r,{x:r.x+w.stepX*l.width,y:r.y+w.stepY*l.height},D[0],D[1]);N&&!Mh(r,N,t.getBBox())&&(N.id=N.x+"-"+N.y,n.push(N))}else{var N=wh(l,r);N.id=N.x+"-"+N.y,n.push(N)}return n},P1=function(r,t,e,n,a){var o=(0,Zi.default)(l8,a);o.obstacles=o.obstacles||[];var s=u8(o.obstacles.concat([e,n]),o.gridSize,o.offset),l={x:ya(r.x,o.gridSize),y:ya(r.y,o.gridSize)},u={x:ya(t.x,o.gridSize),y:ya(t.y,o.gridSize)};r.id=l.x+"-"+l.y,t.id=u.x+"-"+u.y;var c=T1(l,e,o),h=T1(u,n,o);c.forEach(function(oe){delete s[oe.id]}),h.forEach(function(oe){delete s[oe.id]});for(var g={},w={},L={},D={},N={},H=0;H<c.length;H++){var X=c[H];g[X.id]=X,D[X.id]=0,N[X.id]=A1(X,h,o.distFunc)}for(var mt=function(qt,we){var Ie=Eh(qt,we),Pe;if(L[qt.id]){var ar=Eh({x:parseFloat(L[qt.id].split("-")[0]),y:parseFloat(L[qt.id].split("-")[1])},qt);Pe=E1(ar,Ie)}else{var Ke=Eh(l,qt);Pe=E1(Ke,Ie)}return Pe},xt=function(qt){var we=[t],Ie={x:parseFloat(qt.split("-")[0]),y:parseFloat(qt.split("-")[1]),id:qt};for(mt(Ie,u)&&we.unshift({x:Ie.x===u.x?t.x:Ie.x*o.gridSize,y:Ie.y===u.y?t.y:Ie.y*o.gridSize});L[qt]&&L[qt]!==qt;){var Pe={x:parseFloat(qt.split("-")[0]),y:parseFloat(qt.split("-")[1]),id:qt},Ke=L[qt],ar={x:parseFloat(Ke.split("-")[0]),y:parseFloat(Ke.split("-")[1]),id:Ke},rr=mt(ar,Pe);rr&&we.unshift({x:ar.x===Pe.x?we[0].x:ar.x*o.gridSize,y:ar.y===Pe.y?we[0].y:ar.y*o.gridSize}),qt=Ke}var Mr={x:parseFloat(qt.split("-")[0]),y:parseFloat(qt.split("-")[1]),id:qt};return we[0].x=Mr.x===l.x?r.x:we[0].x,we[0].y=Mr.y===l.y?r.y:we[0].y,we.unshift(r),we},Pt=o.maximumLoops,Ht=function(){var qt,we=Infinity;for(var Ie in g)N[Ie]<=we&&(we=N[Ie],qt=g[Ie]);if(!qt)return"break";if(h.findIndex(function(xr){return xr.x===qt.x&&xr.y===qt.y})>-1){var Pe=xt(qt.id);return{value:Pe}}delete g[qt.id],w[qt.id]=!0;for(var Ke=0;Ke<o.directions.length;Ke++){var ar=o.directions[Ke],rr={x:qt.x+ar.stepX,y:qt.y+ar.stepY,id:qt.x+ar.stepX+"-"+(qt.y+ar.stepY)};if(!w[rr.id]){var Mr=mt(qt,rr);if(!(Mr>o.maxAllowedDirectionChange)&&!s[rr.id]){g[rr.id]||(g[rr.id]=rr);var Ar=o.distFunc(qt,rr)+(isNaN(o.penalties[Mr])?o.gridSize:o.penalties[Mr]),Pr=D[qt.id]+Ar;D[rr.id]&&Pr>=D[rr.id]||(L[rr.id]=qt.id,D[rr.id]=Pr,N[rr.id]=Pr+A1(rr,h,o.distFunc))}}}Pt-=1};Object.keys(g).length>0&&Pt>0;){var te=Ht();if(ju(te)==="object")return te.value;if(te==="break")break}return o.fallbackRoute(r,t,e,n,o)};mi.registerEdge("polyline",{options:{color:yr.defaultEdge.color,size:yr.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:yr.defaultEdge.style.stroke,lineAppendWidth:yr.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:yr.edgeLabel.style.fill,fontSize:yr.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:ce({},yr.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r);e.radius===0&&delete e.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return n},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style);r=this.getPathPoints(r),this.radius=n.radius,this.offset=n.offset;var a=r.startPoint,o=r.endPoint,s=this.getControlPoints(r),l=[a];s&&(l=l.concat(s)),l.push(o);var u=r.sourceNode,c=r.targetNode,h=n.radius,g=this.options.routeCfg;g.offset=n.offset;var w=this.getPath(l,u,c,h,g);((0,f.isArray)(w)&&w.length<=1||(0,f.isString)(w)&&w.indexOf("L")===-1)&&(w="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(w="M0 0, L0 0");var L=(0,f.mix)({},yr.defaultEdge.style,n,{lineWidth:r.size,path:w});return L},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(X){return X.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),c=[s];u&&(c=c.concat(u)),c.push(l);var h=(0,f.mix)({},n,a.attr(),r.style),g=r.sourceNode,w=r.targetNode,L=h.radius,D=this.options.routeCfg;D.offset=h.offset;var N=this.getPath(c,g,w,L,D);((0,f.isArray)(N)&&N.length<=1||(0,f.isString)(N)&&N.indexOf("L")===-1)&&(N="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(N="M0 0, L0 0");var H=(0,f.mix)(n,a.attr(),{lineWidth:o,path:N},r.style);a&&a.attr(H)},getPath:function(r,t,e,n,a){var o=a.offset;if(!o||r.length>2){if(n)return M1(r,n);var s=[];return(0,f.each)(r,function(h,g){g===0?s.push(["M",h.x,h.y]):s.push(["L",h.x,h.y])}),s}var l;if(n){l=P1(r[0],r[r.length-1],t,e,a);var u=M1(l,n);return u}l=P1(r[0],r[r.length-1],t,e,a);var c=ax(l);return c}},"single-edge");var f8={triangle:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+" L "+(n+t)+","+r/2+" Z";return a},vee:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=20),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+r/2+" Z";return a},circle:function(r,t){r===void 0&&(r=5),t===void 0&&(t=0);var e=t*2,n="M "+e+`, 0
            a `+r+","+r+" 0 1,0 "+r*2+`,0
            a `+r+","+r+" 0 1,0 "+-r*2+",0";return n},rect:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=10),e===void 0&&(e=0);var n=e*2,a="M "+n+","+-r/2+` 
        L `+(n+t)+","+-r/2+` 
        L `+(n+t)+","+r/2+` 
        L `+n+","+r/2+" Z";return a},diamond:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+`,0 
        L `+(n+t/2)+","+-r/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+r/2+" Z";return a},triangleRect:function(r,t,e,n,a,o){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,u="M "+s+",0 L "+(s+t)+",-"+r/2+" L "+(s+t)+","+r/2+` Z
            M `+l+", -"+e/2+`
            L `+(l+n)+" -"+e/2+`
            L `+(l+n)+" "+e/2+`
            L `+l+" "+e/2+`
            Z`;return u}},c8={collapse:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r+e-4,t]]},expand:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r-e+2*e-4,t],["M",r-e+e,t-e+4],["L",r,t+e-4]]},upTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t+a],["L",r+n,t+a],["L",r,t-e],["Z"]]},downTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t-a],["L",r+n,t-a],["L",r,t+e],["Z"]]}},ds=mi,h8={mat3:Ba.wO,mix:Xs.default,deepMix:Zi.default,transform:Ba.vs},v8=ce(ce(ce(ce(ce(ce({},h8),tt),St),rt),ft),J),d8=v8,p8=function(){function i(r){this._cfgs=(0,Zi.default)(this.getDefaultCfgs(),r),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(r){var t=this;t.set("graph",r);var e=t.getEvents(),n={};(0,Zn.default)(e,function(a,o){var s=(0,gu.default)(t,a);n[o]=s,r.on(o,s)}),this._events=n,this.init()},i.prototype.init=function(){},i.prototype.getEvents=function(){return{}},i.prototype.get=function(r){return this._cfgs[r]},i.prototype.set=function(r,t){this._cfgs[r]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var r=this.get("graph"),t=this._events;(0,Zn.default)(t,function(e,n){r.off(n,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Za=p8,O1="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",g8=function(i){ai(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{img:O1}},r.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("container"),a=t.get("canvas").get("el"),o=t.get("width"),s=t.get("height"),l=this.get("img")||O1,u=(0,Si.Z)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),c=(0,Si.Z)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+l+`;
        user-select: none
        '></div>`);u.appendChild(c),(0,Kn.Z)(u,{width:o+"px",height:s+"px",left:n.offsetLeft+"px",top:n.offsetTop+"px"}),(0,Kn.Z)(c,{width:o/e+"px",height:s/e+"px",left:"0px",top:"0px"}),n.insertBefore(u,a),this.set("container",u),this.set("gridContainer",c)},r.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},r.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", 0, 0)";(0,Kn.Z)(e,{transform:a})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),n=this.get("container");e.removeChild(n)},r}(Za),y8=g8,m8=v(38186),Ah=v.n(m8);Ah()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var x8=function(i){ai(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},r.prototype.init=function(){var t=this.get("className"),e=(0,Si.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,Kn.Z)(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),n.appendChild(e),this.set("menu",e)},r.prototype.onMenuShow=function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),!!t.item){var n=this.get("shouldBegin");if(!!n(t)){var a=this.get("itemTypes");if(t.item&&t.item.getType&&a.indexOf(t.item.getType())===-1){e.onMenuHide();return}if(!!t.item){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),u=s(t,l);(0,Hn.default)(u)?o.innerHTML=u:o.innerHTML=u.outerHTML,this.removeMenuEventListener();var c=this.get("handleMenuClick");if(c){var h=function(te){c(te.target,t.item,l)};this.set("handleMenuClickWrapper",h),o.addEventListener("click",h)}var g=l.get("width"),w=l.get("height"),L=o.getBoundingClientRect(),D=this.get("offsetX")||0,N=this.get("offsetY")||0,H=l.getContainer().offsetTop,X=l.getContainer().offsetLeft,mt=t.canvasX+X+D,xt=t.canvasY+H+N;mt+L.width>g&&(mt=t.canvasX-L.width-D+X),xt+L.height>w&&(xt=t.canvasY-L.height-N+H),(0,Kn.Z)(o,{top:xt+"px",left:mt+"px",visibility:"visible"});var Pt=function(te){e.onMenuHide()};document.body.addEventListener("click",Pt),this.set("handler",Pt)}}}},r.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},r.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,Kn.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},r.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Za),b8=x8,I1=Math.max,w8="default",S8="keyShape",C8="delegate",k1="svg",M8=function(i){ai(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.handleUpdateCanvas=(0,f.debounce)(function(e){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,a=e.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=(0,Si.Z)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),u=0,c=0,h=!1,g=0,w=0,L=0,D=0,N=0,H=0;l.addEventListener("dragstart",function(X){if(X.dataTransfer){var mt=new Image;mt.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",X.dataTransfer.setDragImage(mt,0,0),X.dataTransfer.setData("text","view-port-minimap")}if(e.refresh=!1,X.target===l){var xt=l.style;g=parseInt(xt.left,10),w=parseInt(xt.top,10),L=parseInt(xt.width,10),D=parseInt(xt.height,10),!(L>n[0]||D>n[1])&&(H=a.getZoom(),N=t.get("ratio"),h=!0,u=X.clientX,c=X.clientY)}},!1),l.addEventListener("drag",function(X){if(!(!h||(0,Gi.default)(X.clientX)||(0,Gi.default)(X.clientY))){var mt=u-X.clientX,xt=c-X.clientY;(g-mt<0||g-mt+L>=n[0])&&(mt=0),(w-xt<0||w-xt+D>=n[1])&&(xt=0),g-=mt,w-=xt,(0,Kn.Z)(l,{left:g+"px",top:w+"px"}),a.translate(mt*H/N,xt*H/N),u=X.clientX,c=X.clientY}},!1),l.addEventListener("dragend",function(){h=!1,e.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),n=this.get("dy"),a=this.get("totaldx"),o=this.get("totaldy"),s=this.get("graph"),l=this.get("size"),u=s.get("width"),c=s.get("height"),h=s.getPointByCanvas(0,0),g=s.getPointByCanvas(u,c),w=this.get("viewport");w||this.initViewport();var L=s.getZoom(),D=(g.x-h.x)*t,N=(g.y-h.y)*t,H=h.x*t+a,X=h.y*t+o,mt=H+D,xt=X+N;H<0&&(D+=H,H=0),mt>l[0]&&(D=D-(mt-l[0])),X<0&&(N+=X,X=0),xt>l[1]&&(N=N-(xt-l[1])),this.set("ratio",t);var Pt=H+"px",Ht=X+"px";(0,Kn.Z)(w,{left:Pt,top:Ht,width:D+"px",height:N+"px"})}},r.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");if(!n.destroyed){var a=n.clone();a.resetMatrix(),e.clear(),e.add(a);var o=t.get("renderer");o===k1&&this.updateVisible(a)}},r.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),e.updateVisible(a)})}},r.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;(0,Zn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Zn.default)(e.getNodes(),function(n){t.updateOneNodeKeyShape(n)}),this.clearDestroyedShapes()},r.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox(),l=t.get("keyShape").clone(),u=l.attr(),c={x:s.centerX,y:s.centerY};o?c=Object.assign(u,c):(o=l,n.add(o));var h=o.get("type");(h==="rect"||h==="image")&&(c.x=s.minX,c.y=s.minY),o.attr(c),t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;(0,Zn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,Zn.default)(e.getNodes(),function(n){t.updateOneNodeDelegateShape(n)}),this.clearDestroyedShapes()},r.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var n=e.length-1;n>=0;n--){var a=t[e[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[e[n]])}},r.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")];if(o){var s=t.get("keyShape").attr("path");o.attr("path",s)}else o=t.get("keyShape").clone(),n.add(o),o.toBack();t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("delegateStyle"),o=this.get("itemMap")||{},s=o[t.get("id")],l=t.getBBox();if(s){var u={x:l.minX,y:l.minY,width:l.width,height:l.height};s.attr(u)}else s=n.addShape("rect",{attrs:ce({x:l.minX,y:l.minY,width:l.width,height:l.height},a),name:"minimap-node-shape"});t.isVisible()||s.hide(),s.exist=!0,o[t.get("id")]=s,this.set("itemMap",o)},r.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=(0,Si.Z)("<div class='"+a+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");(0,Hn.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):e.get("container").appendChild(s),t.set("container",s);var l=(0,Si.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l);var u,c=e.get("renderer");c===k1?u=new zs.Z({container:l,width:n[0],height:n[1]}):u=new zo.Z({container:l,width:n[0],height:n[1]}),t.set("canvas",u),t.updateCanvas()},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case w8:this.updateGraphShapes();break;case S8:this.updateKeyShapes();break;case C8:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var u=l.getCanvasBBox(),c=e.get("canvas").getBBox(),h=c.width,g=c.height;Number.isFinite(u.width)&&(h=I1(u.width,h),g=I1(u.height,g)),h+=2*s,g+=2*s;var w=Math.min(n[0]/h,n[1]/g),L=[1,0,0,0,1,0,0,0,1],D=0,N=0;Number.isFinite(u.minX)&&(D=-u.minX),Number.isFinite(u.minY)&&(N=-u.minY);var H=(n[0]-(h-2*s)*w)/2,X=(n[1]-(g-2*s)*w)/2;L=ja(L,[["t",D,N],["s",w,w],["t",H,X]]),l.setMatrix(L),this.set("ratio",w),this.set("totaldx",H+D*w),this.set("totaldy",X+N*w),this.set("dx",H),this.set("dy",X),this.updateViewport()}}}}},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},r}(Za),E8=M8;function Qa(i,r,t){var e=i.x-r.x,n=i.y-r.y;return!t||Math.abs(e)>t||Math.abs(n)>t?Math.sqrt(e*e+n*n):t}function A8(i,r){return i.x*r.x+i.y*r.y}function L1(i,r){var t=(r.source.y-r.target.y)/(r.source.x-r.target.x),e=(t*t*r.source.x+t*(i.y-r.source.y)+i.x)/(t*t+1),n=t*(e-r.source.x)+r.source.y;return{x:e,y:n}}var T8=function(i){ai(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},r.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),n=function(){e&&e(),t.refreshPositions()};this.set("tick",n)},r.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(xt){(xt.x===null||!xt.y===null||xt.x===void 0||!xt.y===void 0)&&(s=!0),o[xt.id]=xt}),s)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",o);var l=e.get("divisions"),u=e.get("divRate"),c=e.divideEdges(l);e.set("edgePoints",c);var h=e.getEdgeBundles();e.set("edgeBundles",h);for(var g=e.get("cycles"),w=e.get("iterations"),L=e.get("iterRate"),D=e.get("lambda"),N=0;N<g;N++){for(var H=function(Pt){var Ht=[];n.forEach(function(te,oe){if(te.source!==te.target){var qt=o[te.source],we=o[te.target];Ht[oe]=e.getEdgeForces({source:qt,target:we},oe,l,D);for(var Ie=0;Ie<l+1;Ie++)c[oe][Ie].x+=Ht[oe][Ie].x,c[oe][Ie].y+=Ht[oe][Ie].y}})},X=0;X<w;X++)H(X);D=D/2,l*=u,w*=L,c=e.divideEdges(l),e.set("edgePoints",c)}n.forEach(function(xt,Pt){xt.source!==xt.target&&(xt.shape="polyline",xt.type="polyline",xt.controlPoints=c[Pt].slice(1,c[Pt].length-1))});var mt=e.get("graph");mt.refresh()}},r.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(o){e.set(o,t[o])}),t.onTick){var a=this.get("graph");e.set("tick",function(){t.onTick(),a.refresh()})}e.bundling(n)},r.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,a=e.get("nodeIdMap"),o=e.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var u=a[s.source],c=a[s.target];if(t===1)o[l].push({x:u.x,y:u.y}),o[l].push({x:.5*(u.x+c.x),y:.5*(u.y+c.y)}),o[l].push({x:c.x,y:c.y});else{var h=0;!o[l]||o[l]===[]?h=Qa({x:u.x,y:u.y},{x:c.x,y:c.y}):h=e.getEdgeLength(o[l]);var g=h/(t+1),w=g,L=[{x:u.x,y:u.y}];o[l].forEach(function(D,N){if(N!==0){for(var H=Qa(D,o[l][N-1]);H>w;){var X=w/H,mt={x:o[l][N-1].x,y:o[l][N-1].y};mt.x+=X*(D.x-o[l][N-1].x),mt.y+=X*(D.y-o[l][N-1].y),L.push(mt),H-=w,w=g}w-=H}}),L.push({x:c.x,y:c.y}),o[l]=L}}),o},r.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(n,a){a!==0&&(e+=Qa(n,t[a-1]))}),e},r.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),n=e.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,u){(!s[u]||s[u]===void 0)&&(s[u]=[])}),n.forEach(function(l,u){var c=o[l.source],h=o[l.target];n.forEach(function(g,w){if(!(w<=u)){var L=o[g.source],D=o[g.target],N=t.getBundleScore({source:c,target:h},{source:L,target:D});N>=a&&(s[u].push(w),s[w].push(u))}})}),s},r.prototype.getBundleScore=function(t,e){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=Qa({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=Qa({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var a=n.getAngleScore(t,e),o=n.getScaleScore(t,e),s=n.getPositionScore(t,e),l=n.getVisibilityScore(t,e);return a*o*s*l},r.prototype.getAngleScore=function(t,e){var n=A8({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return n/(t.length*e.length)},r.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2,a=2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n);return a},r.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},s=Qa(a,o);return n/(n+s)},r.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),a=this.getEdgeVisibility(e,t);return n<a?n:a},r.prototype.getEdgeVisibility=function(t,e){var n=L1(e.source,t),a=L1(e.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Qa(o,s)/Qa(n,a))},r.prototype.getEdgeForces=function(t,e,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),u=l/(Qa(t.source,t.target)*(n+1)),c=[{x:0,y:0}],h=1;h<n;h++){var g={x:0,y:0},w=o.getSpringForce({pre:s[e][h-1],cur:s[e][h],next:s[e][h+1]},u),L=o.getElectrostaticForce(h,e);g.x=a*(w.x+L.x),g.y=a*(w.y+L.y),c.push(g)}return c.push({x:0,y:0}),c},r.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=e,a*=e,{x:n,y:a}},r.prototype.getElectrostaticForce=function(t,e){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[e],u={x:0,y:0};return l.forEach(function(c){var h={x:s[c][t].x-s[e][t].x,y:s[c][t].y-s[e][t].y};if(Math.abs(h.x)>a||Math.abs(h.y)>a){var g=Qa(s[c][t],s[e][t]),w=1/g;u.x+=h.x*w,u.y+=h.y*w}}),u},r.prototype.isTicking=function(){return this.get("ticking")},r.prototype.getSimulation=function(){return this.get("forceSimulation")},r.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},r}(Za),P8=T8,Uu=.05,_1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},O8=function(i){ai(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,di.d9)(_1),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},r.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var n=t.get("d");t.set("molecularParam",(n+1)*e)},r.prototype.createDelegate=function(t){var e=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){e.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-Uu:a=1/(1-Uu);var u=e.get("maxR"),c=e.get("minR"),h=e.get("r");(h>(u||n.get("height"))&&a>1||h<(c||n.get("height")*.05)&&a<1)&&(a=1),h*=a,e.set("r",h),e.set("r2",h*h);var g=e.get("d");e.set("molecularParam",(g+1)*h),e.set("delegateCenterDiff",void 0),e.magnify(t,l)}},r.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var n=e.get("dragPrePos"),a=e.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-Uu:o=1/(1-Uu);var l=e.get("maxR"),u=e.get("minR"),c=e.get("r");(c>(l||a.get("height"))&&o>1||c<(u||a.get("height")*.05)&&o<1)&&(o=1),c*=o,e.set("r",c),e.set("r2",c*c);var h=e.get("d");e.set("molecularParam",(h+1)*c),e.magnify(t,s),e.set("dragPrePos",{x:t.x,y:t.y})}},r.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=e.get("d"),o=a+n,s=e.get("maxD"),l=e.get("minD");if(o<s&&o>l){e.set("d",o);var u=e.get("r");e.set("molecularParam",(o+1)*u);var c=e.get("delegate"),h=c?{x:c.attr("x"),y:c.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,h)}}},r.prototype.scaleDByDrag=function(t){var e=this,n=e.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=e.get("d"),s=o+a,l=e.get("maxD"),u=e.get("minD");if(s<l&&s>u){e.set("d",s);var c=e.get("r");e.set("molecularParam",(s+1)*c),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},r.prototype.magnify=function(t,e){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),u=n.get("r"),c=n.get("r2"),h=n.get("d"),g=n.get("molecularParam"),w=a.getNodes(),L=w.length,D=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(D=n.get("cacheCenter"));var N=n.get("delegateCenterDiff");N&&(D.x+=N.x,D.y+=N.y),n.updateDelegate(D,u);for(var H=0;H<L;H++){var X=w[H].getModel(),mt=X.x,xt=X.y;if(!(isNaN(mt)||isNaN(xt))){var Pt=(mt-D.x)*(mt-D.x)+(xt-D.y)*(xt-D.y);if(!isNaN(Pt)&&Pt<c&&Pt!==0){var Ht=Math.sqrt(Pt),te=g*Ht/(h*Ht+u),oe=(mt-D.x)/Ht,qt=(xt-D.y)/Ht;if(X.x=oe*te+D.x,X.y=qt*te+D.y,s[X.id]||(s[X.id]={x:mt,y:xt,texts:[]}),o.push(X),l&&2*Ht<u)for(var we=w[H],Ie=we.getContainer(),Pe=Ie.getChildren(),Ke=Pe.length,ar=0;ar<Ke;ar++){var rr=Pe[ar];rr.get("type")==="text"&&(s[X.id].texts.push({visible:rr.get("visible"),shape:rr}),rr.set("visible",!0))}}}}a.refreshPositions()},r.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=e.length,o=0;o<a;o++){var s=e[o],l=s.id,u=n[l];s.x=u.x,s.y=u.y;for(var c=u.texts.length,h=0;h<c;h++){var g=u.texts[h];g.shape.set("visible",g.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,u=t.minR,c=t.maxR,h=t.scaleDBy,g=t.scaleRBy;isNaN(t.r)||(e.set("r",n),e.set("r2",n*n)),isNaN(a)||e.set("d",a),isNaN(l)||e.set("maxD",l),isNaN(s)||e.set("minD",s),isNaN(c)||e.set("maxR",c),isNaN(u)||e.set("minR",u);var w=e.get("d"),L=e.get("r");if(e.set("molecularParam",(w+1)*L),(o==="mousemove"||o==="click"||o==="drag")&&e.set("trigger",o),h==="drag"||h==="wheel"||h==="unset"){e.set("scaleDBy",h),e.get("delegate").remove(),e.get("delegate").destroy();var D=e.get("dPercentText");D&&(D.remove(),D.destroy())}if(g==="drag"||g==="wheel"||g==="unset"){e.set("scaleRBy",g),e.get("delegate").remove(),e.get("delegate").destroy();var D=e.get("dPercentText");D&&(D.remove(),D.destroy())}},r.prototype.updateDelegate=function(t,e){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),u=a.get("delegateStyle")||_1;s=l.addShape("circle",{attrs:ce({r:e/1.5,x:t.x,y:t.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(L){a.scaleRByWheel(L)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(L){a.set("dragging",!0),a.set("cacheCenter",{x:L.x,y:L.y}),a.set("dragPrePos",{x:L.x,y:L.y})}),s.on("drag",function(L){a.scaleRByDrag(L)}),s.on("dragend",function(L){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(L){n.scaleDByWheel(L)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(L){a.set("dragging",!0),a.set("cacheCenter",{x:L.x,y:L.y}),a.set("dragPrePos",{x:L.x,y:L.y})}),s.on("drag",function(L){n.scaleDByDrag(L)}),s.on("dragend",function(L){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:e/1.5});if(a.get("showDPercent")){var c=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),h=a.get("dPercentText"),g=t.y+e/1.5+16;if(!h||h.destroyed){var w=o.get("group");h=w.addShape("text",{attrs:{text:c+"%",x:t.x,y:g,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",h)}else h.attr({text:c+"%",x:t.x,y:g})}a.set("delegate",s)},r.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Za),I8=O8;Ah()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var k8=function(i){ai(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},r.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent"),a=n(e),o=a;(0,di.HD)(a)&&(o=(0,Si.Z)(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),l.appendChild(o),this.set("toolBar",o);var u=this.get("handleClick");o.addEventListener("click",function(h){var g=h.path.filter(function(L){return L.nodeName==="LI"});if(g.length!==0){var w=g[0].getAttribute("code");!w||(u?u(w,e):t.handleDefaultOperator(w,e))}});var c=this.get("position");c&&(0,Kn.Z)(o,{top:c.y+"px",left:c.x+"px"}),this.bindUndoRedo()},r.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!n||!a||!o||t.on("stackchange",function(s){var l=s.undoStack,u=s.redoStack,c=l.length,h=u.length;c===1?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),h===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},r.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action;t.pushStack(a,(0,di.d9)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var c=t.findById(u.id);u.visible?t.showItem(c,!1):t.hideItem(c,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var c=u.itemType;delete u.itemType,t.addItem(c,u,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.removeItem(u.id,!1)})});break;default:}}}},r.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,di.d9)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var c=t.findById(u.id);u.visible?t.showItem(c,!1):t.hideItem(c,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){t.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){t.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){t.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var c=u.itemType;delete u.itemType,t.addItem(c,u,!1)})});break}default:}}}},r.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1+.05*5;if(a*n>5)return;e.zoomTo(n*1.1);break}case"zoomIn":{var o=1-.05*5;if(o*n<.3)return;e.zoomTo(n*.9);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},r.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},r}(Za),L8=k8;Ah()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var _8=function(i){ai(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},r.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=(0,Si.Z)("<div class="+t+"></div>"),n=this.get("container");n||(n=this.get("graph").get("container")),(0,Kn.Z)(e,{position:"absolute",visibility:"hidden"}),n.appendChild(e),this.set("tooltip",e)},r.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},r.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},r.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},r.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,Hn.default)(o)?n.innerHTML=o:n.innerHTML=o.outerHTML,this.updatePosition(t)}}},r.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,Kn.Z)(t,{visibility:"hidden"})},r.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(!e(t)){(0,Kn.Z)(n,{visibility:"hidden"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,u=this.get("offsetY")||0,c=a.getPointByClient(t.clientX,t.clientY),h=a.getCanvasByPoint(c.x,c.y),g=h.x,w=h.y;g+=l,w+=u;var L=n.getBoundingClientRect();g+L.width>o&&(g=g-L.width-l),w+L.height>s&&(w=w-L.height-u),(0,Kn.Z)(n,{left:g+"px",top:w+"px",visibility:"visible"})},r.prototype.hide=function(){this.onMouseLeave()},r.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Za),D8=_8,D1=v(89539);function B8(i){return(0,f.map)(i,function(r,t){var e=t===0?"M":"L",n=r[0],a=r[1];return[e,n,a]})}function B1(i){return B8(i)}function F8(i){if(i.length<=2)return B1(i);var r=[];(0,f.each)(i,function(o){(0,f.isEqual)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=al.catmullRom2Bezier(r,!1),e=(0,f.head)(i),n=e[0],a=e[1];return t.unshift(["M",n,a]),t}function R8(i,r,t,e){e===void 0&&(e=!0);var n=new se.Linear({values:i}),a=new se.Category({values:(0,f.map)(i,function(s,l){return l})}),o=(0,f.map)(i,function(s,l){return[a.scale(l)*r,t-n.scale(s)*t]});return e?F8(o):B1(o)}function N8(i,r,t){for(var e=new se.Linear({values:i}),n=new se.Category({values:(0,f.map)(i,function(h,g){return g})}),a=(0,f.map)(i,function(h,g){return[n.scale(g)*r,t-e.scale(h)*t]}),o=[],s=0;s<a.length;s++){var l=a[s],u={x:l[0],y:l[1],y0:t,size:5},c=z8(u);o.push.apply(o,c)}return V8(o)}function G8(i,r){var t=new se.Linear({values:i}),e=Math.max(0,t.min);return r-t.scale(e)*r}function Y8(i,r,t,e){var n=Fs(i),a=G8(e,t);return n.push(["L",r,a]),n.push(["L",0,a]),n.push(["Z"]),n}function z8(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,D1.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s,l;(0,D1.isArray)(r)?(s=r[0],l=r[1]):(s=r-n/2,l=r+n/2);var u=[{x:s,y:a},{x:s,y:o}];return u.push({x:l,y:o},{x:l,y:a}),u}function V8(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var JY={opacity:.5},X8={stroke:"#C5C5C5",strokeOpacity:.85},H8={fill:"#CACED4",opacity:.85},W8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.width,s=o===void 0?200:o,l=r.height,u=l===void 0?26:l,c=r.smooth,h=c===void 0?!0:c,g=r.isArea,w=g===void 0?!1:g,L=r.data,D=L===void 0?[]:L,N=r.lineStyle,H=r.areaStyle,X=r.group,mt=r.interval,xt=mt===void 0?null:mt;this.group=X,this.x=e,this.y=a,this.width=s,this.height=u,this.data=D,this.smooth=h,this.isArea=w,this.lineStyle=Object.assign({},X8,N),this.areaStyle=Object.assign({},H8,H),this.intervalConfig=xt,this.renderLine()}return i.prototype.renderLine=function(){var r=this,t=r.x,e=r.y,n=r.width,a=r.height,o=r.data,s=r.smooth,l=r.isArea,u=r.backgroundStyle,c=r.lineStyle,h=r.areaStyle,g=this.group.addGroup({name:"trend-group"});if(o){var w=R8(o,n,a,s);if(g.addShape("path",{attrs:ce({path:w},c)}),l){var L=Y8(w,n,a,o);g.addShape("path",{attrs:ce({path:L},h)})}}this.intervalConfig&&g.addShape("path",{attrs:ce({path:N8(this.intervalConfig.data,n,a)},this.intervalConfig.style)}),g.move(t,e)},i.prototype.destory=function(){this.group.destroy()},i}(),j8=W8,U8={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},Z8={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},Q8=function(){function i(r){var t=r.group,e=r.name,n=r.type,a=r.x,o=a===void 0?0:a,s=r.y,l=s===void 0?0:s,u=r.width,c=u===void 0?2:u,h=r.height,g=h===void 0?24:h,w=r.style,L=w===void 0?{}:w;this.group=t,this.name=e,this.handleType=n,this.x=o,this.y=l,this.width=c,this.height=g,n==="trend"?this.style=ce(ce({},U8),L):n==="simple"&&(this.style=ce(ce({},Z8),L)),this.renderHandle()}return i.prototype.setX=function(r){this.setXY(r,void 0)},i.prototype.setY=function(r){this.setXY(void 0,r)},i.prototype.setXY=function(r,t){(0,f.isNumber)(r)&&(this.x=r),(0,f.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var r=this,t=r.width,e=r.height,n=r.style,a=r.name,o=n.fill,s=n.stroke,l=n.radius,u=n.opacity,c=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:o,stroke:s,radius:l,opacity:u,cursor:c},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:c},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:c},name:a+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:c},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:c},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=r.style.highLightFill;r.background.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=r.style.fill;r.background.attr("fill",e)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),F1=Q8,K8=function(){function i(r){this.config=(0,f.deepMix)({},r),this.init()}return i.prototype.update=function(r){this.config=(0,f.deepMix)({},this.config,r),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var r=this.config,t=r.group,e=r.style;this.circle=t.addShape("circle",{attrs:ce({x:this.config.x,y:this.config.y,r:this.config.r},e)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var n=1/4*this.config.r,a=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n*2.5,height:a,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var r=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",r),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",r),this.pauseRightMarker.attr("height",t)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var r=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-r/Math.sqrt(3)/2,this.config.y-r/2],["L",this.config.x+r/Math.sqrt(3),this.config.y],["L",this.config.x-r/Math.sqrt(3)/2,this.config.y+r/2]]},i}(),$8=K8,J8="#ccc",q8="green",t9={fill:"#607889",stroke:"#607889"},e9={fill:"#fff"},r9={fill:"green"},n9={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Ks=110,Ka=50,i9=function(){function i(r){this.controllerCfg=(0,f.deepMix)({},n9,r),this.group=r.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r+e,t],["L",r,t+e]]},i.prototype.getPreMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r-e,t],["L",r,t+e]]},i.prototype.renderPlayButton=function(){var r=this.controllerCfg,t=r.width,e=r.height,n=r.x,a=r.y,o=r.hiddleToggle,s=r.fill,l=s===void 0?J8:s,u=r.stroke,c=u===void 0?q8:u,h=r.playBtnStyle,g=h===void 0?t9:h,w=r.preBtnStyle,L=w===void 0?e9:w,D=r.nextBtnStyle,N=D===void 0?r9:D,H=e/2-5,X=a+10,mt=this.group.addShape("rect",{attrs:{x:n,y:X,width:t,height:e,stroke:c,fill:l},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:X,r:H}):this.playButton=new $8({group:this.group,x:t/2,y:X+H+5,r:H,isPlay:this.isPlay,style:g}),this.group.addShape("path",{attrs:ce({path:this.getPreMarkerPath(t/2-5*H,X+H+5,H*.5)},L),name:"preStepBtn"}),this.group.addShape("path",{attrs:ce({path:this.getPreMarkerPath(t/2-4.5*H,X+H+5,H*.5)},L),name:"preStepBtn"}),this.group.addShape("path",{attrs:ce({path:this.getNextMarkerPath(t/2+5*H,X+H+5,H*.5)},N),name:"nextStepBtn"}),this.group.addShape("path",{attrs:ce({path:this.getNextMarkerPath(t/2+4.5*H,X+H+5,H*.5)},N),name:"nextStepBtn"}),mt.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},i.prototype.renderSpeedBtn=function(){var r=this.controllerCfg,t=r.y,e=r.width,n=r.hiddleToggle,a=this.group.addGroup({name:"speed-group"});this.speedGroup=a;for(var o=1,s=[],l=9,u=0;u<5;u++){var c=t+15+u*(u+1)+o;a.addShape("rect",{attrs:{x:e-(n?Ka:Ks),y:c,width:15,height:2,fill:"#ccc"},speed:l,name:"speed-rect"}),this.speedAxisY.push(c),s.push(l),l=l-2,o++}for(var u=0;u<4;u++)a.addShape("rect",{attrs:{x:e-(n?Ka:Ks),y:this.speedAxisY[u]+2,width:15,height:2*u+1,fill:"#fff",opacity:.3},speed:s[u]-1,name:"speed-rect"});this.speedText=a.addShape("text",{attrs:{x:e-(n?Ka:Ks)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=a.addShape("path",{attrs:{path:this.getPath(e-(n?Ka:Ks),this.speedAxisY[4]),fill:"#ccc"}})},i.prototype.getPath=function(r,t){return[["M",r,t],["L",r-12,t-6],["L",r-12,t+6],["Z"]]},i.prototype.renderToggleTime=function(){var r=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:r-Ka,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",r-Ka+3,this.speedAxisY[1]+6],["L",r-Ka+7,this.speedAxisY[1]+10],["L",r-Ka+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:r-Ka+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},i.prototype.bindEvent=function(){var r=this,t=this.controllerCfg,e=t.width,n=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(a){r.speedPoint.attr("path",r.getPath(e-(n?Ka:Ks),a.y)),r.currentSpeed=a.target.get("speed"),r.speedText.attr("text",r.currentSpeed+".0X"),r.group.emit("timebarConfigChanged",{speed:r.currentSpeed,type:r.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(a){var o=a.target.get("isChecked");o?(r.checkedIcon.hide(),r.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),r.currentType="range"):(r.checkedIcon.show(),r.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),r.currentType="single"),a.target.set("isChecked",!o),r.group.emit("timebarConfigChanged",{type:r.currentType,speed:r.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),R1=i9,N1="timelinestart",G1="timelineend",$a="valueChange",Zu="timebarConfigChanged",Qu="playPauseBtn",Ku="nextStepBtn",$u="preStepBtn",a9={fill:"#416180",opacity:.05},o9={fill:"#416180",opacity:.15,radius:5},s9={fill:"#5B8FF9",opacity:.3,cursor:"move"},Th=2,l9={width:Th,height:24},u9={textBaseline:"middle",fill:"#000",opacity:.45},f9=function(){function i(r){var t=this;this.prevX=0,this.onMouseDown=function(br){return function(Xr){t.currentHandler=br;var zr=Xr.originalEvent;zr.stopPropagation(),zr.preventDefault(),t.prevX=(0,f.get)(zr,"touches.0.pageX",zr.pageX);var Kr=t.canvas.get("container");Kr.addEventListener("mousemove",t.onMouseMove),Kr.addEventListener("mouseup",t.onMouseUp),Kr.addEventListener("mouseleave",t.onMouseUp),Kr.addEventListener("touchmove",t.onMouseMove),Kr.addEventListener("touchend",t.onMouseUp),Kr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(br){br.stopPropagation(),br.preventDefault();var Xr=(0,f.get)(br,"touches.0.pageX",br.pageX),zr=Xr-t.prevX,Kr=t.adjustOffsetRange(zr/t.width);t.updateStartEnd(Kr),t.updateUI(),t.prevX=Xr},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var br=t.canvas.get("container");br&&(br.removeEventListener("mousemove",t.onMouseMove),br.removeEventListener("mouseup",t.onMouseUp),br.removeEventListener("mouseleave",t.onMouseUp),br.removeEventListener("touchmove",t.onMouseMove),br.removeEventListener("touchend",t.onMouseUp),br.removeEventListener("touchcancel",t.onMouseUp))};var e=r.x,n=e===void 0?0:e,a=r.y,o=a===void 0?0:a,s=r.width,l=s===void 0?100:s,u=r.height,c=r.padding,h=c===void 0?10:c,g=r.trendCfg,w=r.controllerCfg,L=w===void 0?{speed:1}:w,D=r.backgroundStyle,N=D===void 0?{}:D,H=r.foregroundStyle,X=H===void 0?{}:H,mt=r.handlerStyle,xt=mt===void 0?{}:mt,Pt=r.textStyle,Ht=Pt===void 0?{}:Pt,te=r.start,oe=te===void 0?0:te,qt=r.end,we=qt===void 0?1:qt,Ie=r.minText,Pe=Ie===void 0?"":Ie,Ke=r.maxText,ar=Ke===void 0?"":Ke,rr=r.group,Mr=r.graph,Ar=r.canvas,Pr=r.ticks,xr=r.type;this.graph=Mr,this.canvas=Ar,this.group=rr,this.timeBarType=xr,this.x=n,this.y=o,this.width=l,this.height=u,this.padding=h,this.ticks=Pr,this.trendCfg=g,this.controllerCfg=L,this.currentSpeed=L.speed,xr==="trend"?this.backgroundStyle=ce(ce({},a9),N):xr==="simple"&&(this.backgroundStyle=ce(ce({},o9),N)),this.foregroundStyle=ce(ce({},s9),X),this.handlerStyle=ce(ce({},l9),xt),this.textStyle=ce(ce({},u9),Ht),this.currentMode="range",this.start=oe,this.end=we,this.minText=Pe,this.maxText=ar,this.renderSlider()}return i.prototype.update=function(r){var t=r.x,e=r.y,n=r.width,a=r.height,o=r.minText,s=r.maxText,l=r.start,u=r.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(u,0)),(0,f.assign)(this,{x:t,y:e,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(r,t){this.minTextShape.attr("text",r),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var r=this,t=this,e=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,f.size)((0,f.get)(this.trendCfg,"data"))){var o=new j8(ce(ce({x:this.x,y:this.y,width:e,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:ce({x:0,y:0,width:e,height:n},this.backgroundStyle)});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:ce({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:ce({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=l.addShape("text",{attrs:ce({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:ce({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:ce({x:0,y:this.y,height:n},this.foregroundStyle)});var u=(0,f.get)(this.handlerStyle,"width",2),c=(0,f.get)(this.handlerStyle,"height",24),h=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new F1(ce({name:"minHandlerShape",group:h,type:a,x:this.x,y:this.y,width:u,height:c,cursor:"ew-resize"},this.handlerStyle));var g=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new F1(ce({name:"maxHandlerShape",group:g,type:a,x:this.x,y:this.y,width:u,height:c,cursor:"ew-resize"},this.handlerStyle));var w=this.ticks,L=e/(w.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(N){N.destroy()});var D=-Infinity;this.textList=w.map(function(N,H){r.tickPosList.push(r.x+H*L);var X=r.group.addShape("text",{attrs:{x:r.x+H*L,y:r.y+n+5,text:N,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),mt=r.group.addShape("line",{attrs:{x1:r.x+H*L,y1:r.y+n+2,x2:r.x+H*L,y2:r.y+n+6,lineWidth:1,stroke:"#ccc"}}),xt=X.getBBox();return xt.minX>D?(X.show(),mt.show(),D=xt.minX+xt.width+10):(X.hide(),mt.hide()),X}),this.controllerBtnGroup=new R1({group:this.group,x:this.x,y:this.y+n+25,width:e,height:40}),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(Qu+":click",function(){r.isPlay=!r.isPlay,r.currentHandler=r.maxHandlerShape,r.changePlayStatus()}),this.group.on(Ku+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(.01),r.updateUI()}),this.group.on($u+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(-.01),r.updateUI()}),this.group.on(Zu,function(n){var a=n.type,o=n.speed;r.currentSpeed=o,r.currentMode=a,a==="single"?(r.minHandlerShape.hide(),r.foregroundShape.hide(),r.minTextShape.hide()):a==="range"&&(r.minHandlerShape.show(),r.foregroundShape.show(),r.minTextShape.show())})},i.prototype.adjustTickIndex=function(r){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=r&&r<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-r)<Math.abs(r-this.tickPosList[t+1])?t:t+1},i.prototype.adjustOffsetRange=function(r){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,r))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,r))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,r))}default:return 0}},i.prototype.updateStartEnd=function(r){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=r,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=r,this.end+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;default:break}},i.prototype.updateUI=function(){var r=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,e=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var n=(0,f.get)(this.handlerStyle,"width",Th);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,e]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,f.each)(o,function(l,u){return r.minTextShape.attr(u,l)}),this.maxHandlerShape.setX(e-n/2),(0,f.each)(s,function(l,u){return r.maxTextShape.attr(u,l)}),this.currentMode==="range"?this.graph.emit($a,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit($a,{value:[this.end,this.end]})},i.prototype.dodgeText=function(r){var t,e,n=2,a=(0,f.get)(this.handlerStyle,"width",Th),o=this.minTextShape,s=this.maxTextShape,l=r[0],u=r[1],c=!1;l>u&&(t=[u,l],l=t[0],u=t[1],e=[s,o],o=e[0],s=e[1],c=!0);var h=o.getBBox(),g=s.getBBox(),w=null,L=null;return this.timeBarType==="trend"?(w=h.width>l-n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},L=g.width>this.width-u-n?{x:u-a/2-n,textAlign:"right"}:{x:u+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(w=h.width>l-n?{x:l+a/2+n,textAlign:"center"}:{x:l-a/2-n,textAlign:"center"},L=g.width>this.width-u-n?{x:u-a/2-n,textAlign:"center"}:{x:u+a/2+n,textAlign:"center"}),c?[L,w]:[w,L]},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r,e=t.ticks,n=t.width,a=r.currentSpeed,o=n/e.length,s=o/((10-a)*1e3/60),l=r.adjustOffsetRange(s/r.width);r.updateStartEnd(l),r.updateUI(),r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(N1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(G1,null))},i.prototype.destory=function(){this.graph.off($a);var r=this.group,t=r.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=r.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),r.off(Qu+":click"),r.off(Ku+":click"),r.off($u+":click"),r.off(Zu),r.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),c9=f9,qY={opacity:.5,fill:"#000"},tz={opacity:.5,fill:"#000",r:5},ez={fill:"#fff",fontSize:12},h9=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.container,s=r.text,l=r.padding,u=l===void 0?[4,4,4,4]:l,c=r.className,h=c===void 0?"g6-component-timebar-tooltip":c,g=r.backgroundColor,w=g===void 0?"#000":g,L=r.textColor,D=L===void 0?"#fff":L,N=r.opacity,H=N===void 0?.8:N,X=r.fontSize,mt=X===void 0?12:X;this.container=o,this.className=h,this.backgroundColor=w,this.textColor=D,this.x=e,this.y=a,this.text=s,this.padding=u,this.opacity=H,this.fontSize=mt,this.render()}return i.prototype.render=function(){var r=this,t=r.className,e=r.x,n=r.y,a=r.backgroundColor,o=r.textColor,s=r.text,l=r.padding,u=r.opacity,c=r.fontSize,h=r.container,g=(0,Si.Z)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+u+'"></div>');(0,f.isString)(h)&&(h=document.getElementById(h)),h.appendChild(g),r.parentHeight=h.offsetHeight,r.parentWidth=h.offsetWidth,(0,Kn.Z)(g,{visibility:"hidden",top:0,left:0});var w=(0,Si.Z)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+c+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+o+"; padding: "+l[0]+"px "+l[1]+"px "+l[2]+"px "+l[3]+"px'></div>");w.innerHTML=s,g.appendChild(w),r.backgroundDOM=w;var L=(0,Si.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");g.appendChild(L),r.arrowDOM=L,r.container=g},i.prototype.show=function(r){var t=this,e=r.text,n=r.x,a=r.y,o=r.clientX,s=r.clientY;t.backgroundDOM.innerHTML=e;var l=t.backgroundDOM.offsetWidth,u=t.backgroundDOM.offsetHeight,c=t.arrowDOM.offsetWidth,h=t.arrowDOM.offsetHeight;(0,Kn.Z)(t.container,{top:-u-h+"px",left:n+"px",visibility:"visible"}),(0,Kn.Z)(t.backgroundDOM,{marginLeft:-l/2+"px"}),(0,Kn.Z)(t.arrowDOM,{marginLeft:-c/2+"px",top:u+"px"});var g=n-l/2,w=n+l/2;g<0?(0,Kn.Z)(t.backgroundDOM,{marginLeft:-l/2-g+"px"}):w>t.parentWidth&&(0,Kn.Z)(t.backgroundDOM,{marginLeft:-l/2-w+t.parentWidth+12+"px"})},i.prototype.hide=function(){(0,Kn.Z)(this.container,{top:0,left:0,visibility:"hidden"})},i}(),v9=h9,d9={fill:"#5B8FF9"},p9={fill:"#e6e8e9"},g9=function(){function i(r){this.frameCount=0;var t=r.graph,e=r.canvas,n=r.group,a=r.width,o=r.height,s=r.padding,l=r.data,u=r.start,c=r.end,h=r.x,g=h===void 0?0:h,w=r.y,L=w===void 0?0:w,D=r.tickLabelFormatter,N=r.selectedTickStyle,H=N===void 0?d9:N,X=r.unselectedTickStyle,mt=X===void 0?p9:X,xt=r.tooltipBackgroundColor,Pt=r.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=e,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=u,this.end=c,this.tickLabelFormatter=D,this.selectedTickStyle=H,this.unselectedTickStyle=mt,this.x=g,this.y=L,this.tooltipBackgroundColor=xt,this.tooltipFomatter=Pt,this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var r=this,t=r.width,e=r.height,n=r.padding,a=r.data,o=r.start,s=r.end,l=r.tickLabelFormatter,u=r.selectedTickStyle,c=r.unselectedTickStyle,h=t-2*n,g=10,w=4,L=3*n+w+g,D=e-L-2*n,N=2,H=a.length,X=(h-N*(H-1))/H;this.tickWidth=X;var mt=this.sliceGroup,xt=[],Pt=[],Ht=Math.round(H*o),te=Math.round(H*s);this.startTickRectId=Ht,this.endTickRectId=te,a.forEach(function(qt,we){var Ie=we>=Ht&&we<=te,Pe=Ie?u:c,Ke=mt.addShape("rect",{attrs:ce({x:n+we*(X+N),y:n,width:X,height:D},Pe),draggable:!0,name:"tick-rect-"+we}),ar=mt.addShape("rect",{attrs:{x:n+we*X+N*(2*we-1)/2,y:n,width:we===0||we===H-1?X+N/2:X+N,height:D,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+we});ar.toFront();var rr=Ke.getBBox(),Mr=(rr.minX+rr.maxX)/2;xt.push({rect:Ke,pickRect:ar,value:qt.date,x:Mr,y:rr.minY});var Ar;if(l?(Ar=l(qt),!(0,f.isString)(Ar)&&Ar&&(Ar=qt.date)):we%Math.round(H/10)==0&&(Ar=qt.date),Ar){Pt.push(Ar);var Pr=rr.maxY+n*2;mt.addShape("line",{attrs:{stroke:"#BFBFBF",x1:Mr,y1:Pr,x2:Mr,y2:Pr+w}});var xr=Pr+w+n,br=mt.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:Mr,y:xr,textAlign:"center",text:Ar,textBaseline:"top",fontSize:10},capture:!1}),Xr=br.getBBox();Xr.maxX>t?br.attr("textAlign","right"):Xr.minX<0&&br.attr("textAlign","left")}}),this.tickRects=xt;var oe=this.group;this.currentSpeed=1,this.controllerBtnGroup=new R1({group:oe,x:this.x,y:this.y+e+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},i.prototype.initEvent=function(){var r=this,t=this.sliceGroup;t.on("click",function(c){var h=c.target;if(!(h.get("type")!=="rect"||!h.get("name"))){var g=parseInt(h.get("name").split("-")[2],10);if(!isNaN(g)){var w=r.tickRects,L=r.unselectedTickStyle;w.forEach(function(X){X.rect.attr(L)});var D=r.selectedTickStyle;w[g].rect.attr(D),r.startTickRectId=g,r.endTickRectId=g;var N=w.length,H=g/N;r.graph.emit($a,{value:[H,H]})}}}),t.on("dragstart",function(c){var h=r.tickRects,g=r.unselectedTickStyle;h.forEach(function(X){X.rect.attr(g)});var w=c.target,L=parseInt(w.get("name").split("-")[2],10),D=r.selectedTickStyle;h[L].rect.attr(D),r.startTickRectId=L;var N=h.length,H=L/N;r.graph.emit($a,{value:[H,H]}),r.dragging=!0}),t.on("dragover",function(c){if(!!r.dragging&&c.target.get("type")==="rect"){for(var h=parseInt(c.target.get("name").split("-")[2],10),g=r.startTickRectId,w=r.tickRects,L=r.selectedTickStyle,D=r.unselectedTickStyle,N=0;N<w.length;N++){var H=N>=g&&N<=h?L:D;w[N].rect.attr(H)}var X=w.length;r.endTickRectId=h;var mt=g/X,xt=h/X;r.graph.emit($a,{value:[mt,xt]})}}),t.on("drop",function(c){if(!!r.dragging&&(r.dragging=!1,c.target.get("type")==="rect")){var h=r.startTickRectId,g=parseInt(c.target.get("name").split("-")[2],10);if(!(g<h)){var w=r.selectedTickStyle,L=r.tickRects;L[g].rect.attr(w),r.endTickRectId=g;var D=L.length,N=h/D,H=g/D;r.graph.emit($a,{value:[N,H]})}}});var e=this,n=e.tooltipBackgroundColor,a=e.tooltipFomatter,o=e.canvas,s=new v9({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(c){var h=c.pickRect;h.on("mouseenter",function(g){var w=g.target;if(w.get("type")==="rect"){var L=parseInt(w.get("name").split("-")[2],10),D=o.getClientByPoint(l[L].x,l[L].y);s.show({x:l[L].x,y:l[L].y,clientX:D.x,clientY:D.y,text:a?a(l[L].value):l[L].value})}}),h.on("mouseleave",function(g){s.hide()})});var u=this.group;u.on(Qu+":click",function(){r.isPlay=!r.isPlay,r.changePlayStatus()}),u.on(Ku+":click",function(){r.updateStartEnd(1)}),u.on($u+":click",function(){r.updateStartEnd(-1)}),u.on(Zu,function(c){var h=c.type,g=c.speed;r.currentSpeed=g})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(N1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(G1,null))},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.currentSpeed;r.frameCount%(60/t)==0&&(r.frameCount=0,r.updateStartEnd(1)),r.frameCount++,r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.updateStartEnd=function(r){var t=this,e=this.tickRects,n=e.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(r>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)e[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(o);var u=t.startTickRectId/n,c=t.endTickRectId/n;this.graph.emit($a,{value:[u,c]})}},i.prototype.destory=function(){this.graph.off($a);var r=this.sliceGroup;r.off("click"),r.off("dragstart"),r.off("dragover"),r.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,r.off(Qu+":click"),r.off(Ku+":click"),r.off($u+":click"),r.off(Zu),this.sliceGroup.destroy()},i}(),y9=g9,m9=8,x9=26,b9=function(i){ai(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},r.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,n=e.width,a=e.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),u;s?u=s:(u=(0,Si.Z)("<div class='"+o+"'></div>"),(0,Kn.Z)(u,{position:"relative"})),l.appendChild(u),this.set("timeBarContainer",u);var c,h=t.get("renderer");h==="SVG"?c=new zs.Z({container:u,width:n,height:a}):c=new zo.Z({container:u,width:n,height:a}),this.set("canvas",c)},r.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent()},r.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,n=t.x,a=t.y,o=t.padding,s=t.type,l=t.trend,u=t.slider,c=t.controllerCfg,h=l.data,g=ea(l,["data"]),w=e-2*o,L=s==="trend"?x9:m9,D=this.get("graph"),N=this.get("timeBarGroup"),H=this.get("canvas"),X=null;if(s==="trend"||s==="simple")X=new c9(ce(ce({graph:D,canvas:H,group:N,type:s,x:n+o,y:s==="trend"?a+o:a+o+15,width:w,height:L,padding:o,trendCfg:ce(ce({},g),{data:h.map(function(xt){return xt.value})})},u),{ticks:h.map(function(xt){return xt.date}),handlerStyle:ce(ce({},u.handlerStyle),{height:u.height||L}),controllerCfg:c}));else if(s==="tick"){var mt=this._cfgs.tick;X=new y9(ce({graph:D,canvas:H,group:N,x:n+o,y:a+o},mt))}this.set("timebar",X)},r.prototype.filterData=function(t){var e=t.value,n=null,a=this._cfgs.type;if(a==="trend"||a==="simple"?n=this._cfgs.trend.data:a==="tick"&&(n=this._cfgs.tick.data),!n||n.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var o=this.get("rangeChange"),s=this.get("graph"),l=Math.round(n.length*e[0]),u=Math.round(n.length*e[1]);u=u>=n.length?n.length-1:u;var c=n[l].date,h=n[u].date;if(a!=="tick"){var g=this.get("timebar");g.setText(c,h)}if(o)o(s,c,h);else{var w=s.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=w);var L=this.cacheGraphData.nodes.filter(function(H){return H.date>=c&&H.date<=h}),D=L.map(function(H){return H.id}),N=this.cacheGraphData.edges.filter(function(H){return D.includes(H.source)&&D.includes(H.target)});s.changeData({nodes:L,edges:N})}},r.prototype.initEvent=function(){var t=this,e=0,n=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(e=this._cfgs.slider.start,n=this._cfgs.slider.end):a==="tick"&&(e=this._cfgs.tick.start,n=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(){t.filterData({value:[e,n]})}),o.on($a,function(s){t.filterData(s)})},r.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),i.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(e)}},r}(Za),w9=b9;function S9(i,r){var t,e;if(i.naturalWidth)t=i.naturalWidth,e=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){r==null||r(n.width,n.height)}}return[t,e]}var C9=function(i){ai(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var a=this.get("container"),o=(0,Si.Z)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),s=0,l=0,u=!1,c=0,h=0,g=0,w=0,L=0,D=0;a.addEventListener("mousedown",function(N){if(e.refresh=!1,N.target===o){var H=o.style;g=parseInt(H.width,10),w=parseInt(H.height,10);var X=t.get("width"),mt=t.get("height");g>X||w>mt||(D=n.getZoom(),L=t.get("ratio"),u=!0,s=N.clientX,l=N.clientY)}},!1),a.addEventListener("mousemove",function(N){if(!(!u||(0,Gi.default)(N.clientX)||(0,Gi.default)(N.clientY))){var H=t.get("width"),X=t.get("height"),mt=o.style;c=parseInt(mt.left,10),h=parseInt(mt.top,10),g=parseInt(mt.width,10),w=parseInt(mt.height,10);var xt=s-N.clientX,Pt=l-N.clientY;c-xt<0?xt=c:c-xt+g>=H&&(xt=0),h-Pt<0?Pt=h:h-Pt+w>=X&&(Pt=0),c-=xt,h-=Pt,(0,Kn.Z)(o,{left:c+"px",top:h+"px"}),n.translate(xt*D/L,Pt*D/L),s=N.clientX,l=N.clientY}},!1),a.addEventListener("mouseleave",function(){u=!1,e.refresh=!0},!1),a.addEventListener("mouseup",function(){u=!1,e.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,u=a.getGroup(),c=u.getCanvasBBox(),h=[(c.minX+c.maxX)/2,(c.minY+c.maxY)/2],g=[c.maxX-c.minX,c.maxY-c.minY],w={centerX:h[0],centerY:h[1],width:0,height:0,minX:0,minY:0};c[0]/c[1]>l?(w.width=g[0],w.height=w.width/l):(w.height=g[1],w.width=w.height*l),w.minX=h[0]-w.width/2,w.minY=h[1]-w.height/2;var L=u.getMatrix();L||(L=[1,0,0,0,1,0,0,0,1]);var D=lo.invert([],L),N=Ns({x:w.minX,y:w.minY},D),H=a.getCanvasByPoint(N.x,N.y),X=this.get("viewport");X||this.initViewport();var mt=o/w.width,xt=mt*e,Pt=mt*n,Ht=e*-H.x/w.width,te=n*-H.y/w.height,oe=Ht+xt,qt=te+Pt;Ht<0&&(xt+=Ht,Ht=0),oe>e&&(xt=xt-(oe-e)),te<0&&(Pt+=te,te=0),qt>n&&(Pt=Pt-(qt-n)),this.set("ratio",t);var we=Ht+"px",Ie=te+"px";(0,Kn.Z)(X,{left:we,top:Ie,width:xt+"px",height:Pt+"px"})}},r.prototype.init=function(){this.initContainer()},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=e.get("width"),a=e.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),u=t.get("width"),c=t.get("height");!u&&!c&&(u=200),u?(c=o*u,t.set("height",c)):(u=1/o*c,t.set("width",u));var h=(0,Si.Z)("<div class='"+s+"' style='width: "+u+"px; height: "+c+"px; overflow: hidden; position: relative;'></div>");(0,Hn.default)(l)&&(l=document.getElementById(l)),l?l.appendChild(h):e.get("container").appendChild(h),t.set("container",h);var g=(0,Si.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');h.appendChild(g);var w=(0,Si.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');g.appendChild(w),t.set("containerDOM",g),t.set("containerSpan",w);var L=(0,Si.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",L),t.updateImgSize(),w.appendChild(L),t.updateCanvas()},r.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),n=t.get("width"),a=t.get("height");e.onload=function(){var o=S9(e);o[0]>o[1]?e.width=n:e.height=a}},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=e.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateGraphImg=function(t){var e=this,n=e.get("imgDOM");n.remove(),e.set("graphImg",t);var a=(0,Si.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",a),a.src=t,e.updateImgSize();var o=e.get("containerSpan");o.appendChild(a),e.updateCanvas()},r.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},r}(Za),M9=C9,Y1=.05,z1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},E9=function(i){ai(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,di.d9)(z1),showLabel:"edge",scaleRBy:"wheel"}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},r.prototype.init=function(){var t=this,e=t.get("showLabel"),n=e==="node"||e==="both",a=e==="edge"||e==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},r.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");(!n||n.destroyed)&&(e.filter(t),n=e.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){e.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){e.scaleRByWheel(a)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-Y1:a=1/(1-Y1);var u=e.get("maxR"),c=e.get("minR"),h=e.get("r");(h>(u||n.get("height"))&&a>1||h<(c||n.get("height")*.05)&&a<1)&&(a=1),h*=a,e.set("r",h),e.filter(t)}},r.prototype.filter=function(t){var e=this,n=e.get("graph"),a=n.getNodes(),o={},s=e.get("r"),l=e.get("type"),u={x:t.x,y:t.y};e.updateDelegate(u,s);var c=e.get("shouldShow"),h=e.get("vShapes");h&&h.forEach(function(H){H.remove(),H.destroy()}),h=[],a.forEach(function(H){var X=H.getModel(),mt=X.x,xt=X.y;Gs({x:mt,y:xt},u)<s&&(o[X.id]=H)});var g=n.getEdges(),w=[];g.forEach(function(H){var X=H.getModel(),mt=X.source,xt=X.target;c(X)&&(l==="only-source"||l==="one"?o[mt]&&!o[xt]&&w.push(H):l==="only-target"||l==="one"?o[xt]&&!o[mt]&&w.push(H):l==="both"&&o[mt]&&o[xt]&&w.push(H))});var L=e.get("showNodeLabel"),D=e.get("showEdgelabel"),N=n.get("group");w.forEach(function(H){var X=H.get("group").get("children");X.forEach(function(mt){var xt=mt.get("type"),Pt=N.addShape(xt,{attrs:mt.attr()});h.push(Pt),L&&xt==="text"&&Pt.set("visible",!0)})}),Object.keys(o).forEach(function(H){var X=o[H],mt=X.get("group").clone();if(N.add(mt),h.push(mt),D)for(var xt=mt.get("children"),Pt=0;Pt<xt.length;Pt++){var Ht=xt[Pt];Ht.get("type")==="text"&&Ht.set("visible",!0)}}),e.set("vShapes",h)},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,u=t.showLabel,c=t.shouldShow;if(isNaN(t.r)||e.set("r",n),isNaN(s)||e.set("maxR",s),isNaN(o)||e.set("minR",o),(a==="mousemove"||a==="click")&&e.set("trigger",a),l==="wheel"||l==="unset"){e.set("scaleRBy",l),e.get("delegate").remove(),e.get("delegate").destroy();var h=e.get("dPercentText");h&&(h.remove(),h.destroy())}(u==="node"||u==="both")&&e.set("showNodeLabel",!0),(u==="edge"||u==="both")&&e.set("showEdgeLabel",!0),c&&e.set("shouldShow",c)},r.prototype.updateDelegate=function(t,e){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||z1;o=s.addShape("circle",{attrs:ce({r:e,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){n.scaleRByWheel(u)})}else o.attr({x:t.x,y:t.y,r:e});n.set("delegate",o)},r.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(a){a.remove(),a.destroy()}),e=[],t.set("vShapes",e);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Za),A9=E9,ia={Menu:b8,Grid:y8,Minimap:E8,Bundling:P8,ToolBar:L8,Tooltip:D8,Fisheye:I8,TimeBar:w9,ImageMinimap:M9,EdgeFilterLens:A9};function T9(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next;return n[o.get("id")]?!1:(n[o.get("id")]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}function V1(i,r,t,e){e.enter({current:r,previous:t}),i.getNeighbors(r,"target").forEach(function(n){e.allowTraversal({previous:t,current:r,next:n})&&V1(i,n,r,e)}),e.leave({current:r,previous:t})}function X1(i,r,t){var e=null,n=i.findById(r);V1(i,n,e,T9(t))}var P9=function(){function i(){this.linkedList=new c1}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(r){this.linkedList.append(r)},i.prototype.dequeue=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toString=function(r){return this.linkedList.toString(r)},i}(),O9=P9;function I9(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next,s=o.get("id");return n[s]?!1:(n[s]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}var k9=function(r,t,e){var n=I9(e),a=new O9,o=r.findById(t);a.enqueue(o);for(var s=null,l=function(){var c=a.dequeue();n.enter({current:c,previous:s}),r.getNeighbors(c,"target").forEach(function(h){n.allowTraversal({previous:s,current:c,next:h})&&a.enqueue(h)}),n.leave({current:c,previous:s}),s=c};!a.isEmpty();)l()},L9=k9;function _9(i){for(var r=[],t={},e=[],n=function l(u){e.push(u),t[u.get("id")]=!0;for(var c=u.getNeighbors(),h=0;h<c.length;++h){var g=c[h];t[g.get("id")]||l(g)}},a=0;a<i.length;a++){var o=i[a];if(!t[o.get("id")]){n(o);for(var s=[];e.length>0;)s.push(e.pop());r.push(s)}}return r}function H1(i){for(var r=[],t={},e={},n={},a=[],o=0,s=function h(g){e[g.get("id")]=o,n[g.get("id")]=o,o+=1,r.push(g),t[g.get("id")]=!0;for(var w=g.getNeighbors("target").filter(function(X){return i.indexOf(X)>-1}),L=0;L<w.length;L++){var D=w[L];!e[D.get("id")]&&e[D.get("id")]!==0?(h(D),n[g.get("id")]=Math.min(n[g.get("id")],n[D.get("id")])):t[D.get("id")]&&(n[g.get("id")]=Math.min(n[g.get("id")],e[D.get("id")]))}if(n[g.get("id")]===e[g.get("id")]){for(var N=[];r.length>0;){var H=r.pop();if(t[H.get("id")]=!1,N.push(H),H===g)break}N.length>0&&a.push(N)}},l=0,u=i;l<u.length;l++){var c=u[l];!e[c.get("id")]&&e[c.get("id")]!==0&&s(c)}return a}function W1(i,r){var t=r===void 0?i.get("directed"):r,e=i.getNodes();return t?H1(e):_9(e)}var D9=function(r){var t=null,e={},n={},a={},o={};r.getNodes().forEach(function(u){n[u.getID()]=u});for(var s={enter:function(c){var h=c.current,g=c.previous;if(a[h.getID()]){t={};for(var w=h,L=g;L.getID()!==h.getID();)t[w.getID()]=L,w=L,L=e[L.getID()];t[w.getID()]=L}else a[h.getID()]=h,delete n[h.getID()],e[h.getID()]=g},leave:function(c){var h=c.current;o[h.getID()]=h,delete a[h.getID()]},allowTraversal:function(c){var h=c.next;return t?!1:!o[h.getID()]}};Object.keys(n).length;){var l=Object.keys(n)[0];X1(r,l,s)}return t},j1=function(r,t,e){var n,a,o;e===void 0&&(e=!0);for(var s=[],l=W1(r,!1),u=0,c=l;u<c.length;u++){var h=c[u];if(!!h.length)for(var g=h[0],w=g.get("id"),L=[g],D=(n={},n[w]=g,n),N=(a={},a[w]=new Set,a);L.length>0;)for(var H=L.pop(),X=H.get("id"),mt=H.getNeighbors(),xt=0;xt<mt.length;xt+=1){var Pt=mt[xt],Ht=Pt.get("id");if(Ht===X)s.push((o={},o[Pt.getID()]=H,o));else if(!(Ht in N))D[Ht]=H,L.push(Pt),N[Ht]=new Set([H]);else if(!N[X].has(Pt)){for(var te=!0,oe=[Pt,H],qt=D[X];N[Ht].size&&!N[Ht].has(qt)&&(oe.push(qt),qt!==D[qt.getID()]);)qt=D[qt.getID()];if(oe.push(qt),t&&e?(te=!1,oe.findIndex(function(Pe){return t.indexOf(Pe.get("id"))>-1})>-1&&(te=!0)):t&&!e&&oe.findIndex(function(Pe){return t.indexOf(Pe.get("id"))>-1})>-1&&(te=!1),te){for(var we={},Ie=1;Ie<oe.length;Ie+=1)we[oe[Ie-1].getID()]=oe[Ie];oe.length&&(we[oe[oe.length-1].getID()]=oe[0]),s.push(we)}N[Ht].add(H)}}}return s},U1=function(r,t,e){e===void 0&&(e=!0);for(var n=[],a=new Set,o=[],s=[],l={},u={},c=function(we){for(var Ie=[we];Ie.length>0;){var Pe=Ie.pop();a.has(Pe)&&(a.delete(Pe),o[Pe.get("id")].forEach(function(Ke){Ie.push(Ke)}),o[Pe.get("id")].clear())}},h=function qt(we,Ie,Pe){var Ke=!1;if(t&&e===!1&&t.indexOf(we.get("id"))>-1)return Ke;n.push(we),a.add(we);for(var ar=Pe[we.getID()],rr=0;rr<ar.length;rr+=1){var Mr=l[ar[rr]];if(Mr===Ie){for(var Ar={},Pr=1;Pr<n.length;Pr+=1)Ar[n[Pr-1].getID()]=n[Pr];n.length&&(Ar[n[n.length-1].getID()]=n[0]),s.push(Ar),Ke=!0}else a.has(Mr)||qt(Mr,Ie,Pe)&&(Ke=!0)}if(Ke)c(we);else for(var rr=0;rr<ar.length;rr+=1){var Mr=l[ar[rr]];o[Mr.get("id")].has(we)||o[Mr.get("id")].add(we)}return n.pop(),Ke},g=r.getNodes(),w=0;w<g.length;w+=1){var L=g[w],D=L.getID();u[D]=w,l[w]=L}if(t&&e)for(var w=0;w<t.length;w++){var D=t[w];u[g[w].getID()]=u[D],u[D]=0,l[0]=r.findById(D),l[u[g[w].getID()]]=g[w]}for(var N=function(we){for(var Ie,Pe,Ke=Infinity,ar=0;ar<we.length;ar+=1)for(var rr=we[ar],Mr=0;Mr<rr.length;Mr++){var Ar=u[rr[Mr].getID()];Ar<Ke&&(Ke=Ar,Pe=ar)}for(var Pr=we[Pe],xr=[],ar=0;ar<Pr.length;ar+=1){var br=Pr[ar];xr[br.getID()]=[];for(var Xr=0,zr=br.getNeighbors("target").filter(function(Hr){return Pr.indexOf(Hr)>-1});Xr<zr.length;Xr++){var Kr=zr[Xr];Kr===br&&!(e===!1&&t.indexOf(br.getId())>-1)?s.push((Ie={},Ie[br.getID()]=br,Ie)):xr[br.getID()].push(u[Kr.getID()])}}return{component:Pr,adjList:xr,minIdx:Ke}},H=0;H<g.length;){var X=g.filter(function(qt){return u[qt.getID()]>=H}),mt=H1(X).filter(function(qt){return qt.length>1});if(mt.length===0)break;var xt=N(mt),Pt=xt.minIdx,Ht=xt.adjList,te=xt.component;if(te.length>1){te.forEach(function(qt){o[qt.get("id")]=new Set});var oe=l[Pt];if(t&&e&&t.indexOf(oe.get("id"))===-1)return s;h(oe,oe,Ht),H=Pt+1}else break}return s},B9=function(r,t,e,n){return n===void 0&&(n=!0),t===void 0&&(t=r.get("directed")),t?U1(r,e,n):j1(r,e,n)},F9=D9,R9=function(r,t,e,n){var a=r.getNodes(),o=[],s={},l={},u={};a.forEach(function(N,H){var X=N.getID();o.push(X),l[X]=Infinity,X===t&&(l[X]=0)});for(var c=a.length,h=function(H){var X=N9(l,a,s),mt=X.get("id");if(s[mt]=!0,l[mt]===Infinity)return"continue";var xt=[];e?xt=X.getOutEdges():xt=X.getEdges(),xt.forEach(function(Pt){var Ht=Pt.getTarget().getID(),te=Pt.getSource().getID(),oe=Ht===mt?te:Ht,qt=n&&Pt.getModel()[n]?Pt.getModel()[n]:1;l[oe]>l[X.get("id")]+qt&&(l[oe]=l[X.get("id")]+qt,u[oe]=X.get("id"))})},g=0;g<c;g++)h(g);var w={};for(var L in l){w[L]=[L];for(var D=u[L];D!==void 0;)w[L].unshift(D),D=u[D]}return{length:l,path:w}};function N9(i,r,t){for(var e=Infinity,n,a=0;a<r.length;a++){var o=r[a].get("id");!t[o]&&i[o]<=e&&(e=i[o],n=r[a])}return n}var G9=R9,Y9=function(r,t,e,n,a){(0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e));var o=G9(r,t.get("id"),n,a),s=o.length,l=o.path;return{length:s[e.get("id")],path:l[e.get("id")]}},z9=function(r,t,e,n){var a;if((0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e)),n===void 0&&(n=r.get("directed")),t===e)return[[t.get("id")]];var o=[t],s=(a={},a[t.get("id")]=!0,a),l=[],u=[],c=n?t.getNeighbors("target"):t.getNeighbors();for(l.push(c);o.length>0&&l.length>0;){var h=l[l.length-1];if(h.length){var g=h.shift();g&&(o.push(g),s[g.get("id")]=!0,c=n?g.getNeighbors("target"):g.getNeighbors(),l.push(c.filter(function(D){return!s[D.get("id")]})))}else{var w=o.pop();s[w.get("id")]=!1,l.pop();continue}if(o[o.length-1]===e){var L=o.map(function(N){return N.get("id")});u.push(L);var w=o.pop();s[w.get("id")]=!1,l.pop()}}return u},V9=function(){function i(r){this.count=r.length,this.parent={};for(var t=0,e=r;t<e.length;t++){var n=e[t];this.parent[n]=n}}return i.prototype.find=function(r){for(;this.parent[r]!==r;)r=this.parent[r];return r},i.prototype.union=function(r,t){var e=this.find(r),n=this.find(t);e!==n&&(e<n?(this.parent[t]!==t&&this.union(this.parent[t],r),this.parent[t]=this.parent[r]):(this.parent[r]!==r&&this.union(this.parent[r],t),this.parent[r]=this.parent[t]))},i.prototype.connected=function(r,t){return this.find(r)===this.find(t)},i}(),X9=V9,H9=function(r,t){return r-t},W9=function(){function i(r){r===void 0&&(r=H9),this.compareFn=r,this.list=[]}return i.prototype.getLeft=function(r){return 2*r+1},i.prototype.getRight=function(r){return 2*r+2},i.prototype.getParent=function(r){return r===0?null:Math.floor((r-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var r=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),r},i.prototype.insert=function(r){if(r!==null){this.list.push(r);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(r){for(var t=this.getParent(r);r&&r>0&&this.compareFn(this.list[t],this.list[r])>0;){var e=this.list[t];this.list[t]=this.list[r],this.list[r]=e,r=t,t=this.getParent(r)}},i.prototype.moveDown=function(r){var t,e=r,n=this.getLeft(r),a=this.getRight(r),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[e],this.list[n])>0?e=n:a!==null&&a<o&&this.compareFn(this.list[e],this.list[a])>0&&(e=a),r!==e&&(t=[this.list[e],this.list[r]],this.list[r]=t[0],this.list[e]=t[1],this.moveDown(e))},i}(),j9=W9,U9=function(r,t){var e=[],n=r.getNodes();if(n.length===0)return e;var a=n[0],o=new Set;o.add(a);var s=function(w,L){return t?w.getModel()[t]-L.getModel()[t]:0},l=new j9(s);for(a.getEdges().forEach(function(g){l.insert(g)});!l.isEmpty();){var u=l.delMin(),c=u.getSource(),h=u.getTarget();o.has(c)&&o.has(h)||(e.push(u),o.has(c)||(o.add(c),c.getEdges().forEach(function(g){l.insert(g)})),o.has(h)||(o.add(h),h.getEdges().forEach(function(g){l.insert(g)})))}return e},Z1=function(r,t){var e=[];if(r.getNodes().length===0)return e;var n=r.getEdges().map(function(u){return u});t&&n.sort(function(u,c){return u.getModel()[t]-c.getModel()[t]});for(var a=new X9(r.getNodes().map(function(u){return u.get("id")}));n.length>0;){var o=n.shift(),s=o.getSource().get("id"),l=o.getTarget().get("id");a.connected(s,l)||(e.push(o),a.union(s,l))}return e};function Z9(i,r,t){var e={prim:U9,kruskal:Z1};return t?e[t](i,r):Z1(i,r)}var Q9=function(r,t,e){typeof t!="number"&&(t=1e-6),typeof e!="number"&&(e=.85);for(var n=1,a=0,o=1e3,s=r.getNodes(),l=s.length,u,c={},h={},g=0;g<l;++g){var w=s[g],L=w.get("id");c[L]=1/l,h[L]=1/l}for(;o>0&&n>t;){a=0;for(var g=0;g<l;++g){var w=s[g],L=w.get("id");if(u=0,r.getNodeDegree(w,"in")===0)c[L]=0;else{for(var D=w.getNeighbors("source"),N=0;N<D.length;++N){var H=D[N],X=r.getNodeDegree(H,"out");X>0&&(u+=h[H.get("id")]/X)}c[L]=e*u,a+=c[L]}}a=(1-a)/l,n=0;for(var g=0;g<l;++g){var w=s[g],L=w.get("id");u=c[L]+a,n+=Math.abs(u-h[L]),h[L]=u}o-=1}return h},K9=Q9,rz=ds.registerNode,nz=ds.registerEdge,iz=ds.registerCombo,az=px.registerBehavior,oz=Zs.registerLayout,sz=ia.Minimap,lz=ia.Grid,uz=ia.Bundling,fz=ia.Menu,$9=ia.Fisheye,cz=ia.ToolBar,hz=ia.Tooltip,J9=ia.TimeBar,q9=ia.ImageMinimap,tG=ia.EdgeFilterLens,Qi={version:PR.i8,Graph:m1,TreeGraph:F4,Util:d8,registerNode:ds.registerNode,registerEdge:ds.registerEdge,registerCombo:ds.registerCombo,registerBehavior:px.registerBehavior,registerLayout:Zs.registerLayout,Layout:Zs,Global:yr,Minimap:ia.Minimap,Grid:ia.Grid,Bundling:ia.Bundling,Menu:ia.Menu,ToolBar:ia.ToolBar,Tooltip:ia.Tooltip,TimeBar:J9,Fisheye:$9,ImageMinimap:q9,EdgeFilterLens:tG,Algorithm:wt,Arrow:f8,Marker:c8};function Q1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function Ja(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Q1(Object(t),!0).forEach(function(e){eG(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Q1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function eG(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}Qi.registerNode("card-node",{draw:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a=Object.assign({radius:2,fill:"#fff"},a),e=a.stroke||"#5B8FF9";var o=a.radius||0,s=t.addShape("rect",{attrs:Ja({x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1],stroke:e},a),name:"main-box",draggable:!0}),l=r.title||r.label,u,c=r&&r.labelCfg&&r.labelCfg.style?r.labelCfg.style:{};if(l){var h=Object.assign({fill:"#fff"},c);u=t.addShape("text",{attrs:Ja(Ja({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+2,text:l},h),{},{fill:"#fff"}),name:"title"})}var g=u?u.getBBox():{height:n[1]/2},w=t.addShape("rect",{attrs:{x:-n[0]/2,y:-n[1]/2,width:n[0],height:g.height+4,fill:e,radius:[o,o,0,0]},name:"title-rect",draggable:!0});u&&u.toFront();var L;r.children&&(L=t.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:r.collapsed?Qi.Marker.expand:Qi.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var D=r&&r.description?r.description:void 0,N=w.getBBox(),H;if(D&&(H=t.addShape("text",{attrs:Ja({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+N.height+8,text:D},c),name:"description"})),H){var X,mt=H.getBBox(),xt=N.height+16+mt.height,Pt=n[0]>mt.width+16?n[0]:mt.width+16;s.attr({width:Pt,height:xt}),w==null||w.attr("width",Pt),(X=L)===null||X===void 0||X.attr({x:Pt-n[0]/2,y:xt/2-n[1]/2})}return s},update:void 0},"single-node"),Qi.registerNode("round-rect",{drawShape:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a.stroke&&(e=a.stroke);var o=a&&a.fill?a.fill:"#fff";a=Object.assign({width:n[0],height:n[1],radius:n[1]/2,fill:o,lineWidth:1.2,stroke:e},a);var s=t.addShape("rect",{attrs:Ja({x:-n[0]/2,y:-n[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),s},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(r,t){var e=t.getContainer(),n=e.get("children"),a=n[0],o=n[1],s=n[2],l=r.style&&r.style.stroke?r.style.stroke:"#5B8FF9";l&&(a.attr("stroke",l),o.attr("fill",l),s.attr("fill",l))}},"single-node");var rG=function(r){Qi.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,n){var a=this.getShapeStyle(e),o=e.labelCfg,s=o===void 0?{}:o,l=n.addShape("rect",{attrs:Ja(Ja({},a),{},{x:0,y:0})}),u={fill:"#e6fffb"},c="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(u=Object.assign({},u,e.leftIcon.style),c=e.leftIcon.img),n.addShape("rect",{attrs:Ja({x:1,y:1,width:38,height:a.height-2},u)}),n.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:c},name:"image-shape"}),r.enableEdit&&(n.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Qi.Marker.expand},name:"add-item"}),n.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Qi.Marker.collapse},name:"remove-item"})),e.label&&n.addShape("text",{attrs:Ja(Ja({},s.style),{},{text:e.label,x:a.width/2,y:a.height/1.5})}),l}},"rect")};Qi.registerEdge("fund-polyline",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=n.y-e.y,o=a!==0?500/Math.abs(a):0,s=16,l=a<0?s:-s,u={x:e.x+o,y:n.y+l},c={x:u.x+s,y:n.y},h={x:(u.x-e.x)*(n.y-e.y)/(u.y-e.y)+e.x,y:n.y},g=[["M",e.x,e.y],["L",u.x,u.y],["Q",h.x,h.y,c.x,c.y],["L",n.x,n.y]];a===0&&(g=[["M",e.x,e.y],["L",n.x,n.y]]);var w=r||{},L=w.style,D=t.addShape("path",{attrs:{path:g,stroke:L.stroke||r.colorMap&&r.colorMap[r.dataType]?r.colorMap[r.dataType]:"#5B8FF9",lineWidth:L.lineWidth||1.2,endArrow:!1},name:"path-shape"}),N=0,H=8,X;if(r.label&&(X=t.addShape("text",{attrs:{text:r.label,x:c.x+N,y:n.y-H-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),r.dataType){var mt=X?X.getBBox():{height:0};t.addShape("text",{attrs:{text:r.dataType,x:c.x+N,y:n.y-H-mt.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return r.subLabel&&t.addShape("text",{attrs:{text:r.subLabel,x:c.x+N,y:n.y+H+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),D},update:void 0},"single-edge"),Qi.registerEdge("flow-line",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=r.style,o=a===void 0?{}:a,s=t.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+n.y)/2],["L",n.x,(e.y+n.y)/2],["L",n.x,n.y]]}});return s}});function K1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function nG(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?K1(Object(t),!0).forEach(function(e){iG(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):K1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function iG(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}var aG={show:!1,size:[150,100],type:"keyShape"},$s=function(r,t,e){var n,a;return e&&e.current&&(n=e.current.offsetWidth,a=e.current.offsetHeight||500),console.log("graph size",n,a,t,r,e,e.current),!r&&!n||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||n||500,t||a||500]},Js=function(r,t){if(!(!t||t.destroyed)&&r&&r.show){var e=Object.assign(aG,r),n=new Qi.Minimap(nG({},e));return t.addPlugin(n),n}};function Ju(i,r,t){var e=(0,q.useRef)(),n=r.data,a=r.nodeStyle,o=r.nodeAnchorPoints,s=r.nodeType,l=r.edgeType,u=r.edgeStyle,c=r.width,h=r.height,g=r.layout,w=r.minimapCfg,L=r.behaviors,D=r.nodeLabelCfg,N=r.edgeLabelCfg,H;return(0,q.useEffect)(function(){i&&!i.destroyed&&(i.changeData(n),i.layout())},[n]),(0,q.useEffect)(function(){i&&!i.destroyed&&i.getNodes().forEach(function(X){i.updateItem(X,{type:s,style:a,anchorPoints:o,labelCfg:D})})},[a,o,s]),(0,q.useEffect)(function(){i&&!i.destroyed&&i.getEdges().forEach(function(X){i.updateItem(X,{type:l,style:u,labelCfg:N})})},[u,l]),(0,q.useEffect)(function(){if(i&&!i.destroyed){var X=$s(c,h,t);i.changeSize(X[0],X[1])}},[t,c,h]),(0,q.useEffect)(function(){i&&!i.destroyed&&i.updateLayout(g)},[g]),(0,q.useEffect)(function(){if(!(!w||!i||i.destroyed))if(w.show)H=Js(w,i),H&&H.updateCanvas();else{var X=i.get("plugins")[0];X&&i.removePlugin(X)}},[w]),(0,q.useEffect)(function(){if(i&&!i.destroyed){var X=i.get("modes"),mt=X.default,xt=[];mt.forEach(function(Pt){(0,f.isObject)(Pt)?xt.push(Pt.type):(0,f.isString)(Pt)&&xt.push(Pt)}),i.removeBehaviors(xt,"default"),i.addBehaviors(L,"default")}},[L]),(0,q.useEffect)(function(){if(e.current=i,i&&!i.destroyed)return function(){i.destroy(),i=void 0}},[]),{graphHook:e}}var $1={hover:{stroke:"#1890ff",lineWidth:2}},oG={fill:"#91d5ff",stroke:"#40a9ff",radius:5},sG={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},lG={type:"compactBox",direction:"TB",getId:function(r){return r.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},J1={style:{fill:"#000",fontSize:12}},Qn,uG=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"rect":s,u=r.edgeType,c=u===void 0?"flow-line":u,h=r.collapseExpand,g=h===void 0?!1:h,w=r.nodeSize,L=w===void 0?[120,40]:w,D=r.nodeLabelCfg,N=D===void 0?J1:D,H=r.edgeLabelCfg,X=H===void 0?J1:H,mt=r.layout,xt=mt===void 0?lG:mt,Pt=r.enableEdit,Ht=Pt===void 0?!1:Pt,te=r.minimapCfg,oe=r.nodeStyle,qt=oe===void 0?oG:oe,we=r.edgeStyle,Ie=we===void 0?sG:we,Pe=r.nodeStateStyles,Ke=Pe===void 0?$1:Pe,ar=r.edgeStateStyles,rr=ar===void 0?$1:ar,Mr=r.handleNodeClick,Ar=r.handleEdgeClick,Pr=r.handleNodeHover,xr=r.handleNodeUnHover,br=r.handleEdgeHover,Xr=r.handleEdgeUnHover,zr=r.handleCanvasClick,Kr=r.graphRef,Or={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:c,collapseExpand:g,nodeSize:L,nodeLabelCfg:N,edgeLabelCfg:X,layout:xt,enableEdit:Ht,minimapCfg:te,nodeStyle:qt,edgeStyle:Ie,nodeStateStyles:Ke,edgeStateStyles:rr,handleNodeClick:Mr,handleEdgeClick:Ar,handleNodeHover:Pr,handleNodeUnHover:xr,handleEdgeHover:br,handleEdgeUnHover:Xr,handleCanvasClick:zr,graphRef:Kr},Hr=q.useRef(null);return Ju(Qn,Or,Hr),(0,q.useEffect)(function(){var an=$s(a,o,Hr);return(!Qn||Qn.destroyed)&&(l==="icon-node"&&rG({enableEdit:Ht}),Qn=new Qi.TreeGraph({container:Hr.current,width:an[0],height:an[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:L,style:qt,labelCfg:N},defaultEdge:{type:c,style:Ie,labelCfg:X},nodeStateStyles:Ke,edgeStateStyles:rr,layout:xt}),Kr&&(Kr.current=Qn)),Js(te,Qn),Qn.data(t),Qn.render(),Qn.fitView(),g&&Qn.addBehaviors({type:"collapse-expand",onChange:function(jr,ln){if(!jr)return!1;var xn=jr.get("model").data;return xn.collapsed=ln,!0}},"default"),Qn.on("node:mouseenter",function(Ur){var jr=Ur.item;Qn.setItemState(jr,"hover",!0),Pr&&Pr(jr,Qn)}),Qn.on("node:mouseleave",function(Ur){var jr=Ur.item;Qn.setItemState(jr,"hover",!1),xr&&xr(jr,Qn)}),Qn.on("node:click",function(Ur){var jr=Ur.item,ln=Ur.target,xn=ln.get("type"),tn=ln.get("name");if(xn==="marker"){var vr=jr.getModel();if(tn==="add-item"){vr.children||(vr.children=[]);var Lr=Math.random().toString(36).slice(-8);vr.children.push({id:Lr,label:Lr}),Qn.updateChild(vr,vr.id)}else tn==="remove-item"&&Qn.removeChild(vr.id)}else Mr&&Mr(jr,Qn)}),Qn.on("edge:mouseenter",function(Ur){var jr=Ur.item;Qn.setItemState(jr,"hover",!0),br&&br(jr,Qn)}),Qn.on("edge:mouseleave",function(Ur){var jr=Ur.item;Qn.setItemState(jr,"hover",!1),Xr&&Xr(jr,Qn)}),Qn.on("edge:click",function(Ur){var jr=Ur.item;Ar&&Ar(jr,Qn)}),Qn.on("canvas:click",function(Ur){zr&&zr(Qn)}),function(){return Qn.destroy()}},[]),q.createElement(En,null,q.createElement("div",{className:e,style:n,ref:Hr}))},fG=uG,q1={hover:{stroke:"#1890ff",lineWidth:2}},cG=[120,40],hG={stroke:"#40a9ff"},vG=[[.5,0],[.5,1]],dG={stroke:"#91d5ff",endArrow:{path:Qi.Arrow.vee(10,10),fill:"#91d5ff"}},pG={type:"dagre",rankdir:"TB",nodesepFunc:function(r){return 0},ranksepFunc:function(r){return 0},controlPoints:!0},tb={style:{fill:"#000",fontSize:12}},si,gG=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"modelRect":s,u=r.edgeType,c=u===void 0?"polyline":u,h=r.behaviors,g=h===void 0?["zoom-canvas","drag-canvas"]:h,w=r.nodeSize,L=w===void 0?cG:w,D=r.nodeLabelCfg,N=D===void 0?tb:D,H=r.edgeLabelCfg,X=H===void 0?tb:H,mt=r.nodeAnchorPoints,xt=mt===void 0?vG:mt,Pt=r.layout,Ht=Pt===void 0?pG:Pt,te=r.minimapCfg,oe=r.nodeStyle,qt=oe===void 0?hG:oe,we=r.edgeStyle,Ie=we===void 0?dG:we,Pe=r.nodeStateStyles,Ke=Pe===void 0?q1:Pe,ar=r.edgeStateStyles,rr=ar===void 0?q1:ar,Mr=r.handleEdgeClick,Ar=r.handleEdgeHover,Pr=r.handleEdgeUnHover,xr=r.handleNodeClick,br=r.handleNodeHover,Xr=r.handleNodeUnHover,zr=r.handleCanvasClick,Kr=r.graphRef,Or={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:c,behaviors:g,nodeSize:L,nodeLabelCfg:N,edgeLabelCfg:X,nodeAnchorPoints:xt,layout:Ht,minimapCfg:te,nodeStyle:qt,edgeStyle:Ie,nodeStateStyles:Ke,edgeStateStyles:rr,handleEdgeClick:Mr,handleEdgeHover:Ar,handleEdgeUnHover:Pr,handleNodeClick:xr,handleNodeHover:br,handleNodeUnHover:Xr,handleCanvasClick:zr,graphRef:Kr},Hr=q.useRef(null);return Ju(si,Or,Hr),(0,q.useEffect)(function(){var an=$s(a,o,Hr);return(!si||si.destroyed)&&(si=new Qi.Graph({container:Hr.current,width:an[0],height:an[1],modes:{default:g},defaultNode:{type:l,size:L,style:qt,anchorPoints:xt,labelCfg:N},defaultEdge:{type:c,style:Ie,labelCfg:X},nodeStateStyles:Ke,edgeStateStyles:rr,layout:Ht}),Kr&&(Kr.current=si)),Js(te,si),si.data(t),si.render(),si.fitView(),si.on("edge:mouseenter",function(Ur){var jr=Ur.item;si.setItemState(jr,"hover",!0),Ar&&Ar(jr,si)}),si.on("node:mouseenter",function(Ur){var jr=Ur.item;si.setItemState(jr,"hover",!1),br&&br(jr,si)}),si.on("edge:mouseleave",function(Ur){var jr=Ur.item;si.setItemState(jr,"hover",!1),Pr&&Pr(jr,si)}),si.on("node:mouseleave",function(Ur){var jr=Ur.item;si.setItemState(jr,"hover",!1),Xr&&Xr(jr,si)}),si.on("edge:click",function(Ur){var jr=Ur.item;Mr&&Mr(jr,si)}),si.on("node:click",function(Ur){var jr=Ur.item;xr&&xr(jr,si)}),si.on("canvas:click",function(Ur){zr&&zr(si)}),function(){return si.destroy()}},[]),q.createElement(En,null,q.createElement("div",{className:e,style:n,ref:Hr}))},yG=gG,eb={hover:{stroke:"#1890ff",lineWidth:2}},mG=[150,30],xG={stroke:"#72CC4A",fill:"#f00"},bG=[[.5,0],[.5,1]],wG={stroke:"#91d5ff",endArrow:{path:Qi.Arrow.vee(10,10),fill:"#91d5ff"}},SG={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},rb={style:{fill:"#000000A6",fontSize:10}},ei,CG=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"round-rect":s,u=r.edgeType,c=u===void 0?"fund-polyline":u,h=r.behaviors,g=h===void 0?["zoom-canvas","drag-canvas"]:h,w=r.nodeSize,L=w===void 0?mG:w,D=r.nodeLabelCfg,N=D===void 0?rb:D,H=r.edgeLabelCfg,X=H===void 0?rb:H,mt=r.nodeAnchorPoints,xt=mt===void 0?bG:mt,Pt=r.layout,Ht=Pt===void 0?SG:Pt,te=r.minimapCfg,oe=r.nodeStyle,qt=oe===void 0?xG:oe,we=r.edgeStyle,Ie=we===void 0?wG:we,Pe=r.nodeStateStyles,Ke=Pe===void 0?eb:Pe,ar=r.edgeStateStyles,rr=ar===void 0?eb:ar,Mr=r.colorMap,Ar=Mr===void 0?{}:Mr,Pr=r.handleEdgeClick,xr=r.handleEdgeHover,br=r.handleEdgeUnHover,Xr=r.handleNodeClick,zr=r.handleNodeHover,Kr=r.handleNodeUnHover,Or=r.handleCanvasClick,Hr=r.graphRef,an=q.useRef(null),Ur={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:c,behaviors:g,nodeSize:L,nodeLabelCfg:N,edgeLabelCfg:X,nodeAnchorPoints:xt,layout:Ht,minimapCfg:te,nodeStyle:qt,edgeStyle:Ie,nodeStateStyles:Ke,edgeStateStyles:rr,colorMap:Ar,handleEdgeClick:Pr,handleEdgeHover:xr,handleEdgeUnHover:br,handleNodeClick:Xr,handleNodeHover:zr,handleNodeUnHover:Kr,handleCanvasClick:Or,graphRef:Hr};return Ju(ei,Ur,an),(0,q.useEffect)(function(){var jr=$s(a,o,an);(!ei||ei.destroyed)&&(ei=new Qi.Graph({container:an.current,width:jr[0],height:jr[1],modes:{default:g},defaultNode:{type:l,size:L,style:qt,anchorPoints:xt,labelCfg:N},defaultEdge:{type:c,style:Ie,colorMap:Ar,labelCfg:X},nodeStateStyles:Ke,edgeStateStyles:rr,layout:Ht}),Hr&&(Hr.current=ei)),Js(te,ei),ei.data(t),ei.render();var ln=ei.getEdges();return ln.forEach(function(xn){var tn=xn.getKeyShape(),vr=tn.attr("stroke"),Lr=xn.getTarget();Lr.update({style:{stroke:vr}})}),ei.fitView(),ei.on("edge:mouseenter",function(xn){var tn=xn.item;ei.setItemState(tn,"hover",!0),xr&&xr(tn,ei)}),ei.on("edge:mouseleave",function(xn){var tn=xn.item;ei.setItemState(tn,"hover",!1),br&&br(tn,ei)}),ei.on("edge:click",function(xn){var tn=xn.item;Pr&&Pr(tn,ei)}),ei.on("node:mouseenter",function(xn){var tn=xn.item;ei.setItemState(tn,"hover",!1),zr&&zr(tn,ei)}),ei.on("node:mouseleave",function(xn){var tn=xn.item;ei.setItemState(tn,"hover",!1),Kr&&Kr(tn,ei)}),ei.on("node:click",function(xn){var tn=xn.item;Xr&&Xr(tn,ei)}),ei.on("canvas:click",function(xn){Or&&Or(ei)}),function(){return ei.destroy()}},[]),q.createElement(En,null,q.createElement("div",{className:e,style:n,ref:an}))},MG=CG,nb={hover:{stroke:"#1890ff",lineWidth:2}},EG=[120,40],AG={stroke:"#40a9ff"},TG=[[0,.5],[1,.5]],PG={stroke:"#ccc",endArrow:{path:Qi.Arrow.vee(10,10),fill:"#ccc"}},OG={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(r){return 100}},IG={style:{fill:"#000",fontSize:12}},$n,kG=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"card-node":s,u=r.edgeType,c=u===void 0?"cubic-horizontal":u,h=r.behaviors,g=h===void 0?["zoom-canvas","drag-canvas"]:h,w=r.nodeSize,L=w===void 0?EG:w,D=r.nodeLabelCfg,N=D===void 0?IG:D,H=r.nodeAnchorPoints,X=H===void 0?TG:H,mt=r.layout,xt=mt===void 0?OG:mt,Pt=r.minimapCfg,Ht=r.nodeStyle,te=Ht===void 0?AG:Ht,oe=r.edgeStyle,qt=oe===void 0?PG:oe,we=r.nodeStateStyles,Ie=we===void 0?nb:we,Pe=r.edgeStateStyles,Ke=Pe===void 0?nb:Pe,ar=r.collapseExpand,rr=ar===void 0?!0:ar,Mr=r.handleEdgeClick,Ar=r.handleEdgeHover,Pr=r.handleEdgeUnHover,xr=r.handleNodeClick,br=r.handleNodeHover,Xr=r.handleNodeUnHover,zr=r.handleCanvasClick,Kr=r.graphRef,Or=q.useRef(null),Hr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:c,behaviors:g,nodeSize:L,nodeLabelCfg:N,nodeAnchorPoints:X,layout:xt,minimapCfg:Pt,nodeStyle:te,edgeStyle:qt,nodeStateStyles:Ie,edgeStateStyles:Ke,collapseExpand:rr,handleEdgeClick:Mr,handleEdgeHover:Ar,handleEdgeUnHover:Pr,handleNodeClick:xr,handleNodeHover:br,handleNodeUnHover:Xr,handleCanvasClick:zr,graphRef:Kr};return Ju($n,Hr,Or),(0,q.useEffect)(function(){var an=$s(a,o,Or);return(!$n||$n.destroyed)&&($n=new Qi.TreeGraph({container:Or.current,width:an[0],height:an[1],modes:{default:g},defaultNode:{type:l,size:L,style:te,anchorPoints:X,labelCfg:N},defaultEdge:{type:c,style:qt},nodeStateStyles:Ie,edgeStateStyles:Ke,layout:xt}),Kr&&(Kr.current=$n)),Js(Pt,$n),$n.data(t),$n.render(),$n.fitView(),rr&&$n.on("node:click",function(Ur){var jr=Ur.item;Ur.target.get("name")==="collapse-icon"?($n.updateItem(jr,{collapsed:!jr.getModel().collapsed}),$n.layout()):xr&&xr(jr,$n)}),$n.on("edge:mouseenter",function(Ur){var jr=Ur.item;$n.setItemState(jr,"hover",!0),Ar&&Ar(jr,$n)}),$n.on("edge:mouseleave",function(Ur){var jr=Ur.item;$n.setItemState(jr,"hover",!1),Pr&&Pr(jr,$n)}),$n.on("edge:click",function(Ur){var jr=Ur.item;Mr&&Mr(jr,$n)}),$n.on("node:mouseenter",function(Ur){var jr=Ur.item;$n.setItemState(jr,"hover",!1),br&&br(jr,$n)}),$n.on("node:mouseleave",function(Ur){var jr=Ur.item;$n.setItemState(jr,"hover",!1),Xr&&Xr(jr,$n)}),$n.on("canvas:click",function(Ur){zr&&zr($n)}),function(){return $n.destroy()}},[]),q.createElement(En,null,q.createElement("div",{className:e,style:n,ref:Or}))},LG=kG,vz={Area:eF,Bar:iF,Bubble:sF,Bullet:fF,Calendar:dF,Column:yF,ColumnLine:bF,DensityHeatmap:CF,Donut:V0,DualLine:PF,FanGauge:kF,Funnel:BF,Gauge:NF,GroupedBar:zF,GroupedColumn:HF,GroupedColumnLine:UF,GroupedRose:KF,Heatmap:qF,Histogram:r5,Line:a5,Liquid:l5,MeterGauge:c5,PercentStackedArea:d5,PercentStackedBar:y5,PercentStackedColumn:b5,Pie:C5,Progress:A5,Radar:O5,RangeBar:L5,RangeColumn:B5,RingProgress:N5,Rose:z5,Scatter:H5,StackedArea:U5,StackedBar:K5,StackedColumn:q5,StackedColumnLine:rR,StackedRose:aR,StepLine:lR,TinyArea:cR,TinyColumn:dR,TinyLine:yR,Treemap:bR,Waterfall:CR,WordCloud:TR,OrganizationTreeGraph:fG,DagreGraph:yG,IndentedTree:LG,DagreFundFlowGraph:MG,G2:O}},89939:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(49242),T=v(15623),P=function(){function I(O){var A=O.xField,E=O.yField,S=O.adjustNames,y=S===void 0?["x","y"]:S,b=O.dimValuesMap;this.adjustNames=y,this.xField=A,this.yField=E,this.dimValuesMap=b}return I.prototype.isAdjust=function(O){return this.adjustNames.indexOf(O)>=0},I.prototype.getAdjustRange=function(O,A,E){var S=this.yField,y=E.indexOf(A),b=E.length,p,m;return!S&&this.isAdjust("y")?(p=0,m=1):b>1?(p=E[y===0?0:y-1],m=E[y===b-1?b-1:y+1],y!==0?p+=(A-p)/2:p-=(m-A)/2,y!==b-1?m-=(m-A)/2:m+=(A-E[b-2])/2):(p=A===0?0:A-.5,m=A===0?1:A+.5),{pre:p,next:m}},I.prototype.adjustData=function(O,A){var E=this,S=this.getDimValues(A);d.each(O,function(y,b){d.each(S,function(p,m){E.adjustDim(m,p,y,b)})})},I.prototype.groupData=function(O,A){return d.each(O,function(E){E[A]===void 0&&(E[A]=T.DEFAULT_Y)}),d.groupBy(O,A)},I.prototype.adjustDim=function(O,A,E,S){},I.prototype.getDimValues=function(O){var A=this,E=A.xField,S=A.yField,y=d.assign({},this.dimValuesMap),b=[];if(E&&this.isAdjust("x")&&b.push(E),S&&this.isAdjust("y")&&b.push(S),b.forEach(function(m){y&&y[m]||(y[m]=d.valuesOfKey(O,m).sort(function(x,M){return x-M}))}),!S&&this.isAdjust("y")){var p="y";y[p]=[T.DEFAULT_Y,1]}return y},I}();C.default=P},15623:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.GAP=C.DODGE_RATIO=C.MARGIN_RATIO=C.DEFAULT_Y=void 0,C.DEFAULT_Y=0,C.MARGIN_RATIO=1/2,C.DODGE_RATIO=1/2,C.GAP=.05},28014:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Adjust=C.registerAdjust=C.getAdjust=void 0;var d=v(99350),T=v(89939);C.Adjust=T.default;var P={},I=function(A){return P[A.toLowerCase()]};C.getAdjust=I;var O=function(A,E){if(I(A))throw new Error("Adjust type '"+A+"' existed.");P[A.toLowerCase()]=E};C.registerAdjust=O,d.__exportStar(v(48551),C)},48551:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0})},21392:function(ct,C,v){"use strict";v.r(C),v.d(C,{Attribute:function(){return I},Color:function(){return S},Opacity:function(){return b},Position:function(){return m},Scale:function(){return B.Scale},Shape:function(){return M},Size:function(){return _},getAttribute:function(){return W},registerAttribute:function(){return R}});var d=v(49242),T=function(K,ut){return(0,d.isString)(ut)?ut:K.invert(K.scale(ut))},P=function(){function K(ut){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(ut)}return K.prototype.mapping=function(){for(var ut=this,ot=[],dt=0;dt<arguments.length;dt++)ot[dt]=arguments[dt];var nt=ot.map(function(yt,tt){return ut._toOriginParam(yt,ut.scales[tt])});return this.callback.apply(this,nt)},K.prototype.getLinearValue=function(ut){var ot=this.values.length-1,dt=Math.floor(ot*ut),nt=ot*ut-dt,yt=this.values[dt],tt=dt===ot?yt:this.values[dt+1];return yt+(tt-yt)*nt},K.prototype.getNames=function(){for(var ut=this.scales,ot=this.names,dt=Math.min(ut.length,ot.length),nt=[],yt=0;yt<dt;yt+=1)nt.push(ot[yt]);return nt},K.prototype.getFields=function(){return this.scales.map(function(ut){return ut.field})},K.prototype.getScale=function(ut){return this.scales[this.names.indexOf(ut)]},K.prototype.defaultCallback=function(){for(var ut=this,ot=[],dt=0;dt<arguments.length;dt++)ot[dt]=arguments[dt];return ot.length===0?this.values:ot.map(function(nt,yt){var tt=ut.scales[yt];return tt.type==="identity"?tt.values[0]:ut._getAttributeValue(tt,nt)})},K.prototype._parseCfg=function(ut){var ot=this,dt=ut.type,nt=dt===void 0?"base":dt,yt=ut.names,tt=yt===void 0?[]:yt,J=ut.scales,ft=J===void 0?[]:J,rt=ut.values,St=rt===void 0?[]:rt,wt=ut.callback;this.type=nt,this.scales=ft,this.values=St,this.names=tt,this.callback=function(){for(var q=[],it=0;it<arguments.length;it++)q[it]=arguments[it];if(wt){var Q=wt.apply(void 0,q);if(!(0,d.isNil)(Q))return[Q]}return ot.defaultCallback.apply(ot,q)}},K.prototype._getAttributeValue=function(ut,ot){if(ut.isCategory&&!this.linear){var dt=ut.translate(ot);return this.values[dt%this.values.length]}var nt=ut.scale(ot);return this.getLinearValue(nt)},K.prototype._toOriginParam=function(ut,ot){return ot.isLinear?ut:(0,d.isArray)(ut)?ut.map(function(dt){return T(ot,dt)}):T(ot,ut)},K}(),I=P,O=v(54085),A=v(55223),E=function(K){(0,O.__extends)(ut,K);function ut(ot){var dt=K.call(this,ot)||this;return dt.type="color",dt.names=["color"],(0,d.isString)(dt.values)&&(dt.linear=!0),dt.gradient=A.default.gradient(dt.values),dt}return ut.prototype.getLinearValue=function(ot){return this.gradient(ot)},ut}(I),S=E,y=function(K){(0,O.__extends)(ut,K);function ut(ot){var dt=K.call(this,ot)||this;return dt.type="opacity",dt.names=["opacity"],dt}return ut}(I),b=y,p=function(K){(0,O.__extends)(ut,K);function ut(ot){var dt=K.call(this,ot)||this;return dt.names=["x","y"],dt.type="position",dt}return ut.prototype.mapping=function(ot,dt){var nt=this.scales,yt=nt[0],tt=nt[1];return(0,d.isNil)(ot)||(0,d.isNil)(dt)?[]:[(0,d.isArray)(ot)?ot.map(function(J){return yt.scale(J)}):yt.scale(ot),(0,d.isArray)(dt)?dt.map(function(J){return tt.scale(J)}):tt.scale(dt)]},ut}(I),m=p,x=function(K){(0,O.__extends)(ut,K);function ut(ot){var dt=K.call(this,ot)||this;return dt.type="shape",dt.names=["shape"],dt}return ut.prototype.getLinearValue=function(ot){var dt=Math.round((this.values.length-1)*ot);return this.values[dt]},ut}(I),M=x,k=function(K){(0,O.__extends)(ut,K);function ut(ot){var dt=K.call(this,ot)||this;return dt.type="size",dt.names=["size"],dt}return ut}(I),_=k,B=v(51082),z={},W=function(K){return z[K.toLowerCase()]},R=function(K,ut){if(W(K))throw new Error("Attribute type '"+K+"' existed.");z[K.toLowerCase()]=ut};R("Color",S),R("Opacity",b),R("Position",m),R("Shape",M),R("Size",_)},74839:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(49242),T=function(I,O){return d.isString(O)?O:I.invert(I.scale(O))},P=function(){function I(O){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(O)}return I.prototype.mapping=function(){for(var O=this,A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];var S=A.map(function(y,b){return O._toOriginParam(y,O.scales[b])});return this.callback.apply(this,S)},I.prototype.getLinearValue=function(O){var A=this.values.length-1,E=Math.floor(A*O),S=A*O-E,y=this.values[E],b=E===A?y:this.values[E+1];return y+(b-y)*S},I.prototype.getNames=function(){for(var O=this.scales,A=this.names,E=Math.min(O.length,A.length),S=[],y=0;y<E;y+=1)S.push(A[y]);return S},I.prototype.getFields=function(){return this.scales.map(function(O){return O.field})},I.prototype.getScale=function(O){return this.scales[this.names.indexOf(O)]},I.prototype.defaultCallback=function(){for(var O=this,A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];return A.length===0?this.values:A.map(function(S,y){var b=O.scales[y];return b.type==="identity"?b.values[0]:O._getAttributeValue(b,S)})},I.prototype._parseCfg=function(O){var A=this,E=O.type,S=E===void 0?"base":E,y=O.names,b=y===void 0?[]:y,p=O.scales,m=p===void 0?[]:p,x=O.values,M=x===void 0?[]:x,k=O.callback;this.type=S,this.scales=m,this.values=M,this.names=b,this.callback=function(){for(var _=[],B=0;B<arguments.length;B++)_[B]=arguments[B];if(k){var z=k.apply(void 0,_);if(!d.isNil(z))return[z]}return A.defaultCallback.apply(A,_)}},I.prototype._getAttributeValue=function(O,A){if(O.isCategory&&!this.linear){var E=O.translate(A);return this.values[E%this.values.length]}var S=O.scale(A);return this.getLinearValue(S)},I.prototype._toOriginParam=function(O,A){return A.isLinear?O:d.isArray(O)?O.map(function(E){return T(A,E)}):T(A,O)},I}();C.default=P},24796:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Attribute=C.registerAttribute=C.getAttribute=void 0;var d=v(54085),T=v(74839);C.Attribute=T.default;var P={},I=function(A){return P[A.toLowerCase()]};C.getAttribute=I;var O=function(A,E){if(I(A))throw new Error("Attribute type '"+A+"' existed.");P[A.toLowerCase()]=E};C.registerAttribute=O,d.__exportStar(v(77290),C)},77290:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Scale=void 0;var d=v(51082);Object.defineProperty(C,"Scale",{enumerable:!0,get:function(){return d.Scale}})},55223:function(ct,C,v){"use strict";v.r(C);var d=v(49242),T=/rgba?\(([\s.,0-9]+)\)/,P=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,I=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,O=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,A=function(B){return/^[r,R,L,l]{1}[\s]*\(/.test(B)},E=function(){var B=document.createElement("i");return B.title="Web Colour Picker",B.style.display="none",document.body.appendChild(B),B},S=function(B,z,W,R){return B[R]+(z[R]-B[R])*W};function y(B){return"#"+p(B[0])+p(B[1])+p(B[2])}var b=function(B){return[parseInt(B.substr(1,2),16),parseInt(B.substr(3,2),16),parseInt(B.substr(5,2),16)]},p=function(B){var z=Math.round(B).toString(16);return z.length===1?"0"+z:z},m=function(B,z){var W=isNaN(Number(z))||z<0?0:z>1?1:Number(z),R=B.length-1,K=Math.floor(R*W),ut=R*W-K,ot=B[K],dt=K===R?ot:B[K+1];return y([S(ot,dt,ut,0),S(ot,dt,ut,1),S(ot,dt,ut,2)])},x,M=function(B){if(B[0]==="#"&&B.length===7)return B;x||(x=E()),x.style.color=B;var z=document.defaultView.getComputedStyle(x,"").getPropertyValue("color"),W=T.exec(z),R=W[1].split(/\s*,\s*/).map(function(K){return Number(K)});return z=y(R),z},k=function(B){var z=(0,d.isString)(B)?B.split("-"):B,W=(0,d.map)(z,function(R){return b(R.indexOf("#")===-1?M(R):R)});return function(R){return m(W,R)}},_=function(B){if(A(B)){var z,W=void 0;if(B[0]==="l"){var R=P.exec(B),K=+R[1]+90;W=R[2],z="linear-gradient("+K+"deg, "}else if(B[0]==="r"){z="radial-gradient(";var R=I.exec(B);W=R[4]}var ut=W.match(O);return(0,d.each)(ut,function(ot,dt){var nt=ot.split(":");z+=nt[1]+" "+nt[0]*100+"%",dt!==ut.length-1&&(z+=", ")}),z+=")",z}return B};C.default={rgb2arr:b,gradient:k,toRGB:(0,d.memoize)(M),toCSSGradient:_}},51441:function(ct,C,v){"use strict";v.r(C),v.d(C,{Annotation:function(){return d},Axis:function(){return A},Component:function(){return Rt},Crosshair:function(){return E},Grid:function(){return S},GroupComponent:function(){return $},HtmlComponent:function(){return Bt},Legend:function(){return y},Scrollbar:function(){return qr},Slider:function(){return Je},Tooltip:function(){return p}});var d={};v.r(d),v.d(d,{Arc:function(){return De},DataMarker:function(){return Ft},DataRegion:function(){return fe},Image:function(){return gt},Line:function(){return ne},Region:function(){return Yt},RegionFilter:function(){return xe},Text:function(){return ye}});var T={};v.r(T),v.d(T,{ellipsisHead:function(){return hr},ellipsisMiddle:function(){return _r},ellipsisTail:function(){return Tr},getDefault:function(){return Er}});var P={};v.r(P),v.d(P,{equidistance:function(){return ue},getDefault:function(){return Zr},reserveBoth:function(){return ie},reserveFirst:function(){return Wr},reserveLast:function(){return Qr}});var I={};v.r(I),v.d(I,{fixedAngle:function(){return $e},getDefault:function(){return Xe},unfixedAngle:function(){return mr}});var O={};v.r(O),v.d(O,{autoEllipsis:function(){return T},autoHide:function(){return P},autoRotate:function(){return I}});var A={};v.r(A),v.d(A,{Base:function(){return Ne},Circle:function(){return Gr},Line:function(){return $r}});var E={};v.r(E),v.d(E,{Base:function(){return Ln},Circle:function(){return qn},Html:function(){return Wt},Line:function(){return Mn}});var S={};v.r(S),v.d(S,{Base:function(){return ee},Circle:function(){return Fe},Line:function(){return fr}});var y={};v.r(y),v.d(y,{Base:function(){return gr},Category:function(){return en},Continuous:function(){return Jr}});var b={};v.r(b),v.d(b,{CONTAINER_CLASS:function(){return Tn},CROSSHAIR_X:function(){return Ji},CROSSHAIR_Y:function(){return qi},LIST_CLASS:function(){return Yn},LIST_ITEM_CLASS:function(){return Oi},MARKER_CLASS:function(){return Fi},NAME_CLASS:function(){return Wi},TITLE_CLASS:function(){return Gn},VALUE_CLASS:function(){return gi}});var p={};v.r(p),v.d(p,{Html:function(){return Oa}});var m=v(62117),x=v(49242),M=v(66192);function k(Xt,bt,F){var U=new M.default(bt,F);U.target=Xt,U.propagationPath.push(Xt),Xt.emitDelegation(bt,U);for(var lt=Xt.getParent();lt;)lt.emitDelegation(bt,U),U.propagationPath.push(lt),lt=lt.getParent()}var _=v(31506),B=v(31437),z=[1,0,0,0,1,0,0,0,1];function W(Xt,bt,F){if(F===void 0&&(F=z),!bt)return null;var U=_.transform(F,[["t",-Xt.x,-Xt.y],["r",bt],["t",Xt.x,Xt.y]]);return U}function R(Xt,bt){return!Xt.x&&!Xt.y?null:_.transform(bt||z,[["t",Xt.x,Xt.y]])}function K(Xt){var bt=[1,0,0],F=[0,0,0];return vec3.transformMat3(F,bt,Xt),Math.atan2(F[1],F[0])}function ut(Xt,bt){var F=[0,0];return B.transformMat3(F,bt,Xt),F}function ot(Xt,bt){var F=ut(Xt,[bt.minX,bt.minY]),U=ut(Xt,[bt.maxX,bt.minY]),lt=ut(Xt,[bt.minX,bt.maxY]),Mt=ut(Xt,[bt.maxX,bt.maxY]),Gt=Math.min(F[0],U[0],lt[0],Mt[0]),Kt=Math.max(F[0],U[0],lt[0],Mt[0]),ge=Math.min(F[1],U[1],lt[1],Mt[1]),Te=Math.max(F[1],U[1],lt[1],Mt[1]);return{x:Gt,y:ge,minX:Gt,minY:ge,maxX:Kt,maxY:Te,width:Kt-Gt,height:Te-ge}}function dt(Xt,bt,F,U){if(bt){var lt=W({x:F,y:U},bt,Xt.getMatrix());Xt.setMatrix(lt)}}function nt(Xt,bt,F){var U=R({x:bt,y:F});Xt.attr("matrix",U)}function yt(Xt){var bt=0,F=0,U=0,lt=0;return(0,x.isNumber)(Xt)?bt=F=U=lt=Xt:(0,x.isArray)(Xt)&&(bt=Xt[0],U=(0,x.isNil)(Xt[1])?Xt[0]:Xt[1],lt=(0,x.isNil)(Xt[2])?Xt[0]:Xt[2],F=(0,x.isNil)(Xt[3])?U:Xt[3]),[bt,U,lt,F]}function tt(Xt){for(var bt=Xt.childNodes,F=bt.length,U=F-1;U>=0;U--)Xt.removeChild(bt[U])}function J(Xt,bt){return!!Xt.className.match(new RegExp("(\\s|^)"+bt+"(\\s|$)"))}function ft(Xt){var bt=Xt.start,F=Xt.end,U=Math.min(bt.x,F.x),lt=Math.min(bt.y,F.y),Mt=Math.max(bt.x,F.x),Gt=Math.max(bt.y,F.y);return{x:U,y:lt,minX:U,minY:lt,maxX:Mt,maxY:Gt,width:Mt-U,height:Gt-lt}}function rt(Xt){var bt=Xt.map(function(Kt){return Kt.x}),F=Xt.map(function(Kt){return Kt.y}),U=Math.min.apply(Math,bt),lt=Math.min.apply(Math,F),Mt=Math.max.apply(Math,bt),Gt=Math.max.apply(Math,F);return{x:U,y:lt,minX:U,minY:lt,maxX:Mt,maxY:Gt,width:Mt-U,height:Gt-lt}}function St(Xt,bt,F,U){return{x:Xt,y:bt,width:F,height:U,minX:Xt,minY:bt,maxX:Xt+F,maxY:bt+U}}function wt(Xt,bt,F){return(1-F)*Xt+bt*F}function q(Xt,bt,F){return{x:Xt.x+Math.cos(F)*bt,y:Xt.y+Math.sin(F)*bt}}function it(Xt,bt){var F=bt.x-Xt.x,U=bt.y-Xt.y;return Math.sqrt(F*F+U*U)}var Q=function(Xt){return new Promise(function(bt){setTimeout(bt,Xt)})},f=function(Xt,bt){return[Xt,bt].includes(Infinity)?Math.abs(Xt)===Math.abs(bt):Math.abs(Xt-bt)<Math.pow(Number.EPSILON,.5)};function vt(Xt,bt){var F=Math.max(Xt.minX,bt.minX),U=Math.max(Xt.minY,bt.minY),lt=Math.min(Xt.maxX,bt.maxX),Mt=Math.min(Xt.maxY,bt.maxY);return St(F,U,lt-F,Mt-U)}function It(Xt,bt){var F=Math.min(Xt.minX,bt.minX),U=Math.min(Xt.minY,bt.minY),lt=Math.max(Xt.maxX,bt.maxX),Mt=Math.max(Xt.maxY,bt.maxY);return St(F,U,lt-F,Mt-U)}function Qt(Xt){var bt=Xt.getClip(),F=bt&&bt.getBBox(),U;if(!Xt.isGroup())U=Xt.getBBox();else{var lt=Infinity,Mt=-Infinity,Gt=Infinity,Kt=-Infinity,ge=Xt.getChildren();ge.length>0?(0,x.each)(ge,function(Te){if(Te.get("visible")){if(Te.isGroup()&&Te.get("children").length===0)return!0;var Ye=Qt(Te),Ze=Te.applyToMatrix([Ye.minX,Ye.minY,1]),pr=Te.applyToMatrix([Ye.minX,Ye.maxY,1]),Cr=Te.applyToMatrix([Ye.maxX,Ye.minY,1]),Vr=Te.applyToMatrix([Ye.maxX,Ye.maxY,1]),sn=Math.min(Ze[0],pr[0],Cr[0],Vr[0]),rn=Math.max(Ze[0],pr[0],Cr[0],Vr[0]),An=Math.min(Ze[1],pr[1],Cr[1],Vr[1]),In=Math.max(Ze[1],pr[1],Cr[1],Vr[1]);sn<lt&&(lt=sn),rn>Mt&&(Mt=rn),An<Gt&&(Gt=An),In>Kt&&(Kt=In)}}):(lt=0,Mt=0,Gt=0,Kt=0),U=St(lt,Gt,Mt-lt,Kt-Gt)}return F?vt(U,F):U}function Se(Xt,bt){if(!(!Xt.getClip()&&!bt.getClip())){var F=bt.getClip();if(!F){Xt.setClip(null);return}var U={type:F.get("type"),attrs:F.attr()};Xt.setClip(U)}}function $t(Xt){return Xt+"px"}function re(Xt,bt,F,U){var lt=it(Xt,bt),Mt=U/lt,Gt=0;return F==="start"?Gt=0-Mt:F==="end"&&(Gt=1+Mt),{x:wt(Xt.x,bt.x,Gt),y:wt(Xt.y,bt.y,Gt)}}var he=v(39014),Me={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},le=function(Xt){(0,m.__extends)(bt,Xt);function bt(F){var U=Xt.call(this,F)||this;return U.initCfg(),U}return bt.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},bt.prototype.clear=function(){},bt.prototype.update=function(F){var U=this,lt=this.get("defaultCfg");(0,x.each)(F,function(Mt,Gt){var Kt=U.get(Gt),ge=Mt;Kt!==Mt&&((0,x.isObject)(Mt)&&lt[Gt]&&(ge=(0,x.deepMix)({},lt[Gt],Mt)),U.set(Gt,ge))}),this.updateInner(F),this.afterUpdate(F)},bt.prototype.updateInner=function(F){},bt.prototype.afterUpdate=function(F){(0,x.hasKey)(F,"visible")&&(F.visible?this.show():this.hide()),(0,x.hasKey)(F,"capture")&&this.setCapture(F.capture)},bt.prototype.getLayoutBBox=function(){return this.getBBox()},bt.prototype.getLocationType=function(){return this.get("locationType")},bt.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},bt.prototype.setOffset=function(F,U){this.update({offsetX:F,offsetY:U})},bt.prototype.setLocation=function(F){var U=(0,m.__assign)({},F);this.update(U)},bt.prototype.getLocation=function(){var F=this,U={},lt=this.get("locationType"),Mt=Me[lt];return(0,x.each)(Mt,function(Gt){U[Gt]=F.get(Gt)}),U},bt.prototype.isList=function(){return!1},bt.prototype.isSlider=function(){return!1},bt.prototype.init=function(){},bt.prototype.initCfg=function(){var F=this,U=this.get("defaultCfg");(0,x.each)(U,function(lt,Mt){var Gt=F.get(Mt);if((0,x.isObject)(Gt)){var Kt=(0,x.deepMix)({},lt,Gt);F.set(Mt,Kt)}})},bt}(he.Base),Rt=le,Ot="update_status",At=["visible","tip","delegateObject"],Dt=["container","group","shapesMap","isRegister","isUpdating","destroyed"],j=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},bt.prototype.remove=function(){this.clear();var F=this.get("group");F.remove()},bt.prototype.clear=function(){var F=this.get("group");F.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},bt.prototype.getChildComponentById=function(F){var U=this.getElementById(F),lt=U&&U.get("component");return lt},bt.prototype.getElementById=function(F){return this.get("shapesMap")[F]},bt.prototype.getElementByLocalId=function(F){var U=this.getElementId(F);return this.getElementById(U)},bt.prototype.getElementsByName=function(F){var U=[];return(0,x.each)(this.get("shapesMap"),function(lt){lt.get("name")===F&&U.push(lt)}),U},bt.prototype.getContainer=function(){return this.get("container")},bt.prototype.updateInner=function(F){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},bt.prototype.render=function(){var F=this.get("offScreenGroup");F||(F=this.offScreenRender());var U=this.get("group");this.updateElements(F,U),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},bt.prototype.show=function(){var F=this.get("group");F.show(),this.set("visible",!0)},bt.prototype.hide=function(){var F=this.get("group");F.hide(),this.set("visible",!1)},bt.prototype.setCapture=function(F){var U=this.get("group");U.set("capture",F),this.set("capture",F)},bt.prototype.destroy=function(){this.removeEvent(),this.remove(),Xt.prototype.destroy.call(this)},bt.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},bt.prototype.getLayoutBBox=function(){var F=this.get("group"),U=this.getInnerLayoutBBox(),lt=F.getTotalMatrix();return lt&&(U=ot(lt,U)),U},bt.prototype.on=function(F,U,lt){var Mt=this.get("group");return Mt.on(F,U,lt),this},bt.prototype.off=function(F,U){var lt=this.get("group");return lt&&lt.off(F,U),this},bt.prototype.emit=function(F,U){var lt=this.get("group");lt.emit(F,U)},bt.prototype.init=function(){Xt.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},bt.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},bt.prototype.delegateEmit=function(F,U){var lt=this.get("group");U.target=lt,lt.emit(F,U),k(lt,F,U)},bt.prototype.createOffScreenGroup=function(){var F=this.get("group"),U=F.getGroupBase(),lt=new U({delegateObject:this.getDelegateObject()});return lt},bt.prototype.applyOffset=function(){var F=this.get("offsetX"),U=this.get("offsetY");this.moveElementTo(this.get("group"),{x:F,y:U})},bt.prototype.initGroup=function(){var F=this.get("container");this.set("group",F.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},bt.prototype.offScreenRender=function(){this.clearOffScreenCache();var F=this.createOffScreenGroup();return this.renderInner(F),this.set("offScreenGroup",F),this.set("offScreenBBox",Qt(F)),F},bt.prototype.addGroup=function(F,U){this.appendDelegateObject(F,U);var lt=F.addGroup(U);return this.get("isRegister")&&this.registerElement(lt),lt},bt.prototype.addShape=function(F,U){this.appendDelegateObject(F,U);var lt=F.addShape(U);return this.get("isRegister")&&this.registerElement(lt),lt},bt.prototype.addComponent=function(F,U){var lt=U.id,Mt=U.component,Gt=(0,m.__rest)(U,["id","component"]),Kt=new Mt((0,m.__assign)((0,m.__assign)({},Gt),{id:lt,container:F,updateAutoRender:this.get("updateAutoRender")}));return Kt.init(),Kt.render(),this.get("isRegister")&&this.registerElement(Kt.get("group")),Kt},bt.prototype.initEvent=function(){},bt.prototype.removeEvent=function(){var F=this.get("group");F.off()},bt.prototype.getElementId=function(F){var U=this.get("id"),lt=this.get("name");return U+"-"+lt+"-"+F},bt.prototype.registerElement=function(F){var U=F.get("id");this.get("shapesMap")[U]=F},bt.prototype.unregisterElement=function(F){var U=F.get("id");delete this.get("shapesMap")[U]},bt.prototype.moveElementTo=function(F,U){var lt=R(U);F.attr("matrix",lt)},bt.prototype.addAnimation=function(F,U,lt){var Mt=U.attr("opacity");(0,x.isNil)(Mt)&&(Mt=1),U.attr("opacity",0),U.animate({opacity:Mt},lt)},bt.prototype.removeAnimation=function(F,U,lt){U.animate({opacity:0},lt)},bt.prototype.updateAnimation=function(F,U,lt,Mt){U.animate(lt,Mt)},bt.prototype.updateElements=function(F,U){var lt=this,Mt=this.get("animate"),Gt=this.get("animateOption"),Kt=F.getChildren().slice(0),ge;(0,x.each)(Kt,function(Te){var Ye=Te.get("id"),Ze=lt.getElementById(Ye),pr=Te.get("name");if(Ze)if(Te.get("isComponent")){var Cr=Te.get("component"),Vr=Ze.get("component"),sn=(0,x.pick)(Cr.cfg,(0,x.difference)((0,x.keys)(Cr.cfg),Dt));Vr.update(sn),Ze.set(Ot,"update")}else{var rn=lt.getReplaceAttrs(Ze,Te);Mt&&Gt.update?lt.updateAnimation(pr,Ze,rn,Gt.update):Ze.attr(rn),Te.isGroup()&&lt.updateElements(Te,Ze),(0,x.each)(At,function(zt){Ze.set(zt,Te.get(zt))}),Se(Ze,Te),ge=Ze,Ze.set(Ot,"update")}else{U.add(Te);var An=U.getChildren();if(An.splice(An.length-1,1),ge){var In=An.indexOf(ge);An.splice(In+1,0,Te)}else An.unshift(Te);if(lt.registerElement(Te),Te.set(Ot,"add"),Te.get("isComponent")){var Cr=Te.get("component");Cr.set("container",U)}else Te.isGroup()&&lt.registerNewGroup(Te);if(ge=Te,Mt){var Pn=lt.get("isInit")?Gt.appear:Gt.enter;Pn&&lt.addAnimation(pr,Te,Pn)}}})},bt.prototype.clearUpdateStatus=function(F){var U=F.getChildren();(0,x.each)(U,function(lt){lt.set(Ot,null)})},bt.prototype.clearOffScreenCache=function(){var F=this.get("offScreenGroup");F&&F.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},bt.prototype.getDelegateObject=function(){var F,U=this.get("name"),lt=(F={},F[U]=this,F.component=this,F);return lt},bt.prototype.appendDelegateObject=function(F,U){var lt=F.get("delegateObject");U.delegateObject||(U.delegateObject={}),(0,x.mix)(U.delegateObject,lt)},bt.prototype.getReplaceAttrs=function(F,U){var lt=F.attr(),Mt=U.attr();return(0,x.each)(lt,function(Gt,Kt){Mt[Kt]===void 0&&(Mt[Kt]=void 0)}),Mt},bt.prototype.registerNewGroup=function(F){var U=this,lt=F.getChildren();(0,x.each)(lt,function(Mt){U.registerElement(Mt),Mt.set(Ot,"add"),Mt.isGroup()&&U.registerNewGroup(Mt)})},bt.prototype.deleteElements=function(){var F=this,U=this.get("shapesMap"),lt=[];(0,x.each)(U,function(Kt,ge){!Kt.get(Ot)||Kt.destroyed?lt.push([ge,Kt]):Kt.set(Ot,null)});var Mt=this.get("animate"),Gt=this.get("animateOption");(0,x.each)(lt,function(Kt){var ge=Kt[0],Te=Kt[1];if(!Te.destroyed){var Ye=Te.get("name");if(Mt&&Gt.leave){var Ze=(0,x.mix)({callback:function(){F.removeElement(Te)}},Gt.leave);F.removeAnimation(Ye,Te,Ze)}else F.removeElement(Te)}delete U[ge]})},bt.prototype.removeElement=function(F){if(F.get("isGroup")){var U=F.get("component");U&&U.destroy()}F.remove()},bt}(Rt),$=j,et="\u2026";function Tt(Xt){for(var bt=0,F=0;F<Xt.length;F++)bt+=Nt(Xt,F);return bt}function Nt(Xt,bt){return Xt.charCodeAt(bt)>0&&Xt.charCodeAt(bt)<128?1:2}function Ut(Xt,bt,F){F===void 0&&(F="tail");var U=Xt.length,lt="";if(F==="tail"){for(var Mt=0,Gt=0;Mt<bt;){var Kt=Nt(Xt,Gt);if(Mt+Kt<=bt)lt+=Xt[Gt],Mt+=Nt(Xt,Gt),Gt++;else break}lt+=et}else if(F==="head"){for(var Mt=0,Gt=U-1;Mt<bt;){var Kt=Nt(Xt,Gt);if(Mt+Kt<=bt)lt+=Xt[Gt],Mt+=Nt(Xt,Gt),Gt--;else break}lt=et+lt}else{for(var ge="",Te="",Mt=0,Ye=0,Ze=U-1;Mt<bt;){var pr=Nt(Xt,Ye),Cr=!1;pr+Mt<=bt&&(ge+=Xt[Ye],Ye++,Mt+=pr,Cr=!0);var Vr=Nt(Xt,Ze);if(Vr+Mt<=bt&&(Te=Xt[Ze]+Te,Mt+=Vr,Ze--,Cr=!0),!Cr)break}lt=ge+et+Te}return lt}var Oe="\u2026",He=2;function Zt(Xt){var bt=0;return(0,x.each)(Xt,function(F){var U=F.getBBox(),lt=U.width;bt<lt&&(bt=lt)}),bt}function be(Xt,bt){var F=bt.getCanvasBBox();return Xt?F.width:F.height}function _e(Xt,bt){return Xt.getBBox().width<bt}function Qe(Xt,bt,F,U){U===void 0&&(U="tail");var lt=bt.attr("text"),Mt=be(Xt,bt),Gt=Tt(lt),Kt=!1;if(F<Mt){var ge=Math.floor(F/Mt*Gt)-He,Te=void 0;ge>=0?Te=Ut(lt,ge,U):Te=Oe,Te&&(bt.attr("text",Te),Kt=!0)}return Kt?bt.set("tip",lt):bt.set("tip",null),Kt}function dr(Xt,bt){var F=bt.x,U=bt.y,lt=bt.content,Mt=bt.style,Gt=bt.id,Kt=bt.name,ge=bt.rotate,Te=bt.maxLength,Ye=bt.autoEllipsis,Ze=bt.isVertical,pr=bt.ellipsisPosition,Cr=bt.background,Vr=Xt.addGroup({id:Gt+"-group",name:Kt+"-group",attrs:{x:F,y:U}}),sn=Vr.addShape({type:"text",id:Gt,name:Kt,attrs:(0,m.__assign)({x:0,y:0,text:lt},Mt)}),rn=yt((0,x.get)(Cr,"padding",0));if(Te&&Ye){var An=Te-(rn[1]+rn[3]);Qe(!Ze,sn,An,pr)}if(Cr){var In=(0,x.get)(Cr,"style",{}),Pn=sn.getCanvasBBox(),zt=Pn.minX,pe=Pn.minY,ke=Pn.width,Ve=Pn.height,cr=Vr.addShape("rect",{id:Gt+"-bg",name:Gt+"-bg",attrs:(0,m.__assign)({x:zt-rn[3],y:pe-rn[0],width:ke+rn[1]+rn[3],height:Ve+rn[0]+rn[2]},In)});cr.toBack()}nt(Vr,F,U),dt(Vr,ge,F,U)}var ur={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},Dr=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:ur.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:ur.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:ur.lineColor,lineWidth:1}}}})},bt.prototype.renderInner=function(F){this.renderLine(F),this.get("text")&&this.renderLabel(F)},bt.prototype.renderLine=function(F){var U=this.get("start"),lt=this.get("end"),Mt=this.get("style");this.addShape(F,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,m.__assign)({x1:U.x,y1:U.y,x2:lt.x,y2:lt.y},Mt)})},bt.prototype.getLabelPoint=function(F,U,lt){var Mt;return lt==="start"?Mt=0:lt==="center"?Mt=.5:(0,x.isString)(lt)&&lt.indexOf("%")!==-1?Mt=parseInt(lt,10)/100:(0,x.isNumber)(lt)?Mt=lt:Mt=1,(Mt>1||Mt<0)&&(Mt=1),{x:wt(F.x,U.x,Mt),y:wt(F.y,U.y,Mt)}},bt.prototype.renderLabel=function(F){var U=this.get("text"),lt=this.get("start"),Mt=this.get("end"),Gt=U.position,Kt=U.content,ge=U.style,Te=U.offsetX,Ye=U.offsetY,Ze=U.autoRotate,pr=U.maxLength,Cr=U.autoEllipsis,Vr=U.ellipsisPosition,sn=U.background,rn=U.isVertical,An=rn===void 0?!1:rn,In=this.getLabelPoint(lt,Mt,Gt),Pn=In.x+Te,zt=In.y+Ye,pe={id:this.getElementId("line-text"),name:"annotation-line-text",x:Pn,y:zt,content:Kt,style:ge,maxLength:pr,autoEllipsis:Cr,ellipsisPosition:Vr,background:sn,isVertical:An};if(Ze){var ke=[Mt.x-lt.x,Mt.y-lt.y];pe.rotate=Math.atan2(ke[1],ke[0])}dr(F,pe)},bt}($),ne=Dr,se=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:ur.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:ur.fontFamily}}})},bt.prototype.setLocation=function(F){this.set("x",F.x),this.set("y",F.y),this.resetLocation()},bt.prototype.renderInner=function(F){var U=this.getLocation(),lt=U.x,Mt=U.y,Gt=this.get("content"),Kt=this.get("style"),ge=this.getElementId("text"),Te=this.get("name")+"-text",Ye=this.get("maxLength"),Ze=this.get("autoEllipsis"),pr=this.get("isVertical"),Cr=this.get("ellipsisPosition"),Vr=this.get("background"),sn=this.get("rotate"),rn={id:ge,name:Te,x:lt,y:Mt,content:Gt,style:Kt,maxLength:Ye,autoEllipsis:Ze,isVertical:pr,ellipsisPosition:Cr,background:Vr,rotate:sn};dr(F,rn)},bt.prototype.resetLocation=function(){var F=this.getElementByLocalId("text-group");if(F){var U=this.getLocation(),lt=U.x,Mt=U.y,Gt=this.get("rotate");nt(F,lt,Mt),dt(F,Gt,lt,Mt)}},bt}($),ye=se,We=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},bt.prototype.renderInner=function(F){this.renderArc(F)},bt.prototype.getArcPath=function(){var F=this.getLocation(),U=F.center,lt=F.radius,Mt=F.startAngle,Gt=F.endAngle,Kt=q(U,lt,Mt),ge=q(U,lt,Gt),Te=Gt-Mt>Math.PI?1:0,Ye=[["M",Kt.x,Kt.y]];if(Gt-Mt==Math.PI*2){var Ze=q(U,lt,Mt+Math.PI);Ye.push(["A",lt,lt,0,Te,1,Ze.x,Ze.y]),Ye.push(["A",lt,lt,0,Te,1,ge.x,ge.y])}else Ye.push(["A",lt,lt,0,Te,1,ge.x,ge.y]);return Ye},bt.prototype.renderArc=function(F){var U=this.getArcPath(),lt=this.get("style");this.addShape(F,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,m.__assign)({path:U},lt)})},bt}($),De=We,ae=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:ur.regionColor,opacity:.4}}})},bt.prototype.renderInner=function(F){this.renderRegion(F)},bt.prototype.renderRegion=function(F){var U=this.get("start"),lt=this.get("end"),Mt=this.get("style"),Gt=ft({start:U,end:lt});this.addShape(F,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,m.__assign)({x:Gt.x,y:Gt.y,width:Gt.width,height:Gt.height},Mt)})},bt}($),Yt=ae,st=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},bt.prototype.renderInner=function(F){this.renderImage(F)},bt.prototype.getImageAttrs=function(){var F=this.get("start"),U=this.get("end"),lt=this.get("style"),Mt=ft({start:F,end:U}),Gt=this.get("src");return(0,m.__assign)({x:Mt.x,y:Mt.y,img:Gt,width:Mt.width,height:Mt.height},lt)},bt.prototype.renderImage=function(F){this.addShape(F,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},bt}($),gt=st,kt=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:ur.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:ur.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:ur.fontFamily}}}})},bt.prototype.renderInner=function(F){(0,x.get)(this.get("line"),"display")&&this.renderLine(F),(0,x.get)(this.get("text"),"display")&&this.renderText(F),(0,x.get)(this.get("point"),"display")&&this.renderPoint(F),this.get("autoAdjust")&&this.autoAdjust(F)},bt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},bt.prototype.renderPoint=function(F){var U=this.getShapeAttrs().point;this.addShape(F,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:U})},bt.prototype.renderLine=function(F){var U=this.getShapeAttrs().line;this.addShape(F,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:U})},bt.prototype.renderText=function(F){var U=this.getShapeAttrs().text,lt=U.x,Mt=U.y,Gt=U.text,Kt=(0,m.__rest)(U,["x","y","text"]),ge=this.get("text"),Te=ge.background,Ye=ge.maxLength,Ze=ge.autoEllipsis,pr=ge.isVertival,Cr=ge.ellipsisPosition,Vr={x:lt,y:Mt,id:this.getElementId("text"),name:"annotation-text",content:Gt,style:Kt,background:Te,maxLength:Ye,autoEllipsis:Ze,isVertival:pr,ellipsisPosition:Cr};dr(F,Vr)},bt.prototype.autoAdjust=function(F){var U=this.get("direction"),lt=this.get("x"),Mt=this.get("y"),Gt=(0,x.get)(this.get("line"),"length",0),Kt=this.get("coordinateBBox"),ge=F.getBBox(),Te=ge.minX,Ye=ge.maxX,Ze=ge.minY,pr=ge.maxY,Cr=F.findById(this.getElementId("text-group")),Vr=F.findById(this.getElementId("text")),sn=F.findById(this.getElementId("line"));if(!!Kt){if(Cr){if(lt+Te<=Kt.minX){var rn=Kt.minX-(lt+Te);nt(Cr,Cr.attr("x")+rn,Cr.attr("y"))}if(lt+Ye>=Kt.maxX){var rn=lt+Ye-Kt.maxX;nt(Cr,Cr.attr("x")-rn,Cr.attr("y"))}}if(U==="upward"&&Mt+Ze<=Kt.minY||U!=="upward"&&Mt+pr>=Kt.maxY){var An=void 0,In=void 0;U==="upward"&&Mt+Ze<=Kt.minY?(An="top",In=1):(An="bottom",In=-1),Vr.attr("textBaseline",An),sn&&sn.attr("path",[["M",0,0],["L",0,Gt*In]]),nt(Cr,Cr.attr("x"),(Gt+2)*In)}}},bt.prototype.getShapeAttrs=function(){var F=(0,x.get)(this.get("line"),"display"),U=(0,x.get)(this.get("point"),"style",{}),lt=(0,x.get)(this.get("line"),"style",{}),Mt=(0,x.get)(this.get("text"),"style",{}),Gt=this.get("direction"),Kt=F?(0,x.get)(this.get("line"),"length",0):0,ge=Gt==="upward"?-1:1;return{point:(0,m.__assign)({x:0,y:0},U),line:(0,m.__assign)({path:[["M",0,0],["L",0,Kt*ge]]},lt),text:(0,m.__assign)({x:0,y:(Kt+2)*ge,text:(0,x.get)(this.get("text"),"content",""),textBaseline:Gt==="upward"?"bottom":"top"},Mt)}},bt}($),Ft=kt,jt=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:ur.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:ur.textColor,fontFamily:ur.fontFamily}}}})},bt.prototype.renderInner=function(F){var U=(0,x.get)(this.get("region"),"style",{}),lt=(0,x.get)(this.get("text"),"style",{}),Mt=this.get("lineLength")||0,Gt=this.get("points");if(!!Gt.length){var Kt=rt(Gt),ge=[];ge.push(["M",Gt[0].x,Kt.minY-Mt]),Gt.forEach(function(Ye){ge.push(["L",Ye.x,Ye.y])}),ge.push(["L",Gt[Gt.length-1].x,Gt[Gt.length-1].y-Mt]),this.addShape(F,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,m.__assign)({path:ge},U)});var Te=(0,m.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(Kt.minX+Kt.maxX)/2,y:Kt.minY-Mt},this.get("text"));dr(F,Te)}},bt}($),fe=jt,Ce=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},bt.prototype.renderInner=function(F){var U=this,lt=this.get("start"),Mt=this.get("end"),Gt=this.addGroup(F,{id:this.getElementId("region-filter"),capture:!1});(0,x.each)(this.get("shapes"),function(ge,Te){var Ye=ge.get("type"),Ze=(0,x.clone)(ge.attr());U.adjustShapeAttrs(Ze),U.addShape(Gt,{id:U.getElementId("shape-"+Ye+"-"+Te),capture:!1,type:Ye,attrs:Ze})});var Kt=ft({start:lt,end:Mt});Gt.setClip({type:"rect",attrs:{x:Kt.minX,y:Kt.minY,width:Kt.width,height:Kt.height}})},bt.prototype.adjustShapeAttrs=function(F){var U=this.get("color");F.fill&&(F.fill=F.fillStyle=U),F.stroke=F.strokeStyle=U},bt}($),xe=Ce;function ve(Xt,bt,F){var U=bt+"Style",lt=null;return(0,x.each)(F,function(Mt,Gt){Xt[Gt]&&Mt[U]&&(lt||(lt={}),(0,x.mix)(lt,Mt[U]))}),lt}var Ue=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:ur.lineColor}},tickLine:{style:{lineWidth:1,stroke:ur.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:ur.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:ur.textColor,textBaseline:"middle",fontFamily:ur.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:ur.textColor,textBaseline:"middle",fontFamily:ur.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:ur.uncheckedColor}}}}})},bt.prototype.renderInner=function(F){this.get("line")&&this.drawLine(F),this.drawTicks(F),this.get("title")&&this.drawTitle(F)},bt.prototype.isList=function(){return!0},bt.prototype.getItems=function(){return this.get("ticks")},bt.prototype.setItems=function(F){this.update({ticks:F})},bt.prototype.updateItem=function(F,U){(0,x.mix)(F,U),this.clear(),this.render()},bt.prototype.clearItems=function(){var F=this.getElementByLocalId("label-group");F&&F.clear()},bt.prototype.setItemState=function(F,U,lt){F[U]=lt,this.updateTickStates(F)},bt.prototype.hasState=function(F,U){return!!F[U]},bt.prototype.getItemStates=function(F){var U=this.get("tickStates"),lt=[];return(0,x.each)(U,function(Mt,Gt){F[Gt]&&lt.push(Gt)}),lt},bt.prototype.clearItemsState=function(F){var U=this,lt=this.getItemsByState(F);(0,x.each)(lt,function(Mt){U.setItemState(Mt,F,!1)})},bt.prototype.getItemsByState=function(F){var U=this,lt=this.getItems();return(0,x.filter)(lt,function(Mt){return U.hasState(Mt,F)})},bt.prototype.getSidePoint=function(F,U){var lt=this,Mt=lt.getSideVector(U,F);return{x:F.x+Mt[0],y:F.y+Mt[1]}},bt.prototype.getTextAnchor=function(F){var U;return(0,x.isNumberEqual)(F[0],0)?U="center":F[0]>0?U="start":F[0]<0&&(U="end"),U},bt.prototype.processOverlap=function(F){},bt.prototype.drawLine=function(F){var U=this.getLinePath(),lt=this.get("line");this.addShape(F,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,x.mix)({path:U},lt.style)})},bt.prototype.getTickLineItems=function(F){var U=this,lt=[],Mt=this.get("tickLine"),Gt=Mt.alignTick,Kt=Mt.length,ge=1,Te=F.length;return Te>=2&&(ge=F[1].value-F[0].value),(0,x.each)(F,function(Ye){var Ze=Ye.point;Gt||(Ze=U.getTickPoint(Ye.value-ge/2));var pr=U.getSidePoint(Ze,Kt);lt.push({startPoint:Ze,tickValue:Ye.value,endPoint:pr,tickId:Ye.id,id:"tickline-"+Ye.id})}),lt},bt.prototype.getSubTickLineItems=function(F){var U=[],lt=this.get("subTickLine"),Mt=lt.count,Gt=F.length;if(Gt>=2)for(var Kt=0;Kt<Gt-1;Kt++)for(var ge=F[Kt],Te=F[Kt+1],Ye=0;Ye<Mt;Ye++){var Ze=(Ye+1)/(Mt+1),pr=(1-Ze)*ge.tickValue+Ze*Te.tickValue,Cr=this.getTickPoint(pr),Vr=this.getSidePoint(Cr,lt.length);U.push({startPoint:Cr,endPoint:Vr,tickValue:pr,id:"sub-"+ge.id+"-"+Ye})}return U},bt.prototype.getTickLineAttrs=function(F,U){var lt=this.get(U).style,Mt=F.startPoint,Gt=F.endPoint,Kt=(0,x.mix)({x1:Mt.x,y1:Mt.y,x2:Gt.x,y2:Gt.y},lt);return Kt},bt.prototype.drawTick=function(F,U,lt){this.addShape(U,{type:"line",id:this.getElementId(F.id),name:"axis-"+lt,attrs:this.getTickLineAttrs(F,lt)})},bt.prototype.drawTickLines=function(F){var U=this,lt=this.get("ticks"),Mt=this.get("subTickLine"),Gt=this.getTickLineItems(lt),Kt=this.addGroup(F,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),ge=this.get("tickLine");if((0,x.each)(Gt,function(Ye){if(ge.displayWithLabel){var Ze=U.getElementId("label-"+Ye.tickId);F.findById(Ze)&&U.drawTick(Ye,Kt,"tickLine")}else U.drawTick(Ye,Kt,"tickLine")}),Mt){var Te=this.getSubTickLineItems(Gt);(0,x.each)(Te,function(Ye){U.drawTick(Ye,Kt,"subTickLine")})}},bt.prototype.processTicks=function(){var F=this,U=this.get("ticks");(0,x.each)(U,function(lt){lt.point=F.getTickPoint(lt.value),(0,x.isNil)(lt.id)&&(lt.id=lt.name)})},bt.prototype.drawTicks=function(F){var U=this;this.processTicks(),this.get("label")&&this.drawLabels(F),this.get("tickLine")&&this.drawTickLines(F);var lt=this.get("ticks");(0,x.each)(lt,function(Mt){U.applyTickStates(Mt,F)})},bt.prototype.getLabelAttrs=function(F,U){var lt=this.get("label"),Mt=lt.offset,Gt=lt.style,Kt=lt.rotate,ge=lt.formatter,Te=this.getSidePoint(F.point,Mt),Ye=this.getSideVector(Mt,Te),Ze=ge?ge(F.name,F,U):F.name,pr=(0,x.mix)({x:Te.x,y:Te.y,text:Ze,textAlign:this.getTextAnchor(Ye)},Gt);return Kt&&(pr.matrix=W(Te,Kt)),pr},bt.prototype.drawLabels=function(F){var U=this,lt=this.get("ticks"),Mt=this.addGroup(F,{name:"axis-label-group",id:this.getElementId("label-group")});(0,x.each)(lt,function(Gt,Kt){U.addShape(Mt,{type:"text",name:"axis-label",id:U.getElementId("label-"+Gt.id),attrs:U.getLabelAttrs(Gt,Kt),delegateObject:{tick:Gt,item:Gt,index:Kt}})}),this.processOverlap(Mt)},bt.prototype.getTitleAttrs=function(){var F=this.get("title"),U=F.style,lt=F.position,Mt=F.offset,Gt=F.spacing,Kt=Gt===void 0?0:Gt,ge=F.autoRotate,Te=U.fontSize,Ye=.5;lt==="start"?Ye=0:lt==="end"&&(Ye=1);var Ze=this.getTickPoint(Ye),pr=this.getSidePoint(Ze,Mt||Kt+Te/2),Cr=(0,x.mix)({x:pr.x,y:pr.y,text:F.text},U),Vr=F.rotate,sn=Vr;if((0,x.isNil)(Vr)&&ge){var rn=this.getAxisVector(Ze),An=[1,0];sn=_.angleTo(rn,An,!0)}if(sn){var In=W(pr,sn);Cr.matrix=In}return Cr},bt.prototype.drawTitle=function(F){this.addShape(F,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},bt.prototype.applyTickStates=function(F,U){var lt=this.getItemStates(F);if(lt.length){var Mt=this.get("tickStates"),Gt=this.getElementId("label-"+F.id),Kt=U.findById(Gt);if(Kt){var ge=ve(F,"label",Mt);ge&&Kt.attr(ge)}var Te=this.getElementId("tickline-"+F.id),Ye=U.findById(Te);if(Ye){var Ze=ve(F,"tickLine",Mt);Ze&&Ye.attr(Ze)}}},bt.prototype.updateTickStates=function(F){var U=this.getItemStates(F),lt=this.get("tickStates"),Mt=this.get("label"),Gt=this.getElementByLocalId("label-"+F.id),Kt=this.get("tickLine"),ge=this.getElementByLocalId("tickline-"+F.id);if(U.length){if(Gt){var Te=ve(F,"label",lt);Te&&Gt.attr(Te)}if(ge){var Ye=ve(F,"tickLine",lt);Ye&&ge.attr(Ye)}}else Gt&&Gt.attr(Mt.style),ge&&ge.attr(Kt.style)},bt}($),Ne=Ue;function tr(Xt,bt,F,U){var lt=bt.getChildren(),Mt=!1;return(0,x.each)(lt,function(Gt){var Kt=Qe(Xt,Gt,F,U);Mt=Mt||Kt}),Mt}function Er(){return Tr}function hr(Xt,bt,F){return tr(Xt,bt,F,"head")}function Tr(Xt,bt,F){return tr(Xt,bt,F,"tail")}function _r(Xt,bt,F){return tr(Xt,bt,F,"middle")}function Nr(Xt){var bt=Xt.attr("matrix");return bt&&bt[0]!==1}function ir(Xt,bt,F,U,lt){lt===void 0&&(lt=!1);var Mt=!1;if(Xt)Mt=Math.abs(F.y-U.y)<F.height;else if(bt){var Gt=lt?U.height:F.height;Mt=Math.abs(F.x-U.x)<Gt}else{var Kt=lt?U.width:F.width;Mt=Math.abs(F.x-U.x)<Kt}return Mt}function wr(Xt,bt,F){var U=bt.getChildren().slice();if(!U.length)return!1;var lt=!1;F&&U.reverse();for(var Mt=U.length,Gt=U[0],Kt=Nr(Gt),ge=Gt.getBBox(),Te=1;Te<Mt;Te++){var Ye=U[Te],Ze=Ye.getBBox(),pr=ir(Xt,Kt,ge,Ze,F);pr?(Ye.hide(),lt=!0):ge=Ze}return lt}function Zr(){return ue}function Wr(Xt,bt){return wr(Xt,bt,!1)}function Qr(Xt,bt){return wr(Xt,bt,!0)}function ie(Xt,bt){var F=bt.getChildren().slice();if(F.length<=2)return!1;for(var U=!1,lt=F.length,Mt=F[0],Gt=F[lt-1],Kt=Nr(Mt),ge=Mt.getBBox(),Te=Mt,Ye=1;Ye<lt-1;Ye++){var Ze=F[Ye],pr=Ze.getBBox(),Cr=ir(Xt,Kt,ge,pr);Cr?(Ze.hide(),U=!0):(ge=pr,Te=Ze)}var Vr=Gt.getBBox(),sn=ir(Xt,Kt,ge,Vr);return sn&&(Te.hide(),U=!0),U}function ue(Xt,bt){var F=bt.getChildren().slice();if(F.length<2)return!1;var U=!1,lt=F[0],Mt=lt.getBBox(),Gt=F[1],Kt=Nr(lt),ge=F.length,Te=0;if(Xt){var Ye=Math.abs(Gt.attr("y")-lt.attr("y"));Te=Mt.height/Ye}else if(Kt){var Ye=Math.abs(Gt.attr("x")-lt.attr("x"));Te=Mt.width/Ye}else{var Ze=Zt(F),Ye=Math.abs(Gt.attr("x")-lt.attr("x"));Te=Ze/Ye}if(Te>1){Te=Math.ceil(Te);for(var pr=0;pr<ge;pr++)pr%Te!=0&&(F[pr].hide(),U=!0)}return U}function me(Xt,bt){(0,x.each)(Xt,function(F){var U=F.attr("x"),lt=F.attr("y"),Mt=W({x:U,y:lt},bt);F.attr("matrix",Mt)})}function Le(Xt,bt,F,U){var lt=bt.getChildren();if(!lt.length||!Xt&&lt.length<2)return!1;var Mt=Zt(lt),Gt=!1;if(Xt)Gt=!!F&&Mt>F;else{var Kt=Math.abs(lt[1].attr("x")-lt[0].attr("x"));Gt=Mt>Kt}if(Gt){var ge=U(F,Mt);me(lt,ge)}return Gt}function Xe(){return $e}function $e(Xt,bt,F){return Le(Xt,bt,F,function(){return Xt?ur.verticalAxisRotate:ur.horizontalAxisRotate})}function mr(Xt,bt,F){return Le(Xt,bt,F,function(U,lt){if(!U)return Xt?ur.verticalAxisRotate:ur.horizontalAxisRotate;if(Xt)return-Math.acos(U/lt);var Mt=0;return U>lt?Mt=Math.PI/4:(Mt=Math.asin(U/lt),Mt>Math.PI/4&&(Mt=Math.PI/4)),Mt})}var kr=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{type:"line",locationType:"region",start:null,end:null})},bt.prototype.getLinePath=function(){var F=this.get("start"),U=this.get("end"),lt=[];return lt.push(["M",F.x,F.y]),lt.push(["L",U.x,U.y]),lt},bt.prototype.getInnerLayoutBBox=function(){var F=this.get("start"),U=this.get("end"),lt=Xt.prototype.getInnerLayoutBBox.call(this),Mt=Math.min(F.x,U.x,lt.x),Gt=Math.min(F.y,U.y,lt.y),Kt=Math.max(F.x,U.x,lt.maxX),ge=Math.max(F.y,U.y,lt.maxY);return{x:Mt,y:Gt,minX:Mt,minY:Gt,maxX:Kt,maxY:ge,width:Kt-Mt,height:ge-Gt}},bt.prototype.isVertical=function(){var F=this.get("start"),U=this.get("end");return(0,x.isNumberEqual)(F.x,U.x)},bt.prototype.isHorizontal=function(){var F=this.get("start"),U=this.get("end");return(0,x.isNumberEqual)(F.y,U.y)},bt.prototype.getTickPoint=function(F){var U=this,lt=U.get("start"),Mt=U.get("end"),Gt=Mt.x-lt.x,Kt=Mt.y-lt.y;return{x:lt.x+Gt*F,y:lt.y+Kt*F}},bt.prototype.getSideVector=function(F){var U=this.getAxisVector(),lt=B.normalize([0,0],U),Mt=this.get("verticalFactor"),Gt=[lt[1],lt[0]*-1];return B.scale([0,0],Gt,F*Mt)},bt.prototype.getAxisVector=function(){var F=this.get("start"),U=this.get("end");return[U.x-F.x,U.y-F.y]},bt.prototype.processOverlap=function(F){var U=this,lt=this.isVertical(),Mt=this.isHorizontal();if(!(!lt&&!Mt)){var Gt=this.get("label"),Kt=this.get("title"),ge=this.get("verticalLimitLength"),Te=Gt.offset,Ye=ge,Ze=0,pr=0;Kt&&(Ze=Kt.style.fontSize,pr=Kt.spacing),Ye&&(Ye=Ye-Te-pr-Ze);var Cr=this.get("overlapOrder");if((0,x.each)(Cr,function(rn){Gt[rn]&&U.autoProcessOverlap(rn,Gt[rn],F,Ye)}),Kt){var Vr=F.getBBox(),sn=lt?Vr.width:Vr.height;(0,x.isNil)(Kt.offset)&&(Kt.offset=Te+sn+pr+Ze/2)}}},bt.prototype.autoProcessOverlap=function(F,U,lt,Mt){var Gt=this,Kt=this.isVertical(),ge=!1,Te=O[F];if(U===!0?ge=Te.getDefault()(Kt,lt,Mt):(0,x.isFunction)(U)?ge=U(Kt,lt,Mt):Te[U]&&(ge=Te[U](Kt,lt,Mt)),F==="autoRotate"){if(ge){var Ye=lt.getChildren(),Ze=this.get("verticalFactor");(0,x.each)(Ye,function(Cr){var Vr=Cr.attr("textAlign");if(Vr==="center"){var sn=Ze>0?"end":"start";Cr.attr("textAlign",sn)}})}}else if(F==="autoHide"){var pr=lt.getChildren().slice(0);(0,x.each)(pr,function(Cr){Cr.get("visible")||(Gt.get("isRegister")&&Gt.unregisterElement(Cr),Cr.remove())})}},bt}(Ne),$r=kr,lr=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},bt.prototype.getLinePath=function(){var F=this.get("center"),U=F.x,lt=F.y,Mt=this.get("radius"),Gt=Mt,Kt=this.get("startAngle"),ge=this.get("endAngle"),Te=[];if(Math.abs(ge-Kt)===Math.PI*2)Te=[["M",U,lt-Gt],["A",Mt,Gt,0,1,1,U,lt+Gt],["A",Mt,Gt,0,1,1,U,lt-Gt],["Z"]];else{var Ye=this.getCirclePoint(Kt),Ze=this.getCirclePoint(ge),pr=Math.abs(ge-Kt)>Math.PI?1:0,Cr=Kt>ge?0:1;Te=[["M",U,lt],["L",Ye.x,Ye.y],["A",Mt,Gt,0,pr,Cr,Ze.x,Ze.y],["L",U,lt]]}return Te},bt.prototype.getTickPoint=function(F){var U=this.get("startAngle"),lt=this.get("endAngle"),Mt=U+(lt-U)*F;return this.getCirclePoint(Mt)},bt.prototype.getSideVector=function(F,U){var lt=this.get("center"),Mt=[U.x-lt.x,U.y-lt.y],Gt=this.get("verticalFactor"),Kt=B.length(Mt);return B.scale(Mt,Mt,Gt*F/Kt),Mt},bt.prototype.getAxisVector=function(F){var U=this.get("center"),lt=[F.x-U.x,F.y-U.y];return[lt[1],-1*lt[0]]},bt.prototype.getCirclePoint=function(F,U){var lt=this.get("center");return U=U||this.get("radius"),{x:lt.x+Math.cos(F)*U,y:lt.y+Math.sin(F)*U}},bt}(Ne),Gr=lr,bn=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:ur.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:ur.textColor,textAlign:"center",textBaseline:"middle",fontFamily:ur.fontFamily}},textBackground:{padding:5,style:{stroke:ur.lineColor}}}})},bt.prototype.renderInner=function(F){this.get("line")&&this.renderLine(F),this.get("text")&&(this.renderText(F),this.renderBackground(F))},bt.prototype.renderText=function(F){var U=this.get("text"),lt=U.style,Mt=U.autoRotate,Gt=U.content;if(!(0,x.isNil)(Gt)){var Kt=this.getTextPoint(),ge=null;if(Mt){var Te=this.getRotateAngle();ge=W(Kt,Te)}this.addShape(F,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,m.__assign)((0,m.__assign)((0,m.__assign)({},Kt),{text:Gt,matrix:ge}),lt)})}},bt.prototype.renderLine=function(F){var U=this.getLinePath(),lt=this.get("line"),Mt=lt.style;this.addShape(F,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,m.__assign)({path:U},Mt)})},bt.prototype.renderBackground=function(F){var U=this.getElementId("text"),lt=F.findById(U),Mt=this.get("textBackground");if(Mt&&lt){var Gt=lt.getBBox(),Kt=yt(Mt.padding),ge=Mt.style,Te=this.addShape(F,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,m.__assign)({x:Gt.x-Kt[3],y:Gt.y-Kt[0],width:Gt.width+Kt[1]+Kt[3],height:Gt.height+Kt[0]+Kt[2],matrix:lt.attr("matrix")},ge)});Te.toBack()}},bt}($),Ln=bn,dn=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{type:"line",locationType:"region",start:null,end:null})},bt.prototype.getRotateAngle=function(){var F=this.getLocation(),U=F.start,lt=F.end,Mt=this.get("text").position,Gt=Math.atan2(lt.y-U.y,lt.x-U.x),Kt=Mt==="start"?Gt-Math.PI/2:Gt+Math.PI/2;return Kt},bt.prototype.getTextPoint=function(){var F=this.getLocation(),U=F.start,lt=F.end,Mt=this.get("text"),Gt=Mt.position,Kt=Mt.offset;return re(U,lt,Gt,Kt)},bt.prototype.getLinePath=function(){var F=this.getLocation(),U=F.start,lt=F.end;return[["M",U.x,U.y],["L",lt.x,lt.y]]},bt}(Ln),Mn=dn,Jn=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},bt.prototype.getRotateAngle=function(){var F=this.getLocation(),U=F.startAngle,lt=F.endAngle,Mt=this.get("text").position,Gt=Mt==="start"?U+Math.PI/2:lt-Math.PI/2;return Gt},bt.prototype.getTextPoint=function(){var F=this.get("text"),U=F.position,lt=F.offset,Mt=this.getLocation(),Gt=Mt.center,Kt=Mt.radius,ge=Mt.startAngle,Te=Mt.endAngle,Ye=U==="start"?ge:Te,Ze=this.getRotateAngle()-Math.PI,pr=q(Gt,Kt,Ye),Cr=Math.cos(Ze)*lt,Vr=Math.sin(Ze)*lt;return{x:pr.x+Cr,y:pr.y+Vr}},bt.prototype.getLinePath=function(){var F=this.getLocation(),U=F.center,lt=F.radius,Mt=F.startAngle,Gt=F.endAngle,Kt=null;if(Gt-Mt==Math.PI*2){var ge=U.x,Te=U.y;Kt=[["M",ge,Te-lt],["A",lt,lt,0,1,1,ge,Te+lt],["A",lt,lt,0,1,1,ge,Te-lt],["Z"]]}else{var Ye=q(U,lt,Mt),Ze=q(U,lt,Gt),pr=Math.abs(Gt-Mt)>Math.PI?1:0,Cr=Mt>Gt?0:1;Kt=[["M",Ye.x,Ye.y],["A",lt,lt,0,pr,Cr,Ze.x,Ze.y]]}return Kt},bt}(Ln),qn=Jn,ui=v(6056),Fn=v(45442),Pi=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},bt.prototype.getContainer=function(){return this.get("container")},bt.prototype.show=function(){var F=this.get("container");F.style.display="",this.set("visible",!0)},bt.prototype.hide=function(){var F=this.get("container");F.style.display="none",this.set("visible",!1)},bt.prototype.setCapture=function(F){var U=this.getContainer(),lt=F?"auto":"none";U.style.pointerEvents=lt,this.set("capture",F)},bt.prototype.getBBox=function(){var F=this.getContainer(),U=parseFloat(F.style.left)||0,lt=parseFloat(F.style.top)||0;return St(U,lt,F.clientWidth,F.clientHeight)},bt.prototype.clear=function(){var F=this.get("container");tt(F)},bt.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Xt.prototype.destroy.call(this)},bt.prototype.init=function(){Xt.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},bt.prototype.initCapture=function(){this.setCapture(this.get("capture"))},bt.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},bt.prototype.initDom=function(){},bt.prototype.initContainer=function(){var F=this.get("container");if((0,x.isNil)(F)){F=this.createDom();var U=this.get("parent");(0,x.isString)(U)&&(U=document.getElementById(U),this.set("parent",U)),U.appendChild(F),this.set("container",F)}else(0,x.isString)(F)&&(F=document.getElementById(F),this.set("container",F));this.get("parent")||this.set("parent",F.parentNode)},bt.prototype.resetStyles=function(){var F=this.get("domStyles"),U=this.get("defaultStyles");F?F=(0,x.deepMix)({},U,F):F=U,this.set("domStyles",F)},bt.prototype.applyStyles=function(){var F=this.get("domStyles");if(!!F){var U=this.getContainer();this.applyChildrenStyles(U,F);var lt=this.get("containerClassName");if(lt&&J(U,lt)){var Mt=F[lt];(0,Fn.Z)(U,Mt)}}},bt.prototype.applyChildrenStyles=function(F,U){(0,x.each)(U,function(lt,Mt){var Gt=F.getElementsByClassName(Mt);(0,x.each)(Gt,function(Kt){(0,Fn.Z)(Kt,lt)})})},bt.prototype.applyStyle=function(F,U){var lt=this.get("domStyles");(0,Fn.Z)(U,lt[F])},bt.prototype.createDom=function(){var F=this.get("containerTpl");return(0,ui.Z)(F)},bt.prototype.initEvent=function(){},bt.prototype.removeDom=function(){var F=this.get("container");F&&F.parentNode.removeChild(F)},bt.prototype.removeEvent=function(){},bt.prototype.updateInner=function(F){(0,x.hasKey)(F,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},bt.prototype.resetPosition=function(){},bt}(Rt),Bt=Pi,G="g2-crosshair",V=G+"-line",Y=G+"-text",Z,Ct=(Z={},Z[""+G]={position:"relative"},Z[""+V]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Z[""+Y]={position:"absolute",color:ur.textColor,fontFamily:ur.fontFamily},Z),_t=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+G+'"></div>',crosshairTpl:'<div class="'+V+'"></div>',textTpl:'<span class="'+Y+'">{content}</span>',domStyles:null,containerClassName:G,defaultStyles:Ct,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},bt.prototype.render=function(){this.resetText(),this.resetPosition()},bt.prototype.initCrossHair=function(){var F=this.getContainer(),U=this.get("crosshairTpl"),lt=(0,ui.Z)(U);F.appendChild(lt),this.applyStyle(V,lt),this.set("crosshairEl",lt)},bt.prototype.getTextPoint=function(){var F=this.getLocation(),U=F.start,lt=F.end,Mt=this.get("text"),Gt=Mt.position,Kt=Mt.offset;return re(U,lt,Gt,Kt)},bt.prototype.resetText=function(){var F=this.get("text"),U=this.get("textEl");if(F){var lt=F.content;if(!U){var Mt=this.getContainer(),Gt=(0,x.substitute)(this.get("textTpl"),F);U=(0,ui.Z)(Gt),Mt.appendChild(U),this.applyStyle(Y,U),this.set("textEl",U)}U.innerHTML=lt}else U&&U.remove()},bt.prototype.isVertical=function(F,U){return F.x===U.x},bt.prototype.resetPosition=function(){var F=this.get("crosshairEl");F||(this.initCrossHair(),F=this.get("crosshairEl"));var U=this.get("start"),lt=this.get("end"),Mt=Math.min(U.x,lt.x),Gt=Math.min(U.y,lt.y);this.isVertical(U,lt)?(0,Fn.Z)(F,{width:"1px",height:$t(Math.abs(lt.y-U.y))}):(0,Fn.Z)(F,{height:"1px",width:$t(Math.abs(lt.x-U.x))}),(0,Fn.Z)(F,{top:$t(Gt),left:$t(Mt)}),this.alignText()},bt.prototype.alignText=function(){var F=this.get("textEl");if(F){var U=this.get("text").align,lt=F.clientWidth,Mt=this.getTextPoint();switch(U){case"center":Mt.x=Mt.x-lt/2;break;case"right":Mt.x=Mt.x-lt;case"left":break}(0,Fn.Z)(F,{top:$t(Mt.y),left:$t(Mt.x)})}},bt.prototype.updateInner=function(F){(0,x.hasKey)(F,"text")&&this.resetText(),Xt.prototype.updateInner.call(this,F)},bt}(Bt),Wt=_t,Jt=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:ur.lineColor}}}})},bt.prototype.getLineType=function(){var F=this.get("line")||this.get("defaultCfg").line;return F.type},bt.prototype.renderInner=function(F){this.drawGrid(F)},bt.prototype.getAlternatePath=function(F,U){var lt=this.getGridPath(F),Mt=U.slice(0).reverse(),Gt=this.getGridPath(Mt,!0),Kt=this.get("closed");return Kt?lt=lt.concat(Gt):(Gt[0][0]="L",lt=lt.concat(Gt),lt.push(["Z"])),lt},bt.prototype.getPathStyle=function(){return this.get("line").style},bt.prototype.drawGrid=function(F){var U=this,lt=this.get("line"),Mt=this.get("items"),Gt=this.get("alternateColor"),Kt=null;(0,x.each)(Mt,function(ge,Te){var Ye=ge.id||Te;if(lt){var Ze=U.getPathStyle(),pr=U.getElementId("line-"+Ye),Cr=U.getGridPath(ge.points);U.addShape(F,{type:"path",name:"grid-line",id:pr,attrs:(0,x.mix)({path:Cr},Ze)})}if(Gt&&Te>0){var Vr=U.getElementId("region-"+Ye),sn=Te%2==0;if((0,x.isString)(Gt))sn&&U.drawAlternateRegion(Vr,F,Kt.points,ge.points,Gt);else{var rn=sn?Gt[1]:Gt[0];U.drawAlternateRegion(Vr,F,Kt.points,ge.points,rn)}}Kt=ge})},bt.prototype.drawAlternateRegion=function(F,U,lt,Mt,Gt){var Kt=this.getAlternatePath(lt,Mt);this.addShape(U,{type:"path",id:F,name:"grid-region",attrs:{path:Kt,fill:Gt}})},bt}($),ee=Jt;function Be(Xt,bt,F,U){var lt=F-Xt,Mt=U-bt;return Math.sqrt(lt*lt+Mt*Mt)}var Ge=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{type:"circle",center:null,closed:!0})},bt.prototype.getGridPath=function(F,U){var lt=this.getLineType(),Mt=this.get("closed"),Gt=[];if(F.length)if(lt==="circle"){var Kt=this.get("center"),ge=F[0],Te=Be(Kt.x,Kt.y,ge.x,ge.y),Ye=U?0:1;Mt?(Gt.push(["M",Kt.x,Kt.y-Te]),Gt.push(["A",Te,Te,0,0,Ye,Kt.x,Kt.y+Te]),Gt.push(["A",Te,Te,0,0,Ye,Kt.x,Kt.y-Te]),Gt.push(["Z"])):(0,x.each)(F,function(Ze,pr){pr===0?Gt.push(["M",Ze.x,Ze.y]):Gt.push(["A",Te,Te,0,0,Ye,Ze.x,Ze.y])})}else(0,x.each)(F,function(Ze,pr){pr===0?Gt.push(["M",Ze.x,Ze.y]):Gt.push(["L",Ze.x,Ze.y])}),Mt&&Gt.push(["Z"]);return Gt},bt}(ee),Fe=Ge,or=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{type:"line"})},bt.prototype.getGridPath=function(F){var U=[];return(0,x.each)(F,function(lt,Mt){Mt===0?U.push(["M",lt.x,lt.y]):U.push(["L",lt.x,lt.y])}),U},bt}(ee),fr=or,ze=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},bt.prototype.getLayoutBBox=function(){var F=Xt.prototype.getLayoutBBox.call(this),U=this.get("x"),lt=this.get("y"),Mt=this.get("offsetX"),Gt=this.get("offsetY"),Kt=this.get("maxWidth"),ge=this.get("maxHeight"),Te=U+Mt,Ye=lt+Gt,Ze=F.maxX-Te,pr=F.maxY-Ye;return Kt&&(Ze=Math.min(Ze,Kt)),ge&&(pr=Math.min(pr,ge)),St(Te,Ye,Ze,pr)},bt.prototype.setLocation=function(F){this.set("x",F.x),this.set("y",F.y),this.resetLocation()},bt.prototype.resetLocation=function(){var F=this.get("x"),U=this.get("y"),lt=this.get("offsetX"),Mt=this.get("offsetY");this.moveElementTo(this.get("group"),{x:F+lt,y:U+Mt})},bt.prototype.applyOffset=function(){this.resetLocation()},bt.prototype.getDrawPoint=function(){return this.get("currentPoint")},bt.prototype.setDrawPoint=function(F){return this.set("currentPoint",F)},bt.prototype.renderInner=function(F){this.resetDraw(),this.get("title")&&this.drawTitle(F),this.drawLegendContent(F),this.get("background")&&this.drawBackground(F)},bt.prototype.drawBackground=function(F){var U=this.get("background"),lt=F.getBBox(),Mt=yt(U.padding),Gt=(0,m.__assign)({x:0,y:0,width:lt.width+Mt[1]+Mt[3],height:lt.height+Mt[0]+Mt[2]},U.style),Kt=this.addShape(F,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:Gt});Kt.toBack()},bt.prototype.drawTitle=function(F){var U=this.get("currentPoint"),lt=this.get("title"),Mt=lt.spacing,Gt=lt.style,Kt=lt.text,ge=this.addShape(F,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,m.__assign)({text:Kt,x:U.x,y:U.y},Gt)}),Te=ge.getBBox();this.set("currentPoint",{x:U.x,y:Te.maxY+Mt})},bt.prototype.resetDraw=function(){var F=this.get("background"),U={x:0,y:0};if(F){var lt=yt(F.padding);U.x=lt[3],U.y=lt[0]}this.set("currentPoint",U)},bt}($),gr=ze,Br=function(Xt){(0,m.__extends)(bt,Xt);function bt(){var F=Xt!==null&&Xt.apply(this,arguments)||this;return F.currentPageIndex=1,F.totalPagesCnt=1,F.pageWidth=0,F.pageHeight=0,F.startX=0,F.startY=0,F.onNavigationBack=function(){var U=F.getElementByLocalId("item-group");if(F.currentPageIndex>1){F.currentPageIndex-=1,F.updateNavigation();var lt=F.getCurrentNavigationMatrix();F.get("animate")?U.animate({matrix:lt},100):U.attr({matrix:lt})}},F.onNavigationAfter=function(){var U=F.getElementByLocalId("item-group");if(F.currentPageIndex<F.totalPagesCnt){F.currentPageIndex+=1,F.updateNavigation();var lt=F.getCurrentNavigationMatrix();F.get("animate")?U.animate({matrix:lt},100):U.attr({matrix:lt})}},F}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:ur.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:ur.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:ur.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:ur.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:ur.uncheckedColor},markerStyle:{fill:ur.uncheckedColor,stroke:ur.uncheckedColor}},inactive:{nameStyle:{fill:ur.uncheckedColor},markerStyle:{opacity:.2}}}}})},bt.prototype.isList=function(){return!0},bt.prototype.getItems=function(){return this.get("items")},bt.prototype.setItems=function(F){this.update({items:F})},bt.prototype.updateItem=function(F,U){(0,x.mix)(F,U),this.clear(),this.render()},bt.prototype.clearItems=function(){var F=this.getElementByLocalId("item-group");F&&F.clear()},bt.prototype.setItemState=function(F,U,lt){F[U]=lt;var Mt=this.getElementByLocalId("item-"+F.id);if(Mt){var Gt=this.getItems(),Kt=Gt.indexOf(F),ge=this.createOffScreenGroup(),Te=this.drawItem(F,Kt,this.getItemHeight(),ge);this.updateElements(Te,Mt),this.clearUpdateStatus(Mt)}},bt.prototype.hasState=function(F,U){return!!F[U]},bt.prototype.getItemStates=function(F){var U=this.get("itemStates"),lt=[];return(0,x.each)(U,function(Mt,Gt){F[Gt]&&lt.push(Gt)}),lt},bt.prototype.clearItemsState=function(F){var U=this,lt=this.getItemsByState(F);(0,x.each)(lt,function(Mt){U.setItemState(Mt,F,!1)})},bt.prototype.getItemsByState=function(F){var U=this,lt=this.getItems();return(0,x.filter)(lt,function(Mt){return U.hasState(Mt,F)})},bt.prototype.drawLegendContent=function(F){this.processItems(),this.drawItems(F)},bt.prototype.processItems=function(){var F=this.get("items");(0,x.each)(F,function(U){U.id||(U.id=U.name)})},bt.prototype.drawItems=function(F){var U=this,lt=this.addGroup(F,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),Mt=this.addGroup(lt,{id:this.getElementId("item-group"),name:"legend-item-group"}),Gt=this.getItemHeight(),Kt=this.get("itemWidth"),ge=this.get("itemSpacing"),Te=this.get("currentPoint"),Ye=Te.x,Ze=Te.y,pr=this.get("layout"),Cr=this.get("items"),Vr=!1,sn=0,rn=this.get("maxWidth"),An=this.get("maxHeight");(0,x.each)(Cr,function(In,Pn){var zt=U.drawItem(In,Pn,Gt,Mt),pe=zt.getBBox(),ke=Kt||pe.width;ke>sn&&(sn=ke),pr==="horizontal"?(rn&&rn<Te.x+ke-Ye&&(Vr=!0,Te.x=Ye,Te.y+=Gt),U.moveElementTo(zt,Te),Te.x+=ke+ge):(An&&An<Te.y+Gt-Ze&&(Vr=!0,Te.x+=sn+ge,Te.y=Ze,sn=0),U.moveElementTo(zt,Te),Te.y+=Gt)}),Vr&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=Ye,this.startY=Ze,this.adjustNavigation(F,Mt))},bt.prototype.getItemHeight=function(){var F=this.get("itemHeight");if(!F){var U=this.get("itemName");U&&(F=U.style.fontSize+8)}return F},bt.prototype.drawMarker=function(F,U,lt,Mt){var Gt=(0,m.__assign)((0,m.__assign)((0,m.__assign)({x:0,y:Mt/2},U.style),{symbol:(0,x.get)(lt.marker,"symbol","circle")}),(0,x.get)(lt.marker,"style",{})),Kt=this.addShape(F,{type:"marker",id:this.getElementId("item-"+lt.id+"-marker"),name:"legend-item-marker",attrs:Gt}),ge=Kt.getBBox();Kt.attr("x",ge.width/2);var Te=Kt.attr(),Ye=Te.stroke,Ze=Te.fill;return Ye&&Kt.set("isStroke",!0),Ze&&Kt.set("isFill",!0),Kt},bt.prototype.drawItemText=function(F,U,lt,Mt,Gt,Kt,ge){var Te=lt.formatter,Ye=(0,m.__assign)({x:Kt,y:Gt/2,text:Te?Te(Mt[U],Mt,ge):Mt[U]},lt.style);return this.addShape(F,{type:"text",id:this.getElementId("item-"+Mt.id+"-"+U),name:"legend-item-"+U,attrs:Ye})},bt.prototype.drawItem=function(F,U,lt,Mt){var Gt="item-"+F.id,Kt=this.addGroup(Mt,{name:"legend-item-container",id:this.getElementId("item-container-"+Gt),delegateObject:{item:F,index:U}}),ge=this.addGroup(Kt,{name:"legend-item",id:this.getElementId(Gt),delegateObject:{item:F,index:U}}),Te=this.get("marker"),Ye=this.get("itemName"),Ze=this.get("itemValue"),pr=this.get("itemBackground"),Cr=this.getLimitItemWidth(),Vr=0;if(Te){var sn=this.drawMarker(ge,Te,F,lt);Vr=sn.getBBox().maxX+Te.spacing}if(Ye){var rn=this.drawItemText(ge,"name",Ye,F,lt,Vr,U);Cr&&Qe(!0,rn,(0,x.clamp)(Cr-Vr,0,Cr)),Vr=rn.getBBox().maxX+Ye.spacing}if(Ze){var An=this.drawItemText(ge,"value",Ze,F,lt,Vr,U);Cr&&(Ze.alignRight?(An.attr({textAlign:"right",x:Cr}),Qe(!0,An,(0,x.clamp)(Cr-Vr,0,Cr),"head")):Qe(!0,An,(0,x.clamp)(Cr-Vr,0,Cr)))}if(pr){var In=ge.getBBox(),Pn=this.addShape(ge,{type:"rect",name:"legend-item-background",id:this.getElementId(Gt+"-background"),attrs:(0,m.__assign)({x:0,y:0,width:In.width,height:lt},pr.style)});Pn.toBack()}return this.applyItemStates(F,ge),ge},bt.prototype.adjustNavigation=function(F,U){var lt=this,Mt=this.startX,Gt=this.startY,Kt=this.get("layout"),ge=U.findAll(function(ke){return ke.get("name")==="legend-item"}),Te=this.get("maxWidth"),Ye=this.get("maxHeight"),Ze=this.get("itemWidth"),pr=this.get("itemSpacing"),Cr=this.getItemHeight(),Vr=this.drawNavigation(F,Kt,"00/00",12),sn=Vr.getBBox(),rn={x:Mt,y:Gt},An=1,In=0,Pn=0,zt=0;if(Kt==="horizontal")this.pageHeight=Cr,(0,x.each)(ge,function(ke){var Ve=ke.getBBox(),cr=Ze||Ve.width;(In&&In<rn.x+cr+pr||Te<rn.x+cr+pr+sn.width)&&(An===1&&(In=rn.x+pr,lt.pageWidth=In,lt.moveElementTo(Vr,{x:Te-pr-sn.width-sn.minX,y:rn.y+Cr/2-sn.height/2-sn.minY})),An+=1,rn.x=Mt,rn.y+=Cr),lt.moveElementTo(ke,rn),ke.getParent().setClip({type:"rect",attrs:{x:rn.x,y:rn.y,width:cr+pr,height:Cr}}),rn.x+=cr+pr});else{(0,x.each)(ge,function(ke){var Ve=ke.getBBox();Ve.width>Pn&&(Pn=Ve.width)}),zt=Pn,Pn+=pr,Te&&(Pn=Math.min(Te,Pn),zt=Math.min(Te,zt)),this.pageWidth=Pn,this.pageHeight=Ye-Math.max(sn.height,Cr);var pe=Math.floor(this.pageHeight/Cr);(0,x.each)(ge,function(ke,Ve){Ve!==0&&Ve%pe==0&&(An+=1,rn.x+=Pn,rn.y=Gt),lt.moveElementTo(ke,rn),ke.getParent().setClip({type:"rect",attrs:{x:rn.x,y:rn.y,width:Pn,height:Cr}}),rn.y+=Cr}),this.totalPagesCnt=An,this.moveElementTo(Vr,{x:Mt+zt/2-sn.width/2-sn.minX,y:Ye-sn.height-sn.minY})}this.pageHeight&&this.pageWidth&&U.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=An,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(Vr),U.attr("matrix",this.getCurrentNavigationMatrix())},bt.prototype.drawNavigation=function(F,U,lt,Mt){var Gt={x:0,y:0},Kt=this.addGroup(F,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),ge=this.drawArrow(Kt,Gt,"navigation-arrow-left",U==="horizontal"?"up":"left",Mt);ge.on("click",this.onNavigationBack);var Te=ge.getBBox();Gt.x+=Te.width+2;var Ye=this.addShape(Kt,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:Gt.x,y:Gt.y+Mt/2,text:lt,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),Ze=Ye.getBBox();Gt.x+=Ze.width+2;var pr=this.drawArrow(Kt,Gt,"navigation-arrow-right",U==="horizontal"?"down":"right",Mt);return pr.on("click",this.onNavigationAfter),Kt},bt.prototype.updateNavigation=function(F){var U=this.currentPageIndex+"/"+this.totalPagesCnt,lt=F?F.getChildren()[1]:this.getElementByLocalId("navigation-text"),Mt=F?F.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),Gt=F?F.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),Kt=lt.getBBox();lt.attr("text",U);var ge=lt.getBBox();lt.attr("x",lt.attr("x")-(ge.width-Kt.width)/2),Mt.attr("opacity",this.currentPageIndex===1?.45:1),Mt.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),Gt.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),Gt.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},bt.prototype.drawArrow=function(F,U,lt,Mt,Gt){var Kt=U.x,ge=U.y,Te={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},Ye=this.addShape(F,{type:"path",id:this.getElementId(lt),name:lt,attrs:{path:[["M",Kt+Gt/2,ge],["L",Kt,ge+Gt],["L",Kt+Gt,ge+Gt],["Z"]],fill:"#000",cursor:"pointer"}});return Ye.attr("matrix",W({x:Kt+Gt/2,y:ge+Gt/2},Te[Mt])),Ye},bt.prototype.getCurrentNavigationMatrix=function(){var F=this,U=F.currentPageIndex,lt=F.pageWidth,Mt=F.pageHeight,Gt=this.get("layout"),Kt=Gt==="horizontal"?{x:0,y:Mt*(1-U)}:{x:lt*(1-U),y:0};return R(Kt)},bt.prototype.applyItemStates=function(F,U){var lt=this.getItemStates(F),Mt=lt.length>0;if(Mt){var Gt=U.getChildren(),Kt=this.get("itemStates");(0,x.each)(Gt,function(ge){var Te=ge.get("name"),Ye=Te.split("-")[2],Ze=ve(F,Ye,Kt);Ze&&(ge.attr(Ze),Ye==="marker"&&!(ge.get("isStroke")&&ge.get("isFill"))&&(ge.get("isStroke")&&ge.attr("fill",null),ge.get("isFill")&&ge.attr("stroke",null)))})}},bt.prototype.getLimitItemWidth=function(){var F=this.get("itemWidth"),U=this.get("maxItemWidth");return U?F&&(U=F<=U?F:U):F&&(U=F),U},bt}(gr),en=Br,Yr=1.4,Fr=.4,Sr=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:ur.textColor,textBaseline:"middle",fontFamily:ur.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:ur.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},bt.prototype.isSlider=function(){return!0},bt.prototype.getValue=function(){return this.getCurrentValue()},bt.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},bt.prototype.setRange=function(F,U){this.update({min:F,max:U})},bt.prototype.setValue=function(F){var U=this.getValue();this.set("value",F);var lt=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(lt),this.delegateEmit("valuechanged",{originValue:U,value:F})},bt.prototype.initEvent=function(){var F=this.get("group");this.bindSliderEvent(F),this.bindRailEvent(F),this.bindTrackEvent(F)},bt.prototype.drawLegendContent=function(F){this.drawRail(F),this.drawLabels(F),this.fixedElements(F),this.resetTrack(F),this.resetTrackClip(F),this.get("slidable")&&this.resetHandlers(F)},bt.prototype.bindSliderEvent=function(F){this.bindHandlersEvent(F)},bt.prototype.bindHandlersEvent=function(F){var U=this;F.on("legend-handler-min:drag",function(lt){var Mt=U.getValueByCanvasPoint(lt.x,lt.y),Gt=U.getCurrentValue(),Kt=Gt[1];Kt<Mt&&(Kt=Mt),U.setValue([Mt,Kt])}),F.on("legend-handler-max:drag",function(lt){var Mt=U.getValueByCanvasPoint(lt.x,lt.y),Gt=U.getCurrentValue(),Kt=Gt[0];Kt>Mt&&(Kt=Mt),U.setValue([Kt,Mt])})},bt.prototype.bindRailEvent=function(F){},bt.prototype.bindTrackEvent=function(F){var U=this,lt=null;F.on("legend-track:dragstart",function(Mt){lt={x:Mt.x,y:Mt.y}}),F.on("legend-track:drag",function(Mt){if(!!lt){var Gt=U.getValueByCanvasPoint(lt.x,lt.y),Kt=U.getValueByCanvasPoint(Mt.x,Mt.y),ge=U.getCurrentValue(),Te=ge[1]-ge[0],Ye=U.getRange(),Ze=Kt-Gt;Ze<0?ge[0]+Ze>Ye.min?U.setValue([ge[0]+Ze,ge[1]+Ze]):U.setValue([Ye.min,Ye.min+Te]):Ze>0&&(Ze>0&&ge[1]+Ze<Ye.max?U.setValue([ge[0]+Ze,ge[1]+Ze]):U.setValue([Ye.max-Te,Ye.max])),lt={x:Mt.x,y:Mt.y}}}),F.on("legend-track:dragend",function(Mt){lt=null})},bt.prototype.drawLabels=function(F){this.drawLabel("min",F),this.drawLabel("max",F)},bt.prototype.drawLabel=function(F,U){var lt=this.get("label"),Mt=lt.style,Gt=lt.align,Kt=this.get(F),ge=this.getLabelAlignAttrs(F,Gt),Te="label-"+F;this.addShape(U,{type:"text",id:this.getElementId(Te),name:"legend-label-"+F,attrs:(0,m.__assign)((0,m.__assign)({x:0,y:0,text:Kt},Mt),ge)})},bt.prototype.getLabelAlignAttrs=function(F,U){var lt=this.isVertical(),Mt="center",Gt="middle";return lt?(Mt="start",U!=="rail"?F==="min"?Gt="top":Gt="bottom":Gt="top"):U!=="rail"?(Gt="top",F==="min"?Mt="start":Mt="end"):(Mt="start",Gt="middle"),{textAlign:Mt,textBaseline:Gt}},bt.prototype.getRailPath=function(F,U,lt,Mt){var Gt=this.get("rail"),Kt=Gt.size,ge=Gt.defaultLength,Te=Gt.type,Ye=this.isVertical(),Ze=ge,pr=lt,Cr=Mt;pr||(pr=Ye?Kt:Ze),Cr||(Cr=Ye?Ze:Kt);var Vr=[];return Te==="color"?(Vr.push(["M",F,U]),Vr.push(["L",F+pr,U]),Vr.push(["L",F+pr,U+Cr]),Vr.push(["L",F,U+Cr]),Vr.push(["Z"])):(Vr.push(["M",F+pr,U]),Vr.push(["L",F+pr,U+Cr]),Vr.push(["L",F,U+Cr]),Vr.push(["Z"])),Vr},bt.prototype.drawRail=function(F){var U=this.get("rail"),lt=U.style;this.addShape(F,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,m.__assign)({path:this.getRailPath(0,0)},lt)})},bt.prototype.getTrackColor=function(F){var U=F.length;if(!U)return null;if(U===1)return F[0];var lt;this.isVertical()?lt="l(90)":lt="l(0)";for(var Mt=0;Mt<U;Mt++){var Gt=Mt/(U-1);lt+=" "+Gt+":"+F[Mt]}return lt},bt.prototype.getTrackPath=function(F){var U=this.getRailShape(F),lt=U.attr("path");return(0,x.clone)(lt)},bt.prototype.getClipTrackAttrs=function(F){var U=this.getCurrentValue(),lt=U[0],Mt=U[1],Gt=this.getRailBBox(F),Kt=this.getPointByValue(lt,F),ge=this.getPointByValue(Mt,F),Te=this.isVertical(),Ye,Ze,pr,Cr;return Te?(Ye=Gt.minX,Ze=Kt.y,pr=Gt.width,Cr=ge.y-Kt.y):(Ye=Kt.x,Ze=Gt.minY,pr=ge.x-Kt.x,Cr=Gt.height),{x:Ye,y:Ze,width:pr,height:Cr}},bt.prototype.getTrackAttrs=function(F){var U=this.get("track"),lt=this.get("colors"),Mt=this.getTrackPath(F);return(0,x.mix)({path:Mt,fill:this.getTrackColor(lt)},U.style)},bt.prototype.resetTrackClip=function(F){var U=F||this.get("group"),lt=this.getElementId("track"),Mt=U.findById(lt),Gt=Mt.getClip(),Kt=this.getClipTrackAttrs(F);Gt?Gt.attr(Kt):Mt.setClip({type:"rect",attrs:Kt})},bt.prototype.resetTrack=function(F){var U=this.getElementId("track"),lt=F.findById(U),Mt=this.getTrackAttrs(F);lt?lt.attr(Mt):this.addShape(F,{type:"path",id:U,draggable:this.get("slidable"),name:"legend-track",attrs:Mt})},bt.prototype.getPointByValue=function(F,U){var lt=this.getRange(),Mt=lt.min,Gt=lt.max,Kt=(F-Mt)/(Gt-Mt),ge=this.getRailBBox(U),Te=this.isVertical(),Ye={x:0,y:0};return Te?(Ye.x=ge.minX+ge.width/2,Ye.y=wt(ge.minY,ge.maxY,Kt)):(Ye.x=wt(ge.minX,ge.maxX,Kt),Ye.y=ge.minY+ge.height/2),Ye},bt.prototype.getRailShape=function(F){var U=F||this.get("group");return U.findById(this.getElementId("rail"))},bt.prototype.getRailBBox=function(F){var U=this.getRailShape(F),lt=U.getBBox();return lt},bt.prototype.getRailCanvasBBox=function(){var F=this.get("group"),U=F.findById(this.getElementId("rail")),lt=U.getCanvasBBox();return lt},bt.prototype.isVertical=function(){return this.get("layout")==="vertical"},bt.prototype.getValueByCanvasPoint=function(F,U){var lt=this.getRange(),Mt=lt.min,Gt=lt.max,Kt=this.getRailCanvasBBox(),ge=this.isVertical(),Te=this.get("step"),Ye;ge?Ye=(U-Kt.minY)/Kt.height:Ye=(F-Kt.minX)/Kt.width;var Ze=wt(Mt,Gt,Ye);if(Te){var pr=Math.round((Ze-Mt)/Te);Ze=Mt+pr*Te}return Ze>Gt&&(Ze=Gt),Ze<Mt&&(Ze=Mt),Ze},bt.prototype.getCurrentValue=function(){var F=this.get("value");return F||(F=[this.get("min"),this.get("max")]),F},bt.prototype.resetHandlers=function(F){var U=this.getCurrentValue(),lt=U[0],Mt=U[1];this.resetHandler(F,"min",lt),this.resetHandler(F,"max",Mt)},bt.prototype.getHandlerPath=function(F,U){var lt=this.isVertical(),Mt=[],Gt=F.size,Kt=U.x,ge=U.y,Te=Gt*Yr,Ye=Gt/2,Ze=Gt/6;if(lt){var pr=Kt+Te*Fr;Mt.push(["M",Kt,ge]),Mt.push(["L",pr,ge+Ye]),Mt.push(["L",Kt+Te,ge+Ye]),Mt.push(["L",Kt+Te,ge-Ye]),Mt.push(["L",pr,ge-Ye]),Mt.push(["Z"]),Mt.push(["M",pr,ge+Ze]),Mt.push(["L",Kt+Te-2,ge+Ze]),Mt.push(["M",pr,ge-Ze]),Mt.push(["L",Kt+Te-2,ge-Ze])}else{var Cr=ge+Te*Fr;Mt.push(["M",Kt,ge]),Mt.push(["L",Kt-Ye,Cr]),Mt.push(["L",Kt-Ye,ge+Te]),Mt.push(["L",Kt+Ye,ge+Te]),Mt.push(["L",Kt+Ye,Cr]),Mt.push(["Z"]),Mt.push(["M",Kt-Ze,Cr]),Mt.push(["L",Kt-Ze,ge+Te-2]),Mt.push(["M",Kt+Ze,Cr]),Mt.push(["L",Kt+Ze,ge+Te-2])}return Mt},bt.prototype.resetHandler=function(F,U,lt){var Mt=this.getPointByValue(lt,F),Gt=this.get("handler"),Kt=this.getHandlerPath(Gt,Mt),ge=this.getElementId("handler-"+U),Te=F.findById(ge),Ye=this.isVertical();Te?Te.attr("path",Kt):this.addShape(F,{type:"path",name:"legend-handler-"+U,draggable:!0,id:ge,attrs:(0,m.__assign)((0,m.__assign)({path:Kt},Gt.style),{cursor:Ye?"ns-resize":"ew-resize"})})},bt.prototype.fixedElements=function(F){var U=F.findById(this.getElementId("rail")),lt=F.findById(this.getElementId("label-min")),Mt=F.findById(this.getElementId("label-max")),Gt=this.getDrawPoint();this.isVertical()?this.fixedVertail(lt,Mt,U,Gt):this.fixedHorizontal(lt,Mt,U,Gt)},bt.prototype.fitRailLength=function(F,U,lt,Mt){var Gt=this.isVertical(),Kt=Gt?"height":"width",ge=this.get("label"),Te=ge.align,Ye=ge.spacing,Ze=this.get("max"+(0,x.upperFirst)(Kt));if(Ze){var pr=Te==="rail"?lt[Kt]+F[Kt]+U[Kt]+Ye*2:lt[Kt],Cr=pr-Ze;Cr>0&&this.changeRailLength(Mt,Kt,lt[Kt]-Cr)}},bt.prototype.changeRailLength=function(F,U,lt){var Mt=F.getBBox(),Gt;U==="height"?Gt=this.getRailPath(Mt.x,Mt.y,Mt.width,lt):Gt=this.getRailPath(Mt.x,Mt.y,lt,Mt.height),F.attr("path",Gt)},bt.prototype.changeRailPosition=function(F,U,lt){var Mt=F.getBBox(),Gt=this.getRailPath(U,lt,Mt.width,Mt.height);F.attr("path",Gt)},bt.prototype.fixedHorizontal=function(F,U,lt,Mt){var Gt=this.get("label"),Kt=Gt.align,ge=Gt.spacing,Te=lt.getBBox(),Ye=F.getBBox(),Ze=U.getBBox(),pr=Te.height;this.fitRailLength(Ye,Ze,Te,lt),Te=lt.getBBox(),Kt==="rail"?(F.attr({x:Mt.x,y:Mt.y+pr/2}),this.changeRailPosition(lt,Mt.x+Ye.width+ge,Mt.y),U.attr({x:Mt.x+Ye.width+Te.width+ge*2,y:Mt.y+pr/2})):Kt==="top"?(F.attr({x:Mt.x,y:Mt.y}),U.attr({x:Mt.x+Te.width,y:Mt.y}),this.changeRailPosition(lt,Mt.x,Mt.y+Ye.height+ge)):(this.changeRailPosition(lt,Mt.x,Mt.y),F.attr({x:Mt.x,y:Mt.y+Te.height+ge}),U.attr({x:Mt.x+Te.width,y:Mt.y+Te.height+ge}))},bt.prototype.fixedVertail=function(F,U,lt,Mt){var Gt=this.get("label"),Kt=Gt.align,ge=Gt.spacing,Te=lt.getBBox(),Ye=F.getBBox(),Ze=U.getBBox();if(this.fitRailLength(Ye,Ze,Te,lt),Te=lt.getBBox(),Kt==="rail")F.attr({x:Mt.x,y:Mt.y}),this.changeRailPosition(lt,Mt.x,Mt.y+Ye.height+ge),U.attr({x:Mt.x,y:Mt.y+Ye.height+Te.height+ge*2});else if(Kt==="right")F.attr({x:Mt.x+Te.width+ge,y:Mt.y}),this.changeRailPosition(lt,Mt.x,Mt.y),U.attr({x:Mt.x+Te.width+ge,y:Mt.y+Te.height});else{var pr=Math.max(Ye.width,Ze.width);F.attr({x:Mt.x,y:Mt.y}),this.changeRailPosition(lt,Mt.x+pr+ge,Mt.y),U.attr({x:Mt.x,y:Mt.y+Te.height})}},bt}(gr),Jr=Sr,vn=v(55223),Tn="g2-tooltip",Gn="g2-tooltip-title",Yn="g2-tooltip-list",Oi="g2-tooltip-list-item",Fi="g2-tooltip-marker",gi="g2-tooltip-value",Wi="g2-tooltip-name",Ji="g2-tooltip-crosshair-x",qi="g2-tooltip-crosshair-y",gn,aa=(gn={},gn[""+Tn]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:ur.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},gn[""+Gn]={marginBottom:"4px"},gn[""+Yn]={margin:"0px",listStyleType:"none",padding:"0px"},gn[""+Oi]={listStyleType:"none",marginBottom:"4px"},gn[""+Fi]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},gn[""+gi]={display:"inline-block",float:"right",marginLeft:"30px"},gn[""+Ji]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},gn[""+qi]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},gn);function ti(Xt,bt,F,U,lt){var Mt={left:Xt<lt.x,right:Xt+F>lt.x+lt.width,top:bt<lt.y,bottom:bt+U>lt.y+lt.height};return Mt}function Mi(Xt,bt,F,U,lt,Mt){var Gt=Xt,Kt=bt;switch(Mt){case"left":Gt=Xt-U-F,Kt=bt-lt/2;break;case"right":Gt=Xt+F,Kt=bt-lt/2;break;case"top":Gt=Xt-U/2,Kt=bt-lt-F;break;case"bottom":Gt=Xt-U/2,Kt=bt+F;break;default:Gt=Xt+F,Kt=bt-lt-F;break}return{x:Gt,y:Kt}}function za(Xt,bt,F,U,lt,Mt,Gt){var Kt=Mi(Xt,bt,F,U,lt,Mt);if(Gt){var ge=ti(Kt.x,Kt.y,U,lt,Gt);Mt==="auto"?(ge.right&&(Kt.x=Math.max(0,Xt-U-F)),ge.top&&(Kt.y=Math.max(0,bt-lt-F))):Mt==="top"||Mt==="bottom"?(ge.left&&(Kt.x=Gt.x),ge.right&&(Kt.x=Gt.x+Gt.width-U),Mt==="top"&&ge.top&&(Kt.y=bt+F),Mt==="bottom"&&ge.bottom&&(Kt.y=bt-lt-F)):(ge.top&&(Kt.y=Gt.y),ge.bottom&&(Kt.y=Gt.y+Gt.height-lt),Mt==="left"&&ge.left&&(Kt.x=Xt+F),Mt==="right"&&ge.right&&(Kt.x=Xt-U-F))}return Kt}function Ri(Xt,bt){var F=!1;return(0,x.each)(bt,function(U){if((0,x.hasKey)(Xt,U))return F=!0,!1}),F}var ma=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Tn+'"><div class="'+Gn+'"></div><ul class="'+Yn+'"></ul></div>',itemTpl:'<li class="'+Oi+`" data-index={index}>
          <span class="`+Fi+`" style="background:{color}"></span>
          <span class="`+Wi+`">{name}</span>:
          <span class="`+gi+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Ji+'"></div>',yCrosshairTpl:'<div class="'+qi+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Tn,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:aa})},bt.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},bt.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},bt.prototype.show=function(){var F=this.getContainer();!F||this.destroyed||(this.set("visible",!0),(0,Fn.Z)(F,{visibility:"visible"}),this.setCrossHairsVisible(!0))},bt.prototype.hide=function(){var F=this.getContainer();!F||this.destroyed||(this.set("visible",!1),(0,Fn.Z)(F,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},bt.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},bt.prototype.setLocation=function(F){this.set("x",F.x),this.set("y",F.y),this.resetPosition()},bt.prototype.setCrossHairsVisible=function(F){var U=F?"":"none",lt=this.get("xCrosshairDom"),Mt=this.get("yCrosshairDom");lt&&(0,Fn.Z)(lt,{display:U}),Mt&&(0,Fn.Z)(Mt,{display:U})},bt.prototype.initContainer=function(){if(Xt.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var F=this.getHtmlContentNode();this.get("parent").appendChild(F),this.set("container",F),this.resetStyles(),this.applyStyles()}},bt.prototype.updateInner=function(F){this.get("customContent")?this.renderCustomContent():(Ri(F,["title","showTitle"])&&this.resetTitle(),(0,x.hasKey)(F,"items")&&this.renderItems()),Xt.prototype.updateInner.call(this,F)},bt.prototype.initDom=function(){this.cacheDoms()},bt.prototype.removeDom=function(){Xt.prototype.removeDom.call(this),this.clearCrosshairs()},bt.prototype.resetPosition=function(){var F=this.get("x"),U=this.get("y"),lt=this.get("offset"),Mt=this.getOffset(),Gt=Mt.offsetX,Kt=Mt.offsetY,ge=this.get("position"),Te=this.get("region"),Ye=this.getContainer(),Ze=this.getBBox(),pr=Ze.width,Cr=Ze.height,Vr;Te&&(Vr=ft(Te));var sn=za(F,U,lt,pr,Cr,ge,Vr);(0,Fn.Z)(Ye,{left:$t(sn.x+Gt),top:$t(sn.y+Kt)}),this.resetCrosshairs()},bt.prototype.renderCustomContent=function(){var F=this.getHtmlContentNode(),U=this.get("parent"),lt=this.get("container");lt&&lt.parentNode===U?U.replaceChild(F,lt):U.appendChild(F),this.set("container",F),this.resetStyles(),this.applyStyles()},bt.prototype.getHtmlContentNode=function(){var F,U=this.get("customContent");if(U){var lt=U(this.get("title"),this.get("items"));(0,x.isElement)(lt)?F=lt:F=(0,ui.Z)(lt)}return F},bt.prototype.cacheDoms=function(){var F=this.getContainer(),U=F.getElementsByClassName(Gn)[0],lt=F.getElementsByClassName(Yn)[0];this.set("titleDom",U),this.set("listDom",lt)},bt.prototype.resetTitle=function(){var F=this.get("title"),U=this.get("showTitle");U&&F?this.setTitle(F):this.setTitle("")},bt.prototype.setTitle=function(F){var U=this.get("titleDom");U&&(U.innerText=F)},bt.prototype.resetCrosshairs=function(){var F=this.get("crosshairsRegion"),U=this.get("crosshairs");if(!F||!U)this.clearCrosshairs();else{var lt=ft(F),Mt=this.get("xCrosshairDom"),Gt=this.get("yCrosshairDom");U==="x"?(this.resetCrosshair("x",lt),Gt&&(Gt.remove(),this.set("yCrosshairDom",null))):U==="y"?(this.resetCrosshair("y",lt),Mt&&(Mt.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",lt),this.resetCrosshair("y",lt)),this.setCrossHairsVisible(this.get("visible"))}},bt.prototype.resetCrosshair=function(F,U){var lt=this.checkCrosshair(F),Mt=this.get(F);F==="x"?(0,Fn.Z)(lt,{left:$t(Mt),top:$t(U.y),height:$t(U.height)}):(0,Fn.Z)(lt,{top:$t(Mt),left:$t(U.x),width:$t(U.width)})},bt.prototype.checkCrosshair=function(F){var U=F+"CrosshairDom",lt=F+"CrosshairTpl",Mt="CROSSHAIR_"+F.toUpperCase(),Gt=b[Mt],Kt=this.get(U),ge=this.get("parent");return Kt||(Kt=(0,ui.Z)(this.get(lt)),this.applyStyle(Gt,Kt),ge.appendChild(Kt),this.set(U,Kt)),Kt},bt.prototype.renderItems=function(){this.clearItemDoms();var F=this.get("items"),U=this.get("itemTpl"),lt=this.get("listDom");lt&&((0,x.each)(F,function(Mt){var Gt=vn.default.toCSSGradient(Mt.color),Kt=(0,m.__assign)((0,m.__assign)({},Mt),{color:Gt}),ge=(0,x.substitute)(U,Kt),Te=(0,ui.Z)(ge);lt.appendChild(Te)}),this.applyChildrenStyles(lt,this.get("domStyles")))},bt.prototype.clearItemDoms=function(){this.get("listDom")&&tt(this.get("listDom"))},bt.prototype.clearCrosshairs=function(){var F=this.get("xCrosshairDom"),U=this.get("yCrosshairDom");F&&F.remove(),U&&U.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},bt}(Bt),Oa=ma,Ia={opacity:0},Ni={stroke:"#C5C5C5",strokeOpacity:.85},xa={fill:"#CACED4",opacity:.85},ta=v(57350),Ei=v(51082);function ba(Xt){return(0,x.map)(Xt,function(bt,F){var U=F===0?"M":"L",lt=bt[0],Mt=bt[1];return[U,lt,Mt]})}function ji(Xt){return ba(Xt)}function Va(Xt){if(Xt.length<=2)return ji(Xt);var bt=[];(0,x.each)(Xt,function(Gt){(0,x.isEqual)(Gt,bt.slice(bt.length-2))||bt.push(Gt[0],Gt[1])});var F=(0,ta.catmullRom2Bezier)(bt,!1),U=(0,x.head)(Xt),lt=U[0],Mt=U[1];return F.unshift(["M",lt,Mt]),F}function wa(Xt,bt,F,U){U===void 0&&(U=!0);var lt=new Ei.Linear({values:Xt}),Mt=new Ei.Category({values:(0,x.map)(Xt,function(Kt,ge){return ge})}),Gt=(0,x.map)(Xt,function(Kt,ge){return[Mt.scale(ge)*bt,F-lt.scale(Kt)*F]});return U?Va(Gt):ji(Gt)}function To(Xt,bt,F){var U=(0,m.__spreadArrays)(Xt);return U.push(["L",bt,0]),U.push(["L",0,F]),U.push(["Z"]),U}var co=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Ia,lineStyle:Ni,areaStyle:xa})},bt.prototype.renderInner=function(F){var U=this.cfg,lt=U.width,Mt=U.height,Gt=U.data,Kt=U.smooth,ge=U.isArea,Te=U.backgroundStyle,Ye=U.lineStyle,Ze=U.areaStyle;this.addShape(F,{id:this.getElementId("background"),type:"rect",attrs:(0,m.__assign)({x:0,y:0,width:lt,height:Mt},Te)});var pr=wa(Gt,lt,Mt,Kt);if(this.addShape(F,{id:this.getElementId("line"),type:"path",attrs:(0,m.__assign)({path:pr},Ye)}),ge){var Cr=To(pr,lt,Mt);this.addShape(F,{id:this.getElementId("area"),type:"path",attrs:(0,m.__assign)({path:Cr},Ze)})}},bt.prototype.applyOffset=function(){var F=this.cfg,U=F.x,lt=F.y;this.moveElementTo(this.get("group"),{x:U,y:lt})},bt}($),Et=null,pt={fill:"#416180",opacity:.05},at={fill:"#5B8FF9",opacity:.15,cursor:"move"},ht=10,Lt={width:ht,height:24},Vt={textBaseline:"middle",fill:"#000",opacity:.45},de="sliderchange",Ee={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},Ae=function(Xt){(0,m.__extends)(bt,Xt);function bt(){return Xt!==null&&Xt.apply(this,arguments)||this}return bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"handler",x:0,y:0,width:10,height:24,style:Ee})},bt.prototype.renderInner=function(F){var U=this.cfg,lt=U.width,Mt=U.height,Gt=U.style,Kt=Gt.fill,ge=Gt.stroke,Te=Gt.radius,Ye=Gt.opacity,Ze=Gt.cursor;this.addShape(F,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:lt,height:Mt,fill:Kt,stroke:ge,radius:Te,opacity:Ye,cursor:Ze}});var pr=1/3*lt,Cr=2/3*lt,Vr=1/4*Mt,sn=3/4*Mt;this.addShape(F,{id:this.getElementId("line-left"),type:"line",attrs:{x1:pr,y1:Vr,x2:pr,y2:sn,stroke:ge,cursor:Ze}}),this.addShape(F,{id:this.getElementId("line-right"),type:"line",attrs:{x1:Cr,y1:Vr,x2:Cr,y2:sn,stroke:ge,cursor:Ze}})},bt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},bt.prototype.initEvent=function(){this.bindEvents()},bt.prototype.bindEvents=function(){var F=this;this.get("group").on("mouseenter",function(){var U=F.get("style").highLightFill;F.getElementByLocalId("background").attr("fill",U),F.draw()}),this.get("group").on("mouseleave",function(){var U=F.get("style").fill;F.getElementByLocalId("background").attr("fill",U),F.draw()})},bt.prototype.draw=function(){var F=this.get("container").get("canvas");F&&F.draw()},bt}($),Re=null,Je=function(Xt){(0,m.__extends)(bt,Xt);function bt(){var F=Xt!==null&&Xt.apply(this,arguments)||this;return F.onMouseDown=function(U){return function(lt){F.currentTarget=U;var Mt=lt.originalEvent;Mt.stopPropagation(),Mt.preventDefault(),F.prevX=(0,x.get)(Mt,"touches.0.pageX",Mt.pageX),F.prevY=(0,x.get)(Mt,"touches.0.pageY",Mt.pageY);var Gt=F.getContainerDOM();Gt.addEventListener("mousemove",F.onMouseMove),Gt.addEventListener("mouseup",F.onMouseUp),Gt.addEventListener("mouseleave",F.onMouseUp),Gt.addEventListener("touchmove",F.onMouseMove),Gt.addEventListener("touchend",F.onMouseUp),Gt.addEventListener("touchcancel",F.onMouseUp)}},F.onMouseMove=function(U){var lt=F.cfg.width,Mt=[F.get("start"),F.get("end")];U.stopPropagation(),U.preventDefault();var Gt=(0,x.get)(U,"touches.0.pageX",U.pageX),Kt=(0,x.get)(U,"touches.0.pageY",U.pageY),ge=Gt-F.prevX,Te=F.adjustOffsetRange(ge/lt);F.updateStartEnd(Te),F.updateUI(F.getElementByLocalId("foreground"),F.getElementByLocalId("minText"),F.getElementByLocalId("maxText")),F.prevX=Gt,F.prevY=Kt,F.draw(),F.emit(de,[F.get("start"),F.get("end")].sort()),F.delegateEmit("valuechanged",{originValue:Mt,value:[F.get("start"),F.get("end")]})},F.onMouseUp=function(){F.currentTarget&&(F.currentTarget=void 0);var U=F.getContainerDOM();U&&(U.removeEventListener("mousemove",F.onMouseMove),U.removeEventListener("mouseup",F.onMouseUp),U.removeEventListener("mouseleave",F.onMouseUp),U.removeEventListener("touchmove",F.onMouseMove),U.removeEventListener("touchend",F.onMouseUp),U.removeEventListener("touchcancel",F.onMouseUp))},F}return bt.prototype.setRange=function(F,U){this.set("minLimit",F),this.set("maxLimit",U);var lt=this.get("start"),Mt=this.get("end"),Gt=(0,x.clamp)(lt,F,U),Kt=(0,x.clamp)(Mt,F,U);!this.get("isInit")&&(lt!==Gt||Mt!==Kt)&&this.setValue([Gt,Kt])},bt.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},bt.prototype.setValue=function(F){var U=this.getRange();if((0,x.isArray)(F)&&F.length===2){var lt=[this.get("start"),this.get("end")];this.update({start:(0,x.clamp)(F[0],U.min,U.max),end:(0,x.clamp)(F[1],U.min,U.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:lt,value:F})}},bt.prototype.getValue=function(){return[this.get("start"),this.get("end")]},bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:pt,foregroundStyle:at,handlerStyle:Lt,textStyle:Vt}})},bt.prototype.update=function(F){var U=F.start,lt=F.end,Mt=(0,m.__assign)({},F);(0,x.isNil)(U)||(Mt.start=(0,x.clamp)(U,0,1)),(0,x.isNil)(lt)||(Mt.end=(0,x.clamp)(lt,0,1)),Xt.prototype.update.call(this,Mt),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},bt.prototype.init=function(){this.set("start",(0,x.clamp)(this.get("start"),0,1)),this.set("end",(0,x.clamp)(this.get("end"),0,1)),Xt.prototype.init.call(this)},bt.prototype.renderInner=function(F){var U=this.cfg,lt=U.start,Mt=U.end,Gt=U.width,Kt=U.height,ge=U.trendCfg,Te=ge===void 0?{}:ge,Ye=U.minText,Ze=U.maxText,pr=U.backgroundStyle,Cr=pr===void 0?{}:pr,Vr=U.foregroundStyle,sn=Vr===void 0?{}:Vr,rn=U.textStyle,An=rn===void 0?{}:rn,In=U.handlerStyle,Pn=In===void 0?{}:In,zt=lt*Gt,pe=Mt*Gt;(0,x.size)((0,x.get)(Te,"data"))&&this.addComponent(F,(0,m.__assign)({component:co,id:this.getElementId("trend"),x:0,y:0,width:Gt,height:Kt},Te)),this.addShape(F,{id:this.getElementId("background"),type:"rect",attrs:(0,m.__assign)({x:0,y:0,width:Gt,height:Kt},Cr)});var ke=this.addShape(F,{id:this.getElementId("minText"),type:"text",attrs:(0,m.__assign)({y:Kt/2,textAlign:"right",text:Ye,silent:!1},An)}),Ve=this.addShape(F,{id:this.getElementId("maxText"),type:"text",attrs:(0,m.__assign)({y:Kt/2,textAlign:"left",text:Ze,silent:!1},An)}),cr=this.addShape(F,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,m.__assign)({y:0,height:Kt},sn)}),Rr=(0,x.get)(Pn,"height",24);this.minHandler=this.addComponent(F,(0,m.__assign)({component:Ae,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(Kt-Rr)/2,width:Gt,height:Rr,cursor:"ew-resize"},Pn)),this.maxHandler=this.addComponent(F,(0,m.__assign)({component:Ae,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(Kt-Rr)/2,width:Gt,height:Rr,cursor:"ew-resize"},Pn)),this.updateUI(cr,ke,Ve)},bt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},bt.prototype.initEvent=function(){this.bindEvents()},bt.prototype.updateUI=function(F,U,lt){var Mt=this.cfg,Gt=Mt.start,Kt=Mt.end,ge=Mt.width,Te=Mt.minText,Ye=Mt.maxText,Ze=Mt.handlerStyle,pr=Gt*ge,Cr=Kt*ge;F.attr("x",pr),F.attr("width",Cr-pr);var Vr=(0,x.get)(Ze,"width",ht);U.attr("text",Te),lt.attr("text",Ye);var sn=this._dodgeText([pr,Cr],U,lt),rn=sn[0],An=sn[1];this.minHandler&&(this.minHandler.update({x:pr-Vr/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,x.each)(rn,function(In,Pn){return U.attr(Pn,In)}),this.maxHandler&&(this.maxHandler.update({x:Cr-Vr/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,x.each)(An,function(In,Pn){return lt.attr(Pn,In)})},bt.prototype.bindEvents=function(){var F=this.get("group");F.on("handler-min:mousedown",this.onMouseDown("minHandler")),F.on("handler-min:touchstart",this.onMouseDown("minHandler")),F.on("handler-max:mousedown",this.onMouseDown("maxHandler")),F.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var U=F.findById(this.getElementId("foreground"));U.on("mousedown",this.onMouseDown("foreground")),U.on("touchstart",this.onMouseDown("foreground"))},bt.prototype.adjustOffsetRange=function(F){var U=this.cfg,lt=U.start,Mt=U.end;switch(this.currentTarget){case"minHandler":{var Gt=0-lt,Kt=1-lt;return Math.min(Kt,Math.max(Gt,F))}case"maxHandler":{var Gt=0-Mt,Kt=1-Mt;return Math.min(Kt,Math.max(Gt,F))}case"foreground":{var Gt=0-lt,Kt=1-Mt;return Math.min(Kt,Math.max(Gt,F))}}},bt.prototype.updateStartEnd=function(F){var U=this.cfg,lt=U.start,Mt=U.end;switch(this.currentTarget){case"minHandler":lt+=F;break;case"maxHandler":Mt+=F;break;case"foreground":lt+=F,Mt+=F;break}this.set("start",lt),this.set("end",Mt)},bt.prototype._dodgeText=function(F,U,lt){var Mt,Gt,Kt=this.cfg,ge=Kt.handlerStyle,Te=Kt.width,Ye=2,Ze=(0,x.get)(ge,"width",ht),pr=F[0],Cr=F[1],Vr=!1;pr>Cr&&(Mt=[Cr,pr],pr=Mt[0],Cr=Mt[1],Gt=[lt,U],U=Gt[0],lt=Gt[1],Vr=!0);var sn=U.getBBox(),rn=lt.getBBox(),An=sn.width>pr-Ye?{x:pr+Ze/2+Ye,textAlign:"left"}:{x:pr-Ze/2-Ye,textAlign:"right"},In=rn.width>Te-Cr-Ye?{x:Cr-Ze/2-Ye,textAlign:"right"}:{x:Cr+Ze/2+Ye,textAlign:"left"};return Vr?[In,An]:[An,In]},bt.prototype.draw=function(){var F=this.get("container"),U=F&&F.get("canvas");U&&U.draw()},bt.prototype.getContainerDOM=function(){var F=this.get("container"),U=F&&F.get("canvas");return U&&U.get("container")},bt}($),qe=null,sr=v(57817),Ir={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},er={default:Ir,hover:{thumbColor:"rgba(0,0,0,0.2)"}},qr=function(Xt){(0,m.__extends)(bt,Xt);function bt(){var F=Xt!==null&&Xt.apply(this,arguments)||this;return F.clearEvents=x.noop,F.onStartEvent=function(U){return function(lt){F.isMobile=U,lt.originalEvent.preventDefault();var Mt=U?(0,x.get)(lt.originalEvent,"touches.0.clientX"):lt.clientX,Gt=U?(0,x.get)(lt.originalEvent,"touches.0.clientY"):lt.clientY;F.startPos=F.cfg.isHorizontal?Mt:Gt,F.bindLaterEvent()}},F.bindLaterEvent=function(){var U=F.getContainerDOM(),lt=[];F.isMobile?lt=[(0,sr.Z)(U,"touchmove",F.onMouseMove),(0,sr.Z)(U,"touchend",F.onMouseUp),(0,sr.Z)(U,"touchcancel",F.onMouseUp)]:lt=[(0,sr.Z)(U,"mousemove",F.onMouseMove),(0,sr.Z)(U,"mouseup",F.onMouseUp),(0,sr.Z)(U,"mouseleave",F.onMouseUp)],F.clearEvents=function(){lt.forEach(function(Mt){Mt.remove()})}},F.onMouseMove=function(U){var lt=F.cfg,Mt=lt.isHorizontal,Gt=lt.thumbOffset;U.preventDefault();var Kt=F.isMobile?(0,x.get)(U,"touches.0.clientX"):U.clientX,ge=F.isMobile?(0,x.get)(U,"touches.0.clientY"):U.clientY,Te=Mt?Kt:ge,Ye=Te-F.startPos;F.startPos=Te,F.updateThumbOffset(Gt+Ye)},F.onMouseUp=function(U){U.preventDefault(),F.clearEvents()},F.onTrackClick=function(U){var lt=F.cfg,Mt=lt.isHorizontal,Gt=lt.x,Kt=lt.y,ge=lt.thumbLen,Te=F.getContainerDOM(),Ye=Te.getBoundingClientRect(),Ze=U.clientX,pr=U.clientY,Cr=Mt?Ze-Ye.left-Gt-ge/2:pr-Ye.top-Kt-ge/2,Vr=F.validateRange(Cr);F.updateThumbOffset(Vr)},F.onThumbMouseOver=function(){var U=F.cfg.theme.hover.thumbColor;F.getElementByLocalId("thumb").attr("stroke",U),F.draw()},F.onThumbMouseOut=function(){var U=F.cfg.theme.default.thumbColor;F.getElementByLocalId("thumb").attr("stroke",U),F.draw()},F}return bt.prototype.setRange=function(F,U){this.set("minLimit",F),this.set("maxLimit",U);var lt=this.getValue(),Mt=(0,x.clamp)(lt,F,U);lt!==Mt&&!this.get("isInit")&&this.setValue(Mt)},bt.prototype.getRange=function(){var F=this.get("minLimit")||0,U=this.get("maxLimit")||1;return{min:F,max:U}},bt.prototype.setValue=function(F){var U=this.getRange(),lt=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,x.clamp)(F,U.min,U.max)}),this.delegateEmit("valuechange",{originalValue:lt,value:this.getValue()})},bt.prototype.getValue=function(){return(0,x.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},bt.prototype.getDefaultCfg=function(){var F=Xt.prototype.getDefaultCfg.call(this);return(0,m.__assign)((0,m.__assign)({},F),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:er})},bt.prototype.renderInner=function(F){this.renderTrackShape(F),this.renderThumbShape(F)},bt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},bt.prototype.initEvent=function(){this.bindEvents()},bt.prototype.renderTrackShape=function(F){var U=this.cfg,lt=U.trackLen,Mt=U.theme,Gt=Mt===void 0?{default:{}}:Mt,Kt=Gt.default,ge=Kt.lineCap,Te=Kt.trackColor,Ye=Kt.size,Ze=this.get("isHorizontal")?{x1:0+Ye/2,y1:Ye/2,x2:lt-Ye/2,y2:Ye/2,lineWidth:Ye,stroke:Te,lineCap:ge}:{x1:Ye/2,y1:0+Ye/2,x2:Ye/2,y2:lt-Ye/2,lineWidth:Ye,stroke:Te,lineCap:ge};return this.addShape(F,{id:this.getElementId("track"),name:"track",type:"line",attrs:Ze})},bt.prototype.renderThumbShape=function(F){var U=this.cfg,lt=U.thumbOffset,Mt=U.thumbLen,Gt=U.theme,Kt=Gt===void 0?{default:{}}:Gt,ge=Kt.default,Te=ge.size,Ye=ge.lineCap,Ze=ge.thumbColor,pr=this.get("isHorizontal")?{x1:lt+Te/2,y1:Te/2,x2:lt+Mt-Te/2,y2:Te/2,lineWidth:Te,stroke:Ze,lineCap:Ye,cursor:"default"}:{x1:Te/2,y1:lt+Te/2,x2:Te/2,y2:lt+Mt-Te/2,lineWidth:Te,stroke:Ze,lineCap:Ye,cursor:"default"};return this.addShape(F,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:pr})},bt.prototype.bindEvents=function(){var F=this.get("group");F.on("mousedown",this.onStartEvent(!1)),F.on("mouseup",this.onMouseUp),F.on("touchstart",this.onStartEvent(!0)),F.on("touchend",this.onMouseUp);var U=F.findById(this.getElementId("track"));U.on("click",this.onTrackClick);var lt=F.findById(this.getElementId("thumb"));lt.on("mouseover",this.onThumbMouseOver),lt.on("mouseout",this.onThumbMouseOut)},bt.prototype.getContainerDOM=function(){var F=this.get("container"),U=F&&F.get("canvas");return U&&U.get("container")},bt.prototype.validateRange=function(F){var U=this.cfg,lt=U.thumbLen,Mt=U.trackLen,Gt=F;return F+lt>Mt?Gt=Mt-lt:F+lt<lt&&(Gt=0),Gt},bt.prototype.draw=function(){var F=this.get("container"),U=F&&F.get("canvas");U&&U.draw()},bt.prototype.updateThumbOffset=function(F){var U=this.cfg,lt=U.thumbOffset,Mt=U.isHorizontal,Gt=U.thumbLen,Kt=U.size,ge=this.validateRange(F);if(ge!==lt){var Te=this.getElementByLocalId("thumb");Mt?Te.attr({x1:ge+Kt/2,x2:ge+Gt-Kt/2}):Te.attr({y1:ge+Kt/2,y2:ge+Gt-Kt/2}),this.emitOffsetChange(ge)}},bt.prototype.emitOffsetChange=function(F){var U=this.cfg,lt=U.thumbOffset,Mt=U.trackLen,Gt=U.thumbLen;this.cfg.thumbOffset=F,this.emit("scrollchange",{thumbOffset:F,ratio:(0,x.clamp)(F/(Mt-Gt),0,1)}),this.delegateEmit("valuechange",{originalValue:lt,value:F})},bt}($)},15110:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(62117),T=v(39014),P=v(49242),I={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},O=function(A){d.__extends(E,A);function E(S){var y=A.call(this,S)||this;return y.initCfg(),y}return E.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},E.prototype.clear=function(){},E.prototype.update=function(S){var y=this,b=this.get("defaultCfg");P.each(S,function(p,m){var x=y.get(m),M=p;x!==p&&(P.isObject(p)&&b[m]&&(M=P.deepMix({},b[m],p)),y.set(m,M))}),this.updateInner(S),this.afterUpdate(S)},E.prototype.updateInner=function(S){},E.prototype.afterUpdate=function(S){P.hasKey(S,"visible")&&(S.visible?this.show():this.hide()),P.hasKey(S,"capture")&&this.setCapture(S.capture)},E.prototype.getLayoutBBox=function(){return this.getBBox()},E.prototype.getLocationType=function(){return this.get("locationType")},E.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},E.prototype.setOffset=function(S,y){this.update({offsetX:S,offsetY:y})},E.prototype.setLocation=function(S){var y=d.__assign({},S);this.update(y)},E.prototype.getLocation=function(){var S=this,y={},b=this.get("locationType"),p=I[b];return P.each(p,function(m){y[m]=S.get(m)}),y},E.prototype.isList=function(){return!1},E.prototype.isSlider=function(){return!1},E.prototype.init=function(){},E.prototype.initCfg=function(){var S=this,y=this.get("defaultCfg");P.each(y,function(b,p){var m=S.get(p);if(P.isObject(m)){var x=P.deepMix({},b,m);S.set(p,x)}})},E}(T.Base);C.default=O},51964:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(62117),T=v(80478),P=v(49242),I=v(11594),O=v(15110),A=function(E){d.__extends(S,E);function S(){return E!==null&&E.apply(this,arguments)||this}return S.prototype.getDefaultCfg=function(){var y=E.prototype.getDefaultCfg.call(this);return d.__assign(d.__assign({},y),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},S.prototype.getContainer=function(){return this.get("container")},S.prototype.show=function(){var y=this.get("container");y.style.display="",this.set("visible",!0)},S.prototype.hide=function(){var y=this.get("container");y.style.display="none",this.set("visible",!1)},S.prototype.setCapture=function(y){var b=this.getContainer(),p=y?"auto":"none";b.style.pointerEvents=p,this.set("capture",y)},S.prototype.getBBox=function(){var y=this.getContainer(),b=parseFloat(y.style.left)||0,p=parseFloat(y.style.top)||0;return I.createBBox(b,p,y.clientWidth,y.clientHeight)},S.prototype.clear=function(){var y=this.get("container");I.clearDom(y)},S.prototype.destroy=function(){this.removeEvent(),this.removeDom(),E.prototype.destroy.call(this)},S.prototype.init=function(){E.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},S.prototype.initCapture=function(){this.setCapture(this.get("capture"))},S.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},S.prototype.initDom=function(){},S.prototype.initContainer=function(){var y=this.get("container");if(P.isNil(y)){y=this.createDom();var b=this.get("parent");P.isString(b)&&(b=document.getElementById(b),this.set("parent",b)),b.appendChild(y),this.set("container",y)}else P.isString(y)&&(y=document.getElementById(y),this.set("container",y));this.get("parent")||this.set("parent",y.parentNode)},S.prototype.resetStyles=function(){var y=this.get("domStyles"),b=this.get("defaultStyles");y?y=P.deepMix({},b,y):y=b,this.set("domStyles",y)},S.prototype.applyStyles=function(){var y=this.get("domStyles");if(!!y){var b=this.getContainer();this.applyChildrenStyles(b,y);var p=this.get("containerClassName");if(p&&I.hasClass(b,p)){var m=y[p];T.modifyCSS(b,m)}}},S.prototype.applyChildrenStyles=function(y,b){P.each(b,function(p,m){var x=y.getElementsByClassName(m);P.each(x,function(M){T.modifyCSS(M,p)})})},S.prototype.applyStyle=function(y,b){var p=this.get("domStyles");T.modifyCSS(b,p[y])},S.prototype.createDom=function(){var y=this.get("containerTpl");return T.createDom(y)},S.prototype.initEvent=function(){},S.prototype.removeDom=function(){var y=this.get("container");y&&y.parentNode.removeChild(y)},S.prototype.removeEvent=function(){},S.prototype.updateInner=function(y){P.hasKey(y,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},S.prototype.resetPosition=function(){},S}(O.default);C.default=A},7755:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.CROSSHAIR_Y=C.CROSSHAIR_X=C.NAME_CLASS=C.VALUE_CLASS=C.MARKER_CLASS=C.LIST_ITEM_CLASS=C.LIST_CLASS=C.TITLE_CLASS=C.CONTAINER_CLASS=void 0,C.CONTAINER_CLASS="g2-tooltip",C.TITLE_CLASS="g2-tooltip-title",C.LIST_CLASS="g2-tooltip-list",C.LIST_ITEM_CLASS="g2-tooltip-list-item",C.MARKER_CLASS="g2-tooltip-marker",C.VALUE_CLASS="g2-tooltip-value",C.NAME_CLASS="g2-tooltip-name",C.CROSSHAIR_X="g2-tooltip-crosshair-x",C.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(ct,C,v){"use strict";var d;Object.defineProperty(C,"__esModule",{value:!0});var T=v(52782),P=v(7755);C.default=(d={},d[""+P.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:T.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},d[""+P.TITLE_CLASS]={marginBottom:"4px"},d[""+P.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},d[""+P.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},d[""+P.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},d[""+P.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},d[""+P.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},d[""+P.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},d)},88373:function(ct,C,v){"use strict";var d;d={value:!0};var T=v(62117),P=v(55223),I=v(80478),O=v(49242),A=v(51964),E=v(11594),S=v(7755),y=v(55225),b=v(51227);function p(x,M){var k=!1;return O.each(M,function(_){if(O.hasKey(x,_))return k=!0,!1}),k}var m=function(x){T.__extends(M,x);function M(){return x!==null&&x.apply(this,arguments)||this}return M.prototype.getDefaultCfg=function(){var k=x.prototype.getDefaultCfg.call(this);return T.__assign(T.__assign({},k),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+S.CONTAINER_CLASS+'"><div class="'+S.TITLE_CLASS+'"></div><ul class="'+S.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+S.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+S.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+S.NAME_CLASS+`">{name}</span>:
          <span class="`+S.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+S.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+S.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:S.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:y.default})},M.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},M.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},M.prototype.show=function(){var k=this.getContainer();!k||this.destroyed||(this.set("visible",!0),I.modifyCSS(k,{visibility:"visible"}),this.setCrossHairsVisible(!0))},M.prototype.hide=function(){var k=this.getContainer();!k||this.destroyed||(this.set("visible",!1),I.modifyCSS(k,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},M.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},M.prototype.setLocation=function(k){this.set("x",k.x),this.set("y",k.y),this.resetPosition()},M.prototype.setCrossHairsVisible=function(k){var _=k?"":"none",B=this.get("xCrosshairDom"),z=this.get("yCrosshairDom");B&&I.modifyCSS(B,{display:_}),z&&I.modifyCSS(z,{display:_})},M.prototype.initContainer=function(){if(x.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var k=this.getHtmlContentNode();this.get("parent").appendChild(k),this.set("container",k),this.resetStyles(),this.applyStyles()}},M.prototype.updateInner=function(k){this.get("customContent")?this.renderCustomContent():(p(k,["title","showTitle"])&&this.resetTitle(),O.hasKey(k,"items")&&this.renderItems()),x.prototype.updateInner.call(this,k)},M.prototype.initDom=function(){this.cacheDoms()},M.prototype.removeDom=function(){x.prototype.removeDom.call(this),this.clearCrosshairs()},M.prototype.resetPosition=function(){var k=this.get("x"),_=this.get("y"),B=this.get("offset"),z=this.getOffset(),W=z.offsetX,R=z.offsetY,K=this.get("position"),ut=this.get("region"),ot=this.getContainer(),dt=this.getBBox(),nt=dt.width,yt=dt.height,tt;ut&&(tt=E.regionToBBox(ut));var J=b.getAlignPoint(k,_,B,nt,yt,K,tt);I.modifyCSS(ot,{left:E.toPx(J.x+W),top:E.toPx(J.y+R)}),this.resetCrosshairs()},M.prototype.renderCustomContent=function(){var k=this.getHtmlContentNode(),_=this.get("parent"),B=this.get("container");B&&B.parentNode===_?_.replaceChild(k,B):_.appendChild(k),this.set("container",k),this.resetStyles(),this.applyStyles()},M.prototype.getHtmlContentNode=function(){var k,_=this.get("customContent");if(_){var B=_(this.get("title"),this.get("items"));O.isElement(B)?k=B:k=I.createDom(B)}return k},M.prototype.cacheDoms=function(){var k=this.getContainer(),_=k.getElementsByClassName(S.TITLE_CLASS)[0],B=k.getElementsByClassName(S.LIST_CLASS)[0];this.set("titleDom",_),this.set("listDom",B)},M.prototype.resetTitle=function(){var k=this.get("title"),_=this.get("showTitle");_&&k?this.setTitle(k):this.setTitle("")},M.prototype.setTitle=function(k){var _=this.get("titleDom");_&&(_.innerText=k)},M.prototype.resetCrosshairs=function(){var k=this.get("crosshairsRegion"),_=this.get("crosshairs");if(!k||!_)this.clearCrosshairs();else{var B=E.regionToBBox(k),z=this.get("xCrosshairDom"),W=this.get("yCrosshairDom");_==="x"?(this.resetCrosshair("x",B),W&&(W.remove(),this.set("yCrosshairDom",null))):_==="y"?(this.resetCrosshair("y",B),z&&(z.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",B),this.resetCrosshair("y",B)),this.setCrossHairsVisible(this.get("visible"))}},M.prototype.resetCrosshair=function(k,_){var B=this.checkCrosshair(k),z=this.get(k);k==="x"?I.modifyCSS(B,{left:E.toPx(z),top:E.toPx(_.y),height:E.toPx(_.height)}):I.modifyCSS(B,{top:E.toPx(z),left:E.toPx(_.x),width:E.toPx(_.width)})},M.prototype.checkCrosshair=function(k){var _=k+"CrosshairDom",B=k+"CrosshairTpl",z="CROSSHAIR_"+k.toUpperCase(),W=S[z],R=this.get(_),K=this.get("parent");return R||(R=I.createDom(this.get(B)),this.applyStyle(W,R),K.appendChild(R),this.set(_,R)),R},M.prototype.renderItems=function(){this.clearItemDoms();var k=this.get("items"),_=this.get("itemTpl"),B=this.get("listDom");B&&(O.each(k,function(z){var W=P.default.toCSSGradient(z.color),R=T.__assign(T.__assign({},z),{color:W}),K=O.substitute(_,R),ut=I.createDom(K);B.appendChild(ut)}),this.applyChildrenStyles(B,this.get("domStyles")))},M.prototype.clearItemDoms=function(){this.get("listDom")&&E.clearDom(this.get("listDom"))},M.prototype.clearCrosshairs=function(){var k=this.get("xCrosshairDom"),_=this.get("yCrosshairDom");k&&k.remove(),_&&_.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},M}(A.default);C.Z=m},51227:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getAlignPoint=C.getPointByPosition=C.getOutSides=void 0;function v(P,I,O,A,E){var S={left:P<E.x,right:P+O>E.x+E.width,top:I<E.y,bottom:I+A>E.y+E.height};return S}C.getOutSides=v;function d(P,I,O,A,E,S){var y=P,b=I;switch(S){case"left":y=P-A-O,b=I-E/2;break;case"right":y=P+O,b=I-E/2;break;case"top":y=P-A/2,b=I-E-O;break;case"bottom":y=P-A/2,b=I+O;break;default:y=P+O,b=I-E-O;break}return{x:y,y:b}}C.getPointByPosition=d;function T(P,I,O,A,E,S,y){var b=d(P,I,O,A,E,S);if(y){var p=v(b.x,b.y,A,E,y);S==="auto"?(p.right&&(b.x=Math.max(0,P-A-O)),p.top&&(b.y=Math.max(0,I-E-O))):S==="top"||S==="bottom"?(p.left&&(b.x=y.x),p.right&&(b.x=y.x+y.width-A),S==="top"&&p.top&&(b.y=I+O),S==="bottom"&&p.bottom&&(b.y=I-E-O)):(p.top&&(b.y=y.y),p.bottom&&(b.y=y.y+y.height-E),S==="left"&&p.left&&(b.x=P+O),S==="right"&&p.right&&(b.x=P-A-O))}return b}C.getAlignPoint=T},31207:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.propagationDelegate=void 0;var d=v(66192);function T(P,I,O){var A=new d.default(I,O);A.target=P,A.propagationPath.push(P),P.emitDelegation(I,A);for(var E=P.getParent();E;)E.emitDelegation(I,A),A.propagationPath.push(E),E=E.getParent()}C.propagationDelegate=T},52782:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getTextPoint=C.toPx=C.updateClip=C.getBBoxWithClip=C.mergeBBox=C.intersectBBox=C.near=C.wait=C.distance=C.getCirclePoint=C.getValueByPercent=C.createBBox=C.pointsToBBox=C.regionToBBox=C.hasClass=C.clearDom=C.formatPadding=void 0;var d=v(49242);function T(B){var z=0,W=0,R=0,K=0;return d.isNumber(B)?z=W=R=K=B:d.isArray(B)&&(z=B[0],R=d.isNil(B[1])?B[0]:B[1],K=d.isNil(B[2])?B[0]:B[2],W=d.isNil(B[3])?R:B[3]),[z,R,K,W]}C.formatPadding=T;function P(B){for(var z=B.childNodes,W=z.length,R=W-1;R>=0;R--)B.removeChild(z[R])}C.clearDom=P;function I(B,z){return!!B.className.match(new RegExp("(\\s|^)"+z+"(\\s|$)"))}C.hasClass=I;function O(B){var z=B.start,W=B.end,R=Math.min(z.x,W.x),K=Math.min(z.y,W.y),ut=Math.max(z.x,W.x),ot=Math.max(z.y,W.y);return{x:R,y:K,minX:R,minY:K,maxX:ut,maxY:ot,width:ut-R,height:ot-K}}C.regionToBBox=O;function A(B){var z=B.map(function(dt){return dt.x}),W=B.map(function(dt){return dt.y}),R=Math.min.apply(Math,z),K=Math.min.apply(Math,W),ut=Math.max.apply(Math,z),ot=Math.max.apply(Math,W);return{x:R,y:K,minX:R,minY:K,maxX:ut,maxY:ot,width:ut-R,height:ot-K}}C.pointsToBBox=A;function E(B,z,W,R){return{x:B,y:z,width:W,height:R,minX:B,minY:z,maxX:B+W,maxY:z+R}}C.createBBox=E;function S(B,z,W){return(1-W)*B+z*W}C.getValueByPercent=S;function y(B,z,W){return{x:B.x+Math.cos(W)*z,y:B.y+Math.sin(W)*z}}C.getCirclePoint=y;function b(B,z){var W=z.x-B.x,R=z.y-B.y;return Math.sqrt(W*W+R*R)}C.distance=b,C.wait=function(B){return new Promise(function(z){setTimeout(z,B)})},C.near=function(B,z){return[B,z].includes(Infinity)?Math.abs(B)===Math.abs(z):Math.abs(B-z)<Math.pow(Number.EPSILON,.5)};function p(B,z){var W=Math.max(B.minX,z.minX),R=Math.max(B.minY,z.minY),K=Math.min(B.maxX,z.maxX),ut=Math.min(B.maxY,z.maxY);return E(W,R,K-W,ut-R)}C.intersectBBox=p;function m(B,z){var W=Math.min(B.minX,z.minX),R=Math.min(B.minY,z.minY),K=Math.max(B.maxX,z.maxX),ut=Math.max(B.maxY,z.maxY);return E(W,R,K-W,ut-R)}C.mergeBBox=m;function x(B){var z=B.getClip(),W=z&&z.getBBox(),R;if(!B.isGroup())R=B.getBBox();else{var K=Infinity,ut=-Infinity,ot=Infinity,dt=-Infinity,nt=B.getChildren();nt.length>0?d.each(nt,function(yt){if(yt.get("visible")){if(yt.isGroup()&&yt.get("children").length===0)return!0;var tt=x(yt),J=yt.applyToMatrix([tt.minX,tt.minY,1]),ft=yt.applyToMatrix([tt.minX,tt.maxY,1]),rt=yt.applyToMatrix([tt.maxX,tt.minY,1]),St=yt.applyToMatrix([tt.maxX,tt.maxY,1]),wt=Math.min(J[0],ft[0],rt[0],St[0]),q=Math.max(J[0],ft[0],rt[0],St[0]),it=Math.min(J[1],ft[1],rt[1],St[1]),Q=Math.max(J[1],ft[1],rt[1],St[1]);wt<K&&(K=wt),q>ut&&(ut=q),it<ot&&(ot=it),Q>dt&&(dt=Q)}}):(K=0,ut=0,ot=0,dt=0),R=E(K,ot,ut-K,dt-ot)}return W?p(R,W):R}C.getBBoxWithClip=x;function M(B,z){if(!(!B.getClip()&&!z.getClip())){var W=z.getClip();if(!W){B.setClip(null);return}var R={type:W.get("type"),attrs:W.attr()};B.setClip(R)}}C.updateClip=M;function k(B){return B+"px"}C.toPx=k;function _(B,z,W,R){var K=b(B,z),ut=R/K,ot=0;return W==="start"?ot=0-ut:W==="end"&&(ot=1+ut),{x:S(B.x,z.x,ot),y:S(B.y,z.y,ot)}}C.getTextPoint=_},13541:function(ct,C,v){"use strict";v.r(C),v.d(C,{Coordinate:function(){return E},getCoordinate:function(){return _},registerCoordinate:function(){return B}});var d=v(70655),T=v(77160),P=v(35600),I=v(31506),O=v(49242),A=function(){function z(W){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var R=W.start,K=W.end,ut=W.matrix,ot=ut===void 0?[1,0,0,0,1,0,0,0,1]:ut,dt=W.isTransposed,nt=dt===void 0?!1:dt;this.start=R,this.end=K,this.matrix=ot,this.originalMatrix=(0,d.__spreadArray)([],ot),this.isTransposed=nt}return z.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},z.prototype.update=function(W){(0,O.assign)(this,W),this.initial()},z.prototype.convertDim=function(W,R){var K,ut=this[R],ot=ut.start,dt=ut.end;return this.isReflect(R)&&(K=[dt,ot],ot=K[0],dt=K[1]),ot+W*(dt-ot)},z.prototype.invertDim=function(W,R){var K,ut=this[R],ot=ut.start,dt=ut.end;return this.isReflect(R)&&(K=[dt,ot],ot=K[0],dt=K[1]),(W-ot)/(dt-ot)},z.prototype.applyMatrix=function(W,R,K){K===void 0&&(K=0);var ut=this.matrix,ot=[W,R,K];return T.transformMat3(ot,ot,ut),ot},z.prototype.invertMatrix=function(W,R,K){K===void 0&&(K=0);var ut=this.matrix,ot=P.invert([0,0,0,0,0,0,0,0,0],ut),dt=[W,R,K];return ot&&T.transformMat3(dt,dt,ot),dt},z.prototype.convert=function(W){var R=this.convertPoint(W),K=R.x,ut=R.y,ot=this.applyMatrix(K,ut,1);return{x:ot[0],y:ot[1]}},z.prototype.invert=function(W){var R=this.invertMatrix(W.x,W.y,1);return this.invertPoint({x:R[0],y:R[1]})},z.prototype.rotate=function(W){var R=this.matrix,K=this.center;return I.leftTranslate(R,R,[-K.x,-K.y]),I.leftRotate(R,R,W),I.leftTranslate(R,R,[K.x,K.y]),this},z.prototype.reflect=function(W){return W==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},z.prototype.scale=function(W,R){var K=this.matrix,ut=this.center;return I.leftTranslate(K,K,[-ut.x,-ut.y]),I.leftScale(K,K,[W,R]),I.leftTranslate(K,K,[ut.x,ut.y]),this},z.prototype.translate=function(W,R){var K=this.matrix;return I.leftTranslate(K,K,[W,R]),this},z.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},z.prototype.getCenter=function(){return this.center},z.prototype.getWidth=function(){return this.width},z.prototype.getHeight=function(){return this.height},z.prototype.getRadius=function(){return this.radius},z.prototype.isReflect=function(W){return W==="x"?this.isReflectX:this.isReflectY},z.prototype.resetMatrix=function(W){this.matrix=W||(0,d.__spreadArray)([],this.originalMatrix)},z}(),E=A,S=function(z){(0,d.__extends)(W,z);function W(R){var K=z.call(this,R)||this;return K.isRect=!0,K.type="cartesian",K.initial(),K}return W.prototype.initial=function(){z.prototype.initial.call(this);var R=this.start,K=this.end;this.x={start:R.x,end:K.x},this.y={start:R.y,end:K.y}},W.prototype.convertPoint=function(R){var K,ut=R.x,ot=R.y;return this.isTransposed&&(K=[ot,ut],ut=K[0],ot=K[1]),{x:this.convertDim(ut,"x"),y:this.convertDim(ot,"y")}},W.prototype.invertPoint=function(R){var K,ut=this.invertDim(R.x,"x"),ot=this.invertDim(R.y,"y");return this.isTransposed&&(K=[ot,ut],ut=K[0],ot=K[1]),{x:ut,y:ot}},W}(E),y=S,b=v(31437),p=function(z){(0,d.__extends)(W,z);function W(R){var K=z.call(this,R)||this;K.isHelix=!0,K.type="helix";var ut=R.startAngle,ot=ut===void 0?1.25*Math.PI:ut,dt=R.endAngle,nt=dt===void 0?7.25*Math.PI:dt,yt=R.innerRadius,tt=yt===void 0?0:yt,J=R.radius;return K.startAngle=ot,K.endAngle=nt,K.innerRadius=tt,K.radius=J,K.initial(),K}return W.prototype.initial=function(){z.prototype.initial.call(this);var R=(this.endAngle-this.startAngle)/(2*Math.PI)+1,K=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(K=K*this.radius),this.d=Math.floor(K*(1-this.innerRadius)/R),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*K,end:this.innerRadius*K+this.d*.99}},W.prototype.convertPoint=function(R){var K,ut=R.x,ot=R.y;this.isTransposed&&(K=[ot,ut],ut=K[0],ot=K[1]);var dt=this.convertDim(ut,"x"),nt=this.a*dt,yt=this.convertDim(ot,"y");return{x:this.center.x+Math.cos(dt)*(nt+yt),y:this.center.y+Math.sin(dt)*(nt+yt)}},W.prototype.invertPoint=function(R){var K,ut=this.d+this.y.start,ot=b.subtract([0,0],[R.x,R.y],[this.center.x,this.center.y]),dt=I.angleTo(ot,[1,0],!0),nt=dt*this.a;b.length(ot)<nt&&(nt=b.length(ot));var yt=Math.floor((b.length(ot)-nt)/ut);dt=2*yt*Math.PI+dt;var tt=this.a*dt,J=b.length(ot)-tt;J=(0,O.isNumberEqual)(J,0)?0:J;var ft=this.invertDim(dt,"x"),rt=this.invertDim(J,"y");return ft=(0,O.isNumberEqual)(ft,0)?0:ft,rt=(0,O.isNumberEqual)(rt,0)?0:rt,this.isTransposed&&(K=[rt,ft],ft=K[0],rt=K[1]),{x:ft,y:rt}},W}(E),m=p,x=function(z){(0,d.__extends)(W,z);function W(R){var K=z.call(this,R)||this;K.isPolar=!0,K.type="polar";var ut=R.startAngle,ot=ut===void 0?-Math.PI/2:ut,dt=R.endAngle,nt=dt===void 0?Math.PI*3/2:dt,yt=R.innerRadius,tt=yt===void 0?0:yt,J=R.radius;return K.startAngle=ot,K.endAngle=nt,K.innerRadius=tt,K.radius=J,K.initial(),K}return W.prototype.initial=function(){for(z.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var R=this.getOneBox(),K=R.maxX-R.minX,ut=R.maxY-R.minY,ot=Math.abs(R.minX)/K,dt=Math.abs(R.minY)/ut,nt;this.height/ut>this.width/K?(nt=this.width/K,this.circleCenter={x:this.center.x-(.5-ot)*this.width,y:this.center.y-(.5-dt)*nt*ut}):(nt=this.height/ut,this.circleCenter={x:this.center.x-(.5-ot)*nt*K,y:this.center.y-(.5-dt)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=nt*this.radius:(this.radius<=0||this.radius>nt)&&(this.polarRadius=nt):this.polarRadius=nt,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},W.prototype.getRadius=function(){return this.polarRadius},W.prototype.convertPoint=function(R){var K,ut=this.getCenter(),ot=R.x,dt=R.y;return this.isTransposed&&(K=[dt,ot],ot=K[0],dt=K[1]),ot=this.convertDim(ot,"x"),dt=this.convertDim(dt,"y"),{x:ut.x+Math.cos(ot)*dt,y:ut.y+Math.sin(ot)*dt}},W.prototype.invertPoint=function(R){var K,ut=this.getCenter(),ot=[R.x-ut.x,R.y-ut.y],dt=this,nt=dt.startAngle,yt=dt.endAngle;this.isReflect("x")&&(K=[yt,nt],nt=K[0],yt=K[1]);var tt=[1,0,0,0,1,0,0,0,1];I.leftRotate(tt,tt,nt);var J=[1,0,0];T.transformMat3(J,J,tt);var ft=[J[0],J[1]],rt=I.angleTo(ft,ot,yt<nt);(0,O.isNumberEqual)(rt,Math.PI*2)&&(rt=0);var St=b.length(ot),wt=rt/(yt-nt);wt=yt-nt>0?wt:-wt;var q=this.invertDim(St,"y"),it={x:0,y:0};return it.x=this.isTransposed?q:wt,it.y=this.isTransposed?wt:q,it},W.prototype.getCenter=function(){return this.circleCenter},W.prototype.getOneBox=function(){var R=this.startAngle,K=this.endAngle;if(Math.abs(K-R)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var ut=[0,Math.cos(R),Math.cos(K)],ot=[0,Math.sin(R),Math.sin(K)],dt=Math.min(R,K);dt<Math.max(R,K);dt+=Math.PI/18)ut.push(Math.cos(dt)),ot.push(Math.sin(dt));return{minX:Math.min.apply(Math,ut),maxX:Math.max.apply(Math,ut),minY:Math.min.apply(Math,ot),maxY:Math.max.apply(Math,ot)}},W}(E),M=x,k={},_=function(z){return k[z.toLowerCase()]},B=function(z,W){k[z.toLowerCase()]=W};B("rect",y),B("cartesian",y),B("polar",M),B("helix",m)},57817:function(ct,C,v){"use strict";v.d(C,{Z:function(){return d}});function d(T,P,I){if(T){if(typeof T.addEventListener=="function")return T.addEventListener(P,I,!1),{remove:function(){T.removeEventListener(P,I,!1)}};if(typeof T.attachEvent=="function")return T.attachEvent("on"+P,I),{remove:function(){T.detachEvent("on"+P,I)}}}}},6056:function(ct,C,v){"use strict";v.d(C,{Z:function(){return A}});var d,T,P,I;function O(){d=document.createElement("table"),T=document.createElement("tr"),P=/^\s*<(\w+|!)[^>]*>/,I={tr:document.createElement("tbody"),tbody:d,thead:d,tfoot:d,td:T,th:T,"*":document.createElement("div")}}function A(E){d||O();var S=P.test(E)&&RegExp.$1;(!S||!(S in I))&&(S="*");var y=I[S];E=typeof E=="string"?E.replace(/(^\s*)|(\s*$)/g,""):E,y.innerHTML=""+E;var b=y.childNodes[0];return b&&y.contains(b)&&y.removeChild(b),b}},10430:function(ct,C,v){"use strict";v.d(C,{Z:function(){return T}});var d=v(99911);function T(P,I){var O=(0,d.Z)(P,"height",I);return O==="auto"&&(O=P.offsetHeight),parseFloat(O)}},79189:function(ct,C,v){"use strict";v.d(C,{Z:function(){return P}});var d=v(99911),T=v(10430);function P(I,O){var A=(0,T.Z)(I,O),E=parseFloat((0,d.Z)(I,"borderTopWidth"))||0,S=parseFloat((0,d.Z)(I,"paddingTop"))||0,y=parseFloat((0,d.Z)(I,"paddingBottom"))||0,b=parseFloat((0,d.Z)(I,"borderBottomWidth"))||0,p=parseFloat((0,d.Z)(I,"marginTop"))||0,m=parseFloat((0,d.Z)(I,"marginBottom"))||0;return A+E+b+S+y+p+m}},89810:function(ct,C,v){"use strict";v.d(C,{Z:function(){return P}});var d=v(99911),T=v(23408);function P(I,O){var A=(0,T.Z)(I,O),E=parseFloat((0,d.Z)(I,"borderLeftWidth"))||0,S=parseFloat((0,d.Z)(I,"paddingLeft"))||0,y=parseFloat((0,d.Z)(I,"paddingRight"))||0,b=parseFloat((0,d.Z)(I,"borderRightWidth"))||0,p=parseFloat((0,d.Z)(I,"marginRight"))||0,m=parseFloat((0,d.Z)(I,"marginLeft"))||0;return A+E+b+S+y+m+p}},99911:function(ct,C,v){"use strict";v.d(C,{Z:function(){return d}});function d(T,P,I){var O;try{O=window.getComputedStyle?window.getComputedStyle(T,null)[P]:T.style[P]}catch(A){}finally{O=O===void 0?I:O}return O}},23408:function(ct,C,v){"use strict";v.d(C,{Z:function(){return T}});var d=v(99911);function T(P,I){var O=(0,d.Z)(P,"width",I);return O==="auto"&&(O=P.offsetWidth),parseFloat(O)}},80478:function(ct,C,v){"use strict";v.r(C),v.d(C,{addEventListener:function(){return d.Z},createDom:function(){return T.Z},getHeight:function(){return P.Z},getOuterHeight:function(){return I.Z},getOuterWidth:function(){return O.Z},getRatio:function(){return A},getStyle:function(){return E.Z},getWidth:function(){return S.Z},modifyCSS:function(){return y.Z}});var d=v(57817),T=v(6056),P=v(10430),I=v(79189),O=v(89810);function A(){return window.devicePixelRatio?window.devicePixelRatio:2}var E=v(99911),S=v(23408),y=v(45442)},45442:function(ct,C,v){"use strict";v.d(C,{Z:function(){return d}});function d(T,P){if(T)for(var I in P)P.hasOwnProperty(I)&&(T.style[I]=P[I]);return T}},73136:function(ct,C){"use strict";var v;v={value:!0};function d(T,P,I){if(T){if(typeof T.addEventListener=="function")return T.addEventListener(P,I,!1),{remove:function(){T.removeEventListener(P,I,!1)}};if(typeof T.attachEvent=="function")return T.attachEvent("on"+P,I),{remove:function(){T.detachEvent("on"+P,I)}}}}C.Z=d},57821:function(ct,C){"use strict";var v;v={value:!0};var d,T,P,I;function O(){d=document.createElement("table"),T=document.createElement("tr"),P=/^\s*<(\w+|!)[^>]*>/,I={tr:document.createElement("tbody"),tbody:d,thead:d,tfoot:d,td:T,th:T,"*":document.createElement("div")}}function A(E){d||O();var S=P.test(E)&&RegExp.$1;(!S||!(S in I))&&(S="*");var y=I[S];E=typeof E=="string"?E.replace(/(^\s*)|(\s*$)/g,""):E,y.innerHTML=""+E;var b=y.childNodes[0];return b&&y.contains(b)&&y.removeChild(b),b}C.Z=A},1513:function(ct,C){"use strict";var v;v={value:!0};function d(T,P){if(T)for(var I in P)P.hasOwnProperty(I)&&(T.style[I]=P[I]);return T}C.Z=d},90494:function(ct,C,v){"use strict";v.r(C);var d="*",T=function(){function P(){this._events={}}return P.prototype.on=function(I,O,A){return this._events[I]||(this._events[I]=[]),this._events[I].push({callback:O,once:!!A}),this},P.prototype.once=function(I,O){return this.on(I,O,!0)},P.prototype.emit=function(I){for(var O=this,A=[],E=1;E<arguments.length;E++)A[E-1]=arguments[E];var S=this._events[I]||[],y=this._events[d]||[],b=function(p){for(var m=p.length,x=0;x<m;x++)if(!!p[x]){var M=p[x],k=M.callback,_=M.once;_&&(p.splice(x,1),p.length===0&&delete O._events[I],m--,x--),k.apply(O,A)}};b(S),b(y)},P.prototype.off=function(I,O){if(!I)this._events={};else if(!O)delete this._events[I];else{for(var A=this._events[I]||[],E=A.length,S=0;S<E;S++)A[S].callback===O&&(A.splice(S,1),E--,S--);A.length===0&&delete this._events[I]}return this},P.prototype.getEvents=function(){return this._events},P}();C.default=T},39014:function(ct,C,v){"use strict";v.r(C),v.d(C,{AbstractCanvas:function(){return Mn},AbstractGroup:function(){return qn},AbstractShape:function(){return Fn},Base:function(){return He},Event:function(){return $t},PathUtil:function(){return d},version:function(){return Bt}});var d={};v.r(d),v.d(d,{catmullRomToBezier:function(){return E},fillPath:function(){return wt},fillPathByDiff:function(){return f},formatPath:function(){return Qt},intersection:function(){return J},parsePathArray:function(){return k},parsePathString:function(){return A},pathToAbsolute:function(){return y},pathToCurve:function(){return x},rectPath:function(){return K}});var T=v(49242),P=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+P+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+P+"]*,?["+P+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+P+"]*,?["+P+"]*","ig"),A=function(G){if(!G)return null;if((0,T.isArray)(G))return G;var V={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},Y=[];return String(G).replace(I,function(Z,Ct,_t){var Wt=[],Jt=Ct.toLowerCase();if(_t.replace(O,function(ee,Be){Be&&Wt.push(+Be)}),Jt==="m"&&Wt.length>2&&(Y.push([Ct].concat(Wt.splice(0,2))),Jt="l",Ct=Ct==="m"?"l":"L"),Jt==="o"&&Wt.length===1&&Y.push([Ct,Wt[0]]),Jt==="r")Y.push([Ct].concat(Wt));else for(;Wt.length>=V[Jt]&&(Y.push([Ct].concat(Wt.splice(0,V[Jt]))),!!V[Jt]););return G}),Y},E=function(G,V){for(var Y=[],Z=0,Ct=G.length;Ct-2*!V>Z;Z+=2){var _t=[{x:+G[Z-2],y:+G[Z-1]},{x:+G[Z],y:+G[Z+1]},{x:+G[Z+2],y:+G[Z+3]},{x:+G[Z+4],y:+G[Z+5]}];V?Z?Ct-4===Z?_t[3]={x:+G[0],y:+G[1]}:Ct-2===Z&&(_t[2]={x:+G[0],y:+G[1]},_t[3]={x:+G[2],y:+G[3]}):_t[0]={x:+G[Ct-2],y:+G[Ct-1]}:Ct-4===Z?_t[3]=_t[2]:Z||(_t[0]={x:+G[Z],y:+G[Z+1]}),Y.push(["C",(-_t[0].x+6*_t[1].x+_t[2].x)/6,(-_t[0].y+6*_t[1].y+_t[2].y)/6,(_t[1].x+6*_t[2].x-_t[3].x)/6,(_t[1].y+6*_t[2].y-_t[3].y)/6,_t[2].x,_t[2].y])}return Y},S=function(G,V,Y,Z,Ct){var _t=[];if(Ct===null&&Z===null&&(Z=Y),G=+G,V=+V,Y=+Y,Z=+Z,Ct!==null){var Wt=Math.PI/180,Jt=G+Y*Math.cos(-Z*Wt),ee=G+Y*Math.cos(-Ct*Wt),Be=V+Y*Math.sin(-Z*Wt),Ge=V+Y*Math.sin(-Ct*Wt);_t=[["M",Jt,Be],["A",Y,Y,0,+(Ct-Z>180),0,ee,Ge]]}else _t=[["M",G,V],["m",0,-Z],["a",Y,Z,0,1,1,0,2*Z],["a",Y,Z,0,1,1,0,-2*Z],["z"]];return _t},y=function(G){if(G=A(G),!G||!G.length)return[["M",0,0]];var V=[],Y=0,Z=0,Ct=0,_t=0,Wt=0,Jt,ee;G[0][0]==="M"&&(Y=+G[0][1],Z=+G[0][2],Ct=Y,_t=Z,Wt++,V[0]=["M",Y,Z]);for(var Be=G.length===3&&G[0][0]==="M"&&G[1][0].toUpperCase()==="R"&&G[2][0].toUpperCase()==="Z",Ge=void 0,Fe=void 0,or=Wt,fr=G.length;or<fr;or++){if(V.push(Ge=[]),Fe=G[or],Jt=Fe[0],Jt!==Jt.toUpperCase())switch(Ge[0]=Jt.toUpperCase(),Ge[0]){case"A":Ge[1]=Fe[1],Ge[2]=Fe[2],Ge[3]=Fe[3],Ge[4]=Fe[4],Ge[5]=Fe[5],Ge[6]=+Fe[6]+Y,Ge[7]=+Fe[7]+Z;break;case"V":Ge[1]=+Fe[1]+Z;break;case"H":Ge[1]=+Fe[1]+Y;break;case"R":ee=[Y,Z].concat(Fe.slice(1));for(var ze=2,gr=ee.length;ze<gr;ze++)ee[ze]=+ee[ze]+Y,ee[++ze]=+ee[ze]+Z;V.pop(),V=V.concat(E(ee,Be));break;case"O":V.pop(),ee=S(Y,Z,Fe[1],Fe[2]),ee.push(ee[0]),V=V.concat(ee);break;case"U":V.pop(),V=V.concat(S(Y,Z,Fe[1],Fe[2],Fe[3])),Ge=["U"].concat(V[V.length-1].slice(-2));break;case"M":Ct=+Fe[1]+Y,_t=+Fe[2]+Z;break;default:for(var ze=1,gr=Fe.length;ze<gr;ze++)Ge[ze]=+Fe[ze]+(ze%2?Y:Z)}else if(Jt==="R")ee=[Y,Z].concat(Fe.slice(1)),V.pop(),V=V.concat(E(ee,Be)),Ge=["R"].concat(Fe.slice(-2));else if(Jt==="O")V.pop(),ee=S(Y,Z,Fe[1],Fe[2]),ee.push(ee[0]),V=V.concat(ee);else if(Jt==="U")V.pop(),V=V.concat(S(Y,Z,Fe[1],Fe[2],Fe[3])),Ge=["U"].concat(V[V.length-1].slice(-2));else for(var Br=0,en=Fe.length;Br<en;Br++)Ge[Br]=Fe[Br];if(Jt=Jt.toUpperCase(),Jt!=="O")switch(Ge[0]){case"Z":Y=+Ct,Z=+_t;break;case"H":Y=Ge[1];break;case"V":Z=Ge[1];break;case"M":Ct=Ge[Ge.length-2],_t=Ge[Ge.length-1];break;default:Y=Ge[Ge.length-2],Z=Ge[Ge.length-1]}}return V},b=function(G,V,Y,Z){return[G,V,Y,Z,Y,Z]},p=function(G,V,Y,Z,Ct,_t){var Wt=1/3,Jt=2/3;return[Wt*G+Jt*Y,Wt*V+Jt*Z,Wt*Ct+Jt*Y,Wt*_t+Jt*Z,Ct,_t]},m=function(G,V,Y,Z,Ct,_t,Wt,Jt,ee,Be){Y===Z&&(Y+=1);var Ge=Math.PI*120/180,Fe=Math.PI/180*(+Ct||0),or=[],fr,ze,gr,Br,en,Yr=function(ta,Ei,ba){var ji=ta*Math.cos(ba)-Ei*Math.sin(ba),Va=ta*Math.sin(ba)+Ei*Math.cos(ba);return{x:ji,y:Va}};if(Be)ze=Be[0],gr=Be[1],Br=Be[2],en=Be[3];else{fr=Yr(G,V,-Fe),G=fr.x,V=fr.y,fr=Yr(Jt,ee,-Fe),Jt=fr.x,ee=fr.y,G===Jt&&V===ee&&(Jt+=1,ee+=1);var Fr=(G-Jt)/2,Sr=(V-ee)/2,Jr=Fr*Fr/(Y*Y)+Sr*Sr/(Z*Z);Jr>1&&(Jr=Math.sqrt(Jr),Y=Jr*Y,Z=Jr*Z);var vn=Y*Y,Tn=Z*Z,Gn=(_t===Wt?-1:1)*Math.sqrt(Math.abs((vn*Tn-vn*Sr*Sr-Tn*Fr*Fr)/(vn*Sr*Sr+Tn*Fr*Fr)));Br=Gn*Y*Sr/Z+(G+Jt)/2,en=Gn*-Z*Fr/Y+(V+ee)/2,ze=Math.asin(((V-en)/Z).toFixed(9)),gr=Math.asin(((ee-en)/Z).toFixed(9)),ze=G<Br?Math.PI-ze:ze,gr=Jt<Br?Math.PI-gr:gr,ze<0&&(ze=Math.PI*2+ze),gr<0&&(gr=Math.PI*2+gr),Wt&&ze>gr&&(ze=ze-Math.PI*2),!Wt&&gr>ze&&(gr=gr-Math.PI*2)}var Yn=gr-ze;if(Math.abs(Yn)>Ge){var Oi=gr,Fi=Jt,gi=ee;gr=ze+Ge*(Wt&&gr>ze?1:-1),Jt=Br+Y*Math.cos(gr),ee=en+Z*Math.sin(gr),or=m(Jt,ee,Y,Z,Ct,0,Wt,Fi,gi,[gr,Oi,Br,en])}Yn=gr-ze;var Wi=Math.cos(ze),Ji=Math.sin(ze),qi=Math.cos(gr),gn=Math.sin(gr),aa=Math.tan(Yn/4),ti=4/3*Y*aa,Mi=4/3*Z*aa,za=[G,V],Ri=[G+ti*Ji,V-Mi*Wi],ma=[Jt+ti*gn,ee-Mi*qi],Oa=[Jt,ee];if(Ri[0]=2*za[0]-Ri[0],Ri[1]=2*za[1]-Ri[1],Be)return[Ri,ma,Oa].concat(or);or=[Ri,ma,Oa].concat(or).join().split(",");for(var Ia=[],Ni=0,xa=or.length;Ni<xa;Ni++)Ia[Ni]=Ni%2?Yr(or[Ni-1],or[Ni],Fe).y:Yr(or[Ni],or[Ni+1],Fe).x;return Ia},x=function(G,V){var Y=y(G),Z=V&&y(V),Ct={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},_t={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Wt=[],Jt=[],ee="",Be="",Ge,Fe=function(Fr,Sr,Jr){var vn,Tn;if(!Fr)return["C",Sr.x,Sr.y,Sr.x,Sr.y,Sr.x,Sr.y];switch(!(Fr[0]in{T:1,Q:1})&&(Sr.qx=Sr.qy=null),Fr[0]){case"M":Sr.X=Fr[1],Sr.Y=Fr[2];break;case"A":Fr=["C"].concat(m.apply(0,[Sr.x,Sr.y].concat(Fr.slice(1))));break;case"S":Jr==="C"||Jr==="S"?(vn=Sr.x*2-Sr.bx,Tn=Sr.y*2-Sr.by):(vn=Sr.x,Tn=Sr.y),Fr=["C",vn,Tn].concat(Fr.slice(1));break;case"T":Jr==="Q"||Jr==="T"?(Sr.qx=Sr.x*2-Sr.qx,Sr.qy=Sr.y*2-Sr.qy):(Sr.qx=Sr.x,Sr.qy=Sr.y),Fr=["C"].concat(p(Sr.x,Sr.y,Sr.qx,Sr.qy,Fr[1],Fr[2]));break;case"Q":Sr.qx=Fr[1],Sr.qy=Fr[2],Fr=["C"].concat(p(Sr.x,Sr.y,Fr[1],Fr[2],Fr[3],Fr[4]));break;case"L":Fr=["C"].concat(b(Sr.x,Sr.y,Fr[1],Fr[2]));break;case"H":Fr=["C"].concat(b(Sr.x,Sr.y,Fr[1],Sr.y));break;case"V":Fr=["C"].concat(b(Sr.x,Sr.y,Sr.x,Fr[1]));break;case"Z":Fr=["C"].concat(b(Sr.x,Sr.y,Sr.X,Sr.Y));break;default:break}return Fr},or=function(Fr,Sr){if(Fr[Sr].length>7){Fr[Sr].shift();for(var Jr=Fr[Sr];Jr.length;)Wt[Sr]="A",Z&&(Jt[Sr]="A"),Fr.splice(Sr++,0,["C"].concat(Jr.splice(0,6)));Fr.splice(Sr,1),Ge=Math.max(Y.length,Z&&Z.length||0)}},fr=function(Fr,Sr,Jr,vn,Tn){Fr&&Sr&&Fr[Tn][0]==="M"&&Sr[Tn][0]!=="M"&&(Sr.splice(Tn,0,["M",vn.x,vn.y]),Jr.bx=0,Jr.by=0,Jr.x=Fr[Tn][1],Jr.y=Fr[Tn][2],Ge=Math.max(Y.length,Z&&Z.length||0))};Ge=Math.max(Y.length,Z&&Z.length||0);for(var ze=0;ze<Ge;ze++){Y[ze]&&(ee=Y[ze][0]),ee!=="C"&&(Wt[ze]=ee,ze&&(Be=Wt[ze-1])),Y[ze]=Fe(Y[ze],Ct,Be),Wt[ze]!=="A"&&ee==="C"&&(Wt[ze]="C"),or(Y,ze),Z&&(Z[ze]&&(ee=Z[ze][0]),ee!=="C"&&(Jt[ze]=ee,ze&&(Be=Jt[ze-1])),Z[ze]=Fe(Z[ze],_t,Be),Jt[ze]!=="A"&&ee==="C"&&(Jt[ze]="C"),or(Z,ze)),fr(Y,Z,Ct,_t,ze),fr(Z,Y,_t,Ct,ze);var gr=Y[ze],Br=Z&&Z[ze],en=gr.length,Yr=Z&&Br.length;Ct.x=gr[en-2],Ct.y=gr[en-1],Ct.bx=parseFloat(gr[en-4])||Ct.x,Ct.by=parseFloat(gr[en-3])||Ct.y,_t.bx=Z&&(parseFloat(Br[Yr-4])||_t.x),_t.by=Z&&(parseFloat(Br[Yr-3])||_t.y),_t.x=Z&&Br[Yr-2],_t.y=Z&&Br[Yr-1]}return Z?[Y,Z]:Y},M=/,?([a-z]),?/gi,k=function(G){return G.join(",").replace(M,"$1")},_=function(G,V,Y,Z,Ct){var _t=-3*V+9*Y-9*Z+3*Ct,Wt=G*_t+6*V-12*Y+6*Z;return G*Wt-3*V+3*Y},B=function(G,V,Y,Z,Ct,_t,Wt,Jt,ee){ee===null&&(ee=1),ee=ee>1?1:ee<0?0:ee;for(var Be=ee/2,Ge=12,Fe=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],or=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],fr=0,ze=0;ze<Ge;ze++){var gr=Be*Fe[ze]+Be,Br=_(gr,G,Y,Ct,Wt),en=_(gr,V,Z,_t,Jt),Yr=Br*Br+en*en;fr+=or[ze]*Math.sqrt(Yr)}return Be*fr},z=function(G,V,Y,Z,Ct,_t,Wt,Jt){for(var ee=[],Be=[[],[]],Ge,Fe,or,fr,ze=0;ze<2;++ze){if(ze===0?(Fe=6*G-12*Y+6*Ct,Ge=-3*G+9*Y-9*Ct+3*Wt,or=3*Y-3*G):(Fe=6*V-12*Z+6*_t,Ge=-3*V+9*Z-9*_t+3*Jt,or=3*Z-3*V),Math.abs(Ge)<1e-12){if(Math.abs(Fe)<1e-12)continue;fr=-or/Fe,fr>0&&fr<1&&ee.push(fr);continue}var gr=Fe*Fe-4*or*Ge,Br=Math.sqrt(gr);if(!(gr<0)){var en=(-Fe+Br)/(2*Ge);en>0&&en<1&&ee.push(en);var Yr=(-Fe-Br)/(2*Ge);Yr>0&&Yr<1&&ee.push(Yr)}}for(var Fr=ee.length,Sr=Fr,Jr;Fr--;)fr=ee[Fr],Jr=1-fr,Be[0][Fr]=Jr*Jr*Jr*G+3*Jr*Jr*fr*Y+3*Jr*fr*fr*Ct+fr*fr*fr*Wt,Be[1][Fr]=Jr*Jr*Jr*V+3*Jr*Jr*fr*Z+3*Jr*fr*fr*_t+fr*fr*fr*Jt;return Be[0][Sr]=G,Be[1][Sr]=V,Be[0][Sr+1]=Wt,Be[1][Sr+1]=Jt,Be[0].length=Be[1].length=Sr+2,{min:{x:Math.min.apply(0,Be[0]),y:Math.min.apply(0,Be[1])},max:{x:Math.max.apply(0,Be[0]),y:Math.max.apply(0,Be[1])}}},W=function(G,V,Y,Z,Ct,_t,Wt,Jt){if(!(Math.max(G,Y)<Math.min(Ct,Wt)||Math.min(G,Y)>Math.max(Ct,Wt)||Math.max(V,Z)<Math.min(_t,Jt)||Math.min(V,Z)>Math.max(_t,Jt))){var ee=(G*Z-V*Y)*(Ct-Wt)-(G-Y)*(Ct*Jt-_t*Wt),Be=(G*Z-V*Y)*(_t-Jt)-(V-Z)*(Ct*Jt-_t*Wt),Ge=(G-Y)*(_t-Jt)-(V-Z)*(Ct-Wt);if(!!Ge){var Fe=ee/Ge,or=Be/Ge,fr=+Fe.toFixed(2),ze=+or.toFixed(2);if(!(fr<+Math.min(G,Y).toFixed(2)||fr>+Math.max(G,Y).toFixed(2)||fr<+Math.min(Ct,Wt).toFixed(2)||fr>+Math.max(Ct,Wt).toFixed(2)||ze<+Math.min(V,Z).toFixed(2)||ze>+Math.max(V,Z).toFixed(2)||ze<+Math.min(_t,Jt).toFixed(2)||ze>+Math.max(_t,Jt).toFixed(2)))return{x:Fe,y:or}}}},R=function(G,V,Y){return V>=G.x&&V<=G.x+G.width&&Y>=G.y&&Y<=G.y+G.height},K=function(G,V,Y,Z,Ct){if(Ct)return[["M",+G+ +Ct,V],["l",Y-Ct*2,0],["a",Ct,Ct,0,0,1,Ct,Ct],["l",0,Z-Ct*2],["a",Ct,Ct,0,0,1,-Ct,Ct],["l",Ct*2-Y,0],["a",Ct,Ct,0,0,1,-Ct,-Ct],["l",0,Ct*2-Z],["a",Ct,Ct,0,0,1,Ct,-Ct],["z"]];var _t=[["M",G,V],["l",Y,0],["l",0,Z],["l",-Y,0],["z"]];return _t.parsePathArray=k,_t},ut=function(G,V,Y,Z){return G===null&&(G=V=Y=Z=0),V===null&&(V=G.y,Y=G.width,Z=G.height,G=G.x),{x:G,y:V,width:Y,w:Y,height:Z,h:Z,x2:G+Y,y2:V+Z,cx:G+Y/2,cy:V+Z/2,r1:Math.min(Y,Z)/2,r2:Math.max(Y,Z)/2,r0:Math.sqrt(Y*Y+Z*Z)/2,path:K(G,V,Y,Z),vb:[G,V,Y,Z].join(" ")}},ot=function(G,V){return G=ut(G),V=ut(V),R(V,G.x,G.y)||R(V,G.x2,G.y)||R(V,G.x,G.y2)||R(V,G.x2,G.y2)||R(G,V.x,V.y)||R(G,V.x2,V.y)||R(G,V.x,V.y2)||R(G,V.x2,V.y2)||(G.x<V.x2&&G.x>V.x||V.x<G.x2&&V.x>G.x)&&(G.y<V.y2&&G.y>V.y||V.y<G.y2&&V.y>G.y)},dt=function(G,V,Y,Z,Ct,_t,Wt,Jt){(0,T.isArray)(G)||(G=[G,V,Y,Z,Ct,_t,Wt,Jt]);var ee=z.apply(null,G);return ut(ee.min.x,ee.min.y,ee.max.x-ee.min.x,ee.max.y-ee.min.y)},nt=function(G,V,Y,Z,Ct,_t,Wt,Jt,ee){var Be=1-ee,Ge=Math.pow(Be,3),Fe=Math.pow(Be,2),or=ee*ee,fr=or*ee,ze=Ge*G+Fe*3*ee*Y+Be*3*ee*ee*Ct+fr*Wt,gr=Ge*V+Fe*3*ee*Z+Be*3*ee*ee*_t+fr*Jt,Br=G+2*ee*(Y-G)+or*(Ct-2*Y+G),en=V+2*ee*(Z-V)+or*(_t-2*Z+V),Yr=Y+2*ee*(Ct-Y)+or*(Wt-2*Ct+Y),Fr=Z+2*ee*(_t-Z)+or*(Jt-2*_t+Z),Sr=Be*G+ee*Y,Jr=Be*V+ee*Z,vn=Be*Ct+ee*Wt,Tn=Be*_t+ee*Jt,Gn=90-Math.atan2(Br-Yr,en-Fr)*180/Math.PI;return{x:ze,y:gr,m:{x:Br,y:en},n:{x:Yr,y:Fr},start:{x:Sr,y:Jr},end:{x:vn,y:Tn},alpha:Gn}},yt=function(G,V,Y){var Z=dt(G),Ct=dt(V);if(!ot(Z,Ct))return Y?0:[];for(var _t=B.apply(0,G),Wt=B.apply(0,V),Jt=~~(_t/8),ee=~~(Wt/8),Be=[],Ge=[],Fe={},or=Y?0:[],fr=0;fr<Jt+1;fr++){var ze=nt.apply(0,G.concat(fr/Jt));Be.push({x:ze.x,y:ze.y,t:fr/Jt})}for(var fr=0;fr<ee+1;fr++){var ze=nt.apply(0,V.concat(fr/ee));Ge.push({x:ze.x,y:ze.y,t:fr/ee})}for(var fr=0;fr<Jt;fr++)for(var gr=0;gr<ee;gr++){var Br=Be[fr],en=Be[fr+1],Yr=Ge[gr],Fr=Ge[gr+1],Sr=Math.abs(en.x-Br.x)<.001?"y":"x",Jr=Math.abs(Fr.x-Yr.x)<.001?"y":"x",vn=W(Br.x,Br.y,en.x,en.y,Yr.x,Yr.y,Fr.x,Fr.y);if(vn){if(Fe[vn.x.toFixed(4)]===vn.y.toFixed(4))continue;Fe[vn.x.toFixed(4)]=vn.y.toFixed(4);var Tn=Br.t+Math.abs((vn[Sr]-Br[Sr])/(en[Sr]-Br[Sr]))*(en.t-Br.t),Gn=Yr.t+Math.abs((vn[Jr]-Yr[Jr])/(Fr[Jr]-Yr[Jr]))*(Fr.t-Yr.t);Tn>=0&&Tn<=1&&Gn>=0&&Gn<=1&&(Y?or+=1:or.push({x:vn.x,y:vn.y,t1:Tn,t2:Gn}))}}return or},tt=function(G,V,Y){G=x(G),V=x(V);for(var Z,Ct,_t,Wt,Jt,ee,Be,Ge,Fe,or,fr=Y?0:[],ze=0,gr=G.length;ze<gr;ze++){var Br=G[ze];if(Br[0]==="M")Z=Jt=Br[1],Ct=ee=Br[2];else{Br[0]==="C"?(Fe=[Z,Ct].concat(Br.slice(1)),Z=Fe[6],Ct=Fe[7]):(Fe=[Z,Ct,Z,Ct,Jt,ee,Jt,ee],Z=Jt,Ct=ee);for(var en=0,Yr=V.length;en<Yr;en++){var Fr=V[en];if(Fr[0]==="M")_t=Be=Fr[1],Wt=Ge=Fr[2];else{Fr[0]==="C"?(or=[_t,Wt].concat(Fr.slice(1)),_t=or[6],Wt=or[7]):(or=[_t,Wt,_t,Wt,Be,Ge,Be,Ge],_t=Be,Wt=Ge);var Sr=yt(Fe,or,Y);if(Y)fr+=Sr;else{for(var Jr=0,vn=Sr.length;Jr<vn;Jr++)Sr[Jr].segment1=ze,Sr[Jr].segment2=en,Sr[Jr].bez1=Fe,Sr[Jr].bez2=or;fr=fr.concat(Sr)}}}}}return fr},J=function(G,V){return tt(G,V)};function ft(G,V){var Y=[],Z=[];function Ct(_t,Wt){if(_t.length===1)Y.push(_t[0]),Z.push(_t[0]);else{for(var Jt=[],ee=0;ee<_t.length-1;ee++)ee===0&&Y.push(_t[0]),ee===_t.length-2&&Z.push(_t[ee+1]),Jt[ee]=[(1-Wt)*_t[ee][0]+Wt*_t[ee+1][0],(1-Wt)*_t[ee][1]+Wt*_t[ee+1][1]];Ct(Jt,Wt)}}return G.length&&Ct(G,V),{left:Y,right:Z.reverse()}}function rt(G,V,Y){var Z=[[G[1],G[2]]];Y=Y||2;var Ct=[];V[0]==="A"?(Z.push(V[6]),Z.push(V[7])):V[0]==="C"?(Z.push([V[1],V[2]]),Z.push([V[3],V[4]]),Z.push([V[5],V[6]])):V[0]==="S"||V[0]==="Q"?(Z.push([V[1],V[2]]),Z.push([V[3],V[4]])):Z.push([V[1],V[2]]);for(var _t=Z,Wt=1/Y,Jt=0;Jt<Y-1;Jt++){var ee=Wt/(1-Wt*Jt),Be=ft(_t,ee);Ct.push(Be.left),_t=Be.right}Ct.push(_t);var Ge=Ct.map(function(Fe){var or=[];return Fe.length===4&&(or.push("C"),or=or.concat(Fe[2])),Fe.length>=3&&(Fe.length===3&&or.push("Q"),or=or.concat(Fe[1])),Fe.length===2&&or.push("L"),or=or.concat(Fe[Fe.length-1]),or});return Ge}var St=function(G,V,Y){if(Y===1)return[[].concat(G)];var Z=[];if(V[0]==="L"||V[0]==="C"||V[0]==="Q")Z=Z.concat(rt(G,V,Y));else{var Ct=[].concat(G);Ct[0]==="M"&&(Ct[0]="L");for(var _t=0;_t<=Y-1;_t++)Z.push(Ct)}return Z},wt=function(G,V){if(G.length===1)return G;var Y=G.length-1,Z=V.length-1,Ct=Y/Z,_t=[];if(G.length===1&&G[0][0]==="M"){for(var Wt=0;Wt<Z-Y;Wt++)G.push(G[0]);return G}for(var Wt=0;Wt<Z;Wt++){var Jt=Math.floor(Ct*Wt);_t[Jt]=(_t[Jt]||0)+1}var ee=_t.reduce(function(Be,Ge,Fe){return Fe===Y?Be.concat(G[Y]):Be.concat(St(G[Fe],G[Fe+1],Ge))},[]);return ee.unshift(G[0]),(V[Z]==="Z"||V[Z]==="z")&&ee.push("Z"),ee},q=function(G,V){if(G.length!==V.length)return!1;var Y=!0;return(0,T.each)(G,function(Z,Ct){if(Z!==V[Ct])return Y=!1,!1}),Y};function it(G,V,Y){var Z=null,Ct=Y;return V<Ct&&(Ct=V,Z="add"),G<Ct&&(Ct=G,Z="del"),{type:Z,min:Ct}}var Q=function(G,V){var Y=G.length,Z=V.length,Ct,_t,Wt=0;if(Y===0||Z===0)return null;for(var Jt=[],ee=0;ee<=Y;ee++)Jt[ee]=[],Jt[ee][0]={min:ee};for(var Be=0;Be<=Z;Be++)Jt[0][Be]={min:Be};for(var ee=1;ee<=Y;ee++){Ct=G[ee-1];for(var Be=1;Be<=Z;Be++){_t=V[Be-1],q(Ct,_t)?Wt=0:Wt=1;var Ge=Jt[ee-1][Be].min+1,Fe=Jt[ee][Be-1].min+1,or=Jt[ee-1][Be-1].min+Wt;Jt[ee][Be]=it(Ge,Fe,or)}}return Jt},f=function(G,V){var Y=Q(G,V),Z=G.length,Ct=V.length,_t=[],Wt=1,Jt=1;if(Y[Z][Ct].min!==Z){for(var ee=1;ee<=Z;ee++){var Be=Y[ee][ee].min;Jt=ee;for(var Ge=Wt;Ge<=Ct;Ge++)Y[ee][Ge].min<Be&&(Be=Y[ee][Ge].min,Jt=Ge);Wt=Jt,Y[ee][Wt].type&&_t.push({index:ee-1,type:Y[ee][Wt].type})}for(var ee=_t.length-1;ee>=0;ee--)Wt=_t[ee].index,_t[ee].type==="add"?G.splice(Wt,0,[].concat(G[Wt])):G.splice(Wt,1)}Z=G.length;var Fe=Ct-Z;if(Z<Ct)for(var ee=0;ee<Fe;ee++)G[Z-1][0]==="z"||G[Z-1][0]==="Z"?G.splice(Z-2,0,G[Z-2]):G.push(G[Z-1]),Z+=1;return G};function vt(G,V,Y){for(var Z=[].concat(G),Ct,_t=1/(Y+1),Wt=It(V)[0],Jt=1;Jt<=Y;Jt++)_t*=Jt,Ct=Math.floor(G.length*_t),Ct===0?Z.unshift([Wt[0]*_t+G[Ct][0]*(1-_t),Wt[1]*_t+G[Ct][1]*(1-_t)]):Z.splice(Ct,0,[Wt[0]*_t+G[Ct][0]*(1-_t),Wt[1]*_t+G[Ct][1]*(1-_t)]);return Z}function It(G){var V=[];switch(G[0]){case"M":V.push([G[1],G[2]]);break;case"L":V.push([G[1],G[2]]);break;case"A":V.push([G[6],G[7]]);break;case"Q":V.push([G[3],G[4]]),V.push([G[1],G[2]]);break;case"T":V.push([G[1],G[2]]);break;case"C":V.push([G[5],G[6]]),V.push([G[1],G[2]]),V.push([G[3],G[4]]);break;case"S":V.push([G[3],G[4]]),V.push([G[1],G[2]]);break;case"H":V.push([G[1],G[1]]);break;case"V":V.push([G[1],G[1]]);break;default:}return V}var Qt=function(G,V){if(G.length<=1)return G;for(var Y,Z=0;Z<V.length;Z++)if(G[Z][0]!==V[Z][0])switch(Y=It(G[Z]),V[Z][0]){case"M":G[Z]=["M"].concat(Y[0]);break;case"L":G[Z]=["L"].concat(Y[0]);break;case"A":G[Z]=[].concat(V[Z]),G[Z][6]=Y[0][0],G[Z][7]=Y[0][1];break;case"Q":if(Y.length<2)if(Z>0)Y=vt(Y,G[Z-1],1);else{G[Z]=V[Z];break}G[Z]=["Q"].concat(Y.reduce(function(Ct,_t){return Ct.concat(_t)},[]));break;case"T":G[Z]=["T"].concat(Y[0]);break;case"C":if(Y.length<3)if(Z>0)Y=vt(Y,G[Z-1],2);else{G[Z]=V[Z];break}G[Z]=["C"].concat(Y.reduce(function(Ct,_t){return Ct.concat(_t)},[]));break;case"S":if(Y.length<2)if(Z>0)Y=vt(Y,G[Z-1],1);else{G[Z]=V[Z];break}G[Z]=["S"].concat(Y.reduce(function(Ct,_t){return Ct.concat(_t)},[]));break;default:G[Z]=V[Z]}return G},Se=function(){function G(V,Y){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=V,this.name=V,this.originalEvent=Y,this.timeStamp=Y.timeStamp}return G.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},G.prototype.stopPropagation=function(){this.propagationStopped=!0},G.prototype.toString=function(){var V=this.type;return"[Event (type="+V+")]"},G.prototype.save=function(){},G.prototype.restore=function(){},G}(),$t=Se,re=v(70655),he=v(90494),Me=v(73890),le=v(46812),Rt=v(21830),Ot=v(33643),At=v(66631),Dt=v(66974),j=v(27154),$=v(85260);function et(G,V){var Y=G.indexOf(V);Y!==-1&&G.splice(Y,1)}var Tt=typeof window!="undefined"&&typeof window.document!="undefined";function Nt(G,V){if(G.isCanvas())return!0;for(var Y=V.getParent(),Z=!1;Y;){if(Y===G){Z=!0;break}Y=Y.getParent()}return Z}function Ut(G){return G.cfg.visible&&G.cfg.capture}var Oe=function(G){(0,re.__extends)(V,G);function V(Y){var Z=G.call(this)||this;Z.destroyed=!1;var Ct=Z.getDefaultCfg();return Z.cfg=(0,Dt.default)(Ct,Y),Z}return V.prototype.getDefaultCfg=function(){return{}},V.prototype.get=function(Y){return this.cfg[Y]},V.prototype.set=function(Y,Z){this.cfg[Y]=Z},V.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},V}(he.default),He=Oe,Zt=v(43631),be=v(31506);function _e(G,V){var Y=[],Z=G[0],Ct=G[1],_t=G[2],Wt=G[3],Jt=G[4],ee=G[5],Be=G[6],Ge=G[7],Fe=G[8],or=V[0],fr=V[1],ze=V[2],gr=V[3],Br=V[4],en=V[5],Yr=V[6],Fr=V[7],Sr=V[8];return Y[0]=or*Z+fr*Wt+ze*Be,Y[1]=or*Ct+fr*Jt+ze*Ge,Y[2]=or*_t+fr*ee+ze*Fe,Y[3]=gr*Z+Br*Wt+en*Be,Y[4]=gr*Ct+Br*Jt+en*Ge,Y[5]=gr*_t+Br*ee+en*Fe,Y[6]=Yr*Z+Fr*Wt+Sr*Be,Y[7]=Yr*Ct+Fr*Jt+Sr*Ge,Y[8]=Yr*_t+Fr*ee+Sr*Fe,Y}function Qe(G,V){var Y=[],Z=V[0],Ct=V[1];return Y[0]=G[0]*Z+G[3]*Ct+G[6],Y[1]=G[1]*Z+G[4]*Ct+G[7],Y}function dr(G){var V=[],Y=G[0],Z=G[1],Ct=G[2],_t=G[3],Wt=G[4],Jt=G[5],ee=G[6],Be=G[7],Ge=G[8],Fe=Ge*Wt-Jt*Be,or=-Ge*_t+Jt*ee,fr=Be*_t-Wt*ee,ze=Y*Fe+Z*or+Ct*fr;return ze?(ze=1/ze,V[0]=Fe*ze,V[1]=(-Ge*Z+Ct*Be)*ze,V[2]=(Jt*Z-Ct*Wt)*ze,V[3]=or*ze,V[4]=(Ge*Y-Ct*ee)*ze,V[5]=(-Jt*Y+Ct*_t)*ze,V[6]=fr*ze,V[7]=(-Be*Y+Z*ee)*ze,V[8]=(Wt*Y-Z*_t)*ze,V):null}var ur="matrix",Dr=["zIndex","capture","visible","type"],ne=["repeat"],se=":",ye="*";function We(G){for(var V=[],Y=0;Y<G.length;Y++)(0,T.isArray)(G[Y])?V.push([].concat(G[Y])):V.push(G[Y]);return V}function De(G,V){var Y={},Z=V.attrs;for(var Ct in G)Y[Ct]=Z[Ct];return Y}function ae(G,V){var Y={},Z=V.attr();return(0,T.each)(G,function(Ct,_t){ne.indexOf(_t)===-1&&!(0,T.isEqual)(Z[_t],Ct)&&(Y[_t]=Ct)}),Y}function Yt(G,V){if(V.onFrame)return G;var Y=V.startTime,Z=V.delay,Ct=V.duration,_t=Object.prototype.hasOwnProperty;return(0,T.each)(G,function(Wt){Y+Z<Wt.startTime+Wt.delay+Wt.duration&&Ct>Wt.delay&&(0,T.each)(V.toAttrs,function(Jt,ee){_t.call(Wt.toAttrs,ee)&&(delete Wt.toAttrs[ee],delete Wt.fromAttrs[ee])})}),G}var st=function(G){(0,re.__extends)(V,G);function V(Y){var Z=G.call(this,Y)||this;Z.attrs={};var Ct=Z.getDefaultAttrs();return(0,T.mix)(Ct,Y.attrs),Z.attrs=Ct,Z.initAttrs(Ct),Z.initAnimate(),Z}return V.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},V.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},V.prototype.onCanvasChange=function(Y){},V.prototype.initAttrs=function(Y){},V.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},V.prototype.isGroup=function(){return!1},V.prototype.getParent=function(){return this.get("parent")},V.prototype.getCanvas=function(){return this.get("canvas")},V.prototype.attr=function(){for(var Y,Z=[],Ct=0;Ct<arguments.length;Ct++)Z[Ct]=arguments[Ct];var _t=Z[0],Wt=Z[1];if(!_t)return this.attrs;if((0,T.isObject)(_t)){for(var Jt in _t)this.setAttr(Jt,_t[Jt]);return this.afterAttrsChange(_t),this}return Z.length===2?(this.setAttr(_t,Wt),this.afterAttrsChange((Y={},Y[_t]=Wt,Y)),this):this.attrs[_t]},V.prototype.isClipped=function(Y,Z){var Ct=this.getClip();return Ct&&!Ct.isHit(Y,Z)},V.prototype.setAttr=function(Y,Z){var Ct=this.attrs[Y];Ct!==Z&&(this.attrs[Y]=Z,this.onAttrChange(Y,Z,Ct))},V.prototype.onAttrChange=function(Y,Z,Ct){Y==="matrix"&&this.set("totalMatrix",null)},V.prototype.afterAttrsChange=function(Y){this.onCanvasChange("attr")},V.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},V.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},V.prototype.setZIndex=function(Y){this.set("zIndex",Y);var Z=this.getParent();return Z&&Z.sort(),this},V.prototype.toFront=function(){var Y=this.getParent();if(!!Y){var Z=Y.getChildren(),Ct=this.get("el"),_t=Z.indexOf(this);Z.splice(_t,1),Z.push(this),this.onCanvasChange("zIndex")}},V.prototype.toBack=function(){var Y=this.getParent();if(!!Y){var Z=Y.getChildren(),Ct=this.get("el"),_t=Z.indexOf(this);Z.splice(_t,1),Z.unshift(this),this.onCanvasChange("zIndex")}},V.prototype.remove=function(Y){Y===void 0&&(Y=!0);var Z=this.getParent();Z?(et(Z.getChildren(),this),Z.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),Y&&this.destroy()},V.prototype.resetMatrix=function(){this.attr(ur,this.getDefaultMatrix()),this.onCanvasChange("matrix")},V.prototype.getMatrix=function(){return this.attr(ur)},V.prototype.setMatrix=function(Y){this.attr(ur,Y),this.onCanvasChange("matrix")},V.prototype.getTotalMatrix=function(){var Y=this.get("totalMatrix");if(!Y){var Z=this.attr("matrix"),Ct=this.get("parentMatrix");Ct&&Z?Y=_e(Ct,Z):Y=Z||Ct,this.set("totalMatrix",Y)}return Y},V.prototype.applyMatrix=function(Y){var Z=this.attr("matrix"),Ct=null;Y&&Z?Ct=_e(Y,Z):Ct=Z||Y,this.set("totalMatrix",Ct),this.set("parentMatrix",Y)},V.prototype.getDefaultMatrix=function(){return null},V.prototype.applyToMatrix=function(Y){var Z=this.attr("matrix");return Z?Qe(Z,Y):Y},V.prototype.invertFromMatrix=function(Y){var Z=this.attr("matrix");if(Z){var Ct=dr(Z);if(Ct)return Qe(Ct,Y)}return Y},V.prototype.setClip=function(Y){var Z=this.getCanvas(),Ct=null;if(Y){var _t=this.getShapeBase(),Wt=(0,T.upperFirst)(Y.type),Jt=_t[Wt];Jt&&(Ct=new Jt({type:Y.type,isClipShape:!0,attrs:Y.attrs,canvas:Z}))}return this.set("clipShape",Ct),this.onCanvasChange("clip"),Ct},V.prototype.getClip=function(){var Y=this.cfg.clipShape;return Y||null},V.prototype.clone=function(){var Y=this,Z=this.attrs,Ct={};(0,T.each)(Z,function(Jt,ee){(0,T.isArray)(Z[ee])?Ct[ee]=We(Z[ee]):Ct[ee]=Z[ee]});var _t=this.constructor,Wt=new _t({attrs:Ct});return(0,T.each)(Dr,function(Jt){Wt.set(Jt,Y.get(Jt))}),Wt},V.prototype.destroy=function(){var Y=this.destroyed;Y||(this.attrs={},G.prototype.destroy.call(this))},V.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},V.prototype.animate=function(){for(var Y=[],Z=0;Z<arguments.length;Z++)Y[Z]=arguments[Z];this.set("animating",!0);var Ct=this.get("timeline");Ct||(Ct=this.get("canvas").get("timeline"),this.set("timeline",Ct));var _t=this.get("animations")||[];Ct.timer||Ct.initTimer();var Wt=Y[0],Jt=Y[1],ee=Y[2],Be=ee===void 0?"easeLinear":ee,Ge=Y[3],Fe=Ge===void 0?T.noop:Ge,or=Y[4],fr=or===void 0?0:or,ze,gr,Br,en,Yr;(0,T.isFunction)(Wt)?(ze=Wt,Wt={}):(0,T.isObject)(Wt)&&Wt.onFrame&&(ze=Wt.onFrame,gr=Wt.repeat),(0,T.isObject)(Jt)?(Yr=Jt,Jt=Yr.duration,Be=Yr.easing||"easeLinear",fr=Yr.delay||0,gr=Yr.repeat||gr||!1,Fe=Yr.callback||T.noop,Br=Yr.pauseCallback||T.noop,en=Yr.resumeCallback||T.noop):((0,T.isNumber)(Fe)&&(fr=Fe,Fe=null),(0,T.isFunction)(Be)?(Fe=Be,Be="easeLinear"):Be=Be||"easeLinear");var Fr=ae(Wt,this),Sr={fromAttrs:De(Fr,this),toAttrs:Fr,duration:Jt,easing:Be,repeat:gr,callback:Fe,pauseCallback:Br,resumeCallback:en,delay:fr,startTime:Ct.getTime(),id:(0,T.uniqueId)(),onFrame:ze,pathFormatted:!1};_t.length>0?_t=Yt(_t,Sr):Ct.addAnimator(this),_t.push(Sr),this.set("animations",_t),this.set("_pause",{isPaused:!1})},V.prototype.stopAnimate=function(Y){var Z=this;Y===void 0&&(Y=!0);var Ct=this.get("animations");(0,T.each)(Ct,function(_t){Y&&(_t.onFrame?Z.attr(_t.onFrame(1)):Z.attr(_t.toAttrs)),_t.callback&&_t.callback()}),this.set("animating",!1),this.set("animations",[])},V.prototype.pauseAnimate=function(){var Y=this.get("timeline"),Z=this.get("animations"),Ct=Y.getTime();return(0,T.each)(Z,function(_t){_t._paused=!0,_t._pauseTime=Ct,_t.pauseCallback&&_t.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Ct}),this},V.prototype.resumeAnimate=function(){var Y=this.get("timeline"),Z=Y.getTime(),Ct=this.get("animations"),_t=this.get("_pause").pauseTime;return(0,T.each)(Ct,function(Wt){Wt.startTime=Wt.startTime+(Z-_t),Wt._paused=!1,Wt._pauseTime=null,Wt.resumeCallback&&Wt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Ct),this},V.prototype.emitDelegation=function(Y,Z){var Ct=this,_t=Z.propagationPath,Wt=this.getEvents(),Jt;Y==="mouseenter"?Jt=Z.fromShape:Y==="mouseleave"&&(Jt=Z.toShape);for(var ee=function(or){var fr=_t[or],ze=fr.get("name");if(ze){if((fr.isGroup()||fr.isCanvas&&fr.isCanvas())&&Jt&&Nt(fr,Jt))return"break";(0,T.isArray)(ze)?(0,T.each)(ze,function(gr){Ct.emitDelegateEvent(fr,gr,Z)}):Be.emitDelegateEvent(fr,ze,Z)}},Be=this,Ge=0;Ge<_t.length;Ge++){var Fe=ee(Ge);if(Fe==="break")break}},V.prototype.emitDelegateEvent=function(Y,Z,Ct){var _t=this.getEvents(),Wt=Z+se+Ct.type;(_t[Wt]||_t[ye])&&(Ct.name=Wt,Ct.currentTarget=Y,Ct.delegateTarget=this,Ct.delegateObject=Y.get("delegateObject"),this.emit(Wt,Ct))},V.prototype.translate=function(Y,Z){Y===void 0&&(Y=0),Z===void 0&&(Z=0);var Ct=this.getMatrix(),_t=be.transform(Ct,[["t",Y,Z]]);return this.setMatrix(_t),this},V.prototype.move=function(Y,Z){var Ct=this.attr("x")||0,_t=this.attr("y")||0;return this.translate(Y-Ct,Z-_t),this},V.prototype.moveTo=function(Y,Z){return this.move(Y,Z)},V.prototype.scale=function(Y,Z){var Ct=this.getMatrix(),_t=be.transform(Ct,[["s",Y,Z||Y]]);return this.setMatrix(_t),this},V.prototype.rotate=function(Y){var Z=this.getMatrix(),Ct=be.transform(Z,[["r",Y]]);return this.setMatrix(Ct),this},V.prototype.rotateAtStart=function(Y){var Z=this.attr(),Ct=Z.x,_t=Z.y,Wt=this.getMatrix(),Jt=be.transform(Wt,[["t",-Ct,-_t],["r",Y],["t",Ct,_t]]);return this.setMatrix(Jt),this},V.prototype.rotateAtPoint=function(Y,Z,Ct){var _t=this.getMatrix(),Wt=be.transform(_t,[["t",-Y,-Z],["r",Ct],["t",Y,Z]]);return this.setMatrix(Wt),this},V}(He),gt=st,kt={},Ft="_INDEX";function jt(G){G.isGroup()?(G.isEntityGroup()||G.get("children").length)&&G.onCanvasChange("add"):G.onCanvasChange("add")}function fe(G,V){if(G.set("canvas",V),G.isGroup()){var Y=G.get("children");Y.length&&Y.forEach(function(Z){fe(Z,V)})}}function Ce(G,V){if(G.set("timeline",V),G.isGroup()){var Y=G.get("children");Y.length&&Y.forEach(function(Z){Ce(Z,V)})}}function xe(G,V){var Y=G.getChildren();return Y.indexOf(V)>=0}function ve(G,V,Y){Y===void 0&&(Y=!0),Y?V.destroy():(V.set("parent",null),V.set("canvas",null)),et(G.getChildren(),V)}function Ue(G){return function(V,Y){var Z=G(V,Y);return Z===0?V[Ft]-Y[Ft]:Z}}var Ne=function(G){(0,re.__extends)(V,G);function V(){return G!==null&&G.apply(this,arguments)||this}return V.prototype.isCanvas=function(){return!1},V.prototype.getBBox=function(){var Y=Infinity,Z=-Infinity,Ct=Infinity,_t=-Infinity,Wt=[],Jt=[],ee=this.getChildren().filter(function(Ge){return Ge.get("visible")&&(!Ge.isGroup()||Ge.isGroup()&&Ge.getChildren().length>0)});ee.length>0?((0,j.default)(ee,function(Ge){var Fe=Ge.getBBox();Wt.push(Fe.minX,Fe.maxX),Jt.push(Fe.minY,Fe.maxY)}),Y=Math.min.apply(null,Wt),Z=Math.max.apply(null,Wt),Ct=Math.min.apply(null,Jt),_t=Math.max.apply(null,Jt)):(Y=0,Z=0,Ct=0,_t=0);var Be={x:Y,y:Ct,minX:Y,minY:Ct,maxX:Z,maxY:_t,width:Z-Y,height:_t-Ct};return Be},V.prototype.getCanvasBBox=function(){var Y=Infinity,Z=-Infinity,Ct=Infinity,_t=-Infinity,Wt=[],Jt=[],ee=this.getChildren().filter(function(Ge){return Ge.get("visible")&&(!Ge.isGroup()||Ge.isGroup()&&Ge.getChildren().length>0)});ee.length>0?((0,j.default)(ee,function(Ge){var Fe=Ge.getCanvasBBox();Wt.push(Fe.minX,Fe.maxX),Jt.push(Fe.minY,Fe.maxY)}),Y=Math.min.apply(null,Wt),Z=Math.max.apply(null,Wt),Ct=Math.min.apply(null,Jt),_t=Math.max.apply(null,Jt)):(Y=0,Z=0,Ct=0,_t=0);var Be={x:Y,y:Ct,minX:Y,minY:Ct,maxX:Z,maxY:_t,width:Z-Y,height:_t-Ct};return Be},V.prototype.getDefaultCfg=function(){var Y=G.prototype.getDefaultCfg.call(this);return Y.children=[],Y},V.prototype.onAttrChange=function(Y,Z,Ct){if(G.prototype.onAttrChange.call(this,Y,Z,Ct),Y==="matrix"){var _t=this.getTotalMatrix();this._applyChildrenMarix(_t)}},V.prototype.applyMatrix=function(Y){var Z=this.getTotalMatrix();G.prototype.applyMatrix.call(this,Y);var Ct=this.getTotalMatrix();Ct!==Z&&this._applyChildrenMarix(Ct)},V.prototype._applyChildrenMarix=function(Y){var Z=this.getChildren();(0,j.default)(Z,function(Ct){Ct.applyMatrix(Y)})},V.prototype.addShape=function(){for(var Y=[],Z=0;Z<arguments.length;Z++)Y[Z]=arguments[Z];var Ct=Y[0],_t=Y[1];(0,Ot.default)(Ct)?_t=Ct:_t.type=Ct;var Wt=kt[_t.type];Wt||(Wt=(0,$.default)(_t.type),kt[_t.type]=Wt);var Jt=this.getShapeBase(),ee=new Jt[Wt](_t);return this.add(ee),ee},V.prototype.addGroup=function(){for(var Y=[],Z=0;Z<arguments.length;Z++)Y[Z]=arguments[Z];var Ct=Y[0],_t=Y[1],Wt;if((0,le.default)(Ct))_t?Wt=new Ct(_t):Wt=new Ct({parent:this});else{var Jt=Ct||{},ee=this.getGroupBase();Wt=new ee(Jt)}return this.add(Wt),Wt},V.prototype.getCanvas=function(){var Y;return this.isCanvas()?Y=this:Y=this.get("canvas"),Y},V.prototype.getShape=function(Y,Z,Ct){if(!Ut(this))return null;var _t=this.getChildren(),Wt;if(this.isCanvas())Wt=this._findShape(_t,Y,Z,Ct);else{var Jt=[Y,Z,1];Jt=this.invertFromMatrix(Jt),this.isClipped(Jt[0],Jt[1])||(Wt=this._findShape(_t,Jt[0],Jt[1],Ct))}return Wt},V.prototype._findShape=function(Y,Z,Ct,_t){for(var Wt=null,Jt=Y.length-1;Jt>=0;Jt--){var ee=Y[Jt];if(Ut(ee)&&(ee.isGroup()?Wt=ee.getShape(Z,Ct,_t):ee.isHit(Z,Ct)&&(Wt=ee)),Wt)break}return Wt},V.prototype.add=function(Y){var Z=this.getCanvas(),Ct=this.getChildren(),_t=this.get("timeline"),Wt=Y.getParent();Wt&&ve(Wt,Y,!1),Y.set("parent",this),Z&&fe(Y,Z),_t&&Ce(Y,_t),Ct.push(Y),jt(Y),this._applyElementMatrix(Y)},V.prototype._applyElementMatrix=function(Y){var Z=this.getTotalMatrix();Z&&Y.applyMatrix(Z)},V.prototype.getChildren=function(){return this.get("children")},V.prototype.sort=function(){var Y=this.getChildren();(0,j.default)(Y,function(Z,Ct){return Z[Ft]=Ct,Z}),Y.sort(Ue(function(Z,Ct){return Z.get("zIndex")-Ct.get("zIndex")})),this.onCanvasChange("sort")},V.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var Y=this.getChildren(),Z=Y.length-1;Z>=0;Z--)Y[Z].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},V.prototype.destroy=function(){this.get("destroyed")||(this.clear(),G.prototype.destroy.call(this))},V.prototype.getFirst=function(){return this.getChildByIndex(0)},V.prototype.getLast=function(){var Y=this.getChildren();return this.getChildByIndex(Y.length-1)},V.prototype.getChildByIndex=function(Y){var Z=this.getChildren();return Z[Y]},V.prototype.getCount=function(){var Y=this.getChildren();return Y.length},V.prototype.contain=function(Y){var Z=this.getChildren();return Z.indexOf(Y)>-1},V.prototype.removeChild=function(Y,Z){Z===void 0&&(Z=!0),this.contain(Y)&&Y.remove(Z)},V.prototype.findAll=function(Y){var Z=[],Ct=this.getChildren();return(0,j.default)(Ct,function(_t){Y(_t)&&Z.push(_t),_t.isGroup()&&(Z=Z.concat(_t.findAll(Y)))}),Z},V.prototype.find=function(Y){var Z=null,Ct=this.getChildren();return(0,j.default)(Ct,function(_t){if(Y(_t)?Z=_t:_t.isGroup()&&(Z=_t.find(Y)),Z)return!1}),Z},V.prototype.findById=function(Y){return this.find(function(Z){return Z.get("id")===Y})},V.prototype.findByClassName=function(Y){return this.find(function(Z){return Z.get("className")===Y})},V.prototype.findAllByName=function(Y){return this.findAll(function(Z){return Z.get("name")===Y})},V}(gt),tr=Ne,Er=v(35374),hr=v(13681),Tr=v(42800),_r=v(88122),Nr=function(G){return["fill","stroke","fillStyle","strokeStyle"].includes(G)},ir=function(G){return/^[r,R,L,l]{1}[\s]*\(/.test(G)},wr=[1,0,0,0,1,0,0,0,1];function Zr(G,V,Y){var Z={},Ct=V.fromAttrs,_t=V.toAttrs;if(!G.destroyed){var Wt;for(var Jt in _t)if(!(0,T.isEqual)(Ct[Jt],_t[Jt]))if(Jt==="path"){var ee=_t[Jt],Be=Ct[Jt];ee.length>Be.length?(ee=A(_t[Jt]),Be=A(Ct[Jt]),Be=f(Be,ee),Be=Qt(Be,ee),V.fromAttrs.path=Be,V.toAttrs.path=ee):V.pathFormatted||(ee=A(_t[Jt]),Be=A(Ct[Jt]),Be=Qt(Be,ee),V.fromAttrs.path=Be,V.toAttrs.path=ee,V.pathFormatted=!0),Z[Jt]=[];for(var Ge=0;Ge<ee.length;Ge++){for(var Fe=ee[Ge],or=Be[Ge],fr=[],ze=0;ze<Fe.length;ze++)(0,T.isNumber)(Fe[ze])&&or&&(0,T.isNumber)(or[ze])?(Wt=(0,Tr.Z)(or[ze],Fe[ze]),fr.push(Wt(Y))):fr.push(Fe[ze]);Z[Jt].push(fr)}}else if(Jt==="matrix"){var gr=(0,_r.Z)(Ct[Jt]||wr,_t[Jt]||wr),Br=gr(Y);Z[Jt]=Br}else Nr(Jt)&&ir(_t[Jt])?Z[Jt]=_t[Jt]:(0,T.isFunction)(_t[Jt])||(Wt=(0,Tr.Z)(Ct[Jt],_t[Jt]),Z[Jt]=Wt(Y));G.attr(Z)}}function Wr(G,V,Y){var Z=V.startTime,Ct=V.delay;if(Y<Z+Ct||V._paused)return!1;var _t,Wt=V.duration,Jt=V.easing;if(Y=Y-Z-V.delay,V.repeat)_t=Y%Wt/Wt,_t=hr[Jt](_t);else if(_t=Y/Wt,_t<1)_t=hr[Jt](_t);else return V.onFrame?G.attr(V.onFrame(1)):G.attr(V.toAttrs),!0;if(V.onFrame){var ee=V.onFrame(_t);G.attr(ee)}else Zr(G,V,_t);return!1}var Qr=function(){function G(V){this.animators=[],this.current=0,this.timer=null,this.canvas=V}return G.prototype.initTimer=function(){var V=this,Y=!1,Z,Ct,_t;this.timer=Er.HT(function(Wt){if(V.current=Wt,V.animators.length>0){for(var Jt=V.animators.length-1;Jt>=0;Jt--){if(Z=V.animators[Jt],Z.destroyed){V.removeAnimator(Jt);continue}if(!Z.isAnimatePaused()){Ct=Z.get("animations");for(var ee=Ct.length-1;ee>=0;ee--)_t=Ct[ee],Y=Wr(Z,_t,Wt),Y&&(Ct.splice(ee,1),Y=!1,_t.callback&&_t.callback())}Ct.length===0&&V.removeAnimator(Jt)}var Be=V.canvas.get("autoDraw");Be||V.canvas.draw()}})},G.prototype.addAnimator=function(V){this.animators.push(V)},G.prototype.removeAnimator=function(V){this.animators.splice(V,1)},G.prototype.isAnimating=function(){return!!this.animators.length},G.prototype.stop=function(){this.timer&&this.timer.stop()},G.prototype.stopAllAnimations=function(V){V===void 0&&(V=!0),this.animators.forEach(function(Y){Y.stopAnimate(V)}),this.animators=[],this.canvas.draw()},G.prototype.getTime=function(){return this.current},G}(),ie=Qr,ue=40,me=0,Le=":",Xe=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function $e(G,V){for(var Y in G)if(G.hasOwnProperty(Y)&&Y.indexOf(Le+V)>=0)return!0;return!1}function mr(G,V,Y){Y.name=V,Y.target=G,Y.currentTarget=G,Y.delegateTarget=G,G.emit(V,Y)}function kr(G,V,Y){if(Y.bubbles){var Z=void 0,Ct=!1;if(V==="mouseenter"?(Z=Y.fromShape,Ct=!0):V==="mouseleave"&&(Ct=!0,Z=Y.toShape),G.isCanvas()&&Ct)return;if(Z&&Nt(G,Z)){Y.bubbles=!1;return}Y.name=V,Y.currentTarget=G,Y.delegateTarget=G,G.emit(V,Y)}}var $r=function(){function G(V){var Y=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Z){var Ct=Z.type;Y._triggerEvent(Ct,Z)},this._onDocumentMove=function(Z){var Ct=Y.canvas,_t=Ct.get("el");if(_t!==Z.target&&(Y.dragging||Y.currentShape)){var Wt=Y._getPointInfo(Z);Y.dragging&&Y._emitEvent("drag",Z,Wt,Y.draggingShape)}},this._onDocumentMouseUp=function(Z){var Ct=Y.canvas,_t=Ct.get("el");if(_t!==Z.target&&Y.dragging){var Wt=Y._getPointInfo(Z);Y.draggingShape&&Y._emitEvent("drop",Z,Wt,null),Y._emitEvent("dragend",Z,Wt,Y.draggingShape),Y._afterDrag(Y.draggingShape,Wt,Z)}},this.canvas=V.canvas}return G.prototype.init=function(){this._bindEvents()},G.prototype._bindEvents=function(){var V=this,Y=this.canvas.get("el");(0,j.default)(Xe,function(Z){Y.addEventListener(Z,V._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},G.prototype._clearEvents=function(){var V=this,Y=this.canvas.get("el");(0,j.default)(Xe,function(Z){Y.removeEventListener(Z,V._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},G.prototype._getEventObj=function(V,Y,Z,Ct,_t,Wt){var Jt=new $t(V,Y);return Jt.fromShape=_t,Jt.toShape=Wt,Jt.x=Z.x,Jt.y=Z.y,Jt.clientX=Z.clientX,Jt.clientY=Z.clientY,Jt.propagationPath.push(Ct),Jt},G.prototype._getShape=function(V,Y){return this.canvas.getShape(V.x,V.y,Y)},G.prototype._getPointInfo=function(V){var Y=this.canvas,Z=Y.getClientByEvent(V),Ct=Y.getPointByEvent(V);return{x:Ct.x,y:Ct.y,clientX:Z.x,clientY:Z.y}},G.prototype._triggerEvent=function(V,Y){var Z=this._getPointInfo(Y),Ct=this._getShape(Z,Y),_t=this["_on"+V],Wt=!1;if(_t)_t.call(this,Z,Ct,Y);else{var Jt=this.currentShape;V==="mouseenter"||V==="dragenter"||V==="mouseover"?(this._emitEvent(V,Y,Z,null,null,Ct),Ct&&this._emitEvent(V,Y,Z,Ct,null,Ct),V==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",Y,Z,null)):V==="mouseleave"||V==="dragleave"||V==="mouseout"?(Wt=!0,Jt&&this._emitEvent(V,Y,Z,Jt,Jt,null),this._emitEvent(V,Y,Z,null,Jt,null),V==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",Y,Z,null)):this._emitEvent(V,Y,Z,Ct,null,null)}if(Wt||(this.currentShape=Ct),Ct&&!Ct.get("destroyed")){var ee=this.canvas,Be=ee.get("el");Be.style.cursor=Ct.attr("cursor")||ee.get("cursor")}},G.prototype._onmousedown=function(V,Y,Z){Z.button===me&&(this.mousedownShape=Y,this.mousedownPoint=V,this.mousedownTimeStamp=Z.timeStamp),this._emitEvent("mousedown",Z,V,Y,null,null)},G.prototype._emitMouseoverEvents=function(V,Y,Z,Ct){var _t=this.canvas.get("el");Z!==Ct&&(Z&&(this._emitEvent("mouseout",V,Y,Z,Z,Ct),this._emitEvent("mouseleave",V,Y,Z,Z,Ct),(!Ct||Ct.get("destroyed"))&&(_t.style.cursor=this.canvas.get("cursor"))),Ct&&(this._emitEvent("mouseover",V,Y,Ct,Z,Ct),this._emitEvent("mouseenter",V,Y,Ct,Z,Ct)))},G.prototype._emitDragoverEvents=function(V,Y,Z,Ct,_t){Ct?(Ct!==Z&&(Z&&this._emitEvent("dragleave",V,Y,Z,Z,Ct),this._emitEvent("dragenter",V,Y,Ct,Z,Ct)),_t||this._emitEvent("dragover",V,Y,Ct)):Z&&this._emitEvent("dragleave",V,Y,Z,Z,Ct),_t&&this._emitEvent("dragover",V,Y,Ct)},G.prototype._afterDrag=function(V,Y,Z){V&&(V.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Ct=this._getShape(Y,Z);Ct!==V&&this._emitMouseoverEvents(Z,Y,V,Ct),this.currentShape=Ct},G.prototype._onmouseup=function(V,Y,Z){if(Z.button===me){var Ct=this.draggingShape;this.dragging?(Ct&&this._emitEvent("drop",Z,V,Y),this._emitEvent("dragend",Z,V,Ct),this._afterDrag(Ct,V,Z)):(this._emitEvent("mouseup",Z,V,Y),Y===this.mousedownShape&&this._emitEvent("click",Z,V,Y),this.mousedownShape=null,this.mousedownPoint=null)}},G.prototype._ondragover=function(V,Y,Z){Z.preventDefault();var Ct=this.currentShape;this._emitDragoverEvents(Z,V,Ct,Y,!0)},G.prototype._onmousemove=function(V,Y,Z){var Ct=this.canvas,_t=this.currentShape,Wt=this.draggingShape;if(this.dragging)Wt&&this._emitDragoverEvents(Z,V,_t,Y,!1),this._emitEvent("drag",Z,V,Wt);else{var Jt=this.mousedownPoint;if(Jt){var ee=this.mousedownShape,Be=Z.timeStamp,Ge=Be-this.mousedownTimeStamp,Fe=Jt.clientX-V.clientX,or=Jt.clientY-V.clientY,fr=Fe*Fe+or*or;Ge>120||fr>ue?ee&&ee.get("draggable")?(Wt=this.mousedownShape,Wt.set("capture",!1),this.draggingShape=Wt,this.dragging=!0,this._emitEvent("dragstart",Z,V,Wt),this.mousedownShape=null,this.mousedownPoint=null):!ee&&Ct.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Z,V,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Z,V,_t,Y),this._emitEvent("mousemove",Z,V,Y)):(this._emitMouseoverEvents(Z,V,_t,Y),this._emitEvent("mousemove",Z,V,Y))}else this._emitMouseoverEvents(Z,V,_t,Y),this._emitEvent("mousemove",Z,V,Y)}},G.prototype._emitEvent=function(V,Y,Z,Ct,_t,Wt){var Jt=this._getEventObj(V,Y,Z,Ct,_t,Wt);if(Ct){Jt.shape=Ct,mr(Ct,V,Jt);for(var ee=Ct.getParent();ee;)ee.emitDelegation(V,Jt),Jt.propagationStopped||kr(ee,V,Jt),Jt.propagationPath.push(ee),ee=ee.getParent()}else{var Be=this.canvas;mr(Be,V,Jt)}},G.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},G}(),lr=$r,Gr="px",bn=(0,Zt.detect)(),Ln=bn&&bn.name==="firefox",dn=function(G){(0,re.__extends)(V,G);function V(Y){var Z=G.call(this,Y)||this;return Z.initContainer(),Z.initDom(),Z.initEvents(),Z.initTimeline(),Z}return V.prototype.getDefaultCfg=function(){var Y=G.prototype.getDefaultCfg.call(this);return Y.cursor="default",Y.supportCSSTransform=!1,Y},V.prototype.initContainer=function(){var Y=this.get("container");(0,Rt.default)(Y)&&(Y=document.getElementById(Y),this.set("container",Y))},V.prototype.initDom=function(){var Y=this.createDom();this.set("el",Y);var Z=this.get("container");Z.appendChild(Y),this.setDOMSize(this.get("width"),this.get("height"))},V.prototype.initEvents=function(){var Y=new lr({canvas:this});Y.init(),this.set("eventController",Y)},V.prototype.initTimeline=function(){var Y=new ie(this);this.set("timeline",Y)},V.prototype.setDOMSize=function(Y,Z){var Ct=this.get("el");Tt&&(Ct.style.width=Y+Gr,Ct.style.height=Z+Gr)},V.prototype.changeSize=function(Y,Z){this.setDOMSize(Y,Z),this.set("width",Y),this.set("height",Z),this.onCanvasChange("changeSize")},V.prototype.getRenderer=function(){return this.get("renderer")},V.prototype.getCursor=function(){return this.get("cursor")},V.prototype.setCursor=function(Y){this.set("cursor",Y);var Z=this.get("el");Tt&&Z&&(Z.style.cursor=Y)},V.prototype.getPointByEvent=function(Y){var Z=this.get("supportCSSTransform");if(Z){if(Ln&&!(0,Me.default)(Y.layerX)&&Y.layerX!==Y.offsetX)return{x:Y.layerX,y:Y.layerY};if(!(0,Me.default)(Y.offsetX))return{x:Y.offsetX,y:Y.offsetY}}var Ct=this.getClientByEvent(Y),_t=Ct.x,Wt=Ct.y;return this.getPointByClient(_t,Wt)},V.prototype.getClientByEvent=function(Y){var Z=Y;return Y.touches&&(Y.type==="touchend"?Z=Y.changedTouches[0]:Z=Y.touches[0]),{x:Z.clientX,y:Z.clientY}},V.prototype.getPointByClient=function(Y,Z){var Ct=this.get("el"),_t=Ct.getBoundingClientRect();return{x:Y-_t.left,y:Z-_t.top}},V.prototype.getClientByPoint=function(Y,Z){var Ct=this.get("el"),_t=Ct.getBoundingClientRect();return{x:Y+_t.left,y:Z+_t.top}},V.prototype.draw=function(){},V.prototype.removeDom=function(){var Y=this.get("el");Y.parentNode.removeChild(Y)},V.prototype.clearEvents=function(){var Y=this.get("eventController");Y.destroy()},V.prototype.isCanvas=function(){return!0},V.prototype.getParent=function(){return null},V.prototype.destroy=function(){var Y=this.get("timeline");this.get("destroyed")||(this.clear(),Y&&Y.stop(),this.clearEvents(),this.removeDom(),G.prototype.destroy.call(this))},V}(tr),Mn=dn,Jn=function(G){(0,re.__extends)(V,G);function V(){return G!==null&&G.apply(this,arguments)||this}return V.prototype.isGroup=function(){return!0},V.prototype.isEntityGroup=function(){return!1},V.prototype.clone=function(){for(var Y=G.prototype.clone.call(this),Z=this.getChildren(),Ct=0;Ct<Z.length;Ct++){var _t=Z[Ct];Y.add(_t.clone())}return Y},V}(tr),qn=Jn,ui=function(G){(0,re.__extends)(V,G);function V(Y){return G.call(this,Y)||this}return V.prototype._isInBBox=function(Y,Z){var Ct=this.getBBox();return Ct.minX<=Y&&Ct.maxX>=Y&&Ct.minY<=Z&&Ct.maxY>=Z},V.prototype.afterAttrsChange=function(Y){G.prototype.afterAttrsChange.call(this,Y),this.clearCacheBBox()},V.prototype.getBBox=function(){var Y=this.get("bbox");return Y||(Y=this.calculateBBox(),this.set("bbox",Y)),Y},V.prototype.getCanvasBBox=function(){var Y=this.get("canvasBox");return Y||(Y=this.calculateCanvasBBox(),this.set("canvasBox",Y)),Y},V.prototype.applyMatrix=function(Y){G.prototype.applyMatrix.call(this,Y),this.set("canvasBox",null)},V.prototype.calculateCanvasBBox=function(){var Y=this.getBBox(),Z=this.getTotalMatrix(),Ct=Y.minX,_t=Y.minY,Wt=Y.maxX,Jt=Y.maxY;if(Z){var ee=Qe(Z,[Y.minX,Y.minY]),Be=Qe(Z,[Y.maxX,Y.minY]),Ge=Qe(Z,[Y.minX,Y.maxY]),Fe=Qe(Z,[Y.maxX,Y.maxY]);Ct=Math.min(ee[0],Be[0],Ge[0],Fe[0]),Wt=Math.max(ee[0],Be[0],Ge[0],Fe[0]),_t=Math.min(ee[1],Be[1],Ge[1],Fe[1]),Jt=Math.max(ee[1],Be[1],Ge[1],Fe[1])}var or=this.attrs;if(or.shadowColor){var fr=or.shadowBlur,ze=fr===void 0?0:fr,gr=or.shadowOffsetX,Br=gr===void 0?0:gr,en=or.shadowOffsetY,Yr=en===void 0?0:en,Fr=Ct-ze+Br,Sr=Wt+ze+Br,Jr=_t-ze+Yr,vn=Jt+ze+Yr;Ct=Math.min(Ct,Fr),Wt=Math.max(Wt,Sr),_t=Math.min(_t,Jr),Jt=Math.max(Jt,vn)}return{x:Ct,y:_t,minX:Ct,minY:_t,maxX:Wt,maxY:Jt,width:Wt-Ct,height:Jt-_t}},V.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},V.prototype.isClipShape=function(){return this.get("isClipShape")},V.prototype.isInShape=function(Y,Z){return!1},V.prototype.isOnlyHitBox=function(){return!1},V.prototype.isHit=function(Y,Z){var Ct=this.get("startArrowShape"),_t=this.get("endArrowShape"),Wt=[Y,Z,1];Wt=this.invertFromMatrix(Wt);var Jt=Wt[0],ee=Wt[1],Be=this._isInBBox(Jt,ee);return this.isOnlyHitBox()?Be:!!(Be&&!this.isClipped(Jt,ee)&&(this.isInShape(Jt,ee)||Ct&&Ct.isHit(Jt,ee)||_t&&_t.isHit(Jt,ee)))},V}(gt),Fn=ui,Pi=v(76062),Bt=Pi.version},40455:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function v(d){var T=d.attr(),P=T.x,I=T.y,O=T.r;return{x:P-O,y:I-O,width:O*2,height:O*2}}C.default=v},27633:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function v(d){var T=d.attr(),P=T.x,I=T.y,O=T.rx,A=T.ry;return{x:P-O,y:I-A,width:O*2,height:A*2}}C.default=v},41056:function(ct,C,v){"use strict";var d;d={value:!0};var T=v(28648);C.b=T.getMethod;var P=v(3541),I=v(40455),O=v(10687),A=v(19914),E=v(92933),S=v(89372),y=v(74461),b=v(27633);T.register("rect",P.default),T.register("image",P.default),T.register("circle",I.default),T.register("marker",I.default),T.register("polyline",O.default),T.register("polygon",A.default),T.register("text",E.default),T.register("path",S.default),T.register("line",y.default),T.register("ellipse",b.default)},74461:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(3406);function T(P){var I=P.attr(),O=I.x1,A=I.y1,E=I.x2,S=I.y2,y=Math.min(O,E),b=Math.max(O,E),p=Math.min(A,S),m=Math.max(A,S),x={minX:y,maxX:b,minY:p,maxY:m};return x=d.mergeArrowBBox(P,x),{x:x.minX,y:x.minY,width:x.maxX-x.minX,height:x.maxY-x.minY}}C.default=T},89372:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(2879),T=v(15730),P=v(33418),I=v(49274),O=v(39984),A=v(3406);function E(b,p){for(var m=[],x=[],M=[],k=0;k<b.length;k++){var _=b[k],B=_.currentPoint,z=_.params,W=_.prePoint,R=void 0;switch(_.command){case"Q":R=d.default.box(W[0],W[1],z[1],z[2],z[3],z[4]);break;case"C":R=T.default.box(W[0],W[1],z[1],z[2],z[3],z[4],z[5],z[6]);break;case"A":var K=_.arcParams;R=P.default.box(K.cx,K.cy,K.rx,K.ry,K.xRotation,K.startAngle,K.endAngle);break;default:m.push(B[0]),x.push(B[1]);break}R&&(_.box=R,m.push(R.x,R.x+R.width),x.push(R.y,R.y+R.height)),p&&(_.command==="L"||_.command==="M")&&_.prePoint&&_.nextPoint&&M.push(_)}m=m.filter(function(tt){return!Number.isNaN(tt)}),x=x.filter(function(tt){return!Number.isNaN(tt)});var ut=Math.min.apply(null,m),ot=Math.min.apply(null,x),dt=Math.max.apply(null,m),nt=Math.max.apply(null,x);if(M.length===0)return{x:ut,y:ot,width:dt-ut,height:nt-ot};for(var k=0;k<M.length;k++){var _=M[k],B=_.currentPoint,yt=void 0;B[0]===ut?(yt=S(_,p),ut=ut-yt.xExtra):B[0]===dt&&(yt=S(_,p),dt=dt+yt.xExtra),B[1]===ot?(yt=S(_,p),ot=ot-yt.yExtra):B[1]===nt&&(yt=S(_,p),nt=nt+yt.yExtra)}return{x:ut,y:ot,width:dt-ut,height:nt-ot}}function S(b,p){var m=b.prePoint,x=b.currentPoint,M=b.nextPoint,k=Math.pow(x[0]-m[0],2)+Math.pow(x[1]-m[1],2),_=Math.pow(x[0]-M[0],2)+Math.pow(x[1]-M[1],2),B=Math.pow(m[0]-M[0],2)+Math.pow(m[1]-M[1],2),z=Math.acos((k+_-B)/(2*Math.sqrt(k)*Math.sqrt(_)));if(!z||Math.sin(z)===0||O.default(z,0))return{xExtra:0,yExtra:0};var W=Math.abs(Math.atan2(M[1]-x[1],M[0]-x[0])),R=Math.abs(Math.atan2(M[0]-x[0],M[1]-x[1]));W=W>Math.PI/2?Math.PI-W:W,R=R>Math.PI/2?Math.PI-R:R;var K={xExtra:Math.cos(z/2-W)*(p/2*(1/Math.sin(z/2)))-p/2||0,yExtra:Math.cos(R-z/2)*(p/2*(1/Math.sin(z/2)))-p/2||0};return K}function y(b){var p=b.attr(),m=p.path,x=p.stroke,M=x?p.lineWidth:0,k=b.get("segments")||I.default(m),_=E(k,M),B=_.x,z=_.y,W=_.width,R=_.height,K={minX:B,minY:z,maxX:B+W,maxY:z+R};return K=A.mergeArrowBBox(b,K),{x:K.minX,y:K.minY,width:K.maxX-K.minX,height:K.maxY-K.minY}}C.default=y},19914:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76256);function T(P){for(var I=P.attr(),O=I.points,A=[],E=[],S=0;S<O.length;S++){var y=O[S];A.push(y[0]),E.push(y[1])}return d.getBBoxByArray(A,E)}C.default=T},10687:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76256),T=v(3406);function P(I){for(var O=I.attr(),A=O.points,E=[],S=[],y=0;y<A.length;y++){var b=A[y];E.push(b[0]),S.push(b[1])}var p=d.getBBoxByArray(E,S),m=p.x,x=p.y,M=p.width,k=p.height,_={minX:m,minY:x,maxX:m+M,maxY:x+k};return _=T.mergeArrowBBox(I,_),{x:_.minX,y:_.minY,width:_.maxX-_.minX,height:_.maxY-_.minY}}C.default=P},3541:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function v(d){var T=d.attr(),P=T.x,I=T.y,O=T.width,A=T.height;return{x:P,y:I,width:O,height:A}}C.default=v},28648:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=new Map;function d(P,I){v.set(P,I)}C.register=d;function T(P){return v.get(P)}C.getMethod=T},92933:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(8914);function T(P){var I=P.attr(),O=I.x,A=I.y,E=I.text,S=I.fontSize,y=I.lineHeight,b=I.font;b||(b=d.assembleFont(I));var p=d.getTextWidth(E,b),m;if(!p)m={x:O,y:A,width:0,height:0};else{var x=I.textAlign,M=I.textBaseline,k=d.getTextHeight(E,S,y),_={x:O,y:A-k};x&&(x==="end"||x==="right"?_.x-=p:x==="center"&&(_.x-=p/2)),M&&(M==="top"?_.y+=k:M==="middle"&&(_.y+=k/2)),m={x:_.x,y:_.y,width:p,height:k}}return m}C.default=T},3406:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function v(T,P){return!T||!P?T||P:{minX:Math.min(T.minX,P.minX),minY:Math.min(T.minY,P.minY),maxX:Math.max(T.maxX,P.maxX),maxY:Math.max(T.maxY,P.maxY)}}C.mergeBBox=v;function d(T,P){var I=T.get("startArrowShape"),O=T.get("endArrowShape"),A=null,E=null;return I&&(A=I.getCanvasBBox(),P=v(P,A)),O&&(E=O.getCanvasBBox(),P=v(P,E)),P}C.mergeArrowBBox=d},66192:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(){function d(T,P){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=T,this.name=T,this.originalEvent=P,this.timeStamp=P.timeStamp}return d.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},d.prototype.stopPropagation=function(){this.propagationStopped=!0},d.prototype.toString=function(){var T=this.type;return"[Event (type="+T+")]"},d.prototype.save=function(){},d.prototype.restore=function(){},d}();C.default=v},85424:function(ct,C){"use strict";var v;v={value:!0}},4555:function(ct,C){"use strict";Object.defineProperty(C,"X",{value:!0})},6052:function(ct,C){"use strict";var v;v={value:!0};function d(I,O){var A=[],E=I[0],S=I[1],y=I[2],b=I[3],p=I[4],m=I[5],x=I[6],M=I[7],k=I[8],_=O[0],B=O[1],z=O[2],W=O[3],R=O[4],K=O[5],ut=O[6],ot=O[7],dt=O[8];return A[0]=_*E+B*b+z*x,A[1]=_*S+B*p+z*M,A[2]=_*y+B*m+z*k,A[3]=W*E+R*b+K*x,A[4]=W*S+R*p+K*M,A[5]=W*y+R*m+K*k,A[6]=ut*E+ot*b+dt*x,A[7]=ut*S+ot*p+dt*M,A[8]=ut*y+ot*m+dt*k,A}v=d;function T(I,O){var A=[],E=O[0],S=O[1];return A[0]=I[0]*E+I[3]*S+I[6],A[1]=I[1]*E+I[4]*S+I[7],A}C.rG=T;function P(I){var O=[],A=I[0],E=I[1],S=I[2],y=I[3],b=I[4],p=I[5],m=I[6],x=I[7],M=I[8],k=M*b-p*x,_=-M*y+p*m,B=x*y-b*m,z=A*k+E*_+S*B;return z?(z=1/z,O[0]=k*z,O[1]=(-M*E+S*x)*z,O[2]=(p*E-S*b)*z,O[3]=_*z,O[4]=(M*A-S*m)*z,O[5]=(-p*A+S*y)*z,O[6]=B*z,O[7]=(-x*A+E*m)*z,O[8]=(b*A-E*y)*z,O):null}C.U_=P},26632:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=null;function d(){if(!v){var T=document.createElement("canvas");T.width=1,T.height=1,v=T.getContext("2d")}return v}C.getOffScreenContext=d},8914:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(22487),T=v(26632);function P(E,S,y){var b=1;if(d.isString(E)&&(b=E.split(`
`).length),b>1){var p=I(S,y);return S*b+p*(b-1)}return S}C.getTextHeight=P;function I(E,S){return S?S-E:E*.14}C.getLineSpaceing=I;function O(E,S){var y=T.getOffScreenContext(),b=0;if(d.isNil(E)||E==="")return b;if(y.save(),y.font=S,d.isString(E)&&E.includes(`
`)){var p=E.split(`
`);d.each(p,function(m){var x=y.measureText(m).width;b<x&&(b=x)})}else b=y.measureText(E).width;return y.restore(),b}C.getTextWidth=O;function A(E){var S=E.fontSize,y=E.fontFamily,b=E.fontWeight,p=E.fontStyle,m=E.fontVariant;return[p,m,b,S+"px",y].join(" ").trim()}C.assembleFont=A},22487:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function d(m,x){var M=m.indexOf(x);M!==-1&&m.splice(M,1)}C.removeFromArray=d,C.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var T=v(73890);C.isNil=T.default;var P=v(46812);C.isFunction=P.default;var I=v(21830);C.isString=I.default;var O=v(33643);C.isObject=O.default;var A=v(66631);C.isArray=A.default;var E=v(66974);C.mix=E.default;var S=v(27154);C.each=S.default;var y=v(85260);C.upperFirst=y.default;function b(m,x){if(m.isCanvas())return!0;for(var M=x.getParent(),k=!1;M;){if(M===m){k=!0;break}M=M.getParent()}return k}C.isParent=b;function p(m){return m.cfg.visible&&m.cfg.capture}C.isAllowCapture=p},76062:function(ct){"use strict";ct.exports=JSON.parse('{"name":"@antv/g-base","version":"0.4.7","description":"A common util collection for antv projects","main":"lib/index.js","module":"esm/index.js","types":"lib/index.d.ts","files":["package.json","esm","lib","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","clean":"rm -rf esm lib","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/util/issues"},"devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"homepage":"https://github.com/antvis/util#readme","dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},84909:function(ct,C,v){"use strict";var d;d={value:!0};var T=v(48465);function P(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])}function I(E,S){return P(E)*P(S)?(E[0]*S[0]+E[1]*S[1])/(P(E)*P(S)):1}function O(E,S){return(E[0]*S[1]<E[1]*S[0]?-1:1)*Math.acos(I(E,S))}function A(E,S){var y=S[1],b=S[2],p=T.mod(T.toRadian(S[3]),Math.PI*2),m=S[4],x=S[5],M=E[0],k=E[1],_=S[6],B=S[7],z=Math.cos(p)*(M-_)/2+Math.sin(p)*(k-B)/2,W=-1*Math.sin(p)*(M-_)/2+Math.cos(p)*(k-B)/2,R=z*z/(y*y)+W*W/(b*b);R>1&&(y*=Math.sqrt(R),b*=Math.sqrt(R));var K=y*y*(W*W)+b*b*(z*z),ut=K?Math.sqrt((y*y*(b*b)-K)/K):1;m===x&&(ut*=-1),isNaN(ut)&&(ut=0);var ot=b?ut*y*W/b:0,dt=y?ut*-b*z/y:0,nt=(M+_)/2+Math.cos(p)*ot-Math.sin(p)*dt,yt=(k+B)/2+Math.sin(p)*ot+Math.cos(p)*dt,tt=[(z-ot)/y,(W-dt)/b],J=[(-1*z-ot)/y,(-1*W-dt)/b],ft=O([1,0],tt),rt=O(tt,J);return I(tt,J)<=-1&&(rt=Math.PI),I(tt,J)>=1&&(rt=0),x===0&&rt>0&&(rt=rt-2*Math.PI),x===1&&rt<0&&(rt=rt+2*Math.PI),{cx:nt,cy:yt,rx:T.isSamePoint(E,[_,B])?0:y,ry:T.isSamePoint(E,[_,B])?0:b,startAngle:ft,endAngle:ft+rt,xRotation:p,arcFlag:m,sweepFlag:x}}C.Z=A},48465:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.isSamePoint=C.mergeRegion=C.intersectRect=C.inBox=C.distance=C.getPixelRatio=void 0;function d(){return window?window.devicePixelRatio:1}C.getPixelRatio=d;function T(B,z,W,R){var K=B-W,ut=z-R;return Math.sqrt(K*K+ut*ut)}C.distance=T;function P(B,z,W,R,K,ut){return K>=B&&K<=B+W&&ut>=z&&ut<=z+R}C.inBox=P;function I(B,z){return!(z.minX>B.maxX||z.maxX<B.minX||z.minY>B.maxY||z.maxY<B.minY)}C.intersectRect=I;function O(B,z){return!B||!z?B||z:{minX:Math.min(B.minX,z.minX),minY:Math.min(B.minY,z.minY),maxX:Math.max(B.maxX,z.maxX),maxY:Math.max(B.maxY,z.maxY)}}C.mergeRegion=O;function A(B,z){return B[0]===z[0]&&B[1]===z[1]}C.isSamePoint=A;var E=v(73890);Object.defineProperty(C,"isNil",{enumerable:!0,get:function(){return E.default}});var S=v(21830);Object.defineProperty(C,"isString",{enumerable:!0,get:function(){return S.default}});var y=v(46812);Object.defineProperty(C,"isFunction",{enumerable:!0,get:function(){return y.default}});var b=v(66631);Object.defineProperty(C,"isArray",{enumerable:!0,get:function(){return b.default}});var p=v(27154);Object.defineProperty(C,"each",{enumerable:!0,get:function(){return p.default}});var m=v(9217);Object.defineProperty(C,"toRadian",{enumerable:!0,get:function(){return m.default}});var x=v(5253);Object.defineProperty(C,"mod",{enumerable:!0,get:function(){return x.default}});var M=v(39984);Object.defineProperty(C,"isNumberEqual",{enumerable:!0,get:function(){return M.default}});var k=v(98229);Object.defineProperty(C,"requestAnimationFrame",{enumerable:!0,get:function(){return k.default}});var _=v(35755);Object.defineProperty(C,"clearAnimationFrame",{enumerable:!0,get:function(){return _.default}})},71270:function(ct){"use strict";ct.exports=JSON.parse('{"name":"@antv/g-canvas","version":"0.4.15","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","dist":"webpack --config webpack.config.js --mode production"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"__npminstall_done":false,"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403"}')},89838:function(ct,C,v){"use strict";v.r(C),v.d(C,{Arc:function(){return vt},Cubic:function(){return nt},Line:function(){return b},Polygon:function(){return le},Polyline:function(){return he},Quad:function(){return W},Util:function(){return d}});var d={};v.r(d),v.d(d,{distance:function(){return I},getBBoxByArray:function(){return A},getBBoxRange:function(){return E},isNumberEqual:function(){return O},piMod:function(){return S}});function T(Rt){return Math.min.apply(null,Rt)}function P(Rt){return Math.max.apply(null,Rt)}function I(Rt,Ot,At,Dt){var j=Rt-At,$=Ot-Dt;return Math.sqrt(j*j+$*$)}function O(Rt,Ot){return Math.abs(Rt-Ot)<.001}function A(Rt,Ot){var At=T(Rt),Dt=T(Ot),j=P(Rt),$=P(Ot);return{x:At,y:Dt,width:j-At,height:$-Dt}}function E(Rt,Ot,At,Dt){return{minX:T([Rt,At]),maxX:P([Rt,At]),minY:T([Ot,Dt]),maxY:P([Ot,Dt])}}function S(Rt){return(Rt+Math.PI*2)%(Math.PI*2)}var y=v(31437),b={box:function(Rt,Ot,At,Dt){return A([Rt,At],[Ot,Dt])},length:function(Rt,Ot,At,Dt){return I(Rt,Ot,At,Dt)},pointAt:function(Rt,Ot,At,Dt,j){return{x:(1-j)*Rt+j*At,y:(1-j)*Ot+j*Dt}},pointDistance:function(Rt,Ot,At,Dt,j,$){var et=(At-Rt)*(j-Rt)+(Dt-Ot)*($-Ot);if(et<0)return I(Rt,Ot,j,$);var Tt=(At-Rt)*(At-Rt)+(Dt-Ot)*(Dt-Ot);return et>Tt?I(At,Dt,j,$):this.pointToLine(Rt,Ot,At,Dt,j,$)},pointToLine:function(Rt,Ot,At,Dt,j,$){var et=[At-Rt,Dt-Ot];if(y.exactEquals(et,[0,0]))return Math.sqrt((j-Rt)*(j-Rt)+($-Ot)*($-Ot));var Tt=[-et[1],et[0]];y.normalize(Tt,Tt);var Nt=[j-Rt,$-Ot];return Math.abs(y.dot(Nt,Tt))},tangentAngle:function(Rt,Ot,At,Dt){return Math.atan2(Dt-Ot,At-Rt)}},p=1e-4;function m(Rt,Ot,At,Dt,j,$){var et,Tt=Infinity,Nt=[At,Dt],Ut=20;$&&$>200&&(Ut=$/10);for(var Oe=1/Ut,He=Oe/10,Zt=0;Zt<=Ut;Zt++){var be=Zt*Oe,_e=[j.apply(null,Rt.concat([be])),j.apply(null,Ot.concat([be]))],Qe=I(Nt[0],Nt[1],_e[0],_e[1]);Qe<Tt&&(et=be,Tt=Qe)}if(et===0)return{x:Rt[0],y:Ot[0]};if(et===1){var dr=Rt.length;return{x:Rt[dr-1],y:Ot[dr-1]}}Tt=Infinity;for(var Zt=0;Zt<32&&!(He<p);Zt++){var ur=et-He,Dr=et+He,_e=[j.apply(null,Rt.concat([ur])),j.apply(null,Ot.concat([ur]))],Qe=I(Nt[0],Nt[1],_e[0],_e[1]);if(ur>=0&&Qe<Tt)et=ur,Tt=Qe;else{var ne=[j.apply(null,Rt.concat([Dr])),j.apply(null,Ot.concat([Dr]))],se=I(Nt[0],Nt[1],ne[0],ne[1]);Dr<=1&&se<Tt?(et=Dr,Tt=se):He*=.5}}return{x:j.apply(null,Rt.concat([et])),y:j.apply(null,Ot.concat([et]))}}function x(Rt,Ot){for(var At=0,Dt=Rt.length,j=0;j<Dt;j++){var $=Rt[j],et=Ot[j],Tt=Rt[(j+1)%Dt],Nt=Ot[(j+1)%Dt];At+=I($,et,Tt,Nt)}return At/2}function M(Rt,Ot,At,Dt){var j=1-Dt;return j*j*Rt+2*Dt*j*Ot+Dt*Dt*At}function k(Rt,Ot,At){var Dt=Rt+At-2*Ot;if(O(Dt,0))return[.5];var j=(Rt-Ot)/Dt;return j<=1&&j>=0?[j]:[]}function _(Rt,Ot,At,Dt){return 2*(1-Dt)*(Ot-Rt)+2*Dt*(At-Ot)}function B(Rt,Ot,At,Dt,j,$,et){var Tt=M(Rt,At,j,et),Nt=M(Ot,Dt,$,et),Ut=b.pointAt(Rt,Ot,At,Dt,et),Oe=b.pointAt(At,Dt,j,$,et);return[[Rt,Ot,Ut.x,Ut.y,Tt,Nt],[Tt,Nt,Oe.x,Oe.y,j,$]]}function z(Rt,Ot,At,Dt,j,$,et){if(et===0)return(I(Rt,Ot,At,Dt)+I(At,Dt,j,$)+I(Rt,Ot,j,$))/2;var Tt=B(Rt,Ot,At,Dt,j,$,.5),Nt=Tt[0],Ut=Tt[1];return Nt.push(et-1),Ut.push(et-1),z.apply(null,Nt)+z.apply(null,Ut)}var W={box:function(Rt,Ot,At,Dt,j,$){var et=k(Rt,At,j)[0],Tt=k(Ot,Dt,$)[0],Nt=[Rt,j],Ut=[Ot,$];return et!==void 0&&Nt.push(M(Rt,At,j,et)),Tt!==void 0&&Ut.push(M(Ot,Dt,$,Tt)),A(Nt,Ut)},length:function(Rt,Ot,At,Dt,j,$){return z(Rt,Ot,At,Dt,j,$,3)},nearestPoint:function(Rt,Ot,At,Dt,j,$,et,Tt){return m([Rt,At,j],[Ot,Dt,$],et,Tt,M)},pointDistance:function(Rt,Ot,At,Dt,j,$,et,Tt){var Nt=this.nearestPoint(Rt,Ot,At,Dt,j,$,et,Tt);return I(Nt.x,Nt.y,et,Tt)},interpolationAt:M,pointAt:function(Rt,Ot,At,Dt,j,$,et){return{x:M(Rt,At,j,et),y:M(Ot,Dt,$,et)}},divide:function(Rt,Ot,At,Dt,j,$,et){return B(Rt,Ot,At,Dt,j,$,et)},tangentAngle:function(Rt,Ot,At,Dt,j,$,et){var Tt=_(Rt,At,j,et),Nt=_(Ot,Dt,$,et),Ut=Math.atan2(Nt,Tt);return S(Ut)}};function R(Rt,Ot,At,Dt,j){var $=1-j;return $*$*$*Rt+3*Ot*j*$*$+3*At*j*j*$+Dt*j*j*j}function K(Rt,Ot,At,Dt,j){var $=1-j;return 3*($*$*(Ot-Rt)+2*$*j*(At-Ot)+j*j*(Dt-At))}function ut(Rt,Ot,At,Dt){var j=-3*Rt+9*Ot-9*At+3*Dt,$=6*Rt-12*Ot+6*At,et=3*Ot-3*Rt,Tt=[],Nt,Ut,Oe;if(O(j,0))O($,0)||(Nt=-et/$,Nt>=0&&Nt<=1&&Tt.push(Nt));else{var He=$*$-4*j*et;O(He,0)?Tt.push(-$/(2*j)):He>0&&(Oe=Math.sqrt(He),Nt=(-$+Oe)/(2*j),Ut=(-$-Oe)/(2*j),Nt>=0&&Nt<=1&&Tt.push(Nt),Ut>=0&&Ut<=1&&Tt.push(Ut))}return Tt}function ot(Rt,Ot,At,Dt,j,$,et,Tt,Nt){var Ut=R(Rt,At,j,et,Nt),Oe=R(Ot,Dt,$,Tt,Nt),He=b.pointAt(Rt,Ot,At,Dt,Nt),Zt=b.pointAt(At,Dt,j,$,Nt),be=b.pointAt(j,$,et,Tt,Nt),_e=b.pointAt(He.x,He.y,Zt.x,Zt.y,Nt),Qe=b.pointAt(Zt.x,Zt.y,be.x,be.y,Nt);return[[Rt,Ot,He.x,He.y,_e.x,_e.y,Ut,Oe],[Ut,Oe,Qe.x,Qe.y,be.x,be.y,et,Tt]]}function dt(Rt,Ot,At,Dt,j,$,et,Tt,Nt){if(Nt===0)return x([Rt,At,j,et],[Ot,Dt,$,Tt]);var Ut=ot(Rt,Ot,At,Dt,j,$,et,Tt,.5),Oe=Ut[0],He=Ut[1];return Oe.push(Nt-1),He.push(Nt-1),dt.apply(null,Oe)+dt.apply(null,He)}var nt={extrema:ut,box:function(Rt,Ot,At,Dt,j,$,et,Tt){for(var Nt=[Rt,et],Ut=[Ot,Tt],Oe=ut(Rt,At,j,et),He=ut(Ot,Dt,$,Tt),Zt=0;Zt<Oe.length;Zt++)Nt.push(R(Rt,At,j,et,Oe[Zt]));for(var Zt=0;Zt<He.length;Zt++)Ut.push(R(Ot,Dt,$,Tt,He[Zt]));return A(Nt,Ut)},length:function(Rt,Ot,At,Dt,j,$,et,Tt){return dt(Rt,Ot,At,Dt,j,$,et,Tt,3)},nearestPoint:function(Rt,Ot,At,Dt,j,$,et,Tt,Nt,Ut,Oe){return m([Rt,At,j,et],[Ot,Dt,$,Tt],Nt,Ut,R,Oe)},pointDistance:function(Rt,Ot,At,Dt,j,$,et,Tt,Nt,Ut,Oe){var He=this.nearestPoint(Rt,Ot,At,Dt,j,$,et,Tt,Nt,Ut,Oe);return I(He.x,He.y,Nt,Ut)},interpolationAt:R,pointAt:function(Rt,Ot,At,Dt,j,$,et,Tt,Nt){return{x:R(Rt,At,j,et,Nt),y:R(Ot,Dt,$,Tt,Nt)}},divide:function(Rt,Ot,At,Dt,j,$,et,Tt,Nt){return ot(Rt,Ot,At,Dt,j,$,et,Tt,Nt)},tangentAngle:function(Rt,Ot,At,Dt,j,$,et,Tt,Nt){var Ut=K(Rt,At,j,et,Nt),Oe=K(Ot,Dt,$,Tt,Nt);return S(Math.atan2(Oe,Ut))}};function yt(Rt,Ot){var At=Math.abs(Rt);return Ot>0?At:At*-1}var tt={box:function(Rt,Ot,At,Dt){return{x:Rt-At,y:Ot-Dt,width:At*2,height:Dt*2}},length:function(Rt,Ot,At,Dt){return Math.PI*(3*(At+Dt)-Math.sqrt((3*At+Dt)*(At+3*Dt)))},nearestPoint:function(Rt,Ot,At,Dt,j,$){var et=At,Tt=Dt;if(et===0||Tt===0)return{x:Rt,y:Ot};for(var Nt=j-Rt,Ut=$-Ot,Oe=Math.abs(Nt),He=Math.abs(Ut),Zt=et*et,be=Tt*Tt,_e=Math.PI/4,Qe,dr,ur=0;ur<4;ur++){Qe=et*Math.cos(_e),dr=Tt*Math.sin(_e);var Dr=(Zt-be)*Math.pow(Math.cos(_e),3)/et,ne=(be-Zt)*Math.pow(Math.sin(_e),3)/Tt,se=Qe-Dr,ye=dr-ne,We=Oe-Dr,De=He-ne,ae=Math.hypot(ye,se),Yt=Math.hypot(De,We),st=ae*Math.asin((se*De-ye*We)/(ae*Yt)),gt=st/Math.sqrt(Zt+be-Qe*Qe-dr*dr);_e+=gt,_e=Math.min(Math.PI/2,Math.max(0,_e))}return{x:Rt+yt(Qe,Nt),y:Ot+yt(dr,Ut)}},pointDistance:function(Rt,Ot,At,Dt,j,$){var et=this.nearestPoint(Rt,Ot,At,Dt,j,$);return I(et.x,et.y,j,$)},pointAt:function(Rt,Ot,At,Dt,j){var $=2*Math.PI*j;return{x:Rt+At*Math.cos($),y:Ot+Dt*Math.sin($)}},tangentAngle:function(Rt,Ot,At,Dt,j){var $=2*Math.PI*j,et=Math.atan2(Dt*Math.cos($),-At*Math.sin($));return S(et)}};function J(Rt,Ot,At,Dt,j,$,et,Tt){return-1*At*Math.cos(j)*Math.sin(Tt)-Dt*Math.sin(j)*Math.cos(Tt)}function ft(Rt,Ot,At,Dt,j,$,et,Tt){return-1*At*Math.sin(j)*Math.sin(Tt)+Dt*Math.cos(j)*Math.cos(Tt)}function rt(Rt,Ot,At){return Math.atan(-Ot/Rt*Math.tan(At))}function St(Rt,Ot,At){return Math.atan(Ot/(Rt*Math.tan(At)))}function wt(Rt,Ot,At,Dt,j,$){return At*Math.cos(j)*Math.cos($)-Dt*Math.sin(j)*Math.sin($)+Rt}function q(Rt,Ot,At,Dt,j,$){return At*Math.sin(j)*Math.cos($)+Dt*Math.cos(j)*Math.sin($)+Ot}function it(Rt,Ot,At,Dt){var j=Math.atan2(Dt*Rt,At*Ot);return(j+Math.PI*2)%(Math.PI*2)}function Q(Rt,Ot,At){return{x:Rt*Math.cos(At),y:Ot*Math.sin(At)}}function f(Rt,Ot,At){var Dt=Math.cos(At),j=Math.sin(At);return[Rt*Dt-Ot*j,Rt*j+Ot*Dt]}var vt={box:function(Rt,Ot,At,Dt,j,$,et){for(var Tt=rt(At,Dt,j),Nt=Infinity,Ut=-Infinity,Oe=[$,et],He=-Math.PI*2;He<=Math.PI*2;He+=Math.PI){var Zt=Tt+He;$<et?$<Zt&&Zt<et&&Oe.push(Zt):et<Zt&&Zt<$&&Oe.push(Zt)}for(var He=0;He<Oe.length;He++){var be=wt(Rt,Ot,At,Dt,j,Oe[He]);be<Nt&&(Nt=be),be>Ut&&(Ut=be)}for(var _e=St(At,Dt,j),Qe=Infinity,dr=-Infinity,ur=[$,et],He=-Math.PI*2;He<=Math.PI*2;He+=Math.PI){var Dr=_e+He;$<et?$<Dr&&Dr<et&&ur.push(Dr):et<Dr&&Dr<$&&ur.push(Dr)}for(var He=0;He<ur.length;He++){var ne=q(Rt,Ot,At,Dt,j,ur[He]);ne<Qe&&(Qe=ne),ne>dr&&(dr=ne)}return{x:Nt,y:Qe,width:Ut-Nt,height:dr-Qe}},length:function(Rt,Ot,At,Dt,j,$,et){},nearestPoint:function(Rt,Ot,At,Dt,j,$,et,Tt,Nt){var Ut=f(Tt-Rt,Nt-Ot,-j),Oe=Ut[0],He=Ut[1],Zt=tt.nearestPoint(0,0,At,Dt,Oe,He),be=it(At,Dt,Zt.x,Zt.y);be<$?Zt=Q(At,Dt,$):be>et&&(Zt=Q(At,Dt,et));var _e=f(Zt.x,Zt.y,j);return{x:_e[0]+Rt,y:_e[1]+Ot}},pointDistance:function(Rt,Ot,At,Dt,j,$,et,Tt,Nt){var Ut=this.nearestPoint(Rt,Ot,At,Dt,Tt,Nt);return I(Ut.x,Ut.y,Tt,Nt)},pointAt:function(Rt,Ot,At,Dt,j,$,et,Tt){var Nt=(et-$)*Tt+$;return{x:wt(Rt,Ot,At,Dt,j,Nt),y:q(Rt,Ot,At,Dt,j,Nt)}},tangentAngle:function(Rt,Ot,At,Dt,j,$,et,Tt){var Nt=(et-$)*Tt+$,Ut=J(Rt,Ot,At,Dt,j,$,et,Nt),Oe=ft(Rt,Ot,At,Dt,j,$,et,Nt);return S(Math.atan2(Oe,Ut))}};function It(Rt){for(var Ot=0,At=[],Dt=0;Dt<Rt.length-1;Dt++){var j=Rt[Dt],$=Rt[Dt+1],et=I(j[0],j[1],$[0],$[1]),Tt={from:j,to:$,length:et};At.push(Tt),Ot+=et}return{segments:At,totalLength:Ot}}function Qt(Rt){if(Rt.length<2)return 0;for(var Ot=0,At=0;At<Rt.length-1;At++){var Dt=Rt[At],j=Rt[At+1];Ot+=I(Dt[0],Dt[1],j[0],j[1])}return Ot}function Se(Rt,Ot){if(Ot>1||Ot<0||Rt.length<2)return null;var At=It(Rt),Dt=At.segments,j=At.totalLength;if(j===0)return{x:Rt[0][0],y:Rt[0][1]};for(var $=0,et=null,Tt=0;Tt<Dt.length;Tt++){var Nt=Dt[Tt],Ut=Nt.from,Oe=Nt.to,He=Nt.length/j;if(Ot>=$&&Ot<=$+He){var Zt=(Ot-$)/He;et=b.pointAt(Ut[0],Ut[1],Oe[0],Oe[1],Zt);break}$+=He}return et}function $t(Rt,Ot){if(Ot>1||Ot<0||Rt.length<2)return 0;for(var At=It(Rt),Dt=At.segments,j=At.totalLength,$=0,et=0,Tt=0;Tt<Dt.length;Tt++){var Nt=Dt[Tt],Ut=Nt.from,Oe=Nt.to,He=Nt.length/j;if(Ot>=$&&Ot<=$+He){et=Math.atan2(Oe[1]-Ut[1],Oe[0]-Ut[0]);break}$+=He}return et}function re(Rt,Ot,At){for(var Dt=Infinity,j=0;j<Rt.length-1;j++){var $=Rt[j],et=Rt[j+1],Tt=b.pointDistance($[0],$[1],et[0],et[1],Ot,At);Tt<Dt&&(Dt=Tt)}return Dt}var he={box:function(Rt){for(var Ot=[],At=[],Dt=0;Dt<Rt.length;Dt++){var j=Rt[Dt];Ot.push(j[0]),At.push(j[1])}return A(Ot,At)},length:function(Rt){return Qt(Rt)},pointAt:function(Rt,Ot){return Se(Rt,Ot)},pointDistance:function(Rt,Ot,At){return re(Rt,Ot,At)},tangentAngle:function(Rt,Ot){return $t(Rt,Ot)}};function Me(Rt){var Ot=Rt.slice(0);return Rt.length&&Ot.push(Rt[0]),Ot}var le={box:function(Rt){return he.box(Rt)},length:function(Rt){return Qt(Me(Rt))},pointAt:function(Rt,Ot){return Se(Me(Rt),Ot)},pointDistance:function(Rt,Ot,At){return re(Me(Rt),Ot,At)},tangentAngle:function(Rt,Ot){return $t(Me(Rt),Ot)}}},33418:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76256),T=v(55397);function P(m,x,M,k,_,B,z,W){return-1*M*Math.cos(_)*Math.sin(W)-k*Math.sin(_)*Math.cos(W)}function I(m,x,M,k,_,B,z,W){return-1*M*Math.sin(_)*Math.sin(W)+k*Math.cos(_)*Math.cos(W)}function O(m,x,M){return Math.atan(-x/m*Math.tan(M))}function A(m,x,M){return Math.atan(x/(m*Math.tan(M)))}function E(m,x,M,k,_,B){return M*Math.cos(_)*Math.cos(B)-k*Math.sin(_)*Math.sin(B)+m}function S(m,x,M,k,_,B){return M*Math.sin(_)*Math.cos(B)+k*Math.cos(_)*Math.sin(B)+x}function y(m,x,M,k){var _=Math.atan2(k*m,M*x);return(_+Math.PI*2)%(Math.PI*2)}function b(m,x,M){return{x:m*Math.cos(M),y:x*Math.sin(M)}}function p(m,x,M){var k=Math.cos(M),_=Math.sin(M);return[m*k-x*_,m*_+x*k]}C.default={box:function(m,x,M,k,_,B,z){for(var W=O(M,k,_),R=Infinity,K=-Infinity,ut=[B,z],ot=-Math.PI*2;ot<=Math.PI*2;ot+=Math.PI){var dt=W+ot;B<z?B<dt&&dt<z&&ut.push(dt):z<dt&&dt<B&&ut.push(dt)}for(var ot=0;ot<ut.length;ot++){var nt=E(m,x,M,k,_,ut[ot]);nt<R&&(R=nt),nt>K&&(K=nt)}for(var yt=A(M,k,_),tt=Infinity,J=-Infinity,ft=[B,z],ot=-Math.PI*2;ot<=Math.PI*2;ot+=Math.PI){var rt=yt+ot;B<z?B<rt&&rt<z&&ft.push(rt):z<rt&&rt<B&&ft.push(rt)}for(var ot=0;ot<ft.length;ot++){var St=S(m,x,M,k,_,ft[ot]);St<tt&&(tt=St),St>J&&(J=St)}return{x:R,y:tt,width:K-R,height:J-tt}},length:function(m,x,M,k,_,B,z){},nearestPoint:function(m,x,M,k,_,B,z,W,R){var K=p(W-m,R-x,-_),ut=K[0],ot=K[1],dt=T.default.nearestPoint(0,0,M,k,ut,ot),nt=y(M,k,dt.x,dt.y);nt<B?dt=b(M,k,B):nt>z&&(dt=b(M,k,z));var yt=p(dt.x,dt.y,_);return{x:yt[0]+m,y:yt[1]+x}},pointDistance:function(m,x,M,k,_,B,z,W,R){var K=this.nearestPoint(m,x,M,k,W,R);return d.distance(K.x,K.y,W,R)},pointAt:function(m,x,M,k,_,B,z,W){var R=(z-B)*W+B;return{x:E(m,x,M,k,_,R),y:S(m,x,M,k,_,R)}},tangentAngle:function(m,x,M,k,_,B,z,W){var R=(z-B)*W+B,K=P(m,x,M,k,_,B,z,R),ut=I(m,x,M,k,_,B,z,R);return d.piMod(Math.atan2(ut,K))}}},87335:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.snapLength=C.nearestPoint=void 0;var d=v(76256),T=1e-4;function P(O,A,E,S,y,b){var p,m=Infinity,x=[E,S],M=20;b&&b>200&&(M=b/10);for(var k=1/M,_=k/10,B=0;B<=M;B++){var z=B*k,W=[y.apply(null,O.concat([z])),y.apply(null,A.concat([z]))],R=d.distance(x[0],x[1],W[0],W[1]);R<m&&(p=z,m=R)}if(p===0)return{x:O[0],y:A[0]};if(p===1){var K=O.length;return{x:O[K-1],y:A[K-1]}}m=Infinity;for(var B=0;B<32&&!(_<T);B++){var ut=p-_,ot=p+_,W=[y.apply(null,O.concat([ut])),y.apply(null,A.concat([ut]))],R=d.distance(x[0],x[1],W[0],W[1]);if(ut>=0&&R<m)p=ut,m=R;else{var dt=[y.apply(null,O.concat([ot])),y.apply(null,A.concat([ot]))],nt=d.distance(x[0],x[1],dt[0],dt[1]);ot<=1&&nt<m?(p=ot,m=nt):_*=.5}}return{x:y.apply(null,O.concat([p])),y:y.apply(null,A.concat([p]))}}C.nearestPoint=P;function I(O,A){for(var E=0,S=O.length,y=0;y<S;y++){var b=O[y],p=A[y],m=O[(y+1)%S],x=A[(y+1)%S];E+=d.distance(b,p,m,x)}return E/2}C.snapLength=I},15730:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76256),T=v(23646),P=v(87335);function I(y,b,p,m,x){var M=1-x;return M*M*M*y+3*b*x*M*M+3*p*x*x*M+m*x*x*x}function O(y,b,p,m,x){var M=1-x;return 3*(M*M*(b-y)+2*M*x*(p-b)+x*x*(m-p))}function A(y,b,p,m){var x=-3*y+9*b-9*p+3*m,M=6*y-12*b+6*p,k=3*b-3*y,_=[],B,z,W;if(d.isNumberEqual(x,0))d.isNumberEqual(M,0)||(B=-k/M,B>=0&&B<=1&&_.push(B));else{var R=M*M-4*x*k;d.isNumberEqual(R,0)?_.push(-M/(2*x)):R>0&&(W=Math.sqrt(R),B=(-M+W)/(2*x),z=(-M-W)/(2*x),B>=0&&B<=1&&_.push(B),z>=0&&z<=1&&_.push(z))}return _}function E(y,b,p,m,x,M,k,_,B){var z=I(y,p,x,k,B),W=I(b,m,M,_,B),R=T.default.pointAt(y,b,p,m,B),K=T.default.pointAt(p,m,x,M,B),ut=T.default.pointAt(x,M,k,_,B),ot=T.default.pointAt(R.x,R.y,K.x,K.y,B),dt=T.default.pointAt(K.x,K.y,ut.x,ut.y,B);return[[y,b,R.x,R.y,ot.x,ot.y,z,W],[z,W,dt.x,dt.y,ut.x,ut.y,k,_]]}function S(y,b,p,m,x,M,k,_,B){if(B===0)return P.snapLength([y,p,x,k],[b,m,M,_]);var z=E(y,b,p,m,x,M,k,_,.5),W=z[0],R=z[1];return W.push(B-1),R.push(B-1),S.apply(null,W)+S.apply(null,R)}C.default={extrema:A,box:function(y,b,p,m,x,M,k,_){for(var B=[y,k],z=[b,_],W=A(y,p,x,k),R=A(b,m,M,_),K=0;K<W.length;K++)B.push(I(y,p,x,k,W[K]));for(var K=0;K<R.length;K++)z.push(I(b,m,M,_,R[K]));return d.getBBoxByArray(B,z)},length:function(y,b,p,m,x,M,k,_){return S(y,b,p,m,x,M,k,_,3)},nearestPoint:function(y,b,p,m,x,M,k,_,B,z,W){return P.nearestPoint([y,p,x,k],[b,m,M,_],B,z,I,W)},pointDistance:function(y,b,p,m,x,M,k,_,B,z,W){var R=this.nearestPoint(y,b,p,m,x,M,k,_,B,z,W);return d.distance(R.x,R.y,B,z)},interpolationAt:I,pointAt:function(y,b,p,m,x,M,k,_,B){return{x:I(y,p,x,k,B),y:I(b,m,M,_,B)}},divide:function(y,b,p,m,x,M,k,_,B){return E(y,b,p,m,x,M,k,_,B)},tangentAngle:function(y,b,p,m,x,M,k,_,B){var z=O(y,p,x,k,B),W=O(b,m,M,_,B);return d.piMod(Math.atan2(W,z))}}},55397:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76256);function T(P,I){var O=Math.abs(P);return I>0?O:O*-1}C.default={box:function(P,I,O,A){return{x:P-O,y:I-A,width:O*2,height:A*2}},length:function(P,I,O,A){return Math.PI*(3*(O+A)-Math.sqrt((3*O+A)*(O+3*A)))},nearestPoint:function(P,I,O,A,E,S){var y=O,b=A;if(y===0||b===0)return{x:P,y:I};for(var p=E-P,m=S-I,x=Math.abs(p),M=Math.abs(m),k=y*y,_=b*b,B=Math.PI/4,z,W,R=0;R<4;R++){z=y*Math.cos(B),W=b*Math.sin(B);var K=(k-_)*Math.pow(Math.cos(B),3)/y,ut=(_-k)*Math.pow(Math.sin(B),3)/b,ot=z-K,dt=W-ut,nt=x-K,yt=M-ut,tt=Math.hypot(dt,ot),J=Math.hypot(yt,nt),ft=tt*Math.asin((ot*yt-dt*nt)/(tt*J)),rt=ft/Math.sqrt(k+_-z*z-W*W);B+=rt,B=Math.min(Math.PI/2,Math.max(0,B))}return{x:P+T(z,p),y:I+T(W,m)}},pointDistance:function(P,I,O,A,E,S){var y=this.nearestPoint(P,I,O,A,E,S);return d.distance(y.x,y.y,E,S)},pointAt:function(P,I,O,A,E){var S=2*Math.PI*E;return{x:P+O*Math.cos(S),y:I+A*Math.sin(S)}},tangentAngle:function(P,I,O,A,E){var S=2*Math.PI*E,y=Math.atan2(A*Math.cos(S),-O*Math.sin(S));return d.piMod(y)}}},23646:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76256),T=v(31437);C.default={box:function(P,I,O,A){return d.getBBoxByArray([P,O],[I,A])},length:function(P,I,O,A){return d.distance(P,I,O,A)},pointAt:function(P,I,O,A,E){return{x:(1-E)*P+E*O,y:(1-E)*I+E*A}},pointDistance:function(P,I,O,A,E,S){var y=(O-P)*(E-P)+(A-I)*(S-I);if(y<0)return d.distance(P,I,E,S);var b=(O-P)*(O-P)+(A-I)*(A-I);return y>b?d.distance(O,A,E,S):this.pointToLine(P,I,O,A,E,S)},pointToLine:function(P,I,O,A,E,S){var y=[O-P,A-I];if(T.exactEquals(y,[0,0]))return Math.sqrt((E-P)*(E-P)+(S-I)*(S-I));var b=[-y[1],y[0]];T.normalize(b,b);var p=[E-P,S-I];return Math.abs(T.dot(p,b))},tangentAngle:function(P,I,O,A){return Math.atan2(A-I,O-P)}}},65386:function(ct,C,v){"use strict";var d;d={value:!0};var T=v(28171),P=v(76256);C.Z={box:function(I){for(var O=[],A=[],E=0;E<I.length;E++){var S=I[E];O.push(S[0]),A.push(S[1])}return P.getBBoxByArray(O,A)},length:function(I){return T.lengthOfSegment(I)},pointAt:function(I,O){return T.pointAtSegments(I,O)},pointDistance:function(I,O,A){return T.distanceAtSegment(I,O,A)},tangentAngle:function(I,O){return T.angleAtSegments(I,O)}}},2879:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(23646),T=v(76256),P=v(87335);function I(y,b,p,m){var x=1-m;return x*x*y+2*m*x*b+m*m*p}function O(y,b,p){var m=y+p-2*b;if(T.isNumberEqual(m,0))return[.5];var x=(y-b)/m;return x<=1&&x>=0?[x]:[]}function A(y,b,p,m){return 2*(1-m)*(b-y)+2*m*(p-b)}function E(y,b,p,m,x,M,k){var _=I(y,p,x,k),B=I(b,m,M,k),z=d.default.pointAt(y,b,p,m,k),W=d.default.pointAt(p,m,x,M,k);return[[y,b,z.x,z.y,_,B],[_,B,W.x,W.y,x,M]]}function S(y,b,p,m,x,M,k){if(k===0)return(T.distance(y,b,p,m)+T.distance(p,m,x,M)+T.distance(y,b,x,M))/2;var _=E(y,b,p,m,x,M,.5),B=_[0],z=_[1];return B.push(k-1),z.push(k-1),S.apply(null,B)+S.apply(null,z)}C.default={box:function(y,b,p,m,x,M){var k=O(y,p,x)[0],_=O(b,m,M)[0],B=[y,x],z=[b,M];return k!==void 0&&B.push(I(y,p,x,k)),_!==void 0&&z.push(I(b,m,M,_)),T.getBBoxByArray(B,z)},length:function(y,b,p,m,x,M){return S(y,b,p,m,x,M,3)},nearestPoint:function(y,b,p,m,x,M,k,_){return P.nearestPoint([y,p,x],[b,m,M],k,_,I)},pointDistance:function(y,b,p,m,x,M,k,_){var B=this.nearestPoint(y,b,p,m,x,M,k,_);return T.distance(B.x,B.y,k,_)},interpolationAt:I,pointAt:function(y,b,p,m,x,M,k){return{x:I(y,p,x,k),y:I(b,m,M,k)}},divide:function(y,b,p,m,x,M,k){return E(y,b,p,m,x,M,k)},tangentAngle:function(y,b,p,m,x,M,k){var _=A(y,p,x,k),B=A(b,m,M,k),z=Math.atan2(B,_);return T.piMod(z)}}},28171:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.distanceAtSegment=C.angleAtSegments=C.pointAtSegments=C.lengthOfSegment=void 0;var d=v(23646),T=v(76256);function P(S){for(var y=0,b=[],p=0;p<S.length-1;p++){var m=S[p],x=S[p+1],M=T.distance(m[0],m[1],x[0],x[1]),k={from:m,to:x,length:M};b.push(k),y+=M}return{segments:b,totalLength:y}}function I(S){if(S.length<2)return 0;for(var y=0,b=0;b<S.length-1;b++){var p=S[b],m=S[b+1];y+=T.distance(p[0],p[1],m[0],m[1])}return y}C.lengthOfSegment=I;function O(S,y){if(y>1||y<0||S.length<2)return null;var b=P(S),p=b.segments,m=b.totalLength;if(m===0)return{x:S[0][0],y:S[0][1]};for(var x=0,M=null,k=0;k<p.length;k++){var _=p[k],B=_.from,z=_.to,W=_.length/m;if(y>=x&&y<=x+W){var R=(y-x)/W;M=d.default.pointAt(B[0],B[1],z[0],z[1],R);break}x+=W}return M}C.pointAtSegments=O;function A(S,y){if(y>1||y<0||S.length<2)return 0;for(var b=P(S),p=b.segments,m=b.totalLength,x=0,M=0,k=0;k<p.length;k++){var _=p[k],B=_.from,z=_.to,W=_.length/m;if(y>=x&&y<=x+W){M=Math.atan2(z[1]-B[1],z[0]-B[0]);break}x+=W}return M}C.angleAtSegments=A;function E(S,y,b){for(var p=Infinity,m=0;m<S.length-1;m++){var x=S[m],M=S[m+1],k=d.default.pointDistance(x[0],x[1],M[0],M[1],y,b);k<p&&(p=k)}return p}C.distanceAtSegment=E},76256:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.piMod=C.getBBoxRange=C.getBBoxByArray=C.isNumberEqual=C.distance=void 0;function v(E){return Math.min.apply(null,E)}function d(E){return Math.max.apply(null,E)}function T(E,S,y,b){var p=E-y,m=S-b;return Math.sqrt(p*p+m*m)}C.distance=T;function P(E,S){return Math.abs(E-S)<.001}C.isNumberEqual=P;function I(E,S){var y=v(E),b=v(S),p=d(E),m=d(S);return{x:y,y:b,width:p-y,height:m-b}}C.getBBoxByArray=I;function O(E,S,y,b){return{minX:v([E,y]),maxX:d([E,y]),minY:v([S,b]),maxY:d([S,b])}}C.getBBoxRange=O;function A(E){return(E+Math.PI*2)%(Math.PI*2)}C.piMod=A},56463:function(ct,C,v){"use strict";var d=v(34155),T=this&&this.__spreadArrays||function(){for(var _=0,B=0,z=arguments.length;B<z;B++)_+=arguments[B].length;for(var W=Array(_),R=0,B=0;B<z;B++)for(var K=arguments[B],ut=0,ot=K.length;ut<ot;ut++,R++)W[R]=K[ut];return W};Object.defineProperty(C,"__esModule",{value:!0});var P=function(){function _(B,z,W){this.name=B,this.version=z,this.os=W}return _}();C.BrowserInfo=P;var I=function(){function _(B){this.version=B,this.name="node",this.os=d.platform}return _}();C.NodeInfo=I;var O=function(){function _(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return _}();C.BotInfo=O;var A=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,E=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,S=3,y=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",A]],b=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",E]];function p(_){return _?m(_):typeof navigator!="undefined"?m(navigator.userAgent):M()}C.detect=p;function m(_){var B=_!==""&&y.reduce(function(K,ut){var ot=ut[0],dt=ut[1];if(K)return K;var nt=dt.exec(_);return!!nt&&[ot,nt]},!1);if(!B)return null;var z=B[0],W=B[1];if(z==="searchbot")return new O;var R=W[1]&&W[1].split(/[._]/).slice(0,3);return R?R.length<S&&(R=T(R,k(S-R.length))):R=[],new P(z,R.join("."),x(_))}C.parseUserAgent=m;function x(_){for(var B=0,z=b.length;B<z;B++){var W=b[B],R=W[0],K=W[1],ut=K.test(_);if(ut)return R}return null}C.detectOS=x;function M(){var _=typeof d!="undefined"&&d.version;return _?new I(d.version.slice(1)):null}C.getNodeVersion=M;function k(_){for(var B=[],z=0;z<_;z++)B.push("0");return B}},23231:function(ct){"use strict";ct.exports=JSON.parse('{"name":"@antv/g-svg","version":"0.4.7","description":"A canvas library which providing 2d","main":"lib/index.js","module":"esm/index.js","unpkg":"dist/g.min.js","types":"lib/index.d.ts","files":["package.json","esm","lib","dist","LICENSE","README.md"],"scripts":{"build":"npm run clean && run-p build:*","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"keywords":["util","antv","g"],"publishConfig":{"access":"public"},"author":"https://github.com/orgs/antvis/people","license":"ISC","bugs":{"url":"https://github.com/antvis/g/issues"},"devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"homepage":"https://github.com/antvis/g#readme","dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"__npminstall_done":false,"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a"}')},66002:function(){},92762:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.registerAnimation=C.getAnimation=void 0;var v={};function d(P){return v[P.toLowerCase()]}C.getAnimation=d;function T(P,I){v[P.toLowerCase()]=I}C.registerAnimation=T},27978:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.doGroupAppearAnimate=C.doAnimate=C.getDefaultAnimateCfg=C.DEFAULT_ANIMATE_CFG=void 0;var d=v(70655),T=v(49242),P=v(29583),I=v(92762);C.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var O={interval:function(p){return{enter:{animation:p.isRect?p.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:p.isPolar&&p.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},A={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(p){var m;return p.isRect?m=p.isTransposed?"grow-in-x":"grow-in-y":(m="grow-in-xy",p.isPolar&&p.isTransposed&&(m="wave-in")),{animation:m}},schema:function(p){var m;return p.isRect?m=p.isTransposed?"grow-in-x":"grow-in-y":m="grow-in-xy",{animation:m}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function E(p,m){return{delay:T.isFunction(p.delay)?p.delay(m):p.delay,easing:T.isFunction(p.easing)?p.easing(m):p.easing,duration:T.isFunction(p.duration)?p.duration(m):p.duration,callback:p.callback}}function S(p,m,x){var M=O[p];return M&&(T.isFunction(M)&&(M=M(m)),M=T.deepMix({},C.DEFAULT_ANIMATE_CFG,M),x)?M[x]:M}C.getDefaultAnimateCfg=S;function y(p,m,x){var M=T.get(p.get("origin"),"data",P.FIELD_ORIGIN),k=m.animation,_=E(m,M);if(k){var B=I.getAnimation(k);B&&B(p,_,x)}else p.animate(x.toAttrs,_)}C.doAnimate=y;function b(p,m,x,M,k){if(A[x]){var _=A[x](M),B=I.getAnimation(T.get(_,"animation",""));if(B){var z=d.__assign(d.__assign(d.__assign({},C.DEFAULT_ANIMATE_CFG.appear),_),m);p.stopAnimate(),B(p,z,{coordinate:M,minYPoint:k,toAttrs:null})}}}C.doGroupAppearAnimate=b},29515:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(70655),T=d.__importDefault(v(90494)),P=function(I){d.__extends(O,I);function O(A){var E=I.call(this)||this;E.destroyed=!1;var S=A.visible,y=S===void 0?!0:S;return E.visible=y,E}return O.prototype.show=function(){var A=this.visible;A||this.changeVisible(!0)},O.prototype.hide=function(){var A=this.visible;A&&this.changeVisible(!1)},O.prototype.destroy=function(){this.off(),this.destroyed=!0},O.prototype.changeVisible=function(A){this.visible!==A&&(this.visible=A)},O}(T.default);C.default=P},17916:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Controller=void 0;var d=v(49242),T=function(){function P(I){this.visible=!0,this.components=[],this.view=I}return P.prototype.clear=function(){d.each(this.components,function(I){I.component.destroy()}),this.components=[]},P.prototype.destroy=function(){this.clear()},P.prototype.getComponents=function(){return this.components},P.prototype.changeVisible=function(I){this.visible!==I&&(this.components.forEach(function(O){I?O.component.show():O.component.hide()}),this.visible=I)},P}();C.Controller=T},45687:function(ct,C,v){"use strict";var d;d={value:!0};var T=v(70655),P=v(17916),I=250,O=function(b,p){var m=p.x-b.x,x=p.y-b.y;return Math.abs(m)>Math.abs(x)?m>0?"right":"left":x>0?"down":"up"},A=function(b,p){var m=Math.abs(p.x-b.x),x=Math.abs(p.y-b.y);return Math.sqrt(m*m+x*x)},E=function(b,p){var m=(b.x+p.x)/2,x=(b.y+p.y)/2;return{x:m,y:x}},S=function(b,p){if(!!b){for(var m=[],x=b.length,M=0;M<x;M++){var k=b[M],_=k.clientX,B=k.clientY,z=p.getPointByClient(_,B);m.push(z)}return m}},y=function(b){T.__extends(p,b);function p(m){var x=b.call(this,m)||this;return x.processEvent={},x.touchStart=function(M){var k=S(M.originalEvent.touches,x.canvas);!k||(M.points=k,x.reset(),x.startTime=Date.now(),x.startPoints=k,k.length>1?(x.startDistance=A(k[0],k[1]),x.center=E(k[0],k[1])):x.pressTimeout=setTimeout(function(){var _="press";M.direction="none",x.emitStart(_,M),x.emitEvent(_,M),x.eventType=_},I))},x.touchMove=function(M){var k=S(M.originalEvent.touches,x.canvas);if(!!k){x.clearPressTimeout(),M.points=k;var _=x.startPoints;if(!!_)if(k.length>1){var B=x.startDistance,z=A(k[0],k[1]);M.zoom=z/B,M.center=x.center,x.emitStart("pinch",M),x.emitEvent("pinch",M)}else{var W=k[0].x-_[0].x,R=k[0].y-_[0].y,K=x.direction||O(_[0],k[0]);x.direction=K;var ut=x.getEventType(k);M.direction=K,M.deltaX=W,M.deltaY=R,x.emitStart(ut,M),x.emitEvent(ut,M);var ot=x.lastMoveTime,dt=Date.now();dt-ot>0&&(x.prevMoveTime=ot,x.prevMovePoints=x.lastMovePoints,x.lastMoveTime=dt,x.lastMovePoints=k)}}},x.touchEnd=function(M){x.emitEnd(M);var k=x.lastMoveTime,_=Date.now();if(_-k<100){var B=x.prevMoveTime||x.startTime,z=k-B;if(z>0){var W=x.prevMovePoints||x.startPoints,R=x.lastMovePoints,K=A(W[0],R[0])/z;K>.3&&(M.velocity=K,M.direction=O(W[0],R[0]),x.emitEvent("swipe",M))}}x.reset();var ut=M.touches;ut&&ut.length>0&&x.touchStart(M)},x.canvas=m.getCanvas(),x.delegateEvent(),x.processEvent={},x}return Object.defineProperty(p.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),p.prototype.init=function(){},p.prototype.render=function(){},p.prototype.layout=function(){},p.prototype.update=function(){},p.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},p.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},p.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},p.prototype.emitEvent=function(m,x){var M=this.view;M.emit(m,x)},p.prototype.emitStart=function(m,x){this.isProcess(m)||(this.enable(m),this.emitEvent(m+"start",x))},p.prototype.emitEnd=function(m){var x=this,M=this.processEvent;Object.keys(M).forEach(function(k){x.emitEvent(k+"end",m),delete M[k]})},p.prototype.enable=function(m){this.processEvent[m]=!0},p.prototype.isProcess=function(m){return this.processEvent[m]},p.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},p.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},p.prototype.getEventType=function(m){var x=this,M=x.eventType,k=x.view,_=x.startTime,B=x.startPoints;if(M)return M;var z,W=k.getEvents().pan;if(!W||!W.length)z="press";else{var R=Date.now();R-_>I&&A(B[0],m[0])<10?z="press":z="pan"}return this.eventType=z,z},p}(P.Controller);C.Z=y},64815:function(ct,C,v){"use strict";var d;d={value:!0};var T=v(70655),P=v(49242),I=v(57029),O=v(22514),A=v(42770),E=v(99677),S=v(17916);function y(p){for(var m=[],x=function(k){var _=p[k],B=P.find(m,function(z){return z.color===_.color&&z.name===_.name&&z.value===_.value&&z.title===_.title});B||m.push(_)},M=0;M<p.length;M++)x(M);return m}var b=function(p){T.__extends(m,p);function m(){var x=p!==null&&p.apply(this,arguments)||this;return x.isLocked=!1,x}return Object.defineProperty(m.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),m.prototype.init=function(){},m.prototype.isVisible=function(){var x=this.view.getOptions().tooltip;return x!==!1},m.prototype.render=function(){},m.prototype.showTooltip=function(x){if(this.point=x,!!this.isVisible()){var M=this.view,k=this.getTooltipItems(x);if(!k.length){this.hideTooltip();return}var _=this.getTitle(k),B={x:k[0].x,y:k[0].y};M.emit("tooltip:show",T.__assign({items:k,title:_},x));var z=this.getTooltipCfg(),W=z.follow,R=z.showMarkers,K=z.showCrosshairs,ut=z.showContent,ot=z.marker,dt=this.items,nt=this.title;if(!P.isEqual(nt,_)||!P.isEqual(dt,k)?(M.emit("tooltip:change",T.__assign({items:k,title:_},x)),ut&&(this.tooltip||this.renderTooltip(),this.tooltip.update(P.mix({},z,{items:k,title:_},W?x:{})),this.tooltip.show()),R&&this.renderTooltipMarkers(k,ot)):(this.tooltip&&W&&(this.tooltip.update(x),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=k,this.title=_,K){var yt=P.get(z,["crosshairs","follow"],!1);this.renderCrosshairs(yt?x:B,z)}}},m.prototype.hideTooltip=function(){var x=this.getTooltipCfg().follow;if(!x){this.point=null;return}var M=this.tooltipMarkersGroup;M&&M.hide();var k=this.xCrosshair,_=this.yCrosshair;k&&k.hide(),_&&_.hide();var B=this.tooltip;B&&B.hide(),this.view.emit("tooltip:hide",{}),this.point=null},m.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},m.prototype.unlockTooltip=function(){this.isLocked=!1;var x=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(x.capture)},m.prototype.isTooltipLocked=function(){return this.isLocked},m.prototype.clear=function(){var x=this,M=x.tooltip,k=x.xCrosshair,_=x.yCrosshair,B=x.tooltipMarkersGroup;M&&(M.hide(),M.clear()),k&&k.clear(),_&&_.clear(),B&&B.clear()},m.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},m.prototype.changeVisible=function(x){if(this.visible!==x){var M=this,k=M.tooltip,_=M.tooltipMarkersGroup,B=M.xCrosshair,z=M.yCrosshair;x?(k&&k.show(),_&&_.show(),B&&B.show(),z&&z.show()):(k&&k.hide(),_&&_.hide(),B&&B.hide(),z&&z.hide()),this.visible=x}},m.prototype.getTooltipItems=function(x){var M=this.findItemsFromView(this.view,x);if(M.length){M=P.flatten(M);for(var k=0,_=M;k<_.length;k++)for(var B=_[k],z=0,W=B;z<W.length;z++){var R=W[z],K=R.mappingData,ut=K.x,ot=K.y;R.x=P.isArray(ut)?ut[ut.length-1]:ut,R.y=P.isArray(ot)?ot[ot.length-1]:ot}var dt=this.getTooltipCfg().shared;if(dt===!1&&M.length>1){for(var nt=M[0],yt=Math.abs(x.y-nt[0].y),tt=0,J=M;tt<J.length;tt++){var ft=J[tt],rt=Math.abs(x.y-ft[0].y);rt<=yt&&(nt=ft,yt=rt)}M=[nt]}return y(P.flatten(M))}return[]},m.prototype.layout=function(){},m.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var x=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:x.get("width"),y:x.get("height")}})}},m.prototype.getTooltipCfg=function(){var x=this.view,M=x.getOptions().tooltip,k=x.getTheme(),_=P.get(k,["components","tooltip"],{}),B=P.isUndefined(P.get(M,"enterable"))?_.enterable:P.get(M,"enterable");return P.deepMix({},_,M,{capture:!!(B||this.isLocked)})},m.prototype.getTitle=function(x){var M=x[0].title||x[0].name;return this.title=M,M},m.prototype.renderTooltip=function(){var x=this.view.getCanvas(),M={start:{x:0,y:0},end:{x:x.get("width"),y:x.get("height")}},k=this.getTooltipCfg(),_=new I.HtmlTooltip(T.__assign(T.__assign({parent:x.get("el").parentNode,region:M},k),{visible:!1,crosshairs:null}));_.init(),this.tooltip=_},m.prototype.renderTooltipMarkers=function(x,M){for(var k=this.getTooltipMarkersGroup(),_=0,B=x;_<B.length;_++){var z=B[_],W=z.x,R=z.y,K=T.__assign(T.__assign({fill:z.color,symbol:"circle",shadowColor:z.color},M),{x:W,y:R});k.addShape("marker",{attrs:K})}},m.prototype.renderCrosshairs=function(x,M){var k=P.get(M,["crosshairs","type"],"x");k==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(x,M)):k==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(x,M)):k==="xy"&&(this.renderXCrosshairs(x,M),this.renderYCrosshairs(x,M))},m.prototype.renderXCrosshairs=function(x,M){var k=this.getViewWithGeometry(this.view).getCoordinate();if(!!O.isPointInCoordinate(k,x)){var _,B;if(k.isRect)k.isTransposed?(_={x:k.start.x,y:x.y},B={x:k.end.x,y:x.y}):(_={x:x.x,y:k.end.y},B={x:x.x,y:k.start.y});else{var z=O.getAngleByPoint(k,x),W=k.getCenter(),R=k.getRadius();B=A.polarToCartesian(W.x,W.y,R,z),_=W}var K=P.deepMix({start:_,end:B,container:this.getTooltipCrosshairsGroup()},P.get(M,"crosshairs",{}),this.getCrosshairsText("x",x,M));delete K.type;var ut=this.xCrosshair;ut?ut.update(K):(ut=new I.Crosshair.Line(K),ut.init()),ut.render(),ut.show(),this.xCrosshair=ut}},m.prototype.renderYCrosshairs=function(x,M){var k=this.getViewWithGeometry(this.view).getCoordinate();if(!!O.isPointInCoordinate(k,x)){var _,B;if(k.isRect){var z=void 0,W=void 0;k.isTransposed?(z={x:x.x,y:k.end.y},W={x:x.x,y:k.start.y}):(z={x:k.start.x,y:x.y},W={x:k.end.x,y:x.y}),_={start:z,end:W},B="Line"}else _={center:k.getCenter(),radius:O.getDistanceToCenter(k,x),startAngle:k.startAngle,endAngle:k.endAngle},B="Circle";_=P.deepMix({container:this.getTooltipCrosshairsGroup()},_,P.get(M,"crosshairs",{}),this.getCrosshairsText("y",x,M)),delete _.type;var R=this.yCrosshair;R?k.isRect&&R.get("type")==="circle"||!k.isRect&&R.get("type")==="line"?(R=new I.Crosshair[B](_),R.init()):R.update(_):(R=new I.Crosshair[B](_),R.init()),R.render(),R.show(),this.yCrosshair=R}},m.prototype.getCrosshairsText=function(x,M,k){var _=P.get(k,["crosshairs","text"]),B=P.get(k,["crosshairs","follow"]),z=this.items;if(_){var W=this.getViewWithGeometry(this.view),R=z[0],K=W.getXScale(),ut=W.getYScales()[0],ot=void 0,dt=void 0;if(B){var nt=this.view.getCoordinate().invert(M);ot=K.invert(nt.x),dt=ut.invert(nt.y)}else ot=R.data[K.field],dt=R.data[ut.field];var yt=x==="x"?ot:dt;return P.isFunction(_)?_=_(x,yt,z,M):_.content=yt,{text:_}}},m.prototype.getGuideGroup=function(){if(!this.guideGroup){var x=this.view.foregroundGroup;this.guideGroup=x.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},m.prototype.getTooltipMarkersGroup=function(){var x=this.tooltipMarkersGroup;return x&&!x.destroyed?(x.clear(),x.show()):(x=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),x.toFront(),this.tooltipMarkersGroup=x),x},m.prototype.getTooltipCrosshairsGroup=function(){var x=this.tooltipCrosshairsGroup;return x||(x=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),x.toBack(),this.tooltipCrosshairsGroup=x),x},m.prototype.getTooltipItemsByHitShape=function(x,M,k){var _=[],B=x.container,z=B.getShape(M.x,M.y);if(z&&z.get("visible")&&z.get("origin")){var W=z.get("origin").mappingData,R=E.getTooltipItems(W,x,k);R.length&&_.push(R)}return _},m.prototype.getTooltipItemsByFindData=function(x,M,k){var _=[],B=x.dataArray;x.sort(B);for(var z=0,W=B;z<W.length;z++){var R=W[z],K=E.findDataByPoint(M,R,x);if(K){var ut=x.getElementId(K),ot=x.elementsMap[ut];if(x.type==="heatmap"||ot.visible){var dt=E.getTooltipItems(K,x,k);dt.length&&_.push(dt)}}}return _},m.prototype.findItemsFromView=function(x,M){if(x.getOptions().tooltip===!1)return[];for(var k=[],_=x.geometries,B=this.getTooltipCfg(),z=B.shared,W=B.title,R=0,K=_;R<K.length;R++){var ut=K[R];if(ut.visible&&ut.tooltipOption!==!1){var ot=ut.type,dt=void 0;["point","edge","polygon"].includes(ot)?dt=this.getTooltipItemsByHitShape(ut,M,W):["area","line","path","heatmap"].includes(ot)?dt=this.getTooltipItemsByFindData(ut,M,W):z!==!1?dt=this.getTooltipItemsByFindData(ut,M,W):dt=this.getTooltipItemsByHitShape(ut,M,W),dt.length&&k.push(dt)}}for(var nt=0,yt=x.views;nt<yt.length;nt++){var tt=yt[nt];k=k.concat(this.findItemsFromView(tt,M))}return k},m.prototype.getViewWithGeometry=function(x){var M=this;return x.geometries.length?x:P.find(x.views,function(k){return M.getViewWithGeometry(k)})},m}(S.Controller);C.Z=b},29583:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.COMPONENT_MAX_VIEW_PERCENTAGE=C.MIN_CHART_HEIGHT=C.MIN_CHART_WIDTH=C.FIELD_ORIGIN=C.GROUP_ATTRS=C.ELEMENT_STATE=C.PLOT_EVENTS=C.VIEW_LIFE_CIRCLE=C.GROUP_Z_INDEX=C.COMPONENT_TYPE=C.DIRECTION=C.LAYER=void 0;var v;(function(A){A.FORE="fore",A.MID="mid",A.BG="bg"})(v=C.LAYER||(C.LAYER={}));var d;(function(A){A.TOP="top",A.TOP_LEFT="top-left",A.TOP_RIGHT="top-right",A.RIGHT="right",A.RIGHT_TOP="right-top",A.RIGHT_BOTTOM="right-bottom",A.LEFT="left",A.LEFT_TOP="left-top",A.LEFT_BOTTOM="left-bottom",A.BOTTOM="bottom",A.BOTTOM_LEFT="bottom-left",A.BOTTOM_RIGHT="bottom-right",A.RADIUS="radius",A.CIRCLE="circle",A.NONE="none"})(d=C.DIRECTION||(C.DIRECTION={}));var T;(function(A){A.AXIS="axis",A.GRID="grid",A.LEGEND="legend",A.TOOLTIP="tooltip",A.ANNOTATION="annotation",A.OTHER="other"})(T=C.COMPONENT_TYPE||(C.COMPONENT_TYPE={})),C.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var P;(function(A){A.BEFORE_RENDER="beforerender",A.AFTER_RENDER="afterrender",A.BEFORE_PAINT="beforepaint",A.AFTER_PAINT="afterpaint",A.BEFORE_CHANGE_DATA="beforechangedata",A.AFTER_CHANGE_DATA="afterchangedata",A.BEFORE_CLEAR="beforeclear",A.AFTER_CLEAR="afterclear",A.BEFORE_DESTROY="beforedestroy"})(P=C.VIEW_LIFE_CIRCLE||(C.VIEW_LIFE_CIRCLE={}));var I;(function(A){A.MOUSE_ENTER="plot:mouseenter",A.MOUSE_DOWN="plot:mousedown",A.MOUSE_MOVE="plot:mousemove",A.MOUSE_UP="plot:mouseup",A.MOUSE_LEAVE="plot:mouseleave",A.TOUCH_START="plot:touchstart",A.TOUCH_MOVE="plot:touchmove",A.TOUCH_END="plot:touchend",A.TOUCH_CANCEL="plot:touchcancel",A.CLICK="plot:click",A.DBLCLICK="plot:dblclick",A.CONTEXTMENU="plot:contextmenu",A.LEAVE="plot:leave",A.ENTER="plot:enter"})(I=C.PLOT_EVENTS||(C.PLOT_EVENTS={}));var O;(function(A){A.ACTIVE="active",A.INACTIVE="inactive",A.SELECTED="selected",A.DEFAULT="default"})(O=C.ELEMENT_STATE||(C.ELEMENT_STATE={})),C.GROUP_ATTRS=["color","shape","size"],C.FIELD_ORIGIN="_origin",C.MIN_CHART_WIDTH=1,C.MIN_CHART_HEIGHT=1,C.COMPONENT_MAX_VIEW_PERCENTAGE=.25},57029:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Slider=C.HtmlTooltip=C.ContinuousLegend=C.CategoryLegend=C.CircleGrid=C.LineGrid=C.CircleAxis=C.LineAxis=C.Annotation=C.Crosshair=C.Component=C.GroupComponent=C.HtmlComponent=void 0;var d=v(39014);Object.defineProperty(C,"Event",{enumerable:!0,get:function(){return d.Event}}),Object.defineProperty(C,"AbstractGroup",{enumerable:!0,get:function(){return d.AbstractGroup}}),Object.defineProperty(C,"AbstractShape",{enumerable:!0,get:function(){return d.AbstractShape}});var T=v(28014);Object.defineProperty(C,"registerAdjust",{enumerable:!0,get:function(){return T.registerAdjust}}),Object.defineProperty(C,"getAdjust",{enumerable:!0,get:function(){return T.getAdjust}}),Object.defineProperty(C,"Adjust",{enumerable:!0,get:function(){return T.Adjust}});var P=v(24796);Object.defineProperty(C,"getAttribute",{enumerable:!0,get:function(){return P.getAttribute}}),Object.defineProperty(C,"Attribute",{enumerable:!0,get:function(){return P.Attribute}});var I=v(21392);Object.defineProperty(C,"Color",{enumerable:!0,get:function(){return I.Color}});var O=v(13541);Object.defineProperty(C,"getCoordinate",{enumerable:!0,get:function(){return O.getCoordinate}}),Object.defineProperty(C,"registerCoordinate",{enumerable:!0,get:function(){return O.registerCoordinate}}),Object.defineProperty(C,"Coordinate",{enumerable:!0,get:function(){return O.Coordinate}});var A=v(51082);Object.defineProperty(C,"getScale",{enumerable:!0,get:function(){return A.getScale}}),Object.defineProperty(C,"registerScale",{enumerable:!0,get:function(){return A.registerScale}}),Object.defineProperty(C,"Scale",{enumerable:!0,get:function(){return A.Scale}});var E=v(51441);Object.defineProperty(C,"Annotation",{enumerable:!0,get:function(){return E.Annotation}}),Object.defineProperty(C,"Component",{enumerable:!0,get:function(){return E.Component}}),Object.defineProperty(C,"Crosshair",{enumerable:!0,get:function(){return E.Crosshair}}),Object.defineProperty(C,"GroupComponent",{enumerable:!0,get:function(){return E.GroupComponent}}),Object.defineProperty(C,"HtmlComponent",{enumerable:!0,get:function(){return E.HtmlComponent}}),Object.defineProperty(C,"Slider",{enumerable:!0,get:function(){return E.Slider}});var S=E.Axis.Line,y=E.Axis.Circle;C.LineAxis=S,C.CircleAxis=y;var b=E.Grid.Line,p=E.Grid.Circle;C.LineGrid=b,C.CircleGrid=p;var m=E.Legend.Category,x=E.Legend.Continuous;C.CategoryLegend=m,C.ContinuousLegend=x;var M=E.Tooltip.Html;C.HtmlTooltip=M},38700:function(ct,C,v){"use strict";var d;d={value:!0};var T=v(70655),P=v(49242),I=v(27978),O=T.__importDefault(v(29515)),A=v(42770),E=v(31207),S=function(y){T.__extends(b,y);function b(p){var m=y.call(this,p)||this;m.states=[];var x=p.shapeFactory,M=p.container,k=p.offscreenGroup,_=p.visible,B=_===void 0?!0:_;return m.shapeFactory=x,m.container=M,m.offscreenGroup=k,m.visible=B,m}return b.prototype.draw=function(p,m){m===void 0&&(m=!1),this.model=p,this.data=p.data,this.shapeType=this.getShapeType(p),this.drawShape(p,m),this.visible===!1&&this.changeVisible(!1)},b.prototype.update=function(p){var m=this,x=m.shapeFactory,M=m.shape;if(!!M){this.model=p,this.data=p.data,this.shapeType=this.getShapeType(p),this.setShapeInfo(M,p);var k=this.getOffscreenGroup(),_=x.drawShape(this.shapeType,p,k);_.cfg.data=this.data,_.cfg.origin=p,this.syncShapeStyle(M,_,"",this.getAnimateCfg("update"))}},b.prototype.destroy=function(){var p=this,m=p.shapeFactory,x=p.shape;if(x){var M=this.getAnimateCfg("leave");M?I.doAnimate(x,M,{coordinate:m.coordinate,toAttrs:T.__assign({},x.attr())}):x.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,y.prototype.destroy.call(this)},b.prototype.changeVisible=function(p){y.prototype.changeVisible.call(this,p),p?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(m){m.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(m){m.hide()}))},b.prototype.setState=function(p,m){var x=this,M=this,k=M.states,_=M.shapeFactory,B=M.model,z=M.shape,W=M.shapeType,R=k.indexOf(p);if(m){if(R>-1)return;k.push(p),(p==="active"||p==="selected")&&z.toFront()}else{if(R===-1)return;k.splice(R,1),(p==="active"||p==="selected")&&z.toBack()}var K=_.drawShape(W,B,this.getOffscreenGroup());k.length?k.forEach(function(ot){x.syncShapeStyle(z,K,ot,null)}):this.syncShapeStyle(z,K,"reset",null),K.remove(!0);var ut={state:p,stateStatus:m,element:this,target:this.container};this.container.emit("statechange",ut),E.propagationDelegate(this.shape,"statechange",ut)},b.prototype.clearStates=function(){var p=this,m=this.states;P.each(m,function(x){p.setState(x,!1)}),this.states=[]},b.prototype.hasState=function(p){return this.states.includes(p)},b.prototype.getStates=function(){return this.states},b.prototype.getData=function(){return this.data},b.prototype.getModel=function(){return this.model},b.prototype.getBBox=function(){var p=this,m=p.shape,x=p.labelShape,M={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return m&&(M=m.getCanvasBBox()),x&&x.forEach(function(k){var _=k.getCanvasBBox();M.x=Math.min(_.x,M.x),M.y=Math.min(_.y,M.y),M.minX=Math.min(_.minX,M.minX),M.minY=Math.min(_.minY,M.minY),M.maxX=Math.max(_.maxX,M.maxX),M.maxY=Math.max(_.maxY,M.maxY)}),M.width=M.maxX-M.minX,M.height=M.maxY-M.minY,M},b.prototype.getStatesStyle=function(){if(!this.statesStyle){var p=this,m=p.shapeType,x=p.geometry,M=p.shapeFactory,k=x.stateOption,_=M.defaultShapeType,B=M.theme[m]||M.theme[_];this.statesStyle=P.deepMix({},B,k)}return this.statesStyle},b.prototype.getStateStyle=function(p,m){var x=this.getStatesStyle(),M=P.get(x,[p,"style"],{}),k=M[m]||M;return P.isFunction(k)?k(this):k},b.prototype.getAnimateCfg=function(p){var m=this.animate;return m?m[p]:null},b.prototype.drawShape=function(p,m){m===void 0&&(m=!1);var x=this,M=x.shapeFactory,k=x.container,_=x.shapeType;if(this.shape=M.drawShape(_,p,k),this.shape){this.setShapeInfo(this.shape,p);var B=this.shape.cfg.name;B?P.isString(B)&&(this.shape.cfg.name=["element",B]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var z=m?"enter":"appear",W=this.getAnimateCfg(z);W&&I.doAnimate(this.shape,W,{coordinate:M.coordinate,toAttrs:T.__assign({},this.shape.attr())})}},b.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var p=this.container.getGroupBase();this.offscreenGroup=new p({})}return this.offscreenGroup},b.prototype.setShapeInfo=function(p,m){var x=this;if(p.cfg.origin=m,p.cfg.element=this,p.isGroup()){var M=p.get("children");M.forEach(function(k){x.setShapeInfo(k,m)})}},b.prototype.syncShapeStyle=function(p,m,x,M,k){if(x===void 0&&(x=""),k===void 0&&(k=0),p.isGroup())for(var _=p.get("children"),B=m.get("children"),z=0;z<_.length;z++)this.syncShapeStyle(_[z],B[z],x,M,k+z);else{if(x&&x!=="reset"){var W=p.get("name");P.isArray(W)&&(W=W[1]);var R=this.getStateStyle(x,W||k);m.attr(R)}var K=A.getReplaceAttrs(p,m);this.animate?M?I.doAnimate(p,M,{coordinate:this.shapeFactory.coordinate,toAttrs:K,shapeModel:this.model}):x?(p.stopAnimate(),p.animate(K,{duration:300})):p.attr(K):p.attr(K)}},b.prototype.getShapeType=function(p){var m=P.get(p,"shape");return P.isArray(m)?m[0]:m},b}(O.default);d=S},75564:function(ct,C,v){"use strict";var d;d={value:!0},C.iV=d=d=void 0;var T=v(70655),P=v(6750),I=v(26485);d=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],d=["cross","tick","plus","hyphen","line"];function O(A,E,S,y,b){var p=I.getStyle(E,b,!b,"r"),m=A.parsePoints(E.points),x=m[0];if(E.isStack)x=m[1];else if(m.length>1){for(var M=S.addGroup(),k=0,_=m;k<_.length;k++){var B=_[k];M.addShape({type:"marker",attrs:T.__assign(T.__assign(T.__assign({},p),{symbol:P.MarkerSymbols[y]||y}),B)})}return M}return S.addShape({type:"marker",attrs:T.__assign(T.__assign(T.__assign({},p),{symbol:P.MarkerSymbols[y]||y}),x)})}C.iV=O},26485:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getStyle=void 0;var d=v(70655),T=v(49242);function P(I,O,A,E){E===void 0&&(E="");var S=I.style,y=S===void 0?{}:S,b=I.defaultStyle,p=I.color,m=I.size,x=d.__assign(d.__assign({},b),y);return p&&(O&&(y.stroke||(x.stroke=p)),A&&(y.fill||(x.fill=p))),E&&T.isNil(y[E])&&!T.isNil(m)&&(x[E]=m),x}C.getStyle=P},36758:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.convertPolarPath=C.convertNormalPath=C.getSplinePath=C.getLinePath=C.catmullRom2bezier=C.smoothBezier=void 0;var d=v(43567),T=v(49242),P=v(22514);function I(x,M){var k=[];if(x.length){k.push(["M",x[0].x,x[0].y]);for(var _=1,B=x.length;_<B;_+=1){var z=x[_];k.push(["L",z.x,z.y])}M&&k.push(["Z"])}return k}function O(x,M){for(var k=[x[0]],_=1,B=x.length;_<B;_=_+2){var z=M.convert({x:x[_],y:x[_+1]});k.push(z.x,z.y)}return k}function A(x,M,k){var _=k.isTransposed,B=k.startAngle,z=k.endAngle,W={x:x[1],y:x[2]},R={x:M[1],y:M[2]},K=[],ut=_?"y":"x",ot=Math.abs(R[ut]-W[ut])*(z-B),dt=R[ut]>=W[ut]?1:0,nt=ot>Math.PI?1:0,yt=k.convert(R),tt=P.getDistanceToCenter(k,yt);if(tt>=.5)if(ot===Math.PI*2){var J={x:(R.x+W.x)/2,y:(R.y+W.y)/2},ft=k.convert(J);K.push(["A",tt,tt,0,nt,dt,ft.x,ft.y]),K.push(["A",tt,tt,0,nt,dt,yt.x,yt.y])}else K.push(["A",tt,tt,0,nt,dt,yt.x,yt.y]);return K}function E(x){T.each(x,function(M,k){var _=M;if(_[0].toLowerCase()==="a"){var B=x[k-1],z=x[k+1];z&&z[0].toLowerCase()==="a"?B&&B[0].toLowerCase()==="l"&&(B[0]="M"):B&&B[0].toLowerCase()==="a"&&z&&z[0].toLowerCase()==="l"&&(z[0]="M")}})}C.smoothBezier=function(x,M,k,_){var B=[],z,W,R=!!_,K,ut;if(R){K=[Infinity,Infinity],ut=[-Infinity,-Infinity];for(var ot=0,dt=x.length;ot<dt;ot++){var nt=x[ot];K=d.vec2.min([0,0],K,nt),ut=d.vec2.max([0,0],ut,nt)}K=d.vec2.min([0,0],K,_[0]),ut=d.vec2.max([0,0],ut,_[1])}for(var ot=0,yt=x.length;ot<yt;ot++){var nt=x[ot];if(k)z=x[ot?ot-1:yt-1],W=x[(ot+1)%yt];else if(ot===0||ot===yt-1){B.push(nt);continue}else z=x[ot-1],W=x[ot+1];var tt=[0,0];tt=d.vec2.sub(tt,W,z),tt=d.vec2.scale(tt,tt,M);var J=d.vec2.distance(nt,z),ft=d.vec2.distance(nt,W),rt=J+ft;rt!==0&&(J/=rt,ft/=rt);var St=d.vec2.scale([0,0],tt,-J),wt=d.vec2.scale([0,0],tt,ft),q=d.vec2.add([0,0],nt,St),it=d.vec2.add([0,0],nt,wt);R&&(q=d.vec2.max([0,0],q,K),q=d.vec2.min([0,0],q,ut),it=d.vec2.max([0,0],it,K),it=d.vec2.min([0,0],it,ut)),B.push(q),B.push(it)}return k&&B.push(B.shift()),B};function S(x,M,k){for(var _=!!M,B=[],z=0,W=x.length;z<W;z+=2)B.push([x[z],x[z+1]]);for(var R=C.smoothBezier(B,.4,_,k),K=B.length,ut=[],ot,dt,nt,z=0;z<K-1;z++)ot=R[z*2],dt=R[z*2+1],nt=B[z+1],ut.push(["C",ot[0],ot[1],dt[0],dt[1],nt[0],nt[1]]);return _&&(ot=R[K],dt=R[K+1],nt=B[0],ut.push(["C",ot[0],ot[1],dt[0],dt[1],nt[0],nt[1]])),ut}C.catmullRom2bezier=S;function y(x,M){return I(x,M)}C.getLinePath=y;function b(x,M,k){var _=[],B=x[0],z=null;if(x.length<=2)return y(x,M);for(var W=0,R=x.length;W<R;W++){var K=x[W];(!z||!(z.x===K.x&&z.y===K.y))&&(_.push(K.x),_.push(K.y),z=K)}var ut=k||[[0,0],[1,1]],ot=S(_,M,ut);return ot.unshift(["M",B.x,B.y]),ot}C.getSplinePath=b;function p(x,M){var k=[];return T.each(M,function(_){var B=_[0];switch(B.toLowerCase()){case"m":case"l":case"c":k.push(O(_,x));break;case"z":default:k.push(_);break}}),k}C.convertNormalPath=p;function m(x,M){var k=[],_,B,z,W;return T.each(M,function(R,K){var ut=R[0];switch(ut.toLowerCase()){case"m":case"c":case"q":k.push(O(R,x));break;case"l":_=M[K-1],B=R,z=x.isTransposed,W=z?_[_.length-2]===B[1]:_[_.length-1]===B[2],W?k=k.concat(A(_,B,x)):k.push(O(R,x));break;case"z":default:k.push(R);break}}),E(k),k}C.convertPolarPath=m},33242:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(49242),T=function(){function P(I,O){this.context=I,this.cfg=O,I.addAction(this)}return P.prototype.applyCfg=function(I){d.assign(this,I)},P.prototype.init=function(){this.applyCfg(this.cfg)},P.prototype.destroy=function(){this.context.removeAction(this),this.context=null},P}();C.default=T},68842:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(70655),T=d.__importDefault(v(33242)),P=function(I){d.__extends(O,I);function O(){return I!==null&&I.apply(this,arguments)||this}return O.prototype.execute=function(){this.callback&&this.callback(this.context)},O.prototype.destroy=function(){I.prototype.destroy.call(this),this.callback=null},O}(T.default);C.default=P},93359:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.createCallbackAction=C.unregisterAction=C.registerAction=C.getActionClass=C.createAction=void 0;var d=v(70655),T=d.__importDefault(v(68842)),P=v(49242),I={};function O(b,p){var m=I[b],x=null;if(m){var M=m.ActionClass,k=m.cfg;x=new M(p,k),x.name=b,x.init()}return x}C.createAction=O;function A(b){var p=I[b];return P.get(p,"ActionClass")}C.getActionClass=A;function E(b,p,m){I[b]={ActionClass:p,cfg:m}}C.registerAction=E;function S(b){delete I[b]}C.unregisterAction=S;function y(b,p){var m=new T.default(p);return m.callback=b,m.name="callback",m}C.createCallbackAction=y},31882:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getScaleByField=C.isInRecords=C.getSiblingPoint=C.getSilbings=C.isInBox=C.getSpline=C.distance=C.getComponents=C.getElementsByPath=C.getIntersectElements=C.intersectRect=C.getElementValue=C.getElementsByState=C.getElementsByField=C.getElements=C.getSiblingMaskElements=C.getMaskedElements=C.isMask=C.isSlider=C.isList=C.isElementChange=C.getDelegationObject=C.getCurrentElement=void 0;var d=v(70655),T=v(49242),P=v(36758),I=v(85800),O=d.__importDefault(v(70146));function A(q,it){var Q=q.event,f=Q.target,vt=f.getCanvasBBox();return vt.width>=it||vt.height>=it?vt:null}function E(q,it){var Q=q.event,f=Q.target,vt=f.getCanvasBBox();return vt.width>=it||vt.height>=it?f.attr("path"):null}function S(q){var it=q.event,Q,f=it.target;return f&&(Q=f.get("element")),Q}C.getCurrentElement=S;function y(q){var it=q.event,Q=it.target,f;return Q&&(f=Q.get("delegateObject")),f}C.getDelegationObject=y;function b(q){var it=q.event.gEvent;return!(it&&it.fromShape&&it.toShape&&it.fromShape.get("element")===it.toShape.get("element"))}C.isElementChange=b;function p(q){return q&&q.component&&q.component.isList()}C.isList=p;function m(q){return q&&q.component&&q.component.isSlider()}C.isSlider=m;function x(q){var it=q.event,Q=it.target;return Q&&Q.get("name")==="mask"}C.isMask=x;function M(q,it){var Q=q.event.target;if(Q.get("type")==="path"){var f=E(q,it);return f?ot(q.view,f):void 0}var vt=A(q,it);return vt?K(q.view,vt):null}C.getMaskedElements=M;function k(q,it,Q){var f=A(q,Q);if(!f)return null;var vt=q.view,It=rt(vt,it,{x:f.x,y:f.y}),Qt=rt(vt,it,{x:f.maxX,y:f.maxY}),Se={minX:It.x,minY:It.y,maxX:Qt.x,maxY:Qt.y};return K(it,Se)}C.getSiblingMaskElements=k;function _(q){var it=q.geometries,Q=[];return T.each(it,function(f){var vt=f.elements;Q=Q.concat(vt)}),q.views&&q.views.length&&T.each(q.views,function(f){Q=Q.concat(_(f))}),Q}C.getElements=_;function B(q,it,Q){var f=_(q);return f.filter(function(vt){return W(vt,it)===Q})}C.getElementsByField=B;function z(q,it){var Q=q.geometries,f=[];return T.each(Q,function(vt){var It=vt.getElementsBy(function(Qt){return Qt.hasState(it)});f=f.concat(It)}),f}C.getElementsByState=z;function W(q,it){var Q=q.getModel(),f=Q.data,vt;return T.isArray(f)?vt=f[0][it]:vt=f[it],vt}C.getElementValue=W;function R(q,it){return!(it.minX>q.maxX||it.maxX<q.minX||it.minY>q.maxY||it.maxY<q.minY)}C.intersectRect=R;function K(q,it){var Q=_(q),f=[];return T.each(Q,function(vt){var It=vt.shape,Qt=It.getCanvasBBox();R(it,Qt)&&f.push(vt)}),f}C.getIntersectElements=K;function ut(q){var it=[];return T.each(q,function(Q){var f=Q[0];if(f!=="A")for(var vt=1;vt<Q.length;vt=vt+2)it.push([Q[vt],Q[vt+1]]);else{var It=Q.length;it.push([Q[It-2],Q[It-1]])}}),it}function ot(q,it){var Q=_(q),f=ut(it),vt=Q.filter(function(It){var Qt=It.shape,Se;if(Qt.get("type")==="path")Se=ut(Qt.attr("path"));else{var $t=Qt.getCanvasBBox();Se=I.toPoints($t)}return O.default(f,Se)});return vt}C.getElementsByPath=ot;function dt(q){return q.getComponents().map(function(it){return it.component})}C.getComponents=dt;function nt(q,it){var Q=it.x-q.x,f=it.y-q.y;return Math.sqrt(Q*Q+f*f)}C.distance=nt;function yt(q,it){if(q.length<=2)return P.getLinePath(q,!1);var Q=q[0],f=[];T.each(q,function(It){f.push(It.x),f.push(It.y)});var vt=P.catmullRom2bezier(f,it,null);return vt.unshift(["M",Q.x,Q.y]),vt}C.getSpline=yt;function tt(q,it){return q.x<=it.x&&q.maxX>=it.x&&q.y<=it.y&&q.maxY>it.y}C.isInBox=tt;function J(q){var it=q.parent,Q=null;return it&&(Q=it.views.filter(function(f){return f!==q})),Q}C.getSilbings=J;function ft(q,it){var Q=q.getCoordinate();return Q.invert(it)}function rt(q,it,Q){var f=ft(q,Q);return it.getCoordinate().convert(f)}C.getSiblingPoint=rt;function St(q,it,Q,f){var vt=!1;return T.each(q,function(It){if(It[Q]===it[Q]&&It[f]===it[f])return vt=!0,!1}),vt}C.isInRecords=St;function wt(q,it){var Q=q.getScaleByField(it);return!Q&&q.views&&T.each(q.views,function(f){if(Q=wt(f,it),Q)return!1}),Q}C.getScaleByField=wt},43273:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(49242),T=v(31882),P=function(){function I(O){this.actions=[],this.event=null,this.cacheMap={},this.view=O}return I.prototype.cache=function(){for(var O=[],A=0;A<arguments.length;A++)O[A]=arguments[A];if(O.length===1)return this.cacheMap[O[0]];O.length===2&&(this.cacheMap[O[0]]=O[1])},I.prototype.getAction=function(O){return this.actions.find(function(A){return A.name===O})},I.prototype.addAction=function(O){this.actions.push(O)},I.prototype.removeAction=function(O){var A=this.actions,E=this.actions.indexOf(O);E>=0&&A.splice(E,1)},I.prototype.getCurrentPoint=function(){var O=this.event;if(O)if(O.target instanceof HTMLElement){var A=this.view.getCanvas(),E=A.getPointByClient(O.clientX,O.clientY);return E}else return{x:O.x,y:O.y};return null},I.prototype.getCurrentShape=function(){return d.get(this.event,["gEvent","shape"])},I.prototype.isInPlot=function(){var O=this.getCurrentPoint();return O?this.view.isPointInPlot(O):!1},I.prototype.isInShape=function(O){var A=this.getCurrentShape();return A?A.get("name")===O:!1},I.prototype.isInComponent=function(O){var A=T.getComponents(this.view),E=this.getCurrentPoint();return E?!!A.find(function(S){var y=S.getBBox();return O?S.get("name")===O&&T.isInBox(y,E):T.isInBox(y,E)}):!1},I.prototype.destroy=function(){this.view=null,this.event=null,d.each(this.actions.slice(),function(O){O.destroy()}),this.actions=null,this.cacheMap=null},I}();C.default=P},61058:function(ct,C,v){"use strict";var d;d={value:!0};var T=v(70655),P=v(49242),I=v(93359),O=T.__importDefault(v(43273)),A=T.__importDefault(v(91513));function E(p,m){var x=p.split(":"),M=x[0],k=m.getAction(M)||I.createAction(M,m);if(!k)throw new Error("There is no action named "+M);var _=x[1];return{action:k,methodName:_}}function S(p){var m=p.action,x=p.methodName;if(m[x])m[x]();else throw new Error("Action("+m.name+") doesn't have a method called "+x)}var y={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},b=function(p){T.__extends(m,p);function m(x,M){var k=p.call(this,x,M)||this;return k.callbackCaches={},k.emitCaches={},k.steps=M,k}return m.prototype.init=function(){this.initContext(),p.prototype.init.call(this)},m.prototype.destroy=function(){p.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},m.prototype.initEvents=function(){var x=this;P.each(this.steps,function(M,k){P.each(M,function(_){var B=x.getActionCallback(k,_);B&&x.bindEvent(_.trigger,B)})})},m.prototype.clearEvents=function(){var x=this;P.each(this.steps,function(M,k){P.each(M,function(_){var B=x.getActionCallback(k,_);B&&x.offEvent(_.trigger,B)})})},m.prototype.initContext=function(){var x=this.view,M=new O.default(x);this.context=M;var k=this.steps;P.each(k,function(_){P.each(_,function(B){if(P.isFunction(B.action))B.actionObject={action:I.createCallbackAction(B.action,M),methodName:"execute"};else if(P.isString(B.action))B.actionObject=E(B.action,M);else if(P.isArray(B.action)){var z=B.action;B.actionObject=[],P.each(z,function(W){B.actionObject.push(E(W,M))})}})})},m.prototype.isAllowStep=function(x){var M=this.currentStepName,k=this.steps;if(M===x||x===y.SHOW_ENABLE)return!0;if(x===y.PROCESSING)return M===y.START;if(x===y.START)return M!==y.PROCESSING;if(x===y.END)return M===y.PROCESSING||M===y.START;if(x===y.ROLLBACK){if(k[y.END])return M===y.END;if(M===y.START)return!0}return!1},m.prototype.isAllowExcute=function(x,M){if(this.isAllowStep(x)){var k=this.getKey(x,M);return M.once&&this.emitCaches[k]?!1:M.isEnable?M.isEnable(this.context):!0}return!1},m.prototype.enterStep=function(x){this.currentStepName=x,this.emitCaches={}},m.prototype.afterExecute=function(x,M){x!==y.SHOW_ENABLE&&this.currentStepName!==x&&this.enterStep(x);var k=this.getKey(x,M);this.emitCaches[k]=!0},m.prototype.getKey=function(x,M){return x+M.trigger+M.action},m.prototype.getActionCallback=function(x,M){var k=this,_=this.context,B=this.callbackCaches,z=M.actionObject;if(M.action&&z){var W=this.getKey(x,M);if(!B[W]){var R=function(K){_.event=K,k.isAllowExcute(x,M)?(P.isArray(z)?P.each(z,function(ut){_.event=K,S(ut)}):(_.event=K,S(z)),k.afterExecute(x,M),M.callback&&(_.event=K,M.callback(_))):_.event=null};M.debounce?B[W]=P.debounce(R,M.debounce.wait,M.debounce.immediate):M.throttle?B[W]=P.throttle(R,M.throttle.wait,{leading:M.throttle.leading,trailing:M.throttle.trailing}):B[W]=R}return B[W]}return null},m.prototype.bindEvent=function(x,M){var k=x.split(":");k[0]==="window"?window.addEventListener(k[1],M):k[0]==="document"?document.addEventListener(k[1],M):this.view.on(x,M)},m.prototype.offEvent=function(x,M){var k=x.split(":");k[0]==="window"?window.removeEventListener(k[1],M):k[0]==="document"?document.removeEventListener(k[1],M):this.view.off(x,M)},m}(A.default);d=b},91513:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(){function d(T,P){this.view=T,this.cfg=P}return d.prototype.init=function(){this.initEvents()},d.prototype.initEvents=function(){},d.prototype.clearEvents=function(){},d.prototype.destroy=function(){this.clearEvents()},d}();C.default=v},85800:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.toPoints=C.getRegionBBox=C.BBox=void 0;var d=v(49242),T=v(29583),P=function(){function O(A,E,S,y){A===void 0&&(A=0),E===void 0&&(E=0),S===void 0&&(S=0),y===void 0&&(y=0),this.x=A,this.y=E,this.height=y,this.width=S}return O.fromRange=function(A,E,S,y){return new O(A,E,S-A,y-E)},Object.defineProperty(O.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),O.prototype.isEqual=function(A){return this.x===A.x&&this.y===A.y&&this.width===A.width&&this.height===A.height},O.prototype.clone=function(){return new O(this.x,this.y,this.width,this.height)},O.prototype.add=function(){for(var A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];var S=this.clone();return d.each(A,function(y){S.x=Math.min(y.x,S.x),S.y=Math.min(y.y,S.y),S.width=Math.max(y.maxX,S.maxX)-S.x,S.height=Math.max(y.maxY,S.maxY)-S.y}),S},O.prototype.merge=function(){for(var A=[],E=0;E<arguments.length;E++)A[E]=arguments[E];var S=this.clone();return d.each(A,function(y){S.x=Math.max(y.x,S.x),S.y=Math.max(y.y,S.y),S.width=Math.min(y.maxX,S.maxX)-S.x,S.height=Math.min(y.maxY,S.maxY)-S.y}),S},O.prototype.cut=function(A,E){var S=A.width,y=A.height;switch(E){case T.DIRECTION.TOP:case T.DIRECTION.TOP_LEFT:case T.DIRECTION.TOP_RIGHT:return O.fromRange(this.minX,this.minY+y,this.maxX,this.maxY);case T.DIRECTION.RIGHT:case T.DIRECTION.RIGHT_TOP:case T.DIRECTION.RIGHT_BOTTOM:return O.fromRange(this.minX,this.minY,this.maxX-S,this.maxY);case T.DIRECTION.BOTTOM:case T.DIRECTION.BOTTOM_LEFT:case T.DIRECTION.BOTTOM_RIGHT:return O.fromRange(this.minX,this.minY,this.maxX,this.maxY-y);case T.DIRECTION.LEFT:case T.DIRECTION.LEFT_TOP:case T.DIRECTION.LEFT_BOTTOM:return O.fromRange(this.minX+S,this.minY,this.maxX,this.maxY);default:return this}},O.prototype.shrink=function(A){var E=A[0],S=A[1],y=A[2],b=A[3];return new O(this.x+b,this.y+E,this.width-b-S,this.height-E-y)},O.prototype.exceed=function(A){return[Math.max(-this.minY+A.minY,0),Math.max(this.maxX-A.maxX,0),Math.max(this.maxY-A.maxY,0),Math.max(-this.minX+A.minX,0)]},O.prototype.size=function(){return this.width*this.height},O}();C.BBox=P,C.getRegionBBox=function(O,A){var E=A.start,S=A.end;return new P(O.x+O.width*E.x,O.y+O.height*E.y,O.width*Math.abs(S.x-E.x),O.height*Math.abs(S.y-E.y))};function I(O){return[[O.minX,O.minY],[O.maxX,O.minY],[O.maxX,O.maxY],[O.minX,O.maxY]]}C.toPoints=I},22514:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getCoordinateClipCfg=C.getAngleByPoint=C.isPointInCoordinate=C.getDistanceToCenter=C.isFullCircle=C.getXDimensionLength=void 0;var d=v(42770),T=v(86630);function P(y){if(y.isPolar&&!y.isTransposed)return(y.endAngle-y.startAngle)*y.getRadius();var b=y.convert({x:0,y:0}),p=y.convert({x:1,y:0});return Math.sqrt(Math.pow(p.x-b.x,2)+Math.pow(p.y-b.y,2))}C.getXDimensionLength=P;function I(y){if(y.isPolar){var b=y.startAngle,p=y.endAngle;return p-b==Math.PI*2}return!1}C.isFullCircle=I;function O(y,b){var p=y.getCenter();return Math.sqrt(Math.pow(b.x-p.x,2)+Math.pow(b.y-p.y,2))}C.getDistanceToCenter=O;function A(y,b){var p=!1;if(y)if(y.type==="theta"){var m=y.start,x=y.end;p=T.isBetween(b.x,m.x,x.x)&&T.isBetween(b.y,m.y,x.y)}else{var M=y.invert(b);p=T.isBetween(M.x,0,1)&&T.isBetween(M.y,0,1)}return p}C.isPointInCoordinate=A;function E(y,b){var p=y.getCenter();return Math.atan2(b.y-p.y,b.x-p.x)}C.getAngleByPoint=E;function S(y,b){b===void 0&&(b=0);var p=y.start,m=y.end,x=y.getWidth(),M=y.getHeight();if(y.isPolar){var k=y.startAngle,_=y.endAngle,B=y.getCenter(),z=y.getRadius();return{type:"path",startState:{path:d.getSectorPath(B.x,B.y,z+b,k,k)},endState:function(R){var K=(_-k)*R+k,ut=d.getSectorPath(B.x,B.y,z+b,k,K);return{path:ut}},attrs:{path:d.getSectorPath(B.x,B.y,z+b,k,_)}}}var W;return y.isTransposed?W={height:M+b*2}:W={width:x+b*2},{type:"rect",startState:{x:p.x-b,y:m.y-b,width:y.isTransposed?x+b*2:0,height:y.isTransposed?0:M+b*2},endState:W,attrs:{x:p.x-b,y:m.y-b,width:x+b*2,height:M+b*2}}}C.getCoordinateClipCfg=S},42770:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getReplaceAttrs=C.getPolygonCentroid=C.getAngle=C.getArcPath=C.getSectorPath=C.polarToCartesian=void 0;var d=v(49242);function T(y){if(d.isEmpty(y))return null;var b=y[0].x,p=y[0].x,m=y[0].y,x=y[0].y;return d.each(y,function(M){b=b>M.x?M.x:b,p=p<M.x?M.x:p,m=m>M.y?M.y:m,x=x<M.y?M.y:x}),{minX:b,maxX:p,minY:m,maxY:x,centerX:(b+p)/2,centerY:(m+x)/2}}function P(y,b,p,m){return{x:y+p*Math.cos(m),y:b+p*Math.sin(m)}}C.polarToCartesian=P;function I(y,b,p,m,x,M){M===void 0&&(M=0);var k=P(y,b,p,m),_=P(y,b,p,x),B=P(y,b,M,m),z=P(y,b,M,x);if(x-m==Math.PI*2){var W=P(y,b,p,m+Math.PI),R=P(y,b,M,m+Math.PI),K=[["M",k.x,k.y],["A",p,p,0,1,1,W.x,W.y],["A",p,p,0,1,1,_.x,_.y],["M",B.x,B.y]];return M&&(K.push(["A",M,M,0,1,0,R.x,R.y]),K.push(["A",M,M,0,1,0,z.x,z.y])),K.push(["M",k.x,k.y]),K.push(["Z"]),K}var ut=x-m<=Math.PI?0:1,ot=[["M",k.x,k.y],["A",p,p,0,ut,1,_.x,_.y],["L",z.x,z.y]];return M&&ot.push(["A",M,M,0,ut,0,B.x,B.y]),ot.push(["L",k.x,k.y]),ot.push(["Z"]),ot}C.getSectorPath=I;function O(y,b,p,m,x){var M=P(y,b,p,m),k=P(y,b,p,x);if(d.isNumberEqual(x-m,Math.PI*2)){var _=P(y,b,p,m+Math.PI);return[["M",M.x,M.y],["A",p,p,0,1,1,_.x,_.y],["A",p,p,0,1,1,M.x,M.y],["A",p,p,0,1,0,_.x,_.y],["A",p,p,0,1,0,M.x,M.y],["Z"]]}var B=x-m<=Math.PI?0:1;return[["M",M.x,M.y],["A",p,p,0,B,1,k.x,k.y]]}C.getArcPath=O;function A(y,b){var p=y.points,m=T(p),x,M,k=b.startAngle,_=b.endAngle,B=_-k;return b.isTransposed?(x=m.maxY*B,M=m.minY*B):(x=m.maxX*B,M=m.minX*B),x+=k,M+=k,{startAngle:M,endAngle:x}}C.getAngle=A;function E(y,b){if(d.isNumber(y)&&d.isNumber(b))return[y,b];for(var p=-1,m=0,x=0,M,k=y.length-1,_,B=0;++p<y.length;)M=k,k=p,B+=_=y[M]*b[k]-y[k]*b[M],m+=(y[M]+y[k])*_,x+=(b[M]+b[k])*_;return B*=3,[m/B,x/B]}C.getPolygonCentroid=E;function S(y,b){var p=y.attr(),m=b.attr();return d.each(p,function(x,M){m[M]===void 0&&(m[M]=void 0)}),m}C.getReplaceAttrs=S},86630:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.uniq=C.omit=C.padEnd=C.isBetween=void 0;var d=v(49242);function T(A,E,S){var y=Math.min(E,S),b=Math.max(E,S);return A>=y&&A<=b}C.isBetween=T;function P(A,E,S){if(d.isString(A))return A.padEnd(E,S);if(d.isArray(A)){var y=A.length;if(y<E)for(var b=E-y,p=0;p<b;p++)A.push(S)}return A}C.padEnd=P;function I(A,E){return E.forEach(function(S){delete A[S]}),A}C.omit=I;function O(A,E,S){E===void 0&&(E=[]),S===void 0&&(S={});for(var y=0,b=A;y<b.length;y++){var p=b[y];S[p]||(E.push(p),S[p]=!0)}return E}C.uniq=O},6750:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.MarkerSymbols=void 0,C.MarkerSymbols={hexagon:function(v,d,T){var P=T/2*Math.sqrt(3);return[["M",v,d-T],["L",v+P,d-T/2],["L",v+P,d+T/2],["L",v,d+T],["L",v-P,d+T/2],["L",v-P,d-T/2],["Z"]]},bowtie:function(v,d,T){var P=T-1.5;return[["M",v-T,d-P],["L",v+T,d+P],["L",v+T,d-P],["L",v-T,d+P],["Z"]]},cross:function(v,d,T){return[["M",v-T,d-T],["L",v+T,d+T],["M",v+T,d-T],["L",v-T,d+T]]},tick:function(v,d,T){return[["M",v-T/2,d-T],["L",v+T/2,d-T],["M",v,d-T],["L",v,d+T],["M",v-T/2,d+T],["L",v+T/2,d+T]]},plus:function(v,d,T){return[["M",v-T,d],["L",v+T,d],["M",v,d-T],["L",v,d+T]]},hyphen:function(v,d,T){return[["M",v-T,d],["L",v+T,d]]},line:function(v,d,T){return[["M",v,d-T],["L",v,d+T]]}}},16854:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getName=C.syncScale=C.createScaleByField=void 0;var d=v(70655),T=v(49242),P=v(57029),I=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function O(y){var b="linear";return I.test(y)?b="time":T.isString(y)&&(b="cat"),b}function A(y,b,p){var m=b||[];if(T.isNumber(y)||T.isNil(T.firstValue(m,y))&&T.isEmpty(p)){var x=P.getScale("identity");return new x({field:y.toString(),values:[y]})}var M=T.valuesOfKey(m,y),k=T.get(p,"type",O(M[0])),_=P.getScale(k);return new _(d.__assign({field:y,values:M},p))}C.createScaleByField=A;function E(y,b){if(y.type!=="identity"&&b.type!=="identity"){var p={};for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(p[m]=b[m]);y.change(p)}}C.syncScale=E;function S(y){return y.alias||y.field}C.getName=S},99677:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getTooltipItems=C.findDataByPoint=void 0;var d=v(70655),T=v(49242),P=v(29583),I=v(16854);function O(_,B,z){var W=z.translate(_),R=z.translate(B);return T.isNumberEqual(W,R)}function A(_,B){var z=B.coordinate,W=B.getXScale(),R=W.range,K=R[R.length-1],ut=R[0],ot=z.invert(_),dt=ot.x;return z.isPolar&&dt>(1+K)/2&&(dt=ut),W.translate(W.invert(dt))}function E(_,B,z){var W=z.coordinate,R=z.getYScale(),K=R.field,ut=W.invert(B),ot=R.invert(ut.y),dt=T.find(_,function(nt){var yt=nt[P.FIELD_ORIGIN];return yt[K][0]<=ot&&yt[K][1]>=ot});return dt||_[_.length-1]}var S=T.memoize(function(_){if(_.isCategory)return 1;for(var B=_.values,z=B.length,W=_.translate(B[0]),R=W,K=0;K<z;K++){var ut=B[K],ot=_.translate(ut);ot<W&&(W=ot),ot>R&&(R=ot)}return(R-W)/(z-1)});function y(_,B,z){var W=z;if(!z){var R=B.getAttribute("position"),K=R.getFields();W=K[0]}var ut=B.scales;return ut[W]?ut[W].getText(_[W]):T.hasKey(_,W)?_[W]:W}function b(_){var B=T.values(_.attributes);return T.filter(B,function(z){return T.contains(P.GROUP_ATTRS,z.type)})}function p(_){for(var B=b(_),z,W=0,R=B;W<R.length;W++){var K=R[W],ut=K.getScale(K.type);if(ut&&ut.isLinear){z=ut;break}}var ot=_.getXScale(),dt=_.getYScale();return z||dt||ot}function m(_,B){var z=B.field,W=_[z];if(T.isArray(W)){var R=W.map(function(K){return B.getText(K)});return R.join("-")}return B.getText(W)}function x(_,B){var z,W=B.getGroupScales();if(W.length&&(z=W[0]),z){var R=z.field;return z.getText(_[R])}var K=p(B);return I.getName(K)}function M(_,B,z){if(B.length===0)return null;var W=z.type,R=z.getXScale(),K=z.getYScale(),ut=R.field,ot=K.field,dt=null;if(W==="heatmap"||W==="point"){for(var nt=z.coordinate,yt=nt.invert(_),tt=R.invert(yt.x),J=K.invert(yt.y),ft=Infinity,rt=0;rt<B.length;rt++){var St=B[rt],wt=St[P.FIELD_ORIGIN],q=Math.pow(wt[ut]-tt,2)+Math.pow(wt[ot]-J,2);q<ft&&(ft=q,dt=St)}return dt}var it=B[0],Q=B[B.length-1],f=A(_,z),vt=it[P.FIELD_ORIGIN][ut],It=it[P.FIELD_ORIGIN][ot],Qt=Q[P.FIELD_ORIGIN][ut],Se=K.isLinear&&T.isArray(It);if(T.isArray(vt)){for(var rt=0;rt<B.length;rt++){var $t=B[rt],wt=$t[P.FIELD_ORIGIN];if(R.translate(wt[ut][0])<=f&&R.translate(wt[ut][1])>=f)if(Se)T.isArray(dt)||(dt=[]),dt.push($t);else{dt=$t;break}}T.isArray(dt)&&(dt=E(dt,_,z))}else{var re=void 0;if(!R.isLinear&&R.type!=="timeCat"){for(var rt=0;rt<B.length;rt++){var $t=B[rt],wt=$t[P.FIELD_ORIGIN];if(O(wt[ut],f,R))if(Se)T.isArray(dt)||(dt=[]),dt.push($t);else{dt=$t;break}else R.translate(wt[ut])<=f&&(Q=$t,re=B[rt+1])}T.isArray(dt)&&(dt=E(dt,_,z))}else{if((f>R.translate(Qt)||f<R.translate(vt))&&(f>R.max||f<R.min))return null;for(var he=0,Me=B.length-1,le=void 0;he<=Me;){le=Math.floor((he+Me)/2);var Rt=B[le][P.FIELD_ORIGIN][ut];if(O(Rt,f,R))return B[le];R.translate(Rt)<=R.translate(f)?(he=le+1,Q=B[le],re=B[le+1]):(Me===0&&(Q=B[0]),Me=le-1)}}Q&&re&&Math.abs(R.translate(Q[P.FIELD_ORIGIN][ut])-f)>Math.abs(R.translate(re[P.FIELD_ORIGIN][ut])-f)&&(Q=re)}var Ot=S(z.getXScale());return!dt&&Math.abs(R.translate(Q[P.FIELD_ORIGIN][ut])-f)<=Ot/2&&(dt=Q),dt}C.findDataByPoint=M;function k(_,B,z){z===void 0&&(z="");var W=_[P.FIELD_ORIGIN],R=y(W,B,z),K=B.tooltipOption,ut=B.theme.defaultColor,ot=[],dt,nt;function yt(It,Qt){if(!T.isNil(Qt)&&Qt!==""){var Se={title:R,data:W,mappingData:_,name:It,value:Qt,color:_.color||ut,marker:!0};ot.push(Se)}}if(T.isObject(K)){var tt=K.fields,J=K.callback;if(J){var ft=tt.map(function(It){return _[P.FIELD_ORIGIN][It]}),rt=J.apply(void 0,ft),St=d.__assign({data:_[P.FIELD_ORIGIN],mappingData:_,title:R,color:_.color||ut,marker:!0},rt);ot.push(St)}else for(var wt=B.scales,q=0,it=tt;q<it.length;q++){var Q=it[q];if(!T.isNil(W[Q])){var f=wt[Q];dt=I.getName(f),nt=f.getText(W[Q]),yt(dt,nt)}}}else{var vt=p(B);T.isNil(W[vt.field])||(nt=m(W,vt),dt=x(W,B),yt(dt,nt))}return ot}C.getTooltipItems=k},25155:function(ct){"use strict";var C=!1,v=function(){};if(C){var d=function(P,I){var O=arguments.length;I=new Array(O>1?O-1:0);for(var A=1;A<O;A++)I[A-1]=arguments[A];var E=0,S="Warning: "+P.replace(/%s/g,function(){return I[E++]});typeof console!="undefined"&&console.error(S);try{throw new Error(S)}catch(y){}};v=function(T,P,I){var O=arguments.length;I=new Array(O>2?O-2:0);for(var A=2;A<O;A++)I[A-2]=arguments[A];if(P===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");T||d.apply(null,[P].concat(I))}}ct.exports=v},29126:function(ct,C,v){"use strict";v.r(C),v.d(C,{AbstractCanvas:function(){return vn},AbstractGroup:function(){return Gn},AbstractShape:function(){return Oi},Base:function(){return Ft},Event:function(){return $t},PathUtil:function(){return d},assembleFont:function(){return xa},getBBoxMethod:function(){return Wi},getOffScreenContext:function(){return ma},getTextHeight:function(){return Oa},invert:function(){return Nr},isAllowCapture:function(){return gt},multiplyVec2:function(){return _r},registerBBox:function(){return gi},registerEasing:function(){return V},version:function(){return co}});var d={};v.r(d),v.d(d,{catmullRomToBezier:function(){return E},fillPath:function(){return wt},fillPathByDiff:function(){return f},formatPath:function(){return Qt},intersection:function(){return J},parsePathArray:function(){return k},parsePathString:function(){return A},pathToAbsolute:function(){return y},pathToCurve:function(){return x},rectPath:function(){return K}});var T=v(49242),P=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+P+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+P+"]*,?["+P+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+P+"]*,?["+P+"]*","ig"),A=function(Et){if(!Et)return null;if((0,T.isArray)(Et))return Et;var pt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},at=[];return String(Et).replace(I,function(ht,Lt,Vt){var de=[],Ee=Lt.toLowerCase();if(Vt.replace(O,function(Ae,Re){Re&&de.push(+Re)}),Ee==="m"&&de.length>2&&(at.push([Lt].concat(de.splice(0,2))),Ee="l",Lt=Lt==="m"?"l":"L"),Ee==="o"&&de.length===1&&at.push([Lt,de[0]]),Ee==="r")at.push([Lt].concat(de));else for(;de.length>=pt[Ee]&&(at.push([Lt].concat(de.splice(0,pt[Ee]))),!!pt[Ee]););return Et}),at},E=function(Et,pt){for(var at=[],ht=0,Lt=Et.length;Lt-2*!pt>ht;ht+=2){var Vt=[{x:+Et[ht-2],y:+Et[ht-1]},{x:+Et[ht],y:+Et[ht+1]},{x:+Et[ht+2],y:+Et[ht+3]},{x:+Et[ht+4],y:+Et[ht+5]}];pt?ht?Lt-4===ht?Vt[3]={x:+Et[0],y:+Et[1]}:Lt-2===ht&&(Vt[2]={x:+Et[0],y:+Et[1]},Vt[3]={x:+Et[2],y:+Et[3]}):Vt[0]={x:+Et[Lt-2],y:+Et[Lt-1]}:Lt-4===ht?Vt[3]=Vt[2]:ht||(Vt[0]={x:+Et[ht],y:+Et[ht+1]}),at.push(["C",(-Vt[0].x+6*Vt[1].x+Vt[2].x)/6,(-Vt[0].y+6*Vt[1].y+Vt[2].y)/6,(Vt[1].x+6*Vt[2].x-Vt[3].x)/6,(Vt[1].y+6*Vt[2].y-Vt[3].y)/6,Vt[2].x,Vt[2].y])}return at},S=function(Et,pt,at,ht,Lt){var Vt=[];if(Lt===null&&ht===null&&(ht=at),Et=+Et,pt=+pt,at=+at,ht=+ht,Lt!==null){var de=Math.PI/180,Ee=Et+at*Math.cos(-ht*de),Ae=Et+at*Math.cos(-Lt*de),Re=pt+at*Math.sin(-ht*de),Je=pt+at*Math.sin(-Lt*de);Vt=[["M",Ee,Re],["A",at,at,0,+(Lt-ht>180),0,Ae,Je]]}else Vt=[["M",Et,pt],["m",0,-ht],["a",at,ht,0,1,1,0,2*ht],["a",at,ht,0,1,1,0,-2*ht],["z"]];return Vt},y=function(Et){if(Et=A(Et),!Et||!Et.length)return[["M",0,0]];var pt=[],at=0,ht=0,Lt=0,Vt=0,de=0,Ee,Ae;Et[0][0]==="M"&&(at=+Et[0][1],ht=+Et[0][2],Lt=at,Vt=ht,de++,pt[0]=["M",at,ht]);for(var Re=Et.length===3&&Et[0][0]==="M"&&Et[1][0].toUpperCase()==="R"&&Et[2][0].toUpperCase()==="Z",Je=void 0,qe=void 0,sr=de,Ir=Et.length;sr<Ir;sr++){if(pt.push(Je=[]),qe=Et[sr],Ee=qe[0],Ee!==Ee.toUpperCase())switch(Je[0]=Ee.toUpperCase(),Je[0]){case"A":Je[1]=qe[1],Je[2]=qe[2],Je[3]=qe[3],Je[4]=qe[4],Je[5]=qe[5],Je[6]=+qe[6]+at,Je[7]=+qe[7]+ht;break;case"V":Je[1]=+qe[1]+ht;break;case"H":Je[1]=+qe[1]+at;break;case"R":Ae=[at,ht].concat(qe.slice(1));for(var er=2,qr=Ae.length;er<qr;er++)Ae[er]=+Ae[er]+at,Ae[++er]=+Ae[er]+ht;pt.pop(),pt=pt.concat(E(Ae,Re));break;case"O":pt.pop(),Ae=S(at,ht,qe[1],qe[2]),Ae.push(Ae[0]),pt=pt.concat(Ae);break;case"U":pt.pop(),pt=pt.concat(S(at,ht,qe[1],qe[2],qe[3])),Je=["U"].concat(pt[pt.length-1].slice(-2));break;case"M":Lt=+qe[1]+at,Vt=+qe[2]+ht;break;default:for(var er=1,qr=qe.length;er<qr;er++)Je[er]=+qe[er]+(er%2?at:ht)}else if(Ee==="R")Ae=[at,ht].concat(qe.slice(1)),pt.pop(),pt=pt.concat(E(Ae,Re)),Je=["R"].concat(qe.slice(-2));else if(Ee==="O")pt.pop(),Ae=S(at,ht,qe[1],qe[2]),Ae.push(Ae[0]),pt=pt.concat(Ae);else if(Ee==="U")pt.pop(),pt=pt.concat(S(at,ht,qe[1],qe[2],qe[3])),Je=["U"].concat(pt[pt.length-1].slice(-2));else for(var Xt=0,bt=qe.length;Xt<bt;Xt++)Je[Xt]=qe[Xt];if(Ee=Ee.toUpperCase(),Ee!=="O")switch(Je[0]){case"Z":at=+Lt,ht=+Vt;break;case"H":at=Je[1];break;case"V":ht=Je[1];break;case"M":Lt=Je[Je.length-2],Vt=Je[Je.length-1];break;default:at=Je[Je.length-2],ht=Je[Je.length-1]}}return pt},b=function(Et,pt,at,ht){return[Et,pt,at,ht,at,ht]},p=function(Et,pt,at,ht,Lt,Vt){var de=1/3,Ee=2/3;return[de*Et+Ee*at,de*pt+Ee*ht,de*Lt+Ee*at,de*Vt+Ee*ht,Lt,Vt]},m=function(Et,pt,at,ht,Lt,Vt,de,Ee,Ae,Re){at===ht&&(at+=1);var Je=Math.PI*120/180,qe=Math.PI/180*(+Lt||0),sr=[],Ir,er,qr,Xt,bt,F=function(Rn,bi,Ii){var oa=Rn*Math.cos(Ii)-bi*Math.sin(Ii),Po=Rn*Math.sin(Ii)+bi*Math.cos(Ii);return{x:oa,y:Po}};if(Re)er=Re[0],qr=Re[1],Xt=Re[2],bt=Re[3];else{Ir=F(Et,pt,-qe),Et=Ir.x,pt=Ir.y,Ir=F(Ee,Ae,-qe),Ee=Ir.x,Ae=Ir.y,Et===Ee&&pt===Ae&&(Ee+=1,Ae+=1);var U=(Et-Ee)/2,lt=(pt-Ae)/2,Mt=U*U/(at*at)+lt*lt/(ht*ht);Mt>1&&(Mt=Math.sqrt(Mt),at=Mt*at,ht=Mt*ht);var Gt=at*at,Kt=ht*ht,ge=(Vt===de?-1:1)*Math.sqrt(Math.abs((Gt*Kt-Gt*lt*lt-Kt*U*U)/(Gt*lt*lt+Kt*U*U)));Xt=ge*at*lt/ht+(Et+Ee)/2,bt=ge*-ht*U/at+(pt+Ae)/2,er=Math.asin(((pt-bt)/ht).toFixed(9)),qr=Math.asin(((Ae-bt)/ht).toFixed(9)),er=Et<Xt?Math.PI-er:er,qr=Ee<Xt?Math.PI-qr:qr,er<0&&(er=Math.PI*2+er),qr<0&&(qr=Math.PI*2+qr),de&&er>qr&&(er=er-Math.PI*2),!de&&qr>er&&(qr=qr-Math.PI*2)}var Te=qr-er;if(Math.abs(Te)>Je){var Ye=qr,Ze=Ee,pr=Ae;qr=er+Je*(de&&qr>er?1:-1),Ee=Xt+at*Math.cos(qr),Ae=bt+ht*Math.sin(qr),sr=m(Ee,Ae,at,ht,Lt,0,de,Ze,pr,[qr,Ye,Xt,bt])}Te=qr-er;var Cr=Math.cos(er),Vr=Math.sin(er),sn=Math.cos(qr),rn=Math.sin(qr),An=Math.tan(Te/4),In=4/3*at*An,Pn=4/3*ht*An,zt=[Et,pt],pe=[Et+In*Vr,pt-Pn*Cr],ke=[Ee+In*rn,Ae-Pn*sn],Ve=[Ee,Ae];if(pe[0]=2*zt[0]-pe[0],pe[1]=2*zt[1]-pe[1],Re)return[pe,ke,Ve].concat(sr);sr=[pe,ke,Ve].concat(sr).join().split(",");for(var cr=[],Rr=0,cn=sr.length;Rr<cn;Rr++)cr[Rr]=Rr%2?F(sr[Rr-1],sr[Rr],qe).y:F(sr[Rr],sr[Rr+1],qe).x;return cr},x=function(Et,pt){var at=y(Et),ht=pt&&y(pt),Lt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Vt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},de=[],Ee=[],Ae="",Re="",Je,qe=function(U,lt,Mt){var Gt,Kt;if(!U)return["C",lt.x,lt.y,lt.x,lt.y,lt.x,lt.y];switch(!(U[0]in{T:1,Q:1})&&(lt.qx=lt.qy=null),U[0]){case"M":lt.X=U[1],lt.Y=U[2];break;case"A":U=["C"].concat(m.apply(0,[lt.x,lt.y].concat(U.slice(1))));break;case"S":Mt==="C"||Mt==="S"?(Gt=lt.x*2-lt.bx,Kt=lt.y*2-lt.by):(Gt=lt.x,Kt=lt.y),U=["C",Gt,Kt].concat(U.slice(1));break;case"T":Mt==="Q"||Mt==="T"?(lt.qx=lt.x*2-lt.qx,lt.qy=lt.y*2-lt.qy):(lt.qx=lt.x,lt.qy=lt.y),U=["C"].concat(p(lt.x,lt.y,lt.qx,lt.qy,U[1],U[2]));break;case"Q":lt.qx=U[1],lt.qy=U[2],U=["C"].concat(p(lt.x,lt.y,U[1],U[2],U[3],U[4]));break;case"L":U=["C"].concat(b(lt.x,lt.y,U[1],U[2]));break;case"H":U=["C"].concat(b(lt.x,lt.y,U[1],lt.y));break;case"V":U=["C"].concat(b(lt.x,lt.y,lt.x,U[1]));break;case"Z":U=["C"].concat(b(lt.x,lt.y,lt.X,lt.Y));break;default:break}return U},sr=function(U,lt){if(U[lt].length>7){U[lt].shift();for(var Mt=U[lt];Mt.length;)de[lt]="A",ht&&(Ee[lt]="A"),U.splice(lt++,0,["C"].concat(Mt.splice(0,6)));U.splice(lt,1),Je=Math.max(at.length,ht&&ht.length||0)}},Ir=function(U,lt,Mt,Gt,Kt){U&&lt&&U[Kt][0]==="M"&&lt[Kt][0]!=="M"&&(lt.splice(Kt,0,["M",Gt.x,Gt.y]),Mt.bx=0,Mt.by=0,Mt.x=U[Kt][1],Mt.y=U[Kt][2],Je=Math.max(at.length,ht&&ht.length||0))};Je=Math.max(at.length,ht&&ht.length||0);for(var er=0;er<Je;er++){at[er]&&(Ae=at[er][0]),Ae!=="C"&&(de[er]=Ae,er&&(Re=de[er-1])),at[er]=qe(at[er],Lt,Re),de[er]!=="A"&&Ae==="C"&&(de[er]="C"),sr(at,er),ht&&(ht[er]&&(Ae=ht[er][0]),Ae!=="C"&&(Ee[er]=Ae,er&&(Re=Ee[er-1])),ht[er]=qe(ht[er],Vt,Re),Ee[er]!=="A"&&Ae==="C"&&(Ee[er]="C"),sr(ht,er)),Ir(at,ht,Lt,Vt,er),Ir(ht,at,Vt,Lt,er);var qr=at[er],Xt=ht&&ht[er],bt=qr.length,F=ht&&Xt.length;Lt.x=qr[bt-2],Lt.y=qr[bt-1],Lt.bx=parseFloat(qr[bt-4])||Lt.x,Lt.by=parseFloat(qr[bt-3])||Lt.y,Vt.bx=ht&&(parseFloat(Xt[F-4])||Vt.x),Vt.by=ht&&(parseFloat(Xt[F-3])||Vt.y),Vt.x=ht&&Xt[F-2],Vt.y=ht&&Xt[F-1]}return ht?[at,ht]:at},M=/,?([a-z]),?/gi,k=function(Et){return Et.join(",").replace(M,"$1")},_=function(Et,pt,at,ht,Lt){var Vt=-3*pt+9*at-9*ht+3*Lt,de=Et*Vt+6*pt-12*at+6*ht;return Et*de-3*pt+3*at},B=function(Et,pt,at,ht,Lt,Vt,de,Ee,Ae){Ae===null&&(Ae=1),Ae=Ae>1?1:Ae<0?0:Ae;for(var Re=Ae/2,Je=12,qe=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],sr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ir=0,er=0;er<Je;er++){var qr=Re*qe[er]+Re,Xt=_(qr,Et,at,Lt,de),bt=_(qr,pt,ht,Vt,Ee),F=Xt*Xt+bt*bt;Ir+=sr[er]*Math.sqrt(F)}return Re*Ir},z=function(Et,pt,at,ht,Lt,Vt,de,Ee){for(var Ae=[],Re=[[],[]],Je,qe,sr,Ir,er=0;er<2;++er){if(er===0?(qe=6*Et-12*at+6*Lt,Je=-3*Et+9*at-9*Lt+3*de,sr=3*at-3*Et):(qe=6*pt-12*ht+6*Vt,Je=-3*pt+9*ht-9*Vt+3*Ee,sr=3*ht-3*pt),Math.abs(Je)<1e-12){if(Math.abs(qe)<1e-12)continue;Ir=-sr/qe,Ir>0&&Ir<1&&Ae.push(Ir);continue}var qr=qe*qe-4*sr*Je,Xt=Math.sqrt(qr);if(!(qr<0)){var bt=(-qe+Xt)/(2*Je);bt>0&&bt<1&&Ae.push(bt);var F=(-qe-Xt)/(2*Je);F>0&&F<1&&Ae.push(F)}}for(var U=Ae.length,lt=U,Mt;U--;)Ir=Ae[U],Mt=1-Ir,Re[0][U]=Mt*Mt*Mt*Et+3*Mt*Mt*Ir*at+3*Mt*Ir*Ir*Lt+Ir*Ir*Ir*de,Re[1][U]=Mt*Mt*Mt*pt+3*Mt*Mt*Ir*ht+3*Mt*Ir*Ir*Vt+Ir*Ir*Ir*Ee;return Re[0][lt]=Et,Re[1][lt]=pt,Re[0][lt+1]=de,Re[1][lt+1]=Ee,Re[0].length=Re[1].length=lt+2,{min:{x:Math.min.apply(0,Re[0]),y:Math.min.apply(0,Re[1])},max:{x:Math.max.apply(0,Re[0]),y:Math.max.apply(0,Re[1])}}},W=function(Et,pt,at,ht,Lt,Vt,de,Ee){if(!(Math.max(Et,at)<Math.min(Lt,de)||Math.min(Et,at)>Math.max(Lt,de)||Math.max(pt,ht)<Math.min(Vt,Ee)||Math.min(pt,ht)>Math.max(Vt,Ee))){var Ae=(Et*ht-pt*at)*(Lt-de)-(Et-at)*(Lt*Ee-Vt*de),Re=(Et*ht-pt*at)*(Vt-Ee)-(pt-ht)*(Lt*Ee-Vt*de),Je=(Et-at)*(Vt-Ee)-(pt-ht)*(Lt-de);if(!!Je){var qe=Ae/Je,sr=Re/Je,Ir=+qe.toFixed(2),er=+sr.toFixed(2);if(!(Ir<+Math.min(Et,at).toFixed(2)||Ir>+Math.max(Et,at).toFixed(2)||Ir<+Math.min(Lt,de).toFixed(2)||Ir>+Math.max(Lt,de).toFixed(2)||er<+Math.min(pt,ht).toFixed(2)||er>+Math.max(pt,ht).toFixed(2)||er<+Math.min(Vt,Ee).toFixed(2)||er>+Math.max(Vt,Ee).toFixed(2)))return{x:qe,y:sr}}}},R=function(Et,pt,at){return pt>=Et.x&&pt<=Et.x+Et.width&&at>=Et.y&&at<=Et.y+Et.height},K=function(Et,pt,at,ht,Lt){if(Lt)return[["M",+Et+ +Lt,pt],["l",at-Lt*2,0],["a",Lt,Lt,0,0,1,Lt,Lt],["l",0,ht-Lt*2],["a",Lt,Lt,0,0,1,-Lt,Lt],["l",Lt*2-at,0],["a",Lt,Lt,0,0,1,-Lt,-Lt],["l",0,Lt*2-ht],["a",Lt,Lt,0,0,1,Lt,-Lt],["z"]];var Vt=[["M",Et,pt],["l",at,0],["l",0,ht],["l",-at,0],["z"]];return Vt.parsePathArray=k,Vt},ut=function(Et,pt,at,ht){return Et===null&&(Et=pt=at=ht=0),pt===null&&(pt=Et.y,at=Et.width,ht=Et.height,Et=Et.x),{x:Et,y:pt,width:at,w:at,height:ht,h:ht,x2:Et+at,y2:pt+ht,cx:Et+at/2,cy:pt+ht/2,r1:Math.min(at,ht)/2,r2:Math.max(at,ht)/2,r0:Math.sqrt(at*at+ht*ht)/2,path:K(Et,pt,at,ht),vb:[Et,pt,at,ht].join(" ")}},ot=function(Et,pt){return Et=ut(Et),pt=ut(pt),R(pt,Et.x,Et.y)||R(pt,Et.x2,Et.y)||R(pt,Et.x,Et.y2)||R(pt,Et.x2,Et.y2)||R(Et,pt.x,pt.y)||R(Et,pt.x2,pt.y)||R(Et,pt.x,pt.y2)||R(Et,pt.x2,pt.y2)||(Et.x<pt.x2&&Et.x>pt.x||pt.x<Et.x2&&pt.x>Et.x)&&(Et.y<pt.y2&&Et.y>pt.y||pt.y<Et.y2&&pt.y>Et.y)},dt=function(Et,pt,at,ht,Lt,Vt,de,Ee){(0,T.isArray)(Et)||(Et=[Et,pt,at,ht,Lt,Vt,de,Ee]);var Ae=z.apply(null,Et);return ut(Ae.min.x,Ae.min.y,Ae.max.x-Ae.min.x,Ae.max.y-Ae.min.y)},nt=function(Et,pt,at,ht,Lt,Vt,de,Ee,Ae){var Re=1-Ae,Je=Math.pow(Re,3),qe=Math.pow(Re,2),sr=Ae*Ae,Ir=sr*Ae,er=Je*Et+qe*3*Ae*at+Re*3*Ae*Ae*Lt+Ir*de,qr=Je*pt+qe*3*Ae*ht+Re*3*Ae*Ae*Vt+Ir*Ee,Xt=Et+2*Ae*(at-Et)+sr*(Lt-2*at+Et),bt=pt+2*Ae*(ht-pt)+sr*(Vt-2*ht+pt),F=at+2*Ae*(Lt-at)+sr*(de-2*Lt+at),U=ht+2*Ae*(Vt-ht)+sr*(Ee-2*Vt+ht),lt=Re*Et+Ae*at,Mt=Re*pt+Ae*ht,Gt=Re*Lt+Ae*de,Kt=Re*Vt+Ae*Ee,ge=90-Math.atan2(Xt-F,bt-U)*180/Math.PI;return{x:er,y:qr,m:{x:Xt,y:bt},n:{x:F,y:U},start:{x:lt,y:Mt},end:{x:Gt,y:Kt},alpha:ge}},yt=function(Et,pt,at){var ht=dt(Et),Lt=dt(pt);if(!ot(ht,Lt))return at?0:[];for(var Vt=B.apply(0,Et),de=B.apply(0,pt),Ee=~~(Vt/8),Ae=~~(de/8),Re=[],Je=[],qe={},sr=at?0:[],Ir=0;Ir<Ee+1;Ir++){var er=nt.apply(0,Et.concat(Ir/Ee));Re.push({x:er.x,y:er.y,t:Ir/Ee})}for(var Ir=0;Ir<Ae+1;Ir++){var er=nt.apply(0,pt.concat(Ir/Ae));Je.push({x:er.x,y:er.y,t:Ir/Ae})}for(var Ir=0;Ir<Ee;Ir++)for(var qr=0;qr<Ae;qr++){var Xt=Re[Ir],bt=Re[Ir+1],F=Je[qr],U=Je[qr+1],lt=Math.abs(bt.x-Xt.x)<.001?"y":"x",Mt=Math.abs(U.x-F.x)<.001?"y":"x",Gt=W(Xt.x,Xt.y,bt.x,bt.y,F.x,F.y,U.x,U.y);if(Gt){if(qe[Gt.x.toFixed(4)]===Gt.y.toFixed(4))continue;qe[Gt.x.toFixed(4)]=Gt.y.toFixed(4);var Kt=Xt.t+Math.abs((Gt[lt]-Xt[lt])/(bt[lt]-Xt[lt]))*(bt.t-Xt.t),ge=F.t+Math.abs((Gt[Mt]-F[Mt])/(U[Mt]-F[Mt]))*(U.t-F.t);Kt>=0&&Kt<=1&&ge>=0&&ge<=1&&(at?sr+=1:sr.push({x:Gt.x,y:Gt.y,t1:Kt,t2:ge}))}}return sr},tt=function(Et,pt,at){Et=x(Et),pt=x(pt);for(var ht,Lt,Vt,de,Ee,Ae,Re,Je,qe,sr,Ir=at?0:[],er=0,qr=Et.length;er<qr;er++){var Xt=Et[er];if(Xt[0]==="M")ht=Ee=Xt[1],Lt=Ae=Xt[2];else{Xt[0]==="C"?(qe=[ht,Lt].concat(Xt.slice(1)),ht=qe[6],Lt=qe[7]):(qe=[ht,Lt,ht,Lt,Ee,Ae,Ee,Ae],ht=Ee,Lt=Ae);for(var bt=0,F=pt.length;bt<F;bt++){var U=pt[bt];if(U[0]==="M")Vt=Re=U[1],de=Je=U[2];else{U[0]==="C"?(sr=[Vt,de].concat(U.slice(1)),Vt=sr[6],de=sr[7]):(sr=[Vt,de,Vt,de,Re,Je,Re,Je],Vt=Re,de=Je);var lt=yt(qe,sr,at);if(at)Ir+=lt;else{for(var Mt=0,Gt=lt.length;Mt<Gt;Mt++)lt[Mt].segment1=er,lt[Mt].segment2=bt,lt[Mt].bez1=qe,lt[Mt].bez2=sr;Ir=Ir.concat(lt)}}}}}return Ir},J=function(Et,pt){return tt(Et,pt)};function ft(Et,pt){var at=[],ht=[];function Lt(Vt,de){if(Vt.length===1)at.push(Vt[0]),ht.push(Vt[0]);else{for(var Ee=[],Ae=0;Ae<Vt.length-1;Ae++)Ae===0&&at.push(Vt[0]),Ae===Vt.length-2&&ht.push(Vt[Ae+1]),Ee[Ae]=[(1-de)*Vt[Ae][0]+de*Vt[Ae+1][0],(1-de)*Vt[Ae][1]+de*Vt[Ae+1][1]];Lt(Ee,de)}}return Et.length&&Lt(Et,pt),{left:at,right:ht.reverse()}}function rt(Et,pt,at){var ht=[[Et[1],Et[2]]];at=at||2;var Lt=[];pt[0]==="A"?(ht.push(pt[6]),ht.push(pt[7])):pt[0]==="C"?(ht.push([pt[1],pt[2]]),ht.push([pt[3],pt[4]]),ht.push([pt[5],pt[6]])):pt[0]==="S"||pt[0]==="Q"?(ht.push([pt[1],pt[2]]),ht.push([pt[3],pt[4]])):ht.push([pt[1],pt[2]]);for(var Vt=ht,de=1/at,Ee=0;Ee<at-1;Ee++){var Ae=de/(1-de*Ee),Re=ft(Vt,Ae);Lt.push(Re.left),Vt=Re.right}Lt.push(Vt);var Je=Lt.map(function(qe){var sr=[];return qe.length===4&&(sr.push("C"),sr=sr.concat(qe[2])),qe.length>=3&&(qe.length===3&&sr.push("Q"),sr=sr.concat(qe[1])),qe.length===2&&sr.push("L"),sr=sr.concat(qe[qe.length-1]),sr});return Je}var St=function(Et,pt,at){if(at===1)return[[].concat(Et)];var ht=[];if(pt[0]==="L"||pt[0]==="C"||pt[0]==="Q")ht=ht.concat(rt(Et,pt,at));else{var Lt=[].concat(Et);Lt[0]==="M"&&(Lt[0]="L");for(var Vt=0;Vt<=at-1;Vt++)ht.push(Lt)}return ht},wt=function(Et,pt){if(Et.length===1)return Et;var at=Et.length-1,ht=pt.length-1,Lt=at/ht,Vt=[];if(Et.length===1&&Et[0][0]==="M"){for(var de=0;de<ht-at;de++)Et.push(Et[0]);return Et}for(var de=0;de<ht;de++){var Ee=Math.floor(Lt*de);Vt[Ee]=(Vt[Ee]||0)+1}var Ae=Vt.reduce(function(Re,Je,qe){return qe===at?Re.concat(Et[at]):Re.concat(St(Et[qe],Et[qe+1],Je))},[]);return Ae.unshift(Et[0]),(pt[ht]==="Z"||pt[ht]==="z")&&Ae.push("Z"),Ae},q=function(Et,pt){if(Et.length!==pt.length)return!1;var at=!0;return(0,T.each)(Et,function(ht,Lt){if(ht!==pt[Lt])return at=!1,!1}),at};function it(Et,pt,at){var ht=null,Lt=at;return pt<Lt&&(Lt=pt,ht="add"),Et<Lt&&(Lt=Et,ht="del"),{type:ht,min:Lt}}var Q=function(Et,pt){var at=Et.length,ht=pt.length,Lt,Vt,de=0;if(at===0||ht===0)return null;for(var Ee=[],Ae=0;Ae<=at;Ae++)Ee[Ae]=[],Ee[Ae][0]={min:Ae};for(var Re=0;Re<=ht;Re++)Ee[0][Re]={min:Re};for(var Ae=1;Ae<=at;Ae++){Lt=Et[Ae-1];for(var Re=1;Re<=ht;Re++){Vt=pt[Re-1],q(Lt,Vt)?de=0:de=1;var Je=Ee[Ae-1][Re].min+1,qe=Ee[Ae][Re-1].min+1,sr=Ee[Ae-1][Re-1].min+de;Ee[Ae][Re]=it(Je,qe,sr)}}return Ee},f=function(Et,pt){var at=Q(Et,pt),ht=Et.length,Lt=pt.length,Vt=[],de=1,Ee=1;if(at[ht][Lt].min!==ht){for(var Ae=1;Ae<=ht;Ae++){var Re=at[Ae][Ae].min;Ee=Ae;for(var Je=de;Je<=Lt;Je++)at[Ae][Je].min<Re&&(Re=at[Ae][Je].min,Ee=Je);de=Ee,at[Ae][de].type&&Vt.push({index:Ae-1,type:at[Ae][de].type})}for(var Ae=Vt.length-1;Ae>=0;Ae--)de=Vt[Ae].index,Vt[Ae].type==="add"?Et.splice(de,0,[].concat(Et[de])):Et.splice(de,1)}ht=Et.length;var qe=Lt-ht;if(ht<Lt)for(var Ae=0;Ae<qe;Ae++)Et[ht-1][0]==="z"||Et[ht-1][0]==="Z"?Et.splice(ht-2,0,Et[ht-2]):Et.push(Et[ht-1]),ht+=1;return Et};function vt(Et,pt,at){for(var ht=[].concat(Et),Lt,Vt=1/(at+1),de=It(pt)[0],Ee=1;Ee<=at;Ee++)Vt*=Ee,Lt=Math.floor(Et.length*Vt),Lt===0?ht.unshift([de[0]*Vt+Et[Lt][0]*(1-Vt),de[1]*Vt+Et[Lt][1]*(1-Vt)]):ht.splice(Lt,0,[de[0]*Vt+Et[Lt][0]*(1-Vt),de[1]*Vt+Et[Lt][1]*(1-Vt)]);return ht}function It(Et){var pt=[];switch(Et[0]){case"M":pt.push([Et[1],Et[2]]);break;case"L":pt.push([Et[1],Et[2]]);break;case"A":pt.push([Et[6],Et[7]]);break;case"Q":pt.push([Et[3],Et[4]]),pt.push([Et[1],Et[2]]);break;case"T":pt.push([Et[1],Et[2]]);break;case"C":pt.push([Et[5],Et[6]]),pt.push([Et[1],Et[2]]),pt.push([Et[3],Et[4]]);break;case"S":pt.push([Et[3],Et[4]]),pt.push([Et[1],Et[2]]);break;case"H":pt.push([Et[1],Et[1]]);break;case"V":pt.push([Et[1],Et[1]]);break;default:}return pt}var Qt=function(Et,pt){if(Et.length<=1)return Et;for(var at,ht=0;ht<pt.length;ht++)if(Et[ht][0]!==pt[ht][0])switch(at=It(Et[ht]),pt[ht][0]){case"M":Et[ht]=["M"].concat(at[0]);break;case"L":Et[ht]=["L"].concat(at[0]);break;case"A":Et[ht]=[].concat(pt[ht]),Et[ht][6]=at[0][0],Et[ht][7]=at[0][1];break;case"Q":if(at.length<2)if(ht>0)at=vt(at,Et[ht-1],1);else{Et[ht]=pt[ht];break}Et[ht]=["Q"].concat(at.reduce(function(Lt,Vt){return Lt.concat(Vt)},[]));break;case"T":Et[ht]=["T"].concat(at[0]);break;case"C":if(at.length<3)if(ht>0)at=vt(at,Et[ht-1],2);else{Et[ht]=pt[ht];break}Et[ht]=["C"].concat(at.reduce(function(Lt,Vt){return Lt.concat(Vt)},[]));break;case"S":if(at.length<2)if(ht>0)at=vt(at,Et[ht-1],1);else{Et[ht]=pt[ht];break}Et[ht]=["S"].concat(at.reduce(function(Lt,Vt){return Lt.concat(Vt)},[]));break;default:Et[ht]=pt[ht]}return Et},Se=function(){function Et(pt,at){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=pt,this.name=pt,this.originalEvent=at,this.timeStamp=at.timeStamp}return Et.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Et.prototype.stopPropagation=function(){this.propagationStopped=!0},Et.prototype.toString=function(){var pt=this.type;return"[Event (type="+pt+")]"},Et.prototype.save=function(){},Et.prototype.restore=function(){},Et}(),$t=Se,re=function(Et,pt){return re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,ht){at.__proto__=ht}||function(at,ht){for(var Lt in ht)Object.prototype.hasOwnProperty.call(ht,Lt)&&(at[Lt]=ht[Lt])},re(Et,pt)};function he(Et,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Class extends value "+String(pt)+" is not a constructor or null");re(Et,pt);function at(){this.constructor=Et}Et.prototype=pt===null?Object.create(pt):(at.prototype=pt.prototype,new at)}var Me=function(){return Me=Object.assign||function(pt){for(var at,ht=1,Lt=arguments.length;ht<Lt;ht++){at=arguments[ht];for(var Vt in at)Object.prototype.hasOwnProperty.call(at,Vt)&&(pt[Vt]=at[Vt])}return pt},Me.apply(this,arguments)};function le(Et,pt){var at={};for(var ht in Et)Object.prototype.hasOwnProperty.call(Et,ht)&&pt.indexOf(ht)<0&&(at[ht]=Et[ht]);if(Et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Lt=0,ht=Object.getOwnPropertySymbols(Et);Lt<ht.length;Lt++)pt.indexOf(ht[Lt])<0&&Object.prototype.propertyIsEnumerable.call(Et,ht[Lt])&&(at[ht[Lt]]=Et[ht[Lt]]);return at}function Rt(Et,pt,at,ht){var Lt=arguments.length,Vt=Lt<3?pt:ht===null?ht=Object.getOwnPropertyDescriptor(pt,at):ht,de;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Vt=Reflect.decorate(Et,pt,at,ht);else for(var Ee=Et.length-1;Ee>=0;Ee--)(de=Et[Ee])&&(Vt=(Lt<3?de(Vt):Lt>3?de(pt,at,Vt):de(pt,at))||Vt);return Lt>3&&Vt&&Object.defineProperty(pt,at,Vt),Vt}function Ot(Et,pt){return function(at,ht){pt(at,ht,Et)}}function At(Et,pt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Et,pt)}function Dt(Et,pt,at,ht){function Lt(Vt){return Vt instanceof at?Vt:new at(function(de){de(Vt)})}return new(at||(at=Promise))(function(Vt,de){function Ee(Je){try{Re(ht.next(Je))}catch(qe){de(qe)}}function Ae(Je){try{Re(ht.throw(Je))}catch(qe){de(qe)}}function Re(Je){Je.done?Vt(Je.value):Lt(Je.value).then(Ee,Ae)}Re((ht=ht.apply(Et,pt||[])).next())})}function j(Et,pt){var at={label:0,sent:function(){if(Vt[0]&1)throw Vt[1];return Vt[1]},trys:[],ops:[]},ht,Lt,Vt,de;return de={next:Ee(0),throw:Ee(1),return:Ee(2)},typeof Symbol=="function"&&(de[Symbol.iterator]=function(){return this}),de;function Ee(Re){return function(Je){return Ae([Re,Je])}}function Ae(Re){if(ht)throw new TypeError("Generator is already executing.");for(;at;)try{if(ht=1,Lt&&(Vt=Re[0]&2?Lt.return:Re[0]?Lt.throw||((Vt=Lt.return)&&Vt.call(Lt),0):Lt.next)&&!(Vt=Vt.call(Lt,Re[1])).done)return Vt;switch(Lt=0,Vt&&(Re=[Re[0]&2,Vt.value]),Re[0]){case 0:case 1:Vt=Re;break;case 4:return at.label++,{value:Re[1],done:!1};case 5:at.label++,Lt=Re[1],Re=[0];continue;case 7:Re=at.ops.pop(),at.trys.pop();continue;default:if(Vt=at.trys,!(Vt=Vt.length>0&&Vt[Vt.length-1])&&(Re[0]===6||Re[0]===2)){at=0;continue}if(Re[0]===3&&(!Vt||Re[1]>Vt[0]&&Re[1]<Vt[3])){at.label=Re[1];break}if(Re[0]===6&&at.label<Vt[1]){at.label=Vt[1],Vt=Re;break}if(Vt&&at.label<Vt[2]){at.label=Vt[2],at.ops.push(Re);break}Vt[2]&&at.ops.pop(),at.trys.pop();continue}Re=pt.call(Et,at)}catch(Je){Re=[6,Je],Lt=0}finally{ht=Vt=0}if(Re[0]&5)throw Re[1];return{value:Re[0]?Re[1]:void 0,done:!0}}}var $=Object.create?function(Et,pt,at,ht){ht===void 0&&(ht=at);var Lt=Object.getOwnPropertyDescriptor(pt,at);(!Lt||("get"in Lt?!pt.__esModule:Lt.writable||Lt.configurable))&&(Lt={enumerable:!0,get:function(){return pt[at]}}),Object.defineProperty(Et,ht,Lt)}:function(Et,pt,at,ht){ht===void 0&&(ht=at),Et[ht]=pt[at]};function et(Et,pt){for(var at in Et)at!=="default"&&!Object.prototype.hasOwnProperty.call(pt,at)&&$(pt,Et,at)}function Tt(Et){var pt=typeof Symbol=="function"&&Symbol.iterator,at=pt&&Et[pt],ht=0;if(at)return at.call(Et);if(Et&&typeof Et.length=="number")return{next:function(){return Et&&ht>=Et.length&&(Et=void 0),{value:Et&&Et[ht++],done:!Et}}};throw new TypeError(pt?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nt(Et,pt){var at=typeof Symbol=="function"&&Et[Symbol.iterator];if(!at)return Et;var ht=at.call(Et),Lt,Vt=[],de;try{for(;(pt===void 0||pt-- >0)&&!(Lt=ht.next()).done;)Vt.push(Lt.value)}catch(Ee){de={error:Ee}}finally{try{Lt&&!Lt.done&&(at=ht.return)&&at.call(ht)}finally{if(de)throw de.error}}return Vt}function Ut(){for(var Et=[],pt=0;pt<arguments.length;pt++)Et=Et.concat(Nt(arguments[pt]));return Et}function Oe(){for(var Et=0,pt=0,at=arguments.length;pt<at;pt++)Et+=arguments[pt].length;for(var ht=Array(Et),Lt=0,pt=0;pt<at;pt++)for(var Vt=arguments[pt],de=0,Ee=Vt.length;de<Ee;de++,Lt++)ht[Lt]=Vt[de];return ht}function He(Et,pt,at){if(at||arguments.length===2)for(var ht=0,Lt=pt.length,Vt;ht<Lt;ht++)(Vt||!(ht in pt))&&(Vt||(Vt=Array.prototype.slice.call(pt,0,ht)),Vt[ht]=pt[ht]);return Et.concat(Vt||Array.prototype.slice.call(pt))}function Zt(Et){return this instanceof Zt?(this.v=Et,this):new Zt(Et)}function be(Et,pt,at){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ht=at.apply(Et,pt||[]),Lt,Vt=[];return Lt={},de("next"),de("throw"),de("return"),Lt[Symbol.asyncIterator]=function(){return this},Lt;function de(sr){ht[sr]&&(Lt[sr]=function(Ir){return new Promise(function(er,qr){Vt.push([sr,Ir,er,qr])>1||Ee(sr,Ir)})})}function Ee(sr,Ir){try{Ae(ht[sr](Ir))}catch(er){qe(Vt[0][3],er)}}function Ae(sr){sr.value instanceof Zt?Promise.resolve(sr.value.v).then(Re,Je):qe(Vt[0][2],sr)}function Re(sr){Ee("next",sr)}function Je(sr){Ee("throw",sr)}function qe(sr,Ir){sr(Ir),Vt.shift(),Vt.length&&Ee(Vt[0][0],Vt[0][1])}}function _e(Et){var pt,at;return pt={},ht("next"),ht("throw",function(Lt){throw Lt}),ht("return"),pt[Symbol.iterator]=function(){return this},pt;function ht(Lt,Vt){pt[Lt]=Et[Lt]?function(de){return(at=!at)?{value:Zt(Et[Lt](de)),done:Lt==="return"}:Vt?Vt(de):de}:Vt}}function Qe(Et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt=Et[Symbol.asyncIterator],at;return pt?pt.call(Et):(Et=typeof Tt=="function"?Tt(Et):Et[Symbol.iterator](),at={},ht("next"),ht("throw"),ht("return"),at[Symbol.asyncIterator]=function(){return this},at);function ht(Vt){at[Vt]=Et[Vt]&&function(de){return new Promise(function(Ee,Ae){de=Et[Vt](de),Lt(Ee,Ae,de.done,de.value)})}}function Lt(Vt,de,Ee,Ae){Promise.resolve(Ae).then(function(Re){Vt({value:Re,done:Ee})},de)}}function dr(Et,pt){return Object.defineProperty?Object.defineProperty(Et,"raw",{value:pt}):Et.raw=pt,Et}var ur=Object.create?function(Et,pt){Object.defineProperty(Et,"default",{enumerable:!0,value:pt})}:function(Et,pt){Et.default=pt};function Dr(Et){if(Et&&Et.__esModule)return Et;var pt={};if(Et!=null)for(var at in Et)at!=="default"&&Object.prototype.hasOwnProperty.call(Et,at)&&$(pt,Et,at);return ur(pt,Et),pt}function ne(Et){return Et&&Et.__esModule?Et:{default:Et}}function se(Et,pt,at,ht){if(at==="a"&&!ht)throw new TypeError("Private accessor was defined without a getter");if(typeof pt=="function"?Et!==pt||!ht:!pt.has(Et))throw new TypeError("Cannot read private member from an object whose class did not declare it");return at==="m"?ht:at==="a"?ht.call(Et):ht?ht.value:pt.get(Et)}function ye(Et,pt,at,ht,Lt){if(ht==="m")throw new TypeError("Private method is not writable");if(ht==="a"&&!Lt)throw new TypeError("Private accessor was defined without a setter");if(typeof pt=="function"?Et!==pt||!Lt:!pt.has(Et))throw new TypeError("Cannot write private member to an object whose class did not declare it");return ht==="a"?Lt.call(Et,at):Lt?Lt.value=at:pt.set(Et,at),at}function We(Et,pt){if(pt===null||typeof pt!="object"&&typeof pt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof Et=="function"?pt===Et:Et.has(pt)}var De=v(90494);function ae(Et,pt){var at=Et.indexOf(pt);at!==-1&&Et.splice(at,1)}var Yt=typeof window!="undefined"&&typeof window.document!="undefined";function st(Et,pt){if(Et.isCanvas())return!0;for(var at=pt.getParent(),ht=!1;at;){if(at===Et){ht=!0;break}at=at.getParent()}return ht}function gt(Et){return Et.cfg.visible&&Et.cfg.capture}var kt=function(Et){he(pt,Et);function pt(at){var ht=Et.call(this)||this;ht.destroyed=!1;var Lt=ht.getDefaultCfg();return ht.cfg=(0,T.mix)(Lt,at),ht}return pt.prototype.getDefaultCfg=function(){return{}},pt.prototype.get=function(at){return this.cfg[at]},pt.prototype.set=function(at,ht){this.cfg[at]=ht},pt.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},pt}(De.default),Ft=kt,jt=v(43631),fe=v(35600);function Ce(Et,pt,at){var ht=[0,0,0,0,0,0,0,0,0];return fe.fromTranslation(ht,at),fe.multiply(Et,ht,pt)}function xe(Et,pt,at){var ht=[0,0,0,0,0,0,0,0,0];return fe.fromRotation(ht,at),fe.multiply(Et,ht,pt)}function ve(Et,pt,at){var ht=[0,0,0,0,0,0,0,0,0];return fe.fromScaling(ht,at),fe.multiply(Et,ht,pt)}function Ue(Et,pt,at){return fe.multiply(Et,at,pt)}function Ne(Et,pt){for(var at=Et?[].concat(Et):[1,0,0,0,1,0,0,0,1],ht=0,Lt=pt.length;ht<Lt;ht++){var Vt=pt[ht];switch(Vt[0]){case"t":Ce(at,at,[Vt[1],Vt[2]]);break;case"s":ve(at,at,[Vt[1],Vt[2]]);break;case"r":xe(at,at,Vt[1]);break;case"m":Ue(at,at,Vt[1]);break;default:break}}return at}function tr(Et,pt){return Et[0]*pt[1]-pt[0]*Et[1]}function Er(Et,pt,at){var ht=vec2.angle(Et,pt),Lt=tr(Et,pt)>=0;return at?Lt?Math.PI*2-ht:ht:Lt?ht:Math.PI*2-ht}function hr(Et,pt,at){return at?(Et[0]=pt[1],Et[1]=-1*pt[0]):(Et[0]=-1*pt[1],Et[1]=pt[0]),Et}function Tr(Et,pt){var at=[],ht=Et[0],Lt=Et[1],Vt=Et[2],de=Et[3],Ee=Et[4],Ae=Et[5],Re=Et[6],Je=Et[7],qe=Et[8],sr=pt[0],Ir=pt[1],er=pt[2],qr=pt[3],Xt=pt[4],bt=pt[5],F=pt[6],U=pt[7],lt=pt[8];return at[0]=sr*ht+Ir*de+er*Re,at[1]=sr*Lt+Ir*Ee+er*Je,at[2]=sr*Vt+Ir*Ae+er*qe,at[3]=qr*ht+Xt*de+bt*Re,at[4]=qr*Lt+Xt*Ee+bt*Je,at[5]=qr*Vt+Xt*Ae+bt*qe,at[6]=F*ht+U*de+lt*Re,at[7]=F*Lt+U*Ee+lt*Je,at[8]=F*Vt+U*Ae+lt*qe,at}function _r(Et,pt){var at=[],ht=pt[0],Lt=pt[1];return at[0]=Et[0]*ht+Et[3]*Lt+Et[6],at[1]=Et[1]*ht+Et[4]*Lt+Et[7],at}function Nr(Et){var pt=[],at=Et[0],ht=Et[1],Lt=Et[2],Vt=Et[3],de=Et[4],Ee=Et[5],Ae=Et[6],Re=Et[7],Je=Et[8],qe=Je*de-Ee*Re,sr=-Je*Vt+Ee*Ae,Ir=Re*Vt-de*Ae,er=at*qe+ht*sr+Lt*Ir;return er?(er=1/er,pt[0]=qe*er,pt[1]=(-Je*ht+Lt*Re)*er,pt[2]=(Ee*ht-Lt*de)*er,pt[3]=sr*er,pt[4]=(Je*at-Lt*Ae)*er,pt[5]=(-Ee*at+Lt*Vt)*er,pt[6]=Ir*er,pt[7]=(-Re*at+ht*Ae)*er,pt[8]=(de*at-ht*Vt)*er,pt):null}var ir=Ne,wr="matrix",Zr=["zIndex","capture","visible","type"],Wr=["repeat"],Qr=":",ie="*";function ue(Et){for(var pt=[],at=0;at<Et.length;at++)(0,T.isArray)(Et[at])?pt.push([].concat(Et[at])):pt.push(Et[at]);return pt}function me(Et,pt){var at={},ht=pt.attrs;for(var Lt in Et)at[Lt]=ht[Lt];return at}function Le(Et,pt){var at={},ht=pt.attr();return(0,T.each)(Et,function(Lt,Vt){Wr.indexOf(Vt)===-1&&!(0,T.isEqual)(ht[Vt],Lt)&&(at[Vt]=Lt)}),at}function Xe(Et,pt){if(pt.onFrame)return Et;var at=pt.startTime,ht=pt.delay,Lt=pt.duration,Vt=Object.prototype.hasOwnProperty;return(0,T.each)(Et,function(de){at+ht<de.startTime+de.delay+de.duration&&Lt>de.delay&&(0,T.each)(pt.toAttrs,function(Ee,Ae){Vt.call(de.toAttrs,Ae)&&(delete de.toAttrs[Ae],delete de.fromAttrs[Ae])})}),Et}var $e=function(Et){he(pt,Et);function pt(at){var ht=Et.call(this,at)||this;ht.attrs={};var Lt=ht.getDefaultAttrs();return(0,T.mix)(Lt,at.attrs),ht.attrs=Lt,ht.initAttrs(Lt),ht.initAnimate(),ht}return pt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},pt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},pt.prototype.onCanvasChange=function(at){},pt.prototype.initAttrs=function(at){},pt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},pt.prototype.isGroup=function(){return!1},pt.prototype.getParent=function(){return this.get("parent")},pt.prototype.getCanvas=function(){return this.get("canvas")},pt.prototype.attr=function(){for(var at,ht=[],Lt=0;Lt<arguments.length;Lt++)ht[Lt]=arguments[Lt];var Vt=ht[0],de=ht[1];if(!Vt)return this.attrs;if((0,T.isObject)(Vt)){for(var Ee in Vt)this.setAttr(Ee,Vt[Ee]);return this.afterAttrsChange(Vt),this}return ht.length===2?(this.setAttr(Vt,de),this.afterAttrsChange((at={},at[Vt]=de,at)),this):this.attrs[Vt]},pt.prototype.isClipped=function(at,ht){var Lt=this.getClip();return Lt&&!Lt.isHit(at,ht)},pt.prototype.setAttr=function(at,ht){var Lt=this.attrs[at];Lt!==ht&&(this.attrs[at]=ht,this.onAttrChange(at,ht,Lt))},pt.prototype.onAttrChange=function(at,ht,Lt){at==="matrix"&&this.set("totalMatrix",null)},pt.prototype.afterAttrsChange=function(at){if(this.cfg.isClipShape){var ht=this.cfg.applyTo;ht&&ht.onCanvasChange("clip")}else this.onCanvasChange("attr")},pt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},pt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},pt.prototype.setZIndex=function(at){this.set("zIndex",at);var ht=this.getParent();return ht&&ht.sort(),this},pt.prototype.toFront=function(){var at=this.getParent();if(!!at){var ht=at.getChildren(),Lt=this.get("el"),Vt=ht.indexOf(this);ht.splice(Vt,1),ht.push(this),this.onCanvasChange("zIndex")}},pt.prototype.toBack=function(){var at=this.getParent();if(!!at){var ht=at.getChildren(),Lt=this.get("el"),Vt=ht.indexOf(this);ht.splice(Vt,1),ht.unshift(this),this.onCanvasChange("zIndex")}},pt.prototype.remove=function(at){at===void 0&&(at=!0);var ht=this.getParent();ht?(ae(ht.getChildren(),this),ht.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),at&&this.destroy()},pt.prototype.resetMatrix=function(){this.attr(wr,this.getDefaultMatrix()),this.onCanvasChange("matrix")},pt.prototype.getMatrix=function(){return this.attr(wr)},pt.prototype.setMatrix=function(at){this.attr(wr,at),this.onCanvasChange("matrix")},pt.prototype.getTotalMatrix=function(){var at=this.cfg.totalMatrix;if(!at){var ht=this.attr("matrix"),Lt=this.cfg.parentMatrix;Lt&&ht?at=Tr(Lt,ht):at=ht||Lt,this.set("totalMatrix",at)}return at},pt.prototype.applyMatrix=function(at){var ht=this.attr("matrix"),Lt=null;at&&ht?Lt=Tr(at,ht):Lt=ht||at,this.set("totalMatrix",Lt),this.set("parentMatrix",at)},pt.prototype.getDefaultMatrix=function(){return null},pt.prototype.applyToMatrix=function(at){var ht=this.attr("matrix");return ht?_r(ht,at):at},pt.prototype.invertFromMatrix=function(at){var ht=this.attr("matrix");if(ht){var Lt=Nr(ht);if(Lt)return _r(Lt,at)}return at},pt.prototype.setClip=function(at){var ht=this.getCanvas(),Lt=null;if(at){var Vt=this.getShapeBase(),de=(0,T.upperFirst)(at.type),Ee=Vt[de];Ee&&(Lt=new Ee({type:at.type,isClipShape:!0,applyTo:this,attrs:at.attrs,canvas:ht}))}return this.set("clipShape",Lt),this.onCanvasChange("clip"),Lt},pt.prototype.getClip=function(){var at=this.cfg.clipShape;return at||null},pt.prototype.clone=function(){var at=this,ht=this.attrs,Lt={};(0,T.each)(ht,function(Ee,Ae){(0,T.isArray)(ht[Ae])?Lt[Ae]=ue(ht[Ae]):Lt[Ae]=ht[Ae]});var Vt=this.constructor,de=new Vt({attrs:Lt});return(0,T.each)(Zr,function(Ee){de.set(Ee,at.get(Ee))}),de},pt.prototype.destroy=function(){var at=this.destroyed;at||(this.attrs={},Et.prototype.destroy.call(this))},pt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},pt.prototype.animate=function(){for(var at=[],ht=0;ht<arguments.length;ht++)at[ht]=arguments[ht];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var Lt=this.get("timeline");Lt||(Lt=this.get("canvas").get("timeline"),this.set("timeline",Lt));var Vt=this.get("animations")||[];Lt.timer||Lt.initTimer();var de=at[0],Ee=at[1],Ae=at[2],Re=Ae===void 0?"easeLinear":Ae,Je=at[3],qe=Je===void 0?T.noop:Je,sr=at[4],Ir=sr===void 0?0:sr,er,qr,Xt,bt,F;(0,T.isFunction)(de)?(er=de,de={}):(0,T.isObject)(de)&&de.onFrame&&(er=de.onFrame,qr=de.repeat),(0,T.isObject)(Ee)?(F=Ee,Ee=F.duration,Re=F.easing||"easeLinear",Ir=F.delay||0,qr=F.repeat||qr||!1,qe=F.callback||T.noop,Xt=F.pauseCallback||T.noop,bt=F.resumeCallback||T.noop):((0,T.isNumber)(qe)&&(Ir=qe,qe=null),(0,T.isFunction)(Re)?(qe=Re,Re="easeLinear"):Re=Re||"easeLinear");var U=Le(de,this),lt={fromAttrs:me(U,this),toAttrs:U,duration:Ee,easing:Re,repeat:qr,callback:qe,pauseCallback:Xt,resumeCallback:bt,delay:Ir,startTime:Lt.getTime(),id:(0,T.uniqueId)(),onFrame:er,pathFormatted:!1};Vt.length>0?Vt=Xe(Vt,lt):Lt.addAnimator(this),Vt.push(lt),this.set("animations",Vt),this.set("_pause",{isPaused:!1})}},pt.prototype.stopAnimate=function(at){var ht=this;at===void 0&&(at=!0);var Lt=this.get("animations");(0,T.each)(Lt,function(Vt){at&&(Vt.onFrame?ht.attr(Vt.onFrame(1)):ht.attr(Vt.toAttrs)),Vt.callback&&Vt.callback()}),this.set("animating",!1),this.set("animations",[])},pt.prototype.pauseAnimate=function(){var at=this.get("timeline"),ht=this.get("animations"),Lt=at.getTime();return(0,T.each)(ht,function(Vt){Vt._paused=!0,Vt._pauseTime=Lt,Vt.pauseCallback&&Vt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:Lt}),this},pt.prototype.resumeAnimate=function(){var at=this.get("timeline"),ht=at.getTime(),Lt=this.get("animations"),Vt=this.get("_pause").pauseTime;return(0,T.each)(Lt,function(de){de.startTime=de.startTime+(ht-Vt),de._paused=!1,de._pauseTime=null,de.resumeCallback&&de.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",Lt),this},pt.prototype.emitDelegation=function(at,ht){var Lt=this,Vt=ht.propagationPath,de=this.getEvents(),Ee;at==="mouseenter"?Ee=ht.fromShape:at==="mouseleave"&&(Ee=ht.toShape);for(var Ae=function(sr){var Ir=Vt[sr],er=Ir.get("name");if(er){if((Ir.isGroup()||Ir.isCanvas&&Ir.isCanvas())&&Ee&&st(Ir,Ee))return"break";(0,T.isArray)(er)?(0,T.each)(er,function(qr){Lt.emitDelegateEvent(Ir,qr,ht)}):Re.emitDelegateEvent(Ir,er,ht)}},Re=this,Je=0;Je<Vt.length;Je++){var qe=Ae(Je);if(qe==="break")break}},pt.prototype.emitDelegateEvent=function(at,ht,Lt){var Vt=this.getEvents(),de=ht+Qr+Lt.type;(Vt[de]||Vt[ie])&&(Lt.name=de,Lt.currentTarget=at,Lt.delegateTarget=this,Lt.delegateObject=at.get("delegateObject"),this.emit(de,Lt))},pt.prototype.translate=function(at,ht){at===void 0&&(at=0),ht===void 0&&(ht=0);var Lt=this.getMatrix(),Vt=ir(Lt,[["t",at,ht]]);return this.setMatrix(Vt),this},pt.prototype.move=function(at,ht){var Lt=this.attr("x")||0,Vt=this.attr("y")||0;return this.translate(at-Lt,ht-Vt),this},pt.prototype.moveTo=function(at,ht){return this.move(at,ht)},pt.prototype.scale=function(at,ht){var Lt=this.getMatrix(),Vt=ir(Lt,[["s",at,ht||at]]);return this.setMatrix(Vt),this},pt.prototype.rotate=function(at){var ht=this.getMatrix(),Lt=ir(ht,[["r",at]]);return this.setMatrix(Lt),this},pt.prototype.rotateAtStart=function(at){var ht=this.attr(),Lt=ht.x,Vt=ht.y,de=this.getMatrix(),Ee=ir(de,[["t",-Lt,-Vt],["r",at],["t",Lt,Vt]]);return this.setMatrix(Ee),this},pt.prototype.rotateAtPoint=function(at,ht,Lt){var Vt=this.getMatrix(),de=ir(Vt,[["t",-at,-ht],["r",Lt],["t",at,ht]]);return this.setMatrix(de),this},pt}(Ft),mr=$e,kr={},$r="_INDEX";function lr(Et,pt){if(Et.set("canvas",pt),Et.isGroup()){var at=Et.get("children");at.length&&at.forEach(function(ht){lr(ht,pt)})}}function Gr(Et,pt){if(Et.set("timeline",pt),Et.isGroup()){var at=Et.get("children");at.length&&at.forEach(function(ht){Gr(ht,pt)})}}function bn(Et,pt){var at=Et.getChildren();return at.indexOf(pt)>=0}function Ln(Et,pt,at){at===void 0&&(at=!0),at?pt.destroy():(pt.set("parent",null),pt.set("canvas",null)),ae(Et.getChildren(),pt)}function dn(Et){return function(pt,at){var ht=Et(pt,at);return ht===0?pt[$r]-at[$r]:ht}}var Mn=function(Et){he(pt,Et);function pt(){return Et!==null&&Et.apply(this,arguments)||this}return pt.prototype.isCanvas=function(){return!1},pt.prototype.getBBox=function(){var at=Infinity,ht=-Infinity,Lt=Infinity,Vt=-Infinity,de=[],Ee=[],Ae=this.getChildren().filter(function(Je){return Je.get("visible")&&(!Je.isGroup()||Je.isGroup()&&Je.getChildren().length>0)});Ae.length>0?((0,T.each)(Ae,function(Je){var qe=Je.getBBox();de.push(qe.minX,qe.maxX),Ee.push(qe.minY,qe.maxY)}),at=(0,T.min)(de),ht=(0,T.max)(de),Lt=(0,T.min)(Ee),Vt=(0,T.max)(Ee)):(at=0,ht=0,Lt=0,Vt=0);var Re={x:at,y:Lt,minX:at,minY:Lt,maxX:ht,maxY:Vt,width:ht-at,height:Vt-Lt};return Re},pt.prototype.getCanvasBBox=function(){var at=Infinity,ht=-Infinity,Lt=Infinity,Vt=-Infinity,de=[],Ee=[],Ae=this.getChildren().filter(function(Je){return Je.get("visible")&&(!Je.isGroup()||Je.isGroup()&&Je.getChildren().length>0)});Ae.length>0?((0,T.each)(Ae,function(Je){var qe=Je.getCanvasBBox();de.push(qe.minX,qe.maxX),Ee.push(qe.minY,qe.maxY)}),at=(0,T.min)(de),ht=(0,T.max)(de),Lt=(0,T.min)(Ee),Vt=(0,T.max)(Ee)):(at=0,ht=0,Lt=0,Vt=0);var Re={x:at,y:Lt,minX:at,minY:Lt,maxX:ht,maxY:Vt,width:ht-at,height:Vt-Lt};return Re},pt.prototype.getDefaultCfg=function(){var at=Et.prototype.getDefaultCfg.call(this);return at.children=[],at},pt.prototype.onAttrChange=function(at,ht,Lt){if(Et.prototype.onAttrChange.call(this,at,ht,Lt),at==="matrix"){var Vt=this.getTotalMatrix();this._applyChildrenMarix(Vt)}},pt.prototype.applyMatrix=function(at){var ht=this.getTotalMatrix();Et.prototype.applyMatrix.call(this,at);var Lt=this.getTotalMatrix();Lt!==ht&&this._applyChildrenMarix(Lt)},pt.prototype._applyChildrenMarix=function(at){var ht=this.getChildren();(0,T.each)(ht,function(Lt){Lt.applyMatrix(at)})},pt.prototype.addShape=function(){for(var at=[],ht=0;ht<arguments.length;ht++)at[ht]=arguments[ht];var Lt=at[0],Vt=at[1];(0,T.isObject)(Lt)?Vt=Lt:Vt.type=Lt;var de=kr[Vt.type];de||(de=(0,T.upperFirst)(Vt.type),kr[Vt.type]=de);var Ee=this.getShapeBase(),Ae=new Ee[de](Vt);return this.add(Ae),Ae},pt.prototype.addGroup=function(){for(var at=[],ht=0;ht<arguments.length;ht++)at[ht]=arguments[ht];var Lt=at[0],Vt=at[1],de;if((0,T.isFunction)(Lt))Vt?de=new Lt(Vt):de=new Lt({parent:this});else{var Ee=Lt||{},Ae=this.getGroupBase();de=new Ae(Ee)}return this.add(de),de},pt.prototype.getCanvas=function(){var at;return this.isCanvas()?at=this:at=this.get("canvas"),at},pt.prototype.getShape=function(at,ht,Lt){if(!gt(this))return null;var Vt=this.getChildren(),de;if(this.isCanvas())de=this._findShape(Vt,at,ht,Lt);else{var Ee=[at,ht,1];Ee=this.invertFromMatrix(Ee),this.isClipped(Ee[0],Ee[1])||(de=this._findShape(Vt,Ee[0],Ee[1],Lt))}return de},pt.prototype._findShape=function(at,ht,Lt,Vt){for(var de=null,Ee=at.length-1;Ee>=0;Ee--){var Ae=at[Ee];if(gt(Ae)&&(Ae.isGroup()?de=Ae.getShape(ht,Lt,Vt):Ae.isHit(ht,Lt)&&(de=Ae)),de)break}return de},pt.prototype.add=function(at){var ht=this.getCanvas(),Lt=this.getChildren(),Vt=this.get("timeline"),de=at.getParent();de&&Ln(de,at,!1),at.set("parent",this),ht&&lr(at,ht),Vt&&Gr(at,Vt),Lt.push(at),at.onCanvasChange("add"),this._applyElementMatrix(at)},pt.prototype._applyElementMatrix=function(at){var ht=this.getTotalMatrix();ht&&at.applyMatrix(ht)},pt.prototype.getChildren=function(){return this.get("children")},pt.prototype.sort=function(){var at=this.getChildren();(0,T.each)(at,function(ht,Lt){return ht[$r]=Lt,ht}),at.sort(dn(function(ht,Lt){return ht.get("zIndex")-Lt.get("zIndex")})),this.onCanvasChange("sort")},pt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var at=this.getChildren(),ht=at.length-1;ht>=0;ht--)at[ht].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},pt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Et.prototype.destroy.call(this))},pt.prototype.getFirst=function(){return this.getChildByIndex(0)},pt.prototype.getLast=function(){var at=this.getChildren();return this.getChildByIndex(at.length-1)},pt.prototype.getChildByIndex=function(at){var ht=this.getChildren();return ht[at]},pt.prototype.getCount=function(){var at=this.getChildren();return at.length},pt.prototype.contain=function(at){var ht=this.getChildren();return ht.indexOf(at)>-1},pt.prototype.removeChild=function(at,ht){ht===void 0&&(ht=!0),this.contain(at)&&at.remove(ht)},pt.prototype.findAll=function(at){var ht=[],Lt=this.getChildren();return(0,T.each)(Lt,function(Vt){at(Vt)&&ht.push(Vt),Vt.isGroup()&&(ht=ht.concat(Vt.findAll(at)))}),ht},pt.prototype.find=function(at){var ht=null,Lt=this.getChildren();return(0,T.each)(Lt,function(Vt){if(at(Vt)?ht=Vt:Vt.isGroup()&&(ht=Vt.find(at)),ht)return!1}),ht},pt.prototype.findById=function(at){return this.find(function(ht){return ht.get("id")===at})},pt.prototype.findByClassName=function(at){return this.find(function(ht){return ht.get("className")===at})},pt.prototype.findAllByName=function(at){return this.findAll(function(ht){return ht.get("name")===at})},pt}(mr),Jn=Mn,qn=v(35374),ui=v(42800),Fn=v(88122),Pi=v(13681),Bt={};function G(Et){return Bt[Et.toLowerCase()]||Pi[Et]}function V(Et,pt){Bt[Et.toLowerCase()]=pt}var Y=function(Et){return["fill","stroke","fillStyle","strokeStyle"].includes(Et)},Z=function(Et){return/^[r,R,L,l]{1}[\s]*\(/.test(Et)},Ct=[1,0,0,0,1,0,0,0,1];function _t(Et,pt,at){var ht={},Lt=pt.fromAttrs,Vt=pt.toAttrs;if(!Et.destroyed){var de;for(var Ee in Vt)if(!(0,T.isEqual)(Lt[Ee],Vt[Ee]))if(Ee==="path"){var Ae=Vt[Ee],Re=Lt[Ee];Ae.length>Re.length?(Ae=A(Vt[Ee]),Re=A(Lt[Ee]),Re=f(Re,Ae),Re=Qt(Re,Ae),pt.fromAttrs.path=Re,pt.toAttrs.path=Ae):pt.pathFormatted||(Ae=A(Vt[Ee]),Re=A(Lt[Ee]),Re=Qt(Re,Ae),pt.fromAttrs.path=Re,pt.toAttrs.path=Ae,pt.pathFormatted=!0),ht[Ee]=[];for(var Je=0;Je<Ae.length;Je++){for(var qe=Ae[Je],sr=Re[Je],Ir=[],er=0;er<qe.length;er++)(0,T.isNumber)(qe[er])&&sr&&(0,T.isNumber)(sr[er])?(de=(0,ui.Z)(sr[er],qe[er]),Ir.push(de(at))):Ir.push(qe[er]);ht[Ee].push(Ir)}}else if(Ee==="matrix"){var qr=(0,Fn.Z)(Lt[Ee]||Ct,Vt[Ee]||Ct),Xt=qr(at);ht[Ee]=Xt}else Y(Ee)&&Z(Vt[Ee])?ht[Ee]=Vt[Ee]:(0,T.isFunction)(Vt[Ee])||(de=(0,ui.Z)(Lt[Ee],Vt[Ee]),ht[Ee]=de(at));Et.attr(ht)}}function Wt(Et,pt,at){var ht=pt.startTime,Lt=pt.delay;if(at<ht+Lt||pt._paused)return!1;var Vt,de=pt.duration,Ee=pt.easing,Ae=G(Ee);if(at=at-ht-pt.delay,pt.repeat)Vt=at%de/de,Vt=Ae(Vt);else if(Vt=at/de,Vt<1)Vt=Ae(Vt);else return pt.onFrame?Et.attr(pt.onFrame(1)):Et.attr(pt.toAttrs),!0;if(pt.onFrame){var Re=pt.onFrame(Vt);Et.attr(Re)}else _t(Et,pt,Vt);return!1}var Jt=function(){function Et(pt){this.animators=[],this.current=0,this.timer=null,this.canvas=pt}return Et.prototype.initTimer=function(){var pt=this,at=!1,ht,Lt,Vt;this.timer=qn.HT(function(de){if(pt.current=de,pt.animators.length>0){for(var Ee=pt.animators.length-1;Ee>=0;Ee--){if(ht=pt.animators[Ee],ht.destroyed){pt.removeAnimator(Ee);continue}if(!ht.isAnimatePaused()){Lt=ht.get("animations");for(var Ae=Lt.length-1;Ae>=0;Ae--)Vt=Lt[Ae],at=Wt(ht,Vt,de),at&&(Lt.splice(Ae,1),at=!1,Vt.callback&&Vt.callback())}Lt.length===0&&pt.removeAnimator(Ee)}var Re=pt.canvas.get("autoDraw");Re||pt.canvas.draw()}})},Et.prototype.addAnimator=function(pt){this.animators.push(pt)},Et.prototype.removeAnimator=function(pt){this.animators.splice(pt,1)},Et.prototype.isAnimating=function(){return!!this.animators.length},Et.prototype.stop=function(){this.timer&&this.timer.stop()},Et.prototype.stopAllAnimations=function(pt){pt===void 0&&(pt=!0),this.animators.forEach(function(at){at.stopAnimate(pt)}),this.animators=[],this.canvas.draw()},Et.prototype.getTime=function(){return this.current},Et}(),ee=Jt,Be=40,Ge=0,Fe=":",or=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function fr(Et,pt){for(var at in Et)if(Et.hasOwnProperty(at)&&at.indexOf(Fe+pt)>=0)return!0;return!1}function ze(Et,pt,at){at.name=pt,at.target=Et,at.currentTarget=Et,at.delegateTarget=Et,Et.emit(pt,at)}function gr(Et,pt,at){if(at.bubbles){var ht=void 0,Lt=!1;if(pt==="mouseenter"?(ht=at.fromShape,Lt=!0):pt==="mouseleave"&&(Lt=!0,ht=at.toShape),Et.isCanvas()&&Lt)return;if(ht&&st(Et,ht)){at.bubbles=!1;return}at.name=pt,at.currentTarget=Et,at.delegateTarget=Et,Et.emit(pt,at)}}var Br=function(){function Et(pt){var at=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(ht){var Lt=ht.type;at._triggerEvent(Lt,ht)},this._onDocumentMove=function(ht){var Lt=at.canvas,Vt=Lt.get("el");if(Vt!==ht.target&&(at.dragging||at.currentShape)){var de=at._getPointInfo(ht);at.dragging&&at._emitEvent("drag",ht,de,at.draggingShape)}},this._onDocumentMouseUp=function(ht){var Lt=at.canvas,Vt=Lt.get("el");if(Vt!==ht.target&&at.dragging){var de=at._getPointInfo(ht);at.draggingShape&&at._emitEvent("drop",ht,de,null),at._emitEvent("dragend",ht,de,at.draggingShape),at._afterDrag(at.draggingShape,de,ht)}},this.canvas=pt.canvas}return Et.prototype.init=function(){this._bindEvents()},Et.prototype._bindEvents=function(){var pt=this,at=this.canvas.get("el");(0,T.each)(or,function(ht){at.addEventListener(ht,pt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Et.prototype._clearEvents=function(){var pt=this,at=this.canvas.get("el");(0,T.each)(or,function(ht){at.removeEventListener(ht,pt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Et.prototype._getEventObj=function(pt,at,ht,Lt,Vt,de){var Ee=new $t(pt,at);return Ee.fromShape=Vt,Ee.toShape=de,Ee.x=ht.x,Ee.y=ht.y,Ee.clientX=ht.clientX,Ee.clientY=ht.clientY,Ee.propagationPath.push(Lt),Ee},Et.prototype._getShape=function(pt,at){return this.canvas.getShape(pt.x,pt.y,at)},Et.prototype._getPointInfo=function(pt){var at=this.canvas,ht=at.getClientByEvent(pt),Lt=at.getPointByEvent(pt);return{x:Lt.x,y:Lt.y,clientX:ht.x,clientY:ht.y}},Et.prototype._triggerEvent=function(pt,at){var ht=this._getPointInfo(at),Lt=this._getShape(ht,at),Vt=this["_on"+pt],de=!1;if(Vt)Vt.call(this,ht,Lt,at);else{var Ee=this.currentShape;pt==="mouseenter"||pt==="dragenter"||pt==="mouseover"?(this._emitEvent(pt,at,ht,null,null,Lt),Lt&&this._emitEvent(pt,at,ht,Lt,null,Lt),pt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",at,ht,null)):pt==="mouseleave"||pt==="dragleave"||pt==="mouseout"?(de=!0,Ee&&this._emitEvent(pt,at,ht,Ee,Ee,null),this._emitEvent(pt,at,ht,null,Ee,null),pt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",at,ht,null)):this._emitEvent(pt,at,ht,Lt,null,null)}if(de||(this.currentShape=Lt),Lt&&!Lt.get("destroyed")){var Ae=this.canvas,Re=Ae.get("el");Re.style.cursor=Lt.attr("cursor")||Ae.get("cursor")}},Et.prototype._onmousedown=function(pt,at,ht){ht.button===Ge&&(this.mousedownShape=at,this.mousedownPoint=pt,this.mousedownTimeStamp=ht.timeStamp),this._emitEvent("mousedown",ht,pt,at,null,null)},Et.prototype._emitMouseoverEvents=function(pt,at,ht,Lt){var Vt=this.canvas.get("el");ht!==Lt&&(ht&&(this._emitEvent("mouseout",pt,at,ht,ht,Lt),this._emitEvent("mouseleave",pt,at,ht,ht,Lt),(!Lt||Lt.get("destroyed"))&&(Vt.style.cursor=this.canvas.get("cursor"))),Lt&&(this._emitEvent("mouseover",pt,at,Lt,ht,Lt),this._emitEvent("mouseenter",pt,at,Lt,ht,Lt)))},Et.prototype._emitDragoverEvents=function(pt,at,ht,Lt,Vt){Lt?(Lt!==ht&&(ht&&this._emitEvent("dragleave",pt,at,ht,ht,Lt),this._emitEvent("dragenter",pt,at,Lt,ht,Lt)),Vt||this._emitEvent("dragover",pt,at,Lt)):ht&&this._emitEvent("dragleave",pt,at,ht,ht,Lt),Vt&&this._emitEvent("dragover",pt,at,Lt)},Et.prototype._afterDrag=function(pt,at,ht){pt&&(pt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Lt=this._getShape(at,ht);Lt!==pt&&this._emitMouseoverEvents(ht,at,pt,Lt),this.currentShape=Lt},Et.prototype._onmouseup=function(pt,at,ht){if(ht.button===Ge){var Lt=this.draggingShape;this.dragging?(Lt&&this._emitEvent("drop",ht,pt,at),this._emitEvent("dragend",ht,pt,Lt),this._afterDrag(Lt,pt,ht)):(this._emitEvent("mouseup",ht,pt,at),at===this.mousedownShape&&this._emitEvent("click",ht,pt,at),this.mousedownShape=null,this.mousedownPoint=null)}},Et.prototype._ondragover=function(pt,at,ht){ht.preventDefault();var Lt=this.currentShape;this._emitDragoverEvents(ht,pt,Lt,at,!0)},Et.prototype._onmousemove=function(pt,at,ht){var Lt=this.canvas,Vt=this.currentShape,de=this.draggingShape;if(this.dragging)de&&this._emitDragoverEvents(ht,pt,Vt,at,!1),this._emitEvent("drag",ht,pt,de);else{var Ee=this.mousedownPoint;if(Ee){var Ae=this.mousedownShape,Re=ht.timeStamp,Je=Re-this.mousedownTimeStamp,qe=Ee.clientX-pt.clientX,sr=Ee.clientY-pt.clientY,Ir=qe*qe+sr*sr;Je>120||Ir>Be?Ae&&Ae.get("draggable")?(de=this.mousedownShape,de.set("capture",!1),this.draggingShape=de,this.dragging=!0,this._emitEvent("dragstart",ht,pt,de),this.mousedownShape=null,this.mousedownPoint=null):!Ae&&Lt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",ht,pt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(ht,pt,Vt,at),this._emitEvent("mousemove",ht,pt,at)):(this._emitMouseoverEvents(ht,pt,Vt,at),this._emitEvent("mousemove",ht,pt,at))}else this._emitMouseoverEvents(ht,pt,Vt,at),this._emitEvent("mousemove",ht,pt,at)}},Et.prototype._emitEvent=function(pt,at,ht,Lt,Vt,de){var Ee=this._getEventObj(pt,at,ht,Lt,Vt,de);if(Lt){Ee.shape=Lt,ze(Lt,pt,Ee);for(var Ae=Lt.getParent();Ae;)Ae.emitDelegation(pt,Ee),Ee.propagationStopped||gr(Ae,pt,Ee),Ee.propagationPath.push(Ae),Ae=Ae.getParent()}else{var Re=this.canvas;ze(Re,pt,Ee)}},Et.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Et}(),en=Br,Yr="px",Fr=(0,jt.detect)(),Sr=Fr&&Fr.name==="firefox",Jr=function(Et){he(pt,Et);function pt(at){var ht=Et.call(this,at)||this;return ht.initContainer(),ht.initDom(),ht.initEvents(),ht.initTimeline(),ht}return pt.prototype.getDefaultCfg=function(){var at=Et.prototype.getDefaultCfg.call(this);return at.cursor="default",at.supportCSSTransform=!1,at},pt.prototype.initContainer=function(){var at=this.get("container");(0,T.isString)(at)&&(at=document.getElementById(at),this.set("container",at))},pt.prototype.initDom=function(){var at=this.createDom();this.set("el",at);var ht=this.get("container");ht.appendChild(at),this.setDOMSize(this.get("width"),this.get("height"))},pt.prototype.initEvents=function(){var at=new en({canvas:this});at.init(),this.set("eventController",at)},pt.prototype.initTimeline=function(){var at=new ee(this);this.set("timeline",at)},pt.prototype.setDOMSize=function(at,ht){var Lt=this.get("el");Yt&&(Lt.style.width=at+Yr,Lt.style.height=ht+Yr)},pt.prototype.changeSize=function(at,ht){this.setDOMSize(at,ht),this.set("width",at),this.set("height",ht),this.onCanvasChange("changeSize")},pt.prototype.getRenderer=function(){return this.get("renderer")},pt.prototype.getCursor=function(){return this.get("cursor")},pt.prototype.setCursor=function(at){this.set("cursor",at);var ht=this.get("el");Yt&&ht&&(ht.style.cursor=at)},pt.prototype.getPointByEvent=function(at){var ht=this.get("supportCSSTransform");if(ht){if(Sr&&!(0,T.isNil)(at.layerX)&&at.layerX!==at.offsetX)return{x:at.layerX,y:at.layerY};if(!(0,T.isNil)(at.offsetX))return{x:at.offsetX,y:at.offsetY}}var Lt=this.getClientByEvent(at),Vt=Lt.x,de=Lt.y;return this.getPointByClient(Vt,de)},pt.prototype.getClientByEvent=function(at){var ht=at;return at.touches&&(at.type==="touchend"?ht=at.changedTouches[0]:ht=at.touches[0]),{x:ht.clientX,y:ht.clientY}},pt.prototype.getPointByClient=function(at,ht){var Lt=this.get("el"),Vt=Lt.getBoundingClientRect();return{x:at-Vt.left,y:ht-Vt.top}},pt.prototype.getClientByPoint=function(at,ht){var Lt=this.get("el"),Vt=Lt.getBoundingClientRect();return{x:at+Vt.left,y:ht+Vt.top}},pt.prototype.draw=function(){},pt.prototype.removeDom=function(){var at=this.get("el");at.parentNode.removeChild(at)},pt.prototype.clearEvents=function(){var at=this.get("eventController");at.destroy()},pt.prototype.isCanvas=function(){return!0},pt.prototype.getParent=function(){return null},pt.prototype.destroy=function(){var at=this.get("timeline");this.get("destroyed")||(this.clear(),at&&at.stop(),this.clearEvents(),this.removeDom(),Et.prototype.destroy.call(this))},pt}(Jn),vn=Jr,Tn=function(Et){he(pt,Et);function pt(){return Et!==null&&Et.apply(this,arguments)||this}return pt.prototype.isGroup=function(){return!0},pt.prototype.isEntityGroup=function(){return!1},pt.prototype.clone=function(){for(var at=Et.prototype.clone.call(this),ht=this.getChildren(),Lt=0;Lt<ht.length;Lt++){var Vt=ht[Lt];at.add(Vt.clone())}return at},pt}(Jn),Gn=Tn,Yn=function(Et){he(pt,Et);function pt(at){return Et.call(this,at)||this}return pt.prototype._isInBBox=function(at,ht){var Lt=this.getBBox();return Lt.minX<=at&&Lt.maxX>=at&&Lt.minY<=ht&&Lt.maxY>=ht},pt.prototype.afterAttrsChange=function(at){Et.prototype.afterAttrsChange.call(this,at),this.clearCacheBBox()},pt.prototype.getBBox=function(){var at=this.cfg.bbox;return at||(at=this.calculateBBox(),this.set("bbox",at)),at},pt.prototype.getCanvasBBox=function(){var at=this.cfg.canvasBBox;return at||(at=this.calculateCanvasBBox(),this.set("canvasBBox",at)),at},pt.prototype.applyMatrix=function(at){Et.prototype.applyMatrix.call(this,at),this.set("canvasBBox",null)},pt.prototype.calculateCanvasBBox=function(){var at=this.getBBox(),ht=this.getTotalMatrix(),Lt=at.minX,Vt=at.minY,de=at.maxX,Ee=at.maxY;if(ht){var Ae=_r(ht,[at.minX,at.minY]),Re=_r(ht,[at.maxX,at.minY]),Je=_r(ht,[at.minX,at.maxY]),qe=_r(ht,[at.maxX,at.maxY]);Lt=Math.min(Ae[0],Re[0],Je[0],qe[0]),de=Math.max(Ae[0],Re[0],Je[0],qe[0]),Vt=Math.min(Ae[1],Re[1],Je[1],qe[1]),Ee=Math.max(Ae[1],Re[1],Je[1],qe[1])}var sr=this.attrs;if(sr.shadowColor){var Ir=sr.shadowBlur,er=Ir===void 0?0:Ir,qr=sr.shadowOffsetX,Xt=qr===void 0?0:qr,bt=sr.shadowOffsetY,F=bt===void 0?0:bt,U=Lt-er+Xt,lt=de+er+Xt,Mt=Vt-er+F,Gt=Ee+er+F;Lt=Math.min(Lt,U),de=Math.max(de,lt),Vt=Math.min(Vt,Mt),Ee=Math.max(Ee,Gt)}return{x:Lt,y:Vt,minX:Lt,minY:Vt,maxX:de,maxY:Ee,width:de-Lt,height:Ee-Vt}},pt.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},pt.prototype.isClipShape=function(){return this.get("isClipShape")},pt.prototype.isInShape=function(at,ht){return!1},pt.prototype.isOnlyHitBox=function(){return!1},pt.prototype.isHit=function(at,ht){var Lt=this.get("startArrowShape"),Vt=this.get("endArrowShape"),de=[at,ht,1];de=this.invertFromMatrix(de);var Ee=de[0],Ae=de[1],Re=this._isInBBox(Ee,Ae);return this.isOnlyHitBox()?Re:!!(Re&&!this.isClipped(Ee,Ae)&&(this.isInShape(Ee,Ae)||Lt&&Lt.isHit(Ee,Ae)||Vt&&Vt.isHit(Ee,Ae)))},pt}(mr),Oi=Yn,Fi=new Map;function gi(Et,pt){Fi.set(Et,pt)}function Wi(Et){return Fi.get(Et)}function Ji(Et){var pt=Et.attr(),at=pt.x,ht=pt.y,Lt=pt.width,Vt=pt.height;return{x:at,y:ht,width:Lt,height:Vt}}function qi(Et){var pt=Et.attr(),at=pt.x,ht=pt.y,Lt=pt.r;return{x:at-Lt,y:ht-Lt,width:Lt*2,height:Lt*2}}var gn=v(89838);function aa(Et,pt){return!Et||!pt?Et||pt:{minX:Math.min(Et.minX,pt.minX),minY:Math.min(Et.minY,pt.minY),maxX:Math.max(Et.maxX,pt.maxX),maxY:Math.max(Et.maxY,pt.maxY)}}function ti(Et,pt){var at=Et.get("startArrowShape"),ht=Et.get("endArrowShape"),Lt=null,Vt=null;return at&&(Lt=at.getCanvasBBox(),pt=aa(pt,Lt)),ht&&(Vt=ht.getCanvasBBox(),pt=aa(pt,Vt)),pt}function Mi(Et){for(var pt=Et.attr(),at=pt.points,ht=[],Lt=[],Vt=0;Vt<at.length;Vt++){var de=at[Vt];ht.push(de[0]),Lt.push(de[1])}var Ee=gn.Util.getBBoxByArray(ht,Lt),Ae=Ee.x,Re=Ee.y,Je=Ee.width,qe=Ee.height,sr={minX:Ae,minY:Re,maxX:Ae+Je,maxY:Re+qe};return sr=ti(Et,sr),{x:sr.minX,y:sr.minY,width:sr.maxX-sr.minX,height:sr.maxY-sr.minY}}function za(Et){for(var pt=Et.attr(),at=pt.points,ht=[],Lt=[],Vt=0;Vt<at.length;Vt++){var de=at[Vt];ht.push(de[0]),Lt.push(de[1])}return gn.Util.getBBoxByArray(ht,Lt)}var Ri=null;function ma(){if(!Ri){var Et=document.createElement("canvas");Et.width=1,Et.height=1,Ri=Et.getContext("2d")}return Ri}function Oa(Et,pt,at){var ht=1;if((0,T.isString)(Et)&&(ht=Et.split(`
`).length),ht>1){var Lt=Ia(pt,at);return pt*ht+Lt*(ht-1)}return pt}function Ia(Et,pt){return pt?pt-Et:Et*.14}function Ni(Et,pt){var at=ma(),ht=0;if((0,T.isNil)(Et)||Et==="")return ht;if(at.save(),at.font=pt,(0,T.isString)(Et)&&Et.includes(`
`)){var Lt=Et.split(`
`);(0,T.each)(Lt,function(Vt){var de=at.measureText(Vt).width;ht<de&&(ht=de)})}else ht=at.measureText(Et).width;return at.restore(),ht}function xa(Et){var pt=Et.fontSize,at=Et.fontFamily,ht=Et.fontWeight,Lt=Et.fontStyle,Vt=Et.fontVariant;return[Lt,Vt,ht,pt+"px",at].join(" ").trim()}function ta(Et){var pt=Et.attr(),at=pt.x,ht=pt.y,Lt=pt.text,Vt=pt.fontSize,de=pt.lineHeight,Ee=pt.font;Ee||(Ee=xa(pt));var Ae=Ni(Lt,Ee),Re;if(!Ae)Re={x:at,y:ht,width:0,height:0};else{var Je=pt.textAlign,qe=pt.textBaseline,sr=Oa(Lt,Vt,de),Ir={x:at,y:ht-sr};Je&&(Je==="end"||Je==="right"?Ir.x-=Ae:Je==="center"&&(Ir.x-=Ae/2)),qe&&(qe==="top"?Ir.y+=sr:qe==="middle"&&(Ir.y+=sr/2)),Re={x:Ir.x,y:Ir.y,width:Ae,height:sr}}return Re}var Ei=v(57350);function ba(Et,pt){for(var at=[],ht=[],Lt=[],Vt=0;Vt<Et.length;Vt++){var de=Et[Vt],Ee=de.currentPoint,Ae=de.params,Re=de.prePoint,Je=void 0;switch(de.command){case"Q":Je=gn.Quad.box(Re[0],Re[1],Ae[1],Ae[2],Ae[3],Ae[4]);break;case"C":Je=gn.Cubic.box(Re[0],Re[1],Ae[1],Ae[2],Ae[3],Ae[4],Ae[5],Ae[6]);break;case"A":var qe=de.arcParams;Je=gn.Arc.box(qe.cx,qe.cy,qe.rx,qe.ry,qe.xRotation,qe.startAngle,qe.endAngle);break;default:at.push(Ee[0]),ht.push(Ee[1]);break}Je&&(de.box=Je,at.push(Je.x,Je.x+Je.width),ht.push(Je.y,Je.y+Je.height)),pt&&(de.command==="L"||de.command==="M")&&de.prePoint&&de.nextPoint&&Lt.push(de)}at=at.filter(function(bt){return!Number.isNaN(bt)&&bt!==Infinity&&bt!==-Infinity}),ht=ht.filter(function(bt){return!Number.isNaN(bt)&&bt!==Infinity&&bt!==-Infinity});var sr=(0,T.min)(at),Ir=(0,T.min)(ht),er=(0,T.max)(at),qr=(0,T.max)(ht);if(Lt.length===0)return{x:sr,y:Ir,width:er-sr,height:qr-Ir};for(var Vt=0;Vt<Lt.length;Vt++){var de=Lt[Vt],Ee=de.currentPoint,Xt=void 0;Ee[0]===sr?(Xt=ji(de,pt),sr=sr-Xt.xExtra):Ee[0]===er&&(Xt=ji(de,pt),er=er+Xt.xExtra),Ee[1]===Ir?(Xt=ji(de,pt),Ir=Ir-Xt.yExtra):Ee[1]===qr&&(Xt=ji(de,pt),qr=qr+Xt.yExtra)}return{x:sr,y:Ir,width:er-sr,height:qr-Ir}}function ji(Et,pt){var at=Et.prePoint,ht=Et.currentPoint,Lt=Et.nextPoint,Vt=Math.pow(ht[0]-at[0],2)+Math.pow(ht[1]-at[1],2),de=Math.pow(ht[0]-Lt[0],2)+Math.pow(ht[1]-Lt[1],2),Ee=Math.pow(at[0]-Lt[0],2)+Math.pow(at[1]-Lt[1],2),Ae=Math.acos((Vt+de-Ee)/(2*Math.sqrt(Vt)*Math.sqrt(de)));if(!Ae||Math.sin(Ae)===0||(0,T.isNumberEqual)(Ae,0))return{xExtra:0,yExtra:0};var Re=Math.abs(Math.atan2(Lt[1]-ht[1],Lt[0]-ht[0])),Je=Math.abs(Math.atan2(Lt[0]-ht[0],Lt[1]-ht[1]));Re=Re>Math.PI/2?Math.PI-Re:Re,Je=Je>Math.PI/2?Math.PI-Je:Je;var qe={xExtra:Math.cos(Ae/2-Re)*(pt/2*(1/Math.sin(Ae/2)))-pt/2||0,yExtra:Math.cos(Je-Ae/2)*(pt/2*(1/Math.sin(Ae/2)))-pt/2||0};return qe}function Va(Et){var pt=Et.attr(),at=pt.path,ht=pt.stroke,Lt=ht?pt.lineWidth:0,Vt=Et.get("segments")||(0,Ei.path2Segments)(at),de=ba(Vt,Lt),Ee=de.x,Ae=de.y,Re=de.width,Je=de.height,qe={minX:Ee,minY:Ae,maxX:Ee+Re,maxY:Ae+Je};return qe=ti(Et,qe),{x:qe.minX,y:qe.minY,width:qe.maxX-qe.minX,height:qe.maxY-qe.minY}}function wa(Et){var pt=Et.attr(),at=pt.x1,ht=pt.y1,Lt=pt.x2,Vt=pt.y2,de=Math.min(at,Lt),Ee=Math.max(at,Lt),Ae=Math.min(ht,Vt),Re=Math.max(ht,Vt),Je={minX:de,maxX:Ee,minY:Ae,maxY:Re};return Je=ti(Et,Je),{x:Je.minX,y:Je.minY,width:Je.maxX-Je.minX,height:Je.maxY-Je.minY}}function To(Et){var pt=Et.attr(),at=pt.x,ht=pt.y,Lt=pt.rx,Vt=pt.ry;return{x:at-Lt,y:ht-Vt,width:Lt*2,height:Vt*2}}gi("rect",Ji),gi("image",Ji),gi("circle",qi),gi("marker",qi),gi("polyline",Mi),gi("polygon",za),gi("text",ta),gi("path",Va),gi("line",wa),gi("ellipse",To);var co="0.5.11"},21885:function(ct,C){"use strict";var v;v={value:!0};var d=function(){function T(P,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=P,this.name=P,this.originalEvent=I,this.timeStamp=I.timeStamp}return T.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},T.prototype.stopPropagation=function(){this.propagationStopped=!0},T.prototype.toString=function(){var P=this.type;return"[Event (type="+P+")]"},T.prototype.save=function(){},T.prototype.restore=function(){},T}();C.Z=d},19083:function(ct,C,v){"use strict";var d;d={value:!0};var T=v(99519),P=v(29126),I=v(24818),O=v(15483),A=v(73074),E=v(94478),S=v(73906),y=function(b){T.__extends(p,b);function p(){return b!==null&&b.apply(this,arguments)||this}return p.prototype.getDefaultCfg=function(){var m=b.prototype.getDefaultCfg.call(this);return m.renderer="canvas",m.autoDraw=!0,m.localRefresh=!0,m.refreshElements=[],m.clipView=!0,m.quickHit=!1,m},p.prototype.onCanvasChange=function(m){(m==="attr"||m==="sort"||m==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},p.prototype.getShapeBase=function(){return O},p.prototype.getGroupBase=function(){return A.default},p.prototype.getPixelRatio=function(){var m=this.get("pixelRatio")||E.getPixelRatio();return m>=1?Math.ceil(m):1},p.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},p.prototype.createDom=function(){var m=document.createElement("canvas"),x=m.getContext("2d");return this.set("context",x),m},p.prototype.setDOMSize=function(m,x){b.prototype.setDOMSize.call(this,m,x);var M=this.get("context"),k=this.get("el"),_=this.getPixelRatio();k.width=_*m,k.height=_*x,_>1&&M.scale(_,_)},p.prototype.clear=function(){b.prototype.clear.call(this),this._clearFrame();var m=this.get("context"),x=this.get("el");m.clearRect(0,0,x.width,x.height)},p.prototype.getShape=function(m,x){var M;return this.get("quickHit")?M=I.getShape(this,m,x):M=b.prototype.getShape.call(this,m,x,null),M},p.prototype._getRefreshRegion=function(){var m=this.get("refreshElements"),x=this.getViewRange(),M;if(m.length&&m[0]===this)M=x;else if(M=S.getMergedRegion(m),M){M.minX=Math.floor(M.minX),M.minY=Math.floor(M.minY),M.maxX=Math.ceil(M.maxX),M.maxY=Math.ceil(M.maxY),M.maxY+=1;var k=this.get("clipView");k&&(M=S.mergeView(M,x))}return M},p.prototype.refreshElement=function(m){var x=this.get("refreshElements");x.push(m)},p.prototype._clearFrame=function(){var m=this.get("drawFrame");m&&(E.clearAnimationFrame(m),this.set("drawFrame",null),this.set("refreshElements",[]))},p.prototype.draw=function(){var m=this.get("drawFrame");this.get("autoDraw")&&m||this._startDraw()},p.prototype._drawAll=function(){var m=this.get("context"),x=this.get("el"),M=this.getChildren();m.clearRect(0,0,x.width,x.height),S.applyAttrsToContext(m,this),S.drawChildren(m,M),this.set("refreshElements",[])},p.prototype._drawRegion=function(){var m=this.get("context"),x=this.get("refreshElements"),M=this.getChildren(),k=this._getRefreshRegion();k?(m.clearRect(k.minX,k.minY,k.maxX-k.minX,k.maxY-k.minY),m.save(),m.beginPath(),m.rect(k.minX,k.minY,k.maxX-k.minX,k.maxY-k.minY),m.clip(),S.applyAttrsToContext(m,this),S.checkRefresh(this,M,k),S.drawChildren(m,M,k),m.restore()):x.length&&S.clearChanged(x),E.each(x,function(_){_.get("hasChanged")&&_.set("hasChanged",!1)}),this.set("refreshElements",[])},p.prototype._startDraw=function(){var m=this,x=this.get("drawFrame");x||(x=E.requestAnimationFrame(function(){m.get("localRefresh")?m._drawRegion():m._drawAll(),m.set("drawFrame",null)}),this.set("drawFrame",x))},p.prototype.skipDraw=function(){},p.prototype.removeDom=function(){var m=this.get("el");m.width=0,m.height=0,m.parentNode.removeChild(m)},p}(P.AbstractCanvas);C.Z=y},73074:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(99519),T=v(29126),P=v(15483),I=v(73906),O=v(49242),A=v(94478),E=function(S){d.__extends(y,S);function y(){return S!==null&&S.apply(this,arguments)||this}return y.prototype.onCanvasChange=function(b){I.refreshElement(this,b)},y.prototype.getShapeBase=function(){return P},y.prototype.getGroupBase=function(){return y},y.prototype._applyClip=function(b,p){p&&(b.save(),I.applyAttrsToContext(b,p),p.createPath(b),b.restore(),b.clip(),p._afterDraw())},y.prototype.cacheCanvasBBox=function(){var b=this.cfg.children,p=[],m=[];O.each(b,function(R){var K=R.cfg.cacheCanvasBBox;K&&R.cfg.isInView&&(p.push(K.minX,K.maxX),m.push(K.minY,K.maxY))});var x=null;if(p.length){var M=O.min(p),k=O.max(p),_=O.min(m),B=O.max(m);x={minX:M,minY:_,x:M,y:_,maxX:k,maxY:B,width:k-M,height:B-_};var z=this.cfg.canvas;if(z){var W=z.getViewRange();this.set("isInView",A.intersectRect(x,W))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",x)},y.prototype.draw=function(b,p){var m=this.cfg.children,x=p?this.cfg.refresh:!0;m.length&&x&&(b.save(),I.applyAttrsToContext(b,this),this._applyClip(b,this.getClip()),I.drawChildren(b,m,p),b.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},y.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},y}(T.AbstractGroup);C.default=E},74460:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(99519),T=v(29126),P=v(94478),I=v(73906),O=v(29126),A=v(15483),E=v(73074),S=function(y){d.__extends(b,y);function b(){return y!==null&&y.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var p=y.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},p),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},b.prototype.getShapeBase=function(){return A},b.prototype.getGroupBase=function(){return E.default},b.prototype.onCanvasChange=function(p){I.refreshElement(this,p)},b.prototype.calculateBBox=function(){var p=this.get("type"),m=this.getHitLineWidth(),x=O.getBBoxMethod(p),M=x(this),k=m/2,_=M.x-k,B=M.y-k,z=M.x+M.width+k,W=M.y+M.height+k;return{x:_,minX:_,y:B,minY:B,width:M.width+m,height:M.height+m,maxX:z,maxY:W}},b.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},b.prototype.isStroke=function(){return!!this.attrs.stroke},b.prototype._applyClip=function(p,m){m&&(p.save(),I.applyAttrsToContext(p,m),m.createPath(p),p.restore(),p.clip(),m._afterDraw())},b.prototype.draw=function(p,m){var x=this.cfg.clipShape;if(m){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var M=this.getCanvasBBox();if(!P.intersectRect(m,M)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}p.save(),I.applyAttrsToContext(p,this),this._applyClip(p,x),this.drawPath(p),p.restore(),this._afterDraw()},b.prototype.getCanvasViewBox=function(){var p=this.cfg.canvas;return p?p.getViewRange():null},b.prototype.cacheCanvasBBox=function(){var p=this.getCanvasViewBox();if(p){var m=this.getCanvasBBox(),x=P.intersectRect(m,p);this.set("isInView",x),x?this.set("cacheCanvasBBox",m):this.set("cacheCanvasBBox",null)}},b.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},b.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},b.prototype.drawPath=function(p){this.createPath(p),this.strokeAndFill(p),this.afterDrawPath(p)},b.prototype.fill=function(p){p.fill()},b.prototype.stroke=function(p){p.stroke()},b.prototype.strokeAndFill=function(p){var m=this.attrs,x=m.lineWidth,M=m.opacity,k=m.strokeOpacity,_=m.fillOpacity;this.isFill()&&(!P.isNil(_)&&_!==1?(p.globalAlpha=_,this.fill(p),p.globalAlpha=M):this.fill(p)),this.isStroke()&&x>0&&(!P.isNil(k)&&k!==1&&(p.globalAlpha=k),this.stroke(p)),this.afterDrawPath(p)},b.prototype.createPath=function(p){},b.prototype.afterDrawPath=function(p){},b.prototype.isInShape=function(p,m){var x=this.isStroke(),M=this.isFill(),k=this.getHitLineWidth();return this.isInStrokeOrPath(p,m,x,M,k)},b.prototype.isInStrokeOrPath=function(p,m,x,M,k){return!1},b.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var p=this.attrs;return p.lineWidth+p.lineAppendWidth},b}(T.AbstractShape);C.default=S},66778:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(99519),T=v(74460),P=v(94478),I=function(O){d.__extends(A,O);function A(){return O!==null&&O.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var E=O.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},E),{x:0,y:0,r:0})},A.prototype.isInStrokeOrPath=function(E,S,y,b,p){var m=this.attr(),x=m.x,M=m.y,k=m.r,_=p/2,B=P.distance(x,M,E,S);return b&&y?B<=k+_:b?B<=k:y?B>=k-_&&B<=k+_:!1},A.prototype.createPath=function(E){var S=this.attr(),y=S.x,b=S.y,p=S.r;E.beginPath(),E.arc(y,b,p,0,Math.PI*2,!1),E.closePath()},A}(T.default);C.default=I},21421:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(99519),T=v(74460);function P(O,A,E,S){return O/(E*E)+A/(S*S)}var I=function(O){d.__extends(A,O);function A(){return O!==null&&O.apply(this,arguments)||this}return A.prototype.getDefaultAttrs=function(){var E=O.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},E),{x:0,y:0,rx:0,ry:0})},A.prototype.isInStrokeOrPath=function(E,S,y,b,p){var m=this.attr(),x=p/2,M=m.x,k=m.y,_=m.rx,B=m.ry,z=(E-M)*(E-M),W=(S-k)*(S-k);return b&&y?P(z,W,_+x,B+x)<=1:b?P(z,W,_,B)<=1:y?P(z,W,_-x,B-x)>=1&&P(z,W,_+x,B+x)<=1:!1},A.prototype.createPath=function(E){var S=this.attr(),y=S.x,b=S.y,p=S.rx,m=S.ry;if(E.beginPath(),E.ellipse)E.ellipse(y,b,p,m,0,0,Math.PI*2,!1);else{var x=p>m?p:m,M=p>m?1:p/m,k=p>m?m/p:1;E.save(),E.translate(y,b),E.scale(M,k),E.arc(0,0,x,0,Math.PI*2),E.restore(),E.closePath()}},A}(T.default);C.default=I},89473:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(99519),T=v(74460),P=v(94478);function I(A){return A instanceof HTMLElement&&P.isString(A.nodeName)&&A.nodeName.toUpperCase()==="CANVAS"}var O=function(A){d.__extends(E,A);function E(){return A!==null&&A.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var S=A.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},S),{x:0,y:0,width:0,height:0})},E.prototype.initAttrs=function(S){this._setImage(S.img)},E.prototype.isStroke=function(){return!1},E.prototype.isOnlyHitBox=function(){return!0},E.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var S=this.get("canvas");S?S.draw():this.createPath(this.get("context"))}},E.prototype._setImage=function(S){var y=this,b=this.attrs;if(P.isString(S)){var p=new Image;p.onload=function(){if(y.destroyed)return!1;y.attr("img",p),y.set("loading",!1),y._afterLoading();var m=y.get("callback");m&&m.call(y)},p.crossOrigin="Anonymous",p.src=S,this.set("loading",!0)}else S instanceof Image?(b.width||(b.width=S.width),b.height||(b.height=S.height)):I(S)&&(b.width||(b.width=Number(S.getAttribute("width"))),b.height||(b.height,Number(S.getAttribute("height"))))},E.prototype.onAttrChange=function(S,y,b){A.prototype.onAttrChange.call(this,S,y,b),S==="img"&&this._setImage(y)},E.prototype.createPath=function(S){if(this.get("loading")){this.set("toDraw",!0),this.set("context",S);return}var y=this.attr(),b=y.x,p=y.y,m=y.width,x=y.height,M=y.sx,k=y.sy,_=y.swidth,B=y.sheight,z=y.img;(z instanceof Image||I(z))&&(!P.isNil(M)&&!P.isNil(k)&&!P.isNil(_)&&!P.isNil(B)?S.drawImage(z,M,k,_,B,b,p,m,x):S.drawImage(z,b,p,m,x))},E}(T.default);C.default=O},15483:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.Text=C.Rect=C.Polyline=C.Polygon=C.Path=C.Marker=C.Line=C.Image=C.Ellipse=C.Circle=C.Base=void 0;var d=v(74460);Object.defineProperty(C,"Base",{enumerable:!0,get:function(){return d.default}});var T=v(66778);Object.defineProperty(C,"Circle",{enumerable:!0,get:function(){return T.default}});var P=v(21421);Object.defineProperty(C,"Ellipse",{enumerable:!0,get:function(){return P.default}});var I=v(89473);Object.defineProperty(C,"Image",{enumerable:!0,get:function(){return I.default}});var O=v(32766);Object.defineProperty(C,"Line",{enumerable:!0,get:function(){return O.default}});var A=v(50796);Object.defineProperty(C,"Marker",{enumerable:!0,get:function(){return A.default}});var E=v(42489);Object.defineProperty(C,"Path",{enumerable:!0,get:function(){return E.default}});var S=v(51567);Object.defineProperty(C,"Polygon",{enumerable:!0,get:function(){return S.default}});var y=v(54423);Object.defineProperty(C,"Polyline",{enumerable:!0,get:function(){return y.default}});var b=v(83095);Object.defineProperty(C,"Rect",{enumerable:!0,get:function(){return b.default}});var p=v(17860);Object.defineProperty(C,"Text",{enumerable:!0,get:function(){return p.default}})},32766:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(99519),T=v(89838),P=v(74460),I=v(63131),O=v(87200),A=function(E){d.__extends(S,E);function S(){return E!==null&&E.apply(this,arguments)||this}return S.prototype.getDefaultAttrs=function(){var y=E.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},y),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},S.prototype.initAttrs=function(y){this.setArrow()},S.prototype.onAttrChange=function(y,b,p){E.prototype.onAttrChange.call(this,y,b,p),this.setArrow()},S.prototype.setArrow=function(){var y=this.attr(),b=y.x1,p=y.y1,m=y.x2,x=y.y2,M=y.startArrow,k=y.endArrow;M&&O.addStartArrow(this,y,m,x,b,p),k&&O.addEndArrow(this,y,b,p,m,x)},S.prototype.isInStrokeOrPath=function(y,b,p,m,x){if(!p||!x)return!1;var M=this.attr(),k=M.x1,_=M.y1,B=M.x2,z=M.y2;return I.default(k,_,B,z,x,y,b)},S.prototype.createPath=function(y){var b=this.attr(),p=b.x1,m=b.y1,x=b.x2,M=b.y2,k=b.startArrow,_=b.endArrow,B={dx:0,dy:0},z={dx:0,dy:0};k&&k.d&&(B=O.getShortenOffset(p,m,x,M,b.startArrow.d)),_&&_.d&&(z=O.getShortenOffset(p,m,x,M,b.endArrow.d)),y.beginPath(),y.moveTo(p+B.dx,m+B.dy),y.lineTo(x-z.dx,M-z.dy)},S.prototype.afterDrawPath=function(y){var b=this.get("startArrowShape"),p=this.get("endArrowShape");b&&b.draw(y),p&&p.draw(y)},S.prototype.getTotalLength=function(){var y=this.attr(),b=y.x1,p=y.y1,m=y.x2,x=y.y2;return T.Line.length(b,p,m,x)},S.prototype.getPoint=function(y){var b=this.attr(),p=b.x1,m=b.y1,x=b.x2,M=b.y2;return T.Line.pointAt(p,m,x,M,y)},S}(P.default);C.default=A},50796:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(99519),T=v(49242),P=v(57350),I=v(74460),O=v(94478),A=v(73906),E={circle:function(y,b,p){return[["M",y-p,b],["A",p,p,0,1,0,y+p,b],["A",p,p,0,1,0,y-p,b]]},square:function(y,b,p){return[["M",y-p,b-p],["L",y+p,b-p],["L",y+p,b+p],["L",y-p,b+p],["Z"]]},diamond:function(y,b,p){return[["M",y-p,b],["L",y,b-p],["L",y+p,b],["L",y,b+p],["Z"]]},triangle:function(y,b,p){var m=p*Math.sin(1/3*Math.PI);return[["M",y-p,b+m],["L",y,b-m],["L",y+p,b+m],["Z"]]},"triangle-down":function(y,b,p){var m=p*Math.sin(1/3*Math.PI);return[["M",y-p,b-m],["L",y+p,b-m],["L",y,b+m],["Z"]]}},S=function(y){d.__extends(b,y);function b(){return y!==null&&y.apply(this,arguments)||this}return b.prototype.initAttrs=function(p){this._resetParamsCache()},b.prototype._resetParamsCache=function(){this.set("paramsCache",{})},b.prototype.onAttrChange=function(p,m,x){y.prototype.onAttrChange.call(this,p,m,x),["symbol","x","y","r","radius"].indexOf(p)!==-1&&this._resetParamsCache()},b.prototype.isOnlyHitBox=function(){return!0},b.prototype._getR=function(p){return T.isNil(p.r)?p.radius:p.r},b.prototype._getPath=function(){var p=this.attr(),m=p.x,x=p.y,M=p.symbol||"circle",k=this._getR(p),_,B;if(O.isFunction(M))_=M,B=_(m,x,k),B=P.path2Absolute(B);else{if(_=b.Symbols[M],!_)return console.warn(M+" marker is not supported."),null;B=_(m,x,k)}return B},b.prototype.createPath=function(p){var m=this._getPath(),x=this.get("paramsCache");A.drawPath(this,p,{path:m},x)},b.Symbols=E,b}(I.default);C.default=S},42489:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(99519),T=v(89838),P=v(49242),I=v(74460),O=v(57350),A=v(73906),E=v(55978),S=v(4043),y=v(32460),b=v(87200);function p(x,M,k){for(var _=!1,B=0;B<x.length;B++){var z=x[B];if(_=S.default(z,M,k),_)break}return _}var m=function(x){d.__extends(M,x);function M(){return x!==null&&x.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var k=x.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},k),{startArrow:!1,endArrow:!1})},M.prototype.initAttrs=function(k){this._setPathArr(k.path),this.setArrow()},M.prototype.onAttrChange=function(k,_,B){x.prototype.onAttrChange.call(this,k,_,B),k==="path"&&this._setPathArr(_),this.setArrow()},M.prototype._setPathArr=function(k){this.attrs.path=O.path2Absolute(k);var _=y.default.hasArc(k);this.set("hasArc",_),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},M.prototype.getSegments=function(){var k=this.get("segements");return k||(k=O.path2Segments(this.attr("path")),this.set("segments",k)),k},M.prototype.setArrow=function(){var k=this.attr(),_=k.startArrow,B=k.endArrow;if(_){var z=this.getStartTangent();b.addStartArrow(this,k,z[0][0],z[0][1],z[1][0],z[1][1])}if(B){var z=this.getEndTangent();b.addEndArrow(this,k,z[0][0],z[0][1],z[1][0],z[1][1])}},M.prototype.isInStrokeOrPath=function(k,_,B,z,W){var R=this.getSegments(),K=this.get("hasArc"),ut=!1;if(B){var ot=this.getTotalLength();ut=y.default.isPointInStroke(R,W,k,_,ot)}if(!ut&&z)if(K)ut=E.default(this,k,_);else{var dt=this.attr("path"),nt=y.default.extractPolygons(dt);ut=p(nt.polygons,k,_)||p(nt.polylines,k,_)}return ut},M.prototype.createPath=function(k){var _=this.attr(),B=this.get("paramsCache");A.drawPath(this,k,_,B)},M.prototype.afterDrawPath=function(k){var _=this.get("startArrowShape"),B=this.get("endArrowShape");_&&_.draw(k),B&&B.draw(k)},M.prototype.getTotalLength=function(){var k=this.get("totalLength");return P.isNil(k)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):k},M.prototype.getPoint=function(k){var _=this.get("tCache");_||(this._calculateCurve(),this._setTcache(),_=this.get("tCache"));var B,z,W=this.get("curve");if(!_||_.length===0)return W?{x:W[0][1],y:W[0][2]}:null;P.each(_,function(ot,dt){k>=ot[0]&&k<=ot[1]&&(B=(k-ot[0])/(ot[1]-ot[0]),z=dt)});var R=W[z];if(P.isNil(R)||P.isNil(z))return null;var K=R.length,ut=W[z+1];return T.Cubic.pointAt(R[K-2],R[K-1],ut[1],ut[2],ut[3],ut[4],ut[5],ut[6],B)},M.prototype._calculateCurve=function(){var k=this.attr().path;this.set("curve",y.default.pathToCurve(k))},M.prototype._setTcache=function(){var k=0,_=0,B=[],z,W,R,K,ut=this.get("curve");if(!!ut){if(P.each(ut,function(ot,dt){R=ut[dt+1],K=ot.length,R&&(k+=T.Cubic.length(ot[K-2],ot[K-1],R[1],R[2],R[3],R[4],R[5],R[6])||0)}),this.set("totalLength",k),k===0){this.set("tCache",[]);return}P.each(ut,function(ot,dt){R=ut[dt+1],K=ot.length,R&&(z=[],z[0]=_/k,W=T.Cubic.length(ot[K-2],ot[K-1],R[1],R[2],R[3],R[4],R[5],R[6]),_+=W||0,z[1]=_/k,B.push(z))}),this.set("tCache",B)}},M.prototype.getStartTangent=function(){var k=this.getSegments(),_;if(k.length>1){var B=k[0].currentPoint,z=k[1].currentPoint,W=k[1].startTangent;_=[],W?(_.push([B[0]-W[0],B[1]-W[1]]),_.push([B[0],B[1]])):(_.push([z[0],z[1]]),_.push([B[0],B[1]]))}return _},M.prototype.getEndTangent=function(){var k=this.getSegments(),_=k.length,B;if(_>1){var z=k[_-2].currentPoint,W=k[_-1].currentPoint,R=k[_-1].endTangent;B=[],R?(B.push([W[0]-R[0],W[1]-R[1]]),B.push([W[0],W[1]])):(B.push([z[0],z[1]]),B.push([W[0],W[1]]))}return B},M}(I.default);C.default=m},51567:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(99519),T=v(74460),P=v(70625),I=v(4043),O=function(A){d.__extends(E,A);function E(){return A!==null&&A.apply(this,arguments)||this}return E.prototype.isInStrokeOrPath=function(S,y,b,p,m){var x=this.attr().points,M=!1;return b&&(M=P.default(x,m,S,y,!0)),!M&&p&&(M=I.default(x,S,y)),M},E.prototype.createPath=function(S){var y=this.attr(),b=y.points;if(!(b.length<2)){S.beginPath();for(var p=0;p<b.length;p++){var m=b[p];p===0?S.moveTo(m[0],m[1]):S.lineTo(m[0],m[1])}S.closePath()}},E}(T.default);C.default=O},54423:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(99519),T=v(89838),P=v(89838),I=v(49242),O=v(74460),A=v(70625),E=v(87200),S=function(y){d.__extends(b,y);function b(){return y!==null&&y.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var p=y.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},p),{startArrow:!1,endArrow:!1})},b.prototype.initAttrs=function(p){this.setArrow()},b.prototype.onAttrChange=function(p,m,x){y.prototype.onAttrChange.call(this,p,m,x),this.setArrow(),["points"].indexOf(p)!==-1&&this._resetCache()},b.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},b.prototype.setArrow=function(){var p=this.attr(),m=this.attrs,x=m.points,M=m.startArrow,k=m.endArrow,_=x.length,B=x[0][0],z=x[0][1],W=x[_-1][0],R=x[_-1][1];M&&E.addStartArrow(this,p,x[1][0],x[1][1],B,z),k&&E.addEndArrow(this,p,x[_-2][0],x[_-2][1],W,R)},b.prototype.isFill=function(){return!1},b.prototype.isInStrokeOrPath=function(p,m,x,M,k){if(!x||!k)return!1;var _=this.attr().points;return A.default(_,k,p,m,!1)},b.prototype.isStroke=function(){return!0},b.prototype.createPath=function(p){var m=this.attr(),x=m.points,M=m.startArrow,k=m.endArrow,_=x.length;if(!(x.length<2)){var B=x[0][0],z=x[0][1],W=x[_-1][0],R=x[_-1][1];if(M&&M.d){var K=E.getShortenOffset(B,z,x[1][0],x[1][1],M.d);B+=K.dx,z+=K.dy}if(k&&k.d){var K=E.getShortenOffset(x[_-2][0],x[_-2][1],W,R,k.d);W-=K.dx,R-=K.dy}p.beginPath(),p.moveTo(B,z);for(var ut=0;ut<_-1;ut++){var ot=x[ut];p.lineTo(ot[0],ot[1])}p.lineTo(W,R)}},b.prototype.afterDrawPath=function(p){var m=this.get("startArrowShape"),x=this.get("endArrowShape");m&&m.draw(p),x&&x.draw(p)},b.prototype.getTotalLength=function(){var p=this.attr().points,m=this.get("totalLength");return I.isNil(m)?(this.set("totalLength",P.Polyline.length(p)),this.get("totalLength")):m},b.prototype.getPoint=function(p){var m=this.attr().points,x=this.get("tCache");x||(this._setTcache(),x=this.get("tCache"));var M,k;return I.each(x,function(_,B){p>=_[0]&&p<=_[1]&&(M=(p-_[0])/(_[1]-_[0]),k=B)}),T.Line.pointAt(m[k][0],m[k][1],m[k+1][0],m[k+1][1],M)},b.prototype._setTcache=function(){var p=this.attr().points;if(!(!p||p.length===0)){var m=this.getTotalLength();if(!(m<=0)){var x=0,M=[],k,_;I.each(p,function(B,z){p[z+1]&&(k=[],k[0]=x/m,_=T.Line.length(B[0],B[1],p[z+1][0],p[z+1][1]),x+=_,k[1]=x/m,M.push(k))}),this.set("tCache",M)}}},b.prototype.getStartTangent=function(){var p=this.attr().points,m=[];return m.push([p[1][0],p[1][1]]),m.push([p[0][0],p[0][1]]),m},b.prototype.getEndTangent=function(){var p=this.attr().points,m=p.length-1,x=[];return x.push([p[m-1][0],p[m-1][1]]),x.push([p[m][0],p[m][1]]),x},b}(O.default);C.default=S},83095:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(99519),T=v(74460),P=v(62948),I=v(94478),O=v(47946),A=v(19626),E=v(55978),S=function(y){d.__extends(b,y);function b(){return y!==null&&y.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var p=y.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},p),{x:0,y:0,width:0,height:0,radius:0})},b.prototype.isInStrokeOrPath=function(p,m,x,M,k){var _=this.attr(),B=_.x,z=_.y,W=_.width,R=_.height,K=_.radius;if(K){var ot=!1;return x&&(ot=A.default(B,z,W,R,K,k,p,m)),!ot&&M&&(ot=E.default(this,p,m)),ot}else{var ut=k/2;if(M&&x)return I.inBox(B-ut,z-ut,W+ut,R+ut,p,m);if(M)return I.inBox(B,z,W,R,p,m);if(x)return O.default(B,z,W,R,k,p,m)}},b.prototype.createPath=function(p){var m=this.attr(),x=m.x,M=m.y,k=m.width,_=m.height,B=m.radius;if(p.beginPath(),B===0)p.rect(x,M,k,_);else{var z=P.parseRadius(B),W=z[0],R=z[1],K=z[2],ut=z[3];p.moveTo(x+W,M),p.lineTo(x+k-R,M),R!==0&&p.arc(x+k-R,M+R,R,-Math.PI/2,0),p.lineTo(x+k,M+_-K),K!==0&&p.arc(x+k-K,M+_-K,K,0,Math.PI/2),p.lineTo(x+ut,M+_),ut!==0&&p.arc(x+ut,M+_-ut,ut,Math.PI/2,Math.PI),p.lineTo(x,M+W),W!==0&&p.arc(x+W,M+W,W,Math.PI,Math.PI*1.5),p.closePath()}},b}(T.default);C.default=S},17860:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(99519),T=v(74460),P=v(94478),I=v(29126),O=function(A){d.__extends(E,A);function E(){return A!==null&&A.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var S=A.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},S),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},E.prototype.isOnlyHitBox=function(){return!0},E.prototype.initAttrs=function(S){this._assembleFont(),S.text&&this._setText(S.text)},E.prototype._assembleFont=function(){var S=this.attrs;S.font=I.assembleFont(S)},E.prototype._setText=function(S){var y=null;P.isString(S)&&S.indexOf(`
`)!==-1&&(y=S.split(`
`)),this.set("textArr",y)},E.prototype.onAttrChange=function(S,y,b){A.prototype.onAttrChange.call(this,S,y,b),S.startsWith("font")&&this._assembleFont(),S==="text"&&this._setText(y)},E.prototype._getSpaceingY=function(){var S=this.attrs,y=S.lineHeight,b=S.fontSize*1;return y?y-b:b*.14},E.prototype._drawTextArr=function(S,y,b){var p=this.attrs,m=p.textBaseline,x=p.x,M=p.y,k=p.fontSize*1,_=this._getSpaceingY(),B=I.getTextHeight(p.text,p.fontSize,p.lineHeight),z;P.each(y,function(W,R){z=M+R*(_+k)-B+k,m==="middle"&&(z+=B-k-(B-k)/2),m==="top"&&(z+=B-k),P.isNil(W)||(b?S.fillText(W,x,z):S.strokeText(W,x,z))})},E.prototype._drawText=function(S,y){var b=this.attr(),p=b.x,m=b.y,x=this.get("textArr");if(x)this._drawTextArr(S,x,y);else{var M=b.text;P.isNil(M)||(y?S.fillText(M,p,m):S.strokeText(M,p,m))}},E.prototype.strokeAndFill=function(S){var y=this.attrs,b=y.lineWidth,p=y.opacity,m=y.strokeOpacity,x=y.fillOpacity;this.isStroke()&&b>0&&(!P.isNil(m)&&m!==1&&(S.globalAlpha=p),this.stroke(S)),this.isFill()&&(!P.isNil(x)&&x!==1?(S.globalAlpha=x,this.fill(S),S.globalAlpha=p):this.fill(S)),this.afterDrawPath(S)},E.prototype.fill=function(S){this._drawText(S,!0)},E.prototype.stroke=function(S){this._drawText(S,!1)},E}(T.default);C.default=O},56921:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(94478);function T(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function P(A,E){return T(A)*T(E)?(A[0]*E[0]+A[1]*E[1])/(T(A)*T(E)):1}function I(A,E){return(A[0]*E[1]<A[1]*E[0]?-1:1)*Math.acos(P(A,E))}function O(A,E){var S=E[1],y=E[2],b=d.mod(d.toRadian(E[3]),Math.PI*2),p=E[4],m=E[5],x=A[0],M=A[1],k=E[6],_=E[7],B=Math.cos(b)*(x-k)/2+Math.sin(b)*(M-_)/2,z=-1*Math.sin(b)*(x-k)/2+Math.cos(b)*(M-_)/2,W=B*B/(S*S)+z*z/(y*y);W>1&&(S*=Math.sqrt(W),y*=Math.sqrt(W));var R=S*S*(z*z)+y*y*(B*B),K=R?Math.sqrt((S*S*(y*y)-R)/R):1;p===m&&(K*=-1),isNaN(K)&&(K=0);var ut=y?K*S*z/y:0,ot=S?K*-y*B/S:0,dt=(x+k)/2+Math.cos(b)*ut-Math.sin(b)*ot,nt=(M+_)/2+Math.sin(b)*ut+Math.cos(b)*ot,yt=[(B-ut)/S,(z-ot)/y],tt=[(-1*B-ut)/S,(-1*z-ot)/y],J=I([1,0],yt),ft=I(yt,tt);return P(yt,tt)<=-1&&(ft=Math.PI),P(yt,tt)>=1&&(ft=0),m===0&&ft>0&&(ft=ft-2*Math.PI),m===1&&ft<0&&(ft=ft+2*Math.PI),{cx:dt,cy:nt,rx:d.isSamePoint(A,[k,_])?0:S,ry:d.isSamePoint(A,[k,_])?0:y,startAngle:J,endAngle:J+ft,xRotation:b,arcFlag:p,sweepFlag:m}}C.default=O},87200:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.addEndArrow=C.addStartArrow=C.getShortenOffset=void 0;var d=v(99519),T=v(15483),P=Math.sin,I=Math.cos,O=Math.atan2,A=Math.PI;function E(m,x,M,k,_,B,z){var W=x.stroke,R=x.lineWidth,K=M-_,ut=k-B,ot=O(ut,K),dt=new T.Path({type:"path",canvas:m.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*I(A/6)+","+10*P(A/6)+" L0,0 L"+10*I(A/6)+",-"+10*P(A/6),stroke:W,lineWidth:R}});dt.translate(_,B),dt.rotateAtPoint(_,B,ot),m.set(z?"startArrowShape":"endArrowShape",dt)}function S(m,x,M,k,_,B,z){var W=x.startArrow,R=x.endArrow,K=x.stroke,ut=x.lineWidth,ot=z?W:R,dt=ot.d,nt=ot.fill,yt=ot.stroke,tt=ot.lineWidth,J=d.__rest(ot,["d","fill","stroke","lineWidth"]),ft=M-_,rt=k-B,St=O(rt,ft);dt&&(_=_-I(St)*dt,B=B-P(St)*dt);var wt=new T.Path({type:"path",canvas:m.get("canvas"),isArrowShape:!0,attrs:d.__assign(d.__assign({},J),{stroke:yt||K,lineWidth:tt||ut,fill:nt})});wt.translate(_,B),wt.rotateAtPoint(_,B,St),m.set(z?"startArrowShape":"endArrowShape",wt)}function y(m,x,M,k,_){var B=O(k-x,M-m);return{dx:I(B)*_,dy:P(B)*_}}C.getShortenOffset=y;function b(m,x,M,k,_,B){typeof x.startArrow=="object"?S(m,x,M,k,_,B,!0):x.startArrow?E(m,x,M,k,_,B,!0):m.set("startArrowShape",null)}C.addStartArrow=b;function p(m,x,M,k,_,B){typeof x.endArrow=="object"?S(m,x,M,k,_,B,!1):x.endArrow?E(m,x,M,k,_,B,!1):m.set("startArrowShape",null)}C.addEndArrow=p},73906:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.mergeView=C.getMergedRegion=C.getRefreshRegion=C.refreshElement=C.drawPath=C.clearChanged=C.checkChildrenRefresh=C.checkRefresh=C.drawChildren=C.applyAttrsToContext=void 0;var d=v(49242),T=v(62948),P=v(56921),I=v(94478),O=v(87200),A={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function E(W,R){var K=R.attr();for(var ut in K){var ot=K[ut],dt=A[ut]?A[ut]:ut;dt==="matrix"&&ot?W.transform(ot[0],ot[1],ot[3],ot[4],ot[6],ot[7]):dt==="lineDash"&&W.setLineDash?d.isArray(ot)&&W.setLineDash(ot):(dt==="strokeStyle"||dt==="fillStyle"?ot=T.parseStyle(W,R,ot):dt==="globalAlpha"&&(ot=ot*W.globalAlpha),W[dt]=ot)}}C.applyAttrsToContext=E;function S(W,R,K){for(var ut=0;ut<R.length;ut++){var ot=R[ut];ot.cfg.visible?ot.draw(W,K):ot.skipDraw()}}C.drawChildren=S;function y(W,R,K){var ut=W.get("refreshElements");d.each(ut,function(ot){if(ot!==W)for(var dt=ot.cfg.parent;dt&&dt!==W&&!dt.cfg.refresh;)dt.cfg.refresh=!0,dt=dt.cfg.parent}),ut[0]===W?m(R,K):b(R,K)}C.checkRefresh=y;function b(W,R){for(var K=0;K<W.length;K++){var ut=W[K];if(ut.cfg.visible)if(ut.cfg.hasChanged)ut.cfg.refresh=!0,ut.isGroup()&&m(ut.cfg.children,R);else if(ut.cfg.refresh)ut.isGroup()&&b(ut.cfg.children,R);else{var ot=x(ut,R);ut.cfg.refresh=ot,ot&&ut.isGroup()&&b(ut.cfg.children,R)}}}C.checkChildrenRefresh=b;function p(W){for(var R=0;R<W.length;R++){var K=W[R];K.cfg.hasChanged=!1,K.isGroup()&&!K.destroyed&&p(K.cfg.children)}}C.clearChanged=p;function m(W,R){for(var K=0;K<W.length;K++){var ut=W[K];ut.cfg.refresh=!0,ut.isGroup()&&m(ut.get("children"),R)}}function x(W,R){var K=W.cfg.cacheCanvasBBox,ut=W.cfg.isInView&&K&&I.intersectRect(K,R);return ut}function M(W,R,K,ut){var ot=K.path,dt=K.startArrow,nt=K.endArrow;if(!!ot){var yt=[0,0],tt=[0,0],J={dx:0,dy:0};R.beginPath();for(var ft=0;ft<ot.length;ft++){var rt=ot[ft],St=rt[0];if(ft===0&&dt&&dt.d){var wt=W.getStartTangent();J=O.getShortenOffset(wt[0][0],wt[0][1],wt[1][0],wt[1][1],dt.d)}else if(ft===ot.length-2&&ot[ft+1][0]==="Z"&&nt&&nt.d){var q=ot[ft+1];if(q[0]==="Z"){var wt=W.getEndTangent();J=O.getShortenOffset(wt[0][0],wt[0][1],wt[1][0],wt[1][1],nt.d)}}else if(ft===ot.length-1&&nt&&nt.d&&ot[0]!=="Z"){var wt=W.getEndTangent();J=O.getShortenOffset(wt[0][0],wt[0][1],wt[1][0],wt[1][1],nt.d)}var it=J.dx,Q=J.dy;switch(St){case"M":R.moveTo(rt[1]-it,rt[2]-Q),tt=[rt[1],rt[2]];break;case"L":R.lineTo(rt[1]-it,rt[2]-Q);break;case"Q":R.quadraticCurveTo(rt[1],rt[2],rt[3]-it,rt[4]-Q);break;case"C":R.bezierCurveTo(rt[1],rt[2],rt[3],rt[4],rt[5]-it,rt[6]-Q);break;case"A":{var f=void 0;ut?(f=ut[ft],f||(f=P.default(yt,rt),ut[ft]=f)):f=P.default(yt,rt);var vt=f.cx,It=f.cy,Qt=f.rx,Se=f.ry,$t=f.startAngle,re=f.endAngle,he=f.xRotation,Me=f.sweepFlag;if(R.ellipse)R.ellipse(vt,It,Qt,Se,he,$t,re,1-Me);else{var le=Qt>Se?Qt:Se,Rt=Qt>Se?1:Qt/Se,Ot=Qt>Se?Se/Qt:1;R.translate(vt,It),R.rotate(he),R.scale(Rt,Ot),R.arc(0,0,le,$t,re,1-Me),R.scale(1/Rt,1/Ot),R.rotate(-he),R.translate(-vt,-It)}break}case"Z":R.closePath();break;default:break}if(St==="Z")yt=tt;else{var At=rt.length;yt=[rt[At-2],rt[At-1]]}}}}C.drawPath=M;function k(W,R){var K=W.get("canvas");K&&(R==="remove"&&(W._cacheCanvasBBox=W.get("cacheCanvasBBox")),W.get("hasChanged")||(W.set("hasChanged",!0),W.cfg.parent&&W.cfg.parent.get("hasChanged")||(K.refreshElement(W,R,K),K.get("autoDraw")&&K.draw())))}C.refreshElement=k;function _(W){var R;if(W.destroyed)R=W._cacheCanvasBBox;else{var K=W.get("cacheCanvasBBox"),ut=K&&!!(K.width&&K.height),ot=W.getCanvasBBox(),dt=ot&&!!(ot.width&&ot.height);ut&&dt?R=I.mergeRegion(K,ot):ut?R=K:dt&&(R=ot)}return R}C.getRefreshRegion=_;function B(W){if(!W.length)return null;var R=[],K=[],ut=[],ot=[];return d.each(W,function(dt){var nt=_(dt);nt&&(R.push(nt.minX),K.push(nt.minY),ut.push(nt.maxX),ot.push(nt.maxY))}),{minX:d.min(R),minY:d.min(K),maxX:d.max(ut),maxY:d.max(ot)}}C.getMergedRegion=B;function z(W,R){return!W||!R||!I.intersectRect(W,R)?null:{minX:Math.max(W.minX,R.minX),minY:Math.max(W.minY,R.minY),maxX:Math.min(W.maxX,R.maxX),maxY:Math.min(W.maxY,R.maxY)}}C.mergeView=z},24818:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.getShape=void 0;var d=v(29126);function T(A,E){if(E){var S=d.invert(E);return d.multiplyVec2(S,A)}return A}function P(A,E,S){var y=A.getTotalMatrix();if(y){var b=T([E,S,1],y),p=b[0],m=b[1];return[p,m]}return[E,S]}function I(A,E,S){if(A.isCanvas&&A.isCanvas())return!0;if(!d.isAllowCapture(A)||A.cfg.isInView===!1)return!1;if(A.cfg.clipShape){var y=P(A,E,S),b=y[0],p=y[1];if(A.isClipped(b,p))return!1}var m=A.cfg.cacheCanvasBBox||A.getCanvasBBox();return E>=m.minX&&E<=m.maxX&&S>=m.minY&&S<=m.maxY}function O(A,E,S){if(!I(A,E,S))return null;for(var y=null,b=A.getChildren(),p=b.length,m=p-1;m>=0;m--){var x=b[m];if(x.isGroup())y=O(x,E,S);else if(I(x,E,S)){var M=x,k=P(x,E,S),_=k[0],B=k[1];M.isInShape(_,B)&&(y=x)}if(y)break}return y}C.getShape=O},55978:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(29126);function T(P,I,O){var A=d.getOffScreenContext();return P.createPath(A),A.isPointInPath(I,O)}C.default=T},4043:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=1e-6;function d(I){return Math.abs(I)<v?0:I<0?-1:1}function T(I,O,A){return(A[0]-I[0])*(O[1]-I[1])==(O[0]-I[0])*(A[1]-I[1])&&Math.min(I[0],O[0])<=A[0]&&A[0]<=Math.max(I[0],O[0])&&Math.min(I[1],O[1])<=A[1]&&A[1]<=Math.max(I[1],O[1])}function P(I,O,A){var E=!1,S=I.length;if(S<=2)return!1;for(var y=0;y<S;y++){var b=I[y],p=I[(y+1)%S];if(T(b,p,[O,A]))return!0;d(b[1]-A)>0!=d(p[1]-A)>0&&d(O-(A-b[1])*(b[0]-p[0])/(b[1]-p[1])-b[0])<0&&(E=!E)}return E}C.default=P},37311:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(94478);function T(P,I,O,A,E,S,y,b){var p=(Math.atan2(b-I,y-P)+Math.PI*2)%(Math.PI*2);if(p<A||p>E)return!1;var m={x:P+O*Math.cos(p),y:I+O*Math.sin(p)};return d.distance(m.x,m.y,y,b)<=S/2}C.default=T},63131:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(89838);function T(P,I,O,A,E,S,y){var b=Math.min(P,O),p=Math.max(P,O),m=Math.min(I,A),x=Math.max(I,A),M=E/2;return S>=b-M&&S<=p+M&&y>=m-M&&y<=x+M?d.Line.pointToLine(P,I,O,A,S,y)<=E/2:!1}C.default=T},70625:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(63131);function T(P,I,O,A,E){var S=P.length;if(S<2)return!1;for(var y=0;y<S-1;y++){var b=P[y][0],p=P[y][1],m=P[y+1][0],x=P[y+1][1];if(d.default(b,p,m,x,I,O,A))return!0}if(E){var M=P[0],k=P[S-1];if(d.default(M[0],M[1],k[0],k[1],I,O,A))return!0}return!1}C.default=T},19626:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(63131),T=v(37311);function P(I,O,A,E,S,y,b,p){var m=y/2;return d.default(I+S,O,I+A-S,O,y,b,p)||d.default(I+A,O+S,I+A,O+E-S,y,b,p)||d.default(I+A-S,O+E,I+S,O+E,y,b,p)||d.default(I,O+E-S,I,O+S,y,b,p)||T.default(I+A-S,O+S,S,1.5*Math.PI,2*Math.PI,y,b,p)||T.default(I+A-S,O+E-S,S,0,.5*Math.PI,y,b,p)||T.default(I+S,O+E-S,S,.5*Math.PI,Math.PI,y,b,p)||T.default(I+S,O+S,S,Math.PI,1.5*Math.PI,y,b,p)}C.default=P},47946:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(94478);function T(P,I,O,A,E,S,y){var b=E/2;return d.inBox(P-b,I-b,O,E,S,y)||d.inBox(P+O-b,I-b,E,A,S,y)||d.inBox(P+b,I+A-b,O,E,S,y)||d.inBox(P-b,I+b,E,A,S,y)}C.default=T},62948:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.parseRadius=C.parseStyle=C.parsePattern=C.parseRadialGradient=C.parseLineGradient=void 0;var d=v(94478),T=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,P=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,I=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,O=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function A(m,x){var M=m.match(O);d.each(M,function(k){var _=k.split(":");x.addColorStop(_[0],_[1])})}function E(m,x,M){var k=T.exec(M),_=parseFloat(k[1])%360*(Math.PI/180),B=k[2],z=x.getBBox(),W,R;_>=0&&_<1/2*Math.PI?(W={x:z.minX,y:z.minY},R={x:z.maxX,y:z.maxY}):1/2*Math.PI<=_&&_<Math.PI?(W={x:z.maxX,y:z.minY},R={x:z.minX,y:z.maxY}):Math.PI<=_&&_<3/2*Math.PI?(W={x:z.maxX,y:z.maxY},R={x:z.minX,y:z.minY}):(W={x:z.minX,y:z.maxY},R={x:z.maxX,y:z.minY});var K=Math.tan(_),ut=K*K,ot=(R.x-W.x+K*(R.y-W.y))/(ut+1)+W.x,dt=K*(R.x-W.x+K*(R.y-W.y))/(ut+1)+W.y,nt=m.createLinearGradient(W.x,W.y,ot,dt);return A(B,nt),nt}C.parseLineGradient=E;function S(m,x,M){var k=P.exec(M),_=parseFloat(k[1]),B=parseFloat(k[2]),z=parseFloat(k[3]),W=k[4];if(z===0){var R=W.match(O);return R[R.length-1].split(":")[1]}var K=x.getBBox(),ut=K.maxX-K.minX,ot=K.maxY-K.minY,dt=Math.sqrt(ut*ut+ot*ot)/2,nt=m.createRadialGradient(K.minX+ut*_,K.minY+ot*B,0,K.minX+ut/2,K.minY+ot/2,z*dt);return A(W,nt),nt}C.parseRadialGradient=S;function y(m,x,M){if(x.get("patternSource")&&x.get("patternSource")===M)return x.get("pattern");var k,_,B=I.exec(M),z=B[1],W=B[2];function R(){k=m.createPattern(_,z),x.set("pattern",k),x.set("patternSource",M)}switch(z){case"a":z="repeat";break;case"x":z="repeat-x";break;case"y":z="repeat-y";break;case"n":z="no-repeat";break;default:z="no-repeat"}return _=new Image,W.match(/^data:/i)||(_.crossOrigin="Anonymous"),_.src=W,_.complete?R():(_.onload=R,_.src=_.src),k}C.parsePattern=y;function b(m,x,M){var k=x.getBBox();if(isNaN(k.x)||isNaN(k.y)||isNaN(k.width)||isNaN(k.height))return M;if(d.isString(M)){if(M[1]==="("||M[2]==="("){if(M[0]==="l")return E(m,x,M);if(M[0]==="r")return S(m,x,M);if(M[0]==="p")return y(m,x,M)}return M}if(M instanceof CanvasPattern)return M}C.parseStyle=b;function p(m){var x=0,M=0,k=0,_=0;return d.isArray(m)?m.length===1?x=M=k=_=m[0]:m.length===2?(x=k=m[0],M=_=m[1]):m.length===3?(x=m[0],M=_=m[1],k=m[2]):(x=m[0],M=m[1],k=m[2],_=m[3]):x=M=k=_=m,[x,M,k,_]}C.parseRadius=p},32460:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(99519),T=v(29126),P=v(89838),I=v(89838),O=v(56379),A=v(77160),E=v(94478),S=v(63131),y=v(37311),b=O.ext.transform;function p(M){for(var k=!1,_=M.length,B=0;B<_;B++){var z=M[B],W=z[0];if(W==="C"||W==="A"||W==="Q"){k=!0;break}}return k}function m(M,k,_,B,z){for(var W=!1,R=k/2,K=0;K<M.length;K++){var ut=M[K],ot=ut.currentPoint,dt=ut.params,nt=ut.prePoint,yt=ut.box;if(!(yt&&!E.inBox(yt.x-R,yt.y-R,yt.width+k,yt.height+k,_,B))){switch(ut.command){case"L":case"Z":W=S.default(nt[0],nt[1],ot[0],ot[1],k,_,B);break;case"Q":var tt=P.Quad.pointDistance(nt[0],nt[1],dt[1],dt[2],dt[3],dt[4],_,B);W=tt<=k/2;break;case"C":var J=I.Cubic.pointDistance(nt[0],nt[1],dt[1],dt[2],dt[3],dt[4],dt[5],dt[6],_,B,z);W=J<=k/2;break;case"A":var ft=ut.arcParams,rt=ft.cx,St=ft.cy,wt=ft.rx,q=ft.ry,it=ft.startAngle,Q=ft.endAngle,f=ft.xRotation,vt=[_,B,1],It=wt>q?wt:q,Qt=wt>q?1:wt/q,Se=wt>q?q/wt:1,$t=b(null,[["t",-rt,-St],["r",-f],["s",1/Qt,1/Se]]);A.transformMat3(vt,vt,$t),W=y.default(0,0,It,it,Q,k,vt[0],vt[1]);break;default:break}if(W)break}}return W}function x(M){for(var k=M.length,_=[],B=[],z=[],W=0;W<k;W++){var R=M[W],K=R[0];K==="M"?(z.length&&(B.push(z),z=[]),z.push([R[1],R[2]])):K==="Z"?z.length&&(_.push(z),z=[]):z.push([R[1],R[2]])}return z.length>0&&B.push(z),{polygons:_,polylines:B}}C.default=d.__assign({hasArc:p,extractPolygons:x,isPointInStroke:m},T.PathUtil)},94478:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.clearAnimationFrame=C.requestAnimationFrame=C.isNumberEqual=C.mod=C.toRadian=C.each=C.isArray=C.isFunction=C.isString=C.isNil=C.isSamePoint=C.mergeRegion=C.intersectRect=C.inBox=C.distance=C.getPixelRatio=void 0;function d(){return window?window.devicePixelRatio:1}C.getPixelRatio=d;function T(S,y,b,p){var m=S-b,x=y-p;return Math.sqrt(m*m+x*x)}C.distance=T;function P(S,y,b,p,m,x){return m>=S&&m<=S+b&&x>=y&&x<=y+p}C.inBox=P;function I(S,y){return!(y.minX>S.maxX||y.maxX<S.minX||y.minY>S.maxY||y.maxY<S.minY)}C.intersectRect=I;function O(S,y){return!S||!y?S||y:{minX:Math.min(S.minX,y.minX),minY:Math.min(S.minY,y.minY),maxX:Math.max(S.maxX,y.maxX),maxY:Math.max(S.maxY,y.maxY)}}C.mergeRegion=O;function A(S,y){return S[0]===y[0]&&S[1]===y[1]}C.isSamePoint=A;var E=v(49242);Object.defineProperty(C,"isNil",{enumerable:!0,get:function(){return E.isNil}}),Object.defineProperty(C,"isString",{enumerable:!0,get:function(){return E.isString}}),Object.defineProperty(C,"isFunction",{enumerable:!0,get:function(){return E.isFunction}}),Object.defineProperty(C,"isArray",{enumerable:!0,get:function(){return E.isArray}}),Object.defineProperty(C,"each",{enumerable:!0,get:function(){return E.each}}),Object.defineProperty(C,"toRadian",{enumerable:!0,get:function(){return E.toRadian}}),Object.defineProperty(C,"mod",{enumerable:!0,get:function(){return E.mod}}),Object.defineProperty(C,"isNumberEqual",{enumerable:!0,get:function(){return E.isNumberEqual}}),Object.defineProperty(C,"requestAnimationFrame",{enumerable:!0,get:function(){return E.requestAnimationFrame}}),Object.defineProperty(C,"clearAnimationFrame",{enumerable:!0,get:function(){return E.clearAnimationFrame}})},56379:function(ct,C,v){"use strict";v.r(C),v.d(C,{ext:function(){return d},mat3:function(){return T},vec2:function(){return P},vec3:function(){return I}});var d={};v.r(d),v.d(d,{angleTo:function(){return p},direction:function(){return b},leftRotate:function(){return A},leftScale:function(){return E},leftTranslate:function(){return O},transform:function(){return y},vertical:function(){return m}});var T=v(35600),P=v(31437),I=v(77160);function O(x,M,k){var _=[0,0,0,0,0,0,0,0,0];return T.fromTranslation(_,k),T.multiply(x,_,M)}function A(x,M,k){var _=[0,0,0,0,0,0,0,0,0];return T.fromRotation(_,k),T.multiply(x,_,M)}function E(x,M,k){var _=[0,0,0,0,0,0,0,0,0];return T.fromScaling(_,k),T.multiply(x,_,M)}function S(x,M,k){return T.multiply(x,k,M)}function y(x,M){for(var k=x?[].concat(x):[1,0,0,0,1,0,0,0,1],_=0,B=M.length;_<B;_++){var z=M[_];switch(z[0]){case"t":O(k,k,[z[1],z[2]]);break;case"s":E(k,k,[z[1],z[2]]);break;case"r":A(k,k,z[1]);break;case"m":S(k,k,z[1]);break;default:break}}return k}function b(x,M){return x[0]*M[1]-M[0]*x[1]}function p(x,M,k){var _=P.angle(x,M),B=b(x,M)>=0;return k?B?Math.PI*2-_:_:B?_:Math.PI*2-_}function m(x,M,k){return k?(x[0]=M[1],x[1]=-1*M[0]):(x[0]=-1*M[1],x[1]=M[0]),x}},99519:function(ct,C,v){"use strict";v.r(C),v.d(C,{__extends:function(){return T},__assign:function(){return P},__rest:function(){return I},__decorate:function(){return O},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return S},__generator:function(){return y},__createBinding:function(){return b},__exportStar:function(){return p},__values:function(){return m},__read:function(){return x},__spread:function(){return M},__spreadArrays:function(){return k},__spreadArray:function(){return _},__await:function(){return B},__asyncGenerator:function(){return z},__asyncDelegator:function(){return W},__asyncValues:function(){return R},__makeTemplateObject:function(){return K},__importStar:function(){return ot},__importDefault:function(){return dt},__classPrivateFieldGet:function(){return nt},__classPrivateFieldSet:function(){return yt},__classPrivateFieldIn:function(){return tt}});var d=function(J,ft){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,St){rt.__proto__=St}||function(rt,St){for(var wt in St)Object.prototype.hasOwnProperty.call(St,wt)&&(rt[wt]=St[wt])},d(J,ft)};function T(J,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Class extends value "+String(ft)+" is not a constructor or null");d(J,ft);function rt(){this.constructor=J}J.prototype=ft===null?Object.create(ft):(rt.prototype=ft.prototype,new rt)}var P=function(){return P=Object.assign||function(ft){for(var rt,St=1,wt=arguments.length;St<wt;St++){rt=arguments[St];for(var q in rt)Object.prototype.hasOwnProperty.call(rt,q)&&(ft[q]=rt[q])}return ft},P.apply(this,arguments)};function I(J,ft){var rt={};for(var St in J)Object.prototype.hasOwnProperty.call(J,St)&&ft.indexOf(St)<0&&(rt[St]=J[St]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function")for(var wt=0,St=Object.getOwnPropertySymbols(J);wt<St.length;wt++)ft.indexOf(St[wt])<0&&Object.prototype.propertyIsEnumerable.call(J,St[wt])&&(rt[St[wt]]=J[St[wt]]);return rt}function O(J,ft,rt,St){var wt=arguments.length,q=wt<3?ft:St===null?St=Object.getOwnPropertyDescriptor(ft,rt):St,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(J,ft,rt,St);else for(var Q=J.length-1;Q>=0;Q--)(it=J[Q])&&(q=(wt<3?it(q):wt>3?it(ft,rt,q):it(ft,rt))||q);return wt>3&&q&&Object.defineProperty(ft,rt,q),q}function A(J,ft){return function(rt,St){ft(rt,St,J)}}function E(J,ft){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(J,ft)}function S(J,ft,rt,St){function wt(q){return q instanceof rt?q:new rt(function(it){it(q)})}return new(rt||(rt=Promise))(function(q,it){function Q(It){try{vt(St.next(It))}catch(Qt){it(Qt)}}function f(It){try{vt(St.throw(It))}catch(Qt){it(Qt)}}function vt(It){It.done?q(It.value):wt(It.value).then(Q,f)}vt((St=St.apply(J,ft||[])).next())})}function y(J,ft){var rt={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},St,wt,q,it;return it={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function Q(vt){return function(It){return f([vt,It])}}function f(vt){if(St)throw new TypeError("Generator is already executing.");for(;rt;)try{if(St=1,wt&&(q=vt[0]&2?wt.return:vt[0]?wt.throw||((q=wt.return)&&q.call(wt),0):wt.next)&&!(q=q.call(wt,vt[1])).done)return q;switch(wt=0,q&&(vt=[vt[0]&2,q.value]),vt[0]){case 0:case 1:q=vt;break;case 4:return rt.label++,{value:vt[1],done:!1};case 5:rt.label++,wt=vt[1],vt=[0];continue;case 7:vt=rt.ops.pop(),rt.trys.pop();continue;default:if(q=rt.trys,!(q=q.length>0&&q[q.length-1])&&(vt[0]===6||vt[0]===2)){rt=0;continue}if(vt[0]===3&&(!q||vt[1]>q[0]&&vt[1]<q[3])){rt.label=vt[1];break}if(vt[0]===6&&rt.label<q[1]){rt.label=q[1],q=vt;break}if(q&&rt.label<q[2]){rt.label=q[2],rt.ops.push(vt);break}q[2]&&rt.ops.pop(),rt.trys.pop();continue}vt=ft.call(J,rt)}catch(It){vt=[6,It],wt=0}finally{St=q=0}if(vt[0]&5)throw vt[1];return{value:vt[0]?vt[1]:void 0,done:!0}}}var b=Object.create?function(J,ft,rt,St){St===void 0&&(St=rt);var wt=Object.getOwnPropertyDescriptor(ft,rt);(!wt||("get"in wt?!ft.__esModule:wt.writable||wt.configurable))&&(wt={enumerable:!0,get:function(){return ft[rt]}}),Object.defineProperty(J,St,wt)}:function(J,ft,rt,St){St===void 0&&(St=rt),J[St]=ft[rt]};function p(J,ft){for(var rt in J)rt!=="default"&&!Object.prototype.hasOwnProperty.call(ft,rt)&&b(ft,J,rt)}function m(J){var ft=typeof Symbol=="function"&&Symbol.iterator,rt=ft&&J[ft],St=0;if(rt)return rt.call(J);if(J&&typeof J.length=="number")return{next:function(){return J&&St>=J.length&&(J=void 0),{value:J&&J[St++],done:!J}}};throw new TypeError(ft?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(J,ft){var rt=typeof Symbol=="function"&&J[Symbol.iterator];if(!rt)return J;var St=rt.call(J),wt,q=[],it;try{for(;(ft===void 0||ft-- >0)&&!(wt=St.next()).done;)q.push(wt.value)}catch(Q){it={error:Q}}finally{try{wt&&!wt.done&&(rt=St.return)&&rt.call(St)}finally{if(it)throw it.error}}return q}function M(){for(var J=[],ft=0;ft<arguments.length;ft++)J=J.concat(x(arguments[ft]));return J}function k(){for(var J=0,ft=0,rt=arguments.length;ft<rt;ft++)J+=arguments[ft].length;for(var St=Array(J),wt=0,ft=0;ft<rt;ft++)for(var q=arguments[ft],it=0,Q=q.length;it<Q;it++,wt++)St[wt]=q[it];return St}function _(J,ft,rt){if(rt||arguments.length===2)for(var St=0,wt=ft.length,q;St<wt;St++)(q||!(St in ft))&&(q||(q=Array.prototype.slice.call(ft,0,St)),q[St]=ft[St]);return J.concat(q||Array.prototype.slice.call(ft))}function B(J){return this instanceof B?(this.v=J,this):new B(J)}function z(J,ft,rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var St=rt.apply(J,ft||[]),wt,q=[];return wt={},it("next"),it("throw"),it("return"),wt[Symbol.asyncIterator]=function(){return this},wt;function it(Se){St[Se]&&(wt[Se]=function($t){return new Promise(function(re,he){q.push([Se,$t,re,he])>1||Q(Se,$t)})})}function Q(Se,$t){try{f(St[Se]($t))}catch(re){Qt(q[0][3],re)}}function f(Se){Se.value instanceof B?Promise.resolve(Se.value.v).then(vt,It):Qt(q[0][2],Se)}function vt(Se){Q("next",Se)}function It(Se){Q("throw",Se)}function Qt(Se,$t){Se($t),q.shift(),q.length&&Q(q[0][0],q[0][1])}}function W(J){var ft,rt;return ft={},St("next"),St("throw",function(wt){throw wt}),St("return"),ft[Symbol.iterator]=function(){return this},ft;function St(wt,q){ft[wt]=J[wt]?function(it){return(rt=!rt)?{value:B(J[wt](it)),done:wt==="return"}:q?q(it):it}:q}}function R(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft=J[Symbol.asyncIterator],rt;return ft?ft.call(J):(J=typeof m=="function"?m(J):J[Symbol.iterator](),rt={},St("next"),St("throw"),St("return"),rt[Symbol.asyncIterator]=function(){return this},rt);function St(q){rt[q]=J[q]&&function(it){return new Promise(function(Q,f){it=J[q](it),wt(Q,f,it.done,it.value)})}}function wt(q,it,Q,f){Promise.resolve(f).then(function(vt){q({value:vt,done:Q})},it)}}function K(J,ft){return Object.defineProperty?Object.defineProperty(J,"raw",{value:ft}):J.raw=ft,J}var ut=Object.create?function(J,ft){Object.defineProperty(J,"default",{enumerable:!0,value:ft})}:function(J,ft){J.default=ft};function ot(J){if(J&&J.__esModule)return J;var ft={};if(J!=null)for(var rt in J)rt!=="default"&&Object.prototype.hasOwnProperty.call(J,rt)&&b(ft,J,rt);return ut(ft,J),ft}function dt(J){return J&&J.__esModule?J:{default:J}}function nt(J,ft,rt,St){if(rt==="a"&&!St)throw new TypeError("Private accessor was defined without a getter");if(typeof ft=="function"?J!==ft||!St:!ft.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return rt==="m"?St:rt==="a"?St.call(J):St?St.value:ft.get(J)}function yt(J,ft,rt,St,wt){if(St==="m")throw new TypeError("Private method is not writable");if(St==="a"&&!wt)throw new TypeError("Private accessor was defined without a setter");if(typeof ft=="function"?J!==ft||!wt:!ft.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return St==="a"?wt.call(J,rt):wt?wt.value=rt:ft.set(J,rt),rt}function tt(J,ft){if(ft===null||typeof ft!="object"&&typeof ft!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof J=="function"?ft===J:J.has(ft)}},19270:function(ct,C,v){"use strict";var d;d={value:!0};var T=v(76789),P=v(29126),I=v(91995),O=v(49171),A=v(84092),E=v(84745),S=v(71120),y=v(36629),b=v(88330),p=function(m){T.__extends(x,m);function x(M){return m.call(this,T.__assign(T.__assign({},M),{autoDraw:!0,renderer:"svg"}))||this}return x.prototype.getShapeBase=function(){return S},x.prototype.getGroupBase=function(){return y.default},x.prototype.getShape=function(M,k,_){var B=_.target||_.srcElement;if(!I.SHAPE_TO_TAGS[B.tagName]){for(var z=B.parentNode;z&&!I.SHAPE_TO_TAGS[z.tagName];)z=z.parentNode;B=z}return this.find(function(W){return W.get("el")===B})},x.prototype.createDom=function(){var M=E.createSVGElement("svg"),k=new b.default(M);return M.setAttribute("width",""+this.get("width")),M.setAttribute("height",""+this.get("height")),this.set("context",k),M},x.prototype.onCanvasChange=function(M){var k=this.get("context"),_=this.get("el");if(M==="sort"){var B=this.get("children");B&&B.length&&E.sortDom(this,function(W,R){return B.indexOf(W)-B.indexOf(R)?1:0})}else if(M==="clear"){if(_){_.innerHTML="";var z=k.el;z.innerHTML="",_.appendChild(z)}}else M==="matrix"?A.setTransform(this):M==="clip"?A.setClip(this,k):M==="changeSize"&&(_.setAttribute("width",""+this.get("width")),_.setAttribute("height",""+this.get("height")))},x.prototype.draw=function(){var M=this.get("context"),k=this.getChildren();A.setClip(this,M),k.length&&O.drawChildren(M,k)},x}(P.AbstractCanvas);C.Z=p},91995:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.EVENTS=C.SVG_ATTR_MAP=C.SHAPE_TO_TAGS=void 0,C.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},C.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},C.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},14232:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(49242),T=v(84745),P=function(){function I(O,A){this.cfg={};var E=T.createSVGElement("marker"),S=d.uniqueId("marker_");E.setAttribute("id",S);var y=T.createSVGElement("path");y.setAttribute("stroke",O.stroke||"none"),y.setAttribute("fill",O.fill||"none"),E.appendChild(y),E.setAttribute("overflow","visible"),E.setAttribute("orient","auto-start-reverse"),this.el=E,this.child=y,this.id=S;var b=O[A==="marker-start"?"startArrow":"endArrow"];return this.stroke=O.stroke||"#000",b===!0?this._setDefaultPath(A,y):(this.cfg=b,this._setMarker(O.lineWidth,y)),this}return I.prototype.match=function(){return!1},I.prototype._setDefaultPath=function(O,A){var E=this.el;A.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),E.setAttribute("refX",""+10*Math.cos(Math.PI/6)),E.setAttribute("refY",""+5)},I.prototype._setMarker=function(O,A){var E=this.el,S=this.cfg.path,y=this.cfg.d;d.isArray(S)&&(S=S.map(function(b){return b.join(" ")}).join("")),A.setAttribute("d",S),E.appendChild(A),y&&E.setAttribute("refX",""+y/O)},I.prototype.update=function(O){var A=this.child;A.attr?A.attr("fill",O):A.setAttribute("fill",O)},I}();C.default=P},32439:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(49242),T=v(84745),P=function(){function I(O){this.type="clip",this.cfg={};var A=T.createSVGElement("clipPath");this.el=A,this.id=d.uniqueId("clip_"),A.id=this.id;var E=O.cfg.el;return A.appendChild(E),this.cfg=O,this}return I.prototype.match=function(){return!1},I.prototype.remove=function(){var O=this.el;O.parentNode.removeChild(O)},I}();C.default=P},90362:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(49242),T=v(84745),P=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,I=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,O=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function A(b){var p=b.match(O);if(!p)return"";var m="";return p.sort(function(x,M){return x=x.split(":"),M=M.split(":"),Number(x[0])-Number(M[0])}),d.each(p,function(x){x=x.split(":"),m+='<stop offset="'+x[0]+'" stop-color="'+x[1]+'"></stop>'}),m}function E(b,p){var m=P.exec(b),x=d.mod(d.toRadian(parseFloat(m[1])),Math.PI*2),M=m[2],k,_;x>=0&&x<.5*Math.PI?(k={x:0,y:0},_={x:1,y:1}):.5*Math.PI<=x&&x<Math.PI?(k={x:1,y:0},_={x:0,y:1}):Math.PI<=x&&x<1.5*Math.PI?(k={x:1,y:1},_={x:0,y:0}):(k={x:0,y:1},_={x:1,y:0});var B=Math.tan(x),z=B*B,W=(_.x-k.x+B*(_.y-k.y))/(z+1)+k.x,R=B*(_.x-k.x+B*(_.y-k.y))/(z+1)+k.y;p.setAttribute("x1",k.x),p.setAttribute("y1",k.y),p.setAttribute("x2",W),p.setAttribute("y2",R),p.innerHTML=A(M)}function S(b,p){var m=I.exec(b),x=parseFloat(m[1]),M=parseFloat(m[2]),k=parseFloat(m[3]),_=m[4];p.setAttribute("cx",x),p.setAttribute("cy",M),p.setAttribute("r",k),p.innerHTML=A(_)}var y=function(){function b(p){this.cfg={};var m=null,x=d.uniqueId("gradient_");return p.toLowerCase()[0]==="l"?(m=T.createSVGElement("linearGradient"),E(p,m)):(m=T.createSVGElement("radialGradient"),S(p,m)),m.setAttribute("id",x),this.el=m,this.id=x,this.cfg=p,this}return b.prototype.match=function(p,m){return this.cfg===m},b}();C.default=y},88330:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(49242),T=v(90362),P=v(50375),I=v(14232),O=v(32439),A=v(99365),E=v(84745),S=function(){function y(b){var p=E.createSVGElement("defs"),m=d.uniqueId("defs_");p.id=m,b.appendChild(p),this.children=[],this.defaultArrow={},this.el=p,this.canvas=b}return y.prototype.find=function(b,p){for(var m=this.children,x=null,M=0;M<m.length;M++)if(m[M].match(b,p)){x=m[M].id;break}return x},y.prototype.findById=function(b){for(var p=this.children,m=null,x=0;x<p.length;x++)if(p[x].id===b){m=p[x];break}return m},y.prototype.add=function(b){this.children.push(b),b.canvas=this.canvas,b.parent=this},y.prototype.getDefaultArrow=function(b,p){var m=b.stroke||b.strokeStyle;if(this.defaultArrow[m])return this.defaultArrow[m].id;var x=new I.default(b,p);return this.defaultArrow[m]=x,this.el.appendChild(x.el),this.add(x),x.id},y.prototype.addGradient=function(b){var p=new T.default(b);return this.el.appendChild(p.el),this.add(p),p.id},y.prototype.addArrow=function(b,p){var m=new I.default(b,p);return this.el.appendChild(m.el),this.add(m),m.id},y.prototype.addShadow=function(b){var p=new P.default(b);return this.el.appendChild(p.el),this.add(p),p.id},y.prototype.addPattern=function(b){var p=new A.default(b);return this.el.appendChild(p.el),this.add(p),p.id},y.prototype.addClip=function(b){var p=new O.default(b);return this.el.appendChild(p.el),this.add(p),p.id},y}();C.default=S},99365:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(49242),T=v(84745),P=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,I=function(){function O(A){this.cfg={};var E=T.createSVGElement("pattern");E.setAttribute("patternUnits","userSpaceOnUse");var S=T.createSVGElement("image");E.appendChild(S);var y=d.uniqueId("pattern_");E.id=y,this.el=E,this.id=y,this.cfg=A;var b=P.exec(A),p=b[2];S.setAttribute("href",p);var m=new Image;p.match(/^data:/i)||(m.crossOrigin="Anonymous"),m.src=p;function x(){E.setAttribute("width",""+m.width),E.setAttribute("height",""+m.height)}return m.complete?x():(m.onload=x,m.src=m.src),this}return O.prototype.match=function(A,E){return this.cfg===E},O}();C.default=I},50375:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(49242),T=v(84745),P={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},I={x:"-40%",y:"-40%",width:"200%",height:"200%"},O=function(){function A(E){this.type="filter",this.cfg={},this.type="filter";var S=T.createSVGElement("filter");return d.each(I,function(y,b){S.setAttribute(b,y)}),this.el=S,this.id=d.uniqueId("filter_"),this.el.id=this.id,this.cfg=E,this._parseShadow(E,S),this}return A.prototype.match=function(E,S){if(this.type!==E)return!1;var y=!0,b=this.cfg;return d.each(Object.keys(b),function(p){if(b[p]!==S[p])return y=!1,!1}),y},A.prototype.update=function(E,S){var y=this.cfg;return y[P[E]]=S,this._parseShadow(y,this.el),this},A.prototype._parseShadow=function(E,S){var y=`<feDropShadow
      dx="`+(E.dx||0)+`"
      dy="`+(E.dy||0)+`"
      stdDeviation="`+(E.blur?E.blur/10:0)+`"
      flood-color="`+(E.color?E.color:"#000")+`"
      flood-opacity="`+(E.opacity?E.opacity:1)+`"
      />`;S.innerHTML=y},A}();C.default=O},36629:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76789),T=v(29126),P=v(49242),I=v(71120),O=v(49171),A=v(84092),E=v(91995),S=v(84745),y=function(b){d.__extends(p,b);function p(){return b!==null&&b.apply(this,arguments)||this}return p.prototype.isEntityGroup=function(){return!0},p.prototype.createDom=function(){var m=S.createSVGElement("g");this.set("el",m);var x=this.getParent();if(x){var M=x.get("el");M||(M=x.createDom(),x.set("el",M)),M.appendChild(m)}return m},p.prototype.afterAttrsChange=function(m){b.prototype.afterAttrsChange.call(this,m);var x=this.get("canvas");if(x&&x.get("autoDraw")){var M=x.get("context");this.createPath(M,m)}},p.prototype.onCanvasChange=function(m){O.refreshElement(this,m)},p.prototype.getShapeBase=function(){return I},p.prototype.getGroupBase=function(){return p},p.prototype.draw=function(m){var x=this.getChildren(),M=this.get("el");this.get("destroyed")?M&&M.parentNode.removeChild(M):(M||this.createDom(),A.setClip(this,m),this.createPath(m),x.length&&O.drawChildren(m,x))},p.prototype.createPath=function(m,x){var M=this.attr(),k=this.get("el");P.each(x||M,function(_,B){E.SVG_ATTR_MAP[B]&&k.setAttribute(E.SVG_ATTR_MAP[B],_)}),A.setTransform(this)},p}(T.AbstractGroup);C.default=y},5666:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76789),T=v(29126),P=v(84092),I=v(84745),O=v(49171),A=v(91995),E=v(71120),S=v(36629),y=v(29126),b=function(p){d.__extends(m,p);function m(){var x=p!==null&&p.apply(this,arguments)||this;return x.type="svg",x.canFill=!1,x.canStroke=!1,x}return m.prototype.getDefaultAttrs=function(){var x=p.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},x),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},m.prototype.afterAttrsChange=function(x){p.prototype.afterAttrsChange.call(this,x);var M=this.get("canvas");if(M&&M.get("autoDraw")){var k=M.get("context");this.draw(k,x)}},m.prototype.getShapeBase=function(){return E},m.prototype.getGroupBase=function(){return S.default},m.prototype.onCanvasChange=function(x){O.refreshElement(this,x)},m.prototype.calculateBBox=function(){var x=this.get("el"),M=null;if(x)M=x.getBBox();else{var k=y.getBBoxMethod(this.get("type"));k&&(M=k(this))}if(M){var _=M.x,B=M.y,z=M.width,W=M.height,R=this.getHitLineWidth(),K=R/2,ut=_-K,ot=B-K,dt=_+z+K,nt=B+W+K;return{x:ut,y:ot,minX:ut,minY:ot,maxX:dt,maxY:nt,width:z+R,height:W+R}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},m.prototype.isFill=function(){var x=this.attr(),M=x.fill,k=x.fillStyle;return(M||k||this.isClipShape())&&this.canFill},m.prototype.isStroke=function(){var x=this.attr(),M=x.stroke,k=x.strokeStyle;return(M||k)&&this.canStroke},m.prototype.draw=function(x,M){var k=this.get("el");this.get("destroyed")?k&&k.parentNode.removeChild(k):(k||I.createDom(this),P.setClip(this,x),this.createPath(x,M),this.shadow(x,M),this.strokeAndFill(x,M),this.transform(M))},m.prototype.createPath=function(x,M){},m.prototype.strokeAndFill=function(x,M){var k=M||this.attr(),_=k.fill,B=k.fillStyle,z=k.stroke,W=k.strokeStyle,R=k.fillOpacity,K=k.strokeOpacity,ut=k.lineWidth,ot=this.get("el");this.canFill&&(M?"fill"in k?this._setColor(x,"fill",_):"fillStyle"in k&&this._setColor(x,"fill",B):this._setColor(x,"fill",_||B),R&&ot.setAttribute(A.SVG_ATTR_MAP.fillOpacity,R)),this.canStroke&&ut>0&&(M?"stroke"in k?this._setColor(x,"stroke",z):"strokeStyle"in k&&this._setColor(x,"stroke",W):this._setColor(x,"stroke",z||W),K&&ot.setAttribute(A.SVG_ATTR_MAP.strokeOpacity,K),ut&&ot.setAttribute(A.SVG_ATTR_MAP.lineWidth,ut))},m.prototype._setColor=function(x,M,k){var _=this.get("el");if(!k){_.setAttribute(A.SVG_ATTR_MAP[M],"none");return}if(k=k.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(k)){var B=x.find("gradient",k);B||(B=x.addGradient(k)),_.setAttribute(A.SVG_ATTR_MAP[M],"url(#"+B+")")}else if(/^[p,P]{1}[\s]*\(/.test(k)){var B=x.find("pattern",k);B||(B=x.addPattern(k)),_.setAttribute(A.SVG_ATTR_MAP[M],"url(#"+B+")")}else _.setAttribute(A.SVG_ATTR_MAP[M],k)},m.prototype.shadow=function(x,M){var k=this.attr(),_=M||k,B=_.shadowOffsetX,z=_.shadowOffsetY,W=_.shadowBlur,R=_.shadowColor;(B||z||W||R)&&P.setShadow(this,x)},m.prototype.transform=function(x){var M=this.attr(),k=(x||M).matrix;k&&P.setTransform(this)},m.prototype.isInShape=function(x,M){return this.isPointInPath(x,M)},m.prototype.isPointInPath=function(x,M){var k=this.get("el"),_=this.get("canvas"),B=_.get("el").getBoundingClientRect(),z=x+B.left,W=M+B.top,R=document.elementFromPoint(z,W);return!!(R&&R.isEqualNode(k))},m.prototype.getHitLineWidth=function(){var x=this.attrs,M=x.lineWidth,k=x.lineAppendWidth;return this.isStroke()?M+k:0},m}(T.AbstractShape);C.default=b},41310:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76789),T=v(49242),P=v(91995),I=v(5666),O=function(A){d.__extends(E,A);function E(){var S=A!==null&&A.apply(this,arguments)||this;return S.type="circle",S.canFill=!0,S.canStroke=!0,S}return E.prototype.getDefaultAttrs=function(){var S=A.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},S),{x:0,y:0,r:0})},E.prototype.createPath=function(S,y){var b=this.attr(),p=this.get("el");T.each(y||b,function(m,x){x==="x"||x==="y"?p.setAttribute("c"+x,m):P.SVG_ATTR_MAP[x]&&p.setAttribute(P.SVG_ATTR_MAP[x],m)})},E}(I.default);C.default=O},88800:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76789),T=v(49242),P=v(91995),I=v(5666),O=function(A){d.__extends(E,A);function E(){var S=A!==null&&A.apply(this,arguments)||this;return S.type="dom",S.canFill=!1,S.canStroke=!1,S}return E.prototype.createPath=function(S,y){var b=this.attr(),p=this.get("el");if(T.each(y||b,function(k,_){P.SVG_ATTR_MAP[_]&&p.setAttribute(P.SVG_ATTR_MAP[_],k)}),typeof b.html=="function"){var m=b.html.call(this,b);if(m instanceof Element||m instanceof HTMLDocument){for(var x=p.childNodes,M=x.length-1;M>=0;M--)p.removeChild(x[M]);p.appendChild(m)}else p.innerHTML=m}else p.innerHTML=b.html},E}(I.default);C.default=O},62927:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76789),T=v(49242),P=v(91995),I=v(5666),O=function(A){d.__extends(E,A);function E(){var S=A!==null&&A.apply(this,arguments)||this;return S.type="ellipse",S.canFill=!0,S.canStroke=!0,S}return E.prototype.getDefaultAttrs=function(){var S=A.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},S),{x:0,y:0,rx:0,ry:0})},E.prototype.createPath=function(S,y){var b=this.attr(),p=this.get("el");T.each(y||b,function(m,x){x==="x"||x==="y"?p.setAttribute("c"+x,m):P.SVG_ATTR_MAP[x]&&p.setAttribute(P.SVG_ATTR_MAP[x],m)})},E}(I.default);C.default=O},78076:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76789),T=v(49242),P=v(91995),I=v(5666),O=function(A){d.__extends(E,A);function E(){var S=A!==null&&A.apply(this,arguments)||this;return S.type="image",S.canFill=!1,S.canStroke=!1,S}return E.prototype.getDefaultAttrs=function(){var S=A.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},S),{x:0,y:0,width:0,height:0})},E.prototype.createPath=function(S,y){var b=this,p=this.attr(),m=this.get("el");T.each(y||p,function(x,M){M==="img"?b._setImage(p.img):P.SVG_ATTR_MAP[M]&&m.setAttribute(P.SVG_ATTR_MAP[M],x)})},E.prototype.setAttr=function(S,y){this.attrs[S]=y,S==="img"&&this._setImage(y)},E.prototype._setImage=function(S){var y=this.attr(),b=this.get("el");if(T.isString(S))b.setAttribute("href",S);else if(S instanceof window.Image)y.width||(b.setAttribute("width",S.width),this.attr("width",S.width)),y.height||(b.setAttribute("height",S.height),this.attr("height",S.height)),b.setAttribute("href",S.src);else if(S instanceof HTMLElement&&T.isString(S.nodeName)&&S.nodeName.toUpperCase()==="CANVAS")b.setAttribute("href",S.toDataURL());else if(S instanceof ImageData){var p=document.createElement("canvas");p.setAttribute("width",""+S.width),p.setAttribute("height",""+S.height),p.getContext("2d").putImageData(S,0,0),y.width||(b.setAttribute("width",""+S.width),this.attr("width",S.width)),y.height||(b.setAttribute("height",""+S.height),this.attr("height",S.height)),b.setAttribute("href",p.toDataURL())}},E}(I.default);C.default=O},71120:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(5666);Object.defineProperty(C,"Base",{enumerable:!0,get:function(){return d.default}});var T=v(41310);Object.defineProperty(C,"Circle",{enumerable:!0,get:function(){return T.default}});var P=v(88800);Object.defineProperty(C,"Dom",{enumerable:!0,get:function(){return P.default}});var I=v(62927);Object.defineProperty(C,"Ellipse",{enumerable:!0,get:function(){return I.default}});var O=v(78076);Object.defineProperty(C,"Image",{enumerable:!0,get:function(){return O.default}});var A=v(22059);Object.defineProperty(C,"Line",{enumerable:!0,get:function(){return A.default}});var E=v(62116);Object.defineProperty(C,"Marker",{enumerable:!0,get:function(){return E.default}});var S=v(49582);Object.defineProperty(C,"Path",{enumerable:!0,get:function(){return S.default}});var y=v(17498);Object.defineProperty(C,"Polygon",{enumerable:!0,get:function(){return y.default}});var b=v(67478);Object.defineProperty(C,"Polyline",{enumerable:!0,get:function(){return b.default}});var p=v(79705);Object.defineProperty(C,"Rect",{enumerable:!0,get:function(){return p.default}});var m=v(61622);Object.defineProperty(C,"Text",{enumerable:!0,get:function(){return m.default}})},22059:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76789),T=v(89838),P=v(49242),I=v(91995),O=v(5666),A=function(E){d.__extends(S,E);function S(){var y=E!==null&&E.apply(this,arguments)||this;return y.type="line",y.canFill=!1,y.canStroke=!0,y}return S.prototype.getDefaultAttrs=function(){var y=E.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},y),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},S.prototype.createPath=function(y,b){var p=this.attr(),m=this.get("el");P.each(b||p,function(x,M){if(M==="startArrow"||M==="endArrow")if(x){var k=P.isObject(x)?y.addArrow(p,I.SVG_ATTR_MAP[M]):y.getDefaultArrow(p,I.SVG_ATTR_MAP[M]);m.setAttribute(I.SVG_ATTR_MAP[M],"url(#"+k+")")}else m.removeAttribute(I.SVG_ATTR_MAP[M]);else I.SVG_ATTR_MAP[M]&&m.setAttribute(I.SVG_ATTR_MAP[M],x)})},S.prototype.getTotalLength=function(){var y=this.attr(),b=y.x1,p=y.y1,m=y.x2,x=y.y2;return T.Line.length(b,p,m,x)},S.prototype.getPoint=function(y){var b=this.attr(),p=b.x1,m=b.y1,x=b.x2,M=b.y2;return T.Line.pointAt(p,m,x,M,y)},S}(O.default);C.default=A},62116:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76789),T=v(49242),P=v(5666),I=v(56205),O=function(A){d.__extends(E,A);function E(){var S=A!==null&&A.apply(this,arguments)||this;return S.type="marker",S.canFill=!0,S.canStroke=!0,S}return E.prototype.createPath=function(S){var y=this.get("el");y.setAttribute("d",this._assembleMarker())},E.prototype._assembleMarker=function(){var S=this._getPath();return T.isArray(S)?S.map(function(y){return y.join(" ")}).join(""):S},E.prototype._getPath=function(){var S=this.attr(),y=S.x,b=S.y,p=S.r||S.radius,m=S.symbol||"circle",x;return T.isFunction(m)?x=m:x=I.default.get(m),x?x(y,b,p):(console.warn(x+" symbol is not exist."),null)},E.symbolsFactory=I.default,E}(P.default);C.default=O},56205:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v={circle:function(d,T,P){return[["M",d,T],["m",-P,0],["a",P,P,0,1,0,P*2,0],["a",P,P,0,1,0,-P*2,0]]},square:function(d,T,P){return[["M",d-P,T-P],["L",d+P,T-P],["L",d+P,T+P],["L",d-P,T+P],["Z"]]},diamond:function(d,T,P){return[["M",d-P,T],["L",d,T-P],["L",d+P,T],["L",d,T+P],["Z"]]},triangle:function(d,T,P){var I=P*Math.sin(1/3*Math.PI);return[["M",d-P,T+I],["L",d,T-I],["L",d+P,T+I],["z"]]},triangleDown:function(d,T,P){var I=P*Math.sin(1/3*Math.PI);return[["M",d-P,T-I],["L",d+P,T-I],["L",d,T+I],["Z"]]}};C.default={get:function(d){return v[d]},register:function(d,T){v[d]=T},remove:function(d){delete v[d]},getAll:function(){return v}}},49582:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76789),T=v(49242),P=v(91995),I=v(5666),O=function(A){d.__extends(E,A);function E(){var S=A!==null&&A.apply(this,arguments)||this;return S.type="path",S.canFill=!0,S.canStroke=!0,S}return E.prototype.getDefaultAttrs=function(){var S=A.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},S),{startArrow:!1,endArrow:!1})},E.prototype.createPath=function(S,y){var b=this,p=this.attr(),m=this.get("el");T.each(y||p,function(x,M){if(M==="path"&&T.isArray(x))m.setAttribute("d",b._formatPath(x));else if(M==="startArrow"||M==="endArrow")if(x){var k=T.isObject(x)?S.addArrow(p,P.SVG_ATTR_MAP[M]):S.getDefaultArrow(p,P.SVG_ATTR_MAP[M]);m.setAttribute(P.SVG_ATTR_MAP[M],"url(#"+k+")")}else m.removeAttribute(P.SVG_ATTR_MAP[M]);else P.SVG_ATTR_MAP[M]&&m.setAttribute(P.SVG_ATTR_MAP[M],x)})},E.prototype._formatPath=function(S){var y=S.map(function(b){return b.join(" ")}).join("");return~y.indexOf("NaN")?"":y},E.prototype.getTotalLength=function(){var S=this.get("el");return S?S.getTotalLength():null},E.prototype.getPoint=function(S){var y=this.get("el"),b=this.getTotalLength();if(b===0)return null;var p=y?y.getPointAtLength(S*b):null;return p?{x:p.x,y:p.y}:null},E}(I.default);C.default=O},17498:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76789),T=v(49242),P=v(91995),I=v(5666),O=function(A){d.__extends(E,A);function E(){var S=A!==null&&A.apply(this,arguments)||this;return S.type="polygon",S.canFill=!0,S.canStroke=!0,S}return E.prototype.createPath=function(S,y){var b=this.attr(),p=this.get("el");T.each(y||b,function(m,x){x==="points"&&T.isArray(m)&&m.length>=2?p.setAttribute("points",m.map(function(M){return M[0]+","+M[1]}).join(" ")):P.SVG_ATTR_MAP[x]&&p.setAttribute(P.SVG_ATTR_MAP[x],m)})},E}(I.default);C.default=O},67478:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76789),T=v(89838),P=v(89838),I=v(49242),O=v(91995),A=v(5666),E=function(S){d.__extends(y,S);function y(){var b=S!==null&&S.apply(this,arguments)||this;return b.type="polyline",b.canFill=!0,b.canStroke=!0,b}return y.prototype.getDefaultAttrs=function(){var b=S.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},b),{startArrow:!1,endArrow:!1})},y.prototype.onAttrChange=function(b,p,m){S.prototype.onAttrChange.call(this,b,p,m),["points"].indexOf(b)!==-1&&this._resetCache()},y.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},y.prototype.createPath=function(b,p){var m=this.attr(),x=this.get("el");I.each(p||m,function(M,k){k==="points"&&I.isArray(M)&&M.length>=2?x.setAttribute("points",M.map(function(_){return _[0]+","+_[1]}).join(" ")):O.SVG_ATTR_MAP[k]&&x.setAttribute(O.SVG_ATTR_MAP[k],M)})},y.prototype.getTotalLength=function(){var b=this.attr().points,p=this.get("totalLength");return I.isNil(p)?(this.set("totalLength",T.Polyline.length(b)),this.get("totalLength")):p},y.prototype.getPoint=function(b){var p=this.attr().points,m=this.get("tCache");m||(this._setTcache(),m=this.get("tCache"));var x,M;return I.each(m,function(k,_){b>=k[0]&&b<=k[1]&&(x=(b-k[0])/(k[1]-k[0]),M=_)}),P.Line.pointAt(p[M][0],p[M][1],p[M+1][0],p[M+1][1],x)},y.prototype._setTcache=function(){var b=this.attr().points;if(!(!b||b.length===0)){var p=this.getTotalLength();if(!(p<=0)){var m=0,x=[],M,k;I.each(b,function(_,B){b[B+1]&&(M=[],M[0]=m/p,k=P.Line.length(_[0],_[1],b[B+1][0],b[B+1][1]),m+=k,M[1]=m/p,x.push(M))}),this.set("tCache",x)}}},y.prototype.getStartTangent=function(){var b=this.attr().points,p=[];return p.push([b[1][0],b[1][1]]),p.push([b[0][0],b[0][1]]),p},y.prototype.getEndTangent=function(){var b=this.attr().points,p=b.length-1,m=[];return m.push([b[p-1][0],b[p-1][1]]),m.push([b[p][0],b[p][1]]),m},y}(A.default);C.default=E},79705:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76789),T=v(49242),P=v(5666),I=v(91995),O=v(19544),A=function(E){d.__extends(S,E);function S(){var y=E!==null&&E.apply(this,arguments)||this;return y.type="rect",y.canFill=!0,y.canStroke=!0,y}return S.prototype.getDefaultAttrs=function(){var y=E.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},y),{x:0,y:0,width:0,height:0,radius:0})},S.prototype.createPath=function(y,b){var p=this,m=this.attr(),x=this.get("el"),M=!1,k=["x","y","width","height","radius"];T.each(b||m,function(_,B){k.indexOf(B)!==-1&&!M?(x.setAttribute("d",p._assembleRect(m)),M=!0):k.indexOf(B)===-1&&I.SVG_ATTR_MAP[B]&&x.setAttribute(I.SVG_ATTR_MAP[B],_)})},S.prototype._assembleRect=function(y){var b=y.x,p=y.y,m=y.width,x=y.height,M=y.radius;if(!M)return"M "+b+","+p+" l "+m+",0 l 0,"+x+" l"+-m+" 0 z";var k=O.parseRadius(M);T.isArray(M)?M.length===1?k.r1=k.r2=k.r3=k.r4=M[0]:M.length===2?(k.r1=k.r3=M[0],k.r2=k.r4=M[1]):M.length===3?(k.r1=M[0],k.r2=k.r4=M[1],k.r3=M[2]):(k.r1=M[0],k.r2=M[1],k.r3=M[2],k.r4=M[3]):k.r1=k.r2=k.r3=k.r4=M;var _=[["M "+(b+k.r1)+","+p],["l "+(m-k.r1-k.r2)+",0"],["a "+k.r2+","+k.r2+",0,0,1,"+k.r2+","+k.r2],["l 0,"+(x-k.r2-k.r3)],["a "+k.r3+","+k.r3+",0,0,1,"+-k.r3+","+k.r3],["l "+(k.r3+k.r4-m)+",0"],["a "+k.r4+","+k.r4+",0,0,1,"+-k.r4+","+-k.r4],["l 0,"+(k.r4+k.r1-x)],["a "+k.r1+","+k.r1+",0,0,1,"+k.r1+","+-k.r1],["z"]];return _.join(" ")},S}(P.default);C.default=A},61622:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76789),T=v(49242),P=v(43631),I=v(84092),O=v(91995),A=v(5666),E=.3,S={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},y={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},b={left:"left",start:"left",center:"middle",right:"end",end:"end"},p=function(m){d.__extends(x,m);function x(){var M=m!==null&&m.apply(this,arguments)||this;return M.type="text",M.canFill=!0,M.canStroke=!0,M}return x.prototype.getDefaultAttrs=function(){var M=m.prototype.getDefaultAttrs.call(this);return d.__assign(d.__assign({},M),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},x.prototype.createPath=function(M,k){var _=this,B=this.attr(),z=this.get("el");this._setFont(),T.each(k||B,function(W,R){R==="text"?_._setText(""+W):R==="matrix"&&W?I.setTransform(_):O.SVG_ATTR_MAP[R]&&z.setAttribute(O.SVG_ATTR_MAP[R],W)}),z.setAttribute("paint-order","stroke"),z.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},x.prototype._setFont=function(){var M=this.get("el"),k=this.attr(),_=k.textBaseline,B=k.textAlign,z=P.detect();z&&z.name==="firefox"?M.setAttribute("dominant-baseline",y[_]||"alphabetic"):M.setAttribute("alignment-baseline",S[_]||"baseline"),M.setAttribute("text-anchor",b[B]||"left")},x.prototype._setText=function(M){var k=this.get("el"),_=this.attr(),B=_.x,z=_.textBaseline,W=z===void 0?"bottom":z;if(!M)k.innerHTML="";else if(~M.indexOf(`
`)){var R=M.split(`
`),K=R.length-1,ut="";T.each(R,function(ot,dt){dt===0?W==="alphabetic"?ut+='<tspan x="'+B+'" dy="'+-K+'em">'+ot+"</tspan>":W==="top"?ut+='<tspan x="'+B+'" dy="0.9em">'+ot+"</tspan>":W==="middle"?ut+='<tspan x="'+B+'" dy="'+-(K-1)/2+'em">'+ot+"</tspan>":W==="bottom"?ut+='<tspan x="'+B+'" dy="-'+(K+E)+'em">'+ot+"</tspan>":W==="hanging"&&(ut+='<tspan x="'+B+'" dy="'+(-(K-1)-E)+'em">'+ot+"</tspan>"):ut+='<tspan x="'+B+'" dy="1em">'+ot+"</tspan>"}),k.innerHTML=ut}else k.innerHTML=M},x}(A.default);C.default=p},84745:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.moveTo=C.sortDom=C.createDom=C.createSVGElement=void 0;var d=v(49242),T=v(91995);function P(E){return document.createElementNS("http://www.w3.org/2000/svg",E)}C.createSVGElement=P;function I(E){var S=T.SHAPE_TO_TAGS[E.type],y=E.getParent();if(!S)throw new Error("the type "+E.type+" is not supported by svg");var b=P(S);if(E.get("id")&&(b.id=E.get("id")),E.set("el",b),E.set("attrs",{}),y){var p=y.get("el");p||(p=y.createDom(),y.set("el",p)),p.appendChild(b)}return b}C.createDom=I;function O(E,S){var y=E.get("el"),b=d.toArray(y.children).sort(S),p=document.createDocumentFragment();b.forEach(function(m){p.appendChild(m)}),y.appendChild(p)}C.sortDom=O;function A(E,S){var y=E.parentNode,b=Array.from(y.childNodes).filter(function(M){return M.nodeType===1&&M.nodeName.toLowerCase()!=="defs"}),p=b[S],m=b.indexOf(E);if(p){if(m>S)y.insertBefore(E,p);else if(m<S){var x=b[S+1];x?y.insertBefore(E,x):y.appendChild(E)}}else y.appendChild(E)}C.moveTo=A},49171:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.refreshElement=C.drawChildren=void 0;var d=v(84092),T=v(84745);function P(O,A){A.forEach(function(E){E.draw(O)})}C.drawChildren=P;function I(O,A){var E=O.get("canvas");if(E&&E.get("autoDraw")){var S=E.get("context"),y=O.getParent(),b=y?y.getChildren():[E],p=O.get("el");if(A==="remove"){var m=O.get("isClipShape");if(m){var x=p&&p.parentNode,M=x&&x.parentNode;x&&M&&M.removeChild(x)}else p&&p.parentNode&&p.parentNode.removeChild(p)}else if(A==="show")p.setAttribute("visibility","visible");else if(A==="hide")p.setAttribute("visibility","hidden");else if(A==="zIndex")T.moveTo(p,b.indexOf(O));else if(A==="sort"){var k=O.get("children");k&&k.length&&T.sortDom(O,function(_,B){return k.indexOf(_)-k.indexOf(B)?1:0})}else A==="clear"?p&&(p.innerHTML=""):A==="matrix"?d.setTransform(O):A==="clip"?d.setClip(O,S):A==="attr"||A==="add"&&O.draw(S)}}C.refreshElement=I},19544:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.parsePath=C.parseRadius=void 0;var d=v(49242),T=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,P=/[^\s,]+/gi;function I(A){var E=0,S=0,y=0,b=0;return d.isArray(A)?A.length===1?E=S=y=b=A[0]:A.length===2?(E=y=A[0],S=b=A[1]):A.length===3?(E=A[0],S=b=A[1],y=A[2]):(E=A[0],S=A[1],y=A[2],b=A[3]):E=S=y=b=A,{r1:E,r2:S,r3:y,r4:b}}C.parseRadius=I;function O(A){if(A=A||[],d.isArray(A))return A;if(d.isString(A))return A=A.match(T),d.each(A,function(E,S){if(E=E.match(P),E[0].length>1){var y=E[0].charAt(0);E.splice(1,0,E[0].substr(1)),E[0]=y}d.each(E,function(b,p){isNaN(b)||(E[p]=+b)}),A[S]=E}),A}C.parsePath=O},84092:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.setClip=C.setTransform=C.setShadow=void 0;var d=v(84745);function T(O,A){var E=O.cfg.el,S=O.attr(),y={dx:S.shadowOffsetX,dy:S.shadowOffsetY,blur:S.shadowBlur,color:S.shadowColor};if(!y.dx&&!y.dy&&!y.blur&&!y.color)E.removeAttribute("filter");else{var b=A.find("filter",y);b||(b=A.addShadow(y)),E.setAttribute("filter","url(#"+b+")")}}C.setShadow=T;function P(O){var A=O.attr().matrix;if(A){for(var E=O.cfg.el,S=[],y=0;y<9;y+=3)S.push(A[y]+","+A[y+1]);S=S.join(","),S.indexOf("NaN")===-1?E.setAttribute("transform","matrix("+S+")"):console.warn("invalid matrix:",A)}}C.setTransform=P;function I(O,A){var E=O.getClip(),S=O.get("el");if(!E)S.removeAttribute("clip-path");else if(E&&!S.hasAttribute("clip-path")){d.createDom(E),E.createPath(A);var y=A.addClip(E);S.setAttribute("clip-path","url(#"+y+")")}}C.setClip=I},76789:function(ct,C,v){"use strict";v.r(C),v.d(C,{__extends:function(){return T},__assign:function(){return P},__rest:function(){return I},__decorate:function(){return O},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return S},__generator:function(){return y},__createBinding:function(){return b},__exportStar:function(){return p},__values:function(){return m},__read:function(){return x},__spread:function(){return M},__spreadArrays:function(){return k},__spreadArray:function(){return _},__await:function(){return B},__asyncGenerator:function(){return z},__asyncDelegator:function(){return W},__asyncValues:function(){return R},__makeTemplateObject:function(){return K},__importStar:function(){return ot},__importDefault:function(){return dt},__classPrivateFieldGet:function(){return nt},__classPrivateFieldSet:function(){return yt},__classPrivateFieldIn:function(){return tt}});var d=function(J,ft){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(rt,St){rt.__proto__=St}||function(rt,St){for(var wt in St)Object.prototype.hasOwnProperty.call(St,wt)&&(rt[wt]=St[wt])},d(J,ft)};function T(J,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Class extends value "+String(ft)+" is not a constructor or null");d(J,ft);function rt(){this.constructor=J}J.prototype=ft===null?Object.create(ft):(rt.prototype=ft.prototype,new rt)}var P=function(){return P=Object.assign||function(ft){for(var rt,St=1,wt=arguments.length;St<wt;St++){rt=arguments[St];for(var q in rt)Object.prototype.hasOwnProperty.call(rt,q)&&(ft[q]=rt[q])}return ft},P.apply(this,arguments)};function I(J,ft){var rt={};for(var St in J)Object.prototype.hasOwnProperty.call(J,St)&&ft.indexOf(St)<0&&(rt[St]=J[St]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function")for(var wt=0,St=Object.getOwnPropertySymbols(J);wt<St.length;wt++)ft.indexOf(St[wt])<0&&Object.prototype.propertyIsEnumerable.call(J,St[wt])&&(rt[St[wt]]=J[St[wt]]);return rt}function O(J,ft,rt,St){var wt=arguments.length,q=wt<3?ft:St===null?St=Object.getOwnPropertyDescriptor(ft,rt):St,it;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(J,ft,rt,St);else for(var Q=J.length-1;Q>=0;Q--)(it=J[Q])&&(q=(wt<3?it(q):wt>3?it(ft,rt,q):it(ft,rt))||q);return wt>3&&q&&Object.defineProperty(ft,rt,q),q}function A(J,ft){return function(rt,St){ft(rt,St,J)}}function E(J,ft){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(J,ft)}function S(J,ft,rt,St){function wt(q){return q instanceof rt?q:new rt(function(it){it(q)})}return new(rt||(rt=Promise))(function(q,it){function Q(It){try{vt(St.next(It))}catch(Qt){it(Qt)}}function f(It){try{vt(St.throw(It))}catch(Qt){it(Qt)}}function vt(It){It.done?q(It.value):wt(It.value).then(Q,f)}vt((St=St.apply(J,ft||[])).next())})}function y(J,ft){var rt={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},St,wt,q,it;return it={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function Q(vt){return function(It){return f([vt,It])}}function f(vt){if(St)throw new TypeError("Generator is already executing.");for(;rt;)try{if(St=1,wt&&(q=vt[0]&2?wt.return:vt[0]?wt.throw||((q=wt.return)&&q.call(wt),0):wt.next)&&!(q=q.call(wt,vt[1])).done)return q;switch(wt=0,q&&(vt=[vt[0]&2,q.value]),vt[0]){case 0:case 1:q=vt;break;case 4:return rt.label++,{value:vt[1],done:!1};case 5:rt.label++,wt=vt[1],vt=[0];continue;case 7:vt=rt.ops.pop(),rt.trys.pop();continue;default:if(q=rt.trys,!(q=q.length>0&&q[q.length-1])&&(vt[0]===6||vt[0]===2)){rt=0;continue}if(vt[0]===3&&(!q||vt[1]>q[0]&&vt[1]<q[3])){rt.label=vt[1];break}if(vt[0]===6&&rt.label<q[1]){rt.label=q[1],q=vt;break}if(q&&rt.label<q[2]){rt.label=q[2],rt.ops.push(vt);break}q[2]&&rt.ops.pop(),rt.trys.pop();continue}vt=ft.call(J,rt)}catch(It){vt=[6,It],wt=0}finally{St=q=0}if(vt[0]&5)throw vt[1];return{value:vt[0]?vt[1]:void 0,done:!0}}}var b=Object.create?function(J,ft,rt,St){St===void 0&&(St=rt);var wt=Object.getOwnPropertyDescriptor(ft,rt);(!wt||("get"in wt?!ft.__esModule:wt.writable||wt.configurable))&&(wt={enumerable:!0,get:function(){return ft[rt]}}),Object.defineProperty(J,St,wt)}:function(J,ft,rt,St){St===void 0&&(St=rt),J[St]=ft[rt]};function p(J,ft){for(var rt in J)rt!=="default"&&!Object.prototype.hasOwnProperty.call(ft,rt)&&b(ft,J,rt)}function m(J){var ft=typeof Symbol=="function"&&Symbol.iterator,rt=ft&&J[ft],St=0;if(rt)return rt.call(J);if(J&&typeof J.length=="number")return{next:function(){return J&&St>=J.length&&(J=void 0),{value:J&&J[St++],done:!J}}};throw new TypeError(ft?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(J,ft){var rt=typeof Symbol=="function"&&J[Symbol.iterator];if(!rt)return J;var St=rt.call(J),wt,q=[],it;try{for(;(ft===void 0||ft-- >0)&&!(wt=St.next()).done;)q.push(wt.value)}catch(Q){it={error:Q}}finally{try{wt&&!wt.done&&(rt=St.return)&&rt.call(St)}finally{if(it)throw it.error}}return q}function M(){for(var J=[],ft=0;ft<arguments.length;ft++)J=J.concat(x(arguments[ft]));return J}function k(){for(var J=0,ft=0,rt=arguments.length;ft<rt;ft++)J+=arguments[ft].length;for(var St=Array(J),wt=0,ft=0;ft<rt;ft++)for(var q=arguments[ft],it=0,Q=q.length;it<Q;it++,wt++)St[wt]=q[it];return St}function _(J,ft,rt){if(rt||arguments.length===2)for(var St=0,wt=ft.length,q;St<wt;St++)(q||!(St in ft))&&(q||(q=Array.prototype.slice.call(ft,0,St)),q[St]=ft[St]);return J.concat(q||Array.prototype.slice.call(ft))}function B(J){return this instanceof B?(this.v=J,this):new B(J)}function z(J,ft,rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var St=rt.apply(J,ft||[]),wt,q=[];return wt={},it("next"),it("throw"),it("return"),wt[Symbol.asyncIterator]=function(){return this},wt;function it(Se){St[Se]&&(wt[Se]=function($t){return new Promise(function(re,he){q.push([Se,$t,re,he])>1||Q(Se,$t)})})}function Q(Se,$t){try{f(St[Se]($t))}catch(re){Qt(q[0][3],re)}}function f(Se){Se.value instanceof B?Promise.resolve(Se.value.v).then(vt,It):Qt(q[0][2],Se)}function vt(Se){Q("next",Se)}function It(Se){Q("throw",Se)}function Qt(Se,$t){Se($t),q.shift(),q.length&&Q(q[0][0],q[0][1])}}function W(J){var ft,rt;return ft={},St("next"),St("throw",function(wt){throw wt}),St("return"),ft[Symbol.iterator]=function(){return this},ft;function St(wt,q){ft[wt]=J[wt]?function(it){return(rt=!rt)?{value:B(J[wt](it)),done:wt==="return"}:q?q(it):it}:q}}function R(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft=J[Symbol.asyncIterator],rt;return ft?ft.call(J):(J=typeof m=="function"?m(J):J[Symbol.iterator](),rt={},St("next"),St("throw"),St("return"),rt[Symbol.asyncIterator]=function(){return this},rt);function St(q){rt[q]=J[q]&&function(it){return new Promise(function(Q,f){it=J[q](it),wt(Q,f,it.done,it.value)})}}function wt(q,it,Q,f){Promise.resolve(f).then(function(vt){q({value:vt,done:Q})},it)}}function K(J,ft){return Object.defineProperty?Object.defineProperty(J,"raw",{value:ft}):J.raw=ft,J}var ut=Object.create?function(J,ft){Object.defineProperty(J,"default",{enumerable:!0,value:ft})}:function(J,ft){J.default=ft};function ot(J){if(J&&J.__esModule)return J;var ft={};if(J!=null)for(var rt in J)rt!=="default"&&Object.prototype.hasOwnProperty.call(J,rt)&&b(ft,J,rt);return ut(ft,J),ft}function dt(J){return J&&J.__esModule?J:{default:J}}function nt(J,ft,rt,St){if(rt==="a"&&!St)throw new TypeError("Private accessor was defined without a getter");if(typeof ft=="function"?J!==ft||!St:!ft.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return rt==="m"?St:rt==="a"?St.call(J):St?St.value:ft.get(J)}function yt(J,ft,rt,St,wt){if(St==="m")throw new TypeError("Private method is not writable");if(St==="a"&&!wt)throw new TypeError("Private accessor was defined without a setter");if(typeof ft=="function"?J!==ft||!wt:!ft.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return St==="a"?wt.call(J,rt):wt?wt.value=rt:ft.set(J,rt),rt}function tt(J,ft){if(ft===null||typeof ft!="object"&&typeof ft!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof J=="function"?ft===J:J.has(ft)}},27549:function(ct,C,v){"use strict";var d;d={value:!0};var T=v(7802);C.wO=T.default;var P=v(89193);d=P.default;var I=v(98543);d=I.default;var O=v(34532);C.vs=O.default},7802:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(31502);d.translate=function(T,P,I){var O=new Array(9);return d.fromTranslation(O,I),d.multiply(T,O,P)},d.rotate=function(T,P,I){var O=new Array(9);return d.fromRotation(O,I),d.multiply(T,O,P)},d.scale=function(T,P,I){var O=new Array(9);return d.fromScaling(O,I),d.multiply(T,O,P)},d.transform=function(T,P){for(var I=[].concat(T),O=0,A=P.length;O<A;O++){var E=P[O];switch(E[0]){case"t":d.translate(I,I,[E[1],E[2]]);break;case"s":d.scale(I,I,[E[1],E[2]]);break;case"r":d.rotate(I,I,E[1]);break;default:break}}return I},C.default=d},34532:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(49242),T=v(7802);C.default=function(P,I){var O=P?d.clone(P):[1,0,0,0,1,0,0,0,1];return d.each(I,function(A){switch(A[0]){case"t":T.default.translate(O,O,[A[1],A[2]]);break;case"s":T.default.scale(O,O,[A[1],A[2]]);break;case"r":T.default.rotate(O,O,A[1]);break;case"m":T.default.multiply(O,O,A[1]);break;default:return!1}}),O}},89193:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(76172),T=v(49242);d.angle=function(P,I){var O=d.dot(P,I)/(d.length(P)*d.length(I));return Math.acos(T.clamp(O,-1,1))},d.direction=function(P,I){return P[0]*I[1]-I[0]*P[1]},d.angleTo=function(P,I,O){var A=d.angle(P,I),E=d.direction(P,I)>=0;return O?E?Math.PI*2-A:A:E?A:Math.PI*2-A},d.vertical=function(P,I,O){return O?(P[0]=I[1],P[1]=-1*I[0]):(P[0]=-1*I[1],P[1]=I[0]),P},C.default=d},98543:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(88395);C.default=d},74988:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.setMatrixArrayType=P,C.toRadian=O,C.equals=A;var v=C.EPSILON=1e-6,d=C.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,T=C.RANDOM=Math.random;function P(E){C.ARRAY_TYPE=d=E}var I=Math.PI/180;function O(E){return E*I}function A(E,S){return Math.abs(E-S)<=v*Math.max(1,Math.abs(E),Math.abs(S))}},31502:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.sub=C.mul=void 0,C.create=I,C.fromMat4=O,C.clone=A,C.copy=E,C.fromValues=S,C.set=y,C.identity=b,C.transpose=p,C.invert=m,C.adjoint=x,C.determinant=M,C.multiply=k,C.translate=_,C.rotate=B,C.scale=z,C.fromTranslation=W,C.fromRotation=R,C.fromScaling=K,C.fromMat2d=ut,C.fromQuat=ot,C.normalFromMat4=dt,C.projection=nt,C.str=yt,C.frob=tt,C.add=J,C.subtract=ft,C.multiplyScalar=rt,C.multiplyScalarAndAdd=St,C.exactEquals=wt,C.equals=q;var d=v(74988),T=P(d);function P(f){if(f&&f.__esModule)return f;var vt={};if(f!=null)for(var It in f)Object.prototype.hasOwnProperty.call(f,It)&&(vt[It]=f[It]);return vt.default=f,vt}function I(){var f=new T.ARRAY_TYPE(9);return T.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0),f[0]=1,f[4]=1,f[8]=1,f}function O(f,vt){return f[0]=vt[0],f[1]=vt[1],f[2]=vt[2],f[3]=vt[4],f[4]=vt[5],f[5]=vt[6],f[6]=vt[8],f[7]=vt[9],f[8]=vt[10],f}function A(f){var vt=new T.ARRAY_TYPE(9);return vt[0]=f[0],vt[1]=f[1],vt[2]=f[2],vt[3]=f[3],vt[4]=f[4],vt[5]=f[5],vt[6]=f[6],vt[7]=f[7],vt[8]=f[8],vt}function E(f,vt){return f[0]=vt[0],f[1]=vt[1],f[2]=vt[2],f[3]=vt[3],f[4]=vt[4],f[5]=vt[5],f[6]=vt[6],f[7]=vt[7],f[8]=vt[8],f}function S(f,vt,It,Qt,Se,$t,re,he,Me){var le=new T.ARRAY_TYPE(9);return le[0]=f,le[1]=vt,le[2]=It,le[3]=Qt,le[4]=Se,le[5]=$t,le[6]=re,le[7]=he,le[8]=Me,le}function y(f,vt,It,Qt,Se,$t,re,he,Me,le){return f[0]=vt,f[1]=It,f[2]=Qt,f[3]=Se,f[4]=$t,f[5]=re,f[6]=he,f[7]=Me,f[8]=le,f}function b(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function p(f,vt){if(f===vt){var It=vt[1],Qt=vt[2],Se=vt[5];f[1]=vt[3],f[2]=vt[6],f[3]=It,f[5]=vt[7],f[6]=Qt,f[7]=Se}else f[0]=vt[0],f[1]=vt[3],f[2]=vt[6],f[3]=vt[1],f[4]=vt[4],f[5]=vt[7],f[6]=vt[2],f[7]=vt[5],f[8]=vt[8];return f}function m(f,vt){var It=vt[0],Qt=vt[1],Se=vt[2],$t=vt[3],re=vt[4],he=vt[5],Me=vt[6],le=vt[7],Rt=vt[8],Ot=Rt*re-he*le,At=-Rt*$t+he*Me,Dt=le*$t-re*Me,j=It*Ot+Qt*At+Se*Dt;return j?(j=1/j,f[0]=Ot*j,f[1]=(-Rt*Qt+Se*le)*j,f[2]=(he*Qt-Se*re)*j,f[3]=At*j,f[4]=(Rt*It-Se*Me)*j,f[5]=(-he*It+Se*$t)*j,f[6]=Dt*j,f[7]=(-le*It+Qt*Me)*j,f[8]=(re*It-Qt*$t)*j,f):null}function x(f,vt){var It=vt[0],Qt=vt[1],Se=vt[2],$t=vt[3],re=vt[4],he=vt[5],Me=vt[6],le=vt[7],Rt=vt[8];return f[0]=re*Rt-he*le,f[1]=Se*le-Qt*Rt,f[2]=Qt*he-Se*re,f[3]=he*Me-$t*Rt,f[4]=It*Rt-Se*Me,f[5]=Se*$t-It*he,f[6]=$t*le-re*Me,f[7]=Qt*Me-It*le,f[8]=It*re-Qt*$t,f}function M(f){var vt=f[0],It=f[1],Qt=f[2],Se=f[3],$t=f[4],re=f[5],he=f[6],Me=f[7],le=f[8];return vt*(le*$t-re*Me)+It*(-le*Se+re*he)+Qt*(Me*Se-$t*he)}function k(f,vt,It){var Qt=vt[0],Se=vt[1],$t=vt[2],re=vt[3],he=vt[4],Me=vt[5],le=vt[6],Rt=vt[7],Ot=vt[8],At=It[0],Dt=It[1],j=It[2],$=It[3],et=It[4],Tt=It[5],Nt=It[6],Ut=It[7],Oe=It[8];return f[0]=At*Qt+Dt*re+j*le,f[1]=At*Se+Dt*he+j*Rt,f[2]=At*$t+Dt*Me+j*Ot,f[3]=$*Qt+et*re+Tt*le,f[4]=$*Se+et*he+Tt*Rt,f[5]=$*$t+et*Me+Tt*Ot,f[6]=Nt*Qt+Ut*re+Oe*le,f[7]=Nt*Se+Ut*he+Oe*Rt,f[8]=Nt*$t+Ut*Me+Oe*Ot,f}function _(f,vt,It){var Qt=vt[0],Se=vt[1],$t=vt[2],re=vt[3],he=vt[4],Me=vt[5],le=vt[6],Rt=vt[7],Ot=vt[8],At=It[0],Dt=It[1];return f[0]=Qt,f[1]=Se,f[2]=$t,f[3]=re,f[4]=he,f[5]=Me,f[6]=At*Qt+Dt*re+le,f[7]=At*Se+Dt*he+Rt,f[8]=At*$t+Dt*Me+Ot,f}function B(f,vt,It){var Qt=vt[0],Se=vt[1],$t=vt[2],re=vt[3],he=vt[4],Me=vt[5],le=vt[6],Rt=vt[7],Ot=vt[8],At=Math.sin(It),Dt=Math.cos(It);return f[0]=Dt*Qt+At*re,f[1]=Dt*Se+At*he,f[2]=Dt*$t+At*Me,f[3]=Dt*re-At*Qt,f[4]=Dt*he-At*Se,f[5]=Dt*Me-At*$t,f[6]=le,f[7]=Rt,f[8]=Ot,f}function z(f,vt,It){var Qt=It[0],Se=It[1];return f[0]=Qt*vt[0],f[1]=Qt*vt[1],f[2]=Qt*vt[2],f[3]=Se*vt[3],f[4]=Se*vt[4],f[5]=Se*vt[5],f[6]=vt[6],f[7]=vt[7],f[8]=vt[8],f}function W(f,vt){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=vt[0],f[7]=vt[1],f[8]=1,f}function R(f,vt){var It=Math.sin(vt),Qt=Math.cos(vt);return f[0]=Qt,f[1]=It,f[2]=0,f[3]=-It,f[4]=Qt,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function K(f,vt){return f[0]=vt[0],f[1]=0,f[2]=0,f[3]=0,f[4]=vt[1],f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function ut(f,vt){return f[0]=vt[0],f[1]=vt[1],f[2]=0,f[3]=vt[2],f[4]=vt[3],f[5]=0,f[6]=vt[4],f[7]=vt[5],f[8]=1,f}function ot(f,vt){var It=vt[0],Qt=vt[1],Se=vt[2],$t=vt[3],re=It+It,he=Qt+Qt,Me=Se+Se,le=It*re,Rt=Qt*re,Ot=Qt*he,At=Se*re,Dt=Se*he,j=Se*Me,$=$t*re,et=$t*he,Tt=$t*Me;return f[0]=1-Ot-j,f[3]=Rt-Tt,f[6]=At+et,f[1]=Rt+Tt,f[4]=1-le-j,f[7]=Dt-$,f[2]=At-et,f[5]=Dt+$,f[8]=1-le-Ot,f}function dt(f,vt){var It=vt[0],Qt=vt[1],Se=vt[2],$t=vt[3],re=vt[4],he=vt[5],Me=vt[6],le=vt[7],Rt=vt[8],Ot=vt[9],At=vt[10],Dt=vt[11],j=vt[12],$=vt[13],et=vt[14],Tt=vt[15],Nt=It*he-Qt*re,Ut=It*Me-Se*re,Oe=It*le-$t*re,He=Qt*Me-Se*he,Zt=Qt*le-$t*he,be=Se*le-$t*Me,_e=Rt*$-Ot*j,Qe=Rt*et-At*j,dr=Rt*Tt-Dt*j,ur=Ot*et-At*$,Dr=Ot*Tt-Dt*$,ne=At*Tt-Dt*et,se=Nt*ne-Ut*Dr+Oe*ur+He*dr-Zt*Qe+be*_e;return se?(se=1/se,f[0]=(he*ne-Me*Dr+le*ur)*se,f[1]=(Me*dr-re*ne-le*Qe)*se,f[2]=(re*Dr-he*dr+le*_e)*se,f[3]=(Se*Dr-Qt*ne-$t*ur)*se,f[4]=(It*ne-Se*dr+$t*Qe)*se,f[5]=(Qt*dr-It*Dr-$t*_e)*se,f[6]=($*be-et*Zt+Tt*He)*se,f[7]=(et*Oe-j*be-Tt*Ut)*se,f[8]=(j*Zt-$*Oe+Tt*Nt)*se,f):null}function nt(f,vt,It){return f[0]=2/vt,f[1]=0,f[2]=0,f[3]=0,f[4]=-2/It,f[5]=0,f[6]=-1,f[7]=1,f[8]=1,f}function yt(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"}function tt(f){return Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2)+Math.pow(f[2],2)+Math.pow(f[3],2)+Math.pow(f[4],2)+Math.pow(f[5],2)+Math.pow(f[6],2)+Math.pow(f[7],2)+Math.pow(f[8],2))}function J(f,vt,It){return f[0]=vt[0]+It[0],f[1]=vt[1]+It[1],f[2]=vt[2]+It[2],f[3]=vt[3]+It[3],f[4]=vt[4]+It[4],f[5]=vt[5]+It[5],f[6]=vt[6]+It[6],f[7]=vt[7]+It[7],f[8]=vt[8]+It[8],f}function ft(f,vt,It){return f[0]=vt[0]-It[0],f[1]=vt[1]-It[1],f[2]=vt[2]-It[2],f[3]=vt[3]-It[3],f[4]=vt[4]-It[4],f[5]=vt[5]-It[5],f[6]=vt[6]-It[6],f[7]=vt[7]-It[7],f[8]=vt[8]-It[8],f}function rt(f,vt,It){return f[0]=vt[0]*It,f[1]=vt[1]*It,f[2]=vt[2]*It,f[3]=vt[3]*It,f[4]=vt[4]*It,f[5]=vt[5]*It,f[6]=vt[6]*It,f[7]=vt[7]*It,f[8]=vt[8]*It,f}function St(f,vt,It,Qt){return f[0]=vt[0]+It[0]*Qt,f[1]=vt[1]+It[1]*Qt,f[2]=vt[2]+It[2]*Qt,f[3]=vt[3]+It[3]*Qt,f[4]=vt[4]+It[4]*Qt,f[5]=vt[5]+It[5]*Qt,f[6]=vt[6]+It[6]*Qt,f[7]=vt[7]+It[7]*Qt,f[8]=vt[8]+It[8]*Qt,f}function wt(f,vt){return f[0]===vt[0]&&f[1]===vt[1]&&f[2]===vt[2]&&f[3]===vt[3]&&f[4]===vt[4]&&f[5]===vt[5]&&f[6]===vt[6]&&f[7]===vt[7]&&f[8]===vt[8]}function q(f,vt){var It=f[0],Qt=f[1],Se=f[2],$t=f[3],re=f[4],he=f[5],Me=f[6],le=f[7],Rt=f[8],Ot=vt[0],At=vt[1],Dt=vt[2],j=vt[3],$=vt[4],et=vt[5],Tt=vt[6],Nt=vt[7],Ut=vt[8];return Math.abs(It-Ot)<=T.EPSILON*Math.max(1,Math.abs(It),Math.abs(Ot))&&Math.abs(Qt-At)<=T.EPSILON*Math.max(1,Math.abs(Qt),Math.abs(At))&&Math.abs(Se-Dt)<=T.EPSILON*Math.max(1,Math.abs(Se),Math.abs(Dt))&&Math.abs($t-j)<=T.EPSILON*Math.max(1,Math.abs($t),Math.abs(j))&&Math.abs(re-$)<=T.EPSILON*Math.max(1,Math.abs(re),Math.abs($))&&Math.abs(he-et)<=T.EPSILON*Math.max(1,Math.abs(he),Math.abs(et))&&Math.abs(Me-Tt)<=T.EPSILON*Math.max(1,Math.abs(Me),Math.abs(Tt))&&Math.abs(le-Nt)<=T.EPSILON*Math.max(1,Math.abs(le),Math.abs(Nt))&&Math.abs(Rt-Ut)<=T.EPSILON*Math.max(1,Math.abs(Rt),Math.abs(Ut))}var it=C.mul=k,Q=C.sub=ft},76172:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.forEach=C.sqrLen=C.sqrDist=C.dist=C.div=C.mul=C.sub=C.len=void 0,C.create=I,C.clone=O,C.fromValues=A,C.copy=E,C.set=S,C.add=y,C.subtract=b,C.multiply=p,C.divide=m,C.ceil=x,C.floor=M,C.min=k,C.max=_,C.round=B,C.scale=z,C.scaleAndAdd=W,C.distance=R,C.squaredDistance=K,C.length=ut,C.squaredLength=ot,C.negate=dt,C.inverse=nt,C.normalize=yt,C.dot=tt,C.cross=J,C.lerp=ft,C.random=rt,C.transformMat2=St,C.transformMat2d=wt,C.transformMat3=q,C.transformMat4=it,C.rotate=Q,C.angle=f,C.str=vt,C.exactEquals=It,C.equals=Qt;var d=v(74988),T=P(d);function P(At){if(At&&At.__esModule)return At;var Dt={};if(At!=null)for(var j in At)Object.prototype.hasOwnProperty.call(At,j)&&(Dt[j]=At[j]);return Dt.default=At,Dt}function I(){var At=new T.ARRAY_TYPE(2);return T.ARRAY_TYPE!=Float32Array&&(At[0]=0,At[1]=0),At}function O(At){var Dt=new T.ARRAY_TYPE(2);return Dt[0]=At[0],Dt[1]=At[1],Dt}function A(At,Dt){var j=new T.ARRAY_TYPE(2);return j[0]=At,j[1]=Dt,j}function E(At,Dt){return At[0]=Dt[0],At[1]=Dt[1],At}function S(At,Dt,j){return At[0]=Dt,At[1]=j,At}function y(At,Dt,j){return At[0]=Dt[0]+j[0],At[1]=Dt[1]+j[1],At}function b(At,Dt,j){return At[0]=Dt[0]-j[0],At[1]=Dt[1]-j[1],At}function p(At,Dt,j){return At[0]=Dt[0]*j[0],At[1]=Dt[1]*j[1],At}function m(At,Dt,j){return At[0]=Dt[0]/j[0],At[1]=Dt[1]/j[1],At}function x(At,Dt){return At[0]=Math.ceil(Dt[0]),At[1]=Math.ceil(Dt[1]),At}function M(At,Dt){return At[0]=Math.floor(Dt[0]),At[1]=Math.floor(Dt[1]),At}function k(At,Dt,j){return At[0]=Math.min(Dt[0],j[0]),At[1]=Math.min(Dt[1],j[1]),At}function _(At,Dt,j){return At[0]=Math.max(Dt[0],j[0]),At[1]=Math.max(Dt[1],j[1]),At}function B(At,Dt){return At[0]=Math.round(Dt[0]),At[1]=Math.round(Dt[1]),At}function z(At,Dt,j){return At[0]=Dt[0]*j,At[1]=Dt[1]*j,At}function W(At,Dt,j,$){return At[0]=Dt[0]+j[0]*$,At[1]=Dt[1]+j[1]*$,At}function R(At,Dt){var j=Dt[0]-At[0],$=Dt[1]-At[1];return Math.sqrt(j*j+$*$)}function K(At,Dt){var j=Dt[0]-At[0],$=Dt[1]-At[1];return j*j+$*$}function ut(At){var Dt=At[0],j=At[1];return Math.sqrt(Dt*Dt+j*j)}function ot(At){var Dt=At[0],j=At[1];return Dt*Dt+j*j}function dt(At,Dt){return At[0]=-Dt[0],At[1]=-Dt[1],At}function nt(At,Dt){return At[0]=1/Dt[0],At[1]=1/Dt[1],At}function yt(At,Dt){var j=Dt[0],$=Dt[1],et=j*j+$*$;return et>0&&(et=1/Math.sqrt(et),At[0]=Dt[0]*et,At[1]=Dt[1]*et),At}function tt(At,Dt){return At[0]*Dt[0]+At[1]*Dt[1]}function J(At,Dt,j){var $=Dt[0]*j[1]-Dt[1]*j[0];return At[0]=At[1]=0,At[2]=$,At}function ft(At,Dt,j,$){var et=Dt[0],Tt=Dt[1];return At[0]=et+$*(j[0]-et),At[1]=Tt+$*(j[1]-Tt),At}function rt(At,Dt){Dt=Dt||1;var j=T.RANDOM()*2*Math.PI;return At[0]=Math.cos(j)*Dt,At[1]=Math.sin(j)*Dt,At}function St(At,Dt,j){var $=Dt[0],et=Dt[1];return At[0]=j[0]*$+j[2]*et,At[1]=j[1]*$+j[3]*et,At}function wt(At,Dt,j){var $=Dt[0],et=Dt[1];return At[0]=j[0]*$+j[2]*et+j[4],At[1]=j[1]*$+j[3]*et+j[5],At}function q(At,Dt,j){var $=Dt[0],et=Dt[1];return At[0]=j[0]*$+j[3]*et+j[6],At[1]=j[1]*$+j[4]*et+j[7],At}function it(At,Dt,j){var $=Dt[0],et=Dt[1];return At[0]=j[0]*$+j[4]*et+j[12],At[1]=j[1]*$+j[5]*et+j[13],At}function Q(At,Dt,j,$){var et=Dt[0]-j[0],Tt=Dt[1]-j[1],Nt=Math.sin($),Ut=Math.cos($);return At[0]=et*Ut-Tt*Nt+j[0],At[1]=et*Nt+Tt*Ut+j[1],At}function f(At,Dt){var j=At[0],$=At[1],et=Dt[0],Tt=Dt[1],Nt=j*j+$*$;Nt>0&&(Nt=1/Math.sqrt(Nt));var Ut=et*et+Tt*Tt;Ut>0&&(Ut=1/Math.sqrt(Ut));var Oe=(j*et+$*Tt)*Nt*Ut;return Oe>1?0:Oe<-1?Math.PI:Math.acos(Oe)}function vt(At){return"vec2("+At[0]+", "+At[1]+")"}function It(At,Dt){return At[0]===Dt[0]&&At[1]===Dt[1]}function Qt(At,Dt){var j=At[0],$=At[1],et=Dt[0],Tt=Dt[1];return Math.abs(j-et)<=T.EPSILON*Math.max(1,Math.abs(j),Math.abs(et))&&Math.abs($-Tt)<=T.EPSILON*Math.max(1,Math.abs($),Math.abs(Tt))}var Se=C.len=ut,$t=C.sub=b,re=C.mul=p,he=C.div=m,Me=C.dist=R,le=C.sqrDist=K,Rt=C.sqrLen=ot,Ot=C.forEach=function(){var At=I();return function(Dt,j,$,et,Tt,Nt){var Ut=void 0,Oe=void 0;for(j||(j=2),$||($=0),et?Oe=Math.min(et*j+$,Dt.length):Oe=Dt.length,Ut=$;Ut<Oe;Ut+=j)At[0]=Dt[Ut],At[1]=Dt[Ut+1],Tt(At,At,Nt),Dt[Ut]=At[0],Dt[Ut+1]=At[1];return Dt}}()},88395:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.forEach=C.sqrLen=C.len=C.sqrDist=C.dist=C.div=C.mul=C.sub=void 0,C.create=I,C.clone=O,C.length=A,C.fromValues=E,C.copy=S,C.set=y,C.add=b,C.subtract=p,C.multiply=m,C.divide=x,C.ceil=M,C.floor=k,C.min=_,C.max=B,C.round=z,C.scale=W,C.scaleAndAdd=R,C.distance=K,C.squaredDistance=ut,C.squaredLength=ot,C.negate=dt,C.inverse=nt,C.normalize=yt,C.dot=tt,C.cross=J,C.lerp=ft,C.hermite=rt,C.bezier=St,C.random=wt,C.transformMat4=q,C.transformMat3=it,C.transformQuat=Q,C.rotateX=f,C.rotateY=vt,C.rotateZ=It,C.angle=Qt,C.str=Se,C.exactEquals=$t,C.equals=re;var d=v(74988),T=P(d);function P($){if($&&$.__esModule)return $;var et={};if($!=null)for(var Tt in $)Object.prototype.hasOwnProperty.call($,Tt)&&(et[Tt]=$[Tt]);return et.default=$,et}function I(){var $=new T.ARRAY_TYPE(3);return T.ARRAY_TYPE!=Float32Array&&($[0]=0,$[1]=0,$[2]=0),$}function O($){var et=new T.ARRAY_TYPE(3);return et[0]=$[0],et[1]=$[1],et[2]=$[2],et}function A($){var et=$[0],Tt=$[1],Nt=$[2];return Math.sqrt(et*et+Tt*Tt+Nt*Nt)}function E($,et,Tt){var Nt=new T.ARRAY_TYPE(3);return Nt[0]=$,Nt[1]=et,Nt[2]=Tt,Nt}function S($,et){return $[0]=et[0],$[1]=et[1],$[2]=et[2],$}function y($,et,Tt,Nt){return $[0]=et,$[1]=Tt,$[2]=Nt,$}function b($,et,Tt){return $[0]=et[0]+Tt[0],$[1]=et[1]+Tt[1],$[2]=et[2]+Tt[2],$}function p($,et,Tt){return $[0]=et[0]-Tt[0],$[1]=et[1]-Tt[1],$[2]=et[2]-Tt[2],$}function m($,et,Tt){return $[0]=et[0]*Tt[0],$[1]=et[1]*Tt[1],$[2]=et[2]*Tt[2],$}function x($,et,Tt){return $[0]=et[0]/Tt[0],$[1]=et[1]/Tt[1],$[2]=et[2]/Tt[2],$}function M($,et){return $[0]=Math.ceil(et[0]),$[1]=Math.ceil(et[1]),$[2]=Math.ceil(et[2]),$}function k($,et){return $[0]=Math.floor(et[0]),$[1]=Math.floor(et[1]),$[2]=Math.floor(et[2]),$}function _($,et,Tt){return $[0]=Math.min(et[0],Tt[0]),$[1]=Math.min(et[1],Tt[1]),$[2]=Math.min(et[2],Tt[2]),$}function B($,et,Tt){return $[0]=Math.max(et[0],Tt[0]),$[1]=Math.max(et[1],Tt[1]),$[2]=Math.max(et[2],Tt[2]),$}function z($,et){return $[0]=Math.round(et[0]),$[1]=Math.round(et[1]),$[2]=Math.round(et[2]),$}function W($,et,Tt){return $[0]=et[0]*Tt,$[1]=et[1]*Tt,$[2]=et[2]*Tt,$}function R($,et,Tt,Nt){return $[0]=et[0]+Tt[0]*Nt,$[1]=et[1]+Tt[1]*Nt,$[2]=et[2]+Tt[2]*Nt,$}function K($,et){var Tt=et[0]-$[0],Nt=et[1]-$[1],Ut=et[2]-$[2];return Math.sqrt(Tt*Tt+Nt*Nt+Ut*Ut)}function ut($,et){var Tt=et[0]-$[0],Nt=et[1]-$[1],Ut=et[2]-$[2];return Tt*Tt+Nt*Nt+Ut*Ut}function ot($){var et=$[0],Tt=$[1],Nt=$[2];return et*et+Tt*Tt+Nt*Nt}function dt($,et){return $[0]=-et[0],$[1]=-et[1],$[2]=-et[2],$}function nt($,et){return $[0]=1/et[0],$[1]=1/et[1],$[2]=1/et[2],$}function yt($,et){var Tt=et[0],Nt=et[1],Ut=et[2],Oe=Tt*Tt+Nt*Nt+Ut*Ut;return Oe>0&&(Oe=1/Math.sqrt(Oe),$[0]=et[0]*Oe,$[1]=et[1]*Oe,$[2]=et[2]*Oe),$}function tt($,et){return $[0]*et[0]+$[1]*et[1]+$[2]*et[2]}function J($,et,Tt){var Nt=et[0],Ut=et[1],Oe=et[2],He=Tt[0],Zt=Tt[1],be=Tt[2];return $[0]=Ut*be-Oe*Zt,$[1]=Oe*He-Nt*be,$[2]=Nt*Zt-Ut*He,$}function ft($,et,Tt,Nt){var Ut=et[0],Oe=et[1],He=et[2];return $[0]=Ut+Nt*(Tt[0]-Ut),$[1]=Oe+Nt*(Tt[1]-Oe),$[2]=He+Nt*(Tt[2]-He),$}function rt($,et,Tt,Nt,Ut,Oe){var He=Oe*Oe,Zt=He*(2*Oe-3)+1,be=He*(Oe-2)+Oe,_e=He*(Oe-1),Qe=He*(3-2*Oe);return $[0]=et[0]*Zt+Tt[0]*be+Nt[0]*_e+Ut[0]*Qe,$[1]=et[1]*Zt+Tt[1]*be+Nt[1]*_e+Ut[1]*Qe,$[2]=et[2]*Zt+Tt[2]*be+Nt[2]*_e+Ut[2]*Qe,$}function St($,et,Tt,Nt,Ut,Oe){var He=1-Oe,Zt=He*He,be=Oe*Oe,_e=Zt*He,Qe=3*Oe*Zt,dr=3*be*He,ur=be*Oe;return $[0]=et[0]*_e+Tt[0]*Qe+Nt[0]*dr+Ut[0]*ur,$[1]=et[1]*_e+Tt[1]*Qe+Nt[1]*dr+Ut[1]*ur,$[2]=et[2]*_e+Tt[2]*Qe+Nt[2]*dr+Ut[2]*ur,$}function wt($,et){et=et||1;var Tt=T.RANDOM()*2*Math.PI,Nt=T.RANDOM()*2-1,Ut=Math.sqrt(1-Nt*Nt)*et;return $[0]=Math.cos(Tt)*Ut,$[1]=Math.sin(Tt)*Ut,$[2]=Nt*et,$}function q($,et,Tt){var Nt=et[0],Ut=et[1],Oe=et[2],He=Tt[3]*Nt+Tt[7]*Ut+Tt[11]*Oe+Tt[15];return He=He||1,$[0]=(Tt[0]*Nt+Tt[4]*Ut+Tt[8]*Oe+Tt[12])/He,$[1]=(Tt[1]*Nt+Tt[5]*Ut+Tt[9]*Oe+Tt[13])/He,$[2]=(Tt[2]*Nt+Tt[6]*Ut+Tt[10]*Oe+Tt[14])/He,$}function it($,et,Tt){var Nt=et[0],Ut=et[1],Oe=et[2];return $[0]=Nt*Tt[0]+Ut*Tt[3]+Oe*Tt[6],$[1]=Nt*Tt[1]+Ut*Tt[4]+Oe*Tt[7],$[2]=Nt*Tt[2]+Ut*Tt[5]+Oe*Tt[8],$}function Q($,et,Tt){var Nt=Tt[0],Ut=Tt[1],Oe=Tt[2],He=Tt[3],Zt=et[0],be=et[1],_e=et[2],Qe=Ut*_e-Oe*be,dr=Oe*Zt-Nt*_e,ur=Nt*be-Ut*Zt,Dr=Ut*ur-Oe*dr,ne=Oe*Qe-Nt*ur,se=Nt*dr-Ut*Qe,ye=He*2;return Qe*=ye,dr*=ye,ur*=ye,Dr*=2,ne*=2,se*=2,$[0]=Zt+Qe+Dr,$[1]=be+dr+ne,$[2]=_e+ur+se,$}function f($,et,Tt,Nt){var Ut=[],Oe=[];return Ut[0]=et[0]-Tt[0],Ut[1]=et[1]-Tt[1],Ut[2]=et[2]-Tt[2],Oe[0]=Ut[0],Oe[1]=Ut[1]*Math.cos(Nt)-Ut[2]*Math.sin(Nt),Oe[2]=Ut[1]*Math.sin(Nt)+Ut[2]*Math.cos(Nt),$[0]=Oe[0]+Tt[0],$[1]=Oe[1]+Tt[1],$[2]=Oe[2]+Tt[2],$}function vt($,et,Tt,Nt){var Ut=[],Oe=[];return Ut[0]=et[0]-Tt[0],Ut[1]=et[1]-Tt[1],Ut[2]=et[2]-Tt[2],Oe[0]=Ut[2]*Math.sin(Nt)+Ut[0]*Math.cos(Nt),Oe[1]=Ut[1],Oe[2]=Ut[2]*Math.cos(Nt)-Ut[0]*Math.sin(Nt),$[0]=Oe[0]+Tt[0],$[1]=Oe[1]+Tt[1],$[2]=Oe[2]+Tt[2],$}function It($,et,Tt,Nt){var Ut=[],Oe=[];return Ut[0]=et[0]-Tt[0],Ut[1]=et[1]-Tt[1],Ut[2]=et[2]-Tt[2],Oe[0]=Ut[0]*Math.cos(Nt)-Ut[1]*Math.sin(Nt),Oe[1]=Ut[0]*Math.sin(Nt)+Ut[1]*Math.cos(Nt),Oe[2]=Ut[2],$[0]=Oe[0]+Tt[0],$[1]=Oe[1]+Tt[1],$[2]=Oe[2]+Tt[2],$}function Qt($,et){var Tt=E($[0],$[1],$[2]),Nt=E(et[0],et[1],et[2]);yt(Tt,Tt),yt(Nt,Nt);var Ut=tt(Tt,Nt);return Ut>1?0:Ut<-1?Math.PI:Math.acos(Ut)}function Se($){return"vec3("+$[0]+", "+$[1]+", "+$[2]+")"}function $t($,et){return $[0]===et[0]&&$[1]===et[1]&&$[2]===et[2]}function re($,et){var Tt=$[0],Nt=$[1],Ut=$[2],Oe=et[0],He=et[1],Zt=et[2];return Math.abs(Tt-Oe)<=T.EPSILON*Math.max(1,Math.abs(Tt),Math.abs(Oe))&&Math.abs(Nt-He)<=T.EPSILON*Math.max(1,Math.abs(Nt),Math.abs(He))&&Math.abs(Ut-Zt)<=T.EPSILON*Math.max(1,Math.abs(Ut),Math.abs(Zt))}var he=C.sub=p,Me=C.mul=m,le=C.div=x,Rt=C.dist=K,Ot=C.sqrDist=ut,At=C.len=A,Dt=C.sqrLen=ot,j=C.forEach=function(){var $=I();return function(et,Tt,Nt,Ut,Oe,He){var Zt=void 0,be=void 0;for(Tt||(Tt=3),Nt||(Nt=0),Ut?be=Math.min(Ut*Tt+Nt,et.length):be=et.length,Zt=Nt;Zt<be;Zt+=Tt)$[0]=et[Zt],$[1]=et[Zt+1],$[2]=et[Zt+2],Oe($,$,He),et[Zt]=$[0],et[Zt+1]=$[1],et[Zt+2]=$[2];return et}}()},92640:function(ct,C,v){function d(y,b){y.prototype=Object.create(b.prototype),y.prototype.constructor=y,y.__proto__=b}var T=v(4905),P=v(90390),I=v(30130),O=v(22965),A=function(y){d(b,y);function b(){return y.apply(this,arguments)||this}var p=b.prototype;return p.execute=function(){var x=this;return I(x.rootNode,x.options,P)},b}(T),E={};function S(y,b){return b=O.assign({},E,b),new A(y,b).execute()}ct.exports=S},34542:function(ct,C,v){function d(y,b){y.prototype=Object.create(b.prototype),y.prototype.constructor=y,y.__proto__=b}var T=v(4905),P=v(37133),I=v(30130),O=v(22965),A=function(y){d(b,y);function b(){return y.apply(this,arguments)||this}var p=b.prototype;return p.execute=function(){var x=this;return x.rootNode.width=0,I(x.rootNode,x.options,P)},b}(T),E={};function S(y,b){return b=O.assign({},E,b),new A(y,b).execute()}ct.exports=S},57088:function(ct,C,v){function d(p,m){p.prototype=Object.create(m.prototype),p.prototype.constructor=p,p.__proto__=m}var T=v(4905),P=v(10568),I=v(59286),O=v(22965),A=["LR","RL","H"],E=A[0],S=function(p){d(m,p);function m(){return p.apply(this,arguments)||this}var x=m.prototype;return x.execute=function(){var k=this,_=k.options,B=k.rootNode;_.isHorizontal=!0;var z=_.indent,W=z===void 0?20:z,R=_.dropCap,K=R===void 0?!0:R,ut=_.direction||E;if(ut&&A.indexOf(ut)===-1)throw new TypeError("Invalid direction: "+ut);if(ut===A[0])P(B,W,K);else if(ut===A[1])P(B,W,K),B.right2left();else if(ut===A[2]){var ot=I(B,_),dt=ot.left,nt=ot.right;P(dt,W,K),dt.right2left(),P(nt,W,K);var yt=dt.getBoundingBox();nt.translate(yt.width,0),B.x=nt.x-B.width/2}return B},m}(T),y={};function b(p,m){return m=O.assign({},y,m),new S(p,m).execute()}ct.exports=b},77201:function(ct,C,v){var d={compactBox:v(92640),dendrogram:v(34542),indented:v(57088),mindmap:v(1355)};ct.exports=d},4905:function(ct,C,v){var d=v(27249),T=function(){function P(O,A){A===void 0&&(A={});var E=this;E.options=A,E.rootNode=d(O,A)}var I=P.prototype;return I.execute=function(){throw new Error("please override this method")},P}();ct.exports=T},37133:function(ct,C,v){var d=v(22965);function T(O,A){O===void 0&&(O=0),A===void 0&&(A=[]);var E=this;E.x=E.y=0,E.leftChild=E.rightChild=null,E.height=0,E.children=A}var P={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function I(O,A,E){E?(A.x=O.x,A.y=O.y):(A.x=O.y,A.y=O.x),O.children.forEach(function(S,y){I(S,A.children[y],E)})}ct.exports=function(O,A){A===void 0&&(A={}),A=d.assign({},P,A);var E=0;function S(x){if(!x)return null;x.width=0,x.depth&&x.depth>E&&(E=x.depth);var M=x.children,k=M.length,_=new T(x.height,[]);return M.forEach(function(B,z){var W=S(B);_.children.push(W),z===0&&(_.leftChild=W),z===k-1&&(_.rightChild=W)}),_.originNode=x,_.isLeaf=x.isLeaf(),_}function y(x){if(x.isLeaf||x.children.length===0)x.drawingDepth=E;else{var M=x.children.map(function(_){return y(_)}),k=Math.min.apply(null,M);x.drawingDepth=k-1}return x.drawingDepth}var b;function p(x){x.x=x.drawingDepth*A.rankSep,x.isLeaf?(x.y=0,b&&(x.y=b.y+b.height+A.nodeSep,x.originNode.parent!==b.originNode.parent&&(x.y+=A.subTreeSep)),b=x):(x.children.forEach(function(M){p(M)}),x.y=(x.leftChild.y+x.rightChild.y)/2)}var m=S(O);return y(m),p(m),I(m,O,A.isHorizontal),O}},30130:function(ct,C,v){var d=v(59286),T=["LR","RL","TB","BT","H","V"],P=["LR","RL","H"],I=function(E){return P.indexOf(E)>-1},O=T[0];ct.exports=function(A,E,S){var y=E.direction||O;if(E.isHorizontal=I(y),y&&T.indexOf(y)===-1)throw new TypeError("Invalid direction: "+y);if(y===T[0])S(A,E);else if(y===T[1])S(A,E),A.right2left();else if(y===T[2])S(A,E);else if(y===T[3])S(A,E),A.bottom2top();else if(y===T[4]||y===T[5]){var b=d(A,E),p=b.left,m=b.right;S(p,E),S(m,E),E.isHorizontal?p.right2left():p.bottom2top(),m.translate(p.x-m.x,p.y-m.y),A.x=p.x,A.y=m.y;var x=A.getBoundingBox();E.isHorizontal?x.top<0&&A.translate(0,-x.top):x.left<0&&A.translate(-x.left,0)}var M=E.fixedRoot;return M===void 0&&(M=!0),M&&A.translate(-(A.x+A.width/2+A.hgap),-(A.y+A.height/2+A.vgap)),A}},27249:function(ct,C,v){var d=v(22965),T=18,P=T*2,I=T,O={getId:function(y){return y.id||y.name},getPreH:function(y){return y.preH||0},getPreV:function(y){return y.preV||0},getHGap:function(y){return y.hgap||I},getVGap:function(y){return y.vgap||I},getChildren:function(y){return y.children},getHeight:function(y){return y.height||P},getWidth:function(y){var b=y.label||" ";return y.width||b.split("").length*T}};function A(S,y){var b=this;if(b.vgap=b.hgap=0,S instanceof A)return S;b.data=S;var p=y.getHGap(S),m=y.getVGap(S);return b.preH=y.getPreH(S),b.preV=y.getPreV(S),b.width=y.getWidth(S),b.height=y.getHeight(S),b.width+=b.preH,b.height+=b.preV,b.id=y.getId(S),b.x=b.y=0,b.depth=0,b.children||(b.children=[]),b.addGap(p,m),b}d.assign(A.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(y,b){var p=this;p.hgap+=y,p.vgap+=b,p.width+=2*y,p.height+=2*b},eachNode:function(y){for(var b=this,p=[b],m;m=p.shift();)y(m),p=m.children.concat(p)},DFTraverse:function(y){this.eachNode(y)},BFTraverse:function(y){for(var b=this,p=[b],m;m=p.shift();)y(m),p=p.concat(m.children)},getBoundingBox:function(){var y={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(b){y.left=Math.min(y.left,b.x),y.top=Math.min(y.top,b.y),y.width=Math.max(y.width,b.x+b.width),y.height=Math.max(y.height,b.y+b.height)}),y},translate:function(y,b){y===void 0&&(y=0),b===void 0&&(b=0),this.eachNode(function(p){p.x+=y,p.y+=b,p.x+=p.preH,p.y+=p.preV})},right2left:function(){var y=this,b=y.getBoundingBox();y.eachNode(function(p){p.x=p.x-(p.x-b.left)*2-p.width}),y.translate(b.width,0)},bottom2top:function(){var y=this,b=y.getBoundingBox();y.eachNode(function(p){p.y=p.y-(p.y-b.top)*2-p.height}),y.translate(0,b.height)}});function E(S,y,b){y===void 0&&(y={}),y=d.assign({},O,y);var p=new A(S,y),m=[p],x;if(!b&&!S.collapsed){for(;x=m.shift();)if(!x.data.collapsed){var M=y.getChildren(x.data),k=M?M.length:0;if(x.children=new Array(k),M&&k)for(var _=0;_<k;_++){var B=new A(M[_],y);x.children[_]=B,m.push(B),B.parent=x,B.depth=x.depth+1}}}return p}ct.exports=E},10568:function(ct){function C(v,d,T,P){var I=typeof T=="function"?T(v):T*v.depth;if(!P)try{if(v.id===v.parent.children[0].id){v.x+=I,v.y=d?d.y:0;return}}catch(O){}v.x+=I,v.y=d?d.y+d.height:0}ct.exports=function(v,d,T){var P=null;v.eachNode(function(I){C(I,P,d,T),P=I})}},24461:function(ct,C,v){var d=v(22965);function T(O,A){var E=0;return O.children.length?O.children.forEach(function(S){E+=T(S,A)}):E=O.height,O._subTreeSep=A.getSubTreeSep(O.data),O.totalHeight=Math.max(O.height,E)+2*O._subTreeSep,O.totalHeight}function P(O){var A=O.children,E=A.length;if(E){A.forEach(function(x){P(x)});var S=A[0],y=A[E-1],b=y.y-S.y+y.height,p=0;if(A.forEach(function(x){p+=x.totalHeight}),b>O.height)O.y=S.y+b/2-O.height/2;else if(A.length!==1||O.height>p){var m=O.y+(O.height-b)/2-S.y;A.forEach(function(x){x.translate(0,m)})}else O.y=(S.y+S.height/2+y.y+y.height/2)/2-O.height/2}}var I={getSubTreeSep:function(){return 0}};ct.exports=function(O,A){A===void 0&&(A={}),A=d.assign({},I,A),O.parent={x:0,width:0,height:0,y:0},O.BFTraverse(function(E){E.x=E.parent.x+E.parent.width}),O.parent=null,T(O,A),O.startY=0,O.y=O.totalHeight/2-O.height/2,O.eachNode(function(E){var S=E.children,y=S.length;if(y){var b=S[0];if(b.startY=E.startY+E._subTreeSep,y===1)b.y=E.y+E.height/2-b.height/2;else{b.y=b.startY+b.totalHeight/2-b.height/2;for(var p=1;p<y;p++){var m=S[p];m.startY=S[p-1].startY+S[p-1].totalHeight,m.y=m.startY+m.totalHeight/2-m.height/2}}}}),P(O)}},90390:function(ct){function C(O,A,E,S){S===void 0&&(S=[]);var y=this;y.w=O||0,y.h=A||0,y.y=E||0,y.x=0,y.c=S||[],y.cs=S.length,y.prelim=0,y.mod=0,y.shift=0,y.change=0,y.tl=null,y.tr=null,y.el=null,y.er=null,y.msel=0,y.mser=0}C.fromNode=function(O,A){if(!O)return null;var E=[];return O.children.forEach(function(S){E.push(C.fromNode(S,A))}),A?new C(O.height,O.width,O.x,E):new C(O.width,O.height,O.y,E)};function v(O,A,E){E?O.y+=A:O.x+=A,O.children.forEach(function(S){v(S,A,E)})}function d(O,A){var E=A?O.y:O.x;return O.children.forEach(function(S){E=Math.min(d(S,A),E)}),E}function T(O,A){var E=d(O,A);v(O,-E,A)}function P(O,A,E){E?A.y=O.x:A.x=O.x,O.c.forEach(function(S,y){P(S,A.children[y],E)})}function I(O,A,E){E===void 0&&(E=0),A?(O.x=E,E+=O.width):(O.y=E,E+=O.height),O.children.forEach(function(S){I(S,A,E)})}ct.exports=function(O,A){A===void 0&&(A={});var E=A.isHorizontal;function S(ot){if(ot.cs===0){y(ot);return}S(ot.c[0]);for(var dt=K(M(ot.c[0].el),0,null),nt=1;nt<ot.cs;++nt){S(ot.c[nt]);var yt=M(ot.c[nt].er);b(ot,nt,dt),dt=K(yt,nt,dt)}B(ot),y(ot)}function y(ot){ot.cs===0?(ot.el=ot,ot.er=ot,ot.msel=ot.mser=0):(ot.el=ot.c[0].el,ot.msel=ot.c[0].msel,ot.er=ot.c[ot.cs-1].er,ot.mser=ot.c[ot.cs-1].mser)}function b(ot,dt,nt){for(var yt=ot.c[dt-1],tt=yt.mod,J=ot.c[dt],ft=J.mod;yt!==null&&J!==null;){M(yt)>nt.low&&(nt=nt.nxt);var rt=tt+yt.prelim+yt.w-(ft+J.prelim);rt>0&&(ft+=rt,p(ot,dt,nt.index,rt));var St=M(yt),wt=M(J);St<=wt&&(yt=x(yt),yt!==null&&(tt+=yt.mod)),St>=wt&&(J=m(J),J!==null&&(ft+=J.mod))}!yt&&!!J?k(ot,dt,J,ft):!!yt&&!J&&_(ot,dt,yt,tt)}function p(ot,dt,nt,yt){ot.c[dt].mod+=yt,ot.c[dt].msel+=yt,ot.c[dt].mser+=yt,W(ot,dt,nt,yt)}function m(ot){return ot.cs===0?ot.tl:ot.c[0]}function x(ot){return ot.cs===0?ot.tr:ot.c[ot.cs-1]}function M(ot){return ot.y+ot.h}function k(ot,dt,nt,yt){var tt=ot.c[0].el;tt.tl=nt;var J=yt-nt.mod-ot.c[0].msel;tt.mod+=J,tt.prelim-=J,ot.c[0].el=ot.c[dt].el,ot.c[0].msel=ot.c[dt].msel}function _(ot,dt,nt,yt){var tt=ot.c[dt].er;tt.tr=nt;var J=yt-nt.mod-ot.c[dt].mser;tt.mod+=J,tt.prelim-=J,ot.c[dt].er=ot.c[dt-1].er,ot.c[dt].mser=ot.c[dt-1].mser}function B(ot){ot.prelim=(ot.c[0].prelim+ot.c[0].mod+ot.c[ot.cs-1].mod+ot.c[ot.cs-1].prelim+ot.c[ot.cs-1].w)/2-ot.w/2}function z(ot,dt){dt+=ot.mod,ot.x=ot.prelim+dt,R(ot);for(var nt=0;nt<ot.cs;nt++)z(ot.c[nt],dt)}function W(ot,dt,nt,yt){if(nt!==dt-1){var tt=dt-nt;ot.c[nt+1].shift+=yt/tt,ot.c[dt].shift-=yt/tt,ot.c[dt].change-=yt-yt/tt}}function R(ot){for(var dt=0,nt=0,yt=0;yt<ot.cs;yt++)dt+=ot.c[yt].shift,nt+=dt+ot.c[yt].change,ot.c[yt].mod+=nt}function K(ot,dt,nt){for(;nt!==null&&ot>=nt.low;)nt=nt.nxt;return{low:ot,index:dt,nxt:nt}}I(O,E);var ut=C.fromNode(O,E);return S(ut),z(ut,0),P(ut,O,E),T(O,E),O}},59286:function(ct,C,v){var d=v(27249);ct.exports=function(T,P){for(var I=d(T.data,P,!0),O=d(T.data,P,!0),A=T.children.length,E=Math.round(A/2),S=P.getSide||function(m,x){return x<E?"right":"left"},y=0;y<A;y++){var b=T.children[y],p=S(b,y);p==="right"?O.children.push(b):I.children.push(b)}return I.eachNode(function(m){m.isRoot()||(m.side="left")}),O.eachNode(function(m){m.isRoot()||(m.side="right")}),{left:I,right:O}}},1355:function(ct,C,v){function d(y,b){y.prototype=Object.create(b.prototype),y.prototype.constructor=y,y.__proto__=b}var T=v(4905),P=v(24461),I=v(30130),O=v(22965),A=function(y){d(b,y);function b(){return y.apply(this,arguments)||this}var p=b.prototype;return p.execute=function(){var x=this;return I(x.rootNode,x.options,P)},b}(T),E={};function S(y,b){return b=O.assign({},E,b),new A(y,b).execute()}ct.exports=S},22965:function(ct,C,v){var d=v(49242),T=d.mix;ct.exports={assign:T}},31506:function(ct,C,v){"use strict";v.r(C),v.d(C,{leftTranslate:function(){return P},leftRotate:function(){return I},leftScale:function(){return O},transform:function(){return E},direction:function(){return S},angleTo:function(){return y},vertical:function(){return b}});var d=v(35600),T=v(31437);function P(p,m,x){var M=[0,0,0,0,0,0,0,0,0];return d.fromTranslation(M,x),d.multiply(p,M,m)}function I(p,m,x){var M=[0,0,0,0,0,0,0,0,0];return d.fromRotation(M,x),d.multiply(p,M,m)}function O(p,m,x){var M=[0,0,0,0,0,0,0,0,0];return d.fromScaling(M,x),d.multiply(p,M,m)}function A(p,m,x){return d.multiply(p,x,m)}function E(p,m){for(var x=p?[].concat(p):[1,0,0,0,1,0,0,0,1],M=0,k=m.length;M<k;M++){var _=m[M];switch(_[0]){case"t":P(x,x,[_[1],_[2]]);break;case"s":O(x,x,[_[1],_[2]]);break;case"r":I(x,x,_[1]);break;case"m":A(x,x,_[1]);break;default:break}}return x}function S(p,m){return p[0]*m[1]-m[0]*p[1]}function y(p,m,x){var M=T.angle(p,m),k=S(p,m)>=0;return x?k?Math.PI*2-M:M:k?M:Math.PI*2-M}function b(p,m,x){return x?(p[0]=m[1],p[1]=-1*m[0]):(p[0]=-1*m[1],p[1]=m[0]),p}},43567:function(ct,C,v){"use strict";v.r(C),v.d(C,{mat3:function(){return d},vec2:function(){return T},vec3:function(){return P},ext:function(){return I}});var d=v(35600),T=v(31437),P=v(77160),I=v(31506)},57350:function(ct,C,v){"use strict";v.r(C),v.d(C,{catmullRom2Bezier:function(){return y},fillPath:function(){return x},fillPathByDiff:function(){return _},formatPath:function(){return W},getArcParams:function(){return Zt},getLineIntersect:function(){return dr},isPointInPolygon:function(){return se},isPolygonsIntersect:function(){return Yt},parsePath:function(){return O},parsePathArray:function(){return Tt},parsePathString:function(){return dt},path2Absolute:function(){return tt},path2Curve:function(){return It},path2Segments:function(){return _e},pathIntersection:function(){return $},reactPath:function(){return R}});var d=v(49242),T=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,P=/[^\s\,]+/ig;function I(st){var gt=st||[];if((0,d.isArray)(gt))return gt;if((0,d.isString)(gt))return gt=gt.match(T),(0,d.each)(gt,function(kt,Ft){if(kt=kt.match(P),kt[0].length>1){var jt=kt[0].charAt(0);kt.splice(1,0,kt[0].substr(1)),kt[0]=jt}(0,d.each)(kt,function(fe,Ce){isNaN(fe)||(kt[Ce]=+fe)}),gt[Ft]=kt}),gt}var O=I,A=v(31437);function E(st,gt,kt,Ft){var jt=[],fe=!!Ft,Ce,xe,ve,Ue,Ne,tr,Er;if(fe){ve=Ft[0],Ue=Ft[1];for(var hr=0,Tr=st.length;hr<Tr;hr+=1){var _r=st[hr];ve=A.min([0,0],ve,_r),Ue=A.max([0,0],Ue,_r)}}for(var hr=0,Nr=st.length;hr<Nr;hr+=1){var _r=st[hr];if(hr===0&&!kt)Er=_r;else if(hr===Nr-1&&!kt)tr=_r,jt.push(Er),jt.push(tr);else{var ir=[hr?hr-1:Nr-1,hr-1][kt?0:1];Ce=st[ir],xe=st[kt?(hr+1)%Nr:hr+1];var wr=[0,0];wr=A.sub(wr,xe,Ce),wr=A.scale(wr,wr,gt);var Zr=A.distance(_r,Ce),Wr=A.distance(_r,xe),Qr=Zr+Wr;Qr!==0&&(Zr/=Qr,Wr/=Qr);var ie=A.scale([0,0],wr,-Zr),ue=A.scale([0,0],wr,Wr);tr=A.add([0,0],_r,ie),Ne=A.add([0,0],_r,ue),Ne=A.min([0,0],Ne,A.max([0,0],xe,_r)),Ne=A.max([0,0],Ne,A.min([0,0],xe,_r)),ie=A.sub([0,0],Ne,_r),ie=A.scale([0,0],ie,-Zr/Wr),tr=A.add([0,0],_r,ie),tr=A.min([0,0],tr,A.max([0,0],Ce,_r)),tr=A.max([0,0],tr,A.min([0,0],Ce,_r)),ue=A.sub([0,0],_r,tr),ue=A.scale([0,0],ue,Wr/Zr),Ne=A.add([0,0],_r,ue),fe&&(tr=A.max([0,0],tr,ve),tr=A.min([0,0],tr,Ue),Ne=A.max([0,0],Ne,ve),Ne=A.min([0,0],Ne,Ue)),jt.push(Er),jt.push(tr),Er=Ne}}return kt&&jt.push(jt.shift()),jt}function S(st,gt,kt){gt===void 0&&(gt=!1),kt===void 0&&(kt=[[0,0],[1,1]]);for(var Ft=!!gt,jt=[],fe=0,Ce=st.length;fe<Ce;fe+=2)jt.push([st[fe],st[fe+1]]);for(var xe=E(jt,.4,Ft,kt),ve=jt.length,Ue=[],Ne,tr,Er,fe=0;fe<ve-1;fe+=1)Ne=xe[fe*2],tr=xe[fe*2+1],Er=jt[fe+1],Ue.push(["C",Ne[0],Ne[1],tr[0],tr[1],Er[0],Er[1]]);return Ft&&(Ne=xe[ve],tr=xe[ve+1],Er=jt[0],Ue.push(["C",Ne[0],Ne[1],tr[0],tr[1],Er[0],Er[1]])),Ue}var y=S;function b(st,gt){var kt=[],Ft=[];function jt(fe,Ce){if(fe.length===1)kt.push(fe[0]),Ft.push(fe[0]);else{for(var xe=[],ve=0;ve<fe.length-1;ve++)ve===0&&kt.push(fe[0]),ve===fe.length-2&&Ft.push(fe[ve+1]),xe[ve]=[(1-Ce)*fe[ve][0]+Ce*fe[ve+1][0],(1-Ce)*fe[ve][1]+Ce*fe[ve+1][1]];jt(xe,Ce)}}return st.length&&jt(st,gt),{left:kt,right:Ft.reverse()}}function p(st,gt,kt){var Ft=[[st[1],st[2]]];kt=kt||2;var jt=[];gt[0]==="A"?(Ft.push(gt[6]),Ft.push(gt[7])):gt[0]==="C"?(Ft.push([gt[1],gt[2]]),Ft.push([gt[3],gt[4]]),Ft.push([gt[5],gt[6]])):gt[0]==="S"||gt[0]==="Q"?(Ft.push([gt[1],gt[2]]),Ft.push([gt[3],gt[4]])):Ft.push([gt[1],gt[2]]);for(var fe=Ft,Ce=1/kt,xe=0;xe<kt-1;xe++){var ve=Ce/(1-Ce*xe),Ue=b(fe,ve);jt.push(Ue.left),fe=Ue.right}jt.push(fe);var Ne=jt.map(function(tr){var Er=[];return tr.length===4&&(Er.push("C"),Er=Er.concat(tr[2])),tr.length>=3&&(tr.length===3&&Er.push("Q"),Er=Er.concat(tr[1])),tr.length===2&&Er.push("L"),Er=Er.concat(tr[tr.length-1]),Er});return Ne}function m(st,gt,kt){if(kt===1)return[[].concat(st)];var Ft=[];if(gt[0]==="L"||gt[0]==="C"||gt[0]==="Q")Ft=Ft.concat(p(st,gt,kt));else{var jt=[].concat(st);jt[0]==="M"&&(jt[0]="L");for(var fe=0;fe<=kt-1;fe++)Ft.push(jt)}return Ft}function x(st,gt){if(st.length===1)return st;var kt=st.length-1,Ft=gt.length-1,jt=kt/Ft,fe=[];if(st.length===1&&st[0][0]==="M"){for(var Ce=0;Ce<Ft-kt;Ce++)st.push(st[0]);return st}for(var Ce=0;Ce<Ft;Ce++){var xe=Math.floor(jt*Ce);fe[xe]=(fe[xe]||0)+1}var ve=fe.reduce(function(Ue,Ne,tr){return tr===kt?Ue.concat(st[kt]):Ue.concat(m(st[tr],st[tr+1],Ne))},[]);return ve.unshift(st[0]),(gt[Ft]==="Z"||gt[Ft]==="z")&&ve.push("Z"),ve}function M(st,gt,kt){var Ft=null,jt=kt;return gt<jt&&(jt=gt,Ft="add"),st<jt&&(jt=st,Ft="del"),{type:Ft,min:jt}}var k=function(st,gt){var kt=st.length,Ft=gt.length,jt,fe,Ce=0;if(kt===0||Ft===0)return null;for(var xe=[],ve=0;ve<=kt;ve++)xe[ve]=[],xe[ve][0]={min:ve};for(var Ue=0;Ue<=Ft;Ue++)xe[0][Ue]={min:Ue};for(var ve=1;ve<=kt;ve++){jt=st[ve-1];for(var Ue=1;Ue<=Ft;Ue++){fe=gt[Ue-1],(0,d.isEqual)(jt,fe)?Ce=0:Ce=1;var Ne=xe[ve-1][Ue].min+1,tr=xe[ve][Ue-1].min+1,Er=xe[ve-1][Ue-1].min+Ce;xe[ve][Ue]=M(Ne,tr,Er)}}return xe};function _(st,gt){var kt=k(st,gt),Ft=st.length,jt=gt.length,fe=[],Ce=1,xe=1;if(kt[Ft][jt]!==Ft){for(var ve=1;ve<=Ft;ve++){var Ue=kt[ve][ve].min;xe=ve;for(var Ne=Ce;Ne<=jt;Ne++)kt[ve][Ne].min<Ue&&(Ue=kt[ve][Ne].min,xe=Ne);Ce=xe,kt[ve][Ce].type&&fe.push({index:ve-1,type:kt[ve][Ce].type})}for(var ve=fe.length-1;ve>=0;ve--)Ce=fe[ve].index,fe[ve].type==="add"?st.splice(Ce,0,[].concat(st[Ce])):st.splice(Ce,1)}if(Ft=st.length,Ft<jt)for(var ve=0;ve<jt-Ft;ve++)st[Ft-1][0]==="z"||st[Ft-1][0]==="Z"?st.splice(Ft-2,0,st[Ft-2]):st.push(st[Ft-1]);return st}function B(st){var gt=[];switch(st[0]){case"M":gt.push([st[1],st[2]]);break;case"L":gt.push([st[1],st[2]]);break;case"A":gt.push([st[6],st[7]]);break;case"Q":gt.push([st[3],st[4]]),gt.push([st[1],st[2]]);break;case"T":gt.push([st[1],st[2]]);break;case"C":gt.push([st[5],st[6]]),gt.push([st[1],st[2]]),gt.push([st[3],st[4]]);break;case"S":gt.push([st[3],st[4]]),gt.push([st[1],st[2]]);break;case"H":gt.push([st[1],st[1]]);break;case"V":gt.push([st[1],st[1]]);break;default:}return gt}function z(st,gt,kt){for(var Ft=[].concat(st),jt,fe=1/(kt+1),Ce=B(gt)[0],xe=1;xe<=kt;xe++)fe*=xe,jt=Math.floor(st.length*fe),jt===0?Ft.unshift([Ce[0]*fe+st[jt][0]*(1-fe),Ce[1]*fe+st[jt][1]*(1-fe)]):Ft.splice(jt,0,[Ce[0]*fe+st[jt][0]*(1-fe),Ce[1]*fe+st[jt][1]*(1-fe)]);return Ft}function W(st,gt){if(st.length<=1)return st;for(var kt,Ft=0;Ft<gt.length;Ft++)if(st[Ft][0]!==gt[Ft][0])switch(kt=B(st[Ft]),gt[Ft][0]){case"M":st[Ft]=["M"].concat(kt[0]);break;case"L":st[Ft]=["L"].concat(kt[0]);break;case"A":st[Ft]=[].concat(gt[Ft]),st[Ft][6]=kt[0][0],st[Ft][7]=kt[0][1];break;case"Q":if(kt.length<2)if(Ft>0)kt=z(kt,st[Ft-1],1);else{st[Ft]=gt[Ft];break}st[Ft]=["Q"].concat(kt.reduce(function(jt,fe){return jt.concat(fe)},[]));break;case"T":st[Ft]=["T"].concat(kt[0]);break;case"C":if(kt.length<3)if(Ft>0)kt=z(kt,st[Ft-1],2);else{st[Ft]=gt[Ft];break}st[Ft]=["C"].concat(kt.reduce(function(jt,fe){return jt.concat(fe)},[]));break;case"S":if(kt.length<2)if(Ft>0)kt=z(kt,st[Ft-1],1);else{st[Ft]=gt[Ft];break}st[Ft]=["S"].concat(kt.reduce(function(jt,fe){return jt.concat(fe)},[]));break;default:st[Ft]=gt[Ft]}return st}function R(st,gt,kt,Ft,jt){return jt?[["M",+st+ +jt,gt],["l",kt-jt*2,0],["a",jt,jt,0,0,1,jt,jt],["l",0,Ft-jt*2],["a",jt,jt,0,0,1,-jt,jt],["l",jt*2-kt,0],["a",jt,jt,0,0,1,-jt,-jt],["l",0,jt*2-Ft],["a",jt,jt,0,0,1,jt,-jt],["z"]]:[["M",st,gt],["l",kt,0],["l",0,Ft],["l",-kt,0],["z"]]}var K=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,ut=new RegExp("([a-z])["+K+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+K+"]*,?["+K+"]*)+)","ig"),ot=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+K+"]*,?["+K+"]*","ig");function dt(st){if(!st)return null;if((0,d.isArray)(st))return st;var gt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},kt=[];return String(st).replace(ut,function(Ft,jt,fe){var Ce=[],xe=jt.toLowerCase();if(fe.replace(ot,function(ve,Ue){Ue&&Ce.push(+Ue)}),xe==="m"&&Ce.length>2&&(kt.push([jt].concat(Ce.splice(0,2))),xe="l",jt=jt==="m"?"l":"L"),xe==="o"&&Ce.length===1&&kt.push([jt,Ce[0]]),xe==="r")kt.push([jt].concat(Ce));else for(;Ce.length>=gt[xe]&&(kt.push([jt].concat(Ce.splice(0,gt[xe]))),!!gt[xe]););return""}),kt}var nt=/[a-z]/;function yt(st,gt){return[gt[0]+(gt[0]-st[0]),gt[1]+(gt[1]-st[1])]}function tt(st){var gt=dt(st);if(!gt||!gt.length)return[["M",0,0]];for(var kt=!1,Ft=0;Ft<gt.length;Ft++){var jt=gt[Ft][0];if(nt.test(jt)||["V","H","T","S"].indexOf(jt)>=0){kt=!0;break}}if(!kt)return gt;var fe=[],Ce=0,xe=0,ve=0,Ue=0,Ne=0,tr,Er,hr=gt[0];(hr[0]==="M"||hr[0]==="m")&&(Ce=+hr[1],xe=+hr[2],ve=Ce,Ue=xe,Ne++,fe[0]=["M",Ce,xe]);for(var Ft=Ne,Tr=gt.length;Ft<Tr;Ft++){var _r=gt[Ft],Nr=fe[Ft-1],ir=[],jt=_r[0],wr=jt.toUpperCase();if(jt!==wr)switch(ir[0]=wr,wr){case"A":ir[1]=_r[1],ir[2]=_r[2],ir[3]=_r[3],ir[4]=_r[4],ir[5]=_r[5],ir[6]=+_r[6]+Ce,ir[7]=+_r[7]+xe;break;case"V":ir[1]=+_r[1]+xe;break;case"H":ir[1]=+_r[1]+Ce;break;case"M":ve=+_r[1]+Ce,Ue=+_r[2]+xe,ir[1]=ve,ir[2]=Ue;break;default:for(var Zr=1,Wr=_r.length;Zr<Wr;Zr++)ir[Zr]=+_r[Zr]+(Zr%2?Ce:xe)}else ir=gt[Ft];switch(wr){case"Z":Ce=+ve,xe=+Ue;break;case"H":Ce=ir[1],ir=["L",Ce,xe];break;case"V":xe=ir[1],ir=["L",Ce,xe];break;case"T":Ce=ir[1],xe=ir[2];var Qr=yt([Nr[1],Nr[2]],[Nr[3],Nr[4]]);ir=["Q",Qr[0],Qr[1],Ce,xe];break;case"S":Ce=ir[ir.length-2],xe=ir[ir.length-1];var ie=Nr.length,ue=yt([Nr[ie-4],Nr[ie-3]],[Nr[ie-2],Nr[ie-1]]);ir=["C",ue[0],ue[1],ir[1],ir[2],Ce,xe];break;case"M":ve=ir[ir.length-2],Ue=ir[ir.length-1];break;default:Ce=ir[ir.length-2],xe=ir[ir.length-1]}fe.push(ir)}return fe}var J=Math.PI*2,ft=function(st,gt,kt,Ft,jt,fe,Ce){var xe=st.x,ve=st.y;xe*=gt,ve*=kt;var Ue=Ft*xe-jt*ve,Ne=jt*xe+Ft*ve;return{x:Ue+fe,y:Ne+Ce}},rt=function(st,gt){var kt=gt===1.5707963267948966?.551915024494:gt===-1.5707963267948966?-.551915024494:4/3*Math.tan(gt/4),Ft=Math.cos(st),jt=Math.sin(st),fe=Math.cos(st+gt),Ce=Math.sin(st+gt);return[{x:Ft-jt*kt,y:jt+Ft*kt},{x:fe+Ce*kt,y:Ce-fe*kt},{x:fe,y:Ce}]},St=function(st,gt,kt,Ft){var jt=st*Ft-gt*kt<0?-1:1,fe=st*kt+gt*Ft;return fe>1&&(fe=1),fe<-1&&(fe=-1),jt*Math.acos(fe)},wt=function(st,gt,kt,Ft,jt,fe,Ce,xe,ve,Ue,Ne,tr){var Er=Math.pow(jt,2),hr=Math.pow(fe,2),Tr=Math.pow(Ne,2),_r=Math.pow(tr,2),Nr=Er*hr-Er*_r-hr*Tr;Nr<0&&(Nr=0),Nr/=Er*_r+hr*Tr,Nr=Math.sqrt(Nr)*(Ce===xe?-1:1);var ir=Nr*jt/fe*tr,wr=Nr*-fe/jt*Ne,Zr=Ue*ir-ve*wr+(st+kt)/2,Wr=ve*ir+Ue*wr+(gt+Ft)/2,Qr=(Ne-ir)/jt,ie=(tr-wr)/fe,ue=(-Ne-ir)/jt,me=(-tr-wr)/fe,Le=St(1,0,Qr,ie),Xe=St(Qr,ie,ue,me);return xe===0&&Xe>0&&(Xe-=J),xe===1&&Xe<0&&(Xe+=J),[Zr,Wr,Le,Xe]},q=function(st){var gt=st.px,kt=st.py,Ft=st.cx,jt=st.cy,fe=st.rx,Ce=st.ry,xe=st.xAxisRotation,ve=xe===void 0?0:xe,Ue=st.largeArcFlag,Ne=Ue===void 0?0:Ue,tr=st.sweepFlag,Er=tr===void 0?0:tr,hr=[];if(fe===0||Ce===0)return[{x1:0,y1:0,x2:0,y2:0,x:Ft,y:jt}];var Tr=Math.sin(ve*J/360),_r=Math.cos(ve*J/360),Nr=_r*(gt-Ft)/2+Tr*(kt-jt)/2,ir=-Tr*(gt-Ft)/2+_r*(kt-jt)/2;if(Nr===0&&ir===0)return[{x1:0,y1:0,x2:0,y2:0,x:Ft,y:jt}];fe=Math.abs(fe),Ce=Math.abs(Ce);var wr=Math.pow(Nr,2)/Math.pow(fe,2)+Math.pow(ir,2)/Math.pow(Ce,2);wr>1&&(fe*=Math.sqrt(wr),Ce*=Math.sqrt(wr));var Zr=wt(gt,kt,Ft,jt,fe,Ce,Ne,Er,Tr,_r,Nr,ir),Wr=Zr[0],Qr=Zr[1],ie=Zr[2],ue=Zr[3],me=Math.abs(ue)/(J/4);Math.abs(1-me)<1e-7&&(me=1);var Le=Math.max(Math.ceil(me),1);ue/=Le;for(var Xe=0;Xe<Le;Xe++)hr.push(rt(ie,ue)),ie+=ue;return hr.map(function($e){var mr=ft($e[0],fe,Ce,_r,Tr,Wr,Qr),kr=mr.x,$r=mr.y,lr=ft($e[1],fe,Ce,_r,Tr,Wr,Qr),Gr=lr.x,bn=lr.y,Ln=ft($e[2],fe,Ce,_r,Tr,Wr,Qr),dn=Ln.x,Mn=Ln.y;return{x1:kr,y1:$r,x2:Gr,y2:bn,x:dn,y:Mn}})};function it(st,gt,kt,Ft,jt,fe,Ce,xe,ve){var Ue=q({px:st,py:gt,cx:xe,cy:ve,rx:kt,ry:Ft,xAxisRotation:jt,largeArcFlag:fe,sweepFlag:Ce});return Ue.reduce(function(Ne,tr){var Er=tr.x1,hr=tr.y1,Tr=tr.x2,_r=tr.y2,Nr=tr.x,ir=tr.y;return Ne.push(Er,hr,Tr,_r,Nr,ir),Ne},[])}function Q(st,gt,kt,Ft,jt,fe){var Ce=1/3,xe=2/3;return[Ce*st+xe*kt,Ce*gt+xe*Ft,Ce*jt+xe*kt,Ce*fe+xe*Ft,jt,fe]}function f(st,gt,kt,Ft){return[st,gt,kt,Ft,kt,Ft]}function vt(st,gt){"TQ".indexOf(st[0])<0&&(gt.qx=null,gt.qy=null);var kt=st.slice(1),Ft=kt[0],jt=kt[1];switch(st[0]){case"M":return gt.x=Ft,gt.y=jt,st;case"A":return["C"].concat(it.apply(0,[gt.x1,gt.y1].concat(st.slice(1))));case"Q":return gt.qx=Ft,gt.qy=jt,["C"].concat(Q.apply(0,[gt.x1,gt.y1].concat(st.slice(1))));case"L":return["C"].concat(f(gt.x1,gt.y1,st[1],st[2]));case"H":return["C"].concat(f(gt.x1,gt.y1,st[1],gt.y1));case"V":return["C"].concat(f(gt.x1,gt.y1,gt.x1,st[1]));case"Z":return["C"].concat(f(gt.x1,gt.y1,gt.x,gt.y));default:}return st}function It(st,gt){gt===void 0&&(gt=!1);for(var kt=tt(st),Ft={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},jt=[],fe="",Ce=kt.length,xe,ve,Ue=[],Ne=0;Ne<Ce;Ne+=1)kt[Ne]&&(fe=kt[Ne][0]),jt[Ne]=fe,kt[Ne]=vt(kt[Ne],Ft),Qt(kt,jt,Ne),Ce=kt.length,fe==="Z"&&Ue.push(Ne),xe=kt[Ne],ve=xe.length,Ft.x1=+xe[ve-2],Ft.y1=+xe[ve-1],Ft.x2=+xe[ve-4]||Ft.x1,Ft.y2=+xe[ve-3]||Ft.y1;return gt?[kt,Ue]:kt}function Qt(st,gt,kt){if(st[kt].length>7){st[kt].shift();for(var Ft=st[kt],jt=kt;Ft.length;)gt[kt]="A",st.splice(jt+=1,0,["C"].concat(Ft.splice(0,6)));st.splice(kt,1)}}var Se=function(st,gt,kt,Ft,jt){var fe=-3*gt+9*kt-9*Ft+3*jt,Ce=st*fe+6*gt-12*kt+6*Ft;return st*Ce-3*gt+3*kt},$t=function(st,gt,kt,Ft,jt,fe,Ce,xe,ve){ve===null&&(ve=1),ve=ve>1?1:ve<0?0:ve;for(var Ue=ve/2,Ne=12,tr=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Er=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],hr=0,Tr=0;Tr<Ne;Tr++){var _r=Ue*tr[Tr]+Ue,Nr=Se(_r,st,kt,jt,Ce),ir=Se(_r,gt,Ft,fe,xe),wr=Nr*Nr+ir*ir;hr+=Er[Tr]*Math.sqrt(wr)}return Ue*hr},re=function(st,gt,kt,Ft,jt,fe,Ce,xe){for(var ve=[],Ue=[[],[]],Ne,tr,Er,hr,Tr=0;Tr<2;++Tr){if(Tr===0?(tr=6*st-12*kt+6*jt,Ne=-3*st+9*kt-9*jt+3*Ce,Er=3*kt-3*st):(tr=6*gt-12*Ft+6*fe,Ne=-3*gt+9*Ft-9*fe+3*xe,Er=3*Ft-3*gt),Math.abs(Ne)<1e-12){if(Math.abs(tr)<1e-12)continue;hr=-Er/tr,hr>0&&hr<1&&ve.push(hr);continue}var _r=tr*tr-4*Er*Ne,Nr=Math.sqrt(_r);if(!(_r<0)){var ir=(-tr+Nr)/(2*Ne);ir>0&&ir<1&&ve.push(ir);var wr=(-tr-Nr)/(2*Ne);wr>0&&wr<1&&ve.push(wr)}}for(var Zr=ve.length,Wr=Zr,Qr;Zr--;)hr=ve[Zr],Qr=1-hr,Ue[0][Zr]=Qr*Qr*Qr*st+3*Qr*Qr*hr*kt+3*Qr*hr*hr*jt+hr*hr*hr*Ce,Ue[1][Zr]=Qr*Qr*Qr*gt+3*Qr*Qr*hr*Ft+3*Qr*hr*hr*fe+hr*hr*hr*xe;return Ue[0][Wr]=st,Ue[1][Wr]=gt,Ue[0][Wr+1]=Ce,Ue[1][Wr+1]=xe,Ue[0].length=Ue[1].length=Wr+2,{min:{x:Math.min.apply(0,Ue[0]),y:Math.min.apply(0,Ue[1])},max:{x:Math.max.apply(0,Ue[0]),y:Math.max.apply(0,Ue[1])}}},he=function(st,gt,kt,Ft,jt,fe,Ce,xe){if(!(Math.max(st,kt)<Math.min(jt,Ce)||Math.min(st,kt)>Math.max(jt,Ce)||Math.max(gt,Ft)<Math.min(fe,xe)||Math.min(gt,Ft)>Math.max(fe,xe))){var ve=(st*Ft-gt*kt)*(jt-Ce)-(st-kt)*(jt*xe-fe*Ce),Ue=(st*Ft-gt*kt)*(fe-xe)-(gt-Ft)*(jt*xe-fe*Ce),Ne=(st-kt)*(fe-xe)-(gt-Ft)*(jt-Ce);if(!!Ne){var tr=ve/Ne,Er=Ue/Ne,hr=+tr.toFixed(2),Tr=+Er.toFixed(2);if(!(hr<+Math.min(st,kt).toFixed(2)||hr>+Math.max(st,kt).toFixed(2)||hr<+Math.min(jt,Ce).toFixed(2)||hr>+Math.max(jt,Ce).toFixed(2)||Tr<+Math.min(gt,Ft).toFixed(2)||Tr>+Math.max(gt,Ft).toFixed(2)||Tr<+Math.min(fe,xe).toFixed(2)||Tr>+Math.max(fe,xe).toFixed(2)))return{x:tr,y:Er}}}},Me=function(st,gt,kt){return gt>=st.x&&gt<=st.x+st.width&&kt>=st.y&&kt<=st.y+st.height},le=function(st,gt,kt,Ft){return st===null&&(st=gt=kt=Ft=0),gt===null&&(gt=st.y,kt=st.width,Ft=st.height,st=st.x),{x:st,y:gt,width:kt,w:kt,height:Ft,h:Ft,x2:st+kt,y2:gt+Ft,cx:st+kt/2,cy:gt+Ft/2,r1:Math.min(kt,Ft)/2,r2:Math.max(kt,Ft)/2,r0:Math.sqrt(kt*kt+Ft*Ft)/2,path:R(st,gt,kt,Ft),vb:[st,gt,kt,Ft].join(" ")}},Rt=function(st,gt){return st=le(st),gt=le(gt),Me(gt,st.x,st.y)||Me(gt,st.x2,st.y)||Me(gt,st.x,st.y2)||Me(gt,st.x2,st.y2)||Me(st,gt.x,gt.y)||Me(st,gt.x2,gt.y)||Me(st,gt.x,gt.y2)||Me(st,gt.x2,gt.y2)||(st.x<gt.x2&&st.x>gt.x||gt.x<st.x2&&gt.x>st.x)&&(st.y<gt.y2&&st.y>gt.y||gt.y<st.y2&&gt.y>st.y)},Ot=function(st,gt,kt,Ft,jt,fe,Ce,xe){(0,d.isArray)(st)||(st=[st,gt,kt,Ft,jt,fe,Ce,xe]);var ve=re.apply(null,st);return le(ve.min.x,ve.min.y,ve.max.x-ve.min.x,ve.max.y-ve.min.y)},At=function(st,gt,kt,Ft,jt,fe,Ce,xe,ve){var Ue=1-ve,Ne=Math.pow(Ue,3),tr=Math.pow(Ue,2),Er=ve*ve,hr=Er*ve,Tr=Ne*st+tr*3*ve*kt+Ue*3*ve*ve*jt+hr*Ce,_r=Ne*gt+tr*3*ve*Ft+Ue*3*ve*ve*fe+hr*xe,Nr=st+2*ve*(kt-st)+Er*(jt-2*kt+st),ir=gt+2*ve*(Ft-gt)+Er*(fe-2*Ft+gt),wr=kt+2*ve*(jt-kt)+Er*(Ce-2*jt+kt),Zr=Ft+2*ve*(fe-Ft)+Er*(xe-2*fe+Ft),Wr=Ue*st+ve*kt,Qr=Ue*gt+ve*Ft,ie=Ue*jt+ve*Ce,ue=Ue*fe+ve*xe,me=90-Math.atan2(Nr-wr,ir-Zr)*180/Math.PI;return{x:Tr,y:_r,m:{x:Nr,y:ir},n:{x:wr,y:Zr},start:{x:Wr,y:Qr},end:{x:ie,y:ue},alpha:me}},Dt=function(st,gt,kt){var Ft=Ot(st),jt=Ot(gt);if(!Rt(Ft,jt))return kt?0:[];for(var fe=$t.apply(0,st),Ce=$t.apply(0,gt),xe=~~(fe/8),ve=~~(Ce/8),Ue=[],Ne=[],tr={},Er=kt?0:[],hr=0;hr<xe+1;hr++){var Tr=At.apply(0,st.concat(hr/xe));Ue.push({x:Tr.x,y:Tr.y,t:hr/xe})}for(var hr=0;hr<ve+1;hr++){var Tr=At.apply(0,gt.concat(hr/ve));Ne.push({x:Tr.x,y:Tr.y,t:hr/ve})}for(var hr=0;hr<xe;hr++)for(var _r=0;_r<ve;_r++){var Nr=Ue[hr],ir=Ue[hr+1],wr=Ne[_r],Zr=Ne[_r+1],Wr=Math.abs(ir.x-Nr.x)<.001?"y":"x",Qr=Math.abs(Zr.x-wr.x)<.001?"y":"x",ie=he(Nr.x,Nr.y,ir.x,ir.y,wr.x,wr.y,Zr.x,Zr.y);if(ie){if(tr[ie.x.toFixed(4)]===ie.y.toFixed(4))continue;tr[ie.x.toFixed(4)]=ie.y.toFixed(4);var ue=Nr.t+Math.abs((ie[Wr]-Nr[Wr])/(ir[Wr]-Nr[Wr]))*(ir.t-Nr.t),me=wr.t+Math.abs((ie[Qr]-wr[Qr])/(Zr[Qr]-wr[Qr]))*(Zr.t-wr.t);ue>=0&&ue<=1&&me>=0&&me<=1&&(kt?Er++:Er.push({x:ie.x,y:ie.y,t1:ue,t2:me}))}}return Er},j=function(st,gt,kt){st=It(st),gt=It(gt);for(var Ft,jt,fe,Ce,xe,ve,Ue,Ne,tr,Er,hr=kt?0:[],Tr=0,_r=st.length;Tr<_r;Tr++){var Nr=st[Tr];if(Nr[0]==="M")Ft=xe=Nr[1],jt=ve=Nr[2];else{Nr[0]==="C"?(tr=[Ft,jt].concat(Nr.slice(1)),Ft=tr[6],jt=tr[7]):(tr=[Ft,jt,Ft,jt,xe,ve,xe,ve],Ft=xe,jt=ve);for(var ir=0,wr=gt.length;ir<wr;ir++){var Zr=gt[ir];if(Zr[0]==="M")fe=Ue=Zr[1],Ce=Ne=Zr[2];else{Zr[0]==="C"?(Er=[fe,Ce].concat(Zr.slice(1)),fe=Er[6],Ce=Er[7]):(Er=[fe,Ce,fe,Ce,Ue,Ne,Ue,Ne],fe=Ue,Ce=Ne);var Wr=Dt(tr,Er,kt);if(kt)hr+=Wr;else{for(var Qr=0,ie=Wr.length;Qr<ie;Qr++)Wr[Qr].segment1=Tr,Wr[Qr].segment2=ir,Wr[Qr].bez1=tr,Wr[Qr].bez2=Er;hr=hr.concat(Wr)}}}}}return hr};function $(st,gt){return j(st,gt)}var et=/,?([a-z]),?/gi;function Tt(st){return st.join(",").replace(et,"$1")}function Nt(st){return Math.sqrt(st[0]*st[0]+st[1]*st[1])}function Ut(st,gt){return Nt(st)*Nt(gt)?(st[0]*gt[0]+st[1]*gt[1])/(Nt(st)*Nt(gt)):1}function Oe(st,gt){return(st[0]*gt[1]<st[1]*gt[0]?-1:1)*Math.acos(Ut(st,gt))}function He(st,gt){return st[0]===gt[0]&&st[1]===gt[1]}function Zt(st,gt){var kt=gt[1],Ft=gt[2],jt=(0,d.mod)((0,d.toRadian)(gt[3]),Math.PI*2),fe=gt[4],Ce=gt[5],xe=st[0],ve=st[1],Ue=gt[6],Ne=gt[7],tr=Math.cos(jt)*(xe-Ue)/2+Math.sin(jt)*(ve-Ne)/2,Er=-1*Math.sin(jt)*(xe-Ue)/2+Math.cos(jt)*(ve-Ne)/2,hr=tr*tr/(kt*kt)+Er*Er/(Ft*Ft);hr>1&&(kt*=Math.sqrt(hr),Ft*=Math.sqrt(hr));var Tr=kt*kt*(Er*Er)+Ft*Ft*(tr*tr),_r=Tr?Math.sqrt((kt*kt*(Ft*Ft)-Tr)/Tr):1;fe===Ce&&(_r*=-1),isNaN(_r)&&(_r=0);var Nr=Ft?_r*kt*Er/Ft:0,ir=kt?_r*-Ft*tr/kt:0,wr=(xe+Ue)/2+Math.cos(jt)*Nr-Math.sin(jt)*ir,Zr=(ve+Ne)/2+Math.sin(jt)*Nr+Math.cos(jt)*ir,Wr=[(tr-Nr)/kt,(Er-ir)/Ft],Qr=[(-1*tr-Nr)/kt,(-1*Er-ir)/Ft],ie=Oe([1,0],Wr),ue=Oe(Wr,Qr);return Ut(Wr,Qr)<=-1&&(ue=Math.PI),Ut(Wr,Qr)>=1&&(ue=0),Ce===0&&ue>0&&(ue=ue-2*Math.PI),Ce===1&&ue<0&&(ue=ue+2*Math.PI),{cx:wr,cy:Zr,rx:He(st,[Ue,Ne])?0:kt,ry:He(st,[Ue,Ne])?0:Ft,startAngle:ie,endAngle:ie+ue,xRotation:jt,arcFlag:fe,sweepFlag:Ce}}function be(st,gt){return[gt[0]+(gt[0]-st[0]),gt[1]+(gt[1]-st[1])]}function _e(st){st=O(st);for(var gt=[],kt=null,Ft=null,jt=null,fe=0,Ce=st.length,xe=0;xe<Ce;xe++){var ve=st[xe];Ft=st[xe+1];var Ue=ve[0],Ne={command:Ue,prePoint:kt,params:ve,startTangent:null,endTangent:null};switch(Ue){case"M":jt=[ve[1],ve[2]],fe=xe;break;case"A":var tr=Zt(kt,ve);Ne.arcParams=tr;break;default:break}if(Ue==="Z")kt=jt,Ft=st[fe+1];else{var Er=ve.length;kt=[ve[Er-2],ve[Er-1]]}Ft&&Ft[0]==="Z"&&(Ft=st[fe],gt[fe]&&(gt[fe].prePoint=kt)),Ne.currentPoint=kt,gt[fe]&&He(kt,gt[fe].currentPoint)&&(gt[fe].prePoint=Ne.prePoint);var hr=Ft?[Ft[Ft.length-2],Ft[Ft.length-1]]:null;Ne.nextPoint=hr;var Tr=Ne.prePoint;if(["L","H","V"].includes(Ue))Ne.startTangent=[Tr[0]-kt[0],Tr[1]-kt[1]],Ne.endTangent=[kt[0]-Tr[0],kt[1]-Tr[1]];else if(Ue==="Q"){var _r=[ve[1],ve[2]];Ne.startTangent=[Tr[0]-_r[0],Tr[1]-_r[1]],Ne.endTangent=[kt[0]-_r[0],kt[1]-_r[1]]}else if(Ue==="T"){var Nr=gt[xe-1],_r=be(Nr.currentPoint,Tr);Nr.command==="Q"?(Ne.command="Q",Ne.startTangent=[Tr[0]-_r[0],Tr[1]-_r[1]],Ne.endTangent=[kt[0]-_r[0],kt[1]-_r[1]]):(Ne.command="TL",Ne.startTangent=[Tr[0]-kt[0],Tr[1]-kt[1]],Ne.endTangent=[kt[0]-Tr[0],kt[1]-Tr[1]])}else if(Ue==="C"){var ir=[ve[1],ve[2]],wr=[ve[3],ve[4]];Ne.startTangent=[Tr[0]-ir[0],Tr[1]-ir[1]],Ne.endTangent=[kt[0]-wr[0],kt[1]-wr[1]],Ne.startTangent[0]===0&&Ne.startTangent[1]===0&&(Ne.startTangent=[ir[0]-wr[0],ir[1]-wr[1]]),Ne.endTangent[0]===0&&Ne.endTangent[1]===0&&(Ne.endTangent=[wr[0]-ir[0],wr[1]-ir[1]])}else if(Ue==="S"){var Nr=gt[xe-1],ir=be(Nr.currentPoint,Tr),wr=[ve[1],ve[2]];Nr.command==="C"?(Ne.command="C",Ne.startTangent=[Tr[0]-ir[0],Tr[1]-ir[1]],Ne.endTangent=[kt[0]-wr[0],kt[1]-wr[1]]):(Ne.command="SQ",Ne.startTangent=[Tr[0]-wr[0],Tr[1]-wr[1]],Ne.endTangent=[kt[0]-wr[0],kt[1]-wr[1]])}else if(Ue==="A"){var Zr=.001,Wr=Ne.arcParams||{},Qr=Wr.cx,ie=Qr===void 0?0:Qr,ue=Wr.cy,me=ue===void 0?0:ue,Le=Wr.rx,Xe=Le===void 0?0:Le,$e=Wr.ry,mr=$e===void 0?0:$e,kr=Wr.sweepFlag,$r=kr===void 0?0:kr,lr=Wr.startAngle,Gr=lr===void 0?0:lr,bn=Wr.endAngle,Ln=bn===void 0?0:bn;$r===0&&(Zr*=-1);var dn=Xe*Math.cos(Gr-Zr)+ie,Mn=mr*Math.sin(Gr-Zr)+me;Ne.startTangent=[dn-jt[0],Mn-jt[1]];var Jn=Xe*Math.cos(Gr+Ln+Zr)+ie,qn=mr*Math.sin(Gr+Ln-Zr)+me;Ne.endTangent=[Tr[0]-Jn,Tr[1]-qn]}gt.push(Ne)}return gt}var Qe=function(st,gt,kt){return st>=gt&&st<=kt};function dr(st,gt,kt,Ft){var jt=.001,fe={x:kt.x-st.x,y:kt.y-st.y},Ce={x:gt.x-st.x,y:gt.y-st.y},xe={x:Ft.x-kt.x,y:Ft.y-kt.y},ve=Ce.x*xe.y-Ce.y*xe.x,Ue=ve*ve,Ne=Ce.x*Ce.x+Ce.y*Ce.y,tr=xe.x*xe.x+xe.y*xe.y,Er=null;if(Ue>jt*Ne*tr){var hr=(fe.x*xe.y-fe.y*xe.x)/ve,Tr=(fe.x*Ce.y-fe.y*Ce.x)/ve;Qe(hr,0,1)&&Qe(Tr,0,1)&&(Er={x:st.x+hr*Ce.x,y:st.y+hr*Ce.y})}return Er}var ur=1e-6;function Dr(st){return Math.abs(st)<ur?0:st<0?-1:1}function ne(st,gt,kt){return(kt[0]-st[0])*(gt[1]-st[1])==(gt[0]-st[0])*(kt[1]-st[1])&&Math.min(st[0],gt[0])<=kt[0]&&kt[0]<=Math.max(st[0],gt[0])&&Math.min(st[1],gt[1])<=kt[1]&&kt[1]<=Math.max(st[1],gt[1])}function se(st,gt,kt){var Ft=!1,jt=st.length;if(jt<=2)return!1;for(var fe=0;fe<jt;fe++){var Ce=st[fe],xe=st[(fe+1)%jt];if(ne(Ce,xe,[gt,kt]))return!0;Dr(Ce[1]-kt)>0!=Dr(xe[1]-kt)>0&&Dr(gt-(kt-Ce[1])*(Ce[0]-xe[0])/(Ce[1]-xe[1])-Ce[0])<0&&(Ft=!Ft)}return Ft}function ye(st){for(var gt=[],kt=st.length,Ft=0;Ft<kt-1;Ft++){var jt=st[Ft],fe=st[Ft+1];gt.push({from:{x:jt[0],y:jt[1]},to:{x:fe[0],y:fe[1]}})}if(gt.length>1){var Ce=st[0],xe=st[kt-1];gt.push({from:{x:xe[0],y:xe[1]},to:{x:Ce[0],y:Ce[1]}})}return gt}function We(st,gt){var kt=!1;return(0,d.each)(st,function(Ft){if(dr(Ft.from,Ft.to,gt.from,gt.to))return kt=!0,!1}),kt}function De(st){var gt=st.map(function(Ft){return Ft[0]}),kt=st.map(function(Ft){return Ft[1]});return{minX:Math.min.apply(null,gt),maxX:Math.max.apply(null,gt),minY:Math.min.apply(null,kt),maxY:Math.max.apply(null,kt)}}function ae(st,gt){return!(gt.minX>st.maxX||gt.maxX<st.minX||gt.minY>st.maxY||gt.maxY<st.minY)}function Yt(st,gt){if(st.length<2||gt.length<2)return!1;var kt=De(st),Ft=De(gt);if(!ae(kt,Ft))return!1;var jt=!1;if((0,d.each)(gt,function(ve){if(se(st,ve[0],ve[1]))return jt=!0,!1}),jt||((0,d.each)(st,function(ve){if(se(gt,ve[0],ve[1]))return jt=!0,!1}),jt))return!0;var fe=ye(st),Ce=ye(gt),xe=!1;return(0,d.each)(Ce,function(ve){if(We(fe,ve))return xe=!0,!1}),xe}},84023:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.isSamePoint=void 0;var d=v(49242);function T(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])}function P(E,S){return T(E)*T(S)?(E[0]*S[0]+E[1]*S[1])/(T(E)*T(S)):1}function I(E,S){return(E[0]*S[1]<E[1]*S[0]?-1:1)*Math.acos(P(E,S))}function O(E,S){return E[0]===S[0]&&E[1]===S[1]}C.isSamePoint=O;function A(E,S){var y=S[1],b=S[2],p=(0,d.mod)((0,d.toRadian)(S[3]),Math.PI*2),m=S[4],x=S[5],M=E[0],k=E[1],_=S[6],B=S[7],z=Math.cos(p)*(M-_)/2+Math.sin(p)*(k-B)/2,W=-1*Math.sin(p)*(M-_)/2+Math.cos(p)*(k-B)/2,R=z*z/(y*y)+W*W/(b*b);R>1&&(y*=Math.sqrt(R),b*=Math.sqrt(R));var K=y*y*(W*W)+b*b*(z*z),ut=K?Math.sqrt((y*y*(b*b)-K)/K):1;m===x&&(ut*=-1),isNaN(ut)&&(ut=0);var ot=b?ut*y*W/b:0,dt=y?ut*-b*z/y:0,nt=(M+_)/2+Math.cos(p)*ot-Math.sin(p)*dt,yt=(k+B)/2+Math.sin(p)*ot+Math.cos(p)*dt,tt=[(z-ot)/y,(W-dt)/b],J=[(-1*z-ot)/y,(-1*W-dt)/b],ft=I([1,0],tt),rt=I(tt,J);return P(tt,J)<=-1&&(rt=Math.PI),P(tt,J)>=1&&(rt=0),x===0&&rt>0&&(rt=rt-2*Math.PI),x===1&&rt<0&&(rt=rt+2*Math.PI),{cx:nt,cy:yt,rx:O(E,[_,B])?0:y,ry:O(E,[_,B])?0:b,startAngle:ft,endAngle:ft+rt,xRotation:p,arcFlag:m,sweepFlag:x}}C.default=A},21528:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(T,P,I){return T>=P&&T<=I};function d(T,P,I,O){var A=.001,E={x:I.x-T.x,y:I.y-T.y},S={x:P.x-T.x,y:P.y-T.y},y={x:O.x-I.x,y:O.y-I.y},b=S.x*y.y-S.y*y.x,p=b*b,m=S.x*S.x+S.y*S.y,x=y.x*y.x+y.y*y.y,M=null;if(p>A*m*x){var k=(E.x*y.y-E.y*y.x)/b,_=(E.x*S.y-E.y*S.x)/b;v(k,0,1)&&v(_,0,1)&&(M={x:T.x+k*S.x,y:T.y+k*S.y})}return M}C.default=d},70146:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66957),T=v(21528),P=v(49242);function I(y){for(var b=[],p=y.length,m=0;m<p-1;m++){var x=y[m],M=y[m+1];b.push({from:{x:x[0],y:x[1]},to:{x:M[0],y:M[1]}})}if(b.length>1){var k=y[0],_=y[p-1];b.push({from:{x:_[0],y:_[1]},to:{x:k[0],y:k[1]}})}return b}function O(y,b){var p=!1;return(0,P.each)(y,function(m){if((0,T.default)(m.from,m.to,b.from,b.to))return p=!0,!1}),p}function A(y){var b=y.map(function(m){return m[0]}),p=y.map(function(m){return m[1]});return{minX:Math.min.apply(null,b),maxX:Math.max.apply(null,b),minY:Math.min.apply(null,p),maxY:Math.max.apply(null,p)}}function E(y,b){return!(b.minX>y.maxX||b.maxX<y.minX||b.minY>y.maxY||b.maxY<y.minY)}function S(y,b){if(y.length<2||b.length<2)return!1;var p=A(y),m=A(b);if(!E(p,m))return!1;var x=!1;if((0,P.each)(b,function(B){if((0,d.default)(y,B[0],B[1]))return x=!0,!1}),x||((0,P.each)(y,function(B){if((0,d.default)(b,B[0],B[1]))return x=!0,!1}),x))return!0;var M=I(y),k=I(b),_=!1;return(0,P.each)(k,function(B){if(O(M,B))return _=!0,!1}),_}C.default=S},28498:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(49242),T=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,P=new RegExp("([a-z])["+T+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+T+"]*,?["+T+"]*)+)","ig"),I=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+T+"]*,?["+T+"]*","ig");function O(A){if(!A)return null;if((0,d.isArray)(A))return A;var E={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},S=[];return String(A).replace(P,function(y,b,p){var m=[],x=b.toLowerCase();if(p.replace(I,function(M,k){k&&m.push(+k)}),x==="m"&&m.length>2&&(S.push([b].concat(m.splice(0,2))),x="l",b=b==="m"?"l":"L"),x==="o"&&m.length===1&&S.push([b,m[0]]),x==="r")S.push([b].concat(m));else for(;m.length>=E[x]&&(S.push([b].concat(m.splice(0,E[x]))),!!E[x]););return""}),S}C.default=O},80315:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(49242),T=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,P=/[^\s\,]+/ig;function I(O){var A=O||[];if((0,d.isArray)(A))return A;if((0,d.isString)(A))return A=A.match(T),(0,d.each)(A,function(E,S){if(E=E.match(P),E[0].length>1){var y=E[0].charAt(0);E.splice(1,0,E[0].substr(1)),E[0]=y}(0,d.each)(E,function(b,p){isNaN(b)||(E[p]=+b)}),A[S]=E}),A}C.default=I},74479:function(ct,C,v){"use strict";var d;d={value:!0};var T=v(28498),P=/[a-z]/;function I(A,E){return[E[0]+(E[0]-A[0]),E[1]+(E[1]-A[1])]}function O(A){var E=(0,T.default)(A);if(!E||!E.length)return[["M",0,0]];for(var S=!1,y=0;y<E.length;y++){var b=E[y][0];if(P.test(b)||["V","H","T","S"].indexOf(b)>=0){S=!0;break}}if(!S)return E;var p=[],m=0,x=0,M=0,k=0,_=0,B,z,W=E[0];(W[0]==="M"||W[0]==="m")&&(m=+W[1],x=+W[2],M=m,k=x,_++,p[0]=["M",m,x]);for(var y=_,R=E.length;y<R;y++){var K=E[y],ut=p[y-1],ot=[],b=K[0],dt=b.toUpperCase();if(b!==dt)switch(ot[0]=dt,dt){case"A":ot[1]=K[1],ot[2]=K[2],ot[3]=K[3],ot[4]=K[4],ot[5]=K[5],ot[6]=+K[6]+m,ot[7]=+K[7]+x;break;case"V":ot[1]=+K[1]+x;break;case"H":ot[1]=+K[1]+m;break;case"M":M=+K[1]+m,k=+K[2]+x,ot[1]=M,ot[2]=k;break;default:for(var nt=1,yt=K.length;nt<yt;nt++)ot[nt]=+K[nt]+(nt%2?m:x)}else ot=E[y];switch(dt){case"Z":m=+M,x=+k;break;case"H":m=ot[1],ot=["L",m,x];break;case"V":x=ot[1],ot=["L",m,x];break;case"T":m=ot[1],x=ot[2];var tt=I([ut[1],ut[2]],[ut[3],ut[4]]);ot=["Q",tt[0],tt[1],m,x];break;case"S":m=ot[ot.length-2],x=ot[ot.length-1];var J=ut.length,ft=I([ut[J-4],ut[J-3]],[ut[J-2],ut[J-1]]);ot=["C",ft[0],ft[1],ot[1],ot[2],m,x];break;case"M":M=ot[ot.length-2],k=ot[ot.length-1];break;default:m=ot[ot.length-2],x=ot[ot.length-1]}p.push(ot)}return p}C.Z=O},49274:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(84023),T=v(84023),P=v(80315);function I(A,E){return[E[0]+(E[0]-A[0]),E[1]+(E[1]-A[1])]}function O(A){A=(0,P.default)(A);for(var E=[],S=null,y=null,b=null,p=0,m=A.length,x=0;x<m;x++){var M=A[x];y=A[x+1];var k=M[0],_={command:k,prePoint:S,params:M,startTangent:null,endTangent:null};switch(k){case"M":b=[M[1],M[2]],p=x;break;case"A":var B=(0,d.default)(S,M);_.arcParams=B;break;default:break}if(k==="Z")S=b,y=A[p+1];else{var z=M.length;S=[M[z-2],M[z-1]]}y&&y[0]==="Z"&&(y=A[p],E[p]&&(E[p].prePoint=S)),_.currentPoint=S,E[p]&&(0,T.isSamePoint)(S,E[p].currentPoint)&&(E[p].prePoint=_.prePoint);var W=y?[y[y.length-2],y[y.length-1]]:null;_.nextPoint=W;var R=_.prePoint;if(["L","H","V"].includes(k))_.startTangent=[R[0]-S[0],R[1]-S[1]],_.endTangent=[S[0]-R[0],S[1]-R[1]];else if(k==="Q"){var K=[M[1],M[2]];_.startTangent=[R[0]-K[0],R[1]-K[1]],_.endTangent=[S[0]-K[0],S[1]-K[1]]}else if(k==="T"){var ut=E[x-1],K=I(ut.currentPoint,R);ut.command==="Q"?(_.command="Q",_.startTangent=[R[0]-K[0],R[1]-K[1]],_.endTangent=[S[0]-K[0],S[1]-K[1]]):(_.command="TL",_.startTangent=[R[0]-S[0],R[1]-S[1]],_.endTangent=[S[0]-R[0],S[1]-R[1]])}else if(k==="C"){var ot=[M[1],M[2]],dt=[M[3],M[4]];_.startTangent=[R[0]-ot[0],R[1]-ot[1]],_.endTangent=[S[0]-dt[0],S[1]-dt[1]],_.startTangent[0]===0&&_.startTangent[1]===0&&(_.startTangent=[ot[0]-dt[0],ot[1]-dt[1]]),_.endTangent[0]===0&&_.endTangent[1]===0&&(_.endTangent=[dt[0]-ot[0],dt[1]-ot[1]])}else if(k==="S"){var ut=E[x-1],ot=I(ut.currentPoint,R),dt=[M[1],M[2]];ut.command==="C"?(_.command="C",_.startTangent=[R[0]-ot[0],R[1]-ot[1]],_.endTangent=[S[0]-dt[0],S[1]-dt[1]]):(_.command="SQ",_.startTangent=[R[0]-dt[0],R[1]-dt[1]],_.endTangent=[S[0]-dt[0],S[1]-dt[1]])}else if(k==="A"){var nt=.001,yt=_.arcParams||{},tt=yt.cx,J=tt===void 0?0:tt,ft=yt.cy,rt=ft===void 0?0:ft,St=yt.rx,wt=St===void 0?0:St,q=yt.ry,it=q===void 0?0:q,Q=yt.sweepFlag,f=Q===void 0?0:Q,vt=yt.startAngle,It=vt===void 0?0:vt,Qt=yt.endAngle,Se=Qt===void 0?0:Qt;f===0&&(nt*=-1);var $t=wt*Math.cos(It-nt)+J,re=it*Math.sin(It-nt)+rt;_.startTangent=[$t-b[0],re-b[1]];var he=wt*Math.cos(It+Se+nt)+J,Me=it*Math.sin(It+Se-nt)+rt;_.endTangent=[R[0]-he,R[1]-Me]}E.push(_)}return E}C.default=O},66957:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=1e-6;function d(I){return Math.abs(I)<v?0:I<0?-1:1}function T(I,O,A){return(A[0]-I[0])*(O[1]-I[1])==(O[0]-I[0])*(A[1]-I[1])&&Math.min(I[0],O[0])<=A[0]&&A[0]<=Math.max(I[0],O[0])&&Math.min(I[1],O[1])<=A[1]&&A[1]<=Math.max(I[1],O[1])}function P(I,O,A){var E=!1,S=I.length;if(S<=2)return!1;for(var y=0;y<S;y++){var b=I[y],p=I[(y+1)%S];if(T(b,p,[O,A]))return!0;d(b[1]-A)>0!=d(p[1]-A)>0&&d(O-(A-b[1])*(b[0]-p[0])/(b[1]-p[1])-b[0])<0&&(E=!E)}return E}C.default=P},51082:function(ct,C,v){"use strict";v.r(C),v.d(C,{Category:function(){return y},Identity:function(){return At},Linear:function(){return J},Log:function(){return Q},Pow:function(){return vt},Quantile:function(){return he},Quantize:function(){return $t},Scale:function(){return A},Time:function(){return Qt},TimeCat:function(){return dt},getScale:function(){return le},getTickMethod:function(){return P},registerScale:function(){return Rt},registerTickMethod:function(){return I}});var d=v(49242),T={};function P(ie){return T[ie]}function I(ie,ue){T[ie]=ue}var O=function(){function ie(ue){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=ue,this.initCfg(),this.init()}return ie.prototype.translate=function(ue){return ue},ie.prototype.change=function(ue){(0,d.assign)(this.__cfg__,ue),this.init()},ie.prototype.clone=function(){return this.constructor(this.__cfg__)},ie.prototype.getTicks=function(){var ue=this;return(0,d.map)(this.ticks,function(me,Le){return(0,d.isObject)(me)?me:{text:ue.getText(me,Le),tickValue:me,value:ue.scale(me)}})},ie.prototype.getText=function(ue,me){var Le=this.formatter,Xe=Le?Le(ue,me):ue;return(0,d.isNil)(Xe)||!(0,d.isFunction)(Xe.toString)?"":Xe.toString()},ie.prototype.getConfig=function(ue){return this.__cfg__[ue]},ie.prototype.init=function(){(0,d.assign)(this,this.__cfg__),this.setDomain(),(0,d.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},ie.prototype.initCfg=function(){},ie.prototype.setDomain=function(){},ie.prototype.calculateTicks=function(){var ue=this.tickMethod,me=[];if((0,d.isString)(ue)){var Le=P(ue);if(!Le)throw new Error("There is no method to to calculate ticks!");me=Le(this)}else(0,d.isFunction)(ue)&&(me=ue(this));return me},ie.prototype.rangeMin=function(){return this.range[0]},ie.prototype.rangeMax=function(){return this.range[1]},ie.prototype.calcPercent=function(ue,me,Le){return(0,d.isNumber)(ue)?(ue-me)/(Le-me):NaN},ie.prototype.calcValue=function(ue,me,Le){return me+ue*(Le-me)},ie}(),A=O,E=v(70655),S=function(ie){(0,E.__extends)(ue,ie);function ue(){var me=ie!==null&&ie.apply(this,arguments)||this;return me.type="cat",me.isCategory=!0,me}return ue.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var me=0;me<this.values.length;me++)this.translateIndexMap.set(this.values[me],me)}},ue.prototype.translate=function(me){this.buildIndexMap();var Le=this.translateIndexMap.get(me);return Le===void 0&&(Le=(0,d.isNumber)(me)?me:NaN),Le},ue.prototype.scale=function(me){var Le=this.translate(me),Xe=this.calcPercent(Le,this.min,this.max);return this.calcValue(Xe,this.rangeMin(),this.rangeMax())},ue.prototype.invert=function(me){var Le=this.max-this.min,Xe=this.calcPercent(me,this.rangeMin(),this.rangeMax()),$e=Math.round(Le*Xe)+this.min;return $e<this.min||$e>this.max?NaN:this.values[$e]},ue.prototype.getText=function(me){for(var Le=[],Xe=1;Xe<arguments.length;Xe++)Le[Xe-1]=arguments[Xe];var $e=me;return(0,d.isNumber)(me)&&!this.values.includes(me)&&($e=this.values[$e]),ie.prototype.getText.apply(this,(0,E.__spreadArrays)([$e],Le))},ue.prototype.initCfg=function(){this.tickMethod="cat"},ue.prototype.setDomain=function(){if((0,d.isNil)(this.getConfig("min"))&&(this.min=0),(0,d.isNil)(this.getConfig("max"))){var me=this.values.length;this.max=me>1?me-1:me}this.translateIndexMap&&(this.translateIndexMap=void 0)},ue}(A),y=S,b=v(19432);function p(ie){return function(ue,me,Le,Xe){for(var $e=(0,d.isNil)(Le)?0:Le,mr=(0,d.isNil)(Xe)?ue.length:Xe;$e<mr;){var kr=$e+mr>>>1;ie(ue[kr])>me?mr=kr:$e=kr+1}return $e}}var m="format";function x(ie,ue){var me=b[m]||b.default[m];return me(ie,ue)}function M(ie){return(0,d.isString)(ie)&&(ie.indexOf("T")>0?ie=new Date(ie).getTime():ie=new Date(ie.replace(/-/gi,"/")).getTime()),(0,d.isDate)(ie)&&(ie=ie.getTime()),ie}var k=1e3,_=60*k,B=60*_,z=24*B,W=z*31,R=z*365,K=[["HH:mm:ss",k],["HH:mm:ss",k*10],["HH:mm:ss",k*30],["HH:mm",_],["HH:mm",_*10],["HH:mm",_*30],["HH",B],["HH",B*6],["HH",B*12],["YYYY-MM-DD",z],["YYYY-MM-DD",z*4],["YYYY-WW",z*7],["YYYY-MM",W],["YYYY-MM",W*4],["YYYY-MM",W*6],["YYYY",z*380]];function ut(ie,ue,me){var Le=(ue-ie)/me,Xe=p(function(mr){return mr[1]})(K,Le)-1,$e=K[Xe];return Xe<0?$e=K[0]:Xe>=K.length&&($e=(0,d.last)(K)),$e}var ot=function(ie){(0,E.__extends)(ue,ie);function ue(){var me=ie!==null&&ie.apply(this,arguments)||this;return me.type="timeCat",me}return ue.prototype.translate=function(me){me=M(me);var Le=this.values.indexOf(me);return Le===-1&&((0,d.isNumber)(me)&&me<this.values.length?Le=me:Le=NaN),Le},ue.prototype.getText=function(me,Le){var Xe=this.translate(me);if(Xe>-1){var $e=this.values[Xe],mr=this.formatter;return $e=mr?mr($e,Le):x($e,this.mask),$e}return me},ue.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},ue.prototype.setDomain=function(){var me=this.values;(0,d.each)(me,function(Le,Xe){me[Xe]=M(Le)}),me.sort(function(Le,Xe){return Le-Xe}),ie.prototype.setDomain.call(this)},ue}(y),dt=ot,nt=function(ie){(0,E.__extends)(ue,ie);function ue(){var me=ie!==null&&ie.apply(this,arguments)||this;return me.isContinuous=!0,me}return ue.prototype.scale=function(me){if((0,d.isNil)(me))return NaN;var Le=this.rangeMin(),Xe=this.rangeMax(),$e=this.max,mr=this.min;if($e===mr)return Le;var kr=this.getScalePercent(me);return Le+kr*(Xe-Le)},ue.prototype.init=function(){ie.prototype.init.call(this);var me=this.ticks,Le=(0,d.head)(me),Xe=(0,d.last)(me);Le<this.min&&(this.min=Le),Xe>this.max&&(this.max=Xe),(0,d.isNil)(this.minLimit)||(this.min=Le),(0,d.isNil)(this.maxLimit)||(this.max=Xe)},ue.prototype.setDomain=function(){var me=(0,d.getRange)(this.values),Le=me.min,Xe=me.max;(0,d.isNil)(this.min)&&(this.min=Le),(0,d.isNil)(this.max)&&(this.max=Xe),this.min>this.max&&(this.min=Le,this.max=Xe)},ue.prototype.calculateTicks=function(){var me=this,Le=ie.prototype.calculateTicks.call(this);return this.nice||(Le=(0,d.filter)(Le,function(Xe){return Xe>=me.min&&Xe<=me.max})),Le},ue.prototype.getScalePercent=function(me){var Le=this.max,Xe=this.min;return(me-Xe)/(Le-Xe)},ue.prototype.getInvertPercent=function(me){return(me-this.rangeMin())/(this.rangeMax()-this.rangeMin())},ue}(A),yt=nt,tt=function(ie){(0,E.__extends)(ue,ie);function ue(){var me=ie!==null&&ie.apply(this,arguments)||this;return me.type="linear",me.isLinear=!0,me}return ue.prototype.invert=function(me){var Le=this.getInvertPercent(me);return this.min+Le*(this.max-this.min)},ue.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},ue}(yt),J=tt;function ft(ie,ue){var me=Math.E,Le;return ue>=0?Le=Math.pow(me,Math.log(ue)/ie):Le=Math.pow(me,Math.log(-ue)/ie)*-1,Le}function rt(ie,ue){return ie===1?1:Math.log(ue)/Math.log(ie)}function St(ie,ue,me){(0,d.isNil)(me)&&(me=Math.max.apply(null,ie));var Le=me;return(0,d.each)(ie,function(Xe){Xe>0&&Xe<Le&&(Le=Xe)}),Le===me&&(Le=me/ue),Le>1&&(Le=1),Le}function wt(ie){var ue=ie.toString().split(/[eE]/),me=(ue[0].split(".")[1]||"").length-+(ue[1]||0);return me>0?me:0}function q(ie,ue){var me=wt(ie),Le=wt(ue),Xe=Math.pow(10,Math.max(me,Le));return(ie*Xe+ue*Xe)/Xe}var it=function(ie){(0,E.__extends)(ue,ie);function ue(){var me=ie!==null&&ie.apply(this,arguments)||this;return me.type="log",me}return ue.prototype.invert=function(me){var Le=this.base,Xe=rt(Le,this.max),$e=this.rangeMin(),mr=this.rangeMax()-$e,kr,$r=this.positiveMin;if($r){if(me===0)return 0;kr=rt(Le,$r/Le);var lr=1/(Xe-kr)*mr;if(me<lr)return me/lr*$r}else kr=rt(Le,this.min);var Gr=(me-$e)/mr,bn=Gr*(Xe-kr)+kr;return Math.pow(Le,bn)},ue.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},ue.prototype.setDomain=function(){ie.prototype.setDomain.call(this);var me=this.min;if(me<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");me===0&&(this.positiveMin=St(this.values,this.base,this.max))},ue.prototype.getScalePercent=function(me){var Le=this.max,Xe=this.min;if(Le===Xe||me<=0)return 0;var $e=this.base,mr=this.positiveMin;mr&&(Xe=mr*1/$e);var kr;return me<mr?kr=me/mr/(rt($e,Le)-rt($e,Xe)):kr=(rt($e,me)-rt($e,Xe))/(rt($e,Le)-rt($e,Xe)),kr},ue}(yt),Q=it,f=function(ie){(0,E.__extends)(ue,ie);function ue(){var me=ie!==null&&ie.apply(this,arguments)||this;return me.type="pow",me}return ue.prototype.invert=function(me){var Le=this.getInvertPercent(me),Xe=this.exponent,$e=ft(Xe,this.max),mr=ft(Xe,this.min),kr=Le*($e-mr)+mr,$r=kr>=0?1:-1;return Math.pow(kr,Xe)*$r},ue.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},ue.prototype.getScalePercent=function(me){var Le=this.max,Xe=this.min;if(Le===Xe)return 0;var $e=this.exponent,mr=(ft($e,me)-ft($e,Xe))/(ft($e,Le)-ft($e,Xe));return mr},ue}(yt),vt=f,It=function(ie){(0,E.__extends)(ue,ie);function ue(){var me=ie!==null&&ie.apply(this,arguments)||this;return me.type="time",me}return ue.prototype.getText=function(me,Le){var Xe=this.translate(me),$e=this.formatter;return $e?$e(Xe,Le):x(Xe,this.mask)},ue.prototype.scale=function(me){var Le=me;return((0,d.isString)(Le)||(0,d.isDate)(Le))&&(Le=this.translate(Le)),ie.prototype.scale.call(this,Le)},ue.prototype.translate=function(me){return M(me)},ue.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},ue.prototype.setDomain=function(){var me=this.values,Le=this.getConfig("min"),Xe=this.getConfig("max");if((!(0,d.isNil)(Le)||!(0,d.isNumber)(Le))&&(this.min=this.translate(this.min)),(!(0,d.isNil)(Xe)||!(0,d.isNumber)(Xe))&&(this.max=this.translate(this.max)),me&&me.length){var $e=[],mr=Infinity,kr=mr,$r=0;(0,d.each)(me,function(lr){var Gr=M(lr);if(isNaN(Gr))throw new TypeError("Invalid Time: "+lr+" in time scale!");mr>Gr?(kr=mr,mr=Gr):kr>Gr&&(kr=Gr),$r<Gr&&($r=Gr),$e.push(Gr)}),me.length>1&&(this.minTickInterval=kr-mr),(0,d.isNil)(Le)&&(this.min=mr),(0,d.isNil)(Xe)&&(this.max=$r)}},ue}(J),Qt=It,Se=function(ie){(0,E.__extends)(ue,ie);function ue(){var me=ie!==null&&ie.apply(this,arguments)||this;return me.type="quantize",me}return ue.prototype.invert=function(me){var Le=this.ticks,Xe=Le.length,$e=this.getInvertPercent(me),mr=Math.floor($e*(Xe-1));if(mr>=Xe-1)return(0,d.last)(Le);if(mr<0)return(0,d.head)(Le);var kr=Le[mr],$r=Le[mr+1],lr=mr/(Xe-1),Gr=(mr+1)/(Xe-1);return kr+($e-lr)/(Gr-lr)*($r-kr)},ue.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},ue.prototype.calculateTicks=function(){var me=ie.prototype.calculateTicks.call(this);return this.nice||((0,d.last)(me)!==this.max&&me.push(this.max),(0,d.head)(me)!==this.min&&me.unshift(this.min)),me},ue.prototype.getScalePercent=function(me){var Le=this.ticks;if(me<(0,d.head)(Le))return 0;if(me>(0,d.last)(Le))return 1;var Xe=0;return(0,d.each)(Le,function($e,mr){if(me>=$e)Xe=mr;else return!1}),Xe/(Le.length-1)},ue}(yt),$t=Se,re=function(ie){(0,E.__extends)(ue,ie);function ue(){var me=ie!==null&&ie.apply(this,arguments)||this;return me.type="quantile",me}return ue.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},ue}($t),he=re,Me={};function le(ie){return Me[ie]}function Rt(ie,ue){if(le(ie))throw new Error("type '"+ie+"' existed.");Me[ie]=ue}var Ot=function(ie){(0,E.__extends)(ue,ie);function ue(){var me=ie!==null&&ie.apply(this,arguments)||this;return me.type="identity",me.isIdentity=!0,me}return ue.prototype.calculateTicks=function(){return this.values},ue.prototype.scale=function(me){return this.values[0]!==me&&(0,d.isNumber)(me)?me:this.range[0]},ue.prototype.invert=function(me){var Le=this.range;return me<Le[0]||me>Le[1]?NaN:this.values[0]},ue}(A),At=Ot;function Dt(ie){var ue=ie.values,me=ie.tickInterval,Le=ie.tickCount,Xe=ie.showLast;if((0,d.isNumber)(me)){var $e=(0,d.filter)(ue,function(Mn,Jn){return Jn%me==0}),mr=(0,d.last)(ue);return Xe&&(0,d.last)($e)!==mr&&$e.push(mr),$e}var kr=ue.length,$r=ie.min,lr=ie.max;if((0,d.isNil)($r)&&($r=0),(0,d.isNil)(lr)&&(lr=ue.length-1),!(0,d.isNumber)(Le)||Le>=kr)return ue.slice($r,lr+1);if(Le<=0||lr<=0)return[];for(var Gr=Le===1?kr:Math.floor(kr/(Le-1)),bn=[],Ln=$r,dn=0;dn<Le&&!(Ln>=lr);dn++)Ln=Math.min($r+dn*Gr,lr),dn===Le-1&&Xe?bn.push(ue[lr]):bn.push(ue[Ln]);return bn}function j(ie){var ue=ie.min,me=ie.max,Le=ie.nice,Xe=ie.tickCount,$e=new Ut;return $e.domain([ue,me]),Le&&$e.nice(Xe),$e.ticks(Xe)}var $=5,et=Math.sqrt(50),Tt=Math.sqrt(10),Nt=Math.sqrt(2),Ut=function(){function ie(){this._domain=[0,1]}return ie.prototype.domain=function(ue){return ue?(this._domain=Array.from(ue,Number),this):this._domain.slice()},ie.prototype.nice=function(ue){var me,Le;ue===void 0&&(ue=$);var Xe=this._domain.slice(),$e=0,mr=this._domain.length-1,kr=this._domain[$e],$r=this._domain[mr],lr;return $r<kr&&(me=[$r,kr],kr=me[0],$r=me[1],Le=[mr,$e],$e=Le[0],mr=Le[1]),lr=He(kr,$r,ue),lr>0?(kr=Math.floor(kr/lr)*lr,$r=Math.ceil($r/lr)*lr,lr=He(kr,$r,ue)):lr<0&&(kr=Math.ceil(kr*lr)/lr,$r=Math.floor($r*lr)/lr,lr=He(kr,$r,ue)),lr>0?(Xe[$e]=Math.floor(kr/lr)*lr,Xe[mr]=Math.ceil($r/lr)*lr,this.domain(Xe)):lr<0&&(Xe[$e]=Math.ceil(kr*lr)/lr,Xe[mr]=Math.floor($r*lr)/lr,this.domain(Xe)),this},ie.prototype.ticks=function(ue){return ue===void 0&&(ue=$),Oe(this._domain[0],this._domain[this._domain.length-1],ue||$)},ie}();function Oe(ie,ue,me){var Le,Xe=-1,$e,mr,kr;if(ue=+ue,ie=+ie,me=+me,ie===ue&&me>0)return[ie];if((Le=ue<ie)&&($e=ie,ie=ue,ue=$e),(kr=He(ie,ue,me))===0||!isFinite(kr))return[];if(kr>0)for(ie=Math.ceil(ie/kr),ue=Math.floor(ue/kr),mr=new Array($e=Math.ceil(ue-ie+1));++Xe<$e;)mr[Xe]=(ie+Xe)*kr;else for(ie=Math.floor(ie*kr),ue=Math.ceil(ue*kr),mr=new Array($e=Math.ceil(ie-ue+1));++Xe<$e;)mr[Xe]=(ie-Xe)/kr;return Le&&mr.reverse(),mr}function He(ie,ue,me){var Le=(ue-ie)/Math.max(0,me),Xe=Math.floor(Math.log(Le)/Math.LN10),$e=Le/Math.pow(10,Xe);return Xe>=0?($e>=et?10:$e>=Tt?5:$e>=Nt?2:1)*Math.pow(10,Xe):-Math.pow(10,-Xe)/($e>=et?10:$e>=Tt?5:$e>=Nt?2:1)}function Zt(ie,ue,me){var Le;return me==="ceil"?Le=Math.ceil(ie/ue):me==="floor"?Le=Math.floor(ie/ue):Le=Math.round(ie/ue),Le*ue}function be(ie,ue,me){var Le=Zt(ie,me,"floor"),Xe=Zt(ue,me,"ceil");Le=(0,d.fixedBase)(Le,me),Xe=(0,d.fixedBase)(Xe,me);for(var $e=[],mr=Math.max((Xe-Le)/(Math.pow(2,12)-1),me),kr=Le;kr<=Xe;kr=kr+mr){var $r=(0,d.fixedBase)(kr,mr);$e.push($r)}return{min:Le,max:Xe,ticks:$e}}function _e(ie,ue,me){var Le,Xe=ie.minLimit,$e=ie.maxLimit,mr=ie.min,kr=ie.max,$r=ie.tickCount,lr=$r===void 0?5:$r,Gr=(0,d.isNil)(Xe)?(0,d.isNil)(ue)?mr:ue:Xe,bn=(0,d.isNil)($e)?(0,d.isNil)(me)?kr:me:$e;if(Gr>bn&&(Le=[Gr,bn],bn=Le[0],Gr=Le[1]),lr<=2)return[Gr,bn];for(var Ln=(bn-Gr)/(lr-1),dn=[],Mn=0;Mn<lr;Mn++)dn.push(Gr+Ln*Mn);return dn}function Qe(ie){var ue=ie.min,me=ie.max,Le=ie.tickInterval,Xe=ie.minLimit,$e=ie.maxLimit,mr=j(ie);return!(0,d.isNil)(Xe)||!(0,d.isNil)($e)?_e(ie,(0,d.head)(mr),(0,d.last)(mr)):Le?be(ue,me,Le).ticks:mr}function dr(ie){return Math.abs(ie)<1e-15?ie:parseFloat(ie.toFixed(15))}var ur=[1,5,2,2.5,4,3],Dr=null,ne=Number.EPSILON*100;function se(ie,ue){return(ie%ue+ue)%ue}function ye(ie){return Math.round(ie*1e12)/1e12}function We(ie,ue,me,Le,Xe,$e){var mr=(0,d.size)(ue),kr=(0,d.indexOf)(ue,ie),$r=0,lr=se(Le,$e);return(lr<ne||$e-lr<ne)&&Le<=0&&Xe>=0&&($r=1),1-kr/(mr-1)-me+$r}function De(ie,ue,me){var Le=(0,d.size)(ue),Xe=(0,d.indexOf)(ue,ie),$e=1;return 1-Xe/(Le-1)-me+$e}function ae(ie,ue,me,Le,Xe,$e){var mr=(ie-1)/($e-Xe),kr=(ue-1)/(Math.max($e,Le)-Math.min(me,Xe));return 2-Math.max(mr/kr,kr/mr)}function Yt(ie,ue){return ie>=ue?2-(ie-1)/(ue-1):1}function st(ie,ue,me,Le){var Xe=ue-ie;return 1-.5*(Math.pow(ue-Le,2)+Math.pow(ie-me,2))/Math.pow(.1*Xe,2)}function gt(ie,ue,me){var Le=ue-ie;if(me>Le){var Xe=(me-Le)/2;return 1-Math.pow(Xe,2)/Math.pow(.1*Le,2)}return 1}function kt(){return 1}function Ft(ie,ue,me,Le,Xe,$e){me===void 0&&(me=5),Le===void 0&&(Le=!0),Xe===void 0&&(Xe=ur),$e===void 0&&($e=[.25,.2,.5,.05]);var mr=me<0?0:Math.round(me);if(Number.isNaN(ie)||Number.isNaN(ue)||typeof ie!="number"||typeof ue!="number"||!mr)return{min:0,max:0,ticks:[]};if(ue-ie<1e-15||mr===1)return{min:ie,max:ue,ticks:[ie]};if(ue-ie>1e148){var kr=me||5,$r=(ue-ie)/kr;return{min:ie,max:ue,ticks:Array(kr).fill(null).map(function(Br,en){return dr(ie+$r*en)})}}for(var lr={score:-2,lmin:0,lmax:0,lstep:0},Gr=1;Gr<Infinity;){for(var bn=0;bn<Xe.length;bn+=1){var Ln=Xe[bn],dn=De(Ln,Xe,Gr);if($e[0]*dn+$e[1]+$e[2]+$e[3]<lr.score){Gr=Infinity;break}for(var Mn=2;Mn<Infinity;){var Jn=Yt(Mn,mr);if($e[0]*dn+$e[1]+$e[2]*Jn+$e[3]<lr.score)break;for(var qn=(ue-ie)/(Mn+1)/Gr/Ln,ui=Math.ceil(Math.log10(qn));ui<Infinity;){var Fn=Gr*Ln*Math.pow(10,ui),Pi=gt(ie,ue,Fn*(Mn-1));if($e[0]*dn+$e[1]*Pi+$e[2]*Jn+$e[3]<lr.score)break;var Bt=Math.floor(ue/Fn)*Gr-(Mn-1)*Gr,G=Math.ceil(ie/Fn)*Gr;if(Bt<=G)for(var kr=G-Bt,V=0;V<=kr;V+=1){var Y=Bt+V,Z=Y*(Fn/Gr),Ct=Z+Fn*(Mn-1),_t=Fn,Wt=We(Ln,Xe,Gr,Z,Ct,_t),Jt=st(ie,ue,Z,Ct),ee=ae(Mn,mr,ie,ue,Z,Ct),Be=kt(),Ge=$e[0]*Wt+$e[1]*Jt+$e[2]*ee+$e[3]*Be;Ge>lr.score&&(!Le||Z<=ie&&Ct>=ue)&&(lr.lmin=Z,lr.lmax=Ct,lr.lstep=_t,lr.score=Ge)}ui+=1}Mn+=1}}Gr+=1}var Fe=dr(lr.lmax),or=dr(lr.lmin),fr=dr(lr.lstep),ze=Math.floor(ye((Fe-or)/fr))+1,gr=new Array(ze);gr[0]=dr(or);for(var bn=1;bn<ze;bn++)gr[bn]=dr(gr[bn-1]+fr);return{min:Math.min(ie,(0,d.head)(gr)),max:Math.max(ue,(0,d.last)(gr)),ticks:gr}}function jt(ie){var ue=ie.min,me=ie.max,Le=ie.tickCount,Xe=ie.nice,$e=ie.tickInterval,mr=ie.minLimit,kr=ie.maxLimit,$r=Ft(ue,me,Le,Xe).ticks;return!(0,d.isNil)(mr)||!(0,d.isNil)(kr)?_e(ie,(0,d.head)($r),(0,d.last)($r)):$e?be(ue,me,$e).ticks:$r}function fe(ie){var ue=ie.base,me=ie.tickCount,Le=ie.min,Xe=ie.max,$e=ie.values,mr,kr=rt(ue,Xe);if(Le>0)mr=Math.floor(rt(ue,Le));else{var $r=St($e,ue,Xe);mr=Math.floor(rt(ue,$r))}for(var lr=kr-mr,Gr=Math.ceil(lr/me),bn=[],Ln=mr;Ln<kr+Gr;Ln=Ln+Gr)bn.push(Math.pow(ue,Ln));return Le<=0&&bn.unshift(0),bn}function Ce(ie,ue,me){if(me===void 0&&(me=5),ie===ue)return{max:ue,min:ie,ticks:[ie]};var Le=me<0?0:Math.round(me);if(Le===0)return{max:ue,min:ie,ticks:[]};var Xe=1.5,$e=.5+1.5*Xe,mr=ue-ie,kr=mr/Le,$r=Math.pow(10,Math.floor(Math.log10(kr))),lr=$r;2*$r-kr<Xe*(kr-lr)&&(lr=2*$r,5*$r-kr<$e*(kr-lr)&&(lr=5*$r,10*$r-kr<Xe*(kr-lr)&&(lr=10*$r)));for(var Gr=Math.ceil(ue/lr),bn=Math.floor(ie/lr),Ln=Math.max(Gr*lr,ue),dn=Math.min(bn*lr,ie),Mn=Math.floor((Ln-dn)/lr)+1,Jn=new Array(Mn),qn=0;qn<Mn;qn++)Jn[qn]=dr(dn+qn*lr);return{min:dn,max:Ln,ticks:Jn}}function xe(ie){var ue=ie.exponent,me=ie.tickCount,Le=Math.ceil(ft(ue,ie.max)),Xe=Math.floor(ft(ue,ie.min)),$e=Ce(Xe,Le,me).ticks;return $e.map(function(mr){var kr=mr>=0?1:-1;return Math.pow(mr,ue)*kr})}function ve(ie,ue){var me=ie.length*ue;return ue===1?ie[ie.length-1]:ue===0?ie[0]:me%1!=0?ie[Math.ceil(me)-1]:ie.length%2==0?(ie[me-1]+ie[me])/2:ie[me]}function Ue(ie){var ue=ie.tickCount,me=ie.values;if(!me||!me.length)return[];for(var Le=me.slice().sort(function(kr,$r){return kr-$r}),Xe=[],$e=0;$e<ue;$e++){var mr=$e/(ue-1);Xe.push(ve(Le,mr))}return Xe}function Ne(ie){var ue=ie.min,me=ie.max,Le=ie.tickCount,Xe=ie.tickInterval,$e=ie.minLimit,mr=ie.maxLimit,kr=Ce(ue,me,Le).ticks;return!(0,d.isNil)($e)||!(0,d.isNil)(mr)?_e(ie,(0,d.head)(kr),(0,d.last)(kr)):Xe?be(ue,me,Xe).ticks:kr}function tr(ie){var ue=ie.min,me=ie.max,Le=ie.minTickInterval,Xe=ie.tickInterval,$e=ie.tickCount;if(Xe)$e=Math.ceil((me-ue)/Xe);else{Xe=ut(ue,me,$e)[1];var mr=(me-ue)/Xe,kr=mr/$e;kr>1&&(Xe=Xe*Math.ceil(kr)),Le&&Xe<Le&&(Xe=Le)}Xe=Math.max(Math.floor((me-ue)/(Math.pow(2,12)-1)),Xe);for(var $r=[],lr=ue;lr<me+Xe;lr+=Xe)$r.push(lr);return $r}function Er(ie){var ue=Dt((0,E.__assign)({showLast:!0},ie));return ue}function hr(ie){return new Date(ie).getFullYear()}function Tr(ie){return new Date(ie,0,1).getTime()}function _r(ie){return new Date(ie).getMonth()}function Nr(ie,ue){var me=hr(ie),Le=hr(ue),Xe=_r(ie),$e=_r(ue);return(Le-me)*12+($e-Xe)%12}function ir(ie,ue){return new Date(ie,ue,1).getTime()}function wr(ie,ue){return Math.ceil((ue-ie)/z)}function Zr(ie,ue){return Math.ceil((ue-ie)/B)}function Wr(ie,ue){return Math.ceil((ue-ie)/(60*1e3))}function Qr(ie){var ue=ie.min,me=ie.max,Le=ie.minTickInterval,Xe=ie.tickCount,$e=ie.tickInterval,mr=[];$e||($e=(me-ue)/Xe,Le&&$e<Le&&($e=Le)),$e=Math.max(Math.floor((me-ue)/(Math.pow(2,12)-1)),$e);var kr=hr(ue);if($e>R)for(var $r=hr(me),lr=Math.ceil($e/R),Gr=kr;Gr<=$r+lr;Gr=Gr+lr)mr.push(Tr(Gr));else if($e>W)for(var bn=Math.ceil($e/W),Ln=_r(ue),dn=Nr(ue,me),Gr=0;Gr<=dn+bn;Gr=Gr+bn)mr.push(ir(kr,Gr+Ln));else if($e>z)for(var Mn=new Date(ue),Jn=Mn.getFullYear(),qn=Mn.getMonth(),ui=Mn.getDate(),Fn=Math.ceil($e/z),Pi=wr(ue,me),Gr=0;Gr<Pi+Fn;Gr=Gr+Fn)mr.push(new Date(Jn,qn,ui+Gr).getTime());else if($e>B)for(var Mn=new Date(ue),Jn=Mn.getFullYear(),qn=Mn.getMonth(),Fn=Mn.getDate(),Bt=Mn.getHours(),G=Math.ceil($e/B),V=Zr(ue,me),Gr=0;Gr<=V+G;Gr=Gr+G)mr.push(new Date(Jn,qn,Fn,Bt+Gr).getTime());else if($e>_)for(var Y=Wr(ue,me),Z=Math.ceil($e/_),Gr=0;Gr<=Y+Z;Gr=Gr+Z)mr.push(ue+Gr*_);else{var Ct=$e;Ct<k&&(Ct=k);for(var _t=Math.floor(ue/k)*k,Wt=Math.ceil((me-ue)/k),Jt=Math.ceil(Ct/k),Gr=0;Gr<Wt+Jt;Gr=Gr+Jt)mr.push(_t+Gr*k)}return mr.length>=512&&console.warn("Notice: current ticks length("+mr.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+$e+") is too small, increase the value to solve the problem!"),mr}I("cat",Dt),I("time-cat",Er),I("wilkinson-extended",jt),I("r-pretty",Ne),I("time",tr),I("time-pretty",Qr),I("log",fe),I("pow",xe),I("quantile",Ue),I("d3-linear",Qe),Rt("cat",y),Rt("category",y),Rt("identity",At),Rt("linear",J),Rt("log",Q),Rt("pow",vt),Rt("time",Qt),Rt("timeCat",dt),Rt("quantize",$t),Rt("quantile",he)},49242:function(ct,C,v){"use strict";v.r(C),v.d(C,{Cache:function(){return Pn},assign:function(){return ta},augment:function(){return ba},clamp:function(){return hr},clearAnimationFrame:function(){return Ni},clone:function(){return Va},contains:function(){return I},debounce:function(){return To},deepMix:function(){return ht},difference:function(){return S},each:function(){return z},endsWith:function(){return ne},every:function(){return ye},extend:function(){return Vt},filter:function(){return A},find:function(){return J},findIndex:function(){return rt},firstValue:function(){return wt},fixedBase:function(){return _r},flatten:function(){return it},flattenDeep:function(){return f},forIn:function(){return G},get:function(){return F},getEllipsisText:function(){return An},getRange:function(){return Se},getType:function(){return Fr},getWrapBehavior:function(){return jt},group:function(){return kt},groupBy:function(){return st},groupToMap:function(){return gt},has:function(){return V},hasKey:function(){return Y},hasValue:function(){return _t},head:function(){return _e},identity:function(){return pr},includes:function(){return I},indexOf:function(){return Ee},isArguments:function(){return Jr},isArray:function(){return k},isArrayLike:function(){return T},isBoolean:function(){return Tn},isDate:function(){return Yn},isDecimal:function(){return Zr},isElement:function(){return Oa},isEmpty:function(){return Je},isEqual:function(){return sr},isEqualWith:function(){return Ir},isError:function(){return Fi},isEven:function(){return Qr},isFinite:function(){return gi},isFunction:function(){return m},isInteger:function(){return ue},isMatch:function(){return ut},isNegative:function(){return Le},isNil:function(){return M},isNull:function(){return Ji},isNumber:function(){return ir},isNumberEqual:function(){return $e},isObject:function(){return _},isObjectLike:function(){return dt},isOdd:function(){return kr},isPlainObject:function(){return yt},isPositive:function(){return lr},isPrototype:function(){return aa},isRegExp:function(){return Mi},isString:function(){return Tt},isType:function(){return p},isUndefined:function(){return Ri},keys:function(){return R},last:function(){return Qe},lowerCase:function(){return ee},lowerFirst:function(){return Ge},map:function(){return qr},mapValues:function(){return bt},max:function(){return vt},maxBy:function(){return Gr},measureTextWidth:function(){return rn},memoize:function(){return co},min:function(){return It},minBy:function(){return bn},mix:function(){return ta},mod:function(){return dn},noop:function(){return Ze},number2color:function(){return Ue},omit:function(){return Gt},parseRadius:function(){return tr},pick:function(){return Mt},pull:function(){return le},pullAt:function(){return At},reduce:function(){return j},remove:function(){return et},requestAnimationFrame:function(){return Ia},set:function(){return U},size:function(){return Cr},some:function(){return De},sortBy:function(){return Ut},startsWith:function(){return ur},substitute:function(){return or},throttle:function(){return Kt},toArray:function(){return ge},toDegree:function(){return qn},toInteger:function(){return ui},toRadian:function(){return Bt},toString:function(){return Wt},union:function(){return Zt},uniq:function(){return Oe},uniqueId:function(){return Ye},upperCase:function(){return ze},upperFirst:function(){return Br},values:function(){return Ct},valuesOfKey:function(){return be},wrapBehavior:function(){return Ce}});var d=function(zt){return zt!==null&&typeof zt!="function"&&isFinite(zt.length)},T=d,P=function(zt,pe){return T(zt)?zt.indexOf(pe)>-1:!1},I=P,O=function(zt,pe){if(!T(zt))return zt;for(var ke=[],Ve=0;Ve<zt.length;Ve++){var cr=zt[Ve];pe(cr,Ve)&&ke.push(cr)}return ke},A=O,E=function(zt,pe){return pe===void 0&&(pe=[]),A(zt,function(ke){return!I(pe,ke)})},S=E,y={}.toString,b=function(zt,pe){return y.call(zt)==="[object "+pe+"]"},p=b,m=function(zt){return p(zt,"Function")},x=function(zt){return zt==null},M=x,k=function(zt){return Array.isArray?Array.isArray(zt):p(zt,"Array")},_=function(zt){var pe=typeof zt;return zt!==null&&pe==="object"||pe==="function"};function B(zt,pe){if(!!zt){var ke;if(k(zt))for(var Ve=0,cr=zt.length;Ve<cr&&(ke=pe(zt[Ve],Ve),ke!==!1);Ve++);else if(_(zt)){for(var Rr in zt)if(zt.hasOwnProperty(Rr)&&(ke=pe(zt[Rr],Rr),ke===!1))break}}}var z=B,W=Object.keys?function(zt){return Object.keys(zt)}:function(zt){var pe=[];return z(zt,function(ke,Ve){m(zt)&&Ve==="prototype"||pe.push(Ve)}),pe},R=W;function K(zt,pe){var ke=R(pe),Ve=ke.length;if(M(zt))return!Ve;for(var cr=0;cr<Ve;cr+=1){var Rr=ke[cr];if(pe[Rr]!==zt[Rr]||!(Rr in zt))return!1}return!0}var ut=K,ot=function(zt){return typeof zt=="object"&&zt!==null},dt=ot,nt=function(zt){if(!dt(zt)||!p(zt,"Object"))return!1;if(Object.getPrototypeOf(zt)===null)return!0;for(var pe=zt;Object.getPrototypeOf(pe)!==null;)pe=Object.getPrototypeOf(pe);return Object.getPrototypeOf(zt)===pe},yt=nt;function tt(zt,pe){if(!k(zt))return null;var ke;if(m(pe)&&(ke=pe),yt(pe)&&(ke=function(cr){return ut(cr,pe)}),ke){for(var Ve=0;Ve<zt.length;Ve+=1)if(ke(zt[Ve]))return zt[Ve]}return null}var J=tt;function ft(zt,pe,ke){ke===void 0&&(ke=0);for(var Ve=ke;Ve<zt.length;Ve++)if(pe(zt[Ve],Ve))return Ve;return-1}var rt=ft,St=function(zt,pe){for(var ke=null,Ve=0;Ve<zt.length;Ve++){var cr=zt[Ve],Rr=cr[pe];if(!M(Rr)){k(Rr)?ke=Rr[0]:ke=Rr;break}}return ke},wt=St,q=function(zt){if(!k(zt))return[];for(var pe=[],ke=0;ke<zt.length;ke++)pe=pe.concat(zt[ke]);return pe},it=q,Q=function(zt,pe){if(pe===void 0&&(pe=[]),!k(zt))pe.push(zt);else for(var ke=0;ke<zt.length;ke+=1)Q(zt[ke],pe);return pe},f=Q,vt=function(zt){if(!!k(zt))return zt.reduce(function(pe,ke){return Math.max(pe,ke)},zt[0])},It=function(zt){if(!!k(zt))return zt.reduce(function(pe,ke){return Math.min(pe,ke)},zt[0])},Qt=function(zt){var pe=zt.filter(function(cn){return!isNaN(cn)});if(!pe.length)return{min:0,max:0};if(k(zt[0])){for(var ke=[],Ve=0;Ve<zt.length;Ve++)ke=ke.concat(zt[Ve]);pe=ke}var cr=vt(pe),Rr=It(pe);return{min:Rr,max:cr}},Se=Qt,$t=Array.prototype,re=$t.splice,he=$t.indexOf,Me=function(zt){for(var pe=[],ke=1;ke<arguments.length;ke++)pe[ke-1]=arguments[ke];for(var Ve=0;Ve<pe.length;Ve++)for(var cr=pe[Ve],Rr=-1;(Rr=he.call(zt,cr))>-1;)re.call(zt,Rr,1);return zt},le=Me,Rt=Array.prototype.splice,Ot=function(pe,ke){if(!T(pe))return[];for(var Ve=pe?ke.length:0,cr=Ve-1;Ve--;){var Rr=void 0,cn=ke[Ve];(Ve===cr||cn!==Rr)&&(Rr=cn,Rt.call(pe,cn,1))}return pe},At=Ot,Dt=function(zt,pe,ke){if(!k(zt)&&!yt(zt))return zt;var Ve=ke;return z(zt,function(cr,Rr){Ve=pe(Ve,cr,Rr)}),Ve},j=Dt,$=function(zt,pe){var ke=[];if(!T(zt))return ke;for(var Ve=-1,cr=[],Rr=zt.length;++Ve<Rr;){var cn=zt[Ve];pe(cn,Ve,zt)&&(ke.push(cn),cr.push(Ve))}return At(zt,cr),ke},et=$,Tt=function(zt){return p(zt,"String")};function Nt(zt,pe){var ke;if(m(pe))ke=function(cr,Rr){return pe(cr)-pe(Rr)};else{var Ve=[];Tt(pe)?Ve.push(pe):k(pe)&&(Ve=pe),ke=function(cr,Rr){for(var cn=0;cn<Ve.length;cn+=1){var Rn=Ve[cn];if(cr[Rn]>Rr[Rn])return 1;if(cr[Rn]<Rr[Rn])return-1}return 0}}return zt.sort(ke),zt}var Ut=Nt;function Oe(zt,pe){pe===void 0&&(pe=new Map);var ke=[];if(Array.isArray(zt))for(var Ve=0,cr=zt.length;Ve<cr;Ve++){var Rr=zt[Ve];pe.has(Rr)||(ke.push(Rr),pe.set(Rr,!0))}return ke}var He=function(){for(var zt=[],pe=0;pe<arguments.length;pe++)zt[pe]=arguments[pe];return Oe([].concat.apply([],zt))},Zt=He,be=function(zt,pe){for(var ke=[],Ve={},cr=0;cr<zt.length;cr++){var Rr=zt[cr],cn=Rr[pe];if(!M(cn)){k(cn)||(cn=[cn]);for(var Rn=0;Rn<cn.length;Rn++){var bi=cn[Rn];Ve[bi]||(ke.push(bi),Ve[bi]=!0)}}}return ke};function _e(zt){if(T(zt))return zt[0]}function Qe(zt){if(T(zt)){var pe=zt;return pe[pe.length-1]}}function dr(zt,pe){return k(zt)||Tt(zt)?zt[0]===pe:!1}var ur=dr;function Dr(zt,pe){return k(zt)||Tt(zt)?zt[zt.length-1]===pe:!1}var ne=Dr,se=function(zt,pe){for(var ke=0;ke<zt.length;ke++)if(!pe(zt[ke],ke))return!1;return!0},ye=se,We=function(zt,pe){for(var ke=0;ke<zt.length;ke++)if(pe(zt[ke],ke))return!0;return!1},De=We,ae=Object.prototype.hasOwnProperty;function Yt(zt,pe){if(!pe||!k(zt))return{};for(var ke={},Ve=m(pe)?pe:function(Rn){return Rn[pe]},cr,Rr=0;Rr<zt.length;Rr++){var cn=zt[Rr];cr=Ve(cn),ae.call(ke,cr)?ke[cr].push(cn):ke[cr]=[cn]}return ke}var st=Yt;function gt(zt,pe){if(!pe)return{0:zt};if(!m(pe)){var ke=k(pe)?pe:pe.replace(/\s+/g,"").split("*");pe=function(Ve){for(var cr="_",Rr=0,cn=ke.length;Rr<cn;Rr++)cr+=Ve[ke[Rr]]&&Ve[ke[Rr]].toString();return cr}}return st(zt,pe)}var kt=function(zt,pe){if(!pe)return[zt];var ke=gt(zt,pe),Ve=[];for(var cr in ke)Ve.push(ke[cr]);return Ve};function Ft(zt,pe){return zt["_wrap_"+pe]}var jt=Ft;function fe(zt,pe){if(zt["_wrap_"+pe])return zt["_wrap_"+pe];var ke=function(Ve){zt[pe](Ve)};return zt["_wrap_"+pe]=ke,ke}var Ce=fe,xe={};function ve(zt){var pe=xe[zt];if(!pe){for(var ke=zt.toString(16),Ve=ke.length;Ve<6;Ve++)ke="0"+ke;pe="#"+ke,xe[zt]=pe}return pe}var Ue=ve;function Ne(zt){var pe=0,ke=0,Ve=0,cr=0;return k(zt)?zt.length===1?pe=ke=Ve=cr=zt[0]:zt.length===2?(pe=Ve=zt[0],ke=cr=zt[1]):zt.length===3?(pe=zt[0],ke=cr=zt[1],Ve=zt[2]):(pe=zt[0],ke=zt[1],Ve=zt[2],cr=zt[3]):pe=ke=Ve=cr=zt,{r1:pe,r2:ke,r3:Ve,r4:cr}}var tr=Ne,Er=function(zt,pe,ke){return zt<pe?pe:zt>ke?ke:zt},hr=Er,Tr=function(zt,pe){var ke=pe.toString(),Ve=ke.indexOf(".");if(Ve===-1)return Math.round(zt);var cr=ke.substr(Ve+1).length;return cr>20&&(cr=20),parseFloat(zt.toFixed(cr))},_r=Tr,Nr=function(zt){return p(zt,"Number")},ir=Nr,wr=function(zt){return ir(zt)&&zt%1!=0},Zr=wr,Wr=function(zt){return ir(zt)&&zt%2==0},Qr=Wr,ie=Number.isInteger?Number.isInteger:function(zt){return ir(zt)&&zt%1==0},ue=ie,me=function(zt){return ir(zt)&&zt<0},Le=me,Xe=1e-5;function $e(zt,pe,ke){return ke===void 0&&(ke=Xe),Math.abs(zt-pe)<ke}var mr=function(zt){return ir(zt)&&zt%2!=0},kr=mr,$r=function(zt){return ir(zt)&&zt>0},lr=$r,Gr=function(zt,pe){if(!!k(zt)){for(var ke,Ve=-Infinity,cr=0;cr<zt.length;cr++){var Rr=zt[cr],cn=m(pe)?pe(Rr):Rr[pe];cn>Ve&&(ke=Rr,Ve=cn)}return ke}},bn=function(zt,pe){if(!!k(zt)){for(var ke,Ve=Infinity,cr=0;cr<zt.length;cr++){var Rr=zt[cr],cn=m(pe)?pe(Rr):Rr[pe];cn<Ve&&(ke=Rr,Ve=cn)}return ke}},Ln=function(zt,pe){return(zt%pe+pe)%pe},dn=Ln,Mn=180/Math.PI,Jn=function(zt){return Mn*zt},qn=Jn,ui=parseInt,Fn=Math.PI/180,Pi=function(zt){return Fn*zt},Bt=Pi,G=z,V=function(zt,pe){return zt.hasOwnProperty(pe)},Y=V,Z=Object.values?function(zt){return Object.values(zt)}:function(zt){var pe=[];return z(zt,function(ke,Ve){m(zt)&&Ve==="prototype"||pe.push(ke)}),pe},Ct=Z,_t=function(zt,pe){return I(Ct(zt),pe)},Wt=function(zt){return M(zt)?"":zt.toString()},Jt=function(zt){return Wt(zt).toLowerCase()},ee=Jt,Be=function(zt){var pe=Wt(zt);return pe.charAt(0).toLowerCase()+pe.substring(1)},Ge=Be;function Fe(zt,pe){return!zt||!pe?zt:zt.replace(/\\?\{([^{}]+)\}/g,function(ke,Ve){return ke.charAt(0)==="\\"?ke.slice(1):pe[Ve]===void 0?"":pe[Ve]})}var or=Fe,fr=function(zt){return Wt(zt).toUpperCase()},ze=fr,gr=function(zt){var pe=Wt(zt);return pe.charAt(0).toUpperCase()+pe.substring(1)},Br=gr,en={}.toString,Yr=function(zt){return en.call(zt).replace(/^\[object /,"").replace(/]$/,"")},Fr=Yr,Sr=function(zt){return p(zt,"Arguments")},Jr=Sr,vn=function(zt){return p(zt,"Boolean")},Tn=vn,Gn=function(zt){return p(zt,"Date")},Yn=Gn,Oi=function(zt){return p(zt,"Error")},Fi=Oi;function gi(zt){return ir(zt)&&isFinite(zt)}var Wi=function(zt){return zt===null},Ji=Wi,qi=Object.prototype,gn=function(zt){var pe=zt&&zt.constructor,ke=typeof pe=="function"&&pe.prototype||qi;return zt===ke},aa=gn,ti=function(zt){return p(zt,"RegExp")},Mi=ti,za=function(zt){return zt===void 0},Ri=za,ma=function(zt){return zt instanceof Element||zt instanceof HTMLDocument},Oa=ma;function Ia(zt){var pe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(ke){return setTimeout(ke,16)};return pe(zt)}function Ni(zt){var pe=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;pe(zt)}function xa(zt,pe){for(var ke in pe)pe.hasOwnProperty(ke)&&ke!=="constructor"&&pe[ke]!==void 0&&(zt[ke]=pe[ke])}function ta(zt,pe,ke,Ve){return pe&&xa(zt,pe),ke&&xa(zt,ke),Ve&&xa(zt,Ve),zt}var Ei=function(){for(var zt=[],pe=0;pe<arguments.length;pe++)zt[pe]=arguments[pe];for(var ke=zt[0],Ve=1;Ve<zt.length;Ve++){var cr=zt[Ve];m(cr)&&(cr=cr.prototype),ta(ke.prototype,cr)}},ba=Ei,ji=function(zt){if(typeof zt!="object"||zt===null)return zt;var pe;if(k(zt)){pe=[];for(var ke=0,Ve=zt.length;ke<Ve;ke++)typeof zt[ke]=="object"&&zt[ke]!=null?pe[ke]=ji(zt[ke]):pe[ke]=zt[ke]}else{pe={};for(var cr in zt)typeof zt[cr]=="object"&&zt[cr]!=null?pe[cr]=ji(zt[cr]):pe[cr]=zt[cr]}return pe},Va=ji;function wa(zt,pe,ke){var Ve;return function(){var cr=this,Rr=arguments,cn=function(){Ve=null,ke||zt.apply(cr,Rr)},Rn=ke&&!Ve;clearTimeout(Ve),Ve=setTimeout(cn,pe),Rn&&zt.apply(cr,Rr)}}var To=wa,co=function(zt,pe){if(!m(zt))throw new TypeError("Expected a function");var ke=function(){for(var Ve=[],cr=0;cr<arguments.length;cr++)Ve[cr]=arguments[cr];var Rr=pe?pe.apply(this,Ve):Ve[0],cn=ke.cache;if(cn.has(Rr))return cn.get(Rr);var Rn=zt.apply(this,Ve);return cn.set(Rr,Rn),Rn};return ke.cache=new Map,ke},Et=5;function pt(zt,pe,ke,Ve){ke=ke||0,Ve=Ve||Et;for(var cr in pe)if(pe.hasOwnProperty(cr)){var Rr=pe[cr];Rr!==null&&yt(Rr)?(yt(zt[cr])||(zt[cr]={}),ke<Ve?pt(zt[cr],Rr,ke+1,Ve):zt[cr]=pe[cr]):k(Rr)?(zt[cr]=[],zt[cr]=zt[cr].concat(Rr)):Rr!==void 0&&(zt[cr]=Rr)}}var at=function(zt){for(var pe=[],ke=1;ke<arguments.length;ke++)pe[ke-1]=arguments[ke];for(var Ve=0;Ve<pe.length;Ve+=1)pt(zt,pe[Ve]);return zt},ht=at,Lt=function(zt,pe,ke,Ve){m(pe)||(ke=pe,pe=zt,zt=function(){});var cr=Object.create?function(cn,Rn){return Object.create(cn,{constructor:{value:Rn}})}:function(cn,Rn){function bi(){}bi.prototype=cn;var Ii=new bi;return Ii.constructor=Rn,Ii},Rr=cr(pe.prototype,zt);return zt.prototype=ta(Rr,zt.prototype),zt.superclass=cr(pe.prototype,pe),ta(Rr,ke),ta(zt,Ve),zt},Vt=Lt,de=function(zt,pe){if(!T(zt))return-1;var ke=Array.prototype.indexOf;if(ke)return ke.call(zt,pe);for(var Ve=-1,cr=0;cr<zt.length;cr++)if(zt[cr]===pe){Ve=cr;break}return Ve},Ee=de,Ae=Object.prototype.hasOwnProperty;function Re(zt){if(M(zt))return!0;if(T(zt))return!zt.length;var pe=Fr(zt);if(pe==="Map"||pe==="Set")return!zt.size;if(aa(zt))return!Object.keys(zt).length;for(var ke in zt)if(Ae.call(zt,ke))return!1;return!0}var Je=Re,qe=function(zt,pe){if(zt===pe)return!0;if(!zt||!pe||Tt(zt)||Tt(pe))return!1;if(T(zt)||T(pe)){if(zt.length!==pe.length)return!1;for(var ke=!0,Ve=0;Ve<zt.length&&(ke=qe(zt[Ve],pe[Ve]),!!ke);Ve++);return ke}if(dt(zt)||dt(pe)){var cr=Object.keys(zt),Rr=Object.keys(pe);if(cr.length!==Rr.length)return!1;for(var ke=!0,Ve=0;Ve<cr.length&&(ke=qe(zt[cr[Ve]],pe[cr[Ve]]),!!ke);Ve++);return ke}return!1},sr=qe,Ir=function(zt,pe,ke){return m(ke)?!!ke(zt,pe):sr(zt,pe)},er=function(zt,pe){if(!T(zt))return zt;for(var ke=[],Ve=0;Ve<zt.length;Ve++){var cr=zt[Ve];ke.push(pe(cr,Ve))}return ke},qr=er,Xt=function(zt){return zt},bt=function(zt,pe){pe===void 0&&(pe=Xt);var ke={};return _(zt)&&!M(zt)&&Object.keys(zt).forEach(function(Ve){ke[Ve]=pe(zt[Ve],Ve)}),ke},F=function(zt,pe,ke){for(var Ve=0,cr=Tt(pe)?pe.split("."):pe;zt&&Ve<cr.length;)zt=zt[cr[Ve++]];return zt===void 0||Ve<cr.length?ke:zt},U=function(zt,pe,ke){var Ve=zt,cr=Tt(pe)?pe.split("."):pe;return cr.forEach(function(Rr,cn){cn<cr.length-1?(_(Ve[Rr])||(Ve[Rr]=ir(cr[cn+1])?[]:{}),Ve=Ve[Rr]):Ve[Rr]=ke}),zt},lt=Object.prototype.hasOwnProperty,Mt=function(zt,pe){if(zt===null||!yt(zt))return{};var ke={};return z(pe,function(Ve){lt.call(zt,Ve)&&(ke[Ve]=zt[Ve])}),ke},Gt=function(zt,pe){return j(zt,function(ke,Ve,cr){return pe.includes(cr)||(ke[cr]=Ve),ke},{})},Kt=function(zt,pe,ke){var Ve,cr,Rr,cn,Rn=0;ke||(ke={});var bi=function(){Rn=ke.leading===!1?0:Date.now(),Ve=null,cn=zt.apply(cr,Rr),Ve||(cr=Rr=null)},Ii=function(){var oa=Date.now();!Rn&&ke.leading===!1&&(Rn=oa);var Po=pe-(oa-Rn);return cr=this,Rr=arguments,Po<=0||Po>pe?(Ve&&(clearTimeout(Ve),Ve=null),Rn=oa,cn=zt.apply(cr,Rr),Ve||(cr=Rr=null)):!Ve&&ke.trailing!==!1&&(Ve=setTimeout(bi,Po)),cn};return Ii.cancel=function(){clearTimeout(Ve),Rn=0,Ve=cr=Rr=null},Ii},ge=function(zt){return T(zt)?Array.prototype.slice.call(zt):[]},Te={},Ye=function(zt){return zt=zt||"g",Te[zt]?Te[zt]+=1:Te[zt]=1,zt+Te[zt]},Ze=function(){},pr=function(zt){return zt};function Cr(zt){return M(zt)?0:T(zt)?zt.length:Object.keys(zt).length}var Vr=v(70655),sn,rn=co(function(zt,pe){pe===void 0&&(pe={});var ke=pe.fontSize,Ve=pe.fontFamily,cr=pe.fontWeight,Rr=pe.fontStyle,cn=pe.fontVariant;return sn||(sn=document.createElement("canvas").getContext("2d")),sn.font=[Rr,cn,cr,ke+"px",Ve].join(" "),sn.measureText(Tt(zt)?zt:"").width},function(zt,pe){return pe===void 0&&(pe={}),(0,Vr.__spreadArrays)([zt],Ct(pe)).join("")}),An=function(zt,pe,ke,Ve){Ve===void 0&&(Ve="...");var cr=16,Rr=rn(Ve,ke),cn=Tt(zt)?zt:Wt(zt),Rn=pe,bi=[],Ii,oa;if(rn(zt,ke)<=pe)return zt;for(;Ii=cn.substr(0,cr),oa=rn(Ii,ke),!(oa+Rr>Rn&&oa>Rn);)if(bi.push(Ii),Rn-=oa,cn=cn.substr(cr),!cn)return bi.join("");for(;Ii=cn.substr(0,1),oa=rn(Ii,ke),!(oa+Rr>Rn);)if(bi.push(Ii),Rn-=oa,cn=cn.substr(1),!cn)return bi.join("");return""+bi.join("")+Ve},In=function(){function zt(){this.map={}}return zt.prototype.has=function(pe){return this.map[pe]!==void 0},zt.prototype.get=function(pe,ke){var Ve=this.map[pe];return Ve===void 0?ke:Ve},zt.prototype.set=function(pe,ke){this.map[pe]=ke},zt.prototype.clear=function(){this.map={}},zt.prototype.delete=function(pe){delete this.map[pe]},zt.prototype.size=function(){return Object.keys(this.map).length},zt}(),Pn=In},99581:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66974),T=v(46812),P=function(){for(var I=[],O=0;O<arguments.length;O++)I[O]=arguments[O];for(var A=I[0],E=1;E<I.length;E++){var S=I[E];T.default(S)&&(S=S.prototype),d.default(A.prototype,S)}};C.default=P},68039:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(){function d(){this.map={}}return d.prototype.has=function(T){return this.map[T]!==void 0},d.prototype.get=function(T,P){var I=this.map[T];return I===void 0?P:I},d.prototype.set=function(T,P){this.map[T]=P},d.prototype.clear=function(){this.map={}},d.prototype.delete=function(T){delete this.map[T]},d.prototype.size=function(){return Object.keys(this.map).length},d}();C.default=v},37339:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(d,T,P){return d<T?T:d>P?P:d};C.default=v},35755:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function v(d){var T=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;T(d)}C.default=v},8289:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=function(P){if(typeof P!="object"||P===null)return P;var I;if(d.default(P)){I=[];for(var O=0,A=P.length;O<A;O++)typeof P[O]=="object"&&P[O]!=null?I[O]=T(P[O]):I[O]=P[O]}else{I={};for(var E in P)typeof P[E]=="object"&&P[E]!=null?I[E]=T(P[E]):I[E]=P[E]}return I};C.default=T},75349:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(48102),T=function(P,I){return d.default(P)?P.indexOf(I)>-1:!1};C.default=T},79663:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function v(d,T,P){var I;return function(){var O=this,A=arguments,E=function(){I=null,P||d.apply(O,A)},S=P&&!I;clearTimeout(I),I=setTimeout(E,T),S&&d.apply(O,A)}}C.default=v},90497:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=v(15907),P=5;function I(A,E,S,y){S=S||0,y=y||P;for(var b in E)if(E.hasOwnProperty(b)){var p=E[b];p!==null&&T.default(p)?(T.default(A[b])||(A[b]={}),S<y?I(A[b],p,S+1,y):A[b]=E[b]):d.default(p)?(A[b]=[],A[b]=A[b].concat(p)):p!==void 0&&(A[b]=p)}}var O=function(A){for(var E=[],S=1;S<arguments.length;S++)E[S-1]=arguments[S];for(var y=0;y<E.length;y+=1)I(A,E[y]);return A};C.default=O},25430:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(40007),T=v(75349),P=function(I,O){return O===void 0&&(O=[]),d.default(I,function(A){return!T.default(O,A)})};C.default=P},27154:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=v(33643);function P(I,O){if(!!I){var A;if(d.default(I))for(var E=0,S=I.length;E<S&&(A=O(I[E],E),A!==!1);E++);else if(T.default(I)){for(var y in I)if(I.hasOwnProperty(y)&&(A=O(I[y],y),A===!1))break}}}C.default=P},61846:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=v(21830);function P(I,O){return d.default(I)||T.default(I)?I[I.length-1]===O:!1}C.default=P},8153:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(d,T){for(var P=0;P<d.length;P++)if(!T(d[P],P))return!1;return!0};C.default=v},13829:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66974),T=v(46812),P=function(I,O,A,E){T.default(O)||(A=O,O=I,I=function(){});var S=Object.create?function(b,p){return Object.create(b,{constructor:{value:p}})}:function(b,p){function m(){}m.prototype=b;var x=new m;return x.constructor=p,x},y=S(O.prototype,I);return I.prototype=d.default(y,I.prototype),I.superclass=S(O.prototype,O),d.default(y,A),d.default(I,E),I};C.default=P},40007:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(48102),T=function(P,I){if(!d.default(P))return P;for(var O=[],A=0;A<P.length;A++){var E=P[A];I(E,A)&&O.push(E)}return O};C.default=T},90871:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function v(d,T,P){P===void 0&&(P=0);for(var I=P;I<d.length;I++)if(T(d[I],I))return I;return-1}C.default=v},32114:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(46812),T=v(20253),P=v(66631),I=v(15907);function O(A,E){if(!P.default(A))return null;var S;if(d.default(E)&&(S=E),I.default(E)&&(S=function(b){return T.default(b,E)}),S){for(var y=0;y<A.length;y+=1)if(S(A[y]))return A[y]}return null}C.default=O},84521:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(73890),T=v(66631),P=function(I,O){for(var A=null,E=0;E<I.length;E++){var S=I[E],y=S[O];if(!d.default(y)){T.default(y)?A=y[0]:A=y;break}}return A};C.default=P},14266:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(d,T){var P=T.toString(),I=P.indexOf(".");if(I===-1)return Math.round(d);var O=P.substr(I+1).length;return O>20&&(O=20),parseFloat(d.toFixed(O))};C.default=v},61917:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=function(P,I){if(I===void 0&&(I=[]),!d.default(P))I.push(P);else for(var O=0;O<P.length;O+=1)T(P[O],I);return I};C.default=T},30267:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=function(P){if(!d.default(P))return[];for(var I=[],O=0;O<P.length;O++)I=I.concat(P[O]);return I};C.default=T},8361:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(27154);C.default=d.default},65616:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(21830),T=v(78127),P=v(13754);C.default=function(I,O,A,E){E===void 0&&(E="...");var S=16,y=P.default(E,A),b=d.default(I)?I:T.default(I),p=O,m=[],x,M;if(P.default(I,A)<=O)return I;for(;x=b.substr(0,S),M=P.default(x,A),!(M+y>p&&M>p);)if(m.push(x),p-=M,b=b.substr(S),!b)return m.join("");for(;x=b.substr(0,1),M=P.default(x,A),!(M+y>p);)if(m.push(x),p-=M,b=b.substr(1),!b)return m.join("");return""+m.join("")+E}},83236:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=v(14705),P=v(45356),I=function(O){var A=O.filter(function(p){return!isNaN(p)});if(!A.length)return{min:0,max:0};if(d.default(O[0])){for(var E=[],S=0;S<O.length;S++)E=E.concat(O[S]);A=E}var y=T.default(A),b=P.default(A);return{min:b,max:y}};C.default=I},89175:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v={}.toString,d=function(T){return v.call(T).replace(/^\[object /,"").replace(/]$/,"")};C.default=d},71668:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function v(d,T){return d["_wrap_"+T]}C.default=v},58070:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(21830);C.default=function(T,P,I){for(var O=0,A=d.default(P)?P.split("."):P;T&&O<A.length;)T=T[A[O++]];return T===void 0||O<A.length?I:T}},54544:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=v(46812),P=Object.prototype.hasOwnProperty;function I(O,A){if(!A||!d.default(O))return{};for(var E={},S=T.default(A)?A:function(m){return m[A]},y,b=0;b<O.length;b++){var p=O[b];y=S(p),P.call(E,y)?E[y].push(p):E[y]=[p]}return E}C.default=I},64725:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=v(46812),P=v(54544);function I(O,A){if(!A)return{0:O};if(!T.default(A)){var E=d.default(A)?A:A.replace(/\s+/g,"").split("*");A=function(S){for(var y="_",b=0,p=E.length;b<p;b++)y+=S[E[b]]&&S[E[b]].toString();return y}}return P.default(O,A)}C.default=I},76772:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(64725);C.default=function(T,P){if(!P)return[T];var I=d.default(T,P),O=[];for(var A in I)O.push(I[A]);return O}},53138:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(57921);C.default=d.default},99969:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(75349),T=v(91161);C.default=function(P,I){return d.default(T.default(P),I)}},57921:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(v,d){return v.hasOwnProperty(d)}},41169:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(48102);function T(P){if(d.default(P))return P[0]}C.default=T},80870:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(v){return v}},40035:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(48102),T=function(P,I){if(!d.default(P))return-1;var O=Array.prototype.indexOf;if(O)return O.call(P,I);for(var A=-1,E=0;E<P.length;E++)if(P[E]===I){A=E;break}return A};C.default=T},50229:function(ct,C,v){"use strict";var d;d={value:!0};var T=v(75349);d={enumerable:!0,get:function(){return T.default}},d={enumerable:!0,get:function(){return T.default}};var P=v(25430);d={enumerable:!0,get:function(){return P.default}};var I=v(32114);d={enumerable:!0,get:function(){return I.default}};var O=v(90871);d={enumerable:!0,get:function(){return O.default}};var A=v(84521);d={enumerable:!0,get:function(){return A.default}};var E=v(30267);d={enumerable:!0,get:function(){return E.default}};var S=v(61917);d={enumerable:!0,get:function(){return S.default}};var y=v(83236);d={enumerable:!0,get:function(){return y.default}};var b=v(5220);d={enumerable:!0,get:function(){return b.default}};var p=v(50779);d={enumerable:!0,get:function(){return p.default}};var m=v(13847);d={enumerable:!0,get:function(){return m.default}};var x=v(89757);d={enumerable:!0,get:function(){return x.default}};var M=v(27599);d={enumerable:!0,get:function(){return M.default}};var k=v(58632);d={enumerable:!0,get:function(){return k.default}};var _=v(12619);d={enumerable:!0,get:function(){return _.default}};var B=v(29208);d={enumerable:!0,get:function(){return B.default}};var z=v(41169);d={enumerable:!0,get:function(){return z.default}};var W=v(95145);d={enumerable:!0,get:function(){return W.default}};var R=v(680);d={enumerable:!0,get:function(){return R.default}};var K=v(61846);d={enumerable:!0,get:function(){return K.default}};var ut=v(40007);d={enumerable:!0,get:function(){return ut.default}};var ot=v(8153);d={enumerable:!0,get:function(){return ot.default}};var dt=v(58175);d={enumerable:!0,get:function(){return dt.default}};var nt=v(76772);d={enumerable:!0,get:function(){return nt.default}};var yt=v(54544);d={enumerable:!0,get:function(){return yt.default}};var tt=v(64725);d={enumerable:!0,get:function(){return tt.default}};var J=v(71668);d={enumerable:!0,get:function(){return J.default}};var ft=v(61262);Object.defineProperty(C,"Ko",{enumerable:!0,get:function(){return ft.default}});var rt=v(45145);d={enumerable:!0,get:function(){return rt.default}};var St=v(85418);d={enumerable:!0,get:function(){return St.default}};var wt=v(37339);d={enumerable:!0,get:function(){return wt.default}};var q=v(14266);d={enumerable:!0,get:function(){return q.default}};var it=v(51008);d={enumerable:!0,get:function(){return it.default}};var Q=v(45420);d={enumerable:!0,get:function(){return Q.default}};var f=v(68221);d={enumerable:!0,get:function(){return f.default}};var vt=v(58706);d={enumerable:!0,get:function(){return vt.default}};var It=v(39984);d={enumerable:!0,get:function(){return It.default}};var Qt=v(32705);d={enumerable:!0,get:function(){return Qt.default}};var Se=v(75732);d={enumerable:!0,get:function(){return Se.default}};var $t=v(14705);d={enumerable:!0,get:function(){return $t.default}};var re=v(38935);d={enumerable:!0,get:function(){return re.default}};var he=v(45356);d={enumerable:!0,get:function(){return he.default}};var Me=v(89857);d={enumerable:!0,get:function(){return Me.default}};var le=v(5253);d={enumerable:!0,get:function(){return le.default}};var Rt=v(2119);d={enumerable:!0,get:function(){return Rt.default}};var Ot=v(23196);d={enumerable:!0,get:function(){return Ot.default}};var At=v(9217);d={enumerable:!0,get:function(){return At.default}};var Dt=v(8361);d={enumerable:!0,get:function(){return Dt.default}};var j=v(57921);d={enumerable:!0,get:function(){return j.default}};var $=v(53138);d={enumerable:!0,get:function(){return $.default}};var et=v(99969);d={enumerable:!0,get:function(){return et.default}};var Tt=v(85050);d={enumerable:!0,get:function(){return Tt.default}};var Nt=v(20253);d={enumerable:!0,get:function(){return Nt.default}};var Ut=v(91161);d={enumerable:!0,get:function(){return Ut.default}};var Oe=v(88362);d={enumerable:!0,get:function(){return Oe.default}};var He=v(56095);d={enumerable:!0,get:function(){return He.default}};var Zt=v(35541);d={enumerable:!0,get:function(){return Zt.default}};var be=v(72660);d={enumerable:!0,get:function(){return be.default}};var _e=v(85260);d={enumerable:!0,get:function(){return _e.default}};var Qe=v(89175);d={enumerable:!0,get:function(){return Qe.default}};var dr=v(55039);d={enumerable:!0,get:function(){return dr.default}};var ur=v(66631);d={enumerable:!0,get:function(){return ur.default}};var Dr=v(48102);d={enumerable:!0,get:function(){return Dr.default}};var ne=v(25873);d={enumerable:!0,get:function(){return ne.default}};var se=v(79396);d={enumerable:!0,get:function(){return se.default}};var ye=v(56418);d={enumerable:!0,get:function(){return ye.default}};var We=v(46812);d={enumerable:!0,get:function(){return We.default}};var De=v(73420);d={enumerable:!0,get:function(){return De.default}};var ae=v(73890);d={enumerable:!0,get:function(){return ae.default}};var Yt=v(85497);d={enumerable:!0,get:function(){return Yt.default}};var st=v(16185);d={enumerable:!0,get:function(){return st.default}};var gt=v(33643);d={enumerable:!0,get:function(){return gt.default}};var kt=v(70441);d={enumerable:!0,get:function(){return kt.default}};var Ft=v(15907);d={enumerable:!0,get:function(){return Ft.default}};var jt=v(26296);d={enumerable:!0,get:function(){return jt.default}};var fe=v(7877);d={enumerable:!0,get:function(){return fe.default}};var Ce=v(21830);Object.defineProperty(C,"HD",{enumerable:!0,get:function(){return Ce.default}});var xe=v(44235);d={enumerable:!0,get:function(){return xe.default}};var ve=v(25523);d={enumerable:!0,get:function(){return ve.default}};var Ue=v(58417);d={enumerable:!0,get:function(){return Ue.default}};var Ne=v(98229);d={enumerable:!0,get:function(){return Ne.default}};var tr=v(35755);d={enumerable:!0,get:function(){return tr.default}};var Er=v(99581);d={enumerable:!0,get:function(){return Er.default}};var hr=v(8289);Object.defineProperty(C,"d9",{enumerable:!0,get:function(){return hr.default}});var Tr=v(79663);d={enumerable:!0,get:function(){return Tr.default}};var _r=v(99834);d={enumerable:!0,get:function(){return _r.default}};var Nr=v(90497);Object.defineProperty(C,"b$",{enumerable:!0,get:function(){return Nr.default}});var ir=v(27154);Object.defineProperty(C,"S6",{enumerable:!0,get:function(){return ir.default}});var wr=v(13829);d={enumerable:!0,get:function(){return wr.default}};var Zr=v(40035);d={enumerable:!0,get:function(){return Zr.default}};var Wr=v(64029);d={enumerable:!0,get:function(){return Wr.default}};var Qr=v(212);d={enumerable:!0,get:function(){return Qr.default}};var ie=v(18112);d={enumerable:!0,get:function(){return ie.default}};var ue=v(92693);d={enumerable:!0,get:function(){return ue.default}};var me=v(53497);d={enumerable:!0,get:function(){return me.default}};var Le=v(66974);d={enumerable:!0,get:function(){return Le.default}},d={enumerable:!0,get:function(){return Le.default}};var Xe=v(58070);d={enumerable:!0,get:function(){return Xe.default}};var $e=v(64119);d={enumerable:!0,get:function(){return $e.default}};var mr=v(24263);d={enumerable:!0,get:function(){return mr.default}};var kr=v(14179);d={enumerable:!0,get:function(){return kr.default}};var $r=v(60979);d={enumerable:!0,get:function(){return $r.default}};var lr=v(66668);d={enumerable:!0,get:function(){return lr.default}};var Gr=v(78127);d={enumerable:!0,get:function(){return Gr.default}};var bn=v(67250);d={enumerable:!0,get:function(){return bn.default}};var Ln=v(26851);d={enumerable:!0,get:function(){return Ln.default}};var dn=v(80870);d={enumerable:!0,get:function(){return dn.default}};var Mn=v(30597);d={enumerable:!0,get:function(){return Mn.default}};var Jn=v(13754);d={enumerable:!0,get:function(){return Jn.default}};var qn=v(65616);d={enumerable:!0,get:function(){return qn.default}};var ui=v(68039);d={enumerable:!0,get:function(){return ui.default}}},55039:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(44235),T=function(P){return d.default(P,"Arguments")};C.default=T},48102:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(d){return d!==null&&typeof d!="function"&&isFinite(d.length)};C.default=v},66631:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(44235);C.default=function(T){return Array.isArray?Array.isArray(T):d.default(T,"Array")}},25873:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(44235),T=function(P){return d.default(P,"Boolean")};C.default=T},79396:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(44235),T=function(P){return d.default(P,"Date")};C.default=T},51008:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(16185),T=function(P){return d.default(P)&&P%1!=0};C.default=T},58417:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(d){return d instanceof Element||d instanceof HTMLDocument};C.default=v},64029:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(73890),T=v(48102),P=v(89175),I=v(26296),O=Object.prototype.hasOwnProperty;function A(E){if(d.default(E))return!0;if(T.default(E))return!E.length;var S=P.default(E);if(S==="Map"||S==="Set")return!E.size;if(I.default(E))return!Object.keys(E).length;for(var y in E)if(O.call(E,y))return!1;return!0}C.default=A},18112:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(46812),T=v(212);C.default=function(P,I,O){return d.default(O)?!!O(P,I):T.default(P,I)}},212:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(70441),T=v(48102),P=v(21830),I=function(O,A){if(O===A)return!0;if(!O||!A||P.default(O)||P.default(A))return!1;if(T.default(O)||T.default(A)){if(O.length!==A.length)return!1;for(var E=!0,S=0;S<O.length&&(E=I(O[S],A[S]),!!E);S++);return E}if(d.default(O)||d.default(A)){var y=Object.keys(O),b=Object.keys(A);if(y.length!==b.length)return!1;for(var E=!0,S=0;S<y.length&&(E=I(O[y[S]],A[y[S]]),!!E);S++);return E}return!1};C.default=I},56418:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(44235),T=function(P){return d.default(P,"Error")};C.default=T},45420:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(16185),T=function(P){return d.default(P)&&P%2==0};C.default=T},73420:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(16185);function T(P){return d.default(P)&&isFinite(P)}C.default=T},46812:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(44235);C.default=function(T){return d.default(T,"Function")}},68221:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(16185),T=Number.isInteger?Number.isInteger:function(P){return d.default(P)&&P%1==0};C.default=T},20253:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(73890),T=v(85050);function P(I,O){var A=T.default(O),E=A.length;if(d.default(I))return!E;for(var S=0;S<E;S+=1){var y=A[S];if(O[y]!==I[y]||!(y in I))return!1}return!0}C.default=P},58706:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(16185),T=function(P){return d.default(P)&&P<0};C.default=T},73890:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(d){return d==null};C.default=v},85497:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(d){return d===null};C.default=v},39984:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=1e-5;function d(T,P,I){return I===void 0&&(I=v),Math.abs(T-P)<I}C.default=d},16185:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(44235),T=function(P){return d.default(P,"Number")};C.default=T},70441:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(d){return typeof d=="object"&&d!==null};C.default=v},33643:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(v){var d=typeof v;return v!==null&&d==="object"||d==="function"}},32705:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(16185),T=function(P){return d.default(P)&&P%2!=0};C.default=T},15907:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(70441),T=v(44235),P=function(I){if(!d.default(I)||!T.default(I,"Object"))return!1;if(Object.getPrototypeOf(I)===null)return!0;for(var O=I;Object.getPrototypeOf(O)!==null;)O=Object.getPrototypeOf(O);return Object.getPrototypeOf(I)===O};C.default=P},75732:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(16185),T=function(P){return d.default(P)&&P>0};C.default=T},26296:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=Object.prototype,d=function(T){var P=T&&T.constructor,I=typeof P=="function"&&P.prototype||v;return T===I};C.default=d},7877:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(44235),T=function(P){return d.default(P,"RegExp")};C.default=T},21830:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(44235);C.default=function(T){return d.default(T,"String")}},44235:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v={}.toString,d=function(T,P){return v.call(T)==="[object "+P+"]"};C.default=d},25523:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(d){return d===void 0};C.default=v},85050:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(27154),T=v(46812),P=Object.keys?function(I){return Object.keys(I)}:function(I){var O=[];return d.default(I,function(A,E){T.default(I)&&E==="prototype"||O.push(E)}),O};C.default=P},95145:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(48102);function T(P){if(d.default(P)){var I=P;return I[I.length-1]}}C.default=T},88362:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(78127),T=function(P){return d.default(P).toLowerCase()};C.default=T},56095:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(78127),T=function(P){var I=d.default(P);return I.charAt(0).toLowerCase()+I.substring(1)};C.default=T},53497:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(73890),T=v(33643),P=function(I){return I};C.default=function(I,O){O===void 0&&(O=P);var A={};return T.default(I)&&!d.default(I)&&Object.keys(I).forEach(function(E){A[E]=O(I[E],E)}),A}},92693:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(48102),T=function(P,I){if(!d.default(P))return P;for(var O=[],A=0;A<P.length;A++){var E=P[A];O.push(I(E,A))}return O};C.default=T},38935:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=v(46812);C.default=function(P,I){if(!!d.default(P)){for(var O,A=-Infinity,E=0;E<P.length;E++){var S=P[E],y=T.default(I)?I(S):S[I];y>A&&(O=S,A=y)}return O}}},14705:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631);C.default=function(T){if(!!d.default(T))return T.reduce(function(P,I){return Math.max(P,I)},T[0])}},13754:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(70655),T=v(91161),P=v(99834),I=v(21830),O;C.default=P.default(function(A,E){E===void 0&&(E={});var S=E.fontSize,y=E.fontFamily,b=E.fontWeight,p=E.fontStyle,m=E.fontVariant;return O||(O=document.createElement("canvas").getContext("2d")),O.font=[p,m,b,S+"px",y].join(" "),O.measureText(I.default(A)?A:"").width},function(A,E){return E===void 0&&(E={}),d.__spreadArrays([A],T.default(E)).join("")})},99834:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(46812);C.default=function(T,P){if(!d.default(T))throw new TypeError("Expected a function");var I=function(){for(var O=[],A=0;A<arguments.length;A++)O[A]=arguments[A];var E=P?P.apply(this,O):O[0],S=I.cache;if(S.has(E))return S.get(E);var y=T.apply(this,O);return S.set(E,y),y};return I.cache=new Map,I}},89857:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=v(46812);C.default=function(P,I){if(!!d.default(P)){for(var O,A=Infinity,E=0;E<P.length;E++){var S=P[E],y=T.default(I)?I(S):S[I];y<A&&(O=S,A=y)}return O}}},45356:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631);C.default=function(T){if(!!d.default(T))return T.reduce(function(P,I){return Math.min(P,I)},T[0])}},66974:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function v(T,P){for(var I in P)P.hasOwnProperty(I)&&I!=="constructor"&&P[I]!==void 0&&(T[I]=P[I])}function d(T,P,I,O){return P&&v(T,P),I&&v(T,I),O&&v(T,O),T}C.default=d},5253:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(d,T){return(d%T+T)%T};C.default=v},26851:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(){}},45145:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v={};function d(T){var P=v[T];if(!P){for(var I=T.toString(16),O=I.length;O<6;O++)I="0"+I;P="#"+I,v[T]=P}return P}C.default=d},14179:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(13847);C.default=function(T,P){return d.default(T,function(I,O,A){return P.includes(A)||(I[A]=O),I},{})}},85418:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631);function T(P){var I=0,O=0,A=0,E=0;return d.default(P)?P.length===1?I=O=A=E=P[0]:P.length===2?(I=A=P[0],O=E=P[1]):P.length===3?(I=P[0],O=E=P[1],A=P[2]):(I=P[0],O=P[1],A=P[2],E=P[3]):I=O=A=E=P,{r1:I,r2:O,r3:A,r4:E}}C.default=T},24263:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(27154),T=v(15907),P=Object.prototype.hasOwnProperty;C.default=function(I,O){if(I===null||!T.default(I))return{};var A={};return d.default(O,function(E){P.call(I,E)&&(A[E]=I[E])}),A}},50779:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(48102),T=Array.prototype.splice,P=function(O,A){if(!d.default(O))return[];for(var E=O?A.length:0,S=E-1;E--;){var y=void 0,b=A[E];(E===S||b!==y)&&(y=b,T.call(O,b,1))}return O};C.default=P},5220:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=Array.prototype,d=v.splice,T=v.indexOf,P=function(I){for(var O=[],A=1;A<arguments.length;A++)O[A-1]=arguments[A];for(var E=0;E<O.length;E++)for(var S=O[E],y=-1;(y=T.call(I,S))>-1;)d.call(I,y,1);return I};C.default=P},13847:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(27154),T=v(66631),P=v(15907),I=function(O,A,E){if(!T.default(O)&&!P.default(O))return O;var S=E;return d.default(O,function(y,b){S=A(S,y,b)}),S};C.default=I},89757:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(48102),T=v(50779),P=function(I,O){var A=[];if(!d.default(I))return A;for(var E=-1,S=[],y=I.length;++E<y;){var b=I[E];O(b,E,I)&&(A.push(b),S.push(E))}return T.default(I,S),A};C.default=P},98229:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function v(d){var T=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(P){return setTimeout(P,16)};return T(d)}C.default=v},64119:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(33643),T=v(21830),P=v(16185);C.default=function(I,O,A){var E=I,S=T.default(O)?O.split("."):O;return S.forEach(function(y,b){b<S.length-1?(d.default(E[y])||(E[y]=P.default(S[b+1])?[]:{}),E=E[y]):E[y]=A}),I}},30597:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(73890),T=v(48102);function P(I){return d.default(I)?0:T.default(I)?I.length:Object.keys(I).length}C.default=P},58175:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=function(d,T){for(var P=0;P<d.length;P++)if(T(d[P],P))return!0;return!1};C.default=v},27599:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=v(21830),P=v(46812);function I(O,A){var E;if(P.default(A))E=function(y,b){return A(y)-A(b)};else{var S=[];T.default(A)?S.push(A):d.default(A)&&(S=A),E=function(y,b){for(var p=0;p<S.length;p+=1){var m=S[p];if(y[m]>b[m])return 1;if(y[m]<b[m])return-1}return 0}}return O.sort(E),O}C.default=I},680:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=v(21830);function P(I,O){return d.default(I)||T.default(I)?I[0]===O:!1}C.default=P},35541:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function v(d,T){return!d||!T?d:d.replace(/\\?\{([^{}]+)\}/g,function(P,I){return P.charAt(0)==="\\"?P.slice(1):T[I]===void 0?"":T[I]})}C.default=v},60979:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(v,d,T){var P,I,O,A,E=0;T||(T={});var S=function(){E=T.leading===!1?0:Date.now(),P=null,A=v.apply(I,O),P||(I=O=null)},y=function(){var b=Date.now();!E&&T.leading===!1&&(E=b);var p=d-(b-E);return I=this,O=arguments,p<=0||p>d?(P&&(clearTimeout(P),P=null),E=b,A=v.apply(I,O),P||(I=O=null)):!P&&T.trailing!==!1&&(P=setTimeout(S,p)),A};return y.cancel=function(){clearTimeout(P),E=0,P=I=O=null},y}},66668:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(48102);C.default=function(T){return d.default(T)?Array.prototype.slice.call(T):[]}},2119:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=180/Math.PI,d=function(T){return v*T};C.default=d},23196:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.default=parseInt},9217:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v=Math.PI/180,d=function(T){return v*T};C.default=d},78127:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(73890);C.default=function(T){return d.default(T)?"":T.toString()}},58632:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(12619),T=function(){for(var P=[],I=0;I<arguments.length;I++)P[I]=arguments[I];return d.default([].concat.apply([],P))};C.default=T},12619:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function v(d,T){T===void 0&&(T=new Map);var P=[];if(Array.isArray(d))for(var I=0,O=d.length;I<O;I++){var A=d[I];T.has(A)||(P.push(A),T.set(A,!0))}return P}C.default=v},67250:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var v={};C.default=function(d){return d=d||"g",v[d]?v[d]+=1:v[d]=1,d+v[d]}},72660:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(78127),T=function(P){return d.default(P).toUpperCase()};C.default=T},85260:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(78127),T=function(P){var I=d.default(P);return I.charAt(0).toUpperCase()+I.substring(1)};C.default=T},29208:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(66631),T=v(73890);C.default=function(P,I){for(var O=[],A={},E=0;E<P.length;E++){var S=P[E],y=S[I];if(!T.default(y)){d.default(y)||(y=[y]);for(var b=0;b<y.length;b++){var p=y[b];A[p]||(O.push(p),A[p]=!0)}}}return O}},91161:function(ct,C,v){"use strict";Object.defineProperty(C,"__esModule",{value:!0});var d=v(27154),T=v(46812),P=Object.values?function(I){return Object.values(I)}:function(I){var O=[];return d.default(I,function(A,E){T.default(I)&&E==="prototype"||O.push(A)}),O};C.default=P},61262:function(ct,C){"use strict";Object.defineProperty(C,"__esModule",{value:!0});function v(d,T){if(d["_wrap_"+T])return d["_wrap_"+T];var P=function(I){d[T](I)};return d["_wrap_"+T]=P,P}C.default=v},28776:function(ct,C,v){"use strict";v.d(C,{RI:function(){return A},uG:function(){return E},jS:function(){return y},lg:function(){return b},jp:function(){return p},$O:function(){return m},E_:function(){return x},RC:function(){return M},j:function(){return k},ig:function(){return _},kJ:function(){return B}});var d=v(17954),T=v(90386),P=v(8776),I=v(86376),O=v(87742),A=Object.prototype.hasOwnProperty;function E(z,W){var R=z.__typename,K=z.id,ut=z._id;if(typeof R=="string"&&(W&&(W.keyObject=K!==void 0?{id:K}:ut!==void 0?{_id:ut}:void 0),K===void 0&&(K=ut),K!==void 0))return"".concat(R,":").concat(typeof K=="number"||typeof K=="string"?K:JSON.stringify(K))}var S={dataIdFromObject:E,addTypename:!0,resultCaching:!0,canonizeResults:!1};function y(z){return(0,d.o)(S,z)}function b(z){var W=z.canonizeResults;return W===void 0?S.canonizeResults:W}function p(z,W){return(0,T.Yk)(W)?z.get(W.__ref,"__typename"):W&&W.__typename}var m=/^[_a-z][_0-9a-z]*/i;function x(z){var W=z.match(m);return W?W[0]:z}function M(z,W,R){return(0,P.s)(W)?B(W)?W.every(function(K){return M(z,K,R)}):z.selections.every(function(K){if((0,T.My)(K)&&(0,I.LZ)(K,R)){var ut=(0,T.u2)(K);return A.call(W,ut)&&(!K.selectionSet||M(K.selectionSet,W[ut],R))}return!0}):!1}function k(z){return(0,P.s)(z)&&!(0,T.Yk)(z)&&!B(z)}function _(){return new O.w0}var B=function(z){return Array.isArray(z)}},94991:function(ct,C,v){"use strict";v.d(C,{h:function(){return De}});var d=v(70655),T=v(67943),P=v(60507),I=v(82152),O=v(99770),A=function(){function ae(){this.getFragmentDoc=(0,P.re)(O.Yk)}return ae.prototype.batch=function(Yt){var st=this,gt=typeof Yt.optimistic=="string"?Yt.optimistic:Yt.optimistic===!1?null:void 0,kt;return this.performTransaction(function(){return kt=Yt.update(st)},gt),kt},ae.prototype.recordOptimisticTransaction=function(Yt,st){this.performTransaction(Yt,st)},ae.prototype.transformDocument=function(Yt){return Yt},ae.prototype.identify=function(Yt){},ae.prototype.gc=function(){return[]},ae.prototype.modify=function(Yt){return!1},ae.prototype.transformForLink=function(Yt){return Yt},ae.prototype.readQuery=function(Yt,st){return st===void 0&&(st=!!Yt.optimistic),this.read((0,d.__assign)((0,d.__assign)({},Yt),{rootId:Yt.id||"ROOT_QUERY",optimistic:st}))},ae.prototype.readFragment=function(Yt,st){return st===void 0&&(st=!!Yt.optimistic),this.read((0,d.__assign)((0,d.__assign)({},Yt),{query:this.getFragmentDoc(Yt.fragment,Yt.fragmentName),rootId:Yt.id,optimistic:st}))},ae.prototype.writeQuery=function(Yt){var st=Yt.id,gt=Yt.data,kt=(0,d.__rest)(Yt,["id","data"]);return this.write(Object.assign(kt,{dataId:st||"ROOT_QUERY",result:gt}))},ae.prototype.writeFragment=function(Yt){var st=Yt.id,gt=Yt.data,kt=Yt.fragment,Ft=Yt.fragmentName,jt=(0,d.__rest)(Yt,["id","data","fragment","fragmentName"]);return this.write(Object.assign(jt,{query:this.getFragmentDoc(kt,Ft),dataId:st,result:gt}))},ae.prototype.updateQuery=function(Yt,st){return this.batch({update:function(gt){var kt=gt.readQuery(Yt),Ft=st(kt);return Ft==null?kt:(gt.writeQuery((0,d.__assign)((0,d.__assign)({},Yt),{data:Ft})),Ft)}})},ae.prototype.updateFragment=function(Yt,st){return this.batch({update:function(gt){var kt=gt.readFragment(Yt),Ft=st(kt);return Ft==null?kt:(gt.writeFragment((0,d.__assign)((0,d.__assign)({},Yt),{data:Ft})),Ft)}})},ae}(),E=function(){function ae(Yt,st,gt,kt){this.message=Yt,this.path=st,this.query=gt,this.variables=kt}return ae}(),S=v(90386),y=v(81234),b=v(31578),p=v(17954),m=v(34604),x=v(87742),M=v(86376),k=v(8776);function _(ae){var Yt=new Set([ae]);return Yt.forEach(function(st){(0,k.s)(st)&&B(st)===st&&Object.getOwnPropertyNames(st).forEach(function(gt){(0,k.s)(st[gt])&&Yt.add(st[gt])})}),ae}function B(ae){if(__DEV__&&!Object.isFrozen(ae))try{Object.freeze(ae)}catch(Yt){if(Yt instanceof TypeError)return null;throw Yt}return ae}function z(ae){return __DEV__&&_(ae),ae}var W=v(657),R=v(28776),K=Object.create(null),ut=function(){return K},ot=Object.create(null),dt=function(){function ae(Yt,st){var gt=this;this.policies=Yt,this.group=st,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(kt,Ft){return z((0,S.Yk)(kt)?gt.get(kt.__ref,Ft):kt&&kt[Ft])},this.canRead=function(kt){return(0,S.Yk)(kt)?gt.has(kt.__ref):typeof kt=="object"},this.toReference=function(kt,Ft){if(typeof kt=="string")return(0,S.kQ)(kt);if((0,S.Yk)(kt))return kt;var jt=gt.policies.identify(kt)[0];if(jt){var fe=(0,S.kQ)(jt);return Ft&&gt.merge(jt,kt),fe}}}return ae.prototype.toObject=function(){return(0,d.__assign)({},this.data)},ae.prototype.has=function(Yt){return this.lookup(Yt,!0)!==void 0},ae.prototype.get=function(Yt,st){if(this.group.depend(Yt,st),R.RI.call(this.data,Yt)){var gt=this.data[Yt];if(gt&&R.RI.call(gt,st))return gt[st]}if(st==="__typename"&&R.RI.call(this.policies.rootTypenamesById,Yt))return this.policies.rootTypenamesById[Yt];if(this instanceof J)return this.parent.get(Yt,st)},ae.prototype.lookup=function(Yt,st){if(st&&this.group.depend(Yt,"__exists"),R.RI.call(this.data,Yt))return this.data[Yt];if(this instanceof J)return this.parent.lookup(Yt,st);if(this.policies.rootTypenamesById[Yt])return Object.create(null)},ae.prototype.merge=function(Yt,st){var gt=this,kt;(0,S.Yk)(Yt)&&(Yt=Yt.__ref),(0,S.Yk)(st)&&(st=st.__ref);var Ft=typeof Yt=="string"?this.lookup(kt=Yt):Yt,jt=typeof st=="string"?this.lookup(kt=st):st;if(!!jt){__DEV__?(0,T.kG)(typeof kt=="string","store.merge expects a string ID"):(0,T.kG)(typeof kt=="string",1);var fe=new x.w0(rt).merge(Ft,jt);if(this.data[kt]=fe,fe!==Ft&&(delete this.refs[kt],this.group.caching)){var Ce=Object.create(null);Ft||(Ce.__exists=1),Object.keys(jt).forEach(function(xe){if(!Ft||Ft[xe]!==fe[xe]){Ce[xe]=1;var ve=(0,R.E_)(xe);ve!==xe&&!gt.policies.hasKeyArgs(fe.__typename,ve)&&(Ce[ve]=1),fe[xe]===void 0&&!(gt instanceof J)&&delete fe[xe]}}),Ce.__typename&&!(Ft&&Ft.__typename)&&this.policies.rootTypenamesById[kt]===fe.__typename&&delete Ce.__typename,Object.keys(Ce).forEach(function(xe){return gt.group.dirty(kt,xe)})}}},ae.prototype.modify=function(Yt,st){var gt=this,kt=this.lookup(Yt);if(kt){var Ft=Object.create(null),jt=!1,fe=!0,Ce={DELETE:K,INVALIDATE:ot,isReference:S.Yk,toReference:this.toReference,canRead:this.canRead,readField:function(xe,ve){return gt.policies.readField(typeof xe=="string"?{fieldName:xe,from:ve||(0,S.kQ)(Yt)}:xe,{store:gt})}};if(Object.keys(kt).forEach(function(xe){var ve=(0,R.E_)(xe),Ue=kt[xe];if(Ue!==void 0){var Ne=typeof st=="function"?st:st[xe]||st[ve];if(Ne){var tr=Ne===ut?K:Ne(z(Ue),(0,d.__assign)((0,d.__assign)({},Ce),{fieldName:ve,storeFieldName:xe,storage:gt.getStorage(Yt,xe)}));tr===ot?gt.group.dirty(Yt,xe):(tr===K&&(tr=void 0),tr!==Ue&&(Ft[xe]=tr,jt=!0,Ue=tr))}Ue!==void 0&&(fe=!1)}}),jt)return this.merge(Yt,Ft),fe&&(this instanceof J?this.data[Yt]=void 0:delete this.data[Yt],this.group.dirty(Yt,"__exists")),!0}return!1},ae.prototype.delete=function(Yt,st,gt){var kt,Ft=this.lookup(Yt);if(Ft){var jt=this.getFieldValue(Ft,"__typename"),fe=st&&gt?this.policies.getStoreFieldName({typename:jt,fieldName:st,args:gt}):st;return this.modify(Yt,fe?(kt={},kt[fe]=ut,kt):ut)}return!1},ae.prototype.evict=function(Yt,st){var gt=!1;return Yt.id&&(R.RI.call(this.data,Yt.id)&&(gt=this.delete(Yt.id,Yt.fieldName,Yt.args)),this instanceof J&&this!==st&&(gt=this.parent.evict(Yt,st)||gt),(Yt.fieldName||gt)&&this.group.dirty(Yt.id,Yt.fieldName||"__exists")),gt},ae.prototype.clear=function(){this.replace(null)},ae.prototype.extract=function(){var Yt=this,st=this.toObject(),gt=[];return this.getRootIdSet().forEach(function(kt){R.RI.call(Yt.policies.rootTypenamesById,kt)||gt.push(kt)}),gt.length&&(st.__META={extraRootIds:gt.sort()}),st},ae.prototype.replace=function(Yt){var st=this;if(Object.keys(this.data).forEach(function(Ft){Yt&&R.RI.call(Yt,Ft)||st.delete(Ft)}),Yt){var gt=Yt.__META,kt=(0,d.__rest)(Yt,["__META"]);Object.keys(kt).forEach(function(Ft){st.merge(Ft,kt[Ft])}),gt&&gt.extraRootIds.forEach(this.retain,this)}},ae.prototype.retain=function(Yt){return this.rootIds[Yt]=(this.rootIds[Yt]||0)+1},ae.prototype.release=function(Yt){if(this.rootIds[Yt]>0){var st=--this.rootIds[Yt];return st||delete this.rootIds[Yt],st}return 0},ae.prototype.getRootIdSet=function(Yt){return Yt===void 0&&(Yt=new Set),Object.keys(this.rootIds).forEach(Yt.add,Yt),this instanceof J?this.parent.getRootIdSet(Yt):Object.keys(this.policies.rootTypenamesById).forEach(Yt.add,Yt),Yt},ae.prototype.gc=function(){var Yt=this,st=this.getRootIdSet(),gt=this.toObject();st.forEach(function(jt){R.RI.call(gt,jt)&&(Object.keys(Yt.findChildRefIds(jt)).forEach(st.add,st),delete gt[jt])});var kt=Object.keys(gt);if(kt.length){for(var Ft=this;Ft instanceof J;)Ft=Ft.parent;kt.forEach(function(jt){return Ft.delete(jt)})}return kt},ae.prototype.findChildRefIds=function(Yt){if(!R.RI.call(this.refs,Yt)){var st=this.refs[Yt]=Object.create(null),gt=this.data[Yt];if(!gt)return st;var kt=new Set([gt]);kt.forEach(function(Ft){(0,S.Yk)(Ft)&&(st[Ft.__ref]=!0),(0,k.s)(Ft)&&Object.keys(Ft).forEach(function(jt){var fe=Ft[jt];(0,k.s)(fe)&&kt.add(fe)})})}return this.refs[Yt]},ae.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},ae}(),nt=function(){function ae(Yt,st){st===void 0&&(st=null),this.caching=Yt,this.parent=st,this.d=null,this.resetCaching()}return ae.prototype.resetCaching=function(){this.d=this.caching?(0,P.dP)():null,this.keyMaker=new W.B(b.mr)},ae.prototype.depend=function(Yt,st){if(this.d){this.d(yt(Yt,st));var gt=(0,R.E_)(st);gt!==st&&this.d(yt(Yt,gt)),this.parent&&this.parent.depend(Yt,st)}},ae.prototype.dirty=function(Yt,st){this.d&&this.d.dirty(yt(Yt,st),st==="__exists"?"forget":"setDirty")},ae}();function yt(ae,Yt){return Yt+"#"+ae}function tt(ae,Yt){St(ae)&&ae.group.depend(Yt,"__exists")}(function(ae){var Yt=function(st){(0,d.__extends)(gt,st);function gt(kt){var Ft=kt.policies,jt=kt.resultCaching,fe=jt===void 0?!0:jt,Ce=kt.seed,xe=st.call(this,Ft,new nt(fe))||this;return xe.stump=new ft(xe),xe.storageTrie=new W.B(b.mr),Ce&&xe.replace(Ce),xe}return gt.prototype.addLayer=function(kt,Ft){return this.stump.addLayer(kt,Ft)},gt.prototype.removeLayer=function(){return this},gt.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},gt}(ae);ae.Root=Yt})(dt||(dt={}));var J=function(ae){(0,d.__extends)(Yt,ae);function Yt(st,gt,kt,Ft){var jt=ae.call(this,gt.policies,Ft)||this;return jt.id=st,jt.parent=gt,jt.replay=kt,jt.group=Ft,kt(jt),jt}return Yt.prototype.addLayer=function(st,gt){return new Yt(st,this,gt,this.group)},Yt.prototype.removeLayer=function(st){var gt=this,kt=this.parent.removeLayer(st);return st===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(Ft){var jt=gt.data[Ft],fe=kt.lookup(Ft);fe?jt?jt!==fe&&Object.keys(jt).forEach(function(Ce){(0,I.D)(jt[Ce],fe[Ce])||gt.group.dirty(Ft,Ce)}):(gt.group.dirty(Ft,"__exists"),Object.keys(fe).forEach(function(Ce){gt.group.dirty(Ft,Ce)})):gt.delete(Ft)}),kt):kt===this.parent?this:kt.addLayer(this.id,this.replay)},Yt.prototype.toObject=function(){return(0,d.__assign)((0,d.__assign)({},this.parent.toObject()),this.data)},Yt.prototype.findChildRefIds=function(st){var gt=this.parent.findChildRefIds(st);return R.RI.call(this.data,st)?(0,d.__assign)((0,d.__assign)({},gt),ae.prototype.findChildRefIds.call(this,st)):gt},Yt.prototype.getStorage=function(){for(var st=this.parent;st.parent;)st=st.parent;return st.getStorage.apply(st,arguments)},Yt}(dt),ft=function(ae){(0,d.__extends)(Yt,ae);function Yt(st){return ae.call(this,"EntityStore.Stump",st,function(){},new nt(st.group.caching,st.group))||this}return Yt.prototype.removeLayer=function(){return this},Yt.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},Yt}(J);function rt(ae,Yt,st){var gt=ae[st],kt=Yt[st];return(0,I.D)(gt,kt)?gt:kt}function St(ae){return!!(ae instanceof dt&&ae.group.caching)}var wt=v(81377);function q(ae){return[ae.selectionSet,ae.objectOrReference,ae.context,ae.context.canonizeResults]}var it=function(){function ae(Yt){var st=this;this.knownResults=new(b.mr?WeakMap:Map),this.config=(0,p.o)(Yt,{addTypename:Yt.addTypename!==!1,canonizeResults:(0,R.lg)(Yt)}),this.canon=Yt.canon||new wt.h,this.executeSelectionSet=(0,P.re)(function(gt){var kt,Ft=gt.context.canonizeResults,jt=q(gt);jt[3]=!Ft;var fe=(kt=st.executeSelectionSet).peek.apply(kt,jt);return fe?Ft?(0,d.__assign)((0,d.__assign)({},fe),{result:st.canon.admit(fe.result)}):fe:(tt(gt.context.store,gt.enclosingRef.__ref),st.execSelectionSetImpl(gt))},{max:this.config.resultCacheMaxSize,keyArgs:q,makeCacheKey:function(gt,kt,Ft,jt){if(St(Ft.store))return Ft.store.makeCacheKey(gt,(0,S.Yk)(kt)?kt.__ref:kt,Ft.varString,jt)}}),this.executeSubSelectedArray=(0,P.re)(function(gt){return tt(gt.context.store,gt.enclosingRef.__ref),st.execSubSelectedArrayImpl(gt)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(gt){var kt=gt.field,Ft=gt.array,jt=gt.context;if(St(jt.store))return jt.store.makeCacheKey(kt,Ft,jt.varString)}})}return ae.prototype.resetCanon=function(){this.canon=new wt.h},ae.prototype.diffQueryAgainstStore=function(Yt){var st=Yt.store,gt=Yt.query,kt=Yt.rootId,Ft=kt===void 0?"ROOT_QUERY":kt,jt=Yt.variables,fe=Yt.returnPartialData,Ce=fe===void 0?!0:fe,xe=Yt.canonizeResults,ve=xe===void 0?this.config.canonizeResults:xe,Ue=this.config.cache.policies;jt=(0,d.__assign)((0,d.__assign)({},(0,m.O4)((0,m.iW)(gt))),jt);var Ne=(0,S.kQ)(Ft),tr=this.executeSelectionSet({selectionSet:(0,m.p$)(gt).selectionSet,objectOrReference:Ne,enclosingRef:Ne,context:{store:st,query:gt,policies:Ue,variables:jt,varString:(0,wt.B)(jt),canonizeResults:ve,fragmentMap:(0,O.F)((0,m.kU)(gt))}}),Er;if(tr.missing&&(Er=[new E(Q(tr.missing),tr.missing,gt,jt)],!Ce))throw Er[0];return{result:tr.result,complete:!Er,missing:Er}},ae.prototype.isFresh=function(Yt,st,gt,kt){if(St(kt.store)&&this.knownResults.get(Yt)===gt){var Ft=this.executeSelectionSet.peek(gt,st,kt,this.canon.isKnown(Yt));if(Ft&&Yt===Ft.result)return!0}return!1},ae.prototype.execSelectionSetImpl=function(Yt){var st=this,gt=Yt.selectionSet,kt=Yt.objectOrReference,Ft=Yt.enclosingRef,jt=Yt.context;if((0,S.Yk)(kt)&&!jt.policies.rootTypenamesById[kt.__ref]&&!jt.store.has(kt.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(kt.__ref," object")};var fe=jt.variables,Ce=jt.policies,xe=jt.store,ve=xe.getFieldValue(kt,"__typename"),Ue=[],Ne,tr=new x.w0;this.config.addTypename&&typeof ve=="string"&&!Ce.rootIdsByTypename[ve]&&Ue.push({__typename:ve});function Er(ir,wr){var Zr;return ir.missing&&(Ne=tr.merge(Ne,(Zr={},Zr[wr]=ir.missing,Zr))),ir.result}var hr=new Set(gt.selections);hr.forEach(function(ir){var wr,Zr;if(!!(0,M.LZ)(ir,fe))if((0,S.My)(ir)){var Wr=Ce.readField({fieldName:ir.name.value,field:ir,variables:jt.variables,from:kt},jt),Qr=(0,S.u2)(ir);Wr===void 0?y.Gw.added(ir)||(Ne=tr.merge(Ne,(wr={},wr[Qr]="Can't find field '".concat(ir.name.value,"' on ").concat((0,S.Yk)(kt)?kt.__ref+" object":"object "+JSON.stringify(kt,null,2)),wr))):(0,R.kJ)(Wr)?Wr=Er(st.executeSubSelectedArray({field:ir,array:Wr,enclosingRef:Ft,context:jt}),Qr):ir.selectionSet?Wr!=null&&(Wr=Er(st.executeSelectionSet({selectionSet:ir.selectionSet,objectOrReference:Wr,enclosingRef:(0,S.Yk)(Wr)?Wr:Ft,context:jt}),Qr)):jt.canonizeResults&&(Wr=st.canon.pass(Wr)),Wr!==void 0&&Ue.push((Zr={},Zr[Qr]=Wr,Zr))}else{var ie=(0,O.hi)(ir,jt.fragmentMap);ie&&Ce.fragmentMatches(ie,ve)&&ie.selectionSet.selections.forEach(hr.add,hr)}});var Tr=(0,x.bw)(Ue),_r={result:Tr,missing:Ne},Nr=jt.canonizeResults?this.canon.admit(_r):z(_r);return Nr.result&&this.knownResults.set(Nr.result,gt),Nr},ae.prototype.execSubSelectedArrayImpl=function(Yt){var st=this,gt=Yt.field,kt=Yt.array,Ft=Yt.enclosingRef,jt=Yt.context,fe,Ce=new x.w0;function xe(ve,Ue){var Ne;return ve.missing&&(fe=Ce.merge(fe,(Ne={},Ne[Ue]=ve.missing,Ne))),ve.result}return gt.selectionSet&&(kt=kt.filter(jt.store.canRead)),kt=kt.map(function(ve,Ue){return ve===null?null:(0,R.kJ)(ve)?xe(st.executeSubSelectedArray({field:gt,array:ve,enclosingRef:Ft,context:jt}),Ue):gt.selectionSet?xe(st.executeSelectionSet({selectionSet:gt.selectionSet,objectOrReference:ve,enclosingRef:(0,S.Yk)(ve)?ve:Ft,context:jt}),Ue):(__DEV__&&f(jt.store,gt,ve),ve)}),{result:jt.canonizeResults?this.canon.admit(kt):kt,missing:fe}},ae}();function Q(ae){try{JSON.stringify(ae,function(Yt,st){if(typeof st=="string")throw st;return st})}catch(Yt){return Yt}}function f(ae,Yt,st){if(!Yt.selectionSet){var gt=new Set([st]);gt.forEach(function(kt){(0,k.s)(kt)&&(__DEV__?(0,T.kG)(!(0,S.Yk)(kt),"Missing selection set for object of type ".concat((0,R.jp)(ae,kt)," returned for query field ").concat(Yt.name.value)):(0,T.kG)(!(0,S.Yk)(kt),5),Object.values(kt).forEach(gt.add,gt))})}}var vt=v(23346),It=v(24517),Qt=v(93826);function Se(ae){var Yt=(0,Qt.X)("stringifyForDisplay");return JSON.stringify(ae,function(st,gt){return gt===void 0?Yt:gt}).split(JSON.stringify(Yt)).join("<undefined>")}var $t=v(83974),re=Object.create(null);function he(ae){var Yt=JSON.stringify(ae);return re[Yt]||(re[Yt]=Object.create(null))}function Me(ae){var Yt=he(ae);return Yt.keyFieldsFn||(Yt.keyFieldsFn=function(st,gt){var kt=function(jt,fe){return gt.readField(fe,jt)},Ft=gt.keyObject=Rt(ae,function(jt){var fe=Dt(gt.storeObject,jt,kt);return fe===void 0&&st!==gt.storeObject&&R.RI.call(st,jt[0])&&(fe=Dt(st,jt,At)),__DEV__?(0,T.kG)(fe!==void 0,"Missing field '".concat(jt.join("."),"' while extracting keyFields from ").concat(JSON.stringify(st))):(0,T.kG)(fe!==void 0,2),fe});return"".concat(gt.typename,":").concat(JSON.stringify(Ft))})}function le(ae){var Yt=he(ae);return Yt.keyArgsFn||(Yt.keyArgsFn=function(st,gt){var kt=gt.field,Ft=gt.variables,jt=gt.fieldName,fe=Rt(ae,function(xe){var ve=xe[0],Ue=ve.charAt(0);if(Ue==="@"){if(kt&&(0,It.O)(kt.directives)){var Ne=ve.slice(1),tr=kt.directives.find(function(_r){return _r.name.value===Ne}),Er=tr&&(0,S.NC)(tr,Ft);return Er&&Dt(Er,xe.slice(1))}return}if(Ue==="$"){var hr=ve.slice(1);if(Ft&&R.RI.call(Ft,hr)){var Tr=xe.slice(0);return Tr[0]=hr,Dt(Ft,Tr)}return}if(st)return Dt(st,xe)}),Ce=JSON.stringify(fe);return(st||Ce!=="{}")&&(jt+=":"+Ce),jt})}function Rt(ae,Yt){var st=new x.w0;return Ot(ae).reduce(function(gt,kt){var Ft,jt=Yt(kt);if(jt!==void 0){for(var fe=kt.length-1;fe>=0;--fe)jt=(Ft={},Ft[kt[fe]]=jt,Ft);gt=st.merge(gt,jt)}return gt},Object.create(null))}function Ot(ae){var Yt=he(ae);if(!Yt.paths){var st=Yt.paths=[],gt=[];ae.forEach(function(kt,Ft){(0,R.kJ)(kt)?(Ot(kt).forEach(function(jt){return st.push(gt.concat(jt))}),gt.length=0):(gt.push(kt),(0,R.kJ)(ae[Ft+1])||(st.push(gt.slice(0)),gt.length=0))})}return Yt.paths}function At(ae,Yt){return ae[Yt]}function Dt(ae,Yt,st){return st=st||At,j(Yt.reduce(function gt(kt,Ft){return(0,R.kJ)(kt)?kt.map(function(jt){return gt(jt,Ft)}):kt&&st(kt,Ft)},ae))}function j(ae){return(0,k.s)(ae)?(0,R.kJ)(ae)?ae.map(j):Rt(Object.keys(ae).sort(),function(Yt){return Dt(ae,Yt)}):ae}S.PT.setStringify(wt.B);function $(ae){return ae.args!==void 0?ae.args:ae.field?(0,S.NC)(ae.field,ae.variables):null}var et=function(){},Tt=function(ae,Yt){return Yt.fieldName},Nt=function(ae,Yt,st){var gt=st.mergeObjects;return gt(ae,Yt)},Ut=function(ae,Yt){return Yt},Oe=function(){function ae(Yt){this.config=Yt,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,d.__assign)({dataIdFromObject:R.uG},Yt),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),Yt.possibleTypes&&this.addPossibleTypes(Yt.possibleTypes),Yt.typePolicies&&this.addTypePolicies(Yt.typePolicies)}return ae.prototype.identify=function(Yt,st){var gt,kt=this,Ft=st&&(st.typename||((gt=st.storeObject)===null||gt===void 0?void 0:gt.__typename))||Yt.__typename;if(Ft===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var jt=st&&st.storeObject||Yt,fe=(0,d.__assign)((0,d.__assign)({},st),{typename:Ft,storeObject:jt,readField:st&&st.readField||function(){var Ne=Zt(arguments,jt);return kt.readField(Ne,{store:kt.cache.data,variables:Ne.variables})}}),Ce,xe=Ft&&this.getTypePolicy(Ft),ve=xe&&xe.keyFn||this.config.dataIdFromObject;ve;){var Ue=ve(Yt,fe);if((0,R.kJ)(Ue))ve=Me(Ue);else{Ce=Ue;break}}return Ce=Ce?String(Ce):void 0,fe.keyObject?[Ce,fe.keyObject]:[Ce]},ae.prototype.addTypePolicies=function(Yt){var st=this;Object.keys(Yt).forEach(function(gt){var kt=Yt[gt],Ft=kt.queryType,jt=kt.mutationType,fe=kt.subscriptionType,Ce=(0,d.__rest)(kt,["queryType","mutationType","subscriptionType"]);Ft&&st.setRootTypename("Query",gt),jt&&st.setRootTypename("Mutation",gt),fe&&st.setRootTypename("Subscription",gt),R.RI.call(st.toBeAdded,gt)?st.toBeAdded[gt].push(Ce):st.toBeAdded[gt]=[Ce]})},ae.prototype.updateTypePolicy=function(Yt,st){var gt=this,kt=this.getTypePolicy(Yt),Ft=st.keyFields,jt=st.fields;function fe(Ce,xe){Ce.merge=typeof xe=="function"?xe:xe===!0?Nt:xe===!1?Ut:Ce.merge}fe(kt,st.merge),kt.keyFn=Ft===!1?et:(0,R.kJ)(Ft)?Me(Ft):typeof Ft=="function"?Ft:kt.keyFn,jt&&Object.keys(jt).forEach(function(Ce){var xe=gt.getFieldPolicy(Yt,Ce,!0),ve=jt[Ce];if(typeof ve=="function")xe.read=ve;else{var Ue=ve.keyArgs,Ne=ve.read,tr=ve.merge;xe.keyFn=Ue===!1?Tt:(0,R.kJ)(Ue)?le(Ue):typeof Ue=="function"?Ue:xe.keyFn,typeof Ne=="function"&&(xe.read=Ne),fe(xe,tr)}xe.read&&xe.merge&&(xe.keyFn=xe.keyFn||Tt)})},ae.prototype.setRootTypename=function(Yt,st){st===void 0&&(st=Yt);var gt="ROOT_"+Yt.toUpperCase(),kt=this.rootTypenamesById[gt];st!==kt&&(__DEV__?(0,T.kG)(!kt||kt===Yt,"Cannot change root ".concat(Yt," __typename more than once")):(0,T.kG)(!kt||kt===Yt,3),kt&&delete this.rootIdsByTypename[kt],this.rootIdsByTypename[st]=gt,this.rootTypenamesById[gt]=st)},ae.prototype.addPossibleTypes=function(Yt){var st=this;this.usingPossibleTypes=!0,Object.keys(Yt).forEach(function(gt){st.getSupertypeSet(gt,!0),Yt[gt].forEach(function(kt){st.getSupertypeSet(kt,!0).add(gt);var Ft=kt.match(R.$O);(!Ft||Ft[0]!==kt)&&st.fuzzySubtypes.set(kt,new RegExp(kt))})})},ae.prototype.getTypePolicy=function(Yt){var st=this;if(!R.RI.call(this.typePolicies,Yt)){var gt=this.typePolicies[Yt]=Object.create(null);gt.fields=Object.create(null);var kt=this.supertypeMap.get(Yt);kt&&kt.size&&kt.forEach(function(jt){var fe=st.getTypePolicy(jt),Ce=fe.fields,xe=(0,d.__rest)(fe,["fields"]);Object.assign(gt,xe),Object.assign(gt.fields,Ce)})}var Ft=this.toBeAdded[Yt];return Ft&&Ft.length&&Ft.splice(0).forEach(function(jt){st.updateTypePolicy(Yt,jt)}),this.typePolicies[Yt]},ae.prototype.getFieldPolicy=function(Yt,st,gt){if(Yt){var kt=this.getTypePolicy(Yt).fields;return kt[st]||gt&&(kt[st]=Object.create(null))}},ae.prototype.getSupertypeSet=function(Yt,st){var gt=this.supertypeMap.get(Yt);return!gt&&st&&this.supertypeMap.set(Yt,gt=new Set),gt},ae.prototype.fragmentMatches=function(Yt,st,gt,kt){var Ft=this;if(!Yt.typeCondition)return!0;if(!st)return!1;var jt=Yt.typeCondition.name.value;if(st===jt)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(jt))for(var fe=this.getSupertypeSet(st,!0),Ce=[fe],xe=function(Er){var hr=Ft.getSupertypeSet(Er,!1);hr&&hr.size&&Ce.indexOf(hr)<0&&Ce.push(hr)},ve=!!(gt&&this.fuzzySubtypes.size),Ue=!1,Ne=0;Ne<Ce.length;++Ne){var tr=Ce[Ne];if(tr.has(jt))return fe.has(jt)||(Ue&&__DEV__&&T.kG.warn("Inferring subtype ".concat(st," of supertype ").concat(jt)),fe.add(jt)),!0;tr.forEach(xe),ve&&Ne===Ce.length-1&&(0,R.RC)(Yt.selectionSet,gt,kt)&&(ve=!1,Ue=!0,this.fuzzySubtypes.forEach(function(Er,hr){var Tr=st.match(Er);Tr&&Tr[0]===st&&xe(hr)}))}return!1},ae.prototype.hasKeyArgs=function(Yt,st){var gt=this.getFieldPolicy(Yt,st,!1);return!!(gt&&gt.keyFn)},ae.prototype.getStoreFieldName=function(Yt){var st=Yt.typename,gt=Yt.fieldName,kt=this.getFieldPolicy(st,gt,!1),Ft,jt=kt&&kt.keyFn;if(jt&&st)for(var fe={typename:st,fieldName:gt,field:Yt.field||null,variables:Yt.variables},Ce=$(Yt);jt;){var xe=jt(Ce,fe);if((0,R.kJ)(xe))jt=le(xe);else{Ft=xe||gt;break}}return Ft===void 0&&(Ft=Yt.field?(0,S.vf)(Yt.field,Yt.variables):(0,S.PT)(gt,$(Yt))),Ft===!1?gt:gt===(0,R.E_)(Ft)?Ft:gt+":"+Ft},ae.prototype.readField=function(Yt,st){var gt=Yt.from;if(!!gt){var kt=Yt.field||Yt.fieldName;if(!!kt){if(Yt.typename===void 0){var Ft=st.store.getFieldValue(gt,"__typename");Ft&&(Yt.typename=Ft)}var jt=this.getStoreFieldName(Yt),fe=(0,R.E_)(jt),Ce=st.store.getFieldValue(gt,jt),xe=this.getFieldPolicy(Yt.typename,fe,!1),ve=xe&&xe.read;if(ve){var Ue=He(this,gt,Yt,st,st.store.getStorage((0,S.Yk)(gt)?gt.__ref:gt,jt));return $t.ab.withValue(this.cache,ve,[Ce,Ue])}return Ce}}},ae.prototype.getReadFunction=function(Yt,st){var gt=this.getFieldPolicy(Yt,st,!1);return gt&&gt.read},ae.prototype.getMergeFunction=function(Yt,st,gt){var kt=this.getFieldPolicy(Yt,st,!1),Ft=kt&&kt.merge;return!Ft&&gt&&(kt=this.getTypePolicy(gt),Ft=kt&&kt.merge),Ft},ae.prototype.runMergeFunction=function(Yt,st,gt,kt,Ft){var jt=gt.field,fe=gt.typename,Ce=gt.merge;return Ce===Nt?be(kt.store)(Yt,st):Ce===Ut?st:(kt.overwrite&&(Yt=void 0),Ce(Yt,st,He(this,void 0,{typename:fe,fieldName:jt.name.value,field:jt,variables:kt.variables},kt,Ft||Object.create(null))))},ae}();function He(ae,Yt,st,gt,kt){var Ft=ae.getStoreFieldName(st),jt=(0,R.E_)(Ft),fe=st.variables||gt.variables,Ce=gt.store,xe=Ce.toReference,ve=Ce.canRead;return{args:$(st),field:st.field||null,fieldName:jt,storeFieldName:Ft,variables:fe,isReference:S.Yk,toReference:xe,storage:kt,cache:ae.cache,canRead:ve,readField:function(){return ae.readField(Zt(arguments,Yt,fe),gt)},mergeObjects:be(gt.store)}}function Zt(ae,Yt,st){var gt=ae[0],kt=ae[1],Ft=ae.length,jt;return typeof gt=="string"?jt={fieldName:gt,from:Ft>1?kt:Yt}:(jt=(0,d.__assign)({},gt),R.RI.call(jt,"from")||(jt.from=Yt)),__DEV__&&jt.from===void 0&&__DEV__&&T.kG.warn("Undefined 'from' passed to readField with arguments ".concat(Se(Array.from(ae)))),jt.variables===void 0&&(jt.variables=st),jt}function be(ae){return function(st,gt){if((0,R.kJ)(st)||(0,R.kJ)(gt))throw __DEV__?new T.ej("Cannot automatically merge arrays"):new T.ej(4);if((0,k.s)(st)&&(0,k.s)(gt)){var kt=ae.getFieldValue(st,"__typename"),Ft=ae.getFieldValue(gt,"__typename"),jt=kt&&Ft&&kt!==Ft;if(jt)return gt;if((0,S.Yk)(st)&&(0,R.j)(gt))return ae.merge(st.__ref,gt),st;if((0,R.j)(st)&&(0,S.Yk)(gt))return ae.merge(st,gt.__ref),gt;if((0,R.j)(st)&&(0,R.j)(gt))return(0,d.__assign)((0,d.__assign)({},st),gt)}return gt}}function _e(ae,Yt,st){var gt="".concat(Yt).concat(st),kt=ae.flavors.get(gt);return kt||ae.flavors.set(gt,kt=ae.clientOnly===Yt&&ae.deferred===st?ae:(0,d.__assign)((0,d.__assign)({},ae),{clientOnly:Yt,deferred:st})),kt}var Qe=function(){function ae(Yt,st){this.cache=Yt,this.reader=st}return ae.prototype.writeToStore=function(Yt,st){var gt=this,kt=st.query,Ft=st.result,jt=st.dataId,fe=st.variables,Ce=st.overwrite,xe=(0,m.$H)(kt),ve=(0,R.ig)();fe=(0,d.__assign)((0,d.__assign)({},(0,m.O4)(xe)),fe);var Ue={store:Yt,written:Object.create(null),merge:function(tr,Er){return ve.merge(tr,Er)},variables:fe,varString:(0,wt.B)(fe),fragmentMap:(0,O.F)((0,m.kU)(kt)),overwrite:!!Ce,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},Ne=this.processSelectionSet({result:Ft||Object.create(null),dataId:jt,selectionSet:xe.selectionSet,mergeTree:{map:new Map},context:Ue});if(!(0,S.Yk)(Ne))throw __DEV__?new T.ej("Could not identify object ".concat(JSON.stringify(Ft))):new T.ej(6);return Ue.incomingById.forEach(function(tr,Er){var hr=tr.storeObject,Tr=tr.mergeTree,_r=tr.fieldNodeSet,Nr=(0,S.kQ)(Er);if(Tr&&Tr.map.size){var ir=gt.applyMerges(Tr,Nr,hr,Ue);if((0,S.Yk)(ir))return;hr=ir}if(__DEV__&&!Ue.overwrite){var wr=Object.create(null);_r.forEach(function(Qr){Qr.selectionSet&&(wr[Qr.name.value]=!0)});var Zr=function(Qr){return wr[(0,R.E_)(Qr)]===!0},Wr=function(Qr){var ie=Tr&&Tr.map.get(Qr);return Boolean(ie&&ie.info&&ie.info.merge)};Object.keys(hr).forEach(function(Qr){Zr(Qr)&&!Wr(Qr)&&We(Nr,hr,Qr,Ue.store)})}Yt.merge(Er,hr)}),Yt.retain(Ne.__ref),Ne},ae.prototype.processSelectionSet=function(Yt){var st=this,gt=Yt.dataId,kt=Yt.result,Ft=Yt.selectionSet,jt=Yt.context,fe=Yt.mergeTree,Ce=this.cache.policies,xe=Object.create(null),ve=gt&&Ce.rootTypenamesById[gt]||(0,S.qw)(kt,Ft,jt.fragmentMap)||gt&&jt.store.get(gt,"__typename");typeof ve=="string"&&(xe.__typename=ve);var Ue=function(){var ir=Zt(arguments,xe,jt.variables);if((0,S.Yk)(ir.from)){var wr=jt.incomingById.get(ir.from.__ref);if(wr){var Zr=Ce.readField((0,d.__assign)((0,d.__assign)({},ir),{from:wr.storeObject}),jt);if(Zr!==void 0)return Zr}}return Ce.readField(ir,jt)},Ne=new Set;this.flattenFields(Ft,kt,jt,ve).forEach(function(ir,wr){var Zr,Wr=(0,S.u2)(wr),Qr=kt[Wr];if(Ne.add(wr),Qr!==void 0){var ie=Ce.getStoreFieldName({typename:ve,fieldName:wr.name.value,field:wr,variables:ir.variables}),ue=ur(fe,ie),me=st.processFieldValue(Qr,wr,wr.selectionSet?_e(ir,!1,!1):ir,ue),Le=void 0;wr.selectionSet&&((0,S.Yk)(me)||(0,R.j)(me))&&(Le=Ue("__typename",me));var Xe=Ce.getMergeFunction(ve,wr.name.value,Le);Xe?ue.info={field:wr,typename:ve,merge:Xe}:se(fe,ie),xe=ir.merge(xe,(Zr={},Zr[ie]=me,Zr))}else __DEV__&&!ir.clientOnly&&!ir.deferred&&!y.Gw.added(wr)&&!Ce.getReadFunction(ve,wr.name.value)&&__DEV__&&T.kG.error("Missing field '".concat((0,S.u2)(wr),"' while writing result ").concat(JSON.stringify(kt,null,2)).substring(0,1e3))});try{var tr=Ce.identify(kt,{typename:ve,selectionSet:Ft,fragmentMap:jt.fragmentMap,storeObject:xe,readField:Ue}),Er=tr[0],hr=tr[1];gt=gt||Er,hr&&(xe=jt.merge(xe,hr))}catch(ir){if(!gt)throw ir}if(typeof gt=="string"){var Tr=(0,S.kQ)(gt),_r=jt.written[gt]||(jt.written[gt]=[]);if(_r.indexOf(Ft)>=0||(_r.push(Ft),this.reader&&this.reader.isFresh(kt,Tr,Ft,jt)))return Tr;var Nr=jt.incomingById.get(gt);return Nr?(Nr.storeObject=jt.merge(Nr.storeObject,xe),Nr.mergeTree=Dr(Nr.mergeTree,fe),Ne.forEach(function(ir){return Nr.fieldNodeSet.add(ir)})):jt.incomingById.set(gt,{storeObject:xe,mergeTree:ne(fe)?void 0:fe,fieldNodeSet:Ne}),Tr}return xe},ae.prototype.processFieldValue=function(Yt,st,gt,kt){var Ft=this;return!st.selectionSet||Yt===null?__DEV__?(0,vt.X)(Yt):Yt:(0,R.kJ)(Yt)?Yt.map(function(jt,fe){var Ce=Ft.processFieldValue(jt,st,gt,ur(kt,fe));return se(kt,fe),Ce}):this.processSelectionSet({result:Yt,selectionSet:st.selectionSet,context:gt,mergeTree:kt})},ae.prototype.flattenFields=function(Yt,st,gt,kt){kt===void 0&&(kt=(0,S.qw)(st,Yt,gt.fragmentMap));var Ft=new Map,jt=this.cache.policies,fe=new W.B(!1);return function Ce(xe,ve){var Ue=fe.lookup(xe,ve.clientOnly,ve.deferred);Ue.visited||(Ue.visited=!0,xe.selections.forEach(function(Ne){if(!!(0,M.LZ)(Ne,gt.variables)){var tr=ve.clientOnly,Er=ve.deferred;if(!(tr&&Er)&&(0,It.O)(Ne.directives)&&Ne.directives.forEach(function(_r){var Nr=_r.name.value;if(Nr==="client"&&(tr=!0),Nr==="defer"){var ir=(0,S.NC)(_r,gt.variables);(!ir||ir.if!==!1)&&(Er=!0)}}),(0,S.My)(Ne)){var hr=Ft.get(Ne);hr&&(tr=tr&&hr.clientOnly,Er=Er&&hr.deferred),Ft.set(Ne,_e(gt,tr,Er))}else{var Tr=(0,O.hi)(Ne,gt.fragmentMap);Tr&&jt.fragmentMatches(Tr,kt,st,gt.variables)&&Ce(Tr.selectionSet,_e(gt,tr,Er))}}}))}(Yt,gt),Ft},ae.prototype.applyMerges=function(Yt,st,gt,kt,Ft){var jt,fe=this;if(Yt.map.size&&!(0,S.Yk)(gt)){var Ce=!(0,R.kJ)(gt)&&((0,S.Yk)(st)||(0,R.j)(st))?st:void 0,xe=gt;Ce&&!Ft&&(Ft=[(0,S.Yk)(Ce)?Ce.__ref:Ce]);var ve,Ue=function(Ne,tr){return(0,R.kJ)(Ne)?typeof tr=="number"?Ne[tr]:void 0:kt.store.getFieldValue(Ne,String(tr))};Yt.map.forEach(function(Ne,tr){var Er=Ue(Ce,tr),hr=Ue(xe,tr);if(hr!==void 0){Ft&&Ft.push(tr);var Tr=fe.applyMerges(Ne,Er,hr,kt,Ft);Tr!==hr&&(ve=ve||new Map,ve.set(tr,Tr)),Ft&&(0,T.kG)(Ft.pop()===tr)}}),ve&&(gt=(0,R.kJ)(xe)?xe.slice(0):(0,d.__assign)({},xe),ve.forEach(function(Ne,tr){gt[tr]=Ne}))}return Yt.info?this.cache.policies.runMergeFunction(st,gt,Yt.info,kt,Ft&&(jt=kt.store).getStorage.apply(jt,Ft)):gt},ae}(),dr=[];function ur(ae,Yt){var st=ae.map;return st.has(Yt)||st.set(Yt,dr.pop()||{map:new Map}),st.get(Yt)}function Dr(ae,Yt){if(ae===Yt||!Yt||ne(Yt))return ae;if(!ae||ne(ae))return Yt;var st=ae.info&&Yt.info?(0,d.__assign)((0,d.__assign)({},ae.info),Yt.info):ae.info||Yt.info,gt=ae.map.size&&Yt.map.size,kt=gt?new Map:ae.map.size?ae.map:Yt.map,Ft={info:st,map:kt};if(gt){var jt=new Set(Yt.map.keys());ae.map.forEach(function(fe,Ce){Ft.map.set(Ce,Dr(fe,Yt.map.get(Ce))),jt.delete(Ce)}),jt.forEach(function(fe){Ft.map.set(fe,Dr(Yt.map.get(fe),ae.map.get(fe)))})}return Ft}function ne(ae){return!ae||!(ae.info||ae.map.size)}function se(ae,Yt){var st=ae.map,gt=st.get(Yt);gt&&ne(gt)&&(dr.push(gt),st.delete(Yt))}var ye=new Set;function We(ae,Yt,st,gt){var kt=function(Ue){var Ne=gt.getFieldValue(Ue,st);return typeof Ne=="object"&&Ne},Ft=kt(ae);if(!!Ft){var jt=kt(Yt);if(!!jt&&!(0,S.Yk)(Ft)&&!(0,I.D)(Ft,jt)&&!Object.keys(Ft).every(function(Ue){return gt.getFieldValue(jt,Ue)!==void 0})){var fe=gt.getFieldValue(ae,"__typename")||gt.getFieldValue(Yt,"__typename"),Ce=(0,R.E_)(st),xe="".concat(fe,".").concat(Ce);if(!ye.has(xe)){ye.add(xe);var ve=[];!(0,R.kJ)(Ft)&&!(0,R.kJ)(jt)&&[Ft,jt].forEach(function(Ue){var Ne=gt.getFieldValue(Ue,"__typename");typeof Ne=="string"&&!ve.includes(Ne)&&ve.push(Ne)}),__DEV__&&T.kG.warn("Cache data may be lost when replacing the ".concat(Ce," field of a ").concat(fe,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(ve.length?"either ensure all objects of type "+ve.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(xe,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(Ft).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(jt).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var De=function(ae){(0,d.__extends)(Yt,ae);function Yt(st){st===void 0&&(st={});var gt=ae.call(this)||this;return gt.watches=new Set,gt.typenameDocumentCache=new Map,gt.makeVar=$t.QS,gt.txCount=0,gt.config=(0,R.jS)(st),gt.addTypename=!!gt.config.addTypename,gt.policies=new Oe({cache:gt,dataIdFromObject:gt.config.dataIdFromObject,possibleTypes:gt.config.possibleTypes,typePolicies:gt.config.typePolicies}),gt.init(),gt}return Yt.prototype.init=function(){var st=this.data=new dt.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=st.stump,this.resetResultCache()},Yt.prototype.resetResultCache=function(st){var gt=this,kt=this.storeReader;this.storeWriter=new Qe(this,this.storeReader=new it({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:(0,R.lg)(this.config),canon:st?void 0:kt&&kt.canon})),this.maybeBroadcastWatch=(0,P.re)(function(Ft,jt){return gt.broadcastWatch(Ft,jt)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(Ft){var jt=Ft.optimistic?gt.optimisticData:gt.data;if(St(jt)){var fe=Ft.optimistic,Ce=Ft.rootId,xe=Ft.variables;return jt.makeCacheKey(Ft.query,Ft.callback,(0,wt.B)({optimistic:fe,rootId:Ce,variables:xe}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(Ft){return Ft.resetCaching()})},Yt.prototype.restore=function(st){return this.init(),st&&this.data.replace(st),this},Yt.prototype.extract=function(st){return st===void 0&&(st=!1),(st?this.optimisticData:this.data).extract()},Yt.prototype.read=function(st){var gt=st.returnPartialData,kt=gt===void 0?!1:gt;try{return this.storeReader.diffQueryAgainstStore((0,d.__assign)((0,d.__assign)({},st),{store:st.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:kt})).result||null}catch(Ft){if(Ft instanceof E)return null;throw Ft}},Yt.prototype.write=function(st){try{return++this.txCount,this.storeWriter.writeToStore(this.data,st)}finally{!--this.txCount&&st.broadcast!==!1&&this.broadcastWatches()}},Yt.prototype.modify=function(st){if(R.RI.call(st,"id")&&!st.id)return!1;var gt=st.optimistic?this.optimisticData:this.data;try{return++this.txCount,gt.modify(st.id||"ROOT_QUERY",st.fields)}finally{!--this.txCount&&st.broadcast!==!1&&this.broadcastWatches()}},Yt.prototype.diff=function(st){return this.storeReader.diffQueryAgainstStore((0,d.__assign)((0,d.__assign)({},st),{store:st.optimistic?this.optimisticData:this.data,rootId:st.id||"ROOT_QUERY",config:this.config}))},Yt.prototype.watch=function(st){var gt=this;return this.watches.size||(0,$t._v)(this),this.watches.add(st),st.immediate&&this.maybeBroadcastWatch(st),function(){gt.watches.delete(st)&&!gt.watches.size&&(0,$t.li)(gt),gt.maybeBroadcastWatch.forget(st)}},Yt.prototype.gc=function(st){wt.B.reset();var gt=this.optimisticData.gc();return st&&!this.txCount&&(st.resetResultCache?this.resetResultCache(st.resetResultIdentities):st.resetResultIdentities&&this.storeReader.resetCanon()),gt},Yt.prototype.retain=function(st,gt){return(gt?this.optimisticData:this.data).retain(st)},Yt.prototype.release=function(st,gt){return(gt?this.optimisticData:this.data).release(st)},Yt.prototype.identify=function(st){if((0,S.Yk)(st))return st.__ref;try{return this.policies.identify(st)[0]}catch(gt){__DEV__&&T.kG.warn(gt)}},Yt.prototype.evict=function(st){if(!st.id){if(R.RI.call(st,"id"))return!1;st=(0,d.__assign)((0,d.__assign)({},st),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(st,this.data)}finally{!--this.txCount&&st.broadcast!==!1&&this.broadcastWatches()}},Yt.prototype.reset=function(st){var gt=this;return this.init(),wt.B.reset(),st&&st.discardWatches?(this.watches.forEach(function(kt){return gt.maybeBroadcastWatch.forget(kt)}),this.watches.clear(),(0,$t.li)(this)):this.broadcastWatches(),Promise.resolve()},Yt.prototype.removeOptimistic=function(st){var gt=this.optimisticData.removeLayer(st);gt!==this.optimisticData&&(this.optimisticData=gt,this.broadcastWatches())},Yt.prototype.batch=function(st){var gt=this,kt=st.update,Ft=st.optimistic,jt=Ft===void 0?!0:Ft,fe=st.removeOptimistic,Ce=st.onWatchUpdated,xe,ve=function(Ne){var tr=gt,Er=tr.data,hr=tr.optimisticData;++gt.txCount,Ne&&(gt.data=gt.optimisticData=Ne);try{return xe=kt(gt)}finally{--gt.txCount,gt.data=Er,gt.optimisticData=hr}},Ue=new Set;return Ce&&!this.txCount&&this.broadcastWatches((0,d.__assign)((0,d.__assign)({},st),{onWatchUpdated:function(Ne){return Ue.add(Ne),!1}})),typeof jt=="string"?this.optimisticData=this.optimisticData.addLayer(jt,ve):jt===!1?ve(this.data):ve(),typeof fe=="string"&&(this.optimisticData=this.optimisticData.removeLayer(fe)),Ce&&Ue.size?(this.broadcastWatches((0,d.__assign)((0,d.__assign)({},st),{onWatchUpdated:function(Ne,tr){var Er=Ce.call(this,Ne,tr);return Er!==!1&&Ue.delete(Ne),Er}})),Ue.size&&Ue.forEach(function(Ne){return gt.maybeBroadcastWatch.dirty(Ne)})):this.broadcastWatches(st),xe},Yt.prototype.performTransaction=function(st,gt){return this.batch({update:st,optimistic:gt||gt!==null})},Yt.prototype.transformDocument=function(st){if(this.addTypename){var gt=this.typenameDocumentCache.get(st);return gt||(gt=(0,y.Gw)(st),this.typenameDocumentCache.set(st,gt),this.typenameDocumentCache.set(gt,gt)),gt}return st},Yt.prototype.broadcastWatches=function(st){var gt=this;this.txCount||this.watches.forEach(function(kt){return gt.maybeBroadcastWatch(kt,st)})},Yt.prototype.broadcastWatch=function(st,gt){var kt=st.lastDiff,Ft=this.diff(st);gt&&(st.optimistic&&typeof gt.optimistic=="string"&&(Ft.fromOptimisticTransaction=!0),gt.onWatchUpdated&&gt.onWatchUpdated.call(this,st,Ft,kt)===!1)||(!kt||!(0,I.D)(kt.result,Ft.result))&&st.callback(st.lastDiff=Ft,kt)},Yt}(A)},81377:function(ct,C,v){"use strict";v.d(C,{h:function(){return S},B:function(){return y}});var d=v(70655),T=v(67943),P=v(657),I=v(8776),O=v(31578),A=v(28776);function E(x){return(0,I.s)(x)?(0,A.kJ)(x)?x.slice(0):(0,d.__assign)({__proto__:Object.getPrototypeOf(x)},x):x}var S=function(){function x(){this.known=new(O.sy?WeakSet:Set),this.pool=new P.B(O.mr),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return x.prototype.isKnown=function(M){return(0,I.s)(M)&&this.known.has(M)},x.prototype.pass=function(M){if((0,I.s)(M)){var k=E(M);return this.passes.set(k,M),k}return M},x.prototype.admit=function(M){var k=this;if((0,I.s)(M)){var _=this.passes.get(M);if(_)return _;var B=Object.getPrototypeOf(M);switch(B){case Array.prototype:{if(this.known.has(M))return M;var z=M.map(this.admit,this),W=this.pool.lookupArray(z);return W.array||(this.known.add(W.array=z),__DEV__&&Object.freeze(z)),W.array}case null:case Object.prototype:{if(this.known.has(M))return M;var R=Object.getPrototypeOf(M),K=[R],ut=this.sortedKeys(M);K.push(ut.json);var ot=K.length;ut.sorted.forEach(function(yt){K.push(k.admit(M[yt]))});var W=this.pool.lookupArray(K);if(!W.object){var dt=W.object=Object.create(R);this.known.add(dt),ut.sorted.forEach(function(yt,tt){dt[yt]=K[ot+tt]}),__DEV__&&Object.freeze(dt)}return W.object}}}return M},x.prototype.sortedKeys=function(M){var k=Object.keys(M),_=this.pool.lookupArray(k);if(!_.keys){k.sort();var B=JSON.stringify(k);(_.keys=this.keysByJSON.get(B))||this.keysByJSON.set(B,_.keys={sorted:k,json:B})}return _.keys},x}(),y=Object.assign(function(x){if((0,I.s)(x)){b===void 0&&m();var M=b.admit(x),k=p.get(M);return k===void 0&&p.set(M,k=JSON.stringify(M)),k}return JSON.stringify(x)},{reset:m}),b,p;function m(){b=new S,p=new(O.mr?WeakMap:Map)}},83974:function(ct,C,v){"use strict";v.d(C,{ab:function(){return P},li:function(){return A},_v:function(){return E},QS:function(){return S}});var d=v(60507),T=v(38751),P=new T.g7,I=new WeakMap;function O(b){var p=I.get(b);return p||I.set(b,p={vars:new Set,dep:(0,d.dP)()}),p}function A(b){O(b).vars.forEach(function(p){return p.forgetCache(b)})}function E(b){O(b).vars.forEach(function(p){return p.attachCache(b)})}function S(b){var p=new Set,m=new Set,x=function(k){if(arguments.length>0){if(b!==k){b=k,p.forEach(function(z){O(z).dep.dirty(x),y(z)});var _=Array.from(m);m.clear(),_.forEach(function(z){return z(b)})}}else{var B=P.getValue();B&&(M(B),O(B).dep(x))}return b};x.onNextChange=function(k){return m.add(k),function(){m.delete(k)}};var M=x.attachCache=function(k){return p.add(k),O(k).vars.add(x),x};return x.forgetCache=function(k){return p.delete(k)},x}function y(b){b.broadcastWatches&&b.broadcastWatches()}},25630:function(ct,C,v){"use strict";v.d(C,{f:function(){return Pi}});var d=v(70655),T=v(67943);function P(Bt,G){var V=typeof Symbol!="undefined"&&Bt[Symbol.iterator]||Bt["@@iterator"];if(V)return(V=V.call(Bt)).next.bind(V);if(Array.isArray(Bt)||(V=I(Bt))||G&&Bt&&typeof Bt.length=="number"){V&&(Bt=V);var Y=0;return function(){return Y>=Bt.length?{done:!0}:{done:!1,value:Bt[Y++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(Bt,G){if(!!Bt){if(typeof Bt=="string")return O(Bt,G);var V=Object.prototype.toString.call(Bt).slice(8,-1);if(V==="Object"&&Bt.constructor&&(V=Bt.constructor.name),V==="Map"||V==="Set")return Array.from(Bt);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return O(Bt,G)}}function O(Bt,G){(G==null||G>Bt.length)&&(G=Bt.length);for(var V=0,Y=new Array(G);V<G;V++)Y[V]=Bt[V];return Y}function A(Bt,G){for(var V=0;V<G.length;V++){var Y=G[V];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(Bt,Y.key,Y)}}function E(Bt,G,V){return G&&A(Bt.prototype,G),V&&A(Bt,V),Object.defineProperty(Bt,"prototype",{writable:!1}),Bt}var S=function(){return typeof Symbol=="function"},y=function(Bt){return S()&&Boolean(Symbol[Bt])},b=function(Bt){return y(Bt)?Symbol[Bt]:"@@"+Bt};S()&&!y("observable")&&(Symbol.observable=Symbol("observable"));var p=b("iterator"),m=b("observable"),x=b("species");function M(Bt,G){var V=Bt[G];if(V!=null){if(typeof V!="function")throw new TypeError(V+" is not a function");return V}}function k(Bt){var G=Bt.constructor;return G!==void 0&&(G=G[x],G===null&&(G=void 0)),G!==void 0?G:yt}function _(Bt){return Bt instanceof yt}function B(Bt){B.log?B.log(Bt):setTimeout(function(){throw Bt})}function z(Bt){Promise.resolve().then(function(){try{Bt()}catch(G){B(G)}})}function W(Bt){var G=Bt._cleanup;if(G!==void 0&&(Bt._cleanup=void 0,!!G))try{if(typeof G=="function")G();else{var V=M(G,"unsubscribe");V&&V.call(G)}}catch(Y){B(Y)}}function R(Bt){Bt._observer=void 0,Bt._queue=void 0,Bt._state="closed"}function K(Bt){var G=Bt._queue;if(!!G){Bt._queue=void 0,Bt._state="ready";for(var V=0;V<G.length&&(ut(Bt,G[V].type,G[V].value),Bt._state!=="closed");++V);}}function ut(Bt,G,V){Bt._state="running";var Y=Bt._observer;try{var Z=M(Y,G);switch(G){case"next":Z&&Z.call(Y,V);break;case"error":if(R(Bt),Z)Z.call(Y,V);else throw V;break;case"complete":R(Bt),Z&&Z.call(Y);break}}catch(Ct){B(Ct)}Bt._state==="closed"?W(Bt):Bt._state==="running"&&(Bt._state="ready")}function ot(Bt,G,V){if(Bt._state!=="closed"){if(Bt._state==="buffering"){Bt._queue.push({type:G,value:V});return}if(Bt._state!=="ready"){Bt._state="buffering",Bt._queue=[{type:G,value:V}],z(function(){return K(Bt)});return}ut(Bt,G,V)}}var dt=function(){function Bt(V,Y){this._cleanup=void 0,this._observer=V,this._queue=void 0,this._state="initializing";var Z=new nt(this);try{this._cleanup=Y.call(void 0,Z)}catch(Ct){Z.error(Ct)}this._state==="initializing"&&(this._state="ready")}var G=Bt.prototype;return G.unsubscribe=function(){this._state!=="closed"&&(R(this),W(this))},E(Bt,[{key:"closed",get:function(){return this._state==="closed"}}]),Bt}(),nt=function(){function Bt(V){this._subscription=V}var G=Bt.prototype;return G.next=function(Y){ot(this._subscription,"next",Y)},G.error=function(Y){ot(this._subscription,"error",Y)},G.complete=function(){ot(this._subscription,"complete")},E(Bt,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),Bt}(),yt=function(){function Bt(V){if(!(this instanceof Bt))throw new TypeError("Observable cannot be called as a function");if(typeof V!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=V}var G=Bt.prototype;return G.subscribe=function(Y){return(typeof Y!="object"||Y===null)&&(Y={next:Y,error:arguments[1],complete:arguments[2]}),new dt(Y,this._subscriber)},G.forEach=function(Y){var Z=this;return new Promise(function(Ct,_t){if(typeof Y!="function"){_t(new TypeError(Y+" is not a function"));return}function Wt(){Jt.unsubscribe(),Ct()}var Jt=Z.subscribe({next:function(ee){try{Y(ee,Wt)}catch(Be){_t(Be),Jt.unsubscribe()}},error:_t,complete:Ct})})},G.map=function(Y){var Z=this;if(typeof Y!="function")throw new TypeError(Y+" is not a function");var Ct=k(this);return new Ct(function(_t){return Z.subscribe({next:function(Wt){try{Wt=Y(Wt)}catch(Jt){return _t.error(Jt)}_t.next(Wt)},error:function(Wt){_t.error(Wt)},complete:function(){_t.complete()}})})},G.filter=function(Y){var Z=this;if(typeof Y!="function")throw new TypeError(Y+" is not a function");var Ct=k(this);return new Ct(function(_t){return Z.subscribe({next:function(Wt){try{if(!Y(Wt))return}catch(Jt){return _t.error(Jt)}_t.next(Wt)},error:function(Wt){_t.error(Wt)},complete:function(){_t.complete()}})})},G.reduce=function(Y){var Z=this;if(typeof Y!="function")throw new TypeError(Y+" is not a function");var Ct=k(this),_t=arguments.length>1,Wt=!1,Jt=arguments[1],ee=Jt;return new Ct(function(Be){return Z.subscribe({next:function(Ge){var Fe=!Wt;if(Wt=!0,!Fe||_t)try{ee=Y(ee,Ge)}catch(or){return Be.error(or)}else ee=Ge},error:function(Ge){Be.error(Ge)},complete:function(){if(!Wt&&!_t)return Be.error(new TypeError("Cannot reduce an empty sequence"));Be.next(ee),Be.complete()}})})},G.concat=function(){for(var Y=this,Z=arguments.length,Ct=new Array(Z),_t=0;_t<Z;_t++)Ct[_t]=arguments[_t];var Wt=k(this);return new Wt(function(Jt){var ee,Be=0;function Ge(Fe){ee=Fe.subscribe({next:function(or){Jt.next(or)},error:function(or){Jt.error(or)},complete:function(){Be===Ct.length?(ee=void 0,Jt.complete()):Ge(Wt.from(Ct[Be++]))}})}return Ge(Y),function(){ee&&(ee.unsubscribe(),ee=void 0)}})},G.flatMap=function(Y){var Z=this;if(typeof Y!="function")throw new TypeError(Y+" is not a function");var Ct=k(this);return new Ct(function(_t){var Wt=[],Jt=Z.subscribe({next:function(Be){if(Y)try{Be=Y(Be)}catch(Fe){return _t.error(Fe)}var Ge=Ct.from(Be).subscribe({next:function(Fe){_t.next(Fe)},error:function(Fe){_t.error(Fe)},complete:function(){var Fe=Wt.indexOf(Ge);Fe>=0&&Wt.splice(Fe,1),ee()}});Wt.push(Ge)},error:function(Be){_t.error(Be)},complete:function(){ee()}});function ee(){Jt.closed&&Wt.length===0&&_t.complete()}return function(){Wt.forEach(function(Be){return Be.unsubscribe()}),Jt.unsubscribe()}})},G[m]=function(){return this},Bt.from=function(Y){var Z=typeof this=="function"?this:Bt;if(Y==null)throw new TypeError(Y+" is not an object");var Ct=M(Y,m);if(Ct){var _t=Ct.call(Y);if(Object(_t)!==_t)throw new TypeError(_t+" is not an object");return _(_t)&&_t.constructor===Z?_t:new Z(function(Wt){return _t.subscribe(Wt)})}if(y("iterator")&&(Ct=M(Y,p),Ct))return new Z(function(Wt){z(function(){if(!Wt.closed){for(var Jt=P(Ct.call(Y)),ee;!(ee=Jt()).done;){var Be=ee.value;if(Wt.next(Be),Wt.closed)return}Wt.complete()}})});if(Array.isArray(Y))return new Z(function(Wt){z(function(){if(!Wt.closed){for(var Jt=0;Jt<Y.length;++Jt)if(Wt.next(Y[Jt]),Wt.closed)return;Wt.complete()}})});throw new TypeError(Y+" is not observable")},Bt.of=function(){for(var Y=arguments.length,Z=new Array(Y),Ct=0;Ct<Y;Ct++)Z[Ct]=arguments[Ct];var _t=typeof this=="function"?this:Bt;return new _t(function(Wt){z(function(){if(!Wt.closed){for(var Jt=0;Jt<Z.length;++Jt)if(Wt.next(Z[Jt]),Wt.closed)return;Wt.complete()}})})},E(Bt,null,[{key:x,get:function(){return this}}]),Bt}();S()&&Object.defineProperty(yt,Symbol("extensions"),{value:{symbol:m,hostReportError:B},configurable:!0});function tt(Bt,G){var V=(0,d.__assign)({},Bt),Y=function(Ct){typeof Ct=="function"?V=(0,d.__assign)((0,d.__assign)({},V),Ct(V)):V=(0,d.__assign)((0,d.__assign)({},V),Ct)},Z=function(){return(0,d.__assign)({},V)};return Object.defineProperty(G,"setContext",{enumerable:!1,value:Y}),Object.defineProperty(G,"getContext",{enumerable:!1,value:Z}),G}var J=v(34604);function ft(Bt){var G={variables:Bt.variables||{},extensions:Bt.extensions||{},operationName:Bt.operationName,query:Bt.query};return G.operationName||(G.operationName=typeof G.query!="string"?(0,J.rY)(G.query)||void 0:""),G}function rt(Bt){for(var G=["query","operationName","variables","extensions","context"],V=0,Y=Object.keys(Bt);V<Y.length;V++){var Z=Y[V];if(G.indexOf(Z)<0)throw __DEV__?new T.ej("illegal argument: ".concat(Z)):new T.ej(24)}return Bt}function St(Bt,G){return G?G(Bt):yt.of()}function wt(Bt){return typeof Bt=="function"?new Q(Bt):Bt}function q(Bt){return Bt.request.length<=1}var it=function(Bt){(0,d.__extends)(G,Bt);function G(V,Y){var Z=Bt.call(this,V)||this;return Z.link=Y,Z}return G}(Error),Q=function(){function Bt(G){G&&(this.request=G)}return Bt.empty=function(){return new Bt(function(){return yt.of()})},Bt.from=function(G){return G.length===0?Bt.empty():G.map(wt).reduce(function(V,Y){return V.concat(Y)})},Bt.split=function(G,V,Y){var Z=wt(V),Ct=wt(Y||new Bt(St));return q(Z)&&q(Ct)?new Bt(function(_t){return G(_t)?Z.request(_t)||yt.of():Ct.request(_t)||yt.of()}):new Bt(function(_t,Wt){return G(_t)?Z.request(_t,Wt)||yt.of():Ct.request(_t,Wt)||yt.of()})},Bt.execute=function(G,V){return G.request(tt(V.context,ft(rt(V))))||yt.of()},Bt.concat=function(G,V){var Y=wt(G);if(q(Y))return __DEV__&&T.kG.warn(new it("You are calling concat on a terminating link, which will have no effect",Y)),Y;var Z=wt(V);return q(Z)?new Bt(function(Ct){return Y.request(Ct,function(_t){return Z.request(_t)||yt.of()})||yt.of()}):new Bt(function(Ct,_t){return Y.request(Ct,function(Wt){return Z.request(Wt,_t)||yt.of()})||yt.of()})},Bt.prototype.split=function(G,V,Y){return this.concat(Bt.split(G,V,Y||new Bt(St)))},Bt.prototype.concat=function(G){return Bt.concat(this,G)},Bt.prototype.request=function(G,V){throw __DEV__?new T.ej("request is not implemented"):new T.ej(19)},Bt.prototype.onError=function(G,V){if(V&&V.error)return V.error(G),!1;throw G},Bt.prototype.setOnError=function(G){return this.onError=G,this},Bt}(),f=Q.execute,vt="3.6.9",It=v(27636),Qt=function(Bt,G){var V;try{V=JSON.stringify(Bt)}catch(Z){var Y=__DEV__?new T.ej("Network request failed. ".concat(G," is not serializable: ").concat(Z.message)):new T.ej(21);throw Y.parseError=Z,Y}return V},Se=function(Bt,G){var V=Bt.getContext(),Y=V.uri;return Y||(typeof G=="function"?G(Bt):G||"/graphql")},$t=function(Bt,G,V){var Y=new Error(V);throw Y.name="ServerError",Y.response=Bt,Y.statusCode=Bt.status,Y.result=G,Y},re=Object.prototype.hasOwnProperty;function he(Bt){return function(G){return G.text().then(function(V){try{return JSON.parse(V)}catch(Z){var Y=Z;throw Y.name="ServerParseError",Y.response=G,Y.statusCode=G.status,Y.bodyText=V,Y}}).then(function(V){return G.status>=300&&$t(G,V,"Response not successful: Received status code ".concat(G.status)),!Array.isArray(V)&&!re.call(V,"data")&&!re.call(V,"errors")&&$t(G,V,"Server response was missing for query '".concat(Array.isArray(Bt)?Bt.map(function(Y){return Y.operationName}):Bt.operationName,"'.")),V})}}var Me=function(Bt){if(!Bt&&typeof fetch=="undefined")throw __DEV__?new T.ej(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new T.ej(20)},le=v(7420);function Rt(Bt){return`"${Bt.replace(Ot,At)}"`}const Ot=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function At(Bt){return Dt[Bt.charCodeAt(0)]}const Dt=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function j(Bt){return(0,It.Vn)(Bt,et)}const $=80,et={Name:{leave:Bt=>Bt.value},Variable:{leave:Bt=>"$"+Bt.name},Document:{leave:Bt=>Tt(Bt.definitions,`

`)},OperationDefinition:{leave(Bt){const G=Ut("(",Tt(Bt.variableDefinitions,", "),")"),V=Tt([Bt.operation,Tt([Bt.name,G]),Tt(Bt.directives," ")]," ");return(V==="query"?"":V+" ")+Bt.selectionSet}},VariableDefinition:{leave:({variable:Bt,type:G,defaultValue:V,directives:Y})=>Bt+": "+G+Ut(" = ",V)+Ut(" ",Tt(Y," "))},SelectionSet:{leave:({selections:Bt})=>Nt(Bt)},Field:{leave({alias:Bt,name:G,arguments:V,directives:Y,selectionSet:Z}){const Ct=Ut("",Bt,": ")+G;let _t=Ct+Ut("(",Tt(V,", "),")");return _t.length>$&&(_t=Ct+Ut(`(
`,Oe(Tt(V,`
`)),`
)`)),Tt([_t,Tt(Y," "),Z]," ")}},Argument:{leave:({name:Bt,value:G})=>Bt+": "+G},FragmentSpread:{leave:({name:Bt,directives:G})=>"..."+Bt+Ut(" ",Tt(G," "))},InlineFragment:{leave:({typeCondition:Bt,directives:G,selectionSet:V})=>Tt(["...",Ut("on ",Bt),Tt(G," "),V]," ")},FragmentDefinition:{leave:({name:Bt,typeCondition:G,variableDefinitions:V,directives:Y,selectionSet:Z})=>`fragment ${Bt}${Ut("(",Tt(V,", "),")")} on ${G} ${Ut("",Tt(Y," ")," ")}`+Z},IntValue:{leave:({value:Bt})=>Bt},FloatValue:{leave:({value:Bt})=>Bt},StringValue:{leave:({value:Bt,block:G})=>G?(0,le.LZ)(Bt):Rt(Bt)},BooleanValue:{leave:({value:Bt})=>Bt?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:Bt})=>Bt},ListValue:{leave:({values:Bt})=>"["+Tt(Bt,", ")+"]"},ObjectValue:{leave:({fields:Bt})=>"{"+Tt(Bt,", ")+"}"},ObjectField:{leave:({name:Bt,value:G})=>Bt+": "+G},Directive:{leave:({name:Bt,arguments:G})=>"@"+Bt+Ut("(",Tt(G,", "),")")},NamedType:{leave:({name:Bt})=>Bt},ListType:{leave:({type:Bt})=>"["+Bt+"]"},NonNullType:{leave:({type:Bt})=>Bt+"!"},SchemaDefinition:{leave:({description:Bt,directives:G,operationTypes:V})=>Ut("",Bt,`
`)+Tt(["schema",Tt(G," "),Nt(V)]," ")},OperationTypeDefinition:{leave:({operation:Bt,type:G})=>Bt+": "+G},ScalarTypeDefinition:{leave:({description:Bt,name:G,directives:V})=>Ut("",Bt,`
`)+Tt(["scalar",G,Tt(V," ")]," ")},ObjectTypeDefinition:{leave:({description:Bt,name:G,interfaces:V,directives:Y,fields:Z})=>Ut("",Bt,`
`)+Tt(["type",G,Ut("implements ",Tt(V," & ")),Tt(Y," "),Nt(Z)]," ")},FieldDefinition:{leave:({description:Bt,name:G,arguments:V,type:Y,directives:Z})=>Ut("",Bt,`
`)+G+(He(V)?Ut(`(
`,Oe(Tt(V,`
`)),`
)`):Ut("(",Tt(V,", "),")"))+": "+Y+Ut(" ",Tt(Z," "))},InputValueDefinition:{leave:({description:Bt,name:G,type:V,defaultValue:Y,directives:Z})=>Ut("",Bt,`
`)+Tt([G+": "+V,Ut("= ",Y),Tt(Z," ")]," ")},InterfaceTypeDefinition:{leave:({description:Bt,name:G,interfaces:V,directives:Y,fields:Z})=>Ut("",Bt,`
`)+Tt(["interface",G,Ut("implements ",Tt(V," & ")),Tt(Y," "),Nt(Z)]," ")},UnionTypeDefinition:{leave:({description:Bt,name:G,directives:V,types:Y})=>Ut("",Bt,`
`)+Tt(["union",G,Tt(V," "),Ut("= ",Tt(Y," | "))]," ")},EnumTypeDefinition:{leave:({description:Bt,name:G,directives:V,values:Y})=>Ut("",Bt,`
`)+Tt(["enum",G,Tt(V," "),Nt(Y)]," ")},EnumValueDefinition:{leave:({description:Bt,name:G,directives:V})=>Ut("",Bt,`
`)+Tt([G,Tt(V," ")]," ")},InputObjectTypeDefinition:{leave:({description:Bt,name:G,directives:V,fields:Y})=>Ut("",Bt,`
`)+Tt(["input",G,Tt(V," "),Nt(Y)]," ")},DirectiveDefinition:{leave:({description:Bt,name:G,arguments:V,repeatable:Y,locations:Z})=>Ut("",Bt,`
`)+"directive @"+G+(He(V)?Ut(`(
`,Oe(Tt(V,`
`)),`
)`):Ut("(",Tt(V,", "),")"))+(Y?" repeatable":"")+" on "+Tt(Z," | ")},SchemaExtension:{leave:({directives:Bt,operationTypes:G})=>Tt(["extend schema",Tt(Bt," "),Nt(G)]," ")},ScalarTypeExtension:{leave:({name:Bt,directives:G})=>Tt(["extend scalar",Bt,Tt(G," ")]," ")},ObjectTypeExtension:{leave:({name:Bt,interfaces:G,directives:V,fields:Y})=>Tt(["extend type",Bt,Ut("implements ",Tt(G," & ")),Tt(V," "),Nt(Y)]," ")},InterfaceTypeExtension:{leave:({name:Bt,interfaces:G,directives:V,fields:Y})=>Tt(["extend interface",Bt,Ut("implements ",Tt(G," & ")),Tt(V," "),Nt(Y)]," ")},UnionTypeExtension:{leave:({name:Bt,directives:G,types:V})=>Tt(["extend union",Bt,Tt(G," "),Ut("= ",Tt(V," | "))]," ")},EnumTypeExtension:{leave:({name:Bt,directives:G,values:V})=>Tt(["extend enum",Bt,Tt(G," "),Nt(V)]," ")},InputObjectTypeExtension:{leave:({name:Bt,directives:G,fields:V})=>Tt(["extend input",Bt,Tt(G," "),Nt(V)]," ")}};function Tt(Bt,G=""){var V;return(V=Bt==null?void 0:Bt.filter(Y=>Y).join(G))!==null&&V!==void 0?V:""}function Nt(Bt){return Ut(`{
`,Oe(Tt(Bt,`
`)),`
}`)}function Ut(Bt,G,V=""){return G!=null&&G!==""?Bt+G+V:""}function Oe(Bt){return Ut("  ",Bt.replace(/\n/g,`
  `))}function He(Bt){var G;return(G=Bt==null?void 0:Bt.some(V=>V.includes(`
`)))!==null&&G!==void 0?G:!1}var Zt={includeQuery:!0,includeExtensions:!1},be={accept:"*/*","content-type":"application/json"},_e={method:"POST"},Qe={http:Zt,headers:be,options:_e},dr=function(Bt,G){return G(Bt)};function ur(Bt,G){for(var V=[],Y=2;Y<arguments.length;Y++)V[Y-2]=arguments[Y];return V.unshift(G),Dr.apply(void 0,__spreadArray([Bt,dr],V,!1))}function Dr(Bt,G){for(var V=[],Y=2;Y<arguments.length;Y++)V[Y-2]=arguments[Y];var Z={},Ct={};V.forEach(function(Ge){Z=(0,d.__assign)((0,d.__assign)((0,d.__assign)({},Z),Ge.options),{headers:(0,d.__assign)((0,d.__assign)({},Z.headers),ne(Ge.headers))}),Ge.credentials&&(Z.credentials=Ge.credentials),Ct=(0,d.__assign)((0,d.__assign)({},Ct),Ge.http)});var _t=Bt.operationName,Wt=Bt.extensions,Jt=Bt.variables,ee=Bt.query,Be={operationName:_t,variables:Jt};return Ct.includeExtensions&&(Be.extensions=Wt),Ct.includeQuery&&(Be.query=G(ee,j)),{options:Z,body:Be}}function ne(Bt){if(Bt){var G=Object.create(null);return Object.keys(Object(Bt)).forEach(function(V){G[V.toLowerCase()]=Bt[V]}),G}return Bt}var se=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var Bt=new AbortController,G=Bt.signal;return{controller:Bt,signal:G}};function ye(Bt,G){var V=[],Y=function(Ge,Fe){V.push("".concat(Ge,"=").concat(encodeURIComponent(Fe)))};if("query"in G&&Y("query",G.query),G.operationName&&Y("operationName",G.operationName),G.variables){var Z=void 0;try{Z=Qt(G.variables,"Variables map")}catch(Ge){return{parseError:Ge}}Y("variables",Z)}if(G.extensions){var Ct=void 0;try{Ct=Qt(G.extensions,"Extensions map")}catch(Ge){return{parseError:Ge}}Y("extensions",Ct)}var _t="",Wt=Bt,Jt=Bt.indexOf("#");Jt!==-1&&(_t=Bt.substr(Jt),Wt=Bt.substr(0,Jt));var ee=Wt.indexOf("?")===-1?"?":"&",Be=Wt+ee+V.join("&")+_t;return{newURI:Be}}function We(Bt){return new yt(function(G){G.error(Bt)})}var De=(0,T.wY)(function(){return fetch}),ae=function(Bt){Bt===void 0&&(Bt={});var G=Bt.uri,V=G===void 0?"/graphql":G,Y=Bt.fetch,Z=Bt.print,Ct=Z===void 0?dr:Z,_t=Bt.includeExtensions,Wt=Bt.useGETForQueries,Jt=Bt.includeUnusedVariables,ee=Jt===void 0?!1:Jt,Be=(0,d.__rest)(Bt,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&Me(Y||De);var Ge={http:{includeExtensions:_t},options:Be.fetchOptions,credentials:Be.credentials,headers:Be.headers};return new Q(function(Fe){var or=Se(Fe,V),fr=Fe.getContext(),ze={};if(fr.clientAwareness){var gr=fr.clientAwareness,Br=gr.name,en=gr.version;Br&&(ze["apollographql-client-name"]=Br),en&&(ze["apollographql-client-version"]=en)}var Yr=(0,d.__assign)((0,d.__assign)({},ze),fr.headers),Fr={http:fr.http,options:fr.fetchOptions,credentials:fr.credentials,headers:Yr},Sr=Dr(Fe,Ct,Qe,Ge,Fr),Jr=Sr.options,vn=Sr.body;if(vn.variables&&!ee){var Tn=new Set(Object.keys(vn.variables));(0,It.Vn)(Fe.query,{Variable:function(gn,aa,ti){ti&&ti.kind!=="VariableDefinition"&&Tn.delete(gn.name.value)}}),Tn.size&&(vn.variables=(0,d.__assign)({},vn.variables),Tn.forEach(function(gn){delete vn.variables[gn]}))}var Gn;if(!Jr.signal){var Yn=se(),Oi=Yn.controller,Fi=Yn.signal;Gn=Oi,Gn&&(Jr.signal=Fi)}var gi=function(gn){return gn.kind==="OperationDefinition"&&gn.operation==="mutation"};if(Wt&&!Fe.query.definitions.some(gi)&&(Jr.method="GET"),Jr.method==="GET"){var Wi=ye(or,vn),Ji=Wi.newURI,qi=Wi.parseError;if(qi)return We(qi);or=Ji}else try{Jr.body=Qt(vn,"Payload")}catch(gn){return We(gn)}return new yt(function(gn){var aa=Y||(0,T.wY)(function(){return fetch})||De;return aa(or,Jr).then(function(ti){return Fe.setContext({response:ti}),ti}).then(he(Fe)).then(function(ti){return gn.next(ti),gn.complete(),ti}).catch(function(ti){ti.name!=="AbortError"&&(ti.result&&ti.result.errors&&ti.result.data&&gn.next(ti.result),gn.error(ti))}),function(){Gn&&Gn.abort()}})})},Yt=function(Bt){(0,d.__extends)(G,Bt);function G(V){V===void 0&&(V={});var Y=Bt.call(this,ae(V).request)||this;return Y.options=V,Y}return G}(Q),st=v(82152),gt=v(81377),kt=v(31578);function Ft(Bt,G,V){return new yt(function(Y){var Z=Y.next,Ct=Y.error,_t=Y.complete,Wt=0,Jt=!1,ee={then:function(or){return new Promise(function(fr){return fr(or())})}};function Be(or,fr){return or?function(ze){++Wt;var gr=function(){return or(ze)};ee=ee.then(gr,gr).then(function(Br){--Wt,Z&&Z.call(Y,Br),Jt&&Ge.complete()},function(Br){throw--Wt,Br}).catch(function(Br){Ct&&Ct.call(Y,Br)})}:function(ze){return fr&&fr.call(Y,ze)}}var Ge={next:Be(G,Z),error:Be(V,Ct),complete:function(){Jt=!0,Wt||_t&&_t.call(Y)}},Fe=Bt.subscribe(Ge);return function(){return Fe.unsubscribe()}})}function jt(Bt){return Bt.errors&&Bt.errors.length>0||!1}var fe=v(81234),Ce=v(86376),xe=v(90386),ve=v(8776),Ue=v(93826);function Ne(Bt,G,V){var Y=[];Bt.forEach(function(Z){return Z[G]&&Y.push(Z)}),Y.forEach(function(Z){return Z[G](V)})}function tr(Bt){function G(V){Object.defineProperty(Bt,V,{value:yt})}return kt.aS&&Symbol.species&&G(Symbol.species),G("@@species"),Bt}function Er(Bt){return Bt&&typeof Bt.then=="function"}var hr=function(Bt){(0,d.__extends)(G,Bt);function G(V){var Y=Bt.call(this,function(Z){return Y.addObserver(Z),function(){return Y.removeObserver(Z)}})||this;return Y.observers=new Set,Y.addCount=0,Y.promise=new Promise(function(Z,Ct){Y.resolve=Z,Y.reject=Ct}),Y.handlers={next:function(Z){Y.sub!==null&&(Y.latest=["next",Z],Ne(Y.observers,"next",Z))},error:function(Z){var Ct=Y.sub;Ct!==null&&(Ct&&setTimeout(function(){return Ct.unsubscribe()}),Y.sub=null,Y.latest=["error",Z],Y.reject(Z),Ne(Y.observers,"error",Z))},complete:function(){var Z=Y.sub;if(Z!==null){var Ct=Y.sources.shift();Ct?Er(Ct)?Ct.then(function(_t){return Y.sub=_t.subscribe(Y.handlers)}):Y.sub=Ct.subscribe(Y.handlers):(Z&&setTimeout(function(){return Z.unsubscribe()}),Y.sub=null,Y.latest&&Y.latest[0]==="next"?Y.resolve(Y.latest[1]):Y.resolve(),Ne(Y.observers,"complete"))}}},Y.cancel=function(Z){Y.reject(Z),Y.sources=[],Y.handlers.complete()},Y.promise.catch(function(Z){}),typeof V=="function"&&(V=[new yt(V)]),Er(V)?V.then(function(Z){return Y.start(Z)},Y.handlers.error):Y.start(V),Y}return G.prototype.start=function(V){this.sub===void 0&&(this.sources=Array.from(V),this.handlers.complete())},G.prototype.deliverLastMessage=function(V){if(this.latest){var Y=this.latest[0],Z=V[Y];Z&&Z.call(V,this.latest[1]),this.sub===null&&Y==="next"&&V.complete&&V.complete()}},G.prototype.addObserver=function(V){this.observers.has(V)||(this.deliverLastMessage(V),this.observers.add(V),++this.addCount)},G.prototype.removeObserver=function(V,Y){this.observers.delete(V)&&--this.addCount<1&&!Y&&this.handlers.complete()},G.prototype.cleanup=function(V){var Y=this,Z=!1,Ct=function(){Z||(Z=!0,Y.observers.delete(_t),V())},_t={next:Ct,error:Ct,complete:Ct},Wt=this.addCount;this.addObserver(_t),this.addCount=Wt},G}(yt);tr(hr);var Tr=v(24517);function _r(Bt){return Bt.hasOwnProperty("graphQLErrors")}var Nr=function(Bt){var G="";if((0,Tr.O)(Bt.graphQLErrors)||(0,Tr.O)(Bt.clientErrors)){var V=(Bt.graphQLErrors||[]).concat(Bt.clientErrors||[]);V.forEach(function(Y){var Z=Y?Y.message:"Error message not found.";G+="".concat(Z,`
`)})}return Bt.networkError&&(G+="".concat(Bt.networkError.message,`
`)),G=G.replace(/\n$/,""),G},ir=function(Bt){(0,d.__extends)(G,Bt);function G(V){var Y=V.graphQLErrors,Z=V.clientErrors,Ct=V.networkError,_t=V.errorMessage,Wt=V.extraInfo,Jt=Bt.call(this,_t)||this;return Jt.graphQLErrors=Y||[],Jt.clientErrors=Z||[],Jt.networkError=Ct||null,Jt.message=_t||Nr(Jt),Jt.extraInfo=Wt,Jt.__proto__=G.prototype,Jt}return G}(Error),wr;(function(Bt){Bt[Bt.loading=1]="loading",Bt[Bt.setVariables=2]="setVariables",Bt[Bt.fetchMore=3]="fetchMore",Bt[Bt.refetch=4]="refetch",Bt[Bt.poll=6]="poll",Bt[Bt.ready=7]="ready",Bt[Bt.error=8]="error"})(wr||(wr={}));function Zr(Bt){return Bt?Bt<7:!1}var Wr=v(23346),Qr=v(17954),ie=Object.assign,ue=Object.hasOwnProperty,me=function(Bt){(0,d.__extends)(G,Bt);function G(V){var Y=V.queryManager,Z=V.queryInfo,Ct=V.options,_t=Bt.call(this,function(gr){try{var Br=gr._subscription._observer;Br&&!Br.error&&(Br.error=Xe)}catch(Fr){}var en=!_t.observers.size;_t.observers.add(gr);var Yr=_t.last;return Yr&&Yr.error?gr.error&&gr.error(Yr.error):Yr&&Yr.result&&gr.next&&gr.next(Yr.result),en&&_t.reobserve().catch(function(){}),function(){_t.observers.delete(gr)&&!_t.observers.size&&_t.tearDownQuery()}})||this;_t.observers=new Set,_t.subscriptions=new Set,_t.queryInfo=Z,_t.queryManager=Y,_t.isTornDown=!1;var Wt=Y.defaultOptions.watchQuery,Jt=Wt===void 0?{}:Wt,ee=Jt.fetchPolicy,Be=ee===void 0?"cache-first":ee,Ge=Ct.fetchPolicy,Fe=Ge===void 0?Be:Ge,or=Ct.initialFetchPolicy,fr=or===void 0?Fe==="standby"?Be:Fe:or;_t.options=(0,d.__assign)((0,d.__assign)({},Ct),{initialFetchPolicy:fr,fetchPolicy:Fe}),_t.queryId=Z.queryId||Y.generateQueryId();var ze=(0,J.$H)(_t.query);return _t.queryName=ze&&ze.name&&ze.name.value,_t}return Object.defineProperty(G.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),G.prototype.result=function(){var V=this;return new Promise(function(Y,Z){var Ct={next:function(Wt){Y(Wt),V.observers.delete(Ct),V.observers.size||V.queryManager.removeQuery(V.queryId),setTimeout(function(){_t.unsubscribe()},0)},error:Z},_t=V.subscribe(Ct)})},G.prototype.getCurrentResult=function(V){V===void 0&&(V=!0);var Y=this.getLastResult(!0),Z=this.queryInfo.networkStatus||Y&&Y.networkStatus||wr.ready,Ct=(0,d.__assign)((0,d.__assign)({},Y),{loading:Zr(Z),networkStatus:Z}),_t=this.options.fetchPolicy,Wt=_t===void 0?"cache-first":_t;if(!(Wt==="network-only"||Wt==="no-cache"||Wt==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var Jt=this.queryInfo.getDiff();(Jt.complete||this.options.returnPartialData)&&(Ct.data=Jt.result),(0,st.D)(Ct.data,{})&&(Ct.data=void 0),Jt.complete?(delete Ct.partial,Jt.complete&&Ct.networkStatus===wr.loading&&(Wt==="cache-first"||Wt==="cache-only")&&(Ct.networkStatus=wr.ready,Ct.loading=!1)):Ct.partial=!0,__DEV__&&!Jt.complete&&!this.options.partialRefetch&&!Ct.loading&&!Ct.data&&!Ct.error&&$e(Jt.missing)}return V&&this.updateLastResult(Ct),Ct},G.prototype.isDifferentFromLastResult=function(V){return!this.last||!(0,st.D)(this.last.result,V)},G.prototype.getLast=function(V,Y){var Z=this.last;if(Z&&Z[V]&&(!Y||(0,st.D)(Z.variables,this.variables)))return Z[V]},G.prototype.getLastResult=function(V){return this.getLast("result",V)},G.prototype.getLastError=function(V){return this.getLast("error",V)},G.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},G.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},G.prototype.refetch=function(V){var Y,Z={pollInterval:0},Ct=this.options.fetchPolicy;if(Ct==="cache-and-network"?Z.fetchPolicy=Ct:Ct==="no-cache"?Z.fetchPolicy="no-cache":Z.fetchPolicy="network-only",__DEV__&&V&&ue.call(V,"variables")){var _t=(0,J.iW)(this.query),Wt=_t.variableDefinitions;(!Wt||!Wt.some(function(Jt){return Jt.variable.name.value==="variables"}))&&__DEV__&&T.kG.warn("Called refetch(".concat(JSON.stringify(V),") for query ").concat(((Y=_t.name)===null||Y===void 0?void 0:Y.value)||JSON.stringify(_t),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return V&&!(0,st.D)(this.options.variables,V)&&(Z.variables=this.options.variables=(0,d.__assign)((0,d.__assign)({},this.options.variables),V)),this.queryInfo.resetLastWrite(),this.reobserve(Z,wr.refetch)},G.prototype.fetchMore=function(V){var Y=this,Z=(0,d.__assign)((0,d.__assign)({},V.query?V:(0,d.__assign)((0,d.__assign)((0,d.__assign)((0,d.__assign)({},this.options),{query:this.query}),V),{variables:(0,d.__assign)((0,d.__assign)({},this.options.variables),V.variables)})),{fetchPolicy:"no-cache"}),Ct=this.queryManager.generateQueryId(),_t=this.queryInfo,Wt=_t.networkStatus;_t.networkStatus=wr.fetchMore,Z.notifyOnNetworkStatusChange&&this.observe();var Jt=new Set;return this.queryManager.fetchQuery(Ct,Z,wr.fetchMore).then(function(ee){return Y.queryManager.removeQuery(Ct),_t.networkStatus===wr.fetchMore&&(_t.networkStatus=Wt),Y.queryManager.cache.batch({update:function(Be){var Ge=V.updateQuery;Ge?Be.updateQuery({query:Y.query,variables:Y.variables,returnPartialData:!0,optimistic:!1},function(Fe){return Ge(Fe,{fetchMoreResult:ee.data,variables:Z.variables})}):Be.writeQuery({query:Z.query,variables:Z.variables,data:ee.data})},onWatchUpdated:function(Be){Jt.add(Be.query)}}),ee}).finally(function(){Jt.has(Y.query)||Le(Y)})},G.prototype.subscribeToMore=function(V){var Y=this,Z=this.queryManager.startGraphQLSubscription({query:V.document,variables:V.variables,context:V.context}).subscribe({next:function(Ct){var _t=V.updateQuery;_t&&Y.updateQuery(function(Wt,Jt){var ee=Jt.variables;return _t(Wt,{subscriptionData:Ct,variables:ee})})},error:function(Ct){if(V.onError){V.onError(Ct);return}__DEV__&&T.kG.error("Unhandled GraphQL subscription error",Ct)}});return this.subscriptions.add(Z),function(){Y.subscriptions.delete(Z)&&Z.unsubscribe()}},G.prototype.setOptions=function(V){return this.reobserve(V)},G.prototype.setVariables=function(V){return(0,st.D)(this.variables,V)?this.observers.size?this.result():Promise.resolve():(this.options.variables=V,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:V},wr.setVariables):Promise.resolve())},G.prototype.updateQuery=function(V){var Y=this.queryManager,Z=Y.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,Ct=V(Z,{variables:this.variables});Ct&&(Y.cache.writeQuery({query:this.options.query,data:Ct,variables:this.variables}),Y.broadcastQueries())},G.prototype.startPolling=function(V){this.options.pollInterval=V,this.updatePolling()},G.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},G.prototype.applyNextFetchPolicy=function(V,Y){if(Y.nextFetchPolicy){var Z=Y.fetchPolicy,Ct=Z===void 0?"cache-first":Z,_t=Y.initialFetchPolicy,Wt=_t===void 0?Ct:_t;Ct==="standby"||(typeof Y.nextFetchPolicy=="function"?Y.fetchPolicy=Y.nextFetchPolicy(Ct,{reason:V,options:Y,observable:this,initialFetchPolicy:Wt}):V==="variables-changed"?Y.fetchPolicy=Wt:Y.fetchPolicy=Y.nextFetchPolicy)}return Y.fetchPolicy},G.prototype.fetch=function(V,Y){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,V,Y)},G.prototype.updatePolling=function(){var V=this;if(!this.queryManager.ssrMode){var Y=this,Z=Y.pollingInfo,Ct=Y.options.pollInterval;if(!Ct){Z&&(clearTimeout(Z.timeout),delete this.pollingInfo);return}if(!(Z&&Z.interval===Ct)){__DEV__?(0,T.kG)(Ct,"Attempted to start a polling query without a polling interval."):(0,T.kG)(Ct,10);var _t=Z||(this.pollingInfo={});_t.interval=Ct;var Wt=function(){V.pollingInfo&&(Zr(V.queryInfo.networkStatus)?Jt():V.reobserve({fetchPolicy:"network-only"},wr.poll).then(Jt,Jt))},Jt=function(){var ee=V.pollingInfo;ee&&(clearTimeout(ee.timeout),ee.timeout=setTimeout(Wt,ee.interval))};Jt()}}},G.prototype.updateLastResult=function(V,Y){return Y===void 0&&(Y=this.variables),this.last=(0,d.__assign)((0,d.__assign)({},this.last),{result:this.queryManager.assumeImmutableResults?V:(0,Wr.X)(V),variables:Y}),(0,Tr.O)(V.errors)||delete this.last.error,this.last},G.prototype.reobserve=function(V,Y){var Z=this;this.isTornDown=!1;var Ct=Y===wr.refetch||Y===wr.fetchMore||Y===wr.poll,_t=this.options.variables,Wt=this.options.fetchPolicy,Jt=(0,Qr.o)(this.options,V||{}),ee=Ct?Jt:ie(this.options,Jt);Ct||(this.updatePolling(),V&&V.variables&&!(0,st.D)(V.variables,_t)&&ee.fetchPolicy!=="standby"&&ee.fetchPolicy===Wt&&(this.applyNextFetchPolicy("variables-changed",ee),Y===void 0&&(Y=wr.setVariables)));var Be=ee.variables&&(0,d.__assign)({},ee.variables),Ge=this.fetch(ee,Y),Fe={next:function(or){Z.reportResult(or,Be)},error:function(or){Z.reportError(or,Be)}};return Ct||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=Ge,this.observer=Fe),Ge.addObserver(Fe),Ge.promise},G.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},G.prototype.reportResult=function(V,Y){var Z=this.getLastError();(Z||this.isDifferentFromLastResult(V))&&((Z||!V.partial||this.options.returnPartialData)&&this.updateLastResult(V,Y),Ne(this.observers,"next",V))},G.prototype.reportError=function(V,Y){var Z=(0,d.__assign)((0,d.__assign)({},this.getLastResult()),{error:V,errors:V.graphQLErrors,networkStatus:wr.error,loading:!1});this.updateLastResult(Z,Y),Ne(this.observers,"error",this.last.error=V)},G.prototype.hasObservers=function(){return this.observers.size>0},G.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(V){return V.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},G}(yt);tr(me);function Le(Bt){var G=Bt.options,V=G.fetchPolicy,Y=G.nextFetchPolicy;return V==="cache-and-network"||V==="network-only"?Bt.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=Y,typeof Y=="function"?Y.apply(this,arguments):V}}):Bt.reobserve()}function Xe(Bt){__DEV__&&T.kG.error("Unhandled error",Bt.message,Bt.stack)}function $e(Bt){__DEV__&&Bt&&__DEV__&&T.kG.debug("Missing cache result fields: ".concat(JSON.stringify(Bt)),Bt)}var mr=v(87742),kr=v(99770),$r=v(83974),lr=function(){function Bt(G){var V=G.cache,Y=G.client,Z=G.resolvers,Ct=G.fragmentMatcher;this.cache=V,Y&&(this.client=Y),Z&&this.addResolvers(Z),Ct&&this.setFragmentMatcher(Ct)}return Bt.prototype.addResolvers=function(G){var V=this;this.resolvers=this.resolvers||{},Array.isArray(G)?G.forEach(function(Y){V.resolvers=(0,mr.Ee)(V.resolvers,Y)}):this.resolvers=(0,mr.Ee)(this.resolvers,G)},Bt.prototype.setResolvers=function(G){this.resolvers={},this.addResolvers(G)},Bt.prototype.getResolvers=function(){return this.resolvers||{}},Bt.prototype.runResolvers=function(G){var V=G.document,Y=G.remoteResult,Z=G.context,Ct=G.variables,_t=G.onlyRunForcedResolvers,Wt=_t===void 0?!1:_t;return(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(Jt){return V?[2,this.resolveDocument(V,Y.data,Z,Ct,this.fragmentMatcher,Wt).then(function(ee){return(0,d.__assign)((0,d.__assign)({},Y),{data:ee.result})})]:[2,Y]})})},Bt.prototype.setFragmentMatcher=function(G){this.fragmentMatcher=G},Bt.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},Bt.prototype.clientQuery=function(G){return(0,Ce.FS)(["client"],G)&&this.resolvers?G:null},Bt.prototype.serverQuery=function(G){return(0,fe.ob)(G)},Bt.prototype.prepareContext=function(G){var V=this.cache;return(0,d.__assign)((0,d.__assign)({},G),{cache:V,getCacheKey:function(Y){return V.identify(Y)}})},Bt.prototype.addExportedVariables=function(G,V,Y){return V===void 0&&(V={}),Y===void 0&&(Y={}),(0,d.__awaiter)(this,void 0,void 0,function(){return(0,d.__generator)(this,function(Z){return G?[2,this.resolveDocument(G,this.buildRootValueFromCache(G,V)||{},this.prepareContext(Y),V).then(function(Ct){return(0,d.__assign)((0,d.__assign)({},V),Ct.exportedVariables)})]:[2,(0,d.__assign)({},V)]})})},Bt.prototype.shouldForceResolvers=function(G){var V=!1;return(0,It.Vn)(G,{Directive:{enter:function(Y){if(Y.name.value==="client"&&Y.arguments&&(V=Y.arguments.some(function(Z){return Z.name.value==="always"&&Z.value.kind==="BooleanValue"&&Z.value.value===!0}),V))return It.$_}}}),V},Bt.prototype.buildRootValueFromCache=function(G,V){return this.cache.diff({query:(0,fe.aL)(G),variables:V,returnPartialData:!0,optimistic:!1}).result},Bt.prototype.resolveDocument=function(G,V,Y,Z,Ct,_t){return Y===void 0&&(Y={}),Z===void 0&&(Z={}),Ct===void 0&&(Ct=function(){return!0}),_t===void 0&&(_t=!1),(0,d.__awaiter)(this,void 0,void 0,function(){var Wt,Jt,ee,Be,Ge,Fe,or,fr,ze;return(0,d.__generator)(this,function(gr){return Wt=(0,J.p$)(G),Jt=(0,J.kU)(G),ee=(0,kr.F)(Jt),Be=Wt.operation,Ge=Be?Be.charAt(0).toUpperCase()+Be.slice(1):"Query",Fe=this,or=Fe.cache,fr=Fe.client,ze={fragmentMap:ee,context:(0,d.__assign)((0,d.__assign)({},Y),{cache:or,client:fr}),variables:Z,fragmentMatcher:Ct,defaultOperationType:Ge,exportedVariables:{},onlyRunForcedResolvers:_t},[2,this.resolveSelectionSet(Wt.selectionSet,V,ze).then(function(Br){return{result:Br,exportedVariables:ze.exportedVariables}})]})})},Bt.prototype.resolveSelectionSet=function(G,V,Y){return(0,d.__awaiter)(this,void 0,void 0,function(){var Z,Ct,_t,Wt,Jt,ee=this;return(0,d.__generator)(this,function(Be){return Z=Y.fragmentMap,Ct=Y.context,_t=Y.variables,Wt=[V],Jt=function(Ge){return(0,d.__awaiter)(ee,void 0,void 0,function(){var Fe,or;return(0,d.__generator)(this,function(fr){return(0,Ce.LZ)(Ge,_t)?(0,xe.My)(Ge)?[2,this.resolveField(Ge,V,Y).then(function(ze){var gr;typeof ze!="undefined"&&Wt.push((gr={},gr[(0,xe.u2)(Ge)]=ze,gr))})]:((0,xe.Ao)(Ge)?Fe=Ge:(Fe=Z[Ge.name.value],__DEV__?(0,T.kG)(Fe,"No fragment named ".concat(Ge.name.value)):(0,T.kG)(Fe,9)),Fe&&Fe.typeCondition&&(or=Fe.typeCondition.name.value,Y.fragmentMatcher(V,or,Ct))?[2,this.resolveSelectionSet(Fe.selectionSet,V,Y).then(function(ze){Wt.push(ze)})]:[2]):[2]})})},[2,Promise.all(G.selections.map(Jt)).then(function(){return(0,mr.bw)(Wt)})]})})},Bt.prototype.resolveField=function(G,V,Y){return(0,d.__awaiter)(this,void 0,void 0,function(){var Z,Ct,_t,Wt,Jt,ee,Be,Ge,Fe,or=this;return(0,d.__generator)(this,function(fr){return Z=Y.variables,Ct=G.name.value,_t=(0,xe.u2)(G),Wt=Ct!==_t,Jt=V[_t]||V[Ct],ee=Promise.resolve(Jt),(!Y.onlyRunForcedResolvers||this.shouldForceResolvers(G))&&(Be=V.__typename||Y.defaultOperationType,Ge=this.resolvers&&this.resolvers[Be],Ge&&(Fe=Ge[Wt?Ct:_t],Fe&&(ee=Promise.resolve($r.ab.withValue(this.cache,Fe,[V,(0,xe.NC)(G,Z),Y.context,{field:G,fragmentMap:Y.fragmentMap}]))))),[2,ee.then(function(ze){if(ze===void 0&&(ze=Jt),G.directives&&G.directives.forEach(function(gr){gr.name.value==="export"&&gr.arguments&&gr.arguments.forEach(function(Br){Br.name.value==="as"&&Br.value.kind==="StringValue"&&(Y.exportedVariables[Br.value.value]=ze)})}),!G.selectionSet||ze==null)return ze;if(Array.isArray(ze))return or.resolveSubSelectedArray(G,ze,Y);if(G.selectionSet)return or.resolveSelectionSet(G.selectionSet,ze,Y)})]})})},Bt.prototype.resolveSubSelectedArray=function(G,V,Y){var Z=this;return Promise.all(V.map(function(Ct){if(Ct===null)return null;if(Array.isArray(Ct))return Z.resolveSubSelectedArray(G,Ct,Y);if(G.selectionSet)return Z.resolveSelectionSet(G.selectionSet,Ct,Y)}))},Bt}(),Gr=new(kt.mr?WeakMap:Map);function bn(Bt,G){var V=Bt[G];typeof V=="function"&&(Bt[G]=function(){return Gr.set(Bt,(Gr.get(Bt)+1)%1e15),V.apply(this,arguments)})}function Ln(Bt){Bt.notifyTimeout&&(clearTimeout(Bt.notifyTimeout),Bt.notifyTimeout=void 0)}var dn=function(){function Bt(G,V){V===void 0&&(V=G.generateQueryId()),this.queryId=V,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var Y=this.cache=G.cache;Gr.has(Y)||(Gr.set(Y,0),bn(Y,"evict"),bn(Y,"modify"),bn(Y,"reset"))}return Bt.prototype.init=function(G){var V=G.networkStatus||wr.loading;return this.variables&&this.networkStatus!==wr.loading&&!(0,st.D)(this.variables,G.variables)&&(V=wr.setVariables),(0,st.D)(G.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:G.document,variables:G.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:V}),G.observableQuery&&this.setObservableQuery(G.observableQuery),G.lastRequestId&&(this.lastRequestId=G.lastRequestId),this},Bt.prototype.reset=function(){Ln(this),this.lastDiff=void 0,this.dirty=!1},Bt.prototype.getDiff=function(G){G===void 0&&(G=this.variables);var V=this.getDiffOptions(G);if(this.lastDiff&&(0,st.D)(V,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=G);var Y=this.observableQuery;if(Y&&Y.options.fetchPolicy==="no-cache")return{complete:!1};var Z=this.cache.diff(V);return this.updateLastDiff(Z,V),Z},Bt.prototype.updateLastDiff=function(G,V){this.lastDiff=G?{diff:G,options:V||this.getDiffOptions()}:void 0},Bt.prototype.getDiffOptions=function(G){var V;return G===void 0&&(G=this.variables),{query:this.document,variables:G,returnPartialData:!0,optimistic:!0,canonizeResults:(V=this.observableQuery)===null||V===void 0?void 0:V.options.canonizeResults}},Bt.prototype.setDiff=function(G){var V=this,Y=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(G),!this.dirty&&!(0,st.D)(Y&&Y.result,G&&G.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return V.notify()},0)))},Bt.prototype.setObservableQuery=function(G){var V=this;G!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=G,G?(G.queryInfo=this,this.listeners.add(this.oqListener=function(){var Y=V.getDiff();Y.fromOptimisticTransaction?G.observe():Le(G)})):delete this.oqListener)},Bt.prototype.notify=function(){var G=this;Ln(this),this.shouldNotify()&&this.listeners.forEach(function(V){return V(G)}),this.dirty=!1},Bt.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Zr(this.networkStatus)&&this.observableQuery){var G=this.observableQuery.options.fetchPolicy;if(G!=="cache-only"&&G!=="cache-and-network")return!1}return!0},Bt.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=Bt.prototype.cancel,this.subscriptions.forEach(function(V){return V.unsubscribe()});var G=this.observableQuery;G&&G.stopPolling()}},Bt.prototype.cancel=function(){},Bt.prototype.updateWatch=function(G){var V=this;G===void 0&&(G=this.variables);var Y=this.observableQuery;if(!(Y&&Y.options.fetchPolicy==="no-cache")){var Z=(0,d.__assign)((0,d.__assign)({},this.getDiffOptions(G)),{watcher:this,callback:function(Ct){return V.setDiff(Ct)}});(!this.lastWatch||!(0,st.D)(Z,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=Z))}},Bt.prototype.resetLastWrite=function(){this.lastWrite=void 0},Bt.prototype.shouldWrite=function(G,V){var Y=this.lastWrite;return!(Y&&Y.dmCount===Gr.get(this.cache)&&(0,st.D)(V,Y.variables)&&(0,st.D)(G.data,Y.result.data))},Bt.prototype.markResult=function(G,V,Y){var Z=this;this.graphQLErrors=(0,Tr.O)(G.errors)?G.errors:[],this.reset(),V.fetchPolicy==="no-cache"?this.updateLastDiff({result:G.data,complete:!0},this.getDiffOptions(V.variables)):Y!==0&&(Mn(G,V.errorPolicy)?this.cache.performTransaction(function(Ct){if(Z.shouldWrite(G,V.variables))Ct.writeQuery({query:Z.document,data:G.data,variables:V.variables,overwrite:Y===1}),Z.lastWrite={result:G,variables:V.variables,dmCount:Gr.get(Z.cache)};else if(Z.lastDiff&&Z.lastDiff.diff.complete){G.data=Z.lastDiff.diff.result;return}var _t=Z.getDiffOptions(V.variables),Wt=Ct.diff(_t);Z.stopped||Z.updateWatch(V.variables),Z.updateLastDiff(Wt,_t),Wt.complete&&(G.data=Wt.result)}):this.lastWrite=void 0)},Bt.prototype.markReady=function(){return this.networkError=null,this.networkStatus=wr.ready},Bt.prototype.markError=function(G){return this.networkStatus=wr.error,this.lastWrite=void 0,this.reset(),G.graphQLErrors&&(this.graphQLErrors=G.graphQLErrors),G.networkError&&(this.networkError=G.networkError),G},Bt}();function Mn(Bt,G){G===void 0&&(G="none");var V=G==="ignore"||G==="all",Y=!jt(Bt);return!Y&&V&&Bt.data&&(Y=!0),Y}var Jn=Object.prototype.hasOwnProperty,qn=function(){function Bt(G){var V=G.cache,Y=G.link,Z=G.defaultOptions,Ct=G.queryDeduplication,_t=Ct===void 0?!1:Ct,Wt=G.onBroadcast,Jt=G.ssrMode,ee=Jt===void 0?!1:Jt,Be=G.clientAwareness,Ge=Be===void 0?{}:Be,Fe=G.localState,or=G.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(kt.mr?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=V,this.link=Y,this.defaultOptions=Z||Object.create(null),this.queryDeduplication=_t,this.clientAwareness=Ge,this.localState=Fe||new lr({cache:V}),this.ssrMode=ee,this.assumeImmutableResults=!!or,(this.onBroadcast=Wt)&&(this.mutationStore=Object.create(null))}return Bt.prototype.stop=function(){var G=this;this.queries.forEach(function(V,Y){G.stopQueryNoBroadcast(Y)}),this.cancelPendingFetches(__DEV__?new T.ej("QueryManager stopped while query was in flight"):new T.ej(11))},Bt.prototype.cancelPendingFetches=function(G){this.fetchCancelFns.forEach(function(V){return V(G)}),this.fetchCancelFns.clear()},Bt.prototype.mutate=function(G){var V,Y,Z=G.mutation,Ct=G.variables,_t=G.optimisticResponse,Wt=G.updateQueries,Jt=G.refetchQueries,ee=Jt===void 0?[]:Jt,Be=G.awaitRefetchQueries,Ge=Be===void 0?!1:Be,Fe=G.update,or=G.onQueryUpdated,fr=G.fetchPolicy,ze=fr===void 0?((V=this.defaultOptions.mutate)===null||V===void 0?void 0:V.fetchPolicy)||"network-only":fr,gr=G.errorPolicy,Br=gr===void 0?((Y=this.defaultOptions.mutate)===null||Y===void 0?void 0:Y.errorPolicy)||"none":gr,en=G.keepRootFields,Yr=G.context;return(0,d.__awaiter)(this,void 0,void 0,function(){var Fr,Sr,Jr;return(0,d.__generator)(this,function(vn){switch(vn.label){case 0:return __DEV__?(0,T.kG)(Z,"mutation option is required. You must specify your GraphQL document in the mutation option."):(0,T.kG)(Z,12),__DEV__?(0,T.kG)(ze==="network-only"||ze==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):(0,T.kG)(ze==="network-only"||ze==="no-cache",13),Fr=this.generateMutationId(),Z=this.transform(Z).document,Ct=this.getVariables(Z,Ct),this.transform(Z).hasClientExports?[4,this.localState.addExportedVariables(Z,Ct,Yr)]:[3,2];case 1:Ct=vn.sent(),vn.label=2;case 2:return Sr=this.mutationStore&&(this.mutationStore[Fr]={mutation:Z,variables:Ct,loading:!0,error:null}),_t&&this.markMutationOptimistic(_t,{mutationId:Fr,document:Z,variables:Ct,fetchPolicy:ze,errorPolicy:Br,context:Yr,updateQueries:Wt,update:Fe,keepRootFields:en}),this.broadcastQueries(),Jr=this,[2,new Promise(function(Tn,Gn){return Ft(Jr.getObservableFromLink(Z,(0,d.__assign)((0,d.__assign)({},Yr),{optimisticResponse:_t}),Ct,!1),function(Yn){if(jt(Yn)&&Br==="none")throw new ir({graphQLErrors:Yn.errors});Sr&&(Sr.loading=!1,Sr.error=null);var Oi=(0,d.__assign)({},Yn);return typeof ee=="function"&&(ee=ee(Oi)),Br==="ignore"&&jt(Oi)&&delete Oi.errors,Jr.markMutationResult({mutationId:Fr,result:Oi,document:Z,variables:Ct,fetchPolicy:ze,errorPolicy:Br,context:Yr,update:Fe,updateQueries:Wt,awaitRefetchQueries:Ge,refetchQueries:ee,removeOptimistic:_t?Fr:void 0,onQueryUpdated:or,keepRootFields:en})}).subscribe({next:function(Yn){Jr.broadcastQueries(),Tn(Yn)},error:function(Yn){Sr&&(Sr.loading=!1,Sr.error=Yn),_t&&Jr.cache.removeOptimistic(Fr),Jr.broadcastQueries(),Gn(Yn instanceof ir?Yn:new ir({networkError:Yn}))}})})]}})})},Bt.prototype.markMutationResult=function(G,V){var Y=this;V===void 0&&(V=this.cache);var Z=G.result,Ct=[],_t=G.fetchPolicy==="no-cache";if(!_t&&Mn(Z,G.errorPolicy)){Ct.push({result:Z.data,dataId:"ROOT_MUTATION",query:G.document,variables:G.variables});var Wt=G.updateQueries;Wt&&this.queries.forEach(function(ee,Be){var Ge=ee.observableQuery,Fe=Ge&&Ge.queryName;if(!(!Fe||!Jn.call(Wt,Fe))){var or=Wt[Fe],fr=Y.queries.get(Be),ze=fr.document,gr=fr.variables,Br=V.diff({query:ze,variables:gr,returnPartialData:!0,optimistic:!1}),en=Br.result,Yr=Br.complete;if(Yr&&en){var Fr=or(en,{mutationResult:Z,queryName:ze&&(0,J.rY)(ze)||void 0,queryVariables:gr});Fr&&Ct.push({result:Fr,dataId:"ROOT_QUERY",query:ze,variables:gr})}}})}if(Ct.length>0||G.refetchQueries||G.update||G.onQueryUpdated||G.removeOptimistic){var Jt=[];if(this.refetchQueries({updateCache:function(ee){_t||Ct.forEach(function(Fe){return ee.write(Fe)});var Be=G.update;if(Be){if(!_t){var Ge=ee.diff({id:"ROOT_MUTATION",query:Y.transform(G.document).asQuery,variables:G.variables,optimistic:!1,returnPartialData:!0});Ge.complete&&(Z=(0,d.__assign)((0,d.__assign)({},Z),{data:Ge.result}))}Be(ee,Z,{context:G.context,variables:G.variables})}!_t&&!G.keepRootFields&&ee.modify({id:"ROOT_MUTATION",fields:function(Fe,or){var fr=or.fieldName,ze=or.DELETE;return fr==="__typename"?Fe:ze}})},include:G.refetchQueries,optimistic:!1,removeOptimistic:G.removeOptimistic,onQueryUpdated:G.onQueryUpdated||null}).forEach(function(ee){return Jt.push(ee)}),G.awaitRefetchQueries||G.onQueryUpdated)return Promise.all(Jt).then(function(){return Z})}return Promise.resolve(Z)},Bt.prototype.markMutationOptimistic=function(G,V){var Y=this,Z=typeof G=="function"?G(V.variables):G;return this.cache.recordOptimisticTransaction(function(Ct){try{Y.markMutationResult((0,d.__assign)((0,d.__assign)({},V),{result:{data:Z}}),Ct)}catch(_t){__DEV__&&T.kG.error(_t)}},V.mutationId)},Bt.prototype.fetchQuery=function(G,V,Y){return this.fetchQueryObservable(G,V,Y).promise},Bt.prototype.getQueryStore=function(){var G=Object.create(null);return this.queries.forEach(function(V,Y){G[Y]={variables:V.variables,networkStatus:V.networkStatus,networkError:V.networkError,graphQLErrors:V.graphQLErrors}}),G},Bt.prototype.resetErrors=function(G){var V=this.queries.get(G);V&&(V.networkError=void 0,V.graphQLErrors=[])},Bt.prototype.transform=function(G){var V=this.transformCache;if(!V.has(G)){var Y=this.cache.transformDocument(G),Z=(0,fe.Fo)(this.cache.transformForLink(Y)),Ct=this.localState.clientQuery(Y),_t=Z&&this.localState.serverQuery(Z),Wt={document:Y,hasClientExports:(0,Ce.mj)(Y),hasForcedResolvers:this.localState.shouldForceResolvers(Y),clientQuery:Ct,serverQuery:_t,defaultVars:(0,J.O4)((0,J.$H)(Y)),asQuery:(0,d.__assign)((0,d.__assign)({},Y),{definitions:Y.definitions.map(function(ee){return ee.kind==="OperationDefinition"&&ee.operation!=="query"?(0,d.__assign)((0,d.__assign)({},ee),{operation:"query"}):ee})})},Jt=function(ee){ee&&!V.has(ee)&&V.set(ee,Wt)};Jt(G),Jt(Y),Jt(Ct),Jt(_t)}return V.get(G)},Bt.prototype.getVariables=function(G,V){return(0,d.__assign)((0,d.__assign)({},this.transform(G).defaultVars),V)},Bt.prototype.watchQuery=function(G){G=(0,d.__assign)((0,d.__assign)({},G),{variables:this.getVariables(G.query,G.variables)}),typeof G.notifyOnNetworkStatusChange=="undefined"&&(G.notifyOnNetworkStatusChange=!1);var V=new dn(this),Y=new me({queryManager:this,queryInfo:V,options:G});return this.queries.set(Y.queryId,V),V.init({document:Y.query,observableQuery:Y,variables:Y.variables}),Y},Bt.prototype.query=function(G,V){var Y=this;return V===void 0&&(V=this.generateQueryId()),__DEV__?(0,T.kG)(G.query,"query option is required. You must specify your GraphQL document in the query option."):(0,T.kG)(G.query,14),__DEV__?(0,T.kG)(G.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):(0,T.kG)(G.query.kind==="Document",15),__DEV__?(0,T.kG)(!G.returnPartialData,"returnPartialData option only supported on watchQuery."):(0,T.kG)(!G.returnPartialData,16),__DEV__?(0,T.kG)(!G.pollInterval,"pollInterval option only supported on watchQuery."):(0,T.kG)(!G.pollInterval,17),this.fetchQuery(V,G).finally(function(){return Y.stopQuery(V)})},Bt.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},Bt.prototype.generateRequestId=function(){return this.requestIdCounter++},Bt.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},Bt.prototype.stopQueryInStore=function(G){this.stopQueryInStoreNoBroadcast(G),this.broadcastQueries()},Bt.prototype.stopQueryInStoreNoBroadcast=function(G){var V=this.queries.get(G);V&&V.stop()},Bt.prototype.clearStore=function(G){return G===void 0&&(G={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new T.ej("Store reset while query was in flight (not completed in link chain)"):new T.ej(18)),this.queries.forEach(function(V){V.observableQuery?V.networkStatus=wr.loading:V.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(G)},Bt.prototype.getObservableQueries=function(G){var V=this;G===void 0&&(G="active");var Y=new Map,Z=new Map,Ct=new Set;return Array.isArray(G)&&G.forEach(function(_t){typeof _t=="string"?Z.set(_t,!1):(0,xe.JW)(_t)?Z.set(V.transform(_t).document,!1):(0,ve.s)(_t)&&_t.query&&Ct.add(_t)}),this.queries.forEach(function(_t,Wt){var Jt=_t.observableQuery,ee=_t.document;if(Jt){if(G==="all"){Y.set(Wt,Jt);return}var Be=Jt.queryName,Ge=Jt.options.fetchPolicy;if(Ge==="standby"||G==="active"&&!Jt.hasObservers())return;(G==="active"||Be&&Z.has(Be)||ee&&Z.has(ee))&&(Y.set(Wt,Jt),Be&&Z.set(Be,!0),ee&&Z.set(ee,!0))}}),Ct.size&&Ct.forEach(function(_t){var Wt=(0,Ue.X)("legacyOneTimeQuery"),Jt=V.getQuery(Wt).init({document:_t.query,variables:_t.variables}),ee=new me({queryManager:V,queryInfo:Jt,options:(0,d.__assign)((0,d.__assign)({},_t),{fetchPolicy:"network-only"})});(0,T.kG)(ee.queryId===Wt),Jt.setObservableQuery(ee),Y.set(Wt,ee)}),__DEV__&&Z.size&&Z.forEach(function(_t,Wt){_t||__DEV__&&T.kG.warn("Unknown query ".concat(typeof Wt=="string"?"named ":"").concat(JSON.stringify(Wt,null,2)," requested in refetchQueries options.include array"))}),Y},Bt.prototype.reFetchObservableQueries=function(G){var V=this;G===void 0&&(G=!1);var Y=[];return this.getObservableQueries(G?"all":"active").forEach(function(Z,Ct){var _t=Z.options.fetchPolicy;Z.resetLastResults(),(G||_t!=="standby"&&_t!=="cache-only")&&Y.push(Z.refetch()),V.getQuery(Ct).setDiff(null)}),this.broadcastQueries(),Promise.all(Y)},Bt.prototype.setObservableQuery=function(G){this.getQuery(G.queryId).setObservableQuery(G)},Bt.prototype.startGraphQLSubscription=function(G){var V=this,Y=G.query,Z=G.fetchPolicy,Ct=G.errorPolicy,_t=G.variables,Wt=G.context,Jt=Wt===void 0?{}:Wt;Y=this.transform(Y).document,_t=this.getVariables(Y,_t);var ee=function(Ge){return V.getObservableFromLink(Y,Jt,Ge).map(function(Fe){if(Z!=="no-cache"&&(Mn(Fe,Ct)&&V.cache.write({query:Y,result:Fe.data,dataId:"ROOT_SUBSCRIPTION",variables:Ge}),V.broadcastQueries()),jt(Fe))throw new ir({graphQLErrors:Fe.errors});return Fe})};if(this.transform(Y).hasClientExports){var Be=this.localState.addExportedVariables(Y,_t,Jt).then(ee);return new yt(function(Ge){var Fe=null;return Be.then(function(or){return Fe=or.subscribe(Ge)},Ge.error),function(){return Fe&&Fe.unsubscribe()}})}return ee(_t)},Bt.prototype.stopQuery=function(G){this.stopQueryNoBroadcast(G),this.broadcastQueries()},Bt.prototype.stopQueryNoBroadcast=function(G){this.stopQueryInStoreNoBroadcast(G),this.removeQuery(G)},Bt.prototype.removeQuery=function(G){this.fetchCancelFns.delete(G),this.queries.has(G)&&(this.getQuery(G).stop(),this.queries.delete(G))},Bt.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(G){return G.notify()})},Bt.prototype.getLocalState=function(){return this.localState},Bt.prototype.getObservableFromLink=function(G,V,Y,Z){var Ct=this,_t;Z===void 0&&(Z=(_t=V==null?void 0:V.queryDeduplication)!==null&&_t!==void 0?_t:this.queryDeduplication);var Wt,Jt=this.transform(G).serverQuery;if(Jt){var ee=this,Be=ee.inFlightLinkObservables,Ge=ee.link,Fe={query:Jt,variables:Y,operationName:(0,J.rY)(Jt)||void 0,context:this.prepareContext((0,d.__assign)((0,d.__assign)({},V),{forceFetch:!Z}))};if(V=Fe.context,Z){var or=Be.get(Jt)||new Map;Be.set(Jt,or);var fr=(0,gt.B)(Y);if(Wt=or.get(fr),!Wt){var ze=new hr([f(Ge,Fe)]);or.set(fr,Wt=ze),ze.cleanup(function(){or.delete(fr)&&or.size<1&&Be.delete(Jt)})}}else Wt=new hr([f(Ge,Fe)])}else Wt=new hr([yt.of({data:{}})]),V=this.prepareContext(V);var gr=this.transform(G).clientQuery;return gr&&(Wt=Ft(Wt,function(Br){return Ct.localState.runResolvers({document:gr,remoteResult:Br,context:V,variables:Y})})),Wt},Bt.prototype.getResultsFromLink=function(G,V,Y){var Z=G.lastRequestId=this.generateRequestId();return Ft(this.getObservableFromLink(G.document,Y.context,Y.variables),function(Ct){var _t=(0,Tr.O)(Ct.errors);if(Z>=G.lastRequestId){if(_t&&Y.errorPolicy==="none")throw G.markError(new ir({graphQLErrors:Ct.errors}));G.markResult(Ct,Y,V),G.markReady()}var Wt={data:Ct.data,loading:!1,networkStatus:wr.ready};return _t&&Y.errorPolicy!=="ignore"&&(Wt.errors=Ct.errors,Wt.networkStatus=wr.error),Wt},function(Ct){var _t=_r(Ct)?Ct:new ir({networkError:Ct});throw Z>=G.lastRequestId&&G.markError(_t),_t})},Bt.prototype.fetchQueryObservable=function(G,V,Y){var Z=this;Y===void 0&&(Y=wr.loading);var Ct=this.transform(V.query).document,_t=this.getVariables(Ct,V.variables),Wt=this.getQuery(G),Jt=this.defaultOptions.watchQuery,ee=V.fetchPolicy,Be=ee===void 0?Jt&&Jt.fetchPolicy||"cache-first":ee,Ge=V.errorPolicy,Fe=Ge===void 0?Jt&&Jt.errorPolicy||"none":Ge,or=V.returnPartialData,fr=or===void 0?!1:or,ze=V.notifyOnNetworkStatusChange,gr=ze===void 0?!1:ze,Br=V.context,en=Br===void 0?{}:Br,Yr=Object.assign({},V,{query:Ct,variables:_t,fetchPolicy:Be,errorPolicy:Fe,returnPartialData:fr,notifyOnNetworkStatusChange:gr,context:en}),Fr=function(vn){Yr.variables=vn;var Tn=Z.fetchQueryByPolicy(Wt,Yr,Y);return Yr.fetchPolicy!=="standby"&&Tn.length>0&&Wt.observableQuery&&Wt.observableQuery.applyNextFetchPolicy("after-fetch",V),Tn},Sr=function(){return Z.fetchCancelFns.delete(G)};this.fetchCancelFns.set(G,function(vn){Sr(),setTimeout(function(){return Jr.cancel(vn)})});var Jr=new hr(this.transform(Yr.query).hasClientExports?this.localState.addExportedVariables(Yr.query,Yr.variables,Yr.context).then(Fr):Fr(Yr.variables));return Jr.promise.then(Sr,Sr),Jr},Bt.prototype.refetchQueries=function(G){var V=this,Y=G.updateCache,Z=G.include,Ct=G.optimistic,_t=Ct===void 0?!1:Ct,Wt=G.removeOptimistic,Jt=Wt===void 0?_t?(0,Ue.X)("refetchQueries"):void 0:Wt,ee=G.onQueryUpdated,Be=new Map;Z&&this.getObservableQueries(Z).forEach(function(Fe,or){Be.set(or,{oq:Fe,lastDiff:V.getQuery(or).getDiff()})});var Ge=new Map;return Y&&this.cache.batch({update:Y,optimistic:_t&&Jt||!1,removeOptimistic:Jt,onWatchUpdated:function(Fe,or,fr){var ze=Fe.watcher instanceof dn&&Fe.watcher.observableQuery;if(ze){if(ee){Be.delete(ze.queryId);var gr=ee(ze,or,fr);return gr===!0&&(gr=ze.refetch()),gr!==!1&&Ge.set(ze,gr),gr}ee!==null&&Be.set(ze.queryId,{oq:ze,lastDiff:fr,diff:or})}}}),Be.size&&Be.forEach(function(Fe,or){var fr=Fe.oq,ze=Fe.lastDiff,gr=Fe.diff,Br;if(ee){if(!gr){var en=fr.queryInfo;en.reset(),gr=en.getDiff()}Br=ee(fr,gr,ze)}(!ee||Br===!0)&&(Br=fr.refetch()),Br!==!1&&Ge.set(fr,Br),or.indexOf("legacyOneTimeQuery")>=0&&V.stopQueryNoBroadcast(or)}),Jt&&this.cache.removeOptimistic(Jt),Ge},Bt.prototype.fetchQueryByPolicy=function(G,V,Y){var Z=this,Ct=V.query,_t=V.variables,Wt=V.fetchPolicy,Jt=V.refetchWritePolicy,ee=V.errorPolicy,Be=V.returnPartialData,Ge=V.context,Fe=V.notifyOnNetworkStatusChange,or=G.networkStatus;G.init({document:this.transform(Ct).document,variables:_t,networkStatus:Y});var fr=function(){return G.getDiff(_t)},ze=function(Fr,Sr){Sr===void 0&&(Sr=G.networkStatus||wr.loading);var Jr=Fr.result;__DEV__&&!Be&&!(0,st.D)(Jr,{})&&$e(Fr.missing);var vn=function(Tn){return yt.of((0,d.__assign)({data:Tn,loading:Zr(Sr),networkStatus:Sr},Fr.complete?null:{partial:!0}))};return Jr&&Z.transform(Ct).hasForcedResolvers?Z.localState.runResolvers({document:Ct,remoteResult:{data:Jr},context:Ge,variables:_t,onlyRunForcedResolvers:!0}).then(function(Tn){return vn(Tn.data||void 0)}):vn(Jr)},gr=Wt==="no-cache"?0:Y===wr.refetch&&Jt!=="merge"?1:2,Br=function(){return Z.getResultsFromLink(G,gr,{variables:_t,context:Ge,fetchPolicy:Wt,errorPolicy:ee})},en=Fe&&typeof or=="number"&&or!==Y&&Zr(Y);switch(Wt){default:case"cache-first":{var Yr=fr();return Yr.complete?[ze(Yr,G.markReady())]:Be||en?[ze(Yr),Br()]:[Br()]}case"cache-and-network":{var Yr=fr();return Yr.complete||Be||en?[ze(Yr),Br()]:[Br()]}case"cache-only":return[ze(fr(),G.markReady())];case"network-only":return en?[ze(fr()),Br()]:[Br()];case"no-cache":return en?[ze(G.getDiff()),Br()]:[Br()];case"standby":return[]}},Bt.prototype.getQuery=function(G){return G&&!this.queries.has(G)&&this.queries.set(G,new dn(this,G)),this.queries.get(G)},Bt.prototype.prepareContext=function(G){G===void 0&&(G={});var V=this.localState.prepareContext(G);return(0,d.__assign)((0,d.__assign)({},V),{clientAwareness:this.clientAwareness})},Bt}();function ui(Bt,G){return(0,Qr.o)(Bt,G,G.variables&&{variables:(0,d.__assign)((0,d.__assign)({},Bt&&Bt.variables),G.variables)})}var Fn=!1,Pi=function(){function Bt(G){var V=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var Y=G.uri,Z=G.credentials,Ct=G.headers,_t=G.cache,Wt=G.ssrMode,Jt=Wt===void 0?!1:Wt,ee=G.ssrForceFetchDelay,Be=ee===void 0?0:ee,Ge=G.connectToDevTools,Fe=Ge===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:Ge,or=G.queryDeduplication,fr=or===void 0?!0:or,ze=G.defaultOptions,gr=G.assumeImmutableResults,Br=gr===void 0?!1:gr,en=G.resolvers,Yr=G.typeDefs,Fr=G.fragmentMatcher,Sr=G.name,Jr=G.version,vn=G.link;if(vn||(vn=Y?new Yt({uri:Y,credentials:Z,headers:Ct}):Q.empty()),!_t)throw __DEV__?new T.ej(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new T.ej(7);if(this.link=vn,this.cache=_t,this.disableNetworkFetches=Jt||Be>0,this.queryDeduplication=fr,this.defaultOptions=ze||Object.create(null),this.typeDefs=Yr,Be&&setTimeout(function(){return V.disableNetworkFetches=!1},Be),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),Fe&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!Fn&&__DEV__&&(Fn=!0,typeof window!="undefined"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var Tn=window.navigator,Gn=Tn&&Tn.userAgent,Yn=void 0;typeof Gn=="string"&&(Gn.indexOf("Chrome/")>-1?Yn="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":Gn.indexOf("Firefox/")>-1&&(Yn="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),Yn&&__DEV__&&T.kG.log("Download the Apollo DevTools for a better development experience: "+Yn)}this.version=vt,this.localState=new lr({cache:_t,client:this,resolvers:en,fragmentMatcher:Fr}),this.queryManager=new qn({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:fr,ssrMode:Jt,clientAwareness:{name:Sr,version:Jr},localState:this.localState,assumeImmutableResults:Br,onBroadcast:Fe?function(){V.devToolsHookCb&&V.devToolsHookCb({action:{},state:{queries:V.queryManager.getQueryStore(),mutations:V.queryManager.mutationStore||{}},dataWithOptimisticResults:V.cache.extract(!0)})}:void 0})}return Bt.prototype.stop=function(){this.queryManager.stop()},Bt.prototype.watchQuery=function(G){return this.defaultOptions.watchQuery&&(G=ui(this.defaultOptions.watchQuery,G)),this.disableNetworkFetches&&(G.fetchPolicy==="network-only"||G.fetchPolicy==="cache-and-network")&&(G=(0,d.__assign)((0,d.__assign)({},G),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(G)},Bt.prototype.query=function(G){return this.defaultOptions.query&&(G=ui(this.defaultOptions.query,G)),__DEV__?(0,T.kG)(G.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):(0,T.kG)(G.fetchPolicy!=="cache-and-network",8),this.disableNetworkFetches&&G.fetchPolicy==="network-only"&&(G=(0,d.__assign)((0,d.__assign)({},G),{fetchPolicy:"cache-first"})),this.queryManager.query(G)},Bt.prototype.mutate=function(G){return this.defaultOptions.mutate&&(G=ui(this.defaultOptions.mutate,G)),this.queryManager.mutate(G)},Bt.prototype.subscribe=function(G){return this.queryManager.startGraphQLSubscription(G)},Bt.prototype.readQuery=function(G,V){return V===void 0&&(V=!1),this.cache.readQuery(G,V)},Bt.prototype.readFragment=function(G,V){return V===void 0&&(V=!1),this.cache.readFragment(G,V)},Bt.prototype.writeQuery=function(G){this.cache.writeQuery(G),this.queryManager.broadcastQueries()},Bt.prototype.writeFragment=function(G){this.cache.writeFragment(G),this.queryManager.broadcastQueries()},Bt.prototype.__actionHookForDevTools=function(G){this.devToolsHookCb=G},Bt.prototype.__requestRaw=function(G){return f(this.link,G)},Bt.prototype.resetStore=function(){var G=this;return Promise.resolve().then(function(){return G.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(G.resetStoreCallbacks.map(function(V){return V()}))}).then(function(){return G.reFetchObservableQueries()})},Bt.prototype.clearStore=function(){var G=this;return Promise.resolve().then(function(){return G.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(G.clearStoreCallbacks.map(function(V){return V()}))})},Bt.prototype.onResetStore=function(G){var V=this;return this.resetStoreCallbacks.push(G),function(){V.resetStoreCallbacks=V.resetStoreCallbacks.filter(function(Y){return Y!==G})}},Bt.prototype.onClearStore=function(G){var V=this;return this.clearStoreCallbacks.push(G),function(){V.clearStoreCallbacks=V.clearStoreCallbacks.filter(function(Y){return Y!==G})}},Bt.prototype.reFetchObservableQueries=function(G){return this.queryManager.reFetchObservableQueries(G)},Bt.prototype.refetchQueries=function(G){var V=this.queryManager.refetchQueries(G),Y=[],Z=[];V.forEach(function(_t,Wt){Y.push(Wt),Z.push(_t)});var Ct=Promise.all(Z);return Ct.queries=Y,Ct.results=Z,Ct.catch(function(_t){__DEV__&&T.kG.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(_t))}),Ct},Bt.prototype.getObservableQueries=function(G){return G===void 0&&(G="active"),this.queryManager.getObservableQueries(G)},Bt.prototype.extract=function(G){return this.cache.extract(G)},Bt.prototype.restore=function(G){return this.cache.restore(G)},Bt.prototype.addResolvers=function(G){this.localState.addResolvers(G)},Bt.prototype.setResolvers=function(G){this.localState.setResolvers(G)},Bt.prototype.getResolvers=function(){return this.localState.getResolvers()},Bt.prototype.setLocalStateFragmentMatcher=function(G){this.localState.setFragmentMatcher(G)},Bt.prototype.setLink=function(G){this.link=this.queryManager.link=G},Bt}()},24517:function(ct,C,v){"use strict";v.d(C,{O:function(){return d}});function d(T){return Array.isArray(T)&&T.length>0}},31578:function(ct,C,v){"use strict";v.d(C,{mr:function(){return T},sy:function(){return P},aS:function(){return I}});var d=v(67943),T=typeof WeakMap=="function"&&(0,d.wY)(function(){return navigator.product})!=="ReactNative",P=typeof WeakSet=="function",I=typeof Symbol=="function"&&typeof Symbol.for=="function",O=typeof(0,d.wY)(function(){return window.document.createElement})=="function",A=(0,d.wY)(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,E=O&&!A},23346:function(ct,C,v){"use strict";v.d(C,{X:function(){return T}});var d=Object.prototype.toString;function T(I){return P(I)}function P(I,O){switch(d.call(I)){case"[object Array]":{if(O=O||new Map,O.has(I))return O.get(I);var A=I.slice(0);return O.set(I,A),A.forEach(function(S,y){A[y]=P(S,O)}),A}case"[object Object]":{if(O=O||new Map,O.has(I))return O.get(I);var E=Object.create(Object.getPrototypeOf(I));return O.set(I,E),Object.keys(I).forEach(function(S){E[S]=P(I[S],O)}),E}default:return I}}},17954:function(ct,C,v){"use strict";v.d(C,{o:function(){return d}});function d(){for(var T=[],P=0;P<arguments.length;P++)T[P]=arguments[P];var I=Object.create(null);return T.forEach(function(O){!O||Object.keys(O).forEach(function(A){var E=O[A];E!==void 0&&(I[A]=E)})}),I}},93826:function(ct,C,v){"use strict";v.d(C,{X:function(){return T}});var d=new Map;function T(P){var I=d.get(P)||1;return d.set(P,I+1),"".concat(P,":").concat(I,":").concat(Math.random().toString(36).slice(2))}},87742:function(ct,C,v){"use strict";v.d(C,{Ee:function(){return I},bw:function(){return O},w0:function(){return E}});var d=v(70655),T=v(8776),P=Object.prototype.hasOwnProperty;function I(){for(var S=[],y=0;y<arguments.length;y++)S[y]=arguments[y];return O(S)}function O(S){var y=S[0]||{},b=S.length;if(b>1)for(var p=new E,m=1;m<b;++m)y=p.merge(y,S[m]);return y}var A=function(S,y,b){return this.merge(S[b],y[b])},E=function(){function S(y){y===void 0&&(y=A),this.reconciler=y,this.isObject=T.s,this.pastCopies=new Set}return S.prototype.merge=function(y,b){for(var p=this,m=[],x=2;x<arguments.length;x++)m[x-2]=arguments[x];return(0,T.s)(b)&&(0,T.s)(y)?(Object.keys(b).forEach(function(M){if(P.call(y,M)){var k=y[M];if(b[M]!==k){var _=p.reconciler.apply(p,(0,d.__spreadArray)([y,b,M],m,!1));_!==k&&(y=p.shallowCopyForMerge(y),y[M]=_)}}else y=p.shallowCopyForMerge(y),y[M]=b[M]}),y):b},S.prototype.shallowCopyForMerge=function(y){return(0,T.s)(y)&&(this.pastCopies.has(y)||(Array.isArray(y)?y=y.slice(0):y=(0,d.__assign)({__proto__:Object.getPrototypeOf(y)},y),this.pastCopies.add(y))),y},S}()},8776:function(ct,C,v){"use strict";v.d(C,{s:function(){return d}});function d(T){return T!==null&&typeof T=="object"}},67943:function(ct,C,v){"use strict";v.d(C,{ej:function(){return O},kG:function(){return A},wY:function(){return m}});var d=v(70655),T="Invariant Violation",P=Object.setPrototypeOf,I=P===void 0?function(tt,J){return tt.__proto__=J,tt}:P,O=function(tt){(0,d.__extends)(J,tt);function J(ft){ft===void 0&&(ft=T);var rt=tt.call(this,typeof ft=="number"?T+": "+ft+" (see https://github.com/apollographql/invariant-packages)":ft)||this;return rt.framesToPop=1,rt.name=T,I(rt,J.prototype),rt}return J}(Error);function A(tt,J){if(!tt)throw new O(J)}var E=["debug","log","warn","error","silent"],S=E.indexOf("log");function y(tt){return function(){if(E.indexOf(tt)>=S){var J=console[tt]||console.log;return J.apply(console,arguments)}}}(function(tt){tt.debug=y("debug"),tt.log=y("log"),tt.warn=y("warn"),tt.error=y("error")})(A||(A={}));function b(tt){var J=E[S];return S=Math.max(0,E.indexOf(tt)),J}var p=null;function m(tt){try{return tt()}catch(J){}}var x=m(function(){return globalThis})||m(function(){return window})||m(function(){return self})||m(function(){return global})||m(function(){return m.constructor("return this")()}),M="__",k=[M,M].join("DEV");function _(){try{return Boolean(__DEV__)}catch(tt){return Object.defineProperty(x,k,{value:m(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),x[k]}}var B=_(),z=v(34155);function W(tt){try{return tt()}catch(J){}}var R=W(function(){return globalThis})||W(function(){return window})||W(function(){return self})||W(function(){return global})||W(function(){return W.constructor("return this")()}),K=!1;function ut(){R&&!W(function(){return"production"})&&!W(function(){return z})&&(Object.defineProperty(R,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),K=!0)}ut();function ot(){K&&(delete R.process,K=!1)}var dt=v(15707);function nt(){return typeof dt.H=="function",ot()}function yt(){__DEV__?A(typeof B=="boolean",B):A(typeof B=="boolean",36)}nt(),yt()},86376:function(ct,C,v){"use strict";v.d(C,{LZ:function(){return P},FS:function(){return O},mj:function(){return A}});var d=v(67943),T=v(27636);function P(y,b){var p=y.directives;return!p||!p.length?!0:S(p).every(function(m){var x=m.directive,M=m.ifArgument,k=!1;return M.value.kind==="Variable"?(k=b&&b[M.value.name.value],__DEV__?(0,d.kG)(k!==void 0,"Invalid variable referenced in @".concat(x.name.value," directive.")):(0,d.kG)(k!==void 0,37)):k=M.value.value,x.name.value==="skip"?!k:k})}function I(y){var b=[];return(0,T.Vn)(y,{Directive:function(p){b.push(p.name.value)}}),b}function O(y,b){return I(b).some(function(p){return y.indexOf(p)>-1})}function A(y){return y&&O(["client"],y)&&O(["export"],y)}function E(y){var b=y.name.value;return b==="skip"||b==="include"}function S(y){var b=[];return y&&y.length&&y.forEach(function(p){if(!!E(p)){var m=p.arguments,x=p.name.value;__DEV__?(0,d.kG)(m&&m.length===1,"Incorrect number of arguments for the @".concat(x," directive.")):(0,d.kG)(m&&m.length===1,38);var M=m[0];__DEV__?(0,d.kG)(M.name&&M.name.value==="if","Invalid argument for the @".concat(x," directive.")):(0,d.kG)(M.name&&M.name.value==="if",39);var k=M.value;__DEV__?(0,d.kG)(k&&(k.kind==="Variable"||k.kind==="BooleanValue"),"Argument for the @".concat(x," directive must be a variable or a boolean value.")):(0,d.kG)(k&&(k.kind==="Variable"||k.kind==="BooleanValue"),40),b.push({directive:p,ifArgument:M})}}),b}},99770:function(ct,C,v){"use strict";v.d(C,{Yk:function(){return P},F:function(){return I},hi:function(){return O}});var d=v(70655),T=v(67943);function P(A,E){var S=E,y=[];A.definitions.forEach(function(p){if(p.kind==="OperationDefinition")throw __DEV__?new T.ej("Found a ".concat(p.operation," operation").concat(p.name?" named '".concat(p.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new T.ej(41);p.kind==="FragmentDefinition"&&y.push(p)}),typeof S=="undefined"&&(__DEV__?(0,T.kG)(y.length===1,"Found ".concat(y.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):(0,T.kG)(y.length===1,42),S=y[0].name.value);var b=(0,d.__assign)((0,d.__assign)({},A),{definitions:(0,d.__spreadArray)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:S}}]}}],A.definitions,!0)});return b}function I(A){A===void 0&&(A=[]);var E={};return A.forEach(function(S){E[S.name.value]=S}),E}function O(A,E){switch(A.kind){case"InlineFragment":return A;case"FragmentSpread":{var S=E&&E[A.name.value];return __DEV__?(0,T.kG)(S,"No fragment named ".concat(A.name.value,".")):(0,T.kG)(S,43),S}default:return null}}},34604:function(ct,C,v){"use strict";v.d(C,{A$:function(){return P},$H:function(){return I},rY:function(){return O},kU:function(){return A},iW:function(){return E},pD:function(){return S},p$:function(){return y},O4:function(){return b}});var d=v(67943),T=v(90386);function P(p){__DEV__?(0,d.kG)(p&&p.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,d.kG)(p&&p.kind==="Document",44);var m=p.definitions.filter(function(x){return x.kind!=="FragmentDefinition"}).map(function(x){if(x.kind!=="OperationDefinition")throw __DEV__?new d.ej('Schema type definitions not allowed in queries. Found: "'.concat(x.kind,'"')):new d.ej(45);return x});return __DEV__?(0,d.kG)(m.length<=1,"Ambiguous GraphQL document: contains ".concat(m.length," operations")):(0,d.kG)(m.length<=1,46),p}function I(p){return P(p),p.definitions.filter(function(m){return m.kind==="OperationDefinition"})[0]}function O(p){return p.definitions.filter(function(m){return m.kind==="OperationDefinition"&&m.name}).map(function(m){return m.name.value})[0]||null}function A(p){return p.definitions.filter(function(m){return m.kind==="FragmentDefinition"})}function E(p){var m=I(p);return __DEV__?(0,d.kG)(m&&m.operation==="query","Must contain a query definition."):(0,d.kG)(m&&m.operation==="query",47),m}function S(p){__DEV__?(0,d.kG)(p.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):(0,d.kG)(p.kind==="Document",48),__DEV__?(0,d.kG)(p.definitions.length<=1,"Fragment must have exactly one definition."):(0,d.kG)(p.definitions.length<=1,49);var m=p.definitions[0];return __DEV__?(0,d.kG)(m.kind==="FragmentDefinition","Must be a fragment definition."):(0,d.kG)(m.kind==="FragmentDefinition",50),m}function y(p){P(p);for(var m,x=0,M=p.definitions;x<M.length;x++){var k=M[x];if(k.kind==="OperationDefinition"){var _=k.operation;if(_==="query"||_==="mutation"||_==="subscription")return k}k.kind==="FragmentDefinition"&&!m&&(m=k)}if(m)return m;throw __DEV__?new d.ej("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new d.ej(51)}function b(p){var m=Object.create(null),x=p&&p.variableDefinitions;return x&&x.length&&x.forEach(function(M){M.defaultValue&&(0,T.vb)(m,M.variable.name,M.defaultValue)}),m}},90386:function(ct,C,v){"use strict";v.d(C,{kQ:function(){return I},Yk:function(){return O},JW:function(){return A},vb:function(){return _},vf:function(){return B},PT:function(){return W},NC:function(){return ut},u2:function(){return ot},qw:function(){return dt},My:function(){return nt},Ao:function(){return yt}});var d=v(67943),T=v(8776),P=v(99770);function I(tt){return{__ref:String(tt)}}function O(tt){return Boolean(tt&&typeof tt=="object"&&typeof tt.__ref=="string")}function A(tt){return(0,T.s)(tt)&&tt.kind==="Document"&&Array.isArray(tt.definitions)}function E(tt){return tt.kind==="StringValue"}function S(tt){return tt.kind==="BooleanValue"}function y(tt){return tt.kind==="IntValue"}function b(tt){return tt.kind==="FloatValue"}function p(tt){return tt.kind==="Variable"}function m(tt){return tt.kind==="ObjectValue"}function x(tt){return tt.kind==="ListValue"}function M(tt){return tt.kind==="EnumValue"}function k(tt){return tt.kind==="NullValue"}function _(tt,J,ft,rt){if(y(ft)||b(ft))tt[J.value]=Number(ft.value);else if(S(ft)||E(ft))tt[J.value]=ft.value;else if(m(ft)){var St={};ft.fields.map(function(q){return _(St,q.name,q.value,rt)}),tt[J.value]=St}else if(p(ft)){var wt=(rt||{})[ft.name.value];tt[J.value]=wt}else if(x(ft))tt[J.value]=ft.values.map(function(q){var it={};return _(it,J,q,rt),it[J.value]});else if(M(ft))tt[J.value]=ft.value;else if(k(ft))tt[J.value]=null;else throw __DEV__?new d.ej('The inline argument "'.concat(J.value,'" of kind "').concat(ft.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new d.ej(52)}function B(tt,J){var ft=null;tt.directives&&(ft={},tt.directives.forEach(function(St){ft[St.name.value]={},St.arguments&&St.arguments.forEach(function(wt){var q=wt.name,it=wt.value;return _(ft[St.name.value],q,it,J)})}));var rt=null;return tt.arguments&&tt.arguments.length&&(rt={},tt.arguments.forEach(function(St){var wt=St.name,q=St.value;return _(rt,wt,q,J)})),W(tt.name.value,rt,ft)}var z=["connection","include","skip","client","rest","export"],W=Object.assign(function(tt,J,ft){if(J&&ft&&ft.connection&&ft.connection.key)if(ft.connection.filter&&ft.connection.filter.length>0){var rt=ft.connection.filter?ft.connection.filter:[];rt.sort();var St={};return rt.forEach(function(it){St[it]=J[it]}),"".concat(ft.connection.key,"(").concat(R(St),")")}else return ft.connection.key;var wt=tt;if(J){var q=R(J);wt+="(".concat(q,")")}return ft&&Object.keys(ft).forEach(function(it){z.indexOf(it)===-1&&(ft[it]&&Object.keys(ft[it]).length?wt+="@".concat(it,"(").concat(R(ft[it]),")"):wt+="@".concat(it))}),wt},{setStringify:function(tt){var J=R;return R=tt,J}}),R=function(J){return JSON.stringify(J,K)};function K(tt,J){return(0,T.s)(J)&&!Array.isArray(J)&&(J=Object.keys(J).sort().reduce(function(ft,rt){return ft[rt]=J[rt],ft},{})),J}function ut(tt,J){if(tt.arguments&&tt.arguments.length){var ft={};return tt.arguments.forEach(function(rt){var St=rt.name,wt=rt.value;return _(ft,St,wt,J)}),ft}return null}function ot(tt){return tt.alias?tt.alias.value:tt.name.value}function dt(tt,J,ft){if(typeof tt.__typename=="string")return tt.__typename;for(var rt=0,St=J.selections;rt<St.length;rt++){var wt=St[rt];if(nt(wt)){if(wt.name.value==="__typename")return tt[ot(wt)]}else{var q=dt(tt,(0,P.hi)(wt,ft).selectionSet,ft);if(typeof q=="string")return q}}}function nt(tt){return tt.kind==="Field"}function yt(tt){return tt.kind==="InlineFragment"}},81234:function(ct,C,v){"use strict";v.d(C,{Gw:function(){return x},aL:function(){return ut},ob:function(){return ot},Fo:function(){return k}});var d=v(70655),T=v(67943),P=v(27636),I=v(34604);function O(dt,nt,yt){var tt=0;return dt.forEach(function(J,ft){nt.call(this,J,ft,dt)&&(dt[tt++]=J)},yt),dt.length=tt,dt}var A=v(90386),E=v(99770),S={kind:"Field",name:{kind:"Name",value:"__typename"}};function y(dt,nt){return dt.selectionSet.selections.every(function(yt){return yt.kind==="FragmentSpread"&&y(nt[yt.name.value],nt)})}function b(dt){return y((0,I.$H)(dt)||(0,I.pD)(dt),(0,E.F)((0,I.kU)(dt)))?null:dt}function p(dt){return function(yt){return dt.some(function(tt){return tt.name&&tt.name===yt.name.value||tt.test&&tt.test(yt)})}}function m(dt,nt){var yt=Object.create(null),tt=[],J=Object.create(null),ft=[],rt=b((0,P.Vn)(nt,{Variable:{enter:function(St,wt,q){q.kind!=="VariableDefinition"&&(yt[St.name.value]=!0)}},Field:{enter:function(St){if(dt&&St.directives){var wt=dt.some(function(q){return q.remove});if(wt&&St.directives&&St.directives.some(p(dt)))return St.arguments&&St.arguments.forEach(function(q){q.value.kind==="Variable"&&tt.push({name:q.value.name.value})}),St.selectionSet&&K(St.selectionSet).forEach(function(q){ft.push({name:q.name.value})}),null}}},FragmentSpread:{enter:function(St){J[St.name.value]=!0}},Directive:{enter:function(St){if(p(dt)(St))return null}}}));return rt&&O(tt,function(St){return!!St.name&&!yt[St.name]}).length&&(rt=W(tt,rt)),rt&&O(ft,function(St){return!!St.name&&!J[St.name]}).length&&(rt=R(ft,rt)),rt}var x=Object.assign(function(dt){return(0,P.Vn)(dt,{SelectionSet:{enter:function(nt,yt,tt){if(!(tt&&tt.kind==="OperationDefinition")){var J=nt.selections;if(!!J){var ft=J.some(function(St){return(0,A.My)(St)&&(St.name.value==="__typename"||St.name.value.lastIndexOf("__",0)===0)});if(!ft){var rt=tt;if(!((0,A.My)(rt)&&rt.directives&&rt.directives.some(function(St){return St.name.value==="export"})))return(0,d.__assign)((0,d.__assign)({},nt),{selections:(0,d.__spreadArray)((0,d.__spreadArray)([],J,!0),[S],!1)})}}}}}})},{added:function(dt){return dt===S}}),M={test:function(dt){var nt=dt.name.value==="connection";return nt&&(!dt.arguments||!dt.arguments.some(function(yt){return yt.name.value==="key"}))&&__DEV__&&T.kG.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),nt}};function k(dt){return m([M],(0,I.A$)(dt))}function _(dt,nt,yt){return yt===void 0&&(yt=!0),!!nt&&nt.selections&&nt.selections.some(function(tt){return B(dt,tt,yt)})}function B(dt,nt,yt){return yt===void 0&&(yt=!0),isField(nt)?nt.directives?nt.directives.some(p(dt))||yt&&_(dt,nt.selectionSet,yt):!1:!0}function z(dt){return function(yt){return dt.some(function(tt){return yt.value&&yt.value.kind==="Variable"&&yt.value.name&&(tt.name===yt.value.name.value||tt.test&&tt.test(yt))})}}function W(dt,nt){var yt=z(dt);return b((0,P.Vn)(nt,{OperationDefinition:{enter:function(tt){return(0,d.__assign)((0,d.__assign)({},tt),{variableDefinitions:tt.variableDefinitions?tt.variableDefinitions.filter(function(J){return!dt.some(function(ft){return ft.name===J.variable.name.value})}):[]})}},Field:{enter:function(tt){var J=dt.some(function(rt){return rt.remove});if(J){var ft=0;if(tt.arguments&&tt.arguments.forEach(function(rt){yt(rt)&&(ft+=1)}),ft===1)return null}}},Argument:{enter:function(tt){if(yt(tt))return null}}}))}function R(dt,nt){function yt(tt){if(dt.some(function(J){return J.name===tt.name.value}))return null}return b((0,P.Vn)(nt,{FragmentSpread:{enter:yt},FragmentDefinition:{enter:yt}}))}function K(dt){var nt=[];return dt.selections.forEach(function(yt){((0,A.My)(yt)||(0,A.Ao)(yt))&&yt.selectionSet?K(yt.selectionSet).forEach(function(tt){return nt.push(tt)}):yt.kind==="FragmentSpread"&&nt.push(yt)}),nt}function ut(dt){var nt=(0,I.p$)(dt),yt=nt.operation;if(yt==="query")return dt;var tt=(0,P.Vn)(dt,{OperationDefinition:{enter:function(J){return(0,d.__assign)((0,d.__assign)({},J),{operation:"query"})}}});return tt}function ot(dt){(0,I.A$)(dt);var nt=m([{test:function(yt){return yt.name.value==="client"},remove:!0}],dt);return nt&&(nt=(0,P.Vn)(nt,{FragmentDefinition:{enter:function(yt){if(yt.selectionSet){var tt=yt.selectionSet.selections.every(function(J){return(0,A.My)(J)&&J.name.value==="__typename"});if(tt)return null}}}})),nt}},80341:function(){},33389:function(){},99350:function(ct,C,v){"use strict";v.r(C),v.d(C,{__extends:function(){return T},__assign:function(){return P},__rest:function(){return I},__decorate:function(){return O},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return S},__generator:function(){return y},__createBinding:function(){return b},__exportStar:function(){return p},__values:function(){return m},__read:function(){return x},__spread:function(){return M},__spreadArrays:function(){return k},__await:function(){return _},__asyncGenerator:function(){return B},__asyncDelegator:function(){return z},__asyncValues:function(){return W},__makeTemplateObject:function(){return R},__importStar:function(){return K},__importDefault:function(){return ut},__classPrivateFieldGet:function(){return ot},__classPrivateFieldSet:function(){return dt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var d=function(yt,tt){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,ft){J.__proto__=ft}||function(J,ft){for(var rt in ft)ft.hasOwnProperty(rt)&&(J[rt]=ft[rt])},d(yt,tt)};function T(nt,yt){d(nt,yt);function tt(){this.constructor=nt}nt.prototype=yt===null?Object.create(yt):(tt.prototype=yt.prototype,new tt)}var P=function(){return P=Object.assign||function(tt){for(var J,ft=1,rt=arguments.length;ft<rt;ft++){J=arguments[ft];for(var St in J)Object.prototype.hasOwnProperty.call(J,St)&&(tt[St]=J[St])}return tt},P.apply(this,arguments)};function I(nt,yt){var tt={};for(var J in nt)Object.prototype.hasOwnProperty.call(nt,J)&&yt.indexOf(J)<0&&(tt[J]=nt[J]);if(nt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,J=Object.getOwnPropertySymbols(nt);ft<J.length;ft++)yt.indexOf(J[ft])<0&&Object.prototype.propertyIsEnumerable.call(nt,J[ft])&&(tt[J[ft]]=nt[J[ft]]);return tt}function O(nt,yt,tt,J){var ft=arguments.length,rt=ft<3?yt:J===null?J=Object.getOwnPropertyDescriptor(yt,tt):J,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(nt,yt,tt,J);else for(var wt=nt.length-1;wt>=0;wt--)(St=nt[wt])&&(rt=(ft<3?St(rt):ft>3?St(yt,tt,rt):St(yt,tt))||rt);return ft>3&&rt&&Object.defineProperty(yt,tt,rt),rt}function A(nt,yt){return function(tt,J){yt(tt,J,nt)}}function E(nt,yt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(nt,yt)}function S(nt,yt,tt,J){function ft(rt){return rt instanceof tt?rt:new tt(function(St){St(rt)})}return new(tt||(tt=Promise))(function(rt,St){function wt(Q){try{it(J.next(Q))}catch(f){St(f)}}function q(Q){try{it(J.throw(Q))}catch(f){St(f)}}function it(Q){Q.done?rt(Q.value):ft(Q.value).then(wt,q)}it((J=J.apply(nt,yt||[])).next())})}function y(nt,yt){var tt={label:0,sent:function(){if(rt[0]&1)throw rt[1];return rt[1]},trys:[],ops:[]},J,ft,rt,St;return St={next:wt(0),throw:wt(1),return:wt(2)},typeof Symbol=="function"&&(St[Symbol.iterator]=function(){return this}),St;function wt(it){return function(Q){return q([it,Q])}}function q(it){if(J)throw new TypeError("Generator is already executing.");for(;tt;)try{if(J=1,ft&&(rt=it[0]&2?ft.return:it[0]?ft.throw||((rt=ft.return)&&rt.call(ft),0):ft.next)&&!(rt=rt.call(ft,it[1])).done)return rt;switch(ft=0,rt&&(it=[it[0]&2,rt.value]),it[0]){case 0:case 1:rt=it;break;case 4:return tt.label++,{value:it[1],done:!1};case 5:tt.label++,ft=it[1],it=[0];continue;case 7:it=tt.ops.pop(),tt.trys.pop();continue;default:if(rt=tt.trys,!(rt=rt.length>0&&rt[rt.length-1])&&(it[0]===6||it[0]===2)){tt=0;continue}if(it[0]===3&&(!rt||it[1]>rt[0]&&it[1]<rt[3])){tt.label=it[1];break}if(it[0]===6&&tt.label<rt[1]){tt.label=rt[1],rt=it;break}if(rt&&tt.label<rt[2]){tt.label=rt[2],tt.ops.push(it);break}rt[2]&&tt.ops.pop(),tt.trys.pop();continue}it=yt.call(nt,tt)}catch(Q){it=[6,Q],ft=0}finally{J=rt=0}if(it[0]&5)throw it[1];return{value:it[0]?it[1]:void 0,done:!0}}}function b(nt,yt,tt,J){J===void 0&&(J=tt),nt[J]=yt[tt]}function p(nt,yt){for(var tt in nt)tt!=="default"&&!yt.hasOwnProperty(tt)&&(yt[tt]=nt[tt])}function m(nt){var yt=typeof Symbol=="function"&&Symbol.iterator,tt=yt&&nt[yt],J=0;if(tt)return tt.call(nt);if(nt&&typeof nt.length=="number")return{next:function(){return nt&&J>=nt.length&&(nt=void 0),{value:nt&&nt[J++],done:!nt}}};throw new TypeError(yt?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(nt,yt){var tt=typeof Symbol=="function"&&nt[Symbol.iterator];if(!tt)return nt;var J=tt.call(nt),ft,rt=[],St;try{for(;(yt===void 0||yt-- >0)&&!(ft=J.next()).done;)rt.push(ft.value)}catch(wt){St={error:wt}}finally{try{ft&&!ft.done&&(tt=J.return)&&tt.call(J)}finally{if(St)throw St.error}}return rt}function M(){for(var nt=[],yt=0;yt<arguments.length;yt++)nt=nt.concat(x(arguments[yt]));return nt}function k(){for(var nt=0,yt=0,tt=arguments.length;yt<tt;yt++)nt+=arguments[yt].length;for(var J=Array(nt),ft=0,yt=0;yt<tt;yt++)for(var rt=arguments[yt],St=0,wt=rt.length;St<wt;St++,ft++)J[ft]=rt[St];return J}function _(nt){return this instanceof _?(this.v=nt,this):new _(nt)}function B(nt,yt,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=tt.apply(nt,yt||[]),ft,rt=[];return ft={},St("next"),St("throw"),St("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function St(vt){J[vt]&&(ft[vt]=function(It){return new Promise(function(Qt,Se){rt.push([vt,It,Qt,Se])>1||wt(vt,It)})})}function wt(vt,It){try{q(J[vt](It))}catch(Qt){f(rt[0][3],Qt)}}function q(vt){vt.value instanceof _?Promise.resolve(vt.value.v).then(it,Q):f(rt[0][2],vt)}function it(vt){wt("next",vt)}function Q(vt){wt("throw",vt)}function f(vt,It){vt(It),rt.shift(),rt.length&&wt(rt[0][0],rt[0][1])}}function z(nt){var yt,tt;return yt={},J("next"),J("throw",function(ft){throw ft}),J("return"),yt[Symbol.iterator]=function(){return this},yt;function J(ft,rt){yt[ft]=nt[ft]?function(St){return(tt=!tt)?{value:_(nt[ft](St)),done:ft==="return"}:rt?rt(St):St}:rt}}function W(nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt=nt[Symbol.asyncIterator],tt;return yt?yt.call(nt):(nt=typeof m=="function"?m(nt):nt[Symbol.iterator](),tt={},J("next"),J("throw"),J("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function J(rt){tt[rt]=nt[rt]&&function(St){return new Promise(function(wt,q){St=nt[rt](St),ft(wt,q,St.done,St.value)})}}function ft(rt,St,wt,q){Promise.resolve(q).then(function(it){rt({value:it,done:wt})},St)}}function R(nt,yt){return Object.defineProperty?Object.defineProperty(nt,"raw",{value:yt}):nt.raw=yt,nt}function K(nt){if(nt&&nt.__esModule)return nt;var yt={};if(nt!=null)for(var tt in nt)Object.hasOwnProperty.call(nt,tt)&&(yt[tt]=nt[tt]);return yt.default=nt,yt}function ut(nt){return nt&&nt.__esModule?nt:{default:nt}}function ot(nt,yt){if(!yt.has(nt))throw new TypeError("attempted to get private field on non-instance");return yt.get(nt)}function dt(nt,yt,tt){if(!yt.has(nt))throw new TypeError("attempted to set private field on non-instance");return yt.set(nt,tt),tt}},54085:function(ct,C,v){"use strict";v.r(C),v.d(C,{__extends:function(){return T},__assign:function(){return P},__rest:function(){return I},__decorate:function(){return O},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return S},__generator:function(){return y},__createBinding:function(){return b},__exportStar:function(){return p},__values:function(){return m},__read:function(){return x},__spread:function(){return M},__spreadArrays:function(){return k},__await:function(){return _},__asyncGenerator:function(){return B},__asyncDelegator:function(){return z},__asyncValues:function(){return W},__makeTemplateObject:function(){return R},__importStar:function(){return K},__importDefault:function(){return ut},__classPrivateFieldGet:function(){return ot},__classPrivateFieldSet:function(){return dt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var d=function(yt,tt){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,ft){J.__proto__=ft}||function(J,ft){for(var rt in ft)ft.hasOwnProperty(rt)&&(J[rt]=ft[rt])},d(yt,tt)};function T(nt,yt){d(nt,yt);function tt(){this.constructor=nt}nt.prototype=yt===null?Object.create(yt):(tt.prototype=yt.prototype,new tt)}var P=function(){return P=Object.assign||function(tt){for(var J,ft=1,rt=arguments.length;ft<rt;ft++){J=arguments[ft];for(var St in J)Object.prototype.hasOwnProperty.call(J,St)&&(tt[St]=J[St])}return tt},P.apply(this,arguments)};function I(nt,yt){var tt={};for(var J in nt)Object.prototype.hasOwnProperty.call(nt,J)&&yt.indexOf(J)<0&&(tt[J]=nt[J]);if(nt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,J=Object.getOwnPropertySymbols(nt);ft<J.length;ft++)yt.indexOf(J[ft])<0&&Object.prototype.propertyIsEnumerable.call(nt,J[ft])&&(tt[J[ft]]=nt[J[ft]]);return tt}function O(nt,yt,tt,J){var ft=arguments.length,rt=ft<3?yt:J===null?J=Object.getOwnPropertyDescriptor(yt,tt):J,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(nt,yt,tt,J);else for(var wt=nt.length-1;wt>=0;wt--)(St=nt[wt])&&(rt=(ft<3?St(rt):ft>3?St(yt,tt,rt):St(yt,tt))||rt);return ft>3&&rt&&Object.defineProperty(yt,tt,rt),rt}function A(nt,yt){return function(tt,J){yt(tt,J,nt)}}function E(nt,yt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(nt,yt)}function S(nt,yt,tt,J){function ft(rt){return rt instanceof tt?rt:new tt(function(St){St(rt)})}return new(tt||(tt=Promise))(function(rt,St){function wt(Q){try{it(J.next(Q))}catch(f){St(f)}}function q(Q){try{it(J.throw(Q))}catch(f){St(f)}}function it(Q){Q.done?rt(Q.value):ft(Q.value).then(wt,q)}it((J=J.apply(nt,yt||[])).next())})}function y(nt,yt){var tt={label:0,sent:function(){if(rt[0]&1)throw rt[1];return rt[1]},trys:[],ops:[]},J,ft,rt,St;return St={next:wt(0),throw:wt(1),return:wt(2)},typeof Symbol=="function"&&(St[Symbol.iterator]=function(){return this}),St;function wt(it){return function(Q){return q([it,Q])}}function q(it){if(J)throw new TypeError("Generator is already executing.");for(;tt;)try{if(J=1,ft&&(rt=it[0]&2?ft.return:it[0]?ft.throw||((rt=ft.return)&&rt.call(ft),0):ft.next)&&!(rt=rt.call(ft,it[1])).done)return rt;switch(ft=0,rt&&(it=[it[0]&2,rt.value]),it[0]){case 0:case 1:rt=it;break;case 4:return tt.label++,{value:it[1],done:!1};case 5:tt.label++,ft=it[1],it=[0];continue;case 7:it=tt.ops.pop(),tt.trys.pop();continue;default:if(rt=tt.trys,!(rt=rt.length>0&&rt[rt.length-1])&&(it[0]===6||it[0]===2)){tt=0;continue}if(it[0]===3&&(!rt||it[1]>rt[0]&&it[1]<rt[3])){tt.label=it[1];break}if(it[0]===6&&tt.label<rt[1]){tt.label=rt[1],rt=it;break}if(rt&&tt.label<rt[2]){tt.label=rt[2],tt.ops.push(it);break}rt[2]&&tt.ops.pop(),tt.trys.pop();continue}it=yt.call(nt,tt)}catch(Q){it=[6,Q],ft=0}finally{J=rt=0}if(it[0]&5)throw it[1];return{value:it[0]?it[1]:void 0,done:!0}}}function b(nt,yt,tt,J){J===void 0&&(J=tt),nt[J]=yt[tt]}function p(nt,yt){for(var tt in nt)tt!=="default"&&!yt.hasOwnProperty(tt)&&(yt[tt]=nt[tt])}function m(nt){var yt=typeof Symbol=="function"&&Symbol.iterator,tt=yt&&nt[yt],J=0;if(tt)return tt.call(nt);if(nt&&typeof nt.length=="number")return{next:function(){return nt&&J>=nt.length&&(nt=void 0),{value:nt&&nt[J++],done:!nt}}};throw new TypeError(yt?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(nt,yt){var tt=typeof Symbol=="function"&&nt[Symbol.iterator];if(!tt)return nt;var J=tt.call(nt),ft,rt=[],St;try{for(;(yt===void 0||yt-- >0)&&!(ft=J.next()).done;)rt.push(ft.value)}catch(wt){St={error:wt}}finally{try{ft&&!ft.done&&(tt=J.return)&&tt.call(J)}finally{if(St)throw St.error}}return rt}function M(){for(var nt=[],yt=0;yt<arguments.length;yt++)nt=nt.concat(x(arguments[yt]));return nt}function k(){for(var nt=0,yt=0,tt=arguments.length;yt<tt;yt++)nt+=arguments[yt].length;for(var J=Array(nt),ft=0,yt=0;yt<tt;yt++)for(var rt=arguments[yt],St=0,wt=rt.length;St<wt;St++,ft++)J[ft]=rt[St];return J}function _(nt){return this instanceof _?(this.v=nt,this):new _(nt)}function B(nt,yt,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=tt.apply(nt,yt||[]),ft,rt=[];return ft={},St("next"),St("throw"),St("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function St(vt){J[vt]&&(ft[vt]=function(It){return new Promise(function(Qt,Se){rt.push([vt,It,Qt,Se])>1||wt(vt,It)})})}function wt(vt,It){try{q(J[vt](It))}catch(Qt){f(rt[0][3],Qt)}}function q(vt){vt.value instanceof _?Promise.resolve(vt.value.v).then(it,Q):f(rt[0][2],vt)}function it(vt){wt("next",vt)}function Q(vt){wt("throw",vt)}function f(vt,It){vt(It),rt.shift(),rt.length&&wt(rt[0][0],rt[0][1])}}function z(nt){var yt,tt;return yt={},J("next"),J("throw",function(ft){throw ft}),J("return"),yt[Symbol.iterator]=function(){return this},yt;function J(ft,rt){yt[ft]=nt[ft]?function(St){return(tt=!tt)?{value:_(nt[ft](St)),done:ft==="return"}:rt?rt(St):St}:rt}}function W(nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt=nt[Symbol.asyncIterator],tt;return yt?yt.call(nt):(nt=typeof m=="function"?m(nt):nt[Symbol.iterator](),tt={},J("next"),J("throw"),J("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function J(rt){tt[rt]=nt[rt]&&function(St){return new Promise(function(wt,q){St=nt[rt](St),ft(wt,q,St.done,St.value)})}}function ft(rt,St,wt,q){Promise.resolve(q).then(function(it){rt({value:it,done:wt})},St)}}function R(nt,yt){return Object.defineProperty?Object.defineProperty(nt,"raw",{value:yt}):nt.raw=yt,nt}function K(nt){if(nt&&nt.__esModule)return nt;var yt={};if(nt!=null)for(var tt in nt)Object.hasOwnProperty.call(nt,tt)&&(yt[tt]=nt[tt]);return yt.default=nt,yt}function ut(nt){return nt&&nt.__esModule?nt:{default:nt}}function ot(nt,yt){if(!yt.has(nt))throw new TypeError("attempted to get private field on non-instance");return yt.get(nt)}function dt(nt,yt,tt){if(!yt.has(nt))throw new TypeError("attempted to set private field on non-instance");return yt.set(nt,tt),tt}},62117:function(ct,C,v){"use strict";v.r(C),v.d(C,{__extends:function(){return T},__assign:function(){return P},__rest:function(){return I},__decorate:function(){return O},__param:function(){return A},__metadata:function(){return E},__awaiter:function(){return S},__generator:function(){return y},__createBinding:function(){return b},__exportStar:function(){return p},__values:function(){return m},__read:function(){return x},__spread:function(){return M},__spreadArrays:function(){return k},__await:function(){return _},__asyncGenerator:function(){return B},__asyncDelegator:function(){return z},__asyncValues:function(){return W},__makeTemplateObject:function(){return R},__importStar:function(){return K},__importDefault:function(){return ut},__classPrivateFieldGet:function(){return ot},__classPrivateFieldSet:function(){return dt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var d=function(yt,tt){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,ft){J.__proto__=ft}||function(J,ft){for(var rt in ft)ft.hasOwnProperty(rt)&&(J[rt]=ft[rt])},d(yt,tt)};function T(nt,yt){d(nt,yt);function tt(){this.constructor=nt}nt.prototype=yt===null?Object.create(yt):(tt.prototype=yt.prototype,new tt)}var P=function(){return P=Object.assign||function(tt){for(var J,ft=1,rt=arguments.length;ft<rt;ft++){J=arguments[ft];for(var St in J)Object.prototype.hasOwnProperty.call(J,St)&&(tt[St]=J[St])}return tt},P.apply(this,arguments)};function I(nt,yt){var tt={};for(var J in nt)Object.prototype.hasOwnProperty.call(nt,J)&&yt.indexOf(J)<0&&(tt[J]=nt[J]);if(nt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ft=0,J=Object.getOwnPropertySymbols(nt);ft<J.length;ft++)yt.indexOf(J[ft])<0&&Object.prototype.propertyIsEnumerable.call(nt,J[ft])&&(tt[J[ft]]=nt[J[ft]]);return tt}function O(nt,yt,tt,J){var ft=arguments.length,rt=ft<3?yt:J===null?J=Object.getOwnPropertyDescriptor(yt,tt):J,St;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(nt,yt,tt,J);else for(var wt=nt.length-1;wt>=0;wt--)(St=nt[wt])&&(rt=(ft<3?St(rt):ft>3?St(yt,tt,rt):St(yt,tt))||rt);return ft>3&&rt&&Object.defineProperty(yt,tt,rt),rt}function A(nt,yt){return function(tt,J){yt(tt,J,nt)}}function E(nt,yt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(nt,yt)}function S(nt,yt,tt,J){function ft(rt){return rt instanceof tt?rt:new tt(function(St){St(rt)})}return new(tt||(tt=Promise))(function(rt,St){function wt(Q){try{it(J.next(Q))}catch(f){St(f)}}function q(Q){try{it(J.throw(Q))}catch(f){St(f)}}function it(Q){Q.done?rt(Q.value):ft(Q.value).then(wt,q)}it((J=J.apply(nt,yt||[])).next())})}function y(nt,yt){var tt={label:0,sent:function(){if(rt[0]&1)throw rt[1];return rt[1]},trys:[],ops:[]},J,ft,rt,St;return St={next:wt(0),throw:wt(1),return:wt(2)},typeof Symbol=="function"&&(St[Symbol.iterator]=function(){return this}),St;function wt(it){return function(Q){return q([it,Q])}}function q(it){if(J)throw new TypeError("Generator is already executing.");for(;tt;)try{if(J=1,ft&&(rt=it[0]&2?ft.return:it[0]?ft.throw||((rt=ft.return)&&rt.call(ft),0):ft.next)&&!(rt=rt.call(ft,it[1])).done)return rt;switch(ft=0,rt&&(it=[it[0]&2,rt.value]),it[0]){case 0:case 1:rt=it;break;case 4:return tt.label++,{value:it[1],done:!1};case 5:tt.label++,ft=it[1],it=[0];continue;case 7:it=tt.ops.pop(),tt.trys.pop();continue;default:if(rt=tt.trys,!(rt=rt.length>0&&rt[rt.length-1])&&(it[0]===6||it[0]===2)){tt=0;continue}if(it[0]===3&&(!rt||it[1]>rt[0]&&it[1]<rt[3])){tt.label=it[1];break}if(it[0]===6&&tt.label<rt[1]){tt.label=rt[1],rt=it;break}if(rt&&tt.label<rt[2]){tt.label=rt[2],tt.ops.push(it);break}rt[2]&&tt.ops.pop(),tt.trys.pop();continue}it=yt.call(nt,tt)}catch(Q){it=[6,Q],ft=0}finally{J=rt=0}if(it[0]&5)throw it[1];return{value:it[0]?it[1]:void 0,done:!0}}}function b(nt,yt,tt,J){J===void 0&&(J=tt),nt[J]=yt[tt]}function p(nt,yt){for(var tt in nt)tt!=="default"&&!yt.hasOwnProperty(tt)&&(yt[tt]=nt[tt])}function m(nt){var yt=typeof Symbol=="function"&&Symbol.iterator,tt=yt&&nt[yt],J=0;if(tt)return tt.call(nt);if(nt&&typeof nt.length=="number")return{next:function(){return nt&&J>=nt.length&&(nt=void 0),{value:nt&&nt[J++],done:!nt}}};throw new TypeError(yt?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(nt,yt){var tt=typeof Symbol=="function"&&nt[Symbol.iterator];if(!tt)return nt;var J=tt.call(nt),ft,rt=[],St;try{for(;(yt===void 0||yt-- >0)&&!(ft=J.next()).done;)rt.push(ft.value)}catch(wt){St={error:wt}}finally{try{ft&&!ft.done&&(tt=J.return)&&tt.call(J)}finally{if(St)throw St.error}}return rt}function M(){for(var nt=[],yt=0;yt<arguments.length;yt++)nt=nt.concat(x(arguments[yt]));return nt}function k(){for(var nt=0,yt=0,tt=arguments.length;yt<tt;yt++)nt+=arguments[yt].length;for(var J=Array(nt),ft=0,yt=0;yt<tt;yt++)for(var rt=arguments[yt],St=0,wt=rt.length;St<wt;St++,ft++)J[ft]=rt[St];return J}function _(nt){return this instanceof _?(this.v=nt,this):new _(nt)}function B(nt,yt,tt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J=tt.apply(nt,yt||[]),ft,rt=[];return ft={},St("next"),St("throw"),St("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function St(vt){J[vt]&&(ft[vt]=function(It){return new Promise(function(Qt,Se){rt.push([vt,It,Qt,Se])>1||wt(vt,It)})})}function wt(vt,It){try{q(J[vt](It))}catch(Qt){f(rt[0][3],Qt)}}function q(vt){vt.value instanceof _?Promise.resolve(vt.value.v).then(it,Q):f(rt[0][2],vt)}function it(vt){wt("next",vt)}function Q(vt){wt("throw",vt)}function f(vt,It){vt(It),rt.shift(),rt.length&&wt(rt[0][0],rt[0][1])}}function z(nt){var yt,tt;return yt={},J("next"),J("throw",function(ft){throw ft}),J("return"),yt[Symbol.iterator]=function(){return this},yt;function J(ft,rt){yt[ft]=nt[ft]?function(St){return(tt=!tt)?{value:_(nt[ft](St)),done:ft==="return"}:rt?rt(St):St}:rt}}function W(nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var yt=nt[Symbol.asyncIterator],tt;return yt?yt.call(nt):(nt=typeof m=="function"?m(nt):nt[Symbol.iterator](),tt={},J("next"),J("throw"),J("return"),tt[Symbol.asyncIterator]=function(){return this},tt);function J(rt){tt[rt]=nt[rt]&&function(St){return new Promise(function(wt,q){St=nt[rt](St),ft(wt,q,St.done,St.value)})}}function ft(rt,St,wt,q){Promise.resolve(q).then(function(it){rt({value:it,done:wt})},St)}}function R(nt,yt){return Object.defineProperty?Object.defineProperty(nt,"raw",{value:yt}):nt.raw=yt,nt}function K(nt){if(nt&&nt.__esModule)return nt;var yt={};if(nt!=null)for(var tt in nt)Object.hasOwnProperty.call(nt,tt)&&(yt[tt]=nt[tt]);return yt.default=nt,yt}function ut(nt){return nt&&nt.__esModule?nt:{default:nt}}function ot(nt,yt){if(!yt.has(nt))throw new TypeError("attempted to get private field on non-instance");return yt.get(nt)}function dt(nt,yt,tt){if(!yt.has(nt))throw new TypeError("attempted to set private field on non-instance");return yt.set(nt,tt),tt}},38751:function(ct,C,v){"use strict";v.d(C,{g7:function(){return E}});var d=null,T={},P=1,I=function(){return function(){function k(){this.id=["slot",P++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return k.prototype.hasValue=function(){for(var _=d;_;_=_.parent)if(this.id in _.slots){var B=_.slots[this.id];if(B===T)break;return _!==d&&(d.slots[this.id]=B),!0}return d&&(d.slots[this.id]=T),!1},k.prototype.getValue=function(){if(this.hasValue())return d.slots[this.id]},k.prototype.withValue=function(_,B,z,W){var R,K=(R={__proto__:null},R[this.id]=_,R),ut=d;d={parent:ut,slots:K};try{return B.apply(W,z)}finally{d=ut}},k.bind=function(_){var B=d;return function(){var z=d;try{return d=B,_.apply(this,arguments)}finally{d=z}}},k.noContext=function(_,B,z){if(d){var W=d;try{return d=null,_.apply(z,B)}finally{d=W}}else return _.apply(z,B)},k}()},O="@wry/context:Slot",A=Array,E=A[O]||function(){var k=I();try{Object.defineProperty(A,O,{value:A[O]=k,enumerable:!1,writable:!1,configurable:!1})}finally{return k}}(),S=E.bind,y=E.noContext;function b(k,_){return setTimeout(S(k),_)}function p(k){return function(){var _=k.apply(this,arguments),B=S(_.next),z=S(_.throw);return new Promise(function(W,R){function K(dt,nt){try{var yt=dt.call(_,nt)}catch(J){return R(J)}var tt=yt.done?W:ut;m(yt.value)?yt.value.then(tt,yt.done?R:ot):tt(yt.value)}var ut=function(dt){return K(B,dt)},ot=function(dt){return K(z,dt)};ut()})}}function m(k){return k&&typeof k.then=="function"}var x=null;function M(k){if(x.indexOf(k)<0){var _=function(B,z){var W=B[z];B[z]=function(){return y(W,arguments,this)}};_(k,"yield"),_(k.prototype,"run"),_(k.prototype,"throwInto"),x.push(k)}return k}},82152:function(ct,C,v){"use strict";v.d(C,{D:function(){return A}});var d=Object.prototype,T=d.toString,P=d.hasOwnProperty,I=Function.prototype.toString,O=new Map;function A(x,M){try{return E(x,M)}finally{O.clear()}}function E(x,M){if(x===M)return!0;var k=T.call(x),_=T.call(M);if(k!==_)return!1;switch(k){case"[object Array]":if(x.length!==M.length)return!1;case"[object Object]":{if(m(x,M))return!0;var B=S(x),z=S(M),W=B.length;if(W!==z.length)return!1;for(var R=0;R<W;++R)if(!P.call(M,B[R]))return!1;for(var R=0;R<W;++R){var K=B[R];if(!E(x[K],M[K]))return!1}return!0}case"[object Error]":return x.name===M.name&&x.message===M.message;case"[object Number]":if(x!==x)return M!==M;case"[object Boolean]":case"[object Date]":return+x==+M;case"[object RegExp]":case"[object String]":return x==""+M;case"[object Map]":case"[object Set]":{if(x.size!==M.size)return!1;if(m(x,M))return!0;for(var ut=x.entries(),ot=k==="[object Map]";;){var dt=ut.next();if(dt.done)break;var nt=dt.value,yt=nt[0],tt=nt[1];if(!M.has(yt)||ot&&!E(tt,M.get(yt)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":x=new Uint8Array(x),M=new Uint8Array(M);case"[object DataView]":{var J=x.byteLength;if(J===M.byteLength)for(;J--&&x[J]===M[J];);return J===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var ft=I.call(x);return ft!==I.call(M)?!1:!p(ft,b)}}return!1}function S(x){return Object.keys(x).filter(y,x)}function y(x){return this[x]!==void 0}var b="{ [native code] }";function p(x,M){var k=x.length-M.length;return k>=0&&x.indexOf(M,k)===k}function m(x,M){var k=O.get(x);if(k){if(k.has(M))return!0}else O.set(x,k=new Set);return k.add(M),!1}},657:function(ct,C,v){"use strict";v.d(C,{B:function(){return O}});var d=function(){return Object.create(null)},T=Array.prototype,P=T.forEach,I=T.slice,O=function(){function E(S,y){S===void 0&&(S=!0),y===void 0&&(y=d),this.weakness=S,this.makeData=y}return E.prototype.lookup=function(){for(var S=[],y=0;y<arguments.length;y++)S[y]=arguments[y];return this.lookupArray(S)},E.prototype.lookupArray=function(S){var y=this;return P.call(S,function(b){return y=y.getChildTrie(b)}),y.data||(y.data=this.makeData(I.call(S)))},E.prototype.getChildTrie=function(S){var y=this.weakness&&A(S)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),b=y.get(S);return b||y.set(S,b=new E(this.weakness,this.makeData)),b},E}();function A(E){switch(typeof E){case"object":if(E===null)break;case"function":return!0}return!1}},79166:function(ct,C,v){"use strict";v.d(C,{Z:function(){return ot}});var d=v(96156),T=v(90484),P=v(22122),I=v(94184),O=v.n(I),A=v(63441),E=v(67294),S=v(53124),y=v(96159),b=v(98787);function p(dt){return b.Y.indexOf(dt)!==-1}var m=function(nt){var yt,tt=nt.className,J=nt.prefixCls,ft=nt.style,rt=nt.color,St=nt.children,wt=nt.text,q=nt.placement,it=q===void 0?"end":q,Q=E.useContext(S.E_),f=Q.getPrefixCls,vt=Q.direction,It=f("ribbon",J),Qt=p(rt),Se=O()(It,"".concat(It,"-placement-").concat(it),(yt={},(0,d.Z)(yt,"".concat(It,"-rtl"),vt==="rtl"),(0,d.Z)(yt,"".concat(It,"-color-").concat(rt),Qt),yt),tt),$t={},re={};return rt&&!Qt&&($t.background=rt,re.color=rt),E.createElement("div",{className:"".concat(It,"-wrapper")},St,E.createElement("div",{className:Se,style:(0,P.Z)((0,P.Z)({},$t),ft)},E.createElement("span",{className:"".concat(It,"-text")},wt),E.createElement("div",{className:"".concat(It,"-corner"),style:re})))},x=m,M=v(28481);function k(dt){var nt=dt.prefixCls,yt=dt.value,tt=dt.current,J=dt.offset,ft=J===void 0?0:J,rt;return ft&&(rt={position:"absolute",top:"".concat(ft,"00%"),left:0}),E.createElement("span",{style:rt,className:O()("".concat(nt,"-only-unit"),{current:tt})},yt)}function _(dt,nt,yt){for(var tt=dt,J=0;(tt+10)%10!==nt;)tt+=yt,J+=yt;return J}function B(dt){var nt=dt.prefixCls,yt=dt.count,tt=dt.value,J=Number(tt),ft=Math.abs(yt),rt=E.useState(J),St=(0,M.Z)(rt,2),wt=St[0],q=St[1],it=E.useState(ft),Q=(0,M.Z)(it,2),f=Q[0],vt=Q[1],It=function(){q(J),vt(ft)};E.useEffect(function(){var Rt=setTimeout(function(){It()},1e3);return function(){clearTimeout(Rt)}},[J]);var Qt,Se;if(wt===J||Number.isNaN(J)||Number.isNaN(wt))Qt=[E.createElement(k,(0,P.Z)({},dt,{key:J,current:!0}))],Se={transition:"none"};else{Qt=[];for(var $t=J+10,re=[],he=J;he<=$t;he+=1)re.push(he);var Me=re.findIndex(function(Rt){return Rt%10===wt});Qt=re.map(function(Rt,Ot){var At=Rt%10;return E.createElement(k,(0,P.Z)({},dt,{key:Rt,value:At,offset:Ot-Me,current:Ot===Me}))});var le=f<ft?1:-1;Se={transform:"translateY(".concat(-_(wt,J,le),"00%)")}}return E.createElement("span",{className:"".concat(nt,"-only"),style:Se,onTransitionEnd:It},Qt)}var z=function(dt,nt){var yt={};for(var tt in dt)Object.prototype.hasOwnProperty.call(dt,tt)&&nt.indexOf(tt)<0&&(yt[tt]=dt[tt]);if(dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var J=0,tt=Object.getOwnPropertySymbols(dt);J<tt.length;J++)nt.indexOf(tt[J])<0&&Object.prototype.propertyIsEnumerable.call(dt,tt[J])&&(yt[tt[J]]=dt[tt[J]]);return yt},W=function(nt){var yt=nt.prefixCls,tt=nt.count,J=nt.className,ft=nt.motionClassName,rt=nt.style,St=nt.title,wt=nt.show,q=nt.component,it=q===void 0?"sup":q,Q=nt.children,f=z(nt,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),vt=E.useContext(S.E_),It=vt.getPrefixCls,Qt=It("scroll-number",yt),Se=(0,P.Z)((0,P.Z)({},f),{"data-show":wt,style:rt,className:O()(Qt,J,ft),title:St}),$t=tt;if(tt&&Number(tt)%1==0){var re=String(tt).split("");$t=re.map(function(he,Me){return E.createElement(B,{prefixCls:Qt,count:Number(tt),value:he,key:re.length-Me})})}return rt&&rt.borderColor&&(Se.style=(0,P.Z)((0,P.Z)({},rt),{boxShadow:"0 0 0 1px ".concat(rt.borderColor," inset")})),Q?(0,y.Tm)(Q,function(he){return{className:O()("".concat(Qt,"-custom-component"),he==null?void 0:he.className,ft)}}):E.createElement(it,Se,$t)},R=W,K=function(dt,nt){var yt={};for(var tt in dt)Object.prototype.hasOwnProperty.call(dt,tt)&&nt.indexOf(tt)<0&&(yt[tt]=dt[tt]);if(dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var J=0,tt=Object.getOwnPropertySymbols(dt);J<tt.length;J++)nt.indexOf(tt[J])<0&&Object.prototype.propertyIsEnumerable.call(dt,tt[J])&&(yt[tt[J]]=dt[tt[J]]);return yt},ut=function(nt){var yt,tt,J=nt.prefixCls,ft=nt.scrollNumberPrefixCls,rt=nt.children,St=nt.status,wt=nt.text,q=nt.color,it=nt.count,Q=it===void 0?null:it,f=nt.overflowCount,vt=f===void 0?99:f,It=nt.dot,Qt=It===void 0?!1:It,Se=nt.size,$t=Se===void 0?"default":Se,re=nt.title,he=nt.offset,Me=nt.style,le=nt.className,Rt=nt.showZero,Ot=Rt===void 0?!1:Rt,At=K(nt,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),Dt=E.useContext(S.E_),j=Dt.getPrefixCls,$=Dt.direction,et=j("badge",J),Tt=Q>vt?"".concat(vt,"+"):Q,Nt=St!=null||q!=null,Ut=Tt==="0"||Tt===0,Oe=Qt&&!Ut,He=Oe?"":Tt,Zt=(0,E.useMemo)(function(){var st=He==null||He==="";return(st||Ut&&!Ot)&&!Oe},[He,Ut,Ot,Oe]),be=(0,E.useRef)(Q);Zt||(be.current=Q);var _e=be.current,Qe=(0,E.useRef)(He);Zt||(Qe.current=He);var dr=Qe.current,ur=(0,E.useRef)(Oe);Zt||(ur.current=Oe);var Dr=(0,E.useMemo)(function(){if(!he)return(0,P.Z)({},Me);var st={marginTop:he[1]};return $==="rtl"?st.left=parseInt(he[0],10):st.right=-parseInt(he[0],10),(0,P.Z)((0,P.Z)({},st),Me)},[$,he,Me]),ne=re!=null?re:typeof _e=="string"||typeof _e=="number"?_e:void 0,se=Zt||!wt?null:E.createElement("span",{className:"".concat(et,"-status-text")},wt),ye=!_e||(0,T.Z)(_e)!=="object"?void 0:(0,y.Tm)(_e,function(st){return{style:(0,P.Z)((0,P.Z)({},Dr),st.style)}}),We=O()((yt={},(0,d.Z)(yt,"".concat(et,"-status-dot"),Nt),(0,d.Z)(yt,"".concat(et,"-status-").concat(St),!!St),(0,d.Z)(yt,"".concat(et,"-status-").concat(q),p(q)),yt)),De={};q&&!p(q)&&(De.background=q);var ae=O()(et,(tt={},(0,d.Z)(tt,"".concat(et,"-status"),Nt),(0,d.Z)(tt,"".concat(et,"-not-a-wrapper"),!rt),(0,d.Z)(tt,"".concat(et,"-rtl"),$==="rtl"),tt),le);if(!rt&&Nt){var Yt=Dr.color;return E.createElement("span",(0,P.Z)({},At,{className:ae,style:Dr}),E.createElement("span",{className:We,style:De}),E.createElement("span",{style:{color:Yt},className:"".concat(et,"-status-text")},wt))}return E.createElement("span",(0,P.Z)({},At,{className:ae}),rt,E.createElement(A.Z,{visible:!Zt,motionName:"".concat(et,"-zoom"),motionAppear:!1,motionDeadline:1e3},function(st){var gt,kt=st.className,Ft=j("scroll-number",ft),jt=ur.current,fe=O()((gt={},(0,d.Z)(gt,"".concat(et,"-dot"),jt),(0,d.Z)(gt,"".concat(et,"-count"),!jt),(0,d.Z)(gt,"".concat(et,"-count-sm"),$t==="small"),(0,d.Z)(gt,"".concat(et,"-multiple-words"),!jt&&dr&&dr.toString().length>1),(0,d.Z)(gt,"".concat(et,"-status-").concat(St),!!St),(0,d.Z)(gt,"".concat(et,"-status-").concat(q),p(q)),gt)),Ce=(0,P.Z)({},Dr);return q&&!p(q)&&(Ce=Ce||{},Ce.background=q),E.createElement(R,{prefixCls:Ft,show:!Zt,motionClassName:kt,className:fe,count:dr,title:ne,style:Ce,key:"scrollNumber"},ye)}),se)};ut.Ribbon=x;var ot=ut},54029:function(ct,C,v){"use strict";var d=v(38663),T=v.n(d),P=v(80341),I=v.n(P)},12028:function(ct,C,v){"use strict";v.d(C,{Z:function(){return W}});var d=v(22122),T=v(96156),P=v(7085),I=v(94184),O=v.n(I),A=v(28481),E=v(81253),S=v(67294),y=v(21770),b=v(15105),p=S.forwardRef(function(R,K){var ut,ot=R.prefixCls,dt=ot===void 0?"rc-switch":ot,nt=R.className,yt=R.checked,tt=R.defaultChecked,J=R.disabled,ft=R.loadingIcon,rt=R.checkedChildren,St=R.unCheckedChildren,wt=R.onClick,q=R.onChange,it=R.onKeyDown,Q=(0,E.Z)(R,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),f=(0,y.Z)(!1,{value:yt,defaultValue:tt}),vt=(0,A.Z)(f,2),It=vt[0],Qt=vt[1];function Se(Me,le){var Rt=It;return J||(Rt=Me,Qt(Rt),q==null||q(Rt,le)),Rt}function $t(Me){Me.which===b.Z.LEFT?Se(!1,Me):Me.which===b.Z.RIGHT&&Se(!0,Me),it==null||it(Me)}function re(Me){var le=Se(!It,Me);wt==null||wt(le,Me)}var he=O()(dt,nt,(ut={},(0,T.Z)(ut,"".concat(dt,"-checked"),It),(0,T.Z)(ut,"".concat(dt,"-disabled"),J),ut));return S.createElement("button",Object.assign({},Q,{type:"button",role:"switch","aria-checked":It,disabled:J,className:he,ref:K,onKeyDown:$t,onClick:re}),ft,S.createElement("span",{className:"".concat(dt,"-inner")},It?rt:St))});p.displayName="Switch";var m=p,x=v(53124),M=v(98866),k=v(97647),_=v(21790),B=function(R,K){var ut={};for(var ot in R)Object.prototype.hasOwnProperty.call(R,ot)&&K.indexOf(ot)<0&&(ut[ot]=R[ot]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,ot=Object.getOwnPropertySymbols(R);dt<ot.length;dt++)K.indexOf(ot[dt])<0&&Object.prototype.propertyIsEnumerable.call(R,ot[dt])&&(ut[ot[dt]]=R[ot[dt]]);return ut},z=S.forwardRef(function(R,K){var ut,ot=R.prefixCls,dt=R.size,nt=R.disabled,yt=R.loading,tt=R.className,J=tt===void 0?"":tt,ft=B(R,["prefixCls","size","disabled","loading","className"]),rt=S.useContext(x.E_),St=rt.getPrefixCls,wt=rt.direction,q=S.useContext(k.Z),it=S.useContext(M.Z),Q=nt||it||yt,f=St("switch",ot),vt=S.createElement("div",{className:"".concat(f,"-handle")},yt&&S.createElement(P.Z,{className:"".concat(f,"-loading-icon")})),It=O()((ut={},(0,T.Z)(ut,"".concat(f,"-small"),(dt||q)==="small"),(0,T.Z)(ut,"".concat(f,"-loading"),yt),(0,T.Z)(ut,"".concat(f,"-rtl"),wt==="rtl"),ut),J);return S.createElement(_.Z,{insertExtraNode:!0},S.createElement(m,(0,d.Z)({},ft,{prefixCls:f,className:It,disabled:Q,ref:K,loadingIcon:vt})))});z.__ANT_SWITCH=!0;var W=z},77576:function(ct,C,v){"use strict";var d=v(38663),T=v.n(d),P=v(33389),I=v.n(P)},48168:function(ct,C,v){var d=v(39092),T={};for(var P in d)d.hasOwnProperty(P)&&(T[d[P]]=P);var I=ct.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var O in I)if(I.hasOwnProperty(O)){if(!("channels"in I[O]))throw new Error("missing channels property: "+O);if(!("labels"in I[O]))throw new Error("missing channel labels property: "+O);if(I[O].labels.length!==I[O].channels)throw new Error("channel and label counts mismatch: "+O);var A=I[O].channels,E=I[O].labels;delete I[O].channels,delete I[O].labels,Object.defineProperty(I[O],"channels",{value:A}),Object.defineProperty(I[O],"labels",{value:E})}I.rgb.hsl=function(y){var b=y[0]/255,p=y[1]/255,m=y[2]/255,x=Math.min(b,p,m),M=Math.max(b,p,m),k=M-x,_,B,z;return M===x?_=0:b===M?_=(p-m)/k:p===M?_=2+(m-b)/k:m===M&&(_=4+(b-p)/k),_=Math.min(_*60,360),_<0&&(_+=360),z=(x+M)/2,M===x?B=0:z<=.5?B=k/(M+x):B=k/(2-M-x),[_,B*100,z*100]},I.rgb.hsv=function(y){var b,p,m,x,M,k=y[0]/255,_=y[1]/255,B=y[2]/255,z=Math.max(k,_,B),W=z-Math.min(k,_,B),R=function(K){return(z-K)/6/W+1/2};return W===0?x=M=0:(M=W/z,b=R(k),p=R(_),m=R(B),k===z?x=m-p:_===z?x=1/3+b-m:B===z&&(x=2/3+p-b),x<0?x+=1:x>1&&(x-=1)),[x*360,M*100,z*100]},I.rgb.hwb=function(y){var b=y[0],p=y[1],m=y[2],x=I.rgb.hsl(y)[0],M=1/255*Math.min(b,Math.min(p,m));return m=1-1/255*Math.max(b,Math.max(p,m)),[x,M*100,m*100]},I.rgb.cmyk=function(y){var b=y[0]/255,p=y[1]/255,m=y[2]/255,x,M,k,_;return _=Math.min(1-b,1-p,1-m),x=(1-b-_)/(1-_)||0,M=(1-p-_)/(1-_)||0,k=(1-m-_)/(1-_)||0,[x*100,M*100,k*100,_*100]};function S(y,b){return Math.pow(y[0]-b[0],2)+Math.pow(y[1]-b[1],2)+Math.pow(y[2]-b[2],2)}I.rgb.keyword=function(y){var b=T[y];if(b)return b;var p=Infinity,m;for(var x in d)if(d.hasOwnProperty(x)){var M=d[x],k=S(y,M);k<p&&(p=k,m=x)}return m},I.keyword.rgb=function(y){return d[y]},I.rgb.xyz=function(y){var b=y[0]/255,p=y[1]/255,m=y[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,p=p>.04045?Math.pow((p+.055)/1.055,2.4):p/12.92,m=m>.04045?Math.pow((m+.055)/1.055,2.4):m/12.92;var x=b*.4124+p*.3576+m*.1805,M=b*.2126+p*.7152+m*.0722,k=b*.0193+p*.1192+m*.9505;return[x*100,M*100,k*100]},I.rgb.lab=function(y){var b=I.rgb.xyz(y),p=b[0],m=b[1],x=b[2],M,k,_;return p/=95.047,m/=100,x/=108.883,p=p>.008856?Math.pow(p,1/3):7.787*p+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,M=116*m-16,k=500*(p-m),_=200*(m-x),[M,k,_]},I.hsl.rgb=function(y){var b=y[0]/360,p=y[1]/100,m=y[2]/100,x,M,k,_,B;if(p===0)return B=m*255,[B,B,B];m<.5?M=m*(1+p):M=m+p-m*p,x=2*m-M,_=[0,0,0];for(var z=0;z<3;z++)k=b+1/3*-(z-1),k<0&&k++,k>1&&k--,6*k<1?B=x+(M-x)*6*k:2*k<1?B=M:3*k<2?B=x+(M-x)*(2/3-k)*6:B=x,_[z]=B*255;return _},I.hsl.hsv=function(y){var b=y[0],p=y[1]/100,m=y[2]/100,x=p,M=Math.max(m,.01),k,_;return m*=2,p*=m<=1?m:2-m,x*=M<=1?M:2-M,_=(m+p)/2,k=m===0?2*x/(M+x):2*p/(m+p),[b,k*100,_*100]},I.hsv.rgb=function(y){var b=y[0]/60,p=y[1]/100,m=y[2]/100,x=Math.floor(b)%6,M=b-Math.floor(b),k=255*m*(1-p),_=255*m*(1-p*M),B=255*m*(1-p*(1-M));switch(m*=255,x){case 0:return[m,B,k];case 1:return[_,m,k];case 2:return[k,m,B];case 3:return[k,_,m];case 4:return[B,k,m];case 5:return[m,k,_]}},I.hsv.hsl=function(y){var b=y[0],p=y[1]/100,m=y[2]/100,x=Math.max(m,.01),M,k,_;return _=(2-p)*m,M=(2-p)*x,k=p*x,k/=M<=1?M:2-M,k=k||0,_/=2,[b,k*100,_*100]},I.hwb.rgb=function(y){var b=y[0]/360,p=y[1]/100,m=y[2]/100,x=p+m,M,k,_,B;x>1&&(p/=x,m/=x),M=Math.floor(6*b),k=1-m,_=6*b-M,(M&1)!=0&&(_=1-_),B=p+_*(k-p);var z,W,R;switch(M){default:case 6:case 0:z=k,W=B,R=p;break;case 1:z=B,W=k,R=p;break;case 2:z=p,W=k,R=B;break;case 3:z=p,W=B,R=k;break;case 4:z=B,W=p,R=k;break;case 5:z=k,W=p,R=B;break}return[z*255,W*255,R*255]},I.cmyk.rgb=function(y){var b=y[0]/100,p=y[1]/100,m=y[2]/100,x=y[3]/100,M,k,_;return M=1-Math.min(1,b*(1-x)+x),k=1-Math.min(1,p*(1-x)+x),_=1-Math.min(1,m*(1-x)+x),[M*255,k*255,_*255]},I.xyz.rgb=function(y){var b=y[0]/100,p=y[1]/100,m=y[2]/100,x,M,k;return x=b*3.2406+p*-1.5372+m*-.4986,M=b*-.9689+p*1.8758+m*.0415,k=b*.0557+p*-.204+m*1.057,x=x>.0031308?1.055*Math.pow(x,1/2.4)-.055:x*12.92,M=M>.0031308?1.055*Math.pow(M,1/2.4)-.055:M*12.92,k=k>.0031308?1.055*Math.pow(k,1/2.4)-.055:k*12.92,x=Math.min(Math.max(0,x),1),M=Math.min(Math.max(0,M),1),k=Math.min(Math.max(0,k),1),[x*255,M*255,k*255]},I.xyz.lab=function(y){var b=y[0],p=y[1],m=y[2],x,M,k;return b/=95.047,p/=100,m/=108.883,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,p=p>.008856?Math.pow(p,1/3):7.787*p+16/116,m=m>.008856?Math.pow(m,1/3):7.787*m+16/116,x=116*p-16,M=500*(b-p),k=200*(p-m),[x,M,k]},I.lab.xyz=function(y){var b=y[0],p=y[1],m=y[2],x,M,k;M=(b+16)/116,x=p/500+M,k=M-m/200;var _=Math.pow(M,3),B=Math.pow(x,3),z=Math.pow(k,3);return M=_>.008856?_:(M-16/116)/7.787,x=B>.008856?B:(x-16/116)/7.787,k=z>.008856?z:(k-16/116)/7.787,x*=95.047,M*=100,k*=108.883,[x,M,k]},I.lab.lch=function(y){var b=y[0],p=y[1],m=y[2],x,M,k;return x=Math.atan2(m,p),M=x*360/2/Math.PI,M<0&&(M+=360),k=Math.sqrt(p*p+m*m),[b,k,M]},I.lch.lab=function(y){var b=y[0],p=y[1],m=y[2],x,M,k;return k=m/360*2*Math.PI,x=p*Math.cos(k),M=p*Math.sin(k),[b,x,M]},I.rgb.ansi16=function(y){var b=y[0],p=y[1],m=y[2],x=1 in arguments?arguments[1]:I.rgb.hsv(y)[2];if(x=Math.round(x/50),x===0)return 30;var M=30+(Math.round(m/255)<<2|Math.round(p/255)<<1|Math.round(b/255));return x===2&&(M+=60),M},I.hsv.ansi16=function(y){return I.rgb.ansi16(I.hsv.rgb(y),y[2])},I.rgb.ansi256=function(y){var b=y[0],p=y[1],m=y[2];if(b===p&&p===m)return b<8?16:b>248?231:Math.round((b-8)/247*24)+232;var x=16+36*Math.round(b/255*5)+6*Math.round(p/255*5)+Math.round(m/255*5);return x},I.ansi16.rgb=function(y){var b=y%10;if(b===0||b===7)return y>50&&(b+=3.5),b=b/10.5*255,[b,b,b];var p=(~~(y>50)+1)*.5,m=(b&1)*p*255,x=(b>>1&1)*p*255,M=(b>>2&1)*p*255;return[m,x,M]},I.ansi256.rgb=function(y){if(y>=232){var b=(y-232)*10+8;return[b,b,b]}y-=16;var p,m=Math.floor(y/36)/5*255,x=Math.floor((p=y%36)/6)/5*255,M=p%6/5*255;return[m,x,M]},I.rgb.hex=function(y){var b=((Math.round(y[0])&255)<<16)+((Math.round(y[1])&255)<<8)+(Math.round(y[2])&255),p=b.toString(16).toUpperCase();return"000000".substring(p.length)+p},I.hex.rgb=function(y){var b=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!b)return[0,0,0];var p=b[0];b[0].length===3&&(p=p.split("").map(function(_){return _+_}).join(""));var m=parseInt(p,16),x=m>>16&255,M=m>>8&255,k=m&255;return[x,M,k]},I.rgb.hcg=function(y){var b=y[0]/255,p=y[1]/255,m=y[2]/255,x=Math.max(Math.max(b,p),m),M=Math.min(Math.min(b,p),m),k=x-M,_,B;return k<1?_=M/(1-k):_=0,k<=0?B=0:x===b?B=(p-m)/k%6:x===p?B=2+(m-b)/k:B=4+(b-p)/k+4,B/=6,B%=1,[B*360,k*100,_*100]},I.hsl.hcg=function(y){var b=y[1]/100,p=y[2]/100,m=1,x=0;return p<.5?m=2*b*p:m=2*b*(1-p),m<1&&(x=(p-.5*m)/(1-m)),[y[0],m*100,x*100]},I.hsv.hcg=function(y){var b=y[1]/100,p=y[2]/100,m=b*p,x=0;return m<1&&(x=(p-m)/(1-m)),[y[0],m*100,x*100]},I.hcg.rgb=function(y){var b=y[0]/360,p=y[1]/100,m=y[2]/100;if(p===0)return[m*255,m*255,m*255];var x=[0,0,0],M=b%1*6,k=M%1,_=1-k,B=0;switch(Math.floor(M)){case 0:x[0]=1,x[1]=k,x[2]=0;break;case 1:x[0]=_,x[1]=1,x[2]=0;break;case 2:x[0]=0,x[1]=1,x[2]=k;break;case 3:x[0]=0,x[1]=_,x[2]=1;break;case 4:x[0]=k,x[1]=0,x[2]=1;break;default:x[0]=1,x[1]=0,x[2]=_}return B=(1-p)*m,[(p*x[0]+B)*255,(p*x[1]+B)*255,(p*x[2]+B)*255]},I.hcg.hsv=function(y){var b=y[1]/100,p=y[2]/100,m=b+p*(1-b),x=0;return m>0&&(x=b/m),[y[0],x*100,m*100]},I.hcg.hsl=function(y){var b=y[1]/100,p=y[2]/100,m=p*(1-b)+.5*b,x=0;return m>0&&m<.5?x=b/(2*m):m>=.5&&m<1&&(x=b/(2*(1-m))),[y[0],x*100,m*100]},I.hcg.hwb=function(y){var b=y[1]/100,p=y[2]/100,m=b+p*(1-b);return[y[0],(m-b)*100,(1-m)*100]},I.hwb.hcg=function(y){var b=y[1]/100,p=y[2]/100,m=1-p,x=m-b,M=0;return x<1&&(M=(m-x)/(1-x)),[y[0],x*100,M*100]},I.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},I.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},I.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},I.gray.hsl=I.gray.hsv=function(y){return[0,0,y[0]]},I.gray.hwb=function(y){return[0,100,y[0]]},I.gray.cmyk=function(y){return[0,0,0,y[0]]},I.gray.lab=function(y){return[y[0],0,0]},I.gray.hex=function(y){var b=Math.round(y[0]/100*255)&255,p=(b<<16)+(b<<8)+b,m=p.toString(16).toUpperCase();return"000000".substring(m.length)+m},I.rgb.gray=function(y){var b=(y[0]+y[1]+y[2])/3;return[b/255*100]}},12085:function(ct,C,v){var d=v(48168),T=v(4111),P={},I=Object.keys(d);function O(E){var S=function(y){return y==null?y:(arguments.length>1&&(y=Array.prototype.slice.call(arguments)),E(y))};return"conversion"in E&&(S.conversion=E.conversion),S}function A(E){var S=function(y){if(y==null)return y;arguments.length>1&&(y=Array.prototype.slice.call(arguments));var b=E(y);if(typeof b=="object")for(var p=b.length,m=0;m<p;m++)b[m]=Math.round(b[m]);return b};return"conversion"in E&&(S.conversion=E.conversion),S}I.forEach(function(E){P[E]={},Object.defineProperty(P[E],"channels",{value:d[E].channels}),Object.defineProperty(P[E],"labels",{value:d[E].labels});var S=T(E),y=Object.keys(S);y.forEach(function(b){var p=S[b];P[E][b]=A(p),P[E][b].raw=O(p)})}),ct.exports=P},39092:function(ct){"use strict";ct.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4111:function(ct,C,v){var d=v(48168);function T(){for(var A={},E=Object.keys(d),S=E.length,y=0;y<S;y++)A[E[y]]={distance:-1,parent:null};return A}function P(A){var E=T(),S=[A];for(E[A].distance=0;S.length;)for(var y=S.pop(),b=Object.keys(d[y]),p=b.length,m=0;m<p;m++){var x=b[m],M=E[x];M.distance===-1&&(M.distance=E[y].distance+1,M.parent=y,S.unshift(x))}return E}function I(A,E){return function(S){return E(A(S))}}function O(A,E){for(var S=[E[A].parent,A],y=d[E[A].parent][A],b=E[A].parent;E[b].parent;)S.unshift(E[b].parent),y=I(d[E[b].parent][b],y),b=E[b].parent;return y.conversion=S,y}ct.exports=function(A){for(var E=P(A),S={},y=Object.keys(E),b=y.length,p=0;p<b;p++){var m=y[p],x=E[m];x.parent!==null&&(S[m]=O(m,E))}return S}},8874:function(ct){"use strict";ct.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(ct,C,v){var d=v(8874),T=v(86851),P=Object.hasOwnProperty,I=Object.create(null);for(var O in d)P.call(d,O)&&(I[d[O]]=O);var A=ct.exports={to:{},get:{}};A.get=function(y){var b=y.substring(0,3).toLowerCase(),p,m;switch(b){case"hsl":p=A.get.hsl(y),m="hsl";break;case"hwb":p=A.get.hwb(y),m="hwb";break;default:p=A.get.rgb(y),m="rgb";break}return p?{model:m,value:p}:null},A.get.rgb=function(y){if(!y)return null;var b=/^#([a-f0-9]{3,4})$/i,p=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,m=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,x=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,M=/^(\w+)$/,k=[0,0,0,1],_,B,z;if(_=y.match(p)){for(z=_[2],_=_[1],B=0;B<3;B++){var W=B*2;k[B]=parseInt(_.slice(W,W+2),16)}z&&(k[3]=parseInt(z,16)/255)}else if(_=y.match(b)){for(_=_[1],z=_[3],B=0;B<3;B++)k[B]=parseInt(_[B]+_[B],16);z&&(k[3]=parseInt(z+z,16)/255)}else if(_=y.match(m)){for(B=0;B<3;B++)k[B]=parseInt(_[B+1],0);_[4]&&(_[5]?k[3]=parseFloat(_[4])*.01:k[3]=parseFloat(_[4]))}else if(_=y.match(x)){for(B=0;B<3;B++)k[B]=Math.round(parseFloat(_[B+1])*2.55);_[4]&&(_[5]?k[3]=parseFloat(_[4])*.01:k[3]=parseFloat(_[4]))}else return(_=y.match(M))?_[1]==="transparent"?[0,0,0,0]:P.call(d,_[1])?(k=d[_[1]],k[3]=1,k):null:null;for(B=0;B<3;B++)k[B]=E(k[B],0,255);return k[3]=E(k[3],0,1),k},A.get.hsl=function(y){if(!y)return null;var b=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,p=y.match(b);if(p){var m=parseFloat(p[4]),x=(parseFloat(p[1])%360+360)%360,M=E(parseFloat(p[2]),0,100),k=E(parseFloat(p[3]),0,100),_=E(isNaN(m)?1:m,0,1);return[x,M,k,_]}return null},A.get.hwb=function(y){if(!y)return null;var b=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,p=y.match(b);if(p){var m=parseFloat(p[4]),x=(parseFloat(p[1])%360+360)%360,M=E(parseFloat(p[2]),0,100),k=E(parseFloat(p[3]),0,100),_=E(isNaN(m)?1:m,0,1);return[x,M,k,_]}return null},A.to.hex=function(){var y=T(arguments);return"#"+S(y[0])+S(y[1])+S(y[2])+(y[3]<1?S(Math.round(y[3]*255)):"")},A.to.rgb=function(){var y=T(arguments);return y.length<4||y[3]===1?"rgb("+Math.round(y[0])+", "+Math.round(y[1])+", "+Math.round(y[2])+")":"rgba("+Math.round(y[0])+", "+Math.round(y[1])+", "+Math.round(y[2])+", "+y[3]+")"},A.to.rgb.percent=function(){var y=T(arguments),b=Math.round(y[0]/255*100),p=Math.round(y[1]/255*100),m=Math.round(y[2]/255*100);return y.length<4||y[3]===1?"rgb("+b+"%, "+p+"%, "+m+"%)":"rgba("+b+"%, "+p+"%, "+m+"%, "+y[3]+")"},A.to.hsl=function(){var y=T(arguments);return y.length<4||y[3]===1?"hsl("+y[0]+", "+y[1]+"%, "+y[2]+"%)":"hsla("+y[0]+", "+y[1]+"%, "+y[2]+"%, "+y[3]+")"},A.to.hwb=function(){var y=T(arguments),b="";return y.length>=4&&y[3]!==1&&(b=", "+y[3]),"hwb("+y[0]+", "+y[1]+"%, "+y[2]+"%"+b+")"},A.to.keyword=function(y){return I[y.slice(0,3)]};function E(y,b,p){return Math.min(Math.max(b,y),p)}function S(y){var b=Math.round(y).toString(16).toUpperCase();return b.length<2?"0"+b:b}},6767:function(ct,C,v){"use strict";var d=v(19818),T=v(12085),P=[].slice,I=["keyword","gray","hex"],O={};Object.keys(T).forEach(function(M){O[P.call(T[M].labels).sort().join("")]=M});var A={};function E(M,k){if(!(this instanceof E))return new E(M,k);if(k&&k in I&&(k=null),k&&!(k in T))throw new Error("Unknown model: "+k);var _,B;if(M==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(M instanceof E)this.model=M.model,this.color=M.color.slice(),this.valpha=M.valpha;else if(typeof M=="string"){var z=d.get(M);if(z===null)throw new Error("Unable to parse color from string: "+M);this.model=z.model,B=T[this.model].channels,this.color=z.value.slice(0,B),this.valpha=typeof z.value[B]=="number"?z.value[B]:1}else if(M.length){this.model=k||"rgb",B=T[this.model].channels;var W=P.call(M,0,B);this.color=x(W,B),this.valpha=typeof M[B]=="number"?M[B]:1}else if(typeof M=="number")M&=16777215,this.model="rgb",this.color=[M>>16&255,M>>8&255,M&255],this.valpha=1;else{this.valpha=1;var R=Object.keys(M);"alpha"in M&&(R.splice(R.indexOf("alpha"),1),this.valpha=typeof M.alpha=="number"?M.alpha:0);var K=R.sort().join("");if(!(K in O))throw new Error("Unable to parse color from object: "+JSON.stringify(M));this.model=O[K];var ut=T[this.model].labels,ot=[];for(_=0;_<ut.length;_++)ot.push(M[ut[_]]);this.color=x(ot)}if(A[this.model])for(B=T[this.model].channels,_=0;_<B;_++){var dt=A[this.model][_];dt&&(this.color[_]=dt(this.color[_]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}E.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(M){var k=this.model in d.to?this:this.rgb();k=k.round(typeof M=="number"?M:1);var _=k.valpha===1?k.color:k.color.concat(this.valpha);return d.to[k.model](_)},percentString:function(M){var k=this.rgb().round(typeof M=="number"?M:1),_=k.valpha===1?k.color:k.color.concat(this.valpha);return d.to.rgb.percent(_)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var M={},k=T[this.model].channels,_=T[this.model].labels,B=0;B<k;B++)M[_[B]]=this.color[B];return this.valpha!==1&&(M.alpha=this.valpha),M},unitArray:function(){var M=this.rgb().color;return M[0]/=255,M[1]/=255,M[2]/=255,this.valpha!==1&&M.push(this.valpha),M},unitObject:function(){var M=this.rgb().object();return M.r/=255,M.g/=255,M.b/=255,this.valpha!==1&&(M.alpha=this.valpha),M},round:function(M){return M=Math.max(M||0,0),new E(this.color.map(y(M)).concat(this.valpha),this.model)},alpha:function(M){return arguments.length?new E(this.color.concat(Math.max(0,Math.min(1,M))),this.model):this.valpha},red:b("rgb",0,p(255)),green:b("rgb",1,p(255)),blue:b("rgb",2,p(255)),hue:b(["hsl","hsv","hsl","hwb","hcg"],0,function(M){return(M%360+360)%360}),saturationl:b("hsl",1,p(100)),lightness:b("hsl",2,p(100)),saturationv:b("hsv",1,p(100)),value:b("hsv",2,p(100)),chroma:b("hcg",1,p(100)),gray:b("hcg",2,p(100)),white:b("hwb",1,p(100)),wblack:b("hwb",2,p(100)),cyan:b("cmyk",0,p(100)),magenta:b("cmyk",1,p(100)),yellow:b("cmyk",2,p(100)),black:b("cmyk",3,p(100)),x:b("xyz",0,p(100)),y:b("xyz",1,p(100)),z:b("xyz",2,p(100)),l:b("lab",0,p(100)),a:b("lab",1),b:b("lab",2),keyword:function(M){return arguments.length?new E(M):T[this.model].keyword(this.color)},hex:function(M){return arguments.length?new E(M):d.to.hex(this.rgb().round().color)},rgbNumber:function(){var M=this.rgb().color;return(M[0]&255)<<16|(M[1]&255)<<8|M[2]&255},luminosity:function(){for(var M=this.rgb().color,k=[],_=0;_<M.length;_++){var B=M[_]/255;k[_]=B<=.03928?B/12.92:Math.pow((B+.055)/1.055,2.4)}return .2126*k[0]+.7152*k[1]+.0722*k[2]},contrast:function(M){var k=this.luminosity(),_=M.luminosity();return k>_?(k+.05)/(_+.05):(_+.05)/(k+.05)},level:function(M){var k=this.contrast(M);return k>=7.1?"AAA":k>=4.5?"AA":""},isDark:function(){var M=this.rgb().color,k=(M[0]*299+M[1]*587+M[2]*114)/1e3;return k<128},isLight:function(){return!this.isDark()},negate:function(){for(var M=this.rgb(),k=0;k<3;k++)M.color[k]=255-M.color[k];return M},lighten:function(M){var k=this.hsl();return k.color[2]+=k.color[2]*M,k},darken:function(M){var k=this.hsl();return k.color[2]-=k.color[2]*M,k},saturate:function(M){var k=this.hsl();return k.color[1]+=k.color[1]*M,k},desaturate:function(M){var k=this.hsl();return k.color[1]-=k.color[1]*M,k},whiten:function(M){var k=this.hwb();return k.color[1]+=k.color[1]*M,k},blacken:function(M){var k=this.hwb();return k.color[2]+=k.color[2]*M,k},grayscale:function(){var M=this.rgb().color,k=M[0]*.3+M[1]*.59+M[2]*.11;return E.rgb(k,k,k)},fade:function(M){return this.alpha(this.valpha-this.valpha*M)},opaquer:function(M){return this.alpha(this.valpha+this.valpha*M)},rotate:function(M){var k=this.hsl(),_=k.color[0];return _=(_+M)%360,_=_<0?360+_:_,k.color[0]=_,k},mix:function(M,k){if(!M||!M.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof M);var _=M.rgb(),B=this.rgb(),z=k===void 0?.5:k,W=2*z-1,R=_.alpha()-B.alpha(),K=((W*R==-1?W:(W+R)/(1+W*R))+1)/2,ut=1-K;return E.rgb(K*_.red()+ut*B.red(),K*_.green()+ut*B.green(),K*_.blue()+ut*B.blue(),_.alpha()*z+B.alpha()*(1-z))}},Object.keys(T).forEach(function(M){if(I.indexOf(M)===-1){var k=T[M].channels;E.prototype[M]=function(){if(this.model===M)return new E(this);if(arguments.length)return new E(arguments,M);var _=typeof arguments[k]=="number"?k:this.valpha;return new E(m(T[this.model][M].raw(this.color)).concat(_),M)},E[M]=function(_){return typeof _=="number"&&(_=x(P.call(arguments),k)),new E(_,M)}}});function S(M,k){return Number(M.toFixed(k))}function y(M){return function(k){return S(k,M)}}function b(M,k,_){return M=Array.isArray(M)?M:[M],M.forEach(function(B){(A[B]||(A[B]=[]))[k]=_}),M=M[0],function(B){var z;return arguments.length?(_&&(B=_(B)),z=this[M](),z.color[k]=B,z):(z=this[M]().color[k],_&&(z=_(z)),z)}}function p(M){return function(k){return Math.max(0,Math.min(M,k))}}function m(M){return Array.isArray(M)?M:[M]}function x(M,k){for(var _=0;_<k;_++)typeof M[_]!="number"&&(M[_]=0);return M}ct.exports=E},68716:function(ct,C,v){"use strict";v.d(C,{yD:function(){return d},_e:function(){return T},tw:function(){return P}});function d(I){return I*I*I}function T(I){return--I*I*I+1}function P(I){return((I*=2)<=1?I*I*I:(I-=2)*I*I+2)/2}},13681:function(ct,C,v){"use strict";v.r(C),v.d(C,{easeBack:function(){return It},easeBackIn:function(){return f},easeBackInOut:function(){return It},easeBackOut:function(){return vt},easeBounce:function(){return q},easeBounceIn:function(){return wt},easeBounceInOut:function(){return it},easeBounceOut:function(){return q},easeCircle:function(){return K},easeCircleIn:function(){return W},easeCircleInOut:function(){return K},easeCircleOut:function(){return R},easeCubic:function(){return O.tw},easeCubicIn:function(){return O.yD},easeCubicInOut:function(){return O.tw},easeCubicOut:function(){return O._e},easeElastic:function(){return he},easeElasticIn:function(){return re},easeElasticInOut:function(){return Me},easeElasticOut:function(){return he},easeExp:function(){return z},easeExpIn:function(){return _},easeExpInOut:function(){return z},easeExpOut:function(){return B},easeLinear:function(){return d},easePoly:function(){return y},easePolyIn:function(){return E},easePolyInOut:function(){return y},easePolyOut:function(){return S},easeQuad:function(){return I},easeQuadIn:function(){return T},easeQuadInOut:function(){return I},easeQuadOut:function(){return P},easeSin:function(){return M},easeSinIn:function(){return m},easeSinInOut:function(){return M},easeSinOut:function(){return x}});function d(le){return+le}function T(le){return le*le}function P(le){return le*(2-le)}function I(le){return((le*=2)<=1?le*le:--le*(2-le)+1)/2}var O=v(68716),A=3,E=function le(Rt){Rt=+Rt;function Ot(At){return Math.pow(At,Rt)}return Ot.exponent=le,Ot}(A),S=function le(Rt){Rt=+Rt;function Ot(At){return 1-Math.pow(1-At,Rt)}return Ot.exponent=le,Ot}(A),y=function le(Rt){Rt=+Rt;function Ot(At){return((At*=2)<=1?Math.pow(At,Rt):2-Math.pow(2-At,Rt))/2}return Ot.exponent=le,Ot}(A),b=Math.PI,p=b/2;function m(le){return+le==1?1:1-Math.cos(le*p)}function x(le){return Math.sin(le*p)}function M(le){return(1-Math.cos(b*le))/2}function k(le){return(Math.pow(2,-10*le)-.0009765625)*1.0009775171065494}function _(le){return k(1-+le)}function B(le){return 1-k(le)}function z(le){return((le*=2)<=1?k(1-le):2-k(le-1))/2}function W(le){return 1-Math.sqrt(1-le*le)}function R(le){return Math.sqrt(1- --le*le)}function K(le){return((le*=2)<=1?1-Math.sqrt(1-le*le):Math.sqrt(1-(le-=2)*le)+1)/2}var ut=4/11,ot=6/11,dt=8/11,nt=3/4,yt=9/11,tt=10/11,J=15/16,ft=21/22,rt=63/64,St=1/ut/ut;function wt(le){return 1-q(1-le)}function q(le){return(le=+le)<ut?St*le*le:le<dt?St*(le-=ot)*le+nt:le<tt?St*(le-=yt)*le+J:St*(le-=ft)*le+rt}function it(le){return((le*=2)<=1?1-q(1-le):q(le-1)+1)/2}var Q=1.70158,f=function le(Rt){Rt=+Rt;function Ot(At){return(At=+At)*At*(Rt*(At-1)+At)}return Ot.overshoot=le,Ot}(Q),vt=function le(Rt){Rt=+Rt;function Ot(At){return--At*At*((At+1)*Rt+At)+1}return Ot.overshoot=le,Ot}(Q),It=function le(Rt){Rt=+Rt;function Ot(At){return((At*=2)<1?At*At*((Rt+1)*At-Rt):(At-=2)*At*((Rt+1)*At+Rt)+2)/2}return Ot.overshoot=le,Ot}(Q),Qt=2*Math.PI,Se=1,$t=.3,re=function le(Rt,Ot){var At=Math.asin(1/(Rt=Math.max(1,Rt)))*(Ot/=Qt);function Dt(j){return Rt*k(- --j)*Math.sin((At-j)/Ot)}return Dt.amplitude=function(j){return le(j,Ot*Qt)},Dt.period=function(j){return le(Rt,j)},Dt}(Se,$t),he=function le(Rt,Ot){var At=Math.asin(1/(Rt=Math.max(1,Rt)))*(Ot/=Qt);function Dt(j){return 1-Rt*k(j=+j)*Math.sin((j+At)/Ot)}return Dt.amplitude=function(j){return le(j,Ot*Qt)},Dt.period=function(j){return le(Rt,j)},Dt}(Se,$t),Me=function le(Rt,Ot){var At=Math.asin(1/(Rt=Math.max(1,Rt)))*(Ot/=Qt);function Dt(j){return((j=j*2-1)<0?Rt*k(-j)*Math.sin((At-j)/Ot):2-Rt*k(j)*Math.sin((At+j)/Ot))/2}return Dt.amplitude=function(j){return le(j,Ot*Qt)},Dt.period=function(j){return le(Rt,j)},Dt}(Se,$t)},88122:function(ct,C,v){"use strict";v.d(C,{Z:function(){return P},M:function(){return I}});var d=v(42800),T=v(67896);function P(O,A){return((0,T.v)(A)?T.Z:I)(O,A)}function I(O,A){var E=A?A.length:0,S=O?Math.min(E,O.length):0,y=new Array(S),b=new Array(E),p;for(p=0;p<S;++p)y[p]=(0,d.Z)(O[p],A[p]);for(;p<E;++p)b[p]=A[p];return function(m){for(p=0;p<S;++p)b[p]=y[p](m);return b}}},67896:function(ct,C,v){"use strict";v.d(C,{Z:function(){return d},v:function(){return T}});function d(P,I){I||(I=[]);var O=P?Math.min(I.length,P.length):0,A=I.slice(),E;return function(S){for(E=0;E<O;++E)A[E]=P[E]*(1-S)+I[E]*S;return A}}function T(P){return ArrayBuffer.isView(P)&&!(P instanceof DataView)}},42800:function(ct,C,v){"use strict";v.d(C,{Z:function(){return He}});function d(Zt,be,_e){Zt.prototype=be.prototype=_e,_e.constructor=Zt}function T(Zt,be){var _e=Object.create(Zt.prototype);for(var Qe in be)_e[Qe]=be[Qe];return _e}function P(){}var I=.7,O=1/I,A="\\s*([+-]?\\d+)\\s*",E="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",S="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",y=/^#([0-9a-f]{3,8})$/,b=new RegExp("^rgb\\("+[A,A,A]+"\\)$"),p=new RegExp("^rgb\\("+[S,S,S]+"\\)$"),m=new RegExp("^rgba\\("+[A,A,A,E]+"\\)$"),x=new RegExp("^rgba\\("+[S,S,S,E]+"\\)$"),M=new RegExp("^hsl\\("+[E,S,S]+"\\)$"),k=new RegExp("^hsla\\("+[E,S,S,E]+"\\)$"),_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};d(P,R,{copy:function(Zt){return Object.assign(new this.constructor,this,Zt)},displayable:function(){return this.rgb().displayable()},hex:B,formatHex:B,formatHsl:z,formatRgb:W,toString:W});function B(){return this.rgb().formatHex()}function z(){return rt(this).formatHsl()}function W(){return this.rgb().formatRgb()}function R(Zt){var be,_e;return Zt=(Zt+"").trim().toLowerCase(),(be=y.exec(Zt))?(_e=be[1].length,be=parseInt(be[1],16),_e===6?K(be):_e===3?new nt(be>>8&15|be>>4&240,be>>4&15|be&240,(be&15)<<4|be&15,1):_e===8?ut(be>>24&255,be>>16&255,be>>8&255,(be&255)/255):_e===4?ut(be>>12&15|be>>8&240,be>>8&15|be>>4&240,be>>4&15|be&240,((be&15)<<4|be&15)/255):null):(be=b.exec(Zt))?new nt(be[1],be[2],be[3],1):(be=p.exec(Zt))?new nt(be[1]*255/100,be[2]*255/100,be[3]*255/100,1):(be=m.exec(Zt))?ut(be[1],be[2],be[3],be[4]):(be=x.exec(Zt))?ut(be[1]*255/100,be[2]*255/100,be[3]*255/100,be[4]):(be=M.exec(Zt))?ft(be[1],be[2]/100,be[3]/100,1):(be=k.exec(Zt))?ft(be[1],be[2]/100,be[3]/100,be[4]):_.hasOwnProperty(Zt)?K(_[Zt]):Zt==="transparent"?new nt(NaN,NaN,NaN,0):null}function K(Zt){return new nt(Zt>>16&255,Zt>>8&255,Zt&255,1)}function ut(Zt,be,_e,Qe){return Qe<=0&&(Zt=be=_e=NaN),new nt(Zt,be,_e,Qe)}function ot(Zt){return Zt instanceof P||(Zt=R(Zt)),Zt?(Zt=Zt.rgb(),new nt(Zt.r,Zt.g,Zt.b,Zt.opacity)):new nt}function dt(Zt,be,_e,Qe){return arguments.length===1?ot(Zt):new nt(Zt,be,_e,Qe==null?1:Qe)}function nt(Zt,be,_e,Qe){this.r=+Zt,this.g=+be,this.b=+_e,this.opacity=+Qe}d(nt,dt,T(P,{brighter:function(Zt){return Zt=Zt==null?O:Math.pow(O,Zt),new nt(this.r*Zt,this.g*Zt,this.b*Zt,this.opacity)},darker:function(Zt){return Zt=Zt==null?I:Math.pow(I,Zt),new nt(this.r*Zt,this.g*Zt,this.b*Zt,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yt,formatHex:yt,formatRgb:tt,toString:tt}));function yt(){return"#"+J(this.r)+J(this.g)+J(this.b)}function tt(){var Zt=this.opacity;return Zt=isNaN(Zt)?1:Math.max(0,Math.min(1,Zt)),(Zt===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(Zt===1?")":", "+Zt+")")}function J(Zt){return Zt=Math.max(0,Math.min(255,Math.round(Zt)||0)),(Zt<16?"0":"")+Zt.toString(16)}function ft(Zt,be,_e,Qe){return Qe<=0?Zt=be=_e=NaN:_e<=0||_e>=1?Zt=be=NaN:be<=0&&(Zt=NaN),new wt(Zt,be,_e,Qe)}function rt(Zt){if(Zt instanceof wt)return new wt(Zt.h,Zt.s,Zt.l,Zt.opacity);if(Zt instanceof P||(Zt=R(Zt)),!Zt)return new wt;if(Zt instanceof wt)return Zt;Zt=Zt.rgb();var be=Zt.r/255,_e=Zt.g/255,Qe=Zt.b/255,dr=Math.min(be,_e,Qe),ur=Math.max(be,_e,Qe),Dr=NaN,ne=ur-dr,se=(ur+dr)/2;return ne?(be===ur?Dr=(_e-Qe)/ne+(_e<Qe)*6:_e===ur?Dr=(Qe-be)/ne+2:Dr=(be-_e)/ne+4,ne/=se<.5?ur+dr:2-ur-dr,Dr*=60):ne=se>0&&se<1?0:Dr,new wt(Dr,ne,se,Zt.opacity)}function St(Zt,be,_e,Qe){return arguments.length===1?rt(Zt):new wt(Zt,be,_e,Qe==null?1:Qe)}function wt(Zt,be,_e,Qe){this.h=+Zt,this.s=+be,this.l=+_e,this.opacity=+Qe}d(wt,St,T(P,{brighter:function(Zt){return Zt=Zt==null?O:Math.pow(O,Zt),new wt(this.h,this.s,this.l*Zt,this.opacity)},darker:function(Zt){return Zt=Zt==null?I:Math.pow(I,Zt),new wt(this.h,this.s,this.l*Zt,this.opacity)},rgb:function(){var Zt=this.h%360+(this.h<0)*360,be=isNaN(Zt)||isNaN(this.s)?0:this.s,_e=this.l,Qe=_e+(_e<.5?_e:1-_e)*be,dr=2*_e-Qe;return new nt(q(Zt>=240?Zt-240:Zt+120,dr,Qe),q(Zt,dr,Qe),q(Zt<120?Zt+240:Zt-120,dr,Qe),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Zt=this.opacity;return Zt=isNaN(Zt)?1:Math.max(0,Math.min(1,Zt)),(Zt===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(Zt===1?")":", "+Zt+")")}}));function q(Zt,be,_e){return(Zt<60?be+(_e-be)*Zt/60:Zt<180?_e:Zt<240?be+(_e-be)*(240-Zt)/60:be)*255}function it(Zt,be,_e,Qe,dr){var ur=Zt*Zt,Dr=ur*Zt;return((1-3*Zt+3*ur-Dr)*be+(4-6*ur+3*Dr)*_e+(1+3*Zt+3*ur-3*Dr)*Qe+Dr*dr)/6}function Q(Zt){var be=Zt.length-1;return function(_e){var Qe=_e<=0?_e=0:_e>=1?(_e=1,be-1):Math.floor(_e*be),dr=Zt[Qe],ur=Zt[Qe+1],Dr=Qe>0?Zt[Qe-1]:2*dr-ur,ne=Qe<be-1?Zt[Qe+2]:2*ur-dr;return it((_e-Qe/be)*be,Dr,dr,ur,ne)}}function f(Zt){var be=Zt.length;return function(_e){var Qe=Math.floor(((_e%=1)<0?++_e:_e)*be),dr=Zt[(Qe+be-1)%be],ur=Zt[Qe%be],Dr=Zt[(Qe+1)%be],ne=Zt[(Qe+2)%be];return it((_e-Qe/be)*be,dr,ur,Dr,ne)}}function vt(Zt){return function(){return Zt}}function It(Zt,be){return function(_e){return Zt+_e*be}}function Qt(Zt,be,_e){return Zt=Math.pow(Zt,_e),be=Math.pow(be,_e)-Zt,_e=1/_e,function(Qe){return Math.pow(Zt+Qe*be,_e)}}function Se(Zt,be){var _e=be-Zt;return _e?It(Zt,_e>180||_e<-180?_e-360*Math.round(_e/360):_e):constant(isNaN(Zt)?be:Zt)}function $t(Zt){return(Zt=+Zt)==1?re:function(be,_e){return _e-be?Qt(be,_e,Zt):vt(isNaN(be)?_e:be)}}function re(Zt,be){var _e=be-Zt;return _e?It(Zt,_e):vt(isNaN(Zt)?be:Zt)}var he=function Zt(be){var _e=$t(be);function Qe(dr,ur){var Dr=_e((dr=dt(dr)).r,(ur=dt(ur)).r),ne=_e(dr.g,ur.g),se=_e(dr.b,ur.b),ye=re(dr.opacity,ur.opacity);return function(We){return dr.r=Dr(We),dr.g=ne(We),dr.b=se(We),dr.opacity=ye(We),dr+""}}return Qe.gamma=Zt,Qe}(1);function Me(Zt){return function(be){var _e=be.length,Qe=new Array(_e),dr=new Array(_e),ur=new Array(_e),Dr,ne;for(Dr=0;Dr<_e;++Dr)ne=dt(be[Dr]),Qe[Dr]=ne.r||0,dr[Dr]=ne.g||0,ur[Dr]=ne.b||0;return Qe=Zt(Qe),dr=Zt(dr),ur=Zt(ur),ne.opacity=1,function(se){return ne.r=Qe(se),ne.g=dr(se),ne.b=ur(se),ne+""}}}var le=Me(Q),Rt=Me(f),Ot=v(88122);function At(Zt,be){var _e=new Date;return Zt=+Zt,be=+be,function(Qe){return _e.setTime(Zt*(1-Qe)+be*Qe),_e}}function Dt(Zt,be){return Zt=+Zt,be=+be,function(_e){return Zt*(1-_e)+be*_e}}function j(Zt,be){var _e={},Qe={},dr;(Zt===null||typeof Zt!="object")&&(Zt={}),(be===null||typeof be!="object")&&(be={});for(dr in be)dr in Zt?_e[dr]=He(Zt[dr],be[dr]):Qe[dr]=be[dr];return function(ur){for(dr in _e)Qe[dr]=_e[dr](ur);return Qe}}var $=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,et=new RegExp($.source,"g");function Tt(Zt){return function(){return Zt}}function Nt(Zt){return function(be){return Zt(be)+""}}function Ut(Zt,be){var _e=$.lastIndex=et.lastIndex=0,Qe,dr,ur,Dr=-1,ne=[],se=[];for(Zt=Zt+"",be=be+"";(Qe=$.exec(Zt))&&(dr=et.exec(be));)(ur=dr.index)>_e&&(ur=be.slice(_e,ur),ne[Dr]?ne[Dr]+=ur:ne[++Dr]=ur),(Qe=Qe[0])===(dr=dr[0])?ne[Dr]?ne[Dr]+=dr:ne[++Dr]=dr:(ne[++Dr]=null,se.push({i:Dr,x:Dt(Qe,dr)})),_e=et.lastIndex;return _e<be.length&&(ur=be.slice(_e),ne[Dr]?ne[Dr]+=ur:ne[++Dr]=ur),ne.length<2?se[0]?Nt(se[0].x):Tt(be):(be=se.length,function(ye){for(var We=0,De;We<be;++We)ne[(De=se[We]).i]=De.x(ye);return ne.join("")})}var Oe=v(67896);function He(Zt,be){var _e=typeof be,Qe;return be==null||_e==="boolean"?vt(be):(_e==="number"?Dt:_e==="string"?(Qe=R(be))?(be=Qe,he):Ut:be instanceof R?he:be instanceof Date?At:(0,Oe.v)(be)?Oe.Z:Array.isArray(be)?Ot.M:typeof be.valueOf!="function"&&typeof be.toString!="function"||isNaN(be)?j:Dt)(Zt,be)}},56645:function(ct,C){(function(v,d){d(C)})(this,function(v){"use strict";function d(tt,J){return T(tt)||P(tt,J)||I()}function T(tt){if(Array.isArray(tt))return tt}function P(tt,J){var ft=[],rt=!0,St=!1,wt=void 0;try{for(var q=tt[Symbol.iterator](),it;!(rt=(it=q.next()).done)&&(ft.push(it.value),!(J&&ft.length===J));rt=!0);}catch(Q){St=!0,wt=Q}finally{try{!rt&&q.return!=null&&q.return()}finally{if(St)throw wt}}return ft}function I(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function O(tt,J,ft,rt){tt=tt.filter(function($t,re){var he=J($t,re),Me=ft($t,re);return he!=null&&isFinite(he)&&Me!=null&&isFinite(Me)}),rt&&tt.sort(function($t,re){return J($t)-J(re)});for(var St=tt.length,wt=new Float64Array(St),q=new Float64Array(St),it=0,Q=0,f,vt,It,Qt=0;Qt<St;)It=tt[Qt],wt[Qt]=f=+J(It,Qt,tt),q[Qt]=vt=+ft(It,Qt,tt),++Qt,it+=(f-it)/Qt,Q+=(vt-Q)/Qt;for(var Se=0;Se<St;++Se)wt[Se]-=it,q[Se]-=Q;return[wt,q,it,Q]}function A(tt,J,ft,rt){for(var St=0,wt=0,q=tt.length;wt<q;wt++){var it=tt[wt],Q=+J(it,wt,tt),f=+ft(it,wt,tt);Q!=null&&isFinite(Q)&&f!=null&&isFinite(f)&&rt(Q,f,St++)}}function E(tt,J,ft,rt,St){var wt=0,q=0;return A(tt,J,ft,function(it,Q){var f=Q-St(it),vt=Q-rt;wt+=f*f,q+=vt*vt}),1-wt/q}function S(tt){return Math.atan2(tt[1][1]-tt[0][1],tt[1][0]-tt[0][0])*180/Math.PI}function y(tt){return[(tt[0][0]+tt[1][0])/2,(tt[0][1]+tt[1][1])/2]}function b(tt,J,ft){for(var rt=Math.log(J-tt)*Math.LOG10E+1|0,St=1*Math.pow(10,-rt/2-1),wt=1e4,q=[Q(tt),Q(J)],it=0;f(q)&&it<wt;);return q;function Q(vt){return[vt,ft(vt)]}function f(vt){it++;for(var It=vt.length,Qt=!1,Se=0;Se<It-1;Se++){var $t=vt[Se],re=vt[Se+1],he=y([$t,re]),Me=Q(he[0]),le=S([$t,he]),Rt=S([$t,Me]),Ot=Math.abs(le-Rt);Ot>St&&(vt.splice(Se+1,0,Me),Qt=!0)}return Qt}}function p(tt,J,ft,rt){var St=rt-tt*tt,wt=Math.abs(St)<1e-24?0:(ft-tt*J)/St,q=J-wt*tt;return[q,wt]}function m(){var tt=function(wt){return wt[0]},J=function(wt){return wt[1]},ft;function rt(St){var wt=0,q=0,it=0,Q=0,f=0,vt=0,It=ft?+ft[0]:Infinity,Qt=ft?+ft[1]:-Infinity;A(St,tt,J,function(Rt,Ot){var At=Math.log(Ot),Dt=Rt*Ot;++wt,q+=(Ot-q)/wt,Q+=(Dt-Q)/wt,vt+=(Rt*Dt-vt)/wt,it+=(Ot*At-it)/wt,f+=(Dt*At-f)/wt,ft||(Rt<It&&(It=Rt),Rt>Qt&&(Qt=Rt))});var Se=p(Q/q,it/q,f/q,vt/q),$t=d(Se,2),re=$t[0],he=$t[1];re=Math.exp(re);var Me=function(Ot){return re*Math.exp(he*Ot)},le=b(It,Qt,Me);return le.a=re,le.b=he,le.predict=Me,le.rSquared=E(St,tt,J,q,Me),le}return rt.domain=function(St){return arguments.length?(ft=St,rt):ft},rt.x=function(St){return arguments.length?(tt=St,rt):tt},rt.y=function(St){return arguments.length?(J=St,rt):J},rt}function x(){var tt=function(wt){return wt[0]},J=function(wt){return wt[1]},ft;function rt(St){var wt=0,q=0,it=0,Q=0,f=0,vt=ft?+ft[0]:Infinity,It=ft?+ft[1]:-Infinity;A(St,tt,J,function(le,Rt){++wt,q+=(le-q)/wt,it+=(Rt-it)/wt,Q+=(le*Rt-Q)/wt,f+=(le*le-f)/wt,ft||(le<vt&&(vt=le),le>It&&(It=le))});var Qt=p(q,it,Q,f),Se=d(Qt,2),$t=Se[0],re=Se[1],he=function(Rt){return re*Rt+$t},Me=[[vt,he(vt)],[It,he(It)]];return Me.a=re,Me.b=$t,Me.predict=he,Me.rSquared=E(St,tt,J,it,he),Me}return rt.domain=function(St){return arguments.length?(ft=St,rt):ft},rt.x=function(St){return arguments.length?(tt=St,rt):tt},rt.y=function(St){return arguments.length?(J=St,rt):J},rt}function M(tt){tt.sort(function(ft,rt){return ft-rt});var J=tt.length/2;return J%1==0?(tt[J-1]+tt[J])/2:tt[Math.floor(J)]}var k=2,_=1e-12;function B(){var tt=function(wt){return wt[0]},J=function(wt){return wt[1]},ft=.3;function rt(St){for(var wt=O(St,tt,J,!0),q=d(wt,4),it=q[0],Q=q[1],f=q[2],vt=q[3],It=it.length,Qt=Math.max(2,~~(ft*It)),Se=new Float64Array(It),$t=new Float64Array(It),re=new Float64Array(It).fill(1),he=-1;++he<=k;){for(var Me=[0,Qt-1],le=0;le<It;++le){for(var Rt=it[le],Ot=Me[0],At=Me[1],Dt=Rt-it[Ot]>it[At]-Rt?Ot:At,j=0,$=0,et=0,Tt=0,Nt=0,Ut=1/Math.abs(it[Dt]-Rt||1),Oe=Ot;Oe<=At;++Oe){var He=it[Oe],Zt=Q[Oe],be=z(Math.abs(Rt-He)*Ut)*re[Oe],_e=He*be;j+=be,$+=_e,et+=Zt*be,Tt+=Zt*_e,Nt+=He*_e}var Qe=p($/j,et/j,Tt/j,Nt/j),dr=d(Qe,2),ur=dr[0],Dr=dr[1];Se[le]=ur+Dr*Rt,$t[le]=Math.abs(Q[le]-Se[le]),W(it,le+1,Me)}if(he===k)break;var ne=M($t);if(Math.abs(ne)<_)break;for(var se=0,ye,We;se<It;++se)ye=$t[se]/(6*ne),re[se]=ye>=1?_:(We=1-ye*ye)*We}return R(it,Se,f,vt)}return rt.bandwidth=function(St){return arguments.length?(ft=St,rt):ft},rt.x=function(St){return arguments.length?(tt=St,rt):tt},rt.y=function(St){return arguments.length?(J=St,rt):J},rt}function z(tt){return(tt=1-tt*tt*tt)*tt*tt}function W(tt,J,ft){var rt=tt[J],St=ft[0],wt=ft[1]+1;if(!(wt>=tt.length))for(;J>St&&tt[wt]-rt<=rt-tt[St];)ft[0]=++St,ft[1]=wt,++wt}function R(tt,J,ft,rt){for(var St=tt.length,wt=[],q=0,it=0,Q=[],f;q<St;++q)f=tt[q]+ft,Q[0]===f?Q[1]+=(J[q]-Q[1])/++it:(it=0,Q[1]+=rt,Q=[f,J[q]],wt.push(Q));return Q[1]+=rt,wt}function K(){var tt=function(q){return q[0]},J=function(q){return q[1]},ft=Math.E,rt;function St(wt){var q=0,it=0,Q=0,f=0,vt=0,It=rt?+rt[0]:Infinity,Qt=rt?+rt[1]:-Infinity,Se=Math.log(ft);A(wt,tt,J,function(Ot,At){var Dt=Math.log(Ot)/Se;++q,it+=(Dt-it)/q,Q+=(At-Q)/q,f+=(Dt*At-f)/q,vt+=(Dt*Dt-vt)/q,rt||(Ot<It&&(It=Ot),Ot>Qt&&(Qt=Ot))});var $t=p(it,Q,f,vt),re=d($t,2),he=re[0],Me=re[1],le=function(At){return Me*Math.log(At)/Se+he},Rt=b(It,Qt,le);return Rt.a=Me,Rt.b=he,Rt.predict=le,Rt.rSquared=E(wt,tt,J,Q,le),Rt}return St.domain=function(wt){return arguments.length?(rt=wt,St):rt},St.x=function(wt){return arguments.length?(tt=wt,St):tt},St.y=function(wt){return arguments.length?(J=wt,St):J},St.base=function(wt){return arguments.length?(ft=wt,St):ft},St}function ut(){var tt=function(wt){return wt[0]},J=function(wt){return wt[1]},ft;function rt(St){var wt=O(St,tt,J),q=d(wt,4),it=q[0],Q=q[1],f=q[2],vt=q[3],It=it.length,Qt=0,Se=0,$t=0,re=0,he=0,Me,le,Rt,Ot;for(Me=0;Me<It;)le=it[Me],Rt=Q[Me++],Ot=le*le,Qt+=(Ot-Qt)/Me,Se+=(Ot*le-Se)/Me,$t+=(Ot*Ot-$t)/Me,re+=(le*Rt-re)/Me,he+=(Ot*Rt-he)/Me;var At=0,Dt=0,j=ft?+ft[0]:Infinity,$=ft?+ft[1]:-Infinity;A(St,tt,J,function(be,_e){Dt++,At+=(_e-At)/Dt,ft||(be<j&&(j=be),be>$&&($=be))});var et=$t-Qt*Qt,Tt=Qt*et-Se*Se,Nt=(he*Qt-re*Se)/Tt,Ut=(re*et-he*Se)/Tt,Oe=-Nt*Qt,He=function(_e){return _e=_e-f,Nt*_e*_e+Ut*_e+Oe+vt},Zt=b(j,$,He);return Zt.a=Nt,Zt.b=Ut-2*Nt*f,Zt.c=Oe-Ut*f+Nt*f*f+vt,Zt.predict=He,Zt.rSquared=E(St,tt,J,At,He),Zt}return rt.domain=function(St){return arguments.length?(ft=St,rt):ft},rt.x=function(St){return arguments.length?(tt=St,rt):tt},rt.y=function(St){return arguments.length?(J=St,rt):J},rt}function ot(){var tt=function(q){return q[0]},J=function(q){return q[1]},ft=3,rt;function St(wt){if(ft===1){var q=x().x(tt).y(J).domain(rt)(wt);return q.coefficients=[q.b,q.a],delete q.a,delete q.b,q}if(ft===2){var it=ut().x(tt).y(J).domain(rt)(wt);return it.coefficients=[it.c,it.b,it.a],delete it.a,delete it.b,delete it.c,it}var Q=O(wt,tt,J),f=d(Q,4),vt=f[0],It=f[1],Qt=f[2],Se=f[3],$t=vt.length,re=[],he=[],Me=ft+1,le=0,Rt=0,Ot=rt?+rt[0]:Infinity,At=rt?+rt[1]:-Infinity;A(wt,tt,J,function(He,Zt){++Rt,le+=(Zt-le)/Rt,rt||(He<Ot&&(Ot=He),He>At&&(At=He))});var Dt,j,$,et,Tt;for(Dt=0;Dt<Me;++Dt){for($=0,et=0;$<$t;++$)et+=Math.pow(vt[$],Dt)*It[$];for(re.push(et),Tt=new Float64Array(Me),j=0;j<Me;++j){for($=0,et=0;$<$t;++$)et+=Math.pow(vt[$],Dt+j);Tt[j]=et}he.push(Tt)}he.push(re);var Nt=nt(he),Ut=function(Zt){Zt-=Qt;var be=Se+Nt[0]+Nt[1]*Zt+Nt[2]*Zt*Zt;for(Dt=3;Dt<Me;++Dt)be+=Nt[Dt]*Math.pow(Zt,Dt);return be},Oe=b(Ot,At,Ut);return Oe.coefficients=dt(Me,Nt,-Qt,Se),Oe.predict=Ut,Oe.rSquared=E(wt,tt,J,le,Ut),Oe}return St.domain=function(wt){return arguments.length?(rt=wt,St):rt},St.x=function(wt){return arguments.length?(tt=wt,St):tt},St.y=function(wt){return arguments.length?(J=wt,St):J},St.order=function(wt){return arguments.length?(ft=wt,St):ft},St}function dt(tt,J,ft,rt){var St=Array(tt),wt,q,it,Q;for(wt=0;wt<tt;++wt)St[wt]=0;for(wt=tt-1;wt>=0;--wt)for(it=J[wt],Q=1,St[wt]+=it,q=1;q<=wt;++q)Q*=(wt+1-q)/q,St[wt-q]+=it*Math.pow(ft,q)*Q;return St[0]+=rt,St}function nt(tt){var J=tt.length-1,ft=[],rt,St,wt,q,it;for(rt=0;rt<J;++rt){for(q=rt,St=rt+1;St<J;++St)Math.abs(tt[rt][St])>Math.abs(tt[rt][q])&&(q=St);for(wt=rt;wt<J+1;++wt)it=tt[wt][rt],tt[wt][rt]=tt[wt][q],tt[wt][q]=it;for(St=rt+1;St<J;++St)for(wt=J;wt>=rt;wt--)tt[wt][St]-=tt[wt][rt]*tt[rt][St]/tt[rt][rt]}for(St=J-1;St>=0;--St){for(it=0,wt=St+1;wt<J;++wt)it+=tt[wt][St]*ft[wt];ft[St]=(tt[J][St]-it)/tt[St][St]}return ft}function yt(){var tt=function(wt){return wt[0]},J=function(wt){return wt[1]},ft;function rt(St){var wt=0,q=0,it=0,Q=0,f=0,vt=0,It=ft?+ft[0]:Infinity,Qt=ft?+ft[1]:-Infinity;A(St,tt,J,function(Rt,Ot){var At=Math.log(Rt),Dt=Math.log(Ot);++wt,q+=(At-q)/wt,it+=(Dt-it)/wt,Q+=(At*Dt-Q)/wt,f+=(At*At-f)/wt,vt+=(Ot-vt)/wt,ft||(Rt<It&&(It=Rt),Rt>Qt&&(Qt=Rt))});var Se=p(q,it,Q,f),$t=d(Se,2),re=$t[0],he=$t[1];re=Math.exp(re);var Me=function(Ot){return re*Math.pow(Ot,he)},le=b(It,Qt,Me);return le.a=re,le.b=he,le.predict=Me,le.rSquared=E(St,tt,J,vt,Me),le}return rt.domain=function(St){return arguments.length?(ft=St,rt):ft},rt.x=function(St){return arguments.length?(tt=St,rt):tt},rt.y=function(St){return arguments.length?(J=St,rt):J},rt}v.regressionExp=m,v.regressionLinear=x,v.regressionLoess=B,v.regressionLog=K,v.regressionPoly=ot,v.regressionPow=yt,v.regressionQuad=ut,Object.defineProperty(v,"__esModule",{value:!0})})},35374:function(ct,C,v){"use strict";v.d(C,{HT:function(){return k}});var d=0,T=0,P=0,I=1e3,O,A,E=0,S=0,y=0,b=typeof performance=="object"&&performance.now?performance:Date,p=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(K){setTimeout(K,17)};function m(){return S||(p(x),S=b.now()+y)}function x(){S=0}function M(){this._call=this._time=this._next=null}M.prototype=k.prototype={constructor:M,restart:function(K,ut,ot){if(typeof K!="function")throw new TypeError("callback is not a function");ot=(ot==null?m():+ot)+(ut==null?0:+ut),!this._next&&A!==this&&(A?A._next=this:O=this,A=this),this._call=K,this._time=ot,R()},stop:function(){this._call&&(this._call=null,this._time=Infinity,R())}};function k(K,ut,ot){var dt=new M;return dt.restart(K,ut,ot),dt}function _(){m(),++d;for(var K=O,ut;K;)(ut=S-K._time)>=0&&K._call.call(null,ut),K=K._next;--d}function B(){S=(E=b.now())+y,d=T=0;try{_()}finally{d=0,W(),S=0}}function z(){var K=b.now(),ut=K-E;ut>I&&(y-=ut,E=K)}function W(){for(var K,ut=O,ot,dt=Infinity;ut;)ut._call?(dt>ut._time&&(dt=ut._time),K=ut,ut=ut._next):(ot=ut._next,ut._next=null,ut=K?K._next=ot:O=ot);A=K,R(dt)}function R(K){if(!d){T&&(T=clearTimeout(T));var ut=K-S;ut>24?(K<Infinity&&(T=setTimeout(B,K-b.now()-y)),P&&(P=clearInterval(P))):(P||(E=b.now(),P=setInterval(z,I)),d=1,p(B))}}},70681:function(ct,C,v){ct.exports={graphlib:v(70574),layout:v(98123),debug:v(27570),util:{time:v(11138).time,notime:v(11138).notime},version:v(88177)}},92188:function(ct,C,v){"use strict";var d=v(38436),T=v(74079);ct.exports={run:P,undo:O};function P(A){var E=A.graph().acyclicer==="greedy"?T(A,S(A)):I(A);d.forEach(E,function(y){var b=A.edge(y);A.removeEdge(y),b.forwardName=y.name,b.reversed=!0,A.setEdge(y.w,y.v,b,d.uniqueId("rev"))});function S(y){return function(b){return y.edge(b).weight}}}function I(A){var E=[],S={},y={};function b(p){d.has(y,p)||(y[p]=!0,S[p]=!0,d.forEach(A.outEdges(p),function(m){d.has(S,m.w)?E.push(m):b(m.w)}),delete S[p])}return d.forEach(A.nodes(),b),E}function O(A){d.forEach(A.edges(),function(E){var S=A.edge(E);if(S.reversed){A.removeEdge(E);var y=S.forwardName;delete S.reversed,delete S.forwardName,A.setEdge(E.w,E.v,S,y)}})}},61133:function(ct,C,v){var d=v(38436),T=v(11138);ct.exports=P;function P(O){function A(E){var S=O.children(E),y=O.node(E);if(S.length&&d.forEach(S,A),d.has(y,"minRank")){y.borderLeft=[],y.borderRight=[];for(var b=y.minRank,p=y.maxRank+1;b<p;++b)I(O,"borderLeft","_bl",E,y,b),I(O,"borderRight","_br",E,y,b)}}d.forEach(O.children(),A)}function I(O,A,E,S,y,b){var p={width:0,height:0,rank:b,borderType:A},m=y[A][b-1],x=T.addDummyNode(O,"border",p,E);y[A][b]=x,O.setParent(x,S),m&&O.setEdge(m,x,{weight:1})}},53258:function(ct,C,v){"use strict";var d=v(38436);ct.exports={adjust:T,undo:P};function T(b){var p=b.graph().rankdir.toLowerCase();(p==="lr"||p==="rl")&&I(b)}function P(b){var p=b.graph().rankdir.toLowerCase();(p==="bt"||p==="rl")&&A(b),(p==="lr"||p==="rl")&&(S(b),I(b))}function I(b){d.forEach(b.nodes(),function(p){O(b.node(p))}),d.forEach(b.edges(),function(p){O(b.edge(p))})}function O(b){var p=b.width;b.width=b.height,b.height=p}function A(b){d.forEach(b.nodes(),function(p){E(b.node(p))}),d.forEach(b.edges(),function(p){var m=b.edge(p);d.forEach(m.points,E),d.has(m,"y")&&E(m)})}function E(b){b.y=-b.y}function S(b){d.forEach(b.nodes(),function(p){y(b.node(p))}),d.forEach(b.edges(),function(p){var m=b.edge(p);d.forEach(m.points,y),d.has(m,"x")&&y(m)})}function y(b){var p=b.x;b.x=b.y,b.y=p}},77822:function(ct){ct.exports=C;function C(){var T={};T._next=T._prev=T,this._sentinel=T}C.prototype.dequeue=function(){var T=this._sentinel,P=T._prev;if(P!==T)return v(P),P},C.prototype.enqueue=function(T){var P=this._sentinel;T._prev&&T._next&&v(T),T._next=P._next,P._next._prev=T,P._next=T,T._prev=P},C.prototype.toString=function(){for(var T=[],P=this._sentinel,I=P._prev;I!==P;)T.push(JSON.stringify(I,d)),I=I._prev;return"["+T.join(", ")+"]"};function v(T){T._prev._next=T._next,T._next._prev=T._prev,delete T._next,delete T._prev}function d(T,P){if(T!=="_next"&&T!=="_prev")return P}},27570:function(ct,C,v){var d=v(38436),T=v(11138),P=v(70574).Graph;ct.exports={debugOrdering:I};function I(O){var A=T.buildLayerMatrix(O),E=new P({compound:!0,multigraph:!0}).setGraph({});return d.forEach(O.nodes(),function(S){E.setNode(S,{label:S}),E.setParent(S,"layer"+O.node(S).rank)}),d.forEach(O.edges(),function(S){E.setEdge(S.v,S.w,{},S.name)}),d.forEach(A,function(S,y){var b="layer"+y;E.setNode(b,{rank:"same"}),d.reduce(S,function(p,m){return E.setEdge(p,m,{style:"invis"}),m})}),E}},70574:function(ct,C,v){var d;try{d=v(28282)}catch(T){}d||(d=window.graphlib),ct.exports=d},74079:function(ct,C,v){var d=v(38436),T=v(70574).Graph,P=v(77822);ct.exports=O;var I=d.constant(1);function O(b,p){if(b.nodeCount()<=1)return[];var m=S(b,p||I),x=A(m.graph,m.buckets,m.zeroIdx);return d.flatten(d.map(x,function(M){return b.outEdges(M.v,M.w)}),!0)}function A(b,p,m){for(var x=[],M=p[p.length-1],k=p[0],_;b.nodeCount();){for(;_=k.dequeue();)E(b,p,m,_);for(;_=M.dequeue();)E(b,p,m,_);if(b.nodeCount()){for(var B=p.length-2;B>0;--B)if(_=p[B].dequeue(),_){x=x.concat(E(b,p,m,_,!0));break}}}return x}function E(b,p,m,x,M){var k=M?[]:void 0;return d.forEach(b.inEdges(x.v),function(_){var B=b.edge(_),z=b.node(_.v);M&&k.push({v:_.v,w:_.w}),z.out-=B,y(p,m,z)}),d.forEach(b.outEdges(x.v),function(_){var B=b.edge(_),z=_.w,W=b.node(z);W.in-=B,y(p,m,W)}),b.removeNode(x.v),k}function S(b,p){var m=new T,x=0,M=0;d.forEach(b.nodes(),function(B){m.setNode(B,{v:B,in:0,out:0})}),d.forEach(b.edges(),function(B){var z=m.edge(B.v,B.w)||0,W=p(B),R=z+W;m.setEdge(B.v,B.w,R),M=Math.max(M,m.node(B.v).out+=W),x=Math.max(x,m.node(B.w).in+=W)});var k=d.range(M+x+3).map(function(){return new P}),_=x+1;return d.forEach(m.nodes(),function(B){y(k,_,m.node(B))}),{graph:m,buckets:k,zeroIdx:_}}function y(b,p,m){m.out?m.in?b[m.out-m.in+p].enqueue(m):b[b.length-1].enqueue(m):b[0].enqueue(m)}},98123:function(ct,C,v){"use strict";var d=v(38436),T=v(92188),P=v(45995),I=v(78093),O=v(11138).normalizeRanks,A=v(24219),E=v(11138).removeEmptyRanks,S=v(72981),y=v(61133),b=v(53258),p=v(53408),m=v(17873),x=v(11138),M=v(70574).Graph;ct.exports=k;function k($t,re){var he=re&&re.debugTiming?x.time:x.notime;he("layout",function(){var Me=he("  buildLayoutGraph",function(){return yt($t)});he("  runLayout",function(){_(Me,he)}),he("  updateInputGraph",function(){B($t,Me)})})}function _($t,re){re("    makeSpaceForEdgeLabels",function(){tt($t)}),re("    removeSelfEdges",function(){f($t)}),re("    acyclic",function(){T.run($t)}),re("    nestingGraph.run",function(){S.run($t)}),re("    rank",function(){I(x.asNonCompoundGraph($t))}),re("    injectEdgeLabelProxies",function(){J($t)}),re("    removeEmptyRanks",function(){E($t)}),re("    nestingGraph.cleanup",function(){S.cleanup($t)}),re("    normalizeRanks",function(){O($t)}),re("    assignRankMinMax",function(){ft($t)}),re("    removeEdgeLabelProxies",function(){rt($t)}),re("    normalize.run",function(){P.run($t)}),re("    parentDummyChains",function(){A($t)}),re("    addBorderSegments",function(){y($t)}),re("    order",function(){p($t)}),re("    insertSelfEdges",function(){vt($t)}),re("    adjustCoordinateSystem",function(){b.adjust($t)}),re("    position",function(){m($t)}),re("    positionSelfEdges",function(){It($t)}),re("    removeBorderNodes",function(){Q($t)}),re("    normalize.undo",function(){P.undo($t)}),re("    fixupEdgeLabelCoords",function(){q($t)}),re("    undoCoordinateSystem",function(){b.undo($t)}),re("    translateGraph",function(){St($t)}),re("    assignNodeIntersects",function(){wt($t)}),re("    reversePoints",function(){it($t)}),re("    acyclic.undo",function(){T.undo($t)})}function B($t,re){d.forEach($t.nodes(),function(he){var Me=$t.node(he),le=re.node(he);Me&&(Me.x=le.x,Me.y=le.y,re.children(he).length&&(Me.width=le.width,Me.height=le.height))}),d.forEach($t.edges(),function(he){var Me=$t.edge(he),le=re.edge(he);Me.points=le.points,d.has(le,"x")&&(Me.x=le.x,Me.y=le.y)}),$t.graph().width=re.graph().width,$t.graph().height=re.graph().height}var z=["nodesep","edgesep","ranksep","marginx","marginy"],W={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},R=["acyclicer","ranker","rankdir","align"],K=["width","height"],ut={width:0,height:0},ot=["minlen","weight","width","height","labeloffset"],dt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},nt=["labelpos"];function yt($t){var re=new M({multigraph:!0,compound:!0}),he=Se($t.graph());return re.setGraph(d.merge({},W,Qt(he,z),d.pick(he,R))),d.forEach($t.nodes(),function(Me){var le=Se($t.node(Me));re.setNode(Me,d.defaults(Qt(le,K),ut)),re.setParent(Me,$t.parent(Me))}),d.forEach($t.edges(),function(Me){var le=Se($t.edge(Me));re.setEdge(Me,d.merge({},dt,Qt(le,ot),d.pick(le,nt)))}),re}function tt($t){var re=$t.graph();re.ranksep/=2,d.forEach($t.edges(),function(he){var Me=$t.edge(he);Me.minlen*=2,Me.labelpos.toLowerCase()!=="c"&&(re.rankdir==="TB"||re.rankdir==="BT"?Me.width+=Me.labeloffset:Me.height+=Me.labeloffset)})}function J($t){d.forEach($t.edges(),function(re){var he=$t.edge(re);if(he.width&&he.height){var Me=$t.node(re.v),le=$t.node(re.w),Rt={rank:(le.rank-Me.rank)/2+Me.rank,e:re};x.addDummyNode($t,"edge-proxy",Rt,"_ep")}})}function ft($t){var re=0;d.forEach($t.nodes(),function(he){var Me=$t.node(he);Me.borderTop&&(Me.minRank=$t.node(Me.borderTop).rank,Me.maxRank=$t.node(Me.borderBottom).rank,re=d.max(re,Me.maxRank))}),$t.graph().maxRank=re}function rt($t){d.forEach($t.nodes(),function(re){var he=$t.node(re);he.dummy==="edge-proxy"&&($t.edge(he.e).labelRank=he.rank,$t.removeNode(re))})}function St($t){var re=Number.POSITIVE_INFINITY,he=0,Me=Number.POSITIVE_INFINITY,le=0,Rt=$t.graph(),Ot=Rt.marginx||0,At=Rt.marginy||0;function Dt(j){var $=j.x,et=j.y,Tt=j.width,Nt=j.height;re=Math.min(re,$-Tt/2),he=Math.max(he,$+Tt/2),Me=Math.min(Me,et-Nt/2),le=Math.max(le,et+Nt/2)}d.forEach($t.nodes(),function(j){Dt($t.node(j))}),d.forEach($t.edges(),function(j){var $=$t.edge(j);d.has($,"x")&&Dt($)}),re-=Ot,Me-=At,d.forEach($t.nodes(),function(j){var $=$t.node(j);$.x-=re,$.y-=Me}),d.forEach($t.edges(),function(j){var $=$t.edge(j);d.forEach($.points,function(et){et.x-=re,et.y-=Me}),d.has($,"x")&&($.x-=re),d.has($,"y")&&($.y-=Me)}),Rt.width=he-re+Ot,Rt.height=le-Me+At}function wt($t){d.forEach($t.edges(),function(re){var he=$t.edge(re),Me=$t.node(re.v),le=$t.node(re.w),Rt,Ot;he.points?(Rt=he.points[0],Ot=he.points[he.points.length-1]):(he.points=[],Rt=le,Ot=Me),he.points.unshift(x.intersectRect(Me,Rt)),he.points.push(x.intersectRect(le,Ot))})}function q($t){d.forEach($t.edges(),function(re){var he=$t.edge(re);if(d.has(he,"x"))switch((he.labelpos==="l"||he.labelpos==="r")&&(he.width-=he.labeloffset),he.labelpos){case"l":he.x-=he.width/2+he.labeloffset;break;case"r":he.x+=he.width/2+he.labeloffset;break}})}function it($t){d.forEach($t.edges(),function(re){var he=$t.edge(re);he.reversed&&he.points.reverse()})}function Q($t){d.forEach($t.nodes(),function(re){if($t.children(re).length){var he=$t.node(re),Me=$t.node(he.borderTop),le=$t.node(he.borderBottom),Rt=$t.node(d.last(he.borderLeft)),Ot=$t.node(d.last(he.borderRight));he.width=Math.abs(Ot.x-Rt.x),he.height=Math.abs(le.y-Me.y),he.x=Rt.x+he.width/2,he.y=Me.y+he.height/2}}),d.forEach($t.nodes(),function(re){$t.node(re).dummy==="border"&&$t.removeNode(re)})}function f($t){d.forEach($t.edges(),function(re){if(re.v===re.w){var he=$t.node(re.v);he.selfEdges||(he.selfEdges=[]),he.selfEdges.push({e:re,label:$t.edge(re)}),$t.removeEdge(re)}})}function vt($t){var re=x.buildLayerMatrix($t);d.forEach(re,function(he){var Me=0;d.forEach(he,function(le,Rt){var Ot=$t.node(le);Ot.order=Rt+Me,d.forEach(Ot.selfEdges,function(At){x.addDummyNode($t,"selfedge",{width:At.label.width,height:At.label.height,rank:Ot.rank,order:Rt+ ++Me,e:At.e,label:At.label},"_se")}),delete Ot.selfEdges})})}function It($t){d.forEach($t.nodes(),function(re){var he=$t.node(re);if(he.dummy==="selfedge"){var Me=$t.node(he.e.v),le=Me.x+Me.width/2,Rt=Me.y,Ot=he.x-le,At=Me.height/2;$t.setEdge(he.e,he.label),$t.removeNode(re),he.label.points=[{x:le+2*Ot/3,y:Rt-At},{x:le+5*Ot/6,y:Rt-At},{x:le+Ot,y:Rt},{x:le+5*Ot/6,y:Rt+At},{x:le+2*Ot/3,y:Rt+At}],he.label.x=he.x,he.label.y=he.y}})}function Qt($t,re){return d.mapValues(d.pick($t,re),Number)}function Se($t){var re={};return d.forEach($t,function(he,Me){re[Me.toLowerCase()]=he}),re}},38436:function(ct,C,v){var d;try{d={cloneDeep:v(50361),constant:v(75703),defaults:v(91747),each:v(66073),filter:v(63105),find:v(13311),flatten:v(85564),forEach:v(84486),forIn:v(62620),has:v(18721),isUndefined:v(52353),last:v(10928),map:v(35161),mapValues:v(66604),max:v(6162),merge:v(82492),min:v(53632),minBy:v(22762),now:v(7771),pick:v(78718),range:v(96026),reduce:v(54061),sortBy:v(89734),uniqueId:v(73955),values:v(52628),zipObject:v(7287)}}catch(T){}d||(d=window._),ct.exports=d},72981:function(ct,C,v){var d=v(38436),T=v(11138);ct.exports={run:P,cleanup:E};function P(S){var y=T.addDummyNode(S,"root",{},"_root"),b=O(S),p=d.max(d.values(b))-1,m=2*p+1;S.graph().nestingRoot=y,d.forEach(S.edges(),function(M){S.edge(M).minlen*=m});var x=A(S)+1;d.forEach(S.children(),function(M){I(S,y,m,x,p,b,M)}),S.graph().nodeRankFactor=m}function I(S,y,b,p,m,x,M){var k=S.children(M);if(!k.length){M!==y&&S.setEdge(y,M,{weight:0,minlen:b});return}var _=T.addBorderNode(S,"_bt"),B=T.addBorderNode(S,"_bb"),z=S.node(M);S.setParent(_,M),z.borderTop=_,S.setParent(B,M),z.borderBottom=B,d.forEach(k,function(W){I(S,y,b,p,m,x,W);var R=S.node(W),K=R.borderTop?R.borderTop:W,ut=R.borderBottom?R.borderBottom:W,ot=R.borderTop?p:2*p,dt=K!==ut?1:m-x[M]+1;S.setEdge(_,K,{weight:ot,minlen:dt,nestingEdge:!0}),S.setEdge(ut,B,{weight:ot,minlen:dt,nestingEdge:!0})}),S.parent(M)||S.setEdge(y,_,{weight:0,minlen:m+x[M]})}function O(S){var y={};function b(p,m){var x=S.children(p);x&&x.length&&d.forEach(x,function(M){b(M,m+1)}),y[p]=m}return d.forEach(S.children(),function(p){b(p,1)}),y}function A(S){return d.reduce(S.edges(),function(y,b){return y+S.edge(b).weight},0)}function E(S){var y=S.graph();S.removeNode(y.nestingRoot),delete y.nestingRoot,d.forEach(S.edges(),function(b){var p=S.edge(b);p.nestingEdge&&S.removeEdge(b)})}},45995:function(ct,C,v){"use strict";var d=v(38436),T=v(11138);ct.exports={run:P,undo:O};function P(A){A.graph().dummyChains=[],d.forEach(A.edges(),function(E){I(A,E)})}function I(A,E){var S=E.v,y=A.node(S).rank,b=E.w,p=A.node(b).rank,m=E.name,x=A.edge(E),M=x.labelRank;if(p!==y+1){A.removeEdge(E);var k,_,B;for(B=0,++y;y<p;++B,++y)x.points=[],_={width:0,height:0,edgeLabel:x,edgeObj:E,rank:y},k=T.addDummyNode(A,"edge",_,"_d"),y===M&&(_.width=x.width,_.height=x.height,_.dummy="edge-label",_.labelpos=x.labelpos),A.setEdge(S,k,{weight:x.weight},m),B===0&&A.graph().dummyChains.push(k),S=k;A.setEdge(S,b,{weight:x.weight},m)}}function O(A){d.forEach(A.graph().dummyChains,function(E){var S=A.node(E),y=S.edgeLabel,b;for(A.setEdge(S.edgeObj,y);S.dummy;)b=A.successors(E)[0],A.removeNode(E),y.points.push({x:S.x,y:S.y}),S.dummy==="edge-label"&&(y.x=S.x,y.y=S.y,y.width=S.width,y.height=S.height),E=b,S=A.node(E)})}},55093:function(ct,C,v){var d=v(38436);ct.exports=T;function T(P,I,O){var A={},E;d.forEach(O,function(S){for(var y=P.parent(S),b,p;y;){if(b=P.parent(y),b?(p=A[b],A[b]=y):(p=E,E=y),p&&p!==y){I.setEdge(p,y);return}y=b}})}},35439:function(ct,C,v){var d=v(38436);ct.exports=T;function T(P,I){return d.map(I,function(O){var A=P.inEdges(O);if(A.length){var E=d.reduce(A,function(S,y){var b=P.edge(y),p=P.node(y.v);return{sum:S.sum+b.weight*p.order,weight:S.weight+b.weight}},{sum:0,weight:0});return{v:O,barycenter:E.sum/E.weight,weight:E.weight}}else return{v:O}})}},23128:function(ct,C,v){var d=v(38436),T=v(70574).Graph;ct.exports=P;function P(O,A,E){var S=I(O),y=new T({compound:!0}).setGraph({root:S}).setDefaultNodeLabel(function(b){return O.node(b)});return d.forEach(O.nodes(),function(b){var p=O.node(b),m=O.parent(b);(p.rank===A||p.minRank<=A&&A<=p.maxRank)&&(y.setNode(b),y.setParent(b,m||S),d.forEach(O[E](b),function(x){var M=x.v===b?x.w:x.v,k=y.edge(M,b),_=d.isUndefined(k)?0:k.weight;y.setEdge(M,b,{weight:O.edge(x).weight+_})}),d.has(p,"minRank")&&y.setNode(b,{borderLeft:p.borderLeft[A],borderRight:p.borderRight[A]}))}),y}function I(O){for(var A;O.hasNode(A=d.uniqueId("_root")););return A}},56630:function(ct,C,v){"use strict";var d=v(38436);ct.exports=T;function T(I,O){for(var A=0,E=1;E<O.length;++E)A+=P(I,O[E-1],O[E]);return A}function P(I,O,A){for(var E=d.zipObject(A,d.map(A,function(x,M){return M})),S=d.flatten(d.map(O,function(x){return d.sortBy(d.map(I.outEdges(x),function(M){return{pos:E[M.w],weight:I.edge(M).weight}}),"pos")}),!0),y=1;y<A.length;)y<<=1;var b=2*y-1;y-=1;var p=d.map(new Array(b),function(){return 0}),m=0;return d.forEach(S.forEach(function(x){var M=x.pos+y;p[M]+=x.weight;for(var k=0;M>0;)M%2&&(k+=p[M+1]),M=M-1>>1,p[M]+=x.weight;m+=x.weight*k})),m}},53408:function(ct,C,v){"use strict";var d=v(38436),T=v(2588),P=v(56630),I=v(61026),O=v(23128),A=v(55093),E=v(70574).Graph,S=v(11138);ct.exports=y;function y(x){var M=S.maxRank(x),k=b(x,d.range(1,M+1),"inEdges"),_=b(x,d.range(M-1,-1,-1),"outEdges"),B=T(x);m(x,B);for(var z=Number.POSITIVE_INFINITY,W,R=0,K=0;K<4;++R,++K){p(R%2?k:_,R%4>=2),B=S.buildLayerMatrix(x);var ut=P(x,B);ut<z&&(K=0,W=d.cloneDeep(B),z=ut)}m(x,W)}function b(x,M,k){return d.map(M,function(_){return O(x,_,k)})}function p(x,M){var k=new E;d.forEach(x,function(_){var B=_.graph().root,z=I(_,B,k,M);d.forEach(z.vs,function(W,R){_.node(W).order=R}),A(_,k,z.vs)})}function m(x,M){d.forEach(M,function(k){d.forEach(k,function(_,B){x.node(_).order=B})})}},2588:function(ct,C,v){"use strict";var d=v(38436);ct.exports=T;function T(P){var I={},O=d.filter(P.nodes(),function(b){return!P.children(b).length}),A=d.max(d.map(O,function(b){return P.node(b).rank})),E=d.map(d.range(A+1),function(){return[]});function S(b){if(!d.has(I,b)){I[b]=!0;var p=P.node(b);E[p.rank].push(b),d.forEach(P.successors(b),S)}}var y=d.sortBy(O,function(b){return P.node(b).rank});return d.forEach(y,S),E}},83678:function(ct,C,v){"use strict";var d=v(38436);ct.exports=T;function T(O,A){var E={};d.forEach(O,function(y,b){var p=E[y.v]={indegree:0,in:[],out:[],vs:[y.v],i:b};d.isUndefined(y.barycenter)||(p.barycenter=y.barycenter,p.weight=y.weight)}),d.forEach(A.edges(),function(y){var b=E[y.v],p=E[y.w];!d.isUndefined(b)&&!d.isUndefined(p)&&(p.indegree++,b.out.push(E[y.w]))});var S=d.filter(E,function(y){return!y.indegree});return P(S)}function P(O){var A=[];function E(b){return function(p){p.merged||(d.isUndefined(p.barycenter)||d.isUndefined(b.barycenter)||p.barycenter>=b.barycenter)&&I(b,p)}}function S(b){return function(p){p.in.push(b),--p.indegree==0&&O.push(p)}}for(;O.length;){var y=O.pop();A.push(y),d.forEach(y.in.reverse(),E(y)),d.forEach(y.out,S(y))}return d.map(d.filter(A,function(b){return!b.merged}),function(b){return d.pick(b,["vs","i","barycenter","weight"])})}function I(O,A){var E=0,S=0;O.weight&&(E+=O.barycenter*O.weight,S+=O.weight),A.weight&&(E+=A.barycenter*A.weight,S+=A.weight),O.vs=A.vs.concat(O.vs),O.barycenter=E/S,O.weight=S,O.i=Math.min(A.i,O.i),A.merged=!0}},61026:function(ct,C,v){var d=v(38436),T=v(35439),P=v(83678),I=v(87304);ct.exports=O;function O(S,y,b,p){var m=S.children(y),x=S.node(y),M=x?x.borderLeft:void 0,k=x?x.borderRight:void 0,_={};M&&(m=d.filter(m,function(ut){return ut!==M&&ut!==k}));var B=T(S,m);d.forEach(B,function(ut){if(S.children(ut.v).length){var ot=O(S,ut.v,b,p);_[ut.v]=ot,d.has(ot,"barycenter")&&E(ut,ot)}});var z=P(B,b);A(z,_);var W=I(z,p);if(M&&(W.vs=d.flatten([M,W.vs,k],!0),S.predecessors(M).length)){var R=S.node(S.predecessors(M)[0]),K=S.node(S.predecessors(k)[0]);d.has(W,"barycenter")||(W.barycenter=0,W.weight=0),W.barycenter=(W.barycenter*W.weight+R.order+K.order)/(W.weight+2),W.weight+=2}return W}function A(S,y){d.forEach(S,function(b){b.vs=d.flatten(b.vs.map(function(p){return y[p]?y[p].vs:p}),!0)})}function E(S,y){d.isUndefined(S.barycenter)?(S.barycenter=y.barycenter,S.weight=y.weight):(S.barycenter=(S.barycenter*S.weight+y.barycenter*y.weight)/(S.weight+y.weight),S.weight+=y.weight)}},87304:function(ct,C,v){var d=v(38436),T=v(11138);ct.exports=P;function P(A,E){var S=T.partition(A,function(_){return d.has(_,"barycenter")}),y=S.lhs,b=d.sortBy(S.rhs,function(_){return-_.i}),p=[],m=0,x=0,M=0;y.sort(O(!!E)),M=I(p,b,M),d.forEach(y,function(_){M+=_.vs.length,p.push(_.vs),m+=_.barycenter*_.weight,x+=_.weight,M=I(p,b,M)});var k={vs:d.flatten(p,!0)};return x&&(k.barycenter=m/x,k.weight=x),k}function I(A,E,S){for(var y;E.length&&(y=d.last(E)).i<=S;)E.pop(),A.push(y.vs),S++;return S}function O(A){return function(E,S){return E.barycenter<S.barycenter?-1:E.barycenter>S.barycenter?1:A?S.i-E.i:E.i-S.i}}},24219:function(ct,C,v){var d=v(38436);ct.exports=T;function T(O){var A=I(O);d.forEach(O.graph().dummyChains,function(E){for(var S=O.node(E),y=S.edgeObj,b=P(O,A,y.v,y.w),p=b.path,m=b.lca,x=0,M=p[x],k=!0;E!==y.w;){if(S=O.node(E),k){for(;(M=p[x])!==m&&O.node(M).maxRank<S.rank;)x++;M===m&&(k=!1)}if(!k){for(;x<p.length-1&&O.node(M=p[x+1]).minRank<=S.rank;)x++;M=p[x]}O.setParent(E,M),E=O.successors(E)[0]}})}function P(O,A,E,S){var y=[],b=[],p=Math.min(A[E].low,A[S].low),m=Math.max(A[E].lim,A[S].lim),x,M;x=E;do x=O.parent(x),y.push(x);while(x&&(A[x].low>p||m>A[x].lim));for(M=x,x=S;(x=O.parent(x))!==M;)b.push(x);return{path:y.concat(b.reverse()),lca:M}}function I(O){var A={},E=0;function S(y){var b=E;d.forEach(O.children(y),S),A[y]={low:b,lim:E++}}return d.forEach(O.children(),S),A}},3573:function(ct,C,v){"use strict";var d=v(38436),T=v(70574).Graph,P=v(11138);ct.exports={positionX:k,findType1Conflicts:I,findType2Conflicts:O,addConflict:E,hasConflict:S,verticalAlignment:y,horizontalCompaction:b,alignCoordinates:x,findSmallestWidthAlignment:m,balance:M};function I(z,W){var R={};function K(ut,ot){var dt=0,nt=0,yt=ut.length,tt=d.last(ot);return d.forEach(ot,function(J,ft){var rt=A(z,J),St=rt?z.node(rt).order:yt;(rt||J===tt)&&(d.forEach(ot.slice(nt,ft+1),function(wt){d.forEach(z.predecessors(wt),function(q){var it=z.node(q),Q=it.order;(Q<dt||St<Q)&&!(it.dummy&&z.node(wt).dummy)&&E(R,q,wt)})}),nt=ft+1,dt=St)}),ot}return d.reduce(W,K),R}function O(z,W){var R={};function K(ot,dt,nt,yt,tt){var J;d.forEach(d.range(dt,nt),function(ft){J=ot[ft],z.node(J).dummy&&d.forEach(z.predecessors(J),function(rt){var St=z.node(rt);St.dummy&&(St.order<yt||St.order>tt)&&E(R,rt,J)})})}function ut(ot,dt){var nt=-1,yt,tt=0;return d.forEach(dt,function(J,ft){if(z.node(J).dummy==="border"){var rt=z.predecessors(J);rt.length&&(yt=z.node(rt[0]).order,K(dt,tt,ft,nt,yt),tt=ft,nt=yt)}K(dt,tt,dt.length,yt,ot.length)}),dt}return d.reduce(W,ut),R}function A(z,W){if(z.node(W).dummy)return d.find(z.predecessors(W),function(R){return z.node(R).dummy})}function E(z,W,R){if(W>R){var K=W;W=R,R=K}var ut=z[W];ut||(z[W]=ut={}),ut[R]=!0}function S(z,W,R){if(W>R){var K=W;W=R,R=K}return d.has(z[W],R)}function y(z,W,R,K){var ut={},ot={},dt={};return d.forEach(W,function(nt){d.forEach(nt,function(yt,tt){ut[yt]=yt,ot[yt]=yt,dt[yt]=tt})}),d.forEach(W,function(nt){var yt=-1;d.forEach(nt,function(tt){var J=K(tt);if(J.length){J=d.sortBy(J,function(q){return dt[q]});for(var ft=(J.length-1)/2,rt=Math.floor(ft),St=Math.ceil(ft);rt<=St;++rt){var wt=J[rt];ot[tt]===tt&&yt<dt[wt]&&!S(R,tt,wt)&&(ot[wt]=tt,ot[tt]=ut[tt]=ut[wt],yt=dt[wt])}}})}),{root:ut,align:ot}}function b(z,W,R,K,ut){var ot={},dt=p(z,W,R,ut),nt=ut?"borderLeft":"borderRight";function yt(ft,rt){for(var St=dt.nodes(),wt=St.pop(),q={};wt;)q[wt]?ft(wt):(q[wt]=!0,St.push(wt),St=St.concat(rt(wt))),wt=St.pop()}function tt(ft){ot[ft]=dt.inEdges(ft).reduce(function(rt,St){return Math.max(rt,ot[St.v]+dt.edge(St))},0)}function J(ft){var rt=dt.outEdges(ft).reduce(function(wt,q){return Math.min(wt,ot[q.w]-dt.edge(q))},Number.POSITIVE_INFINITY),St=z.node(ft);rt!==Number.POSITIVE_INFINITY&&St.borderType!==nt&&(ot[ft]=Math.max(ot[ft],rt))}return yt(tt,dt.predecessors.bind(dt)),yt(J,dt.successors.bind(dt)),d.forEach(K,function(ft){ot[ft]=ot[R[ft]]}),ot}function p(z,W,R,K){var ut=new T,ot=z.graph(),dt=_(ot.nodesep,ot.edgesep,K);return d.forEach(W,function(nt){var yt;d.forEach(nt,function(tt){var J=R[tt];if(ut.setNode(J),yt){var ft=R[yt],rt=ut.edge(ft,J);ut.setEdge(ft,J,Math.max(dt(z,tt,yt),rt||0))}yt=tt})}),ut}function m(z,W){return d.minBy(d.values(W),function(R){var K=Number.NEGATIVE_INFINITY,ut=Number.POSITIVE_INFINITY;return d.forIn(R,function(ot,dt){var nt=B(z,dt)/2;K=Math.max(ot+nt,K),ut=Math.min(ot-nt,ut)}),K-ut})}function x(z,W){var R=d.values(W),K=d.min(R),ut=d.max(R);d.forEach(["u","d"],function(ot){d.forEach(["l","r"],function(dt){var nt=ot+dt,yt=z[nt],tt;if(yt!==W){var J=d.values(yt);tt=dt==="l"?K-d.min(J):ut-d.max(J),tt&&(z[nt]=d.mapValues(yt,function(ft){return ft+tt}))}})})}function M(z,W){return d.mapValues(z.ul,function(R,K){if(W)return z[W.toLowerCase()][K];var ut=d.sortBy(d.map(z,K));return(ut[1]+ut[2])/2})}function k(z){var W=P.buildLayerMatrix(z),R=d.merge(I(z,W),O(z,W)),K={},ut;d.forEach(["u","d"],function(dt){ut=dt==="u"?W:d.values(W).reverse(),d.forEach(["l","r"],function(nt){nt==="r"&&(ut=d.map(ut,function(ft){return d.values(ft).reverse()}));var yt=(dt==="u"?z.predecessors:z.successors).bind(z),tt=y(z,ut,R,yt),J=b(z,ut,tt.root,tt.align,nt==="r");nt==="r"&&(J=d.mapValues(J,function(ft){return-ft})),K[dt+nt]=J})});var ot=m(z,K);return x(K,ot),M(K,z.graph().align)}function _(z,W,R){return function(K,ut,ot){var dt=K.node(ut),nt=K.node(ot),yt=0,tt;if(yt+=dt.width/2,d.has(dt,"labelpos"))switch(dt.labelpos.toLowerCase()){case"l":tt=-dt.width/2;break;case"r":tt=dt.width/2;break}if(tt&&(yt+=R?tt:-tt),tt=0,yt+=(dt.dummy?W:z)/2,yt+=(nt.dummy?W:z)/2,yt+=nt.width/2,d.has(nt,"labelpos"))switch(nt.labelpos.toLowerCase()){case"l":tt=nt.width/2;break;case"r":tt=-nt.width/2;break}return tt&&(yt+=R?tt:-tt),tt=0,yt}}function B(z,W){return z.node(W).width}},17873:function(ct,C,v){"use strict";var d=v(38436),T=v(11138),P=v(3573).positionX;ct.exports=I;function I(A){A=T.asNonCompoundGraph(A),O(A),d.forEach(P(A),function(E,S){A.node(S).x=E})}function O(A){var E=T.buildLayerMatrix(A),S=A.graph().ranksep,y=0;d.forEach(E,function(b){var p=d.max(d.map(b,function(m){return A.node(m).height}));d.forEach(b,function(m){A.node(m).y=y+p/2}),y+=p+S})}},20300:function(ct,C,v){"use strict";var d=v(38436),T=v(70574).Graph,P=v(76681).slack;ct.exports=I;function I(S){var y=new T({directed:!1}),b=S.nodes()[0],p=S.nodeCount();y.setNode(b,{});for(var m,x;O(y,S)<p;)m=A(y,S),x=y.hasNode(m.v)?P(S,m):-P(S,m),E(y,S,x);return y}function O(S,y){function b(p){d.forEach(y.nodeEdges(p),function(m){var x=m.v,M=p===x?m.w:x;!S.hasNode(M)&&!P(y,m)&&(S.setNode(M,{}),S.setEdge(p,M,{}),b(M))})}return d.forEach(S.nodes(),b),S.nodeCount()}function A(S,y){return d.minBy(y.edges(),function(b){if(S.hasNode(b.v)!==S.hasNode(b.w))return P(y,b)})}function E(S,y,b){d.forEach(S.nodes(),function(p){y.node(p).rank+=b})}},78093:function(ct,C,v){"use strict";var d=v(76681),T=d.longestPath,P=v(20300),I=v(42472);ct.exports=O;function O(y){switch(y.graph().ranker){case"network-simplex":S(y);break;case"tight-tree":E(y);break;case"longest-path":A(y);break;default:S(y)}}var A=T;function E(y){T(y),P(y)}function S(y){I(y)}},42472:function(ct,C,v){"use strict";var d=v(38436),T=v(20300),P=v(76681).slack,I=v(76681).longestPath,O=v(70574).alg.preorder,A=v(70574).alg.postorder,E=v(11138).simplify;ct.exports=S,S.initLowLimValues=m,S.initCutValues=y,S.calcCutValue=p,S.leaveEdge=M,S.enterEdge=k,S.exchangeEdges=_;function S(R){R=E(R),I(R);var K=T(R);m(K),y(K,R);for(var ut,ot;ut=M(K);)ot=k(K,R,ut),_(K,R,ut,ot)}function y(R,K){var ut=A(R,R.nodes());ut=ut.slice(0,ut.length-1),d.forEach(ut,function(ot){b(R,K,ot)})}function b(R,K,ut){var ot=R.node(ut),dt=ot.parent;R.edge(ut,dt).cutvalue=p(R,K,ut)}function p(R,K,ut){var ot=R.node(ut),dt=ot.parent,nt=!0,yt=K.edge(ut,dt),tt=0;return yt||(nt=!1,yt=K.edge(dt,ut)),tt=yt.weight,d.forEach(K.nodeEdges(ut),function(J){var ft=J.v===ut,rt=ft?J.w:J.v;if(rt!==dt){var St=ft===nt,wt=K.edge(J).weight;if(tt+=St?wt:-wt,z(R,ut,rt)){var q=R.edge(ut,rt).cutvalue;tt+=St?-q:q}}}),tt}function m(R,K){arguments.length<2&&(K=R.nodes()[0]),x(R,{},1,K)}function x(R,K,ut,ot,dt){var nt=ut,yt=R.node(ot);return K[ot]=!0,d.forEach(R.neighbors(ot),function(tt){d.has(K,tt)||(ut=x(R,K,ut,tt,ot))}),yt.low=nt,yt.lim=ut++,dt?yt.parent=dt:delete yt.parent,ut}function M(R){return d.find(R.edges(),function(K){return R.edge(K).cutvalue<0})}function k(R,K,ut){var ot=ut.v,dt=ut.w;K.hasEdge(ot,dt)||(ot=ut.w,dt=ut.v);var nt=R.node(ot),yt=R.node(dt),tt=nt,J=!1;nt.lim>yt.lim&&(tt=yt,J=!0);var ft=d.filter(K.edges(),function(rt){return J===W(R,R.node(rt.v),tt)&&J!==W(R,R.node(rt.w),tt)});return d.minBy(ft,function(rt){return P(K,rt)})}function _(R,K,ut,ot){var dt=ut.v,nt=ut.w;R.removeEdge(dt,nt),R.setEdge(ot.v,ot.w,{}),m(R),y(R,K),B(R,K)}function B(R,K){var ut=d.find(R.nodes(),function(dt){return!K.node(dt).parent}),ot=O(R,ut);ot=ot.slice(1),d.forEach(ot,function(dt){var nt=R.node(dt).parent,yt=K.edge(dt,nt),tt=!1;yt||(yt=K.edge(nt,dt),tt=!0),K.node(dt).rank=K.node(nt).rank+(tt?yt.minlen:-yt.minlen)})}function z(R,K,ut){return R.hasEdge(K,ut)}function W(R,K,ut){return ut.low<=K.lim&&K.lim<=ut.lim}},76681:function(ct,C,v){"use strict";var d=v(38436);ct.exports={longestPath:T,slack:P};function T(I){var O={};function A(E){var S=I.node(E);if(d.has(O,E))return S.rank;O[E]=!0;var y=d.min(d.map(I.outEdges(E),function(b){return A(b.w)-I.edge(b).minlen}));return(y===Number.POSITIVE_INFINITY||y===void 0||y===null)&&(y=0),S.rank=y}d.forEach(I.sources(),A)}function P(I,O){return I.node(O.w).rank-I.node(O.v).rank-I.edge(O).minlen}},11138:function(ct,C,v){"use strict";var d=v(38436),T=v(70574).Graph;ct.exports={addDummyNode:P,simplify:I,asNonCompoundGraph:O,successorWeights:A,predecessorWeights:E,intersectRect:S,buildLayerMatrix:y,normalizeRanks:b,removeEmptyRanks:p,addBorderNode:m,maxRank:x,partition:M,time:k,notime:_};function P(B,z,W,R){var K;do K=d.uniqueId(R);while(B.hasNode(K));return W.dummy=z,B.setNode(K,W),K}function I(B){var z=new T().setGraph(B.graph());return d.forEach(B.nodes(),function(W){z.setNode(W,B.node(W))}),d.forEach(B.edges(),function(W){var R=z.edge(W.v,W.w)||{weight:0,minlen:1},K=B.edge(W);z.setEdge(W.v,W.w,{weight:R.weight+K.weight,minlen:Math.max(R.minlen,K.minlen)})}),z}function O(B){var z=new T({multigraph:B.isMultigraph()}).setGraph(B.graph());return d.forEach(B.nodes(),function(W){B.children(W).length||z.setNode(W,B.node(W))}),d.forEach(B.edges(),function(W){z.setEdge(W,B.edge(W))}),z}function A(B){var z=d.map(B.nodes(),function(W){var R={};return d.forEach(B.outEdges(W),function(K){R[K.w]=(R[K.w]||0)+B.edge(K).weight}),R});return d.zipObject(B.nodes(),z)}function E(B){var z=d.map(B.nodes(),function(W){var R={};return d.forEach(B.inEdges(W),function(K){R[K.v]=(R[K.v]||0)+B.edge(K).weight}),R});return d.zipObject(B.nodes(),z)}function S(B,z){var W=B.x,R=B.y,K=z.x-W,ut=z.y-R,ot=B.width/2,dt=B.height/2;if(!K&&!ut)throw new Error("Not possible to find intersection inside of the rectangle");var nt,yt;return Math.abs(ut)*ot>Math.abs(K)*dt?(ut<0&&(dt=-dt),nt=dt*K/ut,yt=dt):(K<0&&(ot=-ot),nt=ot,yt=ot*ut/K),{x:W+nt,y:R+yt}}function y(B){var z=d.map(d.range(x(B)+1),function(){return[]});return d.forEach(B.nodes(),function(W){var R=B.node(W),K=R.rank;d.isUndefined(K)||(z[K][R.order]=W)}),z}function b(B){var z=d.min(d.map(B.nodes(),function(W){return B.node(W).rank}));d.forEach(B.nodes(),function(W){var R=B.node(W);d.has(R,"rank")&&(R.rank-=z)})}function p(B){var z=d.min(d.map(B.nodes(),function(ut){return B.node(ut).rank})),W=[];d.forEach(B.nodes(),function(ut){var ot=B.node(ut).rank-z;W[ot]||(W[ot]=[]),W[ot].push(ut)});var R=0,K=B.graph().nodeRankFactor;d.forEach(W,function(ut,ot){d.isUndefined(ut)&&ot%K!=0?--R:R&&d.forEach(ut,function(dt){B.node(dt).rank+=R})})}function m(B,z,W,R){var K={width:0,height:0};return arguments.length>=4&&(K.rank=W,K.order=R),P(B,"border",K,z)}function x(B){return d.max(d.map(B.nodes(),function(z){var W=B.node(z).rank;if(!d.isUndefined(W))return W}))}function M(B,z){var W={lhs:[],rhs:[]};return d.forEach(B,function(R){z(R)?W.lhs.push(R):W.rhs.push(R)}),W}function k(B,z){var W=d.now();try{return z()}finally{console.log(B+" time: "+(d.now()-W)+"ms")}}function _(B,z){return z()}},88177:function(ct){ct.exports="0.8.5"},43631:function(ct,C,v){"use strict";v.r(C),v.d(C,{BrowserInfo:function(){return P},NodeInfo:function(){return I},SearchBotDeviceInfo:function(){return O},BotInfo:function(){return A},ReactNativeInfo:function(){return E},detect:function(){return x},browserName:function(){return k},parseUserAgent:function(){return _},detectOS:function(){return B},getNodeVersion:function(){return z}});var d=v(34155),T=function(R,K,ut){if(ut||arguments.length===2)for(var ot=0,dt=K.length,nt;ot<dt;ot++)(nt||!(ot in K))&&(nt||(nt=Array.prototype.slice.call(K,0,ot)),nt[ot]=K[ot]);return R.concat(nt||Array.prototype.slice.call(K))},P=function(){function R(K,ut,ot){this.name=K,this.version=ut,this.os=ot,this.type="browser"}return R}(),I=function(){function R(K){this.version=K,this.type="node",this.name="node",this.os=d.platform}return R}(),O=function(){function R(K,ut,ot,dt){this.name=K,this.version=ut,this.os=ot,this.bot=dt,this.type="bot-device"}return R}(),A=function(){function R(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return R}(),E=function(){function R(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return R}(),S=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,y=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,b=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",S]],m=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function x(R){return R?_(R):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new E:typeof navigator!="undefined"?_(navigator.userAgent):z()}function M(R){return R!==""&&p.reduce(function(K,ut){var ot=ut[0],dt=ut[1];if(K)return K;var nt=dt.exec(R);return!!nt&&[ot,nt]},!1)}function k(R){var K=M(R);return K?K[0]:null}function _(R){var K=M(R);if(!K)return null;var ut=K[0],ot=K[1];if(ut==="searchbot")return new A;var dt=ot[1]&&ot[1].split(".").join("_").split("_").slice(0,3);dt?dt.length<b&&(dt=T(T([],dt,!0),W(b-dt.length),!0)):dt=[];var nt=dt.join("."),yt=B(R),tt=y.exec(R);return tt&&tt[1]?new O(ut,nt,yt,tt[1]):new P(ut,nt,yt)}function B(R){for(var K=0,ut=m.length;K<ut;K++){var ot=m[K],dt=ot[0],nt=ot[1],yt=nt.exec(R);if(yt)return dt}return null}function z(){var R=typeof d!="undefined"&&d.version;return R?new I(d.version.slice(1)):null}function W(R){for(var K=[],ut=0;ut<R;ut++)K.push("0");return K}},19432:function(ct,C,v){"use strict";v.r(C),v.d(C,{assign:function(){return b},format:function(){return ft},parse:function(){return rt},defaultI18n:function(){return k},setGlobalDateI18n:function(){return B},setGlobalDateMasks:function(){return J}});var d=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,T="\\d\\d?",P="\\d\\d",I="\\d{3}",O="\\d{4}",A="[^\\s]+",E=/\[([^]*?)\]/gm;function S(wt,q){for(var it=[],Q=0,f=wt.length;Q<f;Q++)it.push(wt[Q].substr(0,q));return it}var y=function(wt){return function(q,it){var Q=it[wt].map(function(vt){return vt.toLowerCase()}),f=Q.indexOf(q.toLowerCase());return f>-1?f:null}};function b(wt){for(var q=[],it=1;it<arguments.length;it++)q[it-1]=arguments[it];for(var Q=0,f=q;Q<f.length;Q++){var vt=f[Q];for(var It in vt)wt[It]=vt[It]}return wt}var p=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=["January","February","March","April","May","June","July","August","September","October","November","December"],x=S(m,3),M=S(p,3),k={dayNamesShort:M,dayNames:p,monthNamesShort:x,monthNames:m,amPm:["am","pm"],DoFn:function(wt){return wt+["th","st","nd","rd"][wt%10>3?0:(wt-wt%10!=10?1:0)*wt%10]}},_=b({},k),B=function(wt){return _=b(_,wt)},z=function(wt){return wt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},W=function(wt,q){for(q===void 0&&(q=2),wt=String(wt);wt.length<q;)wt="0"+wt;return wt},R={D:function(wt){return String(wt.getDate())},DD:function(wt){return W(wt.getDate())},Do:function(wt,q){return q.DoFn(wt.getDate())},d:function(wt){return String(wt.getDay())},dd:function(wt){return W(wt.getDay())},ddd:function(wt,q){return q.dayNamesShort[wt.getDay()]},dddd:function(wt,q){return q.dayNames[wt.getDay()]},M:function(wt){return String(wt.getMonth()+1)},MM:function(wt){return W(wt.getMonth()+1)},MMM:function(wt,q){return q.monthNamesShort[wt.getMonth()]},MMMM:function(wt,q){return q.monthNames[wt.getMonth()]},YY:function(wt){return W(String(wt.getFullYear()),4).substr(2)},YYYY:function(wt){return W(wt.getFullYear(),4)},h:function(wt){return String(wt.getHours()%12||12)},hh:function(wt){return W(wt.getHours()%12||12)},H:function(wt){return String(wt.getHours())},HH:function(wt){return W(wt.getHours())},m:function(wt){return String(wt.getMinutes())},mm:function(wt){return W(wt.getMinutes())},s:function(wt){return String(wt.getSeconds())},ss:function(wt){return W(wt.getSeconds())},S:function(wt){return String(Math.round(wt.getMilliseconds()/100))},SS:function(wt){return W(Math.round(wt.getMilliseconds()/10),2)},SSS:function(wt){return W(wt.getMilliseconds(),3)},a:function(wt,q){return wt.getHours()<12?q.amPm[0]:q.amPm[1]},A:function(wt,q){return wt.getHours()<12?q.amPm[0].toUpperCase():q.amPm[1].toUpperCase()},ZZ:function(wt){var q=wt.getTimezoneOffset();return(q>0?"-":"+")+W(Math.floor(Math.abs(q)/60)*100+Math.abs(q)%60,4)},Z:function(wt){var q=wt.getTimezoneOffset();return(q>0?"-":"+")+W(Math.floor(Math.abs(q)/60),2)+":"+W(Math.abs(q)%60,2)}},K=function(wt){return+wt-1},ut=[null,T],ot=[null,A],dt=["isPm",A,function(wt,q){var it=wt.toLowerCase();return it===q.amPm[0]?0:it===q.amPm[1]?1:null}],nt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(wt){var q=(wt+"").match(/([+-]|\d\d)/gi);if(q){var it=+q[1]*60+parseInt(q[2],10);return q[0]==="+"?it:-it}return 0}],yt={D:["day",T],DD:["day",P],Do:["day",T+A,function(wt){return parseInt(wt,10)}],M:["month",T,K],MM:["month",P,K],YY:["year",P,function(wt){var q=new Date,it=+(""+q.getFullYear()).substr(0,2);return+(""+(+wt>68?it-1:it)+wt)}],h:["hour",T,void 0,"isPm"],hh:["hour",P,void 0,"isPm"],H:["hour",T],HH:["hour",P],m:["minute",T],mm:["minute",P],s:["second",T],ss:["second",P],YYYY:["year",O],S:["millisecond","\\d",function(wt){return+wt*100}],SS:["millisecond",P,function(wt){return+wt*10}],SSS:["millisecond",I],d:ut,dd:ut,ddd:ot,dddd:ot,MMM:["month",A,y("monthNamesShort")],MMMM:["month",A,y("monthNames")],a:dt,A:dt,ZZ:nt,Z:nt},tt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},J=function(wt){return b(tt,wt)},ft=function(wt,q,it){if(q===void 0&&(q=tt.default),it===void 0&&(it={}),typeof wt=="number"&&(wt=new Date(wt)),Object.prototype.toString.call(wt)!=="[object Date]"||isNaN(wt.getTime()))throw new Error("Invalid Date pass to format");q=tt[q]||q;var Q=[];q=q.replace(E,function(vt,It){return Q.push(It),"@@@"});var f=b(b({},_),it);return q=q.replace(d,function(vt){return R[vt](wt,f)}),q.replace(/@@@/g,function(){return Q.shift()})};function rt(wt,q,it){if(it===void 0&&(it={}),typeof q!="string")throw new Error("Invalid format in fecha parse");if(q=tt[q]||q,wt.length>1e3)return null;var Q=new Date,f={year:Q.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},vt=[],It=[],Qt=q.replace(E,function(et,Tt){return It.push(z(Tt)),"@@@"}),Se={},$t={};Qt=z(Qt).replace(d,function(et){var Tt=yt[et],Nt=Tt[0],Ut=Tt[1],Oe=Tt[3];if(Se[Nt])throw new Error("Invalid format. "+Nt+" specified twice in format");return Se[Nt]=!0,Oe&&($t[Oe]=!0),vt.push(Tt),"("+Ut+")"}),Object.keys($t).forEach(function(et){if(!Se[et])throw new Error("Invalid format. "+et+" is required in specified format")}),Qt=Qt.replace(/@@@/g,function(){return It.shift()});var re=wt.match(new RegExp(Qt,"i"));if(!re)return null;for(var he=b(b({},_),it),Me=1;Me<re.length;Me++){var le=vt[Me-1],Rt=le[0],Ot=le[2],At=Ot?Ot(re[Me],he):+re[Me];if(At==null)return null;f[Rt]=At}f.isPm===1&&f.hour!=null&&+f.hour!=12?f.hour=+f.hour+12:f.isPm===0&&+f.hour==12&&(f.hour=0);var Dt;if(f.timezoneOffset==null){Dt=new Date(f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond);for(var j=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Me=0,$=j.length;Me<$;Me++)if(Se[j[Me][0]]&&f[j[Me][0]]!==Dt[j[Me][1]]())return null}else if(Dt=new Date(Date.UTC(f.year,f.month,f.day,f.hour,f.minute-f.timezoneOffset,f.second,f.millisecond)),f.month>11||f.month<0||f.day>31||f.day<1||f.hour>23||f.hour<0||f.minute>59||f.minute<0||f.second>59||f.second<0)return null;return Dt}var St={format:ft,parse:rt,defaultI18n:k,setGlobalDateI18n:B,setGlobalDateMasks:J};C.default=St},49685:function(ct,C,v){"use strict";v.d(C,{Ib:function(){return d},WT:function(){return T},FD:function(){return P}});var d=1e-6,T=typeof Float32Array!="undefined"?Float32Array:Array,P=Math.random;function I(S){T=S}var O=Math.PI/180;function A(S){return S*O}function E(S,y){return Math.abs(S-y)<=d*Math.max(1,Math.abs(S),Math.abs(y))}Math.hypot||(Math.hypot=function(){for(var S=0,y=arguments.length;y--;)S+=arguments[y]*arguments[y];return Math.sqrt(S)})},35600:function(ct,C,v){"use strict";v.r(C),v.d(C,{create:function(){return T},fromMat4:function(){return P},clone:function(){return I},copy:function(){return O},fromValues:function(){return A},set:function(){return E},identity:function(){return S},transpose:function(){return y},invert:function(){return b},adjoint:function(){return p},determinant:function(){return m},multiply:function(){return x},translate:function(){return M},rotate:function(){return k},scale:function(){return _},fromTranslation:function(){return B},fromRotation:function(){return z},fromScaling:function(){return W},fromMat2d:function(){return R},fromQuat:function(){return K},normalFromMat4:function(){return ut},projection:function(){return ot},str:function(){return dt},frob:function(){return nt},add:function(){return yt},subtract:function(){return tt},multiplyScalar:function(){return J},multiplyScalarAndAdd:function(){return ft},exactEquals:function(){return rt},equals:function(){return St},mul:function(){return wt},sub:function(){return q}});var d=v(49685);function T(){var it=new d.WT(9);return d.WT!=Float32Array&&(it[1]=0,it[2]=0,it[3]=0,it[5]=0,it[6]=0,it[7]=0),it[0]=1,it[4]=1,it[8]=1,it}function P(it,Q){return it[0]=Q[0],it[1]=Q[1],it[2]=Q[2],it[3]=Q[4],it[4]=Q[5],it[5]=Q[6],it[6]=Q[8],it[7]=Q[9],it[8]=Q[10],it}function I(it){var Q=new d.WT(9);return Q[0]=it[0],Q[1]=it[1],Q[2]=it[2],Q[3]=it[3],Q[4]=it[4],Q[5]=it[5],Q[6]=it[6],Q[7]=it[7],Q[8]=it[8],Q}function O(it,Q){return it[0]=Q[0],it[1]=Q[1],it[2]=Q[2],it[3]=Q[3],it[4]=Q[4],it[5]=Q[5],it[6]=Q[6],it[7]=Q[7],it[8]=Q[8],it}function A(it,Q,f,vt,It,Qt,Se,$t,re){var he=new d.WT(9);return he[0]=it,he[1]=Q,he[2]=f,he[3]=vt,he[4]=It,he[5]=Qt,he[6]=Se,he[7]=$t,he[8]=re,he}function E(it,Q,f,vt,It,Qt,Se,$t,re,he){return it[0]=Q,it[1]=f,it[2]=vt,it[3]=It,it[4]=Qt,it[5]=Se,it[6]=$t,it[7]=re,it[8]=he,it}function S(it){return it[0]=1,it[1]=0,it[2]=0,it[3]=0,it[4]=1,it[5]=0,it[6]=0,it[7]=0,it[8]=1,it}function y(it,Q){if(it===Q){var f=Q[1],vt=Q[2],It=Q[5];it[1]=Q[3],it[2]=Q[6],it[3]=f,it[5]=Q[7],it[6]=vt,it[7]=It}else it[0]=Q[0],it[1]=Q[3],it[2]=Q[6],it[3]=Q[1],it[4]=Q[4],it[5]=Q[7],it[6]=Q[2],it[7]=Q[5],it[8]=Q[8];return it}function b(it,Q){var f=Q[0],vt=Q[1],It=Q[2],Qt=Q[3],Se=Q[4],$t=Q[5],re=Q[6],he=Q[7],Me=Q[8],le=Me*Se-$t*he,Rt=-Me*Qt+$t*re,Ot=he*Qt-Se*re,At=f*le+vt*Rt+It*Ot;return At?(At=1/At,it[0]=le*At,it[1]=(-Me*vt+It*he)*At,it[2]=($t*vt-It*Se)*At,it[3]=Rt*At,it[4]=(Me*f-It*re)*At,it[5]=(-$t*f+It*Qt)*At,it[6]=Ot*At,it[7]=(-he*f+vt*re)*At,it[8]=(Se*f-vt*Qt)*At,it):null}function p(it,Q){var f=Q[0],vt=Q[1],It=Q[2],Qt=Q[3],Se=Q[4],$t=Q[5],re=Q[6],he=Q[7],Me=Q[8];return it[0]=Se*Me-$t*he,it[1]=It*he-vt*Me,it[2]=vt*$t-It*Se,it[3]=$t*re-Qt*Me,it[4]=f*Me-It*re,it[5]=It*Qt-f*$t,it[6]=Qt*he-Se*re,it[7]=vt*re-f*he,it[8]=f*Se-vt*Qt,it}function m(it){var Q=it[0],f=it[1],vt=it[2],It=it[3],Qt=it[4],Se=it[5],$t=it[6],re=it[7],he=it[8];return Q*(he*Qt-Se*re)+f*(-he*It+Se*$t)+vt*(re*It-Qt*$t)}function x(it,Q,f){var vt=Q[0],It=Q[1],Qt=Q[2],Se=Q[3],$t=Q[4],re=Q[5],he=Q[6],Me=Q[7],le=Q[8],Rt=f[0],Ot=f[1],At=f[2],Dt=f[3],j=f[4],$=f[5],et=f[6],Tt=f[7],Nt=f[8];return it[0]=Rt*vt+Ot*Se+At*he,it[1]=Rt*It+Ot*$t+At*Me,it[2]=Rt*Qt+Ot*re+At*le,it[3]=Dt*vt+j*Se+$*he,it[4]=Dt*It+j*$t+$*Me,it[5]=Dt*Qt+j*re+$*le,it[6]=et*vt+Tt*Se+Nt*he,it[7]=et*It+Tt*$t+Nt*Me,it[8]=et*Qt+Tt*re+Nt*le,it}function M(it,Q,f){var vt=Q[0],It=Q[1],Qt=Q[2],Se=Q[3],$t=Q[4],re=Q[5],he=Q[6],Me=Q[7],le=Q[8],Rt=f[0],Ot=f[1];return it[0]=vt,it[1]=It,it[2]=Qt,it[3]=Se,it[4]=$t,it[5]=re,it[6]=Rt*vt+Ot*Se+he,it[7]=Rt*It+Ot*$t+Me,it[8]=Rt*Qt+Ot*re+le,it}function k(it,Q,f){var vt=Q[0],It=Q[1],Qt=Q[2],Se=Q[3],$t=Q[4],re=Q[5],he=Q[6],Me=Q[7],le=Q[8],Rt=Math.sin(f),Ot=Math.cos(f);return it[0]=Ot*vt+Rt*Se,it[1]=Ot*It+Rt*$t,it[2]=Ot*Qt+Rt*re,it[3]=Ot*Se-Rt*vt,it[4]=Ot*$t-Rt*It,it[5]=Ot*re-Rt*Qt,it[6]=he,it[7]=Me,it[8]=le,it}function _(it,Q,f){var vt=f[0],It=f[1];return it[0]=vt*Q[0],it[1]=vt*Q[1],it[2]=vt*Q[2],it[3]=It*Q[3],it[4]=It*Q[4],it[5]=It*Q[5],it[6]=Q[6],it[7]=Q[7],it[8]=Q[8],it}function B(it,Q){return it[0]=1,it[1]=0,it[2]=0,it[3]=0,it[4]=1,it[5]=0,it[6]=Q[0],it[7]=Q[1],it[8]=1,it}function z(it,Q){var f=Math.sin(Q),vt=Math.cos(Q);return it[0]=vt,it[1]=f,it[2]=0,it[3]=-f,it[4]=vt,it[5]=0,it[6]=0,it[7]=0,it[8]=1,it}function W(it,Q){return it[0]=Q[0],it[1]=0,it[2]=0,it[3]=0,it[4]=Q[1],it[5]=0,it[6]=0,it[7]=0,it[8]=1,it}function R(it,Q){return it[0]=Q[0],it[1]=Q[1],it[2]=0,it[3]=Q[2],it[4]=Q[3],it[5]=0,it[6]=Q[4],it[7]=Q[5],it[8]=1,it}function K(it,Q){var f=Q[0],vt=Q[1],It=Q[2],Qt=Q[3],Se=f+f,$t=vt+vt,re=It+It,he=f*Se,Me=vt*Se,le=vt*$t,Rt=It*Se,Ot=It*$t,At=It*re,Dt=Qt*Se,j=Qt*$t,$=Qt*re;return it[0]=1-le-At,it[3]=Me-$,it[6]=Rt+j,it[1]=Me+$,it[4]=1-he-At,it[7]=Ot-Dt,it[2]=Rt-j,it[5]=Ot+Dt,it[8]=1-he-le,it}function ut(it,Q){var f=Q[0],vt=Q[1],It=Q[2],Qt=Q[3],Se=Q[4],$t=Q[5],re=Q[6],he=Q[7],Me=Q[8],le=Q[9],Rt=Q[10],Ot=Q[11],At=Q[12],Dt=Q[13],j=Q[14],$=Q[15],et=f*$t-vt*Se,Tt=f*re-It*Se,Nt=f*he-Qt*Se,Ut=vt*re-It*$t,Oe=vt*he-Qt*$t,He=It*he-Qt*re,Zt=Me*Dt-le*At,be=Me*j-Rt*At,_e=Me*$-Ot*At,Qe=le*j-Rt*Dt,dr=le*$-Ot*Dt,ur=Rt*$-Ot*j,Dr=et*ur-Tt*dr+Nt*Qe+Ut*_e-Oe*be+He*Zt;return Dr?(Dr=1/Dr,it[0]=($t*ur-re*dr+he*Qe)*Dr,it[1]=(re*_e-Se*ur-he*be)*Dr,it[2]=(Se*dr-$t*_e+he*Zt)*Dr,it[3]=(It*dr-vt*ur-Qt*Qe)*Dr,it[4]=(f*ur-It*_e+Qt*be)*Dr,it[5]=(vt*_e-f*dr-Qt*Zt)*Dr,it[6]=(Dt*He-j*Oe+$*Ut)*Dr,it[7]=(j*Nt-At*He-$*Tt)*Dr,it[8]=(At*Oe-Dt*Nt+$*et)*Dr,it):null}function ot(it,Q,f){return it[0]=2/Q,it[1]=0,it[2]=0,it[3]=0,it[4]=-2/f,it[5]=0,it[6]=-1,it[7]=1,it[8]=1,it}function dt(it){return"mat3("+it[0]+", "+it[1]+", "+it[2]+", "+it[3]+", "+it[4]+", "+it[5]+", "+it[6]+", "+it[7]+", "+it[8]+")"}function nt(it){return Math.hypot(it[0],it[1],it[2],it[3],it[4],it[5],it[6],it[7],it[8])}function yt(it,Q,f){return it[0]=Q[0]+f[0],it[1]=Q[1]+f[1],it[2]=Q[2]+f[2],it[3]=Q[3]+f[3],it[4]=Q[4]+f[4],it[5]=Q[5]+f[5],it[6]=Q[6]+f[6],it[7]=Q[7]+f[7],it[8]=Q[8]+f[8],it}function tt(it,Q,f){return it[0]=Q[0]-f[0],it[1]=Q[1]-f[1],it[2]=Q[2]-f[2],it[3]=Q[3]-f[3],it[4]=Q[4]-f[4],it[5]=Q[5]-f[5],it[6]=Q[6]-f[6],it[7]=Q[7]-f[7],it[8]=Q[8]-f[8],it}function J(it,Q,f){return it[0]=Q[0]*f,it[1]=Q[1]*f,it[2]=Q[2]*f,it[3]=Q[3]*f,it[4]=Q[4]*f,it[5]=Q[5]*f,it[6]=Q[6]*f,it[7]=Q[7]*f,it[8]=Q[8]*f,it}function ft(it,Q,f,vt){return it[0]=Q[0]+f[0]*vt,it[1]=Q[1]+f[1]*vt,it[2]=Q[2]+f[2]*vt,it[3]=Q[3]+f[3]*vt,it[4]=Q[4]+f[4]*vt,it[5]=Q[5]+f[5]*vt,it[6]=Q[6]+f[6]*vt,it[7]=Q[7]+f[7]*vt,it[8]=Q[8]+f[8]*vt,it}function rt(it,Q){return it[0]===Q[0]&&it[1]===Q[1]&&it[2]===Q[2]&&it[3]===Q[3]&&it[4]===Q[4]&&it[5]===Q[5]&&it[6]===Q[6]&&it[7]===Q[7]&&it[8]===Q[8]}function St(it,Q){var f=it[0],vt=it[1],It=it[2],Qt=it[3],Se=it[4],$t=it[5],re=it[6],he=it[7],Me=it[8],le=Q[0],Rt=Q[1],Ot=Q[2],At=Q[3],Dt=Q[4],j=Q[5],$=Q[6],et=Q[7],Tt=Q[8];return Math.abs(f-le)<=d.Ib*Math.max(1,Math.abs(f),Math.abs(le))&&Math.abs(vt-Rt)<=d.Ib*Math.max(1,Math.abs(vt),Math.abs(Rt))&&Math.abs(It-Ot)<=d.Ib*Math.max(1,Math.abs(It),Math.abs(Ot))&&Math.abs(Qt-At)<=d.Ib*Math.max(1,Math.abs(Qt),Math.abs(At))&&Math.abs(Se-Dt)<=d.Ib*Math.max(1,Math.abs(Se),Math.abs(Dt))&&Math.abs($t-j)<=d.Ib*Math.max(1,Math.abs($t),Math.abs(j))&&Math.abs(re-$)<=d.Ib*Math.max(1,Math.abs(re),Math.abs($))&&Math.abs(he-et)<=d.Ib*Math.max(1,Math.abs(he),Math.abs(et))&&Math.abs(Me-Tt)<=d.Ib*Math.max(1,Math.abs(Me),Math.abs(Tt))}var wt=x,q=tt},31437:function(ct,C,v){"use strict";v.r(C),v.d(C,{create:function(){return T},clone:function(){return P},fromValues:function(){return I},copy:function(){return O},set:function(){return A},add:function(){return E},subtract:function(){return S},multiply:function(){return y},divide:function(){return b},ceil:function(){return p},floor:function(){return m},min:function(){return x},max:function(){return M},round:function(){return k},scale:function(){return _},scaleAndAdd:function(){return B},distance:function(){return z},squaredDistance:function(){return W},length:function(){return R},squaredLength:function(){return K},negate:function(){return ut},inverse:function(){return ot},normalize:function(){return dt},dot:function(){return nt},cross:function(){return yt},lerp:function(){return tt},random:function(){return J},transformMat2:function(){return ft},transformMat2d:function(){return rt},transformMat3:function(){return St},transformMat4:function(){return wt},rotate:function(){return q},angle:function(){return it},zero:function(){return Q},str:function(){return f},exactEquals:function(){return vt},equals:function(){return It},len:function(){return Qt},sub:function(){return Se},mul:function(){return $t},div:function(){return re},dist:function(){return he},sqrDist:function(){return Me},sqrLen:function(){return le},forEach:function(){return Rt}});var d=v(49685);function T(){var Ot=new d.WT(2);return d.WT!=Float32Array&&(Ot[0]=0,Ot[1]=0),Ot}function P(Ot){var At=new d.WT(2);return At[0]=Ot[0],At[1]=Ot[1],At}function I(Ot,At){var Dt=new d.WT(2);return Dt[0]=Ot,Dt[1]=At,Dt}function O(Ot,At){return Ot[0]=At[0],Ot[1]=At[1],Ot}function A(Ot,At,Dt){return Ot[0]=At,Ot[1]=Dt,Ot}function E(Ot,At,Dt){return Ot[0]=At[0]+Dt[0],Ot[1]=At[1]+Dt[1],Ot}function S(Ot,At,Dt){return Ot[0]=At[0]-Dt[0],Ot[1]=At[1]-Dt[1],Ot}function y(Ot,At,Dt){return Ot[0]=At[0]*Dt[0],Ot[1]=At[1]*Dt[1],Ot}function b(Ot,At,Dt){return Ot[0]=At[0]/Dt[0],Ot[1]=At[1]/Dt[1],Ot}function p(Ot,At){return Ot[0]=Math.ceil(At[0]),Ot[1]=Math.ceil(At[1]),Ot}function m(Ot,At){return Ot[0]=Math.floor(At[0]),Ot[1]=Math.floor(At[1]),Ot}function x(Ot,At,Dt){return Ot[0]=Math.min(At[0],Dt[0]),Ot[1]=Math.min(At[1],Dt[1]),Ot}function M(Ot,At,Dt){return Ot[0]=Math.max(At[0],Dt[0]),Ot[1]=Math.max(At[1],Dt[1]),Ot}function k(Ot,At){return Ot[0]=Math.round(At[0]),Ot[1]=Math.round(At[1]),Ot}function _(Ot,At,Dt){return Ot[0]=At[0]*Dt,Ot[1]=At[1]*Dt,Ot}function B(Ot,At,Dt,j){return Ot[0]=At[0]+Dt[0]*j,Ot[1]=At[1]+Dt[1]*j,Ot}function z(Ot,At){var Dt=At[0]-Ot[0],j=At[1]-Ot[1];return Math.hypot(Dt,j)}function W(Ot,At){var Dt=At[0]-Ot[0],j=At[1]-Ot[1];return Dt*Dt+j*j}function R(Ot){var At=Ot[0],Dt=Ot[1];return Math.hypot(At,Dt)}function K(Ot){var At=Ot[0],Dt=Ot[1];return At*At+Dt*Dt}function ut(Ot,At){return Ot[0]=-At[0],Ot[1]=-At[1],Ot}function ot(Ot,At){return Ot[0]=1/At[0],Ot[1]=1/At[1],Ot}function dt(Ot,At){var Dt=At[0],j=At[1],$=Dt*Dt+j*j;return $>0&&($=1/Math.sqrt($)),Ot[0]=At[0]*$,Ot[1]=At[1]*$,Ot}function nt(Ot,At){return Ot[0]*At[0]+Ot[1]*At[1]}function yt(Ot,At,Dt){var j=At[0]*Dt[1]-At[1]*Dt[0];return Ot[0]=Ot[1]=0,Ot[2]=j,Ot}function tt(Ot,At,Dt,j){var $=At[0],et=At[1];return Ot[0]=$+j*(Dt[0]-$),Ot[1]=et+j*(Dt[1]-et),Ot}function J(Ot,At){At=At||1;var Dt=d.FD()*2*Math.PI;return Ot[0]=Math.cos(Dt)*At,Ot[1]=Math.sin(Dt)*At,Ot}function ft(Ot,At,Dt){var j=At[0],$=At[1];return Ot[0]=Dt[0]*j+Dt[2]*$,Ot[1]=Dt[1]*j+Dt[3]*$,Ot}function rt(Ot,At,Dt){var j=At[0],$=At[1];return Ot[0]=Dt[0]*j+Dt[2]*$+Dt[4],Ot[1]=Dt[1]*j+Dt[3]*$+Dt[5],Ot}function St(Ot,At,Dt){var j=At[0],$=At[1];return Ot[0]=Dt[0]*j+Dt[3]*$+Dt[6],Ot[1]=Dt[1]*j+Dt[4]*$+Dt[7],Ot}function wt(Ot,At,Dt){var j=At[0],$=At[1];return Ot[0]=Dt[0]*j+Dt[4]*$+Dt[12],Ot[1]=Dt[1]*j+Dt[5]*$+Dt[13],Ot}function q(Ot,At,Dt,j){var $=At[0]-Dt[0],et=At[1]-Dt[1],Tt=Math.sin(j),Nt=Math.cos(j);return Ot[0]=$*Nt-et*Tt+Dt[0],Ot[1]=$*Tt+et*Nt+Dt[1],Ot}function it(Ot,At){var Dt=Ot[0],j=Ot[1],$=At[0],et=At[1],Tt=Math.sqrt(Dt*Dt+j*j)*Math.sqrt($*$+et*et),Nt=Tt&&(Dt*$+j*et)/Tt;return Math.acos(Math.min(Math.max(Nt,-1),1))}function Q(Ot){return Ot[0]=0,Ot[1]=0,Ot}function f(Ot){return"vec2("+Ot[0]+", "+Ot[1]+")"}function vt(Ot,At){return Ot[0]===At[0]&&Ot[1]===At[1]}function It(Ot,At){var Dt=Ot[0],j=Ot[1],$=At[0],et=At[1];return Math.abs(Dt-$)<=d.Ib*Math.max(1,Math.abs(Dt),Math.abs($))&&Math.abs(j-et)<=d.Ib*Math.max(1,Math.abs(j),Math.abs(et))}var Qt=R,Se=S,$t=y,re=b,he=z,Me=W,le=K,Rt=function(){var Ot=T();return function(At,Dt,j,$,et,Tt){var Nt,Ut;for(Dt||(Dt=2),j||(j=0),$?Ut=Math.min($*Dt+j,At.length):Ut=At.length,Nt=j;Nt<Ut;Nt+=Dt)Ot[0]=At[Nt],Ot[1]=At[Nt+1],et(Ot,Ot,Tt),At[Nt]=Ot[0],At[Nt+1]=Ot[1];return At}}()},77160:function(ct,C,v){"use strict";v.r(C),v.d(C,{create:function(){return T},clone:function(){return P},length:function(){return I},fromValues:function(){return O},copy:function(){return A},set:function(){return E},add:function(){return S},subtract:function(){return y},multiply:function(){return b},divide:function(){return p},ceil:function(){return m},floor:function(){return x},min:function(){return M},max:function(){return k},round:function(){return _},scale:function(){return B},scaleAndAdd:function(){return z},distance:function(){return W},squaredDistance:function(){return R},squaredLength:function(){return K},negate:function(){return ut},inverse:function(){return ot},normalize:function(){return dt},dot:function(){return nt},cross:function(){return yt},lerp:function(){return tt},hermite:function(){return J},bezier:function(){return ft},random:function(){return rt},transformMat4:function(){return St},transformMat3:function(){return wt},transformQuat:function(){return q},rotateX:function(){return it},rotateY:function(){return Q},rotateZ:function(){return f},angle:function(){return vt},zero:function(){return It},str:function(){return Qt},exactEquals:function(){return Se},equals:function(){return $t},sub:function(){return re},mul:function(){return he},div:function(){return Me},dist:function(){return le},sqrDist:function(){return Rt},len:function(){return Ot},sqrLen:function(){return At},forEach:function(){return Dt}});var d=v(49685);function T(){var j=new d.WT(3);return d.WT!=Float32Array&&(j[0]=0,j[1]=0,j[2]=0),j}function P(j){var $=new d.WT(3);return $[0]=j[0],$[1]=j[1],$[2]=j[2],$}function I(j){var $=j[0],et=j[1],Tt=j[2];return Math.hypot($,et,Tt)}function O(j,$,et){var Tt=new d.WT(3);return Tt[0]=j,Tt[1]=$,Tt[2]=et,Tt}function A(j,$){return j[0]=$[0],j[1]=$[1],j[2]=$[2],j}function E(j,$,et,Tt){return j[0]=$,j[1]=et,j[2]=Tt,j}function S(j,$,et){return j[0]=$[0]+et[0],j[1]=$[1]+et[1],j[2]=$[2]+et[2],j}function y(j,$,et){return j[0]=$[0]-et[0],j[1]=$[1]-et[1],j[2]=$[2]-et[2],j}function b(j,$,et){return j[0]=$[0]*et[0],j[1]=$[1]*et[1],j[2]=$[2]*et[2],j}function p(j,$,et){return j[0]=$[0]/et[0],j[1]=$[1]/et[1],j[2]=$[2]/et[2],j}function m(j,$){return j[0]=Math.ceil($[0]),j[1]=Math.ceil($[1]),j[2]=Math.ceil($[2]),j}function x(j,$){return j[0]=Math.floor($[0]),j[1]=Math.floor($[1]),j[2]=Math.floor($[2]),j}function M(j,$,et){return j[0]=Math.min($[0],et[0]),j[1]=Math.min($[1],et[1]),j[2]=Math.min($[2],et[2]),j}function k(j,$,et){return j[0]=Math.max($[0],et[0]),j[1]=Math.max($[1],et[1]),j[2]=Math.max($[2],et[2]),j}function _(j,$){return j[0]=Math.round($[0]),j[1]=Math.round($[1]),j[2]=Math.round($[2]),j}function B(j,$,et){return j[0]=$[0]*et,j[1]=$[1]*et,j[2]=$[2]*et,j}function z(j,$,et,Tt){return j[0]=$[0]+et[0]*Tt,j[1]=$[1]+et[1]*Tt,j[2]=$[2]+et[2]*Tt,j}function W(j,$){var et=$[0]-j[0],Tt=$[1]-j[1],Nt=$[2]-j[2];return Math.hypot(et,Tt,Nt)}function R(j,$){var et=$[0]-j[0],Tt=$[1]-j[1],Nt=$[2]-j[2];return et*et+Tt*Tt+Nt*Nt}function K(j){var $=j[0],et=j[1],Tt=j[2];return $*$+et*et+Tt*Tt}function ut(j,$){return j[0]=-$[0],j[1]=-$[1],j[2]=-$[2],j}function ot(j,$){return j[0]=1/$[0],j[1]=1/$[1],j[2]=1/$[2],j}function dt(j,$){var et=$[0],Tt=$[1],Nt=$[2],Ut=et*et+Tt*Tt+Nt*Nt;return Ut>0&&(Ut=1/Math.sqrt(Ut)),j[0]=$[0]*Ut,j[1]=$[1]*Ut,j[2]=$[2]*Ut,j}function nt(j,$){return j[0]*$[0]+j[1]*$[1]+j[2]*$[2]}function yt(j,$,et){var Tt=$[0],Nt=$[1],Ut=$[2],Oe=et[0],He=et[1],Zt=et[2];return j[0]=Nt*Zt-Ut*He,j[1]=Ut*Oe-Tt*Zt,j[2]=Tt*He-Nt*Oe,j}function tt(j,$,et,Tt){var Nt=$[0],Ut=$[1],Oe=$[2];return j[0]=Nt+Tt*(et[0]-Nt),j[1]=Ut+Tt*(et[1]-Ut),j[2]=Oe+Tt*(et[2]-Oe),j}function J(j,$,et,Tt,Nt,Ut){var Oe=Ut*Ut,He=Oe*(2*Ut-3)+1,Zt=Oe*(Ut-2)+Ut,be=Oe*(Ut-1),_e=Oe*(3-2*Ut);return j[0]=$[0]*He+et[0]*Zt+Tt[0]*be+Nt[0]*_e,j[1]=$[1]*He+et[1]*Zt+Tt[1]*be+Nt[1]*_e,j[2]=$[2]*He+et[2]*Zt+Tt[2]*be+Nt[2]*_e,j}function ft(j,$,et,Tt,Nt,Ut){var Oe=1-Ut,He=Oe*Oe,Zt=Ut*Ut,be=He*Oe,_e=3*Ut*He,Qe=3*Zt*Oe,dr=Zt*Ut;return j[0]=$[0]*be+et[0]*_e+Tt[0]*Qe+Nt[0]*dr,j[1]=$[1]*be+et[1]*_e+Tt[1]*Qe+Nt[1]*dr,j[2]=$[2]*be+et[2]*_e+Tt[2]*Qe+Nt[2]*dr,j}function rt(j,$){$=$||1;var et=d.FD()*2*Math.PI,Tt=d.FD()*2-1,Nt=Math.sqrt(1-Tt*Tt)*$;return j[0]=Math.cos(et)*Nt,j[1]=Math.sin(et)*Nt,j[2]=Tt*$,j}function St(j,$,et){var Tt=$[0],Nt=$[1],Ut=$[2],Oe=et[3]*Tt+et[7]*Nt+et[11]*Ut+et[15];return Oe=Oe||1,j[0]=(et[0]*Tt+et[4]*Nt+et[8]*Ut+et[12])/Oe,j[1]=(et[1]*Tt+et[5]*Nt+et[9]*Ut+et[13])/Oe,j[2]=(et[2]*Tt+et[6]*Nt+et[10]*Ut+et[14])/Oe,j}function wt(j,$,et){var Tt=$[0],Nt=$[1],Ut=$[2];return j[0]=Tt*et[0]+Nt*et[3]+Ut*et[6],j[1]=Tt*et[1]+Nt*et[4]+Ut*et[7],j[2]=Tt*et[2]+Nt*et[5]+Ut*et[8],j}function q(j,$,et){var Tt=et[0],Nt=et[1],Ut=et[2],Oe=et[3],He=$[0],Zt=$[1],be=$[2],_e=Nt*be-Ut*Zt,Qe=Ut*He-Tt*be,dr=Tt*Zt-Nt*He,ur=Nt*dr-Ut*Qe,Dr=Ut*_e-Tt*dr,ne=Tt*Qe-Nt*_e,se=Oe*2;return _e*=se,Qe*=se,dr*=se,ur*=2,Dr*=2,ne*=2,j[0]=He+_e+ur,j[1]=Zt+Qe+Dr,j[2]=be+dr+ne,j}function it(j,$,et,Tt){var Nt=[],Ut=[];return Nt[0]=$[0]-et[0],Nt[1]=$[1]-et[1],Nt[2]=$[2]-et[2],Ut[0]=Nt[0],Ut[1]=Nt[1]*Math.cos(Tt)-Nt[2]*Math.sin(Tt),Ut[2]=Nt[1]*Math.sin(Tt)+Nt[2]*Math.cos(Tt),j[0]=Ut[0]+et[0],j[1]=Ut[1]+et[1],j[2]=Ut[2]+et[2],j}function Q(j,$,et,Tt){var Nt=[],Ut=[];return Nt[0]=$[0]-et[0],Nt[1]=$[1]-et[1],Nt[2]=$[2]-et[2],Ut[0]=Nt[2]*Math.sin(Tt)+Nt[0]*Math.cos(Tt),Ut[1]=Nt[1],Ut[2]=Nt[2]*Math.cos(Tt)-Nt[0]*Math.sin(Tt),j[0]=Ut[0]+et[0],j[1]=Ut[1]+et[1],j[2]=Ut[2]+et[2],j}function f(j,$,et,Tt){var Nt=[],Ut=[];return Nt[0]=$[0]-et[0],Nt[1]=$[1]-et[1],Nt[2]=$[2]-et[2],Ut[0]=Nt[0]*Math.cos(Tt)-Nt[1]*Math.sin(Tt),Ut[1]=Nt[0]*Math.sin(Tt)+Nt[1]*Math.cos(Tt),Ut[2]=Nt[2],j[0]=Ut[0]+et[0],j[1]=Ut[1]+et[1],j[2]=Ut[2]+et[2],j}function vt(j,$){var et=j[0],Tt=j[1],Nt=j[2],Ut=$[0],Oe=$[1],He=$[2],Zt=Math.sqrt(et*et+Tt*Tt+Nt*Nt),be=Math.sqrt(Ut*Ut+Oe*Oe+He*He),_e=Zt*be,Qe=_e&&nt(j,$)/_e;return Math.acos(Math.min(Math.max(Qe,-1),1))}function It(j){return j[0]=0,j[1]=0,j[2]=0,j}function Qt(j){return"vec3("+j[0]+", "+j[1]+", "+j[2]+")"}function Se(j,$){return j[0]===$[0]&&j[1]===$[1]&&j[2]===$[2]}function $t(j,$){var et=j[0],Tt=j[1],Nt=j[2],Ut=$[0],Oe=$[1],He=$[2];return Math.abs(et-Ut)<=d.Ib*Math.max(1,Math.abs(et),Math.abs(Ut))&&Math.abs(Tt-Oe)<=d.Ib*Math.max(1,Math.abs(Tt),Math.abs(Oe))&&Math.abs(Nt-He)<=d.Ib*Math.max(1,Math.abs(Nt),Math.abs(He))}var re=y,he=b,Me=p,le=W,Rt=R,Ot=I,At=K,Dt=function(){var j=T();return function($,et,Tt,Nt,Ut,Oe){var He,Zt;for(et||(et=3),Tt||(Tt=0),Nt?Zt=Math.min(Nt*et+Tt,$.length):Zt=$.length,He=Tt;He<Zt;He+=et)j[0]=$[He],j[1]=$[He+1],j[2]=$[He+2],Ut(j,j,Oe),$[He]=j[0],$[He+1]=j[1],$[He+2]=j[2];return $}}()},28282:function(ct,C,v){var d=v(82354);ct.exports={Graph:d.Graph,json:v(28974),alg:v(12440),version:d.version}},2842:function(ct,C,v){var d=v(89126);ct.exports=T;function T(P){var I={},O=[],A;function E(S){d.has(I,S)||(I[S]=!0,A.push(S),d.each(P.successors(S),E),d.each(P.predecessors(S),E))}return d.each(P.nodes(),function(S){A=[],E(S),A.length&&O.push(A)}),O}},53984:function(ct,C,v){var d=v(89126);ct.exports=T;function T(I,O,A){d.isArray(O)||(O=[O]);var E=(I.isDirected()?I.successors:I.neighbors).bind(I),S=[],y={};return d.each(O,function(b){if(!I.hasNode(b))throw new Error("Graph does not have node: "+b);P(I,b,A==="post",y,E,S)}),S}function P(I,O,A,E,S,y){d.has(E,O)||(E[O]=!0,A||y.push(O),d.each(S(O),function(b){P(I,b,A,E,S,y)}),A&&y.push(O))}},84847:function(ct,C,v){var d=v(63763),T=v(89126);ct.exports=P;function P(I,O,A){return T.transform(I.nodes(),function(E,S){E[S]=d(I,S,O,A)},{})}},63763:function(ct,C,v){var d=v(89126),T=v(75639);ct.exports=I;var P=d.constant(1);function I(A,E,S,y){return O(A,String(E),S||P,y||function(b){return A.outEdges(b)})}function O(A,E,S,y){var b={},p=new T,m,x,M=function(k){var _=k.v!==m?k.v:k.w,B=b[_],z=S(k),W=x.distance+z;if(z<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+k+" Weight: "+z);W<B.distance&&(B.distance=W,B.predecessor=m,p.decrease(_,W))};for(A.nodes().forEach(function(k){var _=k===E?0:Number.POSITIVE_INFINITY;b[k]={distance:_},p.add(k,_)});p.size()>0&&(m=p.removeMin(),x=b[m],x.distance!==Number.POSITIVE_INFINITY);)y(m).forEach(M);return b}},9096:function(ct,C,v){var d=v(89126),T=v(5023);ct.exports=P;function P(I){return d.filter(T(I),function(O){return O.length>1||O.length===1&&I.hasEdge(O[0],O[0])})}},38924:function(ct,C,v){var d=v(89126);ct.exports=P;var T=d.constant(1);function P(O,A,E){return I(O,A||T,E||function(S){return O.outEdges(S)})}function I(O,A,E){var S={},y=O.nodes();return y.forEach(function(b){S[b]={},S[b][b]={distance:0},y.forEach(function(p){b!==p&&(S[b][p]={distance:Number.POSITIVE_INFINITY})}),E(b).forEach(function(p){var m=p.v===b?p.w:p.v,x=A(p);S[b][m]={distance:x,predecessor:b}})}),y.forEach(function(b){var p=S[b];y.forEach(function(m){var x=S[m];y.forEach(function(M){var k=x[b],_=p[M],B=x[M],z=k.distance+_.distance;z<B.distance&&(B.distance=z,B.predecessor=_.predecessor)})})}),S}},12440:function(ct,C,v){ct.exports={components:v(2842),dijkstra:v(63763),dijkstraAll:v(84847),findCycles:v(9096),floydWarshall:v(38924),isAcyclic:v(62707),postorder:v(58828),preorder:v(92648),prim:v(80514),tarjan:v(5023),topsort:v(2166)}},62707:function(ct,C,v){var d=v(2166);ct.exports=T;function T(P){try{d(P)}catch(I){if(I instanceof d.CycleException)return!1;throw I}return!0}},58828:function(ct,C,v){var d=v(53984);ct.exports=T;function T(P,I){return d(P,I,"post")}},92648:function(ct,C,v){var d=v(53984);ct.exports=T;function T(P,I){return d(P,I,"pre")}},80514:function(ct,C,v){var d=v(89126),T=v(30771),P=v(75639);ct.exports=I;function I(O,A){var E=new T,S={},y=new P,b;function p(x){var M=x.v===b?x.w:x.v,k=y.priority(M);if(k!==void 0){var _=A(x);_<k&&(S[M]=b,y.decrease(M,_))}}if(O.nodeCount()===0)return E;d.each(O.nodes(),function(x){y.add(x,Number.POSITIVE_INFINITY),E.setNode(x)}),y.decrease(O.nodes()[0],0);for(var m=!1;y.size()>0;){if(b=y.removeMin(),d.has(S,b))E.setEdge(b,S[b]);else{if(m)throw new Error("Input graph is not connected: "+O);m=!0}O.nodeEdges(b).forEach(p)}return E}},5023:function(ct,C,v){var d=v(89126);ct.exports=T;function T(P){var I=0,O=[],A={},E=[];function S(y){var b=A[y]={onStack:!0,lowlink:I,index:I++};if(O.push(y),P.successors(y).forEach(function(x){d.has(A,x)?A[x].onStack&&(b.lowlink=Math.min(b.lowlink,A[x].index)):(S(x),b.lowlink=Math.min(b.lowlink,A[x].lowlink))}),b.lowlink===b.index){var p=[],m;do m=O.pop(),A[m].onStack=!1,p.push(m);while(y!==m);E.push(p)}}return P.nodes().forEach(function(y){d.has(A,y)||S(y)}),E}},2166:function(ct,C,v){var d=v(89126);ct.exports=T,T.CycleException=P;function T(I){var O={},A={},E=[];function S(y){if(d.has(A,y))throw new P;d.has(O,y)||(A[y]=!0,O[y]=!0,d.each(I.predecessors(y),S),delete A[y],E.push(y))}if(d.each(I.sinks(),S),d.size(O)!==I.nodeCount())throw new P;return E}function P(){}P.prototype=new Error},75639:function(ct,C,v){var d=v(89126);ct.exports=T;function T(){this._arr=[],this._keyIndices={}}T.prototype.size=function(){return this._arr.length},T.prototype.keys=function(){return this._arr.map(function(P){return P.key})},T.prototype.has=function(P){return d.has(this._keyIndices,P)},T.prototype.priority=function(P){var I=this._keyIndices[P];if(I!==void 0)return this._arr[I].priority},T.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},T.prototype.add=function(P,I){var O=this._keyIndices;if(P=String(P),!d.has(O,P)){var A=this._arr,E=A.length;return O[P]=E,A.push({key:P,priority:I}),this._decrease(E),!0}return!1},T.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var P=this._arr.pop();return delete this._keyIndices[P.key],this._heapify(0),P.key},T.prototype.decrease=function(P,I){var O=this._keyIndices[P];if(I>this._arr[O].priority)throw new Error("New priority is greater than current priority. Key: "+P+" Old: "+this._arr[O].priority+" New: "+I);this._arr[O].priority=I,this._decrease(O)},T.prototype._heapify=function(P){var I=this._arr,O=2*P,A=O+1,E=P;O<I.length&&(E=I[O].priority<I[E].priority?O:E,A<I.length&&(E=I[A].priority<I[E].priority?A:E),E!==P&&(this._swap(P,E),this._heapify(E)))},T.prototype._decrease=function(P){for(var I=this._arr,O=I[P].priority,A;P!==0&&(A=P>>1,!(I[A].priority<O));)this._swap(P,A),P=A},T.prototype._swap=function(P,I){var O=this._arr,A=this._keyIndices,E=O[P],S=O[I];O[P]=S,O[I]=E,A[S.key]=P,A[E.key]=I}},30771:function(ct,C,v){"use strict";var d=v(89126);ct.exports=O;var T="\0",P="\0",I="";function O(p){this._isDirected=d.has(p,"directed")?p.directed:!0,this._isMultigraph=d.has(p,"multigraph")?p.multigraph:!1,this._isCompound=d.has(p,"compound")?p.compound:!1,this._label=void 0,this._defaultNodeLabelFn=d.constant(void 0),this._defaultEdgeLabelFn=d.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[P]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}O.prototype._nodeCount=0,O.prototype._edgeCount=0,O.prototype.isDirected=function(){return this._isDirected},O.prototype.isMultigraph=function(){return this._isMultigraph},O.prototype.isCompound=function(){return this._isCompound},O.prototype.setGraph=function(p){return this._label=p,this},O.prototype.graph=function(){return this._label},O.prototype.setDefaultNodeLabel=function(p){return d.isFunction(p)||(p=d.constant(p)),this._defaultNodeLabelFn=p,this},O.prototype.nodeCount=function(){return this._nodeCount},O.prototype.nodes=function(){return d.keys(this._nodes)},O.prototype.sources=function(){var p=this;return d.filter(this.nodes(),function(m){return d.isEmpty(p._in[m])})},O.prototype.sinks=function(){var p=this;return d.filter(this.nodes(),function(m){return d.isEmpty(p._out[m])})},O.prototype.setNodes=function(p,m){var x=arguments,M=this;return d.each(p,function(k){x.length>1?M.setNode(k,m):M.setNode(k)}),this},O.prototype.setNode=function(p,m){return d.has(this._nodes,p)?(arguments.length>1&&(this._nodes[p]=m),this):(this._nodes[p]=arguments.length>1?m:this._defaultNodeLabelFn(p),this._isCompound&&(this._parent[p]=P,this._children[p]={},this._children[P][p]=!0),this._in[p]={},this._preds[p]={},this._out[p]={},this._sucs[p]={},++this._nodeCount,this)},O.prototype.node=function(p){return this._nodes[p]},O.prototype.hasNode=function(p){return d.has(this._nodes,p)},O.prototype.removeNode=function(p){var m=this;if(d.has(this._nodes,p)){var x=function(M){m.removeEdge(m._edgeObjs[M])};delete this._nodes[p],this._isCompound&&(this._removeFromParentsChildList(p),delete this._parent[p],d.each(this.children(p),function(M){m.setParent(M)}),delete this._children[p]),d.each(d.keys(this._in[p]),x),delete this._in[p],delete this._preds[p],d.each(d.keys(this._out[p]),x),delete this._out[p],delete this._sucs[p],--this._nodeCount}return this},O.prototype.setParent=function(p,m){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d.isUndefined(m))m=P;else{m+="";for(var x=m;!d.isUndefined(x);x=this.parent(x))if(x===p)throw new Error("Setting "+m+" as parent of "+p+" would create a cycle");this.setNode(m)}return this.setNode(p),this._removeFromParentsChildList(p),this._parent[p]=m,this._children[m][p]=!0,this},O.prototype._removeFromParentsChildList=function(p){delete this._children[this._parent[p]][p]},O.prototype.parent=function(p){if(this._isCompound){var m=this._parent[p];if(m!==P)return m}},O.prototype.children=function(p){if(d.isUndefined(p)&&(p=P),this._isCompound){var m=this._children[p];if(m)return d.keys(m)}else{if(p===P)return this.nodes();if(this.hasNode(p))return[]}},O.prototype.predecessors=function(p){var m=this._preds[p];if(m)return d.keys(m)},O.prototype.successors=function(p){var m=this._sucs[p];if(m)return d.keys(m)},O.prototype.neighbors=function(p){var m=this.predecessors(p);if(m)return d.union(m,this.successors(p))},O.prototype.isLeaf=function(p){var m;return this.isDirected()?m=this.successors(p):m=this.neighbors(p),m.length===0},O.prototype.filterNodes=function(p){var m=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});m.setGraph(this.graph());var x=this;d.each(this._nodes,function(_,B){p(B)&&m.setNode(B,_)}),d.each(this._edgeObjs,function(_){m.hasNode(_.v)&&m.hasNode(_.w)&&m.setEdge(_,x.edge(_))});var M={};function k(_){var B=x.parent(_);return B===void 0||m.hasNode(B)?(M[_]=B,B):B in M?M[B]:k(B)}return this._isCompound&&d.each(m.nodes(),function(_){m.setParent(_,k(_))}),m},O.prototype.setDefaultEdgeLabel=function(p){return d.isFunction(p)||(p=d.constant(p)),this._defaultEdgeLabelFn=p,this},O.prototype.edgeCount=function(){return this._edgeCount},O.prototype.edges=function(){return d.values(this._edgeObjs)},O.prototype.setPath=function(p,m){var x=this,M=arguments;return d.reduce(p,function(k,_){return M.length>1?x.setEdge(k,_,m):x.setEdge(k,_),_}),this},O.prototype.setEdge=function(){var p,m,x,M,k=!1,_=arguments[0];typeof _=="object"&&_!==null&&"v"in _?(p=_.v,m=_.w,x=_.name,arguments.length===2&&(M=arguments[1],k=!0)):(p=_,m=arguments[1],x=arguments[3],arguments.length>2&&(M=arguments[2],k=!0)),p=""+p,m=""+m,d.isUndefined(x)||(x=""+x);var B=S(this._isDirected,p,m,x);if(d.has(this._edgeLabels,B))return k&&(this._edgeLabels[B]=M),this;if(!d.isUndefined(x)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(p),this.setNode(m),this._edgeLabels[B]=k?M:this._defaultEdgeLabelFn(p,m,x);var z=y(this._isDirected,p,m,x);return p=z.v,m=z.w,Object.freeze(z),this._edgeObjs[B]=z,A(this._preds[m],p),A(this._sucs[p],m),this._in[m][B]=z,this._out[p][B]=z,this._edgeCount++,this},O.prototype.edge=function(p,m,x){var M=arguments.length===1?b(this._isDirected,arguments[0]):S(this._isDirected,p,m,x);return this._edgeLabels[M]},O.prototype.hasEdge=function(p,m,x){var M=arguments.length===1?b(this._isDirected,arguments[0]):S(this._isDirected,p,m,x);return d.has(this._edgeLabels,M)},O.prototype.removeEdge=function(p,m,x){var M=arguments.length===1?b(this._isDirected,arguments[0]):S(this._isDirected,p,m,x),k=this._edgeObjs[M];return k&&(p=k.v,m=k.w,delete this._edgeLabels[M],delete this._edgeObjs[M],E(this._preds[m],p),E(this._sucs[p],m),delete this._in[m][M],delete this._out[p][M],this._edgeCount--),this},O.prototype.inEdges=function(p,m){var x=this._in[p];if(x){var M=d.values(x);return m?d.filter(M,function(k){return k.v===m}):M}},O.prototype.outEdges=function(p,m){var x=this._out[p];if(x){var M=d.values(x);return m?d.filter(M,function(k){return k.w===m}):M}},O.prototype.nodeEdges=function(p,m){var x=this.inEdges(p,m);if(x)return x.concat(this.outEdges(p,m))};function A(p,m){p[m]?p[m]++:p[m]=1}function E(p,m){--p[m]||delete p[m]}function S(p,m,x,M){var k=""+m,_=""+x;if(!p&&k>_){var B=k;k=_,_=B}return k+I+_+I+(d.isUndefined(M)?T:M)}function y(p,m,x,M){var k=""+m,_=""+x;if(!p&&k>_){var B=k;k=_,_=B}var z={v:k,w:_};return M&&(z.name=M),z}function b(p,m){return S(p,m.v,m.w,m.name)}},82354:function(ct,C,v){ct.exports={Graph:v(30771),version:v(49631)}},28974:function(ct,C,v){var d=v(89126),T=v(30771);ct.exports={write:P,read:A};function P(E){var S={options:{directed:E.isDirected(),multigraph:E.isMultigraph(),compound:E.isCompound()},nodes:I(E),edges:O(E)};return d.isUndefined(E.graph())||(S.value=d.clone(E.graph())),S}function I(E){return d.map(E.nodes(),function(S){var y=E.node(S),b=E.parent(S),p={v:S};return d.isUndefined(y)||(p.value=y),d.isUndefined(b)||(p.parent=b),p})}function O(E){return d.map(E.edges(),function(S){var y=E.edge(S),b={v:S.v,w:S.w};return d.isUndefined(S.name)||(b.name=S.name),d.isUndefined(y)||(b.value=y),b})}function A(E){var S=new T(E.options).setGraph(E.value);return d.each(E.nodes,function(y){S.setNode(y.v,y.value),y.parent&&S.setParent(y.v,y.parent)}),d.each(E.edges,function(y){S.setEdge({v:y.v,w:y.w,name:y.name},y.value)}),S}},89126:function(ct,C,v){var d;try{d={clone:v(66678),constant:v(75703),each:v(66073),filter:v(63105),has:v(18721),isArray:v(1469),isEmpty:v(41609),isFunction:v(23560),isUndefined:v(52353),keys:v(3674),map:v(35161),reduce:v(54061),size:v(84238),transform:v(68718),union:v(93386),values:v(52628)}}catch(T){}d||(d=window._),ct.exports=d},49631:function(ct){ct.exports="2.1.8"},87899:function(ct,C,v){"use strict";v.d(C,{Ps:function(){return Zt}});var d=v(70655);function T(ne){return typeof ne=="object"&&ne!==null}function P(ne,se){if(!Boolean(ne))throw new Error(se!=null?se:"Unexpected invariant triggered.")}const I=/\r\n|[\n\r]/g;function O(ne,se){let ye=0,We=1;for(const De of ne.body.matchAll(I)){if(typeof De.index=="number"||P(!1),De.index>=se)break;ye=De.index+De[0].length,We+=1}return{line:We,column:se+1-ye}}function A(ne){return E(ne.source,O(ne.source,ne.start))}function E(ne,se){const ye=ne.locationOffset.column-1,We="".padStart(ye)+ne.body,De=se.line-1,ae=ne.locationOffset.line-1,Yt=se.line+ae,st=se.line===1?ye:0,gt=se.column+st,kt=`${ne.name}:${Yt}:${gt}
`,Ft=We.split(/\r\n|[\n\r]/g),jt=Ft[De];if(jt.length>120){const fe=Math.floor(gt/80),Ce=gt%80,xe=[];for(let ve=0;ve<jt.length;ve+=80)xe.push(jt.slice(ve,ve+80));return kt+S([[`${Yt} |`,xe[0]],...xe.slice(1,fe+1).map(ve=>["|",ve]),["|","^".padStart(Ce)],["|",xe[fe+1]]])}return kt+S([[`${Yt-1} |`,Ft[De-1]],[`${Yt} |`,jt],["|","^".padStart(gt)],[`${Yt+1} |`,Ft[De+1]]])}function S(ne){const se=ne.filter(([We,De])=>De!==void 0),ye=Math.max(...se.map(([We])=>We.length));return se.map(([We,De])=>We.padStart(ye)+(De?" "+De:"")).join(`
`)}function y(ne){const se=ne[0];return se==null||"kind"in se||"length"in se?{nodes:se,source:ne[1],positions:ne[2],path:ne[3],originalError:ne[4],extensions:ne[5]}:se}class b extends Error{constructor(se,...ye){var We,De,ae;const{nodes:Yt,source:st,positions:gt,path:kt,originalError:Ft,extensions:jt}=y(ye);super(se);this.name="GraphQLError",this.path=kt!=null?kt:void 0,this.originalError=Ft!=null?Ft:void 0,this.nodes=p(Array.isArray(Yt)?Yt:Yt?[Yt]:void 0);const fe=p((We=this.nodes)===null||We===void 0?void 0:We.map(xe=>xe.loc).filter(xe=>xe!=null));this.source=st!=null?st:fe==null||(De=fe[0])===null||De===void 0?void 0:De.source,this.positions=gt!=null?gt:fe==null?void 0:fe.map(xe=>xe.start),this.locations=gt&&st?gt.map(xe=>O(st,xe)):fe==null?void 0:fe.map(xe=>O(xe.source,xe.start));const Ce=T(Ft==null?void 0:Ft.extensions)?Ft==null?void 0:Ft.extensions:void 0;this.extensions=(ae=jt!=null?jt:Ce)!==null&&ae!==void 0?ae:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),Ft!=null&&Ft.stack?Object.defineProperty(this,"stack",{value:Ft.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,b):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let se=this.message;if(this.nodes)for(const ye of this.nodes)ye.loc&&(se+=`

`+A(ye.loc));else if(this.source&&this.locations)for(const ye of this.locations)se+=`

`+E(this.source,ye);return se}toJSON(){const se={message:this.message};return this.locations!=null&&(se.locations=this.locations),this.path!=null&&(se.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(se.extensions=this.extensions),se}}function p(ne){return ne===void 0||ne.length===0?void 0:ne}function m(ne){return ne.toString()}function x(ne){return ne.toJSON()}function M(ne,se,ye){return new b(`Syntax Error: ${ye}`,{source:ne,positions:[se]})}var k=v(2387);let _;(function(ne){ne.QUERY="QUERY",ne.MUTATION="MUTATION",ne.SUBSCRIPTION="SUBSCRIPTION",ne.FIELD="FIELD",ne.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",ne.FRAGMENT_SPREAD="FRAGMENT_SPREAD",ne.INLINE_FRAGMENT="INLINE_FRAGMENT",ne.VARIABLE_DEFINITION="VARIABLE_DEFINITION",ne.SCHEMA="SCHEMA",ne.SCALAR="SCALAR",ne.OBJECT="OBJECT",ne.FIELD_DEFINITION="FIELD_DEFINITION",ne.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",ne.INTERFACE="INTERFACE",ne.UNION="UNION",ne.ENUM="ENUM",ne.ENUM_VALUE="ENUM_VALUE",ne.INPUT_OBJECT="INPUT_OBJECT",ne.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(_||(_={}));var B=v(6450),z=v(7420),W=v(91022);let R;(function(ne){ne.SOF="<SOF>",ne.EOF="<EOF>",ne.BANG="!",ne.DOLLAR="$",ne.AMP="&",ne.PAREN_L="(",ne.PAREN_R=")",ne.SPREAD="...",ne.COLON=":",ne.EQUALS="=",ne.AT="@",ne.BRACKET_L="[",ne.BRACKET_R="]",ne.BRACE_L="{",ne.PIPE="|",ne.BRACE_R="}",ne.NAME="Name",ne.INT="Int",ne.FLOAT="Float",ne.STRING="String",ne.BLOCK_STRING="BlockString",ne.COMMENT="Comment"})(R||(R={}));class K{constructor(se){const ye=new k.WU(R.SOF,0,0,0,0);this.source=se,this.lastToken=ye,this.token=ye,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let se=this.token;if(se.kind!==R.EOF)do if(se.next)se=se.next;else{const ye=ft(this,se.end);se.next=ye,ye.prev=se,se=ye}while(se.kind===R.COMMENT);return se}}function ut(ne){return ne===R.BANG||ne===R.DOLLAR||ne===R.AMP||ne===R.PAREN_L||ne===R.PAREN_R||ne===R.SPREAD||ne===R.COLON||ne===R.EQUALS||ne===R.AT||ne===R.BRACKET_L||ne===R.BRACKET_R||ne===R.BRACE_L||ne===R.PIPE||ne===R.BRACE_R}function ot(ne){return ne>=0&&ne<=55295||ne>=57344&&ne<=1114111}function dt(ne,se){return nt(ne.charCodeAt(se))&&yt(ne.charCodeAt(se+1))}function nt(ne){return ne>=55296&&ne<=56319}function yt(ne){return ne>=56320&&ne<=57343}function tt(ne,se){const ye=ne.source.body.codePointAt(se);if(ye===void 0)return R.EOF;if(ye>=32&&ye<=126){const We=String.fromCodePoint(ye);return We==='"'?`'"'`:`"${We}"`}return"U+"+ye.toString(16).toUpperCase().padStart(4,"0")}function J(ne,se,ye,We,De){const ae=ne.line,Yt=1+ye-ne.lineStart;return new k.WU(se,ye,We,ae,Yt,De)}function ft(ne,se){const ye=ne.source.body,We=ye.length;let De=se;for(;De<We;){const ae=ye.charCodeAt(De);switch(ae){case 65279:case 9:case 32:case 44:++De;continue;case 10:++De,++ne.line,ne.lineStart=De;continue;case 13:ye.charCodeAt(De+1)===10?De+=2:++De,++ne.line,ne.lineStart=De;continue;case 35:return rt(ne,De);case 33:return J(ne,R.BANG,De,De+1);case 36:return J(ne,R.DOLLAR,De,De+1);case 38:return J(ne,R.AMP,De,De+1);case 40:return J(ne,R.PAREN_L,De,De+1);case 41:return J(ne,R.PAREN_R,De,De+1);case 46:if(ye.charCodeAt(De+1)===46&&ye.charCodeAt(De+2)===46)return J(ne,R.SPREAD,De,De+3);break;case 58:return J(ne,R.COLON,De,De+1);case 61:return J(ne,R.EQUALS,De,De+1);case 64:return J(ne,R.AT,De,De+1);case 91:return J(ne,R.BRACKET_L,De,De+1);case 93:return J(ne,R.BRACKET_R,De,De+1);case 123:return J(ne,R.BRACE_L,De,De+1);case 124:return J(ne,R.PIPE,De,De+1);case 125:return J(ne,R.BRACE_R,De,De+1);case 34:return ye.charCodeAt(De+1)===34&&ye.charCodeAt(De+2)===34?Qt(ne,De):q(ne,De)}if((0,W.X1)(ae)||ae===45)return St(ne,De,ae);if((0,W.LQ)(ae))return Se(ne,De);throw M(ne.source,De,ae===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:ot(ae)||dt(ye,De)?`Unexpected character: ${tt(ne,De)}.`:`Invalid character: ${tt(ne,De)}.`)}return J(ne,R.EOF,We,We)}function rt(ne,se){const ye=ne.source.body,We=ye.length;let De=se+1;for(;De<We;){const ae=ye.charCodeAt(De);if(ae===10||ae===13)break;if(ot(ae))++De;else if(dt(ye,De))De+=2;else break}return J(ne,R.COMMENT,se,De,ye.slice(se+1,De))}function St(ne,se,ye){const We=ne.source.body;let De=se,ae=ye,Yt=!1;if(ae===45&&(ae=We.charCodeAt(++De)),ae===48){if(ae=We.charCodeAt(++De),(0,W.X1)(ae))throw M(ne.source,De,`Invalid number, unexpected digit after 0: ${tt(ne,De)}.`)}else De=wt(ne,De,ae),ae=We.charCodeAt(De);if(ae===46&&(Yt=!0,ae=We.charCodeAt(++De),De=wt(ne,De,ae),ae=We.charCodeAt(De)),(ae===69||ae===101)&&(Yt=!0,ae=We.charCodeAt(++De),(ae===43||ae===45)&&(ae=We.charCodeAt(++De)),De=wt(ne,De,ae),ae=We.charCodeAt(De)),ae===46||(0,W.LQ)(ae))throw M(ne.source,De,`Invalid number, expected digit but got: ${tt(ne,De)}.`);return J(ne,Yt?R.FLOAT:R.INT,se,De,We.slice(se,De))}function wt(ne,se,ye){if(!(0,W.X1)(ye))throw M(ne.source,se,`Invalid number, expected digit but got: ${tt(ne,se)}.`);const We=ne.source.body;let De=se+1;for(;(0,W.X1)(We.charCodeAt(De));)++De;return De}function q(ne,se){const ye=ne.source.body,We=ye.length;let De=se+1,ae=De,Yt="";for(;De<We;){const st=ye.charCodeAt(De);if(st===34)return Yt+=ye.slice(ae,De),J(ne,R.STRING,se,De+1,Yt);if(st===92){Yt+=ye.slice(ae,De);const gt=ye.charCodeAt(De+1)===117?ye.charCodeAt(De+2)===123?it(ne,De):Q(ne,De):It(ne,De);Yt+=gt.value,De+=gt.size,ae=De;continue}if(st===10||st===13)break;if(ot(st))++De;else if(dt(ye,De))De+=2;else throw M(ne.source,De,`Invalid character within String: ${tt(ne,De)}.`)}throw M(ne.source,De,"Unterminated string.")}function it(ne,se){const ye=ne.source.body;let We=0,De=3;for(;De<12;){const ae=ye.charCodeAt(se+De++);if(ae===125){if(De<5||!ot(We))break;return{value:String.fromCodePoint(We),size:De}}if(We=We<<4|vt(ae),We<0)break}throw M(ne.source,se,`Invalid Unicode escape sequence: "${ye.slice(se,se+De)}".`)}function Q(ne,se){const ye=ne.source.body,We=f(ye,se+2);if(ot(We))return{value:String.fromCodePoint(We),size:6};if(nt(We)&&ye.charCodeAt(se+6)===92&&ye.charCodeAt(se+7)===117){const De=f(ye,se+8);if(yt(De))return{value:String.fromCodePoint(We,De),size:12}}throw M(ne.source,se,`Invalid Unicode escape sequence: "${ye.slice(se,se+6)}".`)}function f(ne,se){return vt(ne.charCodeAt(se))<<12|vt(ne.charCodeAt(se+1))<<8|vt(ne.charCodeAt(se+2))<<4|vt(ne.charCodeAt(se+3))}function vt(ne){return ne>=48&&ne<=57?ne-48:ne>=65&&ne<=70?ne-55:ne>=97&&ne<=102?ne-87:-1}function It(ne,se){const ye=ne.source.body;switch(ye.charCodeAt(se+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw M(ne.source,se,`Invalid character escape sequence: "${ye.slice(se,se+2)}".`)}function Qt(ne,se){const ye=ne.source.body,We=ye.length;let De=ne.lineStart,ae=se+3,Yt=ae,st="";const gt=[];for(;ae<We;){const kt=ye.charCodeAt(ae);if(kt===34&&ye.charCodeAt(ae+1)===34&&ye.charCodeAt(ae+2)===34){st+=ye.slice(Yt,ae),gt.push(st);const Ft=J(ne,R.BLOCK_STRING,se,ae+3,(0,z.wv)(gt).join(`
`));return ne.line+=gt.length-1,ne.lineStart=De,Ft}if(kt===92&&ye.charCodeAt(ae+1)===34&&ye.charCodeAt(ae+2)===34&&ye.charCodeAt(ae+3)===34){st+=ye.slice(Yt,ae),Yt=ae+1,ae+=4;continue}if(kt===10||kt===13){st+=ye.slice(Yt,ae),gt.push(st),kt===13&&ye.charCodeAt(ae+1)===10?ae+=2:++ae,st="",Yt=ae,De=ae;continue}if(ot(kt))++ae;else if(dt(ye,ae))ae+=2;else throw M(ne.source,ae,`Invalid character within String: ${tt(ne,ae)}.`)}throw M(ne.source,ae,"Unterminated string.")}function Se(ne,se){const ye=ne.source.body,We=ye.length;let De=se+1;for(;De<We;){const ae=ye.charCodeAt(De);if((0,W.HQ)(ae))++De;else break}return J(ne,R.NAME,se,De,ye.slice(se,De))}var $t=v(15707);function re(ne,se){return new Rt(ne,se).parseDocument()}function he(ne,se){const ye=new Rt(ne,se);ye.expectToken(TokenKind.SOF);const We=ye.parseValueLiteral(!1);return ye.expectToken(TokenKind.EOF),We}function Me(ne,se){const ye=new Rt(ne,se);ye.expectToken(TokenKind.SOF);const We=ye.parseConstValueLiteral();return ye.expectToken(TokenKind.EOF),We}function le(ne,se){const ye=new Rt(ne,se);ye.expectToken(TokenKind.SOF);const We=ye.parseTypeReference();return ye.expectToken(TokenKind.EOF),We}class Rt{constructor(se,ye){const We=(0,$t.T)(se)?se:new $t.H(se);this._lexer=new K(We),this._options=ye}parseName(){const se=this.expectToken(R.NAME);return this.node(se,{kind:B.h.NAME,value:se.value})}parseDocument(){return this.node(this._lexer.token,{kind:B.h.DOCUMENT,definitions:this.many(R.SOF,this.parseDefinition,R.EOF)})}parseDefinition(){if(this.peek(R.BRACE_L))return this.parseOperationDefinition();const se=this.peekDescription(),ye=se?this._lexer.lookahead():this._lexer.token;if(ye.kind===R.NAME){switch(ye.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(se)throw M(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(ye.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(ye)}parseOperationDefinition(){const se=this._lexer.token;if(this.peek(R.BRACE_L))return this.node(se,{kind:B.h.OPERATION_DEFINITION,operation:k.ku.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const ye=this.parseOperationType();let We;return this.peek(R.NAME)&&(We=this.parseName()),this.node(se,{kind:B.h.OPERATION_DEFINITION,operation:ye,name:We,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const se=this.expectToken(R.NAME);switch(se.value){case"query":return k.ku.QUERY;case"mutation":return k.ku.MUTATION;case"subscription":return k.ku.SUBSCRIPTION}throw this.unexpected(se)}parseVariableDefinitions(){return this.optionalMany(R.PAREN_L,this.parseVariableDefinition,R.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:B.h.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(R.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(R.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const se=this._lexer.token;return this.expectToken(R.DOLLAR),this.node(se,{kind:B.h.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:B.h.SELECTION_SET,selections:this.many(R.BRACE_L,this.parseSelection,R.BRACE_R)})}parseSelection(){return this.peek(R.SPREAD)?this.parseFragment():this.parseField()}parseField(){const se=this._lexer.token,ye=this.parseName();let We,De;return this.expectOptionalToken(R.COLON)?(We=ye,De=this.parseName()):De=ye,this.node(se,{kind:B.h.FIELD,alias:We,name:De,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(R.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(se){const ye=se?this.parseConstArgument:this.parseArgument;return this.optionalMany(R.PAREN_L,ye,R.PAREN_R)}parseArgument(se=!1){const ye=this._lexer.token,We=this.parseName();return this.expectToken(R.COLON),this.node(ye,{kind:B.h.ARGUMENT,name:We,value:this.parseValueLiteral(se)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const se=this._lexer.token;this.expectToken(R.SPREAD);const ye=this.expectOptionalKeyword("on");return!ye&&this.peek(R.NAME)?this.node(se,{kind:B.h.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(se,{kind:B.h.INLINE_FRAGMENT,typeCondition:ye?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var se;const ye=this._lexer.token;return this.expectKeyword("fragment"),((se=this._options)===null||se===void 0?void 0:se.allowLegacyFragmentVariables)===!0?this.node(ye,{kind:B.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(ye,{kind:B.h.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(se){const ye=this._lexer.token;switch(ye.kind){case R.BRACKET_L:return this.parseList(se);case R.BRACE_L:return this.parseObject(se);case R.INT:return this._lexer.advance(),this.node(ye,{kind:B.h.INT,value:ye.value});case R.FLOAT:return this._lexer.advance(),this.node(ye,{kind:B.h.FLOAT,value:ye.value});case R.STRING:case R.BLOCK_STRING:return this.parseStringLiteral();case R.NAME:switch(this._lexer.advance(),ye.value){case"true":return this.node(ye,{kind:B.h.BOOLEAN,value:!0});case"false":return this.node(ye,{kind:B.h.BOOLEAN,value:!1});case"null":return this.node(ye,{kind:B.h.NULL});default:return this.node(ye,{kind:B.h.ENUM,value:ye.value})}case R.DOLLAR:if(se)if(this.expectToken(R.DOLLAR),this._lexer.token.kind===R.NAME){const We=this._lexer.token.value;throw M(this._lexer.source,ye.start,`Unexpected variable "$${We}" in constant value.`)}else throw this.unexpected(ye);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const se=this._lexer.token;return this._lexer.advance(),this.node(se,{kind:B.h.STRING,value:se.value,block:se.kind===R.BLOCK_STRING})}parseList(se){const ye=()=>this.parseValueLiteral(se);return this.node(this._lexer.token,{kind:B.h.LIST,values:this.any(R.BRACKET_L,ye,R.BRACKET_R)})}parseObject(se){const ye=()=>this.parseObjectField(se);return this.node(this._lexer.token,{kind:B.h.OBJECT,fields:this.any(R.BRACE_L,ye,R.BRACE_R)})}parseObjectField(se){const ye=this._lexer.token,We=this.parseName();return this.expectToken(R.COLON),this.node(ye,{kind:B.h.OBJECT_FIELD,name:We,value:this.parseValueLiteral(se)})}parseDirectives(se){const ye=[];for(;this.peek(R.AT);)ye.push(this.parseDirective(se));return ye}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(se){const ye=this._lexer.token;return this.expectToken(R.AT),this.node(ye,{kind:B.h.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(se)})}parseTypeReference(){const se=this._lexer.token;let ye;if(this.expectOptionalToken(R.BRACKET_L)){const We=this.parseTypeReference();this.expectToken(R.BRACKET_R),ye=this.node(se,{kind:B.h.LIST_TYPE,type:We})}else ye=this.parseNamedType();return this.expectOptionalToken(R.BANG)?this.node(se,{kind:B.h.NON_NULL_TYPE,type:ye}):ye}parseNamedType(){return this.node(this._lexer.token,{kind:B.h.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(R.STRING)||this.peek(R.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const se=this._lexer.token,ye=this.parseDescription();this.expectKeyword("schema");const We=this.parseConstDirectives(),De=this.many(R.BRACE_L,this.parseOperationTypeDefinition,R.BRACE_R);return this.node(se,{kind:B.h.SCHEMA_DEFINITION,description:ye,directives:We,operationTypes:De})}parseOperationTypeDefinition(){const se=this._lexer.token,ye=this.parseOperationType();this.expectToken(R.COLON);const We=this.parseNamedType();return this.node(se,{kind:B.h.OPERATION_TYPE_DEFINITION,operation:ye,type:We})}parseScalarTypeDefinition(){const se=this._lexer.token,ye=this.parseDescription();this.expectKeyword("scalar");const We=this.parseName(),De=this.parseConstDirectives();return this.node(se,{kind:B.h.SCALAR_TYPE_DEFINITION,description:ye,name:We,directives:De})}parseObjectTypeDefinition(){const se=this._lexer.token,ye=this.parseDescription();this.expectKeyword("type");const We=this.parseName(),De=this.parseImplementsInterfaces(),ae=this.parseConstDirectives(),Yt=this.parseFieldsDefinition();return this.node(se,{kind:B.h.OBJECT_TYPE_DEFINITION,description:ye,name:We,interfaces:De,directives:ae,fields:Yt})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(R.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(R.BRACE_L,this.parseFieldDefinition,R.BRACE_R)}parseFieldDefinition(){const se=this._lexer.token,ye=this.parseDescription(),We=this.parseName(),De=this.parseArgumentDefs();this.expectToken(R.COLON);const ae=this.parseTypeReference(),Yt=this.parseConstDirectives();return this.node(se,{kind:B.h.FIELD_DEFINITION,description:ye,name:We,arguments:De,type:ae,directives:Yt})}parseArgumentDefs(){return this.optionalMany(R.PAREN_L,this.parseInputValueDef,R.PAREN_R)}parseInputValueDef(){const se=this._lexer.token,ye=this.parseDescription(),We=this.parseName();this.expectToken(R.COLON);const De=this.parseTypeReference();let ae;this.expectOptionalToken(R.EQUALS)&&(ae=this.parseConstValueLiteral());const Yt=this.parseConstDirectives();return this.node(se,{kind:B.h.INPUT_VALUE_DEFINITION,description:ye,name:We,type:De,defaultValue:ae,directives:Yt})}parseInterfaceTypeDefinition(){const se=this._lexer.token,ye=this.parseDescription();this.expectKeyword("interface");const We=this.parseName(),De=this.parseImplementsInterfaces(),ae=this.parseConstDirectives(),Yt=this.parseFieldsDefinition();return this.node(se,{kind:B.h.INTERFACE_TYPE_DEFINITION,description:ye,name:We,interfaces:De,directives:ae,fields:Yt})}parseUnionTypeDefinition(){const se=this._lexer.token,ye=this.parseDescription();this.expectKeyword("union");const We=this.parseName(),De=this.parseConstDirectives(),ae=this.parseUnionMemberTypes();return this.node(se,{kind:B.h.UNION_TYPE_DEFINITION,description:ye,name:We,directives:De,types:ae})}parseUnionMemberTypes(){return this.expectOptionalToken(R.EQUALS)?this.delimitedMany(R.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const se=this._lexer.token,ye=this.parseDescription();this.expectKeyword("enum");const We=this.parseName(),De=this.parseConstDirectives(),ae=this.parseEnumValuesDefinition();return this.node(se,{kind:B.h.ENUM_TYPE_DEFINITION,description:ye,name:We,directives:De,values:ae})}parseEnumValuesDefinition(){return this.optionalMany(R.BRACE_L,this.parseEnumValueDefinition,R.BRACE_R)}parseEnumValueDefinition(){const se=this._lexer.token,ye=this.parseDescription(),We=this.parseEnumValueName(),De=this.parseConstDirectives();return this.node(se,{kind:B.h.ENUM_VALUE_DEFINITION,description:ye,name:We,directives:De})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw M(this._lexer.source,this._lexer.token.start,`${Ot(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const se=this._lexer.token,ye=this.parseDescription();this.expectKeyword("input");const We=this.parseName(),De=this.parseConstDirectives(),ae=this.parseInputFieldsDefinition();return this.node(se,{kind:B.h.INPUT_OBJECT_TYPE_DEFINITION,description:ye,name:We,directives:De,fields:ae})}parseInputFieldsDefinition(){return this.optionalMany(R.BRACE_L,this.parseInputValueDef,R.BRACE_R)}parseTypeSystemExtension(){const se=this._lexer.lookahead();if(se.kind===R.NAME)switch(se.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(se)}parseSchemaExtension(){const se=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const ye=this.parseConstDirectives(),We=this.optionalMany(R.BRACE_L,this.parseOperationTypeDefinition,R.BRACE_R);if(ye.length===0&&We.length===0)throw this.unexpected();return this.node(se,{kind:B.h.SCHEMA_EXTENSION,directives:ye,operationTypes:We})}parseScalarTypeExtension(){const se=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const ye=this.parseName(),We=this.parseConstDirectives();if(We.length===0)throw this.unexpected();return this.node(se,{kind:B.h.SCALAR_TYPE_EXTENSION,name:ye,directives:We})}parseObjectTypeExtension(){const se=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const ye=this.parseName(),We=this.parseImplementsInterfaces(),De=this.parseConstDirectives(),ae=this.parseFieldsDefinition();if(We.length===0&&De.length===0&&ae.length===0)throw this.unexpected();return this.node(se,{kind:B.h.OBJECT_TYPE_EXTENSION,name:ye,interfaces:We,directives:De,fields:ae})}parseInterfaceTypeExtension(){const se=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const ye=this.parseName(),We=this.parseImplementsInterfaces(),De=this.parseConstDirectives(),ae=this.parseFieldsDefinition();if(We.length===0&&De.length===0&&ae.length===0)throw this.unexpected();return this.node(se,{kind:B.h.INTERFACE_TYPE_EXTENSION,name:ye,interfaces:We,directives:De,fields:ae})}parseUnionTypeExtension(){const se=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const ye=this.parseName(),We=this.parseConstDirectives(),De=this.parseUnionMemberTypes();if(We.length===0&&De.length===0)throw this.unexpected();return this.node(se,{kind:B.h.UNION_TYPE_EXTENSION,name:ye,directives:We,types:De})}parseEnumTypeExtension(){const se=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const ye=this.parseName(),We=this.parseConstDirectives(),De=this.parseEnumValuesDefinition();if(We.length===0&&De.length===0)throw this.unexpected();return this.node(se,{kind:B.h.ENUM_TYPE_EXTENSION,name:ye,directives:We,values:De})}parseInputObjectTypeExtension(){const se=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const ye=this.parseName(),We=this.parseConstDirectives(),De=this.parseInputFieldsDefinition();if(We.length===0&&De.length===0)throw this.unexpected();return this.node(se,{kind:B.h.INPUT_OBJECT_TYPE_EXTENSION,name:ye,directives:We,fields:De})}parseDirectiveDefinition(){const se=this._lexer.token,ye=this.parseDescription();this.expectKeyword("directive"),this.expectToken(R.AT);const We=this.parseName(),De=this.parseArgumentDefs(),ae=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const Yt=this.parseDirectiveLocations();return this.node(se,{kind:B.h.DIRECTIVE_DEFINITION,description:ye,name:We,arguments:De,repeatable:ae,locations:Yt})}parseDirectiveLocations(){return this.delimitedMany(R.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const se=this._lexer.token,ye=this.parseName();if(Object.prototype.hasOwnProperty.call(_,ye.value))return ye;throw this.unexpected(se)}node(se,ye){var We;return((We=this._options)===null||We===void 0?void 0:We.noLocation)!==!0&&(ye.loc=new k.Ye(se,this._lexer.lastToken,this._lexer.source)),ye}peek(se){return this._lexer.token.kind===se}expectToken(se){const ye=this._lexer.token;if(ye.kind===se)return this._lexer.advance(),ye;throw M(this._lexer.source,ye.start,`Expected ${At(se)}, found ${Ot(ye)}.`)}expectOptionalToken(se){return this._lexer.token.kind===se?(this._lexer.advance(),!0):!1}expectKeyword(se){const ye=this._lexer.token;if(ye.kind===R.NAME&&ye.value===se)this._lexer.advance();else throw M(this._lexer.source,ye.start,`Expected "${se}", found ${Ot(ye)}.`)}expectOptionalKeyword(se){const ye=this._lexer.token;return ye.kind===R.NAME&&ye.value===se?(this._lexer.advance(),!0):!1}unexpected(se){const ye=se!=null?se:this._lexer.token;return M(this._lexer.source,ye.start,`Unexpected ${Ot(ye)}.`)}any(se,ye,We){this.expectToken(se);const De=[];for(;!this.expectOptionalToken(We);)De.push(ye.call(this));return De}optionalMany(se,ye,We){if(this.expectOptionalToken(se)){const De=[];do De.push(ye.call(this));while(!this.expectOptionalToken(We));return De}return[]}many(se,ye,We){this.expectToken(se);const De=[];do De.push(ye.call(this));while(!this.expectOptionalToken(We));return De}delimitedMany(se,ye){this.expectOptionalToken(se);const We=[];do We.push(ye.call(this));while(this.expectOptionalToken(se));return We}}function Ot(ne){const se=ne.value;return At(ne.kind)+(se!=null?` "${se}"`:"")}function At(ne){return ut(ne)?`"${ne}"`:ne}var Dt=new Map,j=new Map,$=!0,et=!1;function Tt(ne){return ne.replace(/[\s,]+/g," ").trim()}function Nt(ne){return Tt(ne.source.body.substring(ne.start,ne.end))}function Ut(ne){var se=new Set,ye=[];return ne.definitions.forEach(function(We){if(We.kind==="FragmentDefinition"){var De=We.name.value,ae=Nt(We.loc),Yt=j.get(De);Yt&&!Yt.has(ae)?$&&console.warn("Warning: fragment with name "+De+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):Yt||j.set(De,Yt=new Set),Yt.add(ae),se.has(ae)||(se.add(ae),ye.push(We))}else ye.push(We)}),(0,d.__assign)((0,d.__assign)({},ne),{definitions:ye})}function Oe(ne){var se=new Set(ne.definitions);se.forEach(function(We){We.loc&&delete We.loc,Object.keys(We).forEach(function(De){var ae=We[De];ae&&typeof ae=="object"&&se.add(ae)})});var ye=ne.loc;return ye&&(delete ye.startToken,delete ye.endToken),ne}function He(ne){var se=Tt(ne);if(!Dt.has(se)){var ye=re(ne,{experimentalFragmentVariables:et,allowLegacyFragmentVariables:et});if(!ye||ye.kind!=="Document")throw new Error("Not a valid GraphQL document.");Dt.set(se,Oe(Ut(ye)))}return Dt.get(se)}function Zt(ne){for(var se=[],ye=1;ye<arguments.length;ye++)se[ye-1]=arguments[ye];typeof ne=="string"&&(ne=[ne]);var We=ne[0];return se.forEach(function(De,ae){De&&De.kind==="Document"?We+=De.loc.source.body:We+=De,We+=ne[ae+1]}),He(We)}function be(){Dt.clear(),j.clear()}function _e(){$=!1}function Qe(){et=!0}function dr(){et=!1}var ur={gql:Zt,resetCaches:be,disableFragmentWarnings:_e,enableExperimentalFragmentVariables:Qe,disableExperimentalFragmentVariables:dr};(function(ne){ne.gql=ur.gql,ne.resetCaches=ur.resetCaches,ne.disableFragmentWarnings=ur.disableFragmentWarnings,ne.enableExperimentalFragmentVariables=ur.enableExperimentalFragmentVariables,ne.disableExperimentalFragmentVariables=ur.disableExperimentalFragmentVariables})(Zt||(Zt={})),Zt.default=Zt;var Dr=null},53767:function(ct,C,v){"use strict";v.d(C,{a:function(){return d}});function d(T,P){if(!Boolean(T))throw new Error(P)}},6589:function(ct,C,v){"use strict";v.d(C,{X:function(){return P}});const d=10,T=2;function P(b){return I(b,[])}function I(b,p){switch(typeof b){case"string":return JSON.stringify(b);case"function":return b.name?`[function ${b.name}]`:"[function]";case"object":return O(b,p);default:return String(b)}}function O(b,p){if(b===null)return"null";if(p.includes(b))return"[Circular]";const m=[...p,b];if(A(b)){const x=b.toJSON();if(x!==b)return typeof x=="string"?x:I(x,m)}else if(Array.isArray(b))return S(b,m);return E(b,m)}function A(b){return typeof b.toJSON=="function"}function E(b,p){const m=Object.entries(b);if(m.length===0)return"{}";if(p.length>T)return"["+y(b)+"]";const x=m.map(([M,k])=>M+": "+I(k,p));return"{ "+x.join(", ")+" }"}function S(b,p){if(b.length===0)return"[]";if(p.length>T)return"[Array]";const m=Math.min(d,b.length),x=b.length-m,M=[];for(let k=0;k<m;++k)M.push(I(b[k],p));return x===1?M.push("... 1 more item"):x>1&&M.push(`... ${x} more items`),"["+M.join(", ")+"]"}function y(b){const p=Object.prototype.toString.call(b).replace(/^\[object /,"").replace(/]$/,"");if(p==="Object"&&typeof b.constructor=="function"){const m=b.constructor.name;if(typeof m=="string"&&m!=="")return m}return p}},2387:function(ct,C,v){"use strict";v.d(C,{Ye:function(){return d},WU:function(){return T},h8:function(){return P},UG:function(){return O},ku:function(){return A}});class d{constructor(S,y,b){this.start=S.start,this.end=y.end,this.startToken=S,this.endToken=y,this.source=b}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class T{constructor(S,y,b,p,m,x){this.kind=S,this.start=y,this.end=b,this.line=p,this.column=m,this.value=x,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const P={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},I=new Set(Object.keys(P));function O(E){const S=E==null?void 0:E.kind;return typeof S=="string"&&I.has(S)}let A;(function(E){E.QUERY="query",E.MUTATION="mutation",E.SUBSCRIPTION="subscription"})(A||(A={}))},7420:function(ct,C,v){"use strict";v.d(C,{wv:function(){return T},LZ:function(){return O}});var d=v(91022);function T(A){var E;let S=Number.MAX_SAFE_INTEGER,y=null,b=-1;for(let m=0;m<A.length;++m){var p;const x=A[m],M=P(x);M!==x.length&&(y=(p=y)!==null&&p!==void 0?p:m,b=m,m!==0&&M<S&&(S=M))}return A.map((m,x)=>x===0?m:m.slice(S)).slice((E=y)!==null&&E!==void 0?E:0,b+1)}function P(A){let E=0;for(;E<A.length&&(0,d.FD)(A.charCodeAt(E));)++E;return E}function I(A){if(A==="")return!0;let E=!0,S=!1,y=!0,b=!1;for(let p=0;p<A.length;++p)switch(A.codePointAt(p)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:return!1;case 13:return!1;case 10:if(E&&!b)return!1;b=!0,E=!0,S=!1;break;case 9:case 32:S||(S=E);break;default:y&&(y=S),E=!1}return!(E||y&&b)}function O(A,E){const S=A.replace(/"""/g,'\\"""'),y=S.split(/\r\n|[\n\r]/g),b=y.length===1,p=y.length>1&&y.slice(1).every(W=>W.length===0||(0,d.FD)(W.charCodeAt(0))),m=S.endsWith('\\"""'),x=A.endsWith('"')&&!m,M=A.endsWith("\\"),k=x||M,_=!(E!=null&&E.minimize)&&(!b||A.length>70||k||p||m);let B="";const z=b&&(0,d.FD)(A.charCodeAt(0));return(_&&!z||p)&&(B+=`
`),B+=S,(_||k)&&(B+=`
`),'"""'+B+'"""'}},91022:function(ct,C,v){"use strict";v.d(C,{FD:function(){return d},X1:function(){return T},LQ:function(){return I},HQ:function(){return O}});function d(A){return A===9||A===32}function T(A){return A>=48&&A<=57}function P(A){return A>=97&&A<=122||A>=65&&A<=90}function I(A){return P(A)||A===95}function O(A){return P(A)||T(A)||A===95}},6450:function(ct,C,v){"use strict";v.d(C,{h:function(){return d}});let d;(function(T){T.NAME="Name",T.DOCUMENT="Document",T.OPERATION_DEFINITION="OperationDefinition",T.VARIABLE_DEFINITION="VariableDefinition",T.SELECTION_SET="SelectionSet",T.FIELD="Field",T.ARGUMENT="Argument",T.FRAGMENT_SPREAD="FragmentSpread",T.INLINE_FRAGMENT="InlineFragment",T.FRAGMENT_DEFINITION="FragmentDefinition",T.VARIABLE="Variable",T.INT="IntValue",T.FLOAT="FloatValue",T.STRING="StringValue",T.BOOLEAN="BooleanValue",T.NULL="NullValue",T.ENUM="EnumValue",T.LIST="ListValue",T.OBJECT="ObjectValue",T.OBJECT_FIELD="ObjectField",T.DIRECTIVE="Directive",T.NAMED_TYPE="NamedType",T.LIST_TYPE="ListType",T.NON_NULL_TYPE="NonNullType",T.SCHEMA_DEFINITION="SchemaDefinition",T.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",T.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",T.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",T.FIELD_DEFINITION="FieldDefinition",T.INPUT_VALUE_DEFINITION="InputValueDefinition",T.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",T.UNION_TYPE_DEFINITION="UnionTypeDefinition",T.ENUM_TYPE_DEFINITION="EnumTypeDefinition",T.ENUM_VALUE_DEFINITION="EnumValueDefinition",T.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",T.DIRECTIVE_DEFINITION="DirectiveDefinition",T.SCHEMA_EXTENSION="SchemaExtension",T.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",T.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",T.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",T.UNION_TYPE_EXTENSION="UnionTypeExtension",T.ENUM_TYPE_EXTENSION="EnumTypeExtension",T.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(d||(d={}))},15707:function(ct,C,v){"use strict";v.d(C,{H:function(){return I},T:function(){return O}});var d=v(53767),T=v(6589);const P=function(E,S){return E instanceof S};class I{constructor(E,S="GraphQL request",y={line:1,column:1}){typeof E=="string"||(0,d.a)(!1,`Body must be a string. Received: ${(0,T.X)(E)}.`),this.body=E,this.name=S,this.locationOffset=y,this.locationOffset.line>0||(0,d.a)(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||(0,d.a)(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function O(A){return P(A,I)}},27636:function(ct,C,v){"use strict";v.d(C,{$_:function(){return O},Vn:function(){return A}});var d=v(53767),T=v(6589),P=v(2387),I=v(6450);const O=Object.freeze({});function A(b,p,m=P.h8){const x=new Map;for(const tt of Object.values(I.h))x.set(tt,S(p,tt));let M,k=Array.isArray(b),_=[b],B=-1,z=[],W=b,R,K;const ut=[],ot=[];do{B++;const tt=B===_.length,J=tt&&z.length!==0;if(tt){if(R=ot.length===0?void 0:ut[ut.length-1],W=K,K=ot.pop(),J)if(k){W=W.slice();let rt=0;for(const[St,wt]of z){const q=St-rt;wt===null?(W.splice(q,1),rt++):W[q]=wt}}else{W=Object.defineProperties({},Object.getOwnPropertyDescriptors(W));for(const[rt,St]of z)W[rt]=St}B=M.index,_=M.keys,z=M.edits,k=M.inArray,M=M.prev}else if(K){if(R=k?B:_[B],W=K[R],W==null)continue;ut.push(R)}let ft;if(!Array.isArray(W)){var dt,nt;(0,P.UG)(W)||(0,d.a)(!1,`Invalid AST Node: ${(0,T.X)(W)}.`);const rt=tt?(dt=x.get(W.kind))===null||dt===void 0?void 0:dt.leave:(nt=x.get(W.kind))===null||nt===void 0?void 0:nt.enter;if(ft=rt==null?void 0:rt.call(p,W,R,K,ut,ot),ft===O)break;if(ft===!1){if(!tt){ut.pop();continue}}else if(ft!==void 0&&(z.push([R,ft]),!tt))if((0,P.UG)(ft))W=ft;else{ut.pop();continue}}if(ft===void 0&&J&&z.push([R,W]),tt)ut.pop();else{var yt;M={inArray:k,index:B,keys:_,edits:z,prev:M},k=Array.isArray(W),_=k?W:(yt=m[W.kind])!==null&&yt!==void 0?yt:[],B=-1,z=[],K&&ot.push(K),K=W}}while(M!==void 0);return z.length!==0?z[z.length-1][1]:b}function E(b){const p=new Array(b.length).fill(null),m=Object.create(null);for(const x of Object.values(Kind)){let M=!1;const k=new Array(b.length).fill(void 0),_=new Array(b.length).fill(void 0);for(let z=0;z<b.length;++z){const{enter:W,leave:R}=S(b[z],x);M||(M=W!=null||R!=null),k[z]=W,_[z]=R}if(!M)continue;const B={enter(...z){const W=z[0];for(let K=0;K<b.length;K++)if(p[K]===null){var R;const ut=(R=k[K])===null||R===void 0?void 0:R.apply(b[K],z);if(ut===!1)p[K]=W;else if(ut===O)p[K]=O;else if(ut!==void 0)return ut}},leave(...z){const W=z[0];for(let K=0;K<b.length;K++)if(p[K]===null){var R;const ut=(R=_[K])===null||R===void 0?void 0:R.apply(b[K],z);if(ut===O)p[K]=O;else if(ut!==void 0&&ut!==!1)return ut}else p[K]===W&&(p[K]=null)}};m[x]=B}return m}function S(b,p){const m=b[p];return typeof m=="object"?m:typeof m=="function"?{enter:m,leave:void 0}:{enter:b.enter,leave:b.leave}}function y(b,p,m){const{enter:x,leave:M}=S(b,p);return m?M:x}},38186:function(ct){var C=[],v=[],d="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function T(I,O){if(O=O||{},I===void 0)throw new Error(d);var A=O.prepend===!0?"prepend":"append",E=O.container!==void 0?O.container:document.querySelector("head"),S=C.indexOf(E);S===-1&&(S=C.push(E)-1,v[S]={});var y;return v[S]!==void 0&&v[S][A]!==void 0?y=v[S][A]:(y=v[S][A]=P(),A==="prepend"?E.insertBefore(y,E.childNodes[0]):E.appendChild(y)),I.charCodeAt(0)===65279&&(I=I.substr(1,I.length)),y.styleSheet?y.styleSheet.cssText+=I:y.textContent+=I,y}function P(){var I=document.createElement("style");return I.setAttribute("type","text/css"),I}ct.exports=T,ct.exports.insertCss=T},96874:function(ct){function C(v,d,T){switch(T.length){case 0:return v.call(d);case 1:return v.call(d,T[0]);case 2:return v.call(d,T[0],T[1]);case 3:return v.call(d,T[0],T[1],T[2])}return v.apply(d,T)}ct.exports=C},44174:function(ct){function C(v,d,T,P){for(var I=-1,O=v==null?0:v.length;++I<O;){var A=v[I];d(P,A,T(A),v)}return P}ct.exports=C},77412:function(ct){function C(v,d){for(var T=-1,P=v==null?0:v.length;++T<P&&d(v[T],T,v)!==!1;);return v}ct.exports=C},47443:function(ct,C,v){var d=v(42118);function T(P,I){var O=P==null?0:P.length;return!!O&&d(P,I,0)>-1}ct.exports=T},1196:function(ct){function C(v,d,T){for(var P=-1,I=v==null?0:v.length;++P<I;)if(T(d,v[P]))return!0;return!1}ct.exports=C},62663:function(ct){function C(v,d,T,P){var I=-1,O=v==null?0:v.length;for(P&&O&&(T=v[++I]);++I<O;)T=d(T,v[I],I,v);return T}ct.exports=C},48983:function(ct,C,v){var d=v(40371),T=d("length");ct.exports=T},86556:function(ct,C,v){var d=v(89465),T=v(77813);function P(I,O,A){(A!==void 0&&!T(I[O],A)||A===void 0&&!(O in I))&&d(I,O,A)}ct.exports=P},34865:function(ct,C,v){var d=v(89465),T=v(77813),P=Object.prototype,I=P.hasOwnProperty;function O(A,E,S){var y=A[E];(!(I.call(A,E)&&T(y,S))||S===void 0&&!(E in A))&&d(A,E,S)}ct.exports=O},81119:function(ct,C,v){var d=v(89881);function T(P,I,O,A){return d(P,function(E,S,y){I(A,E,O(E),y)}),A}ct.exports=T},44037:function(ct,C,v){var d=v(98363),T=v(3674);function P(I,O){return I&&d(O,T(O),I)}ct.exports=P},63886:function(ct,C,v){var d=v(98363),T=v(81704);function P(I,O){return I&&d(O,T(O),I)}ct.exports=P},89465:function(ct,C,v){var d=v(38777);function T(P,I,O){I=="__proto__"&&d?d(P,I,{configurable:!0,enumerable:!0,value:O,writable:!0}):P[I]=O}ct.exports=T},85990:function(ct,C,v){var d=v(46384),T=v(77412),P=v(34865),I=v(44037),O=v(63886),A=v(64626),E=v(278),S=v(18805),y=v(1911),b=v(58234),p=v(46904),m=v(64160),x=v(43824),M=v(29148),k=v(38517),_=v(1469),B=v(78264),z=v(56688),W=v(13218),R=v(72928),K=v(3674),ut=v(81704),ot=1,dt=2,nt=4,yt="[object Arguments]",tt="[object Array]",J="[object Boolean]",ft="[object Date]",rt="[object Error]",St="[object Function]",wt="[object GeneratorFunction]",q="[object Map]",it="[object Number]",Q="[object Object]",f="[object RegExp]",vt="[object Set]",It="[object String]",Qt="[object Symbol]",Se="[object WeakMap]",$t="[object ArrayBuffer]",re="[object DataView]",he="[object Float32Array]",Me="[object Float64Array]",le="[object Int8Array]",Rt="[object Int16Array]",Ot="[object Int32Array]",At="[object Uint8Array]",Dt="[object Uint8ClampedArray]",j="[object Uint16Array]",$="[object Uint32Array]",et={};et[yt]=et[tt]=et[$t]=et[re]=et[J]=et[ft]=et[he]=et[Me]=et[le]=et[Rt]=et[Ot]=et[q]=et[it]=et[Q]=et[f]=et[vt]=et[It]=et[Qt]=et[At]=et[Dt]=et[j]=et[$]=!0,et[rt]=et[St]=et[Se]=!1;function Tt(Nt,Ut,Oe,He,Zt,be){var _e,Qe=Ut&ot,dr=Ut&dt,ur=Ut&nt;if(Oe&&(_e=Zt?Oe(Nt,He,Zt,be):Oe(Nt)),_e!==void 0)return _e;if(!W(Nt))return Nt;var Dr=_(Nt);if(Dr){if(_e=x(Nt),!Qe)return E(Nt,_e)}else{var ne=m(Nt),se=ne==St||ne==wt;if(B(Nt))return A(Nt,Qe);if(ne==Q||ne==yt||se&&!Zt){if(_e=dr||se?{}:k(Nt),!Qe)return dr?y(Nt,O(_e,Nt)):S(Nt,I(_e,Nt))}else{if(!et[ne])return Zt?Nt:{};_e=M(Nt,ne,Qe)}}be||(be=new d);var ye=be.get(Nt);if(ye)return ye;be.set(Nt,_e),R(Nt)?Nt.forEach(function(ae){_e.add(Tt(ae,Ut,Oe,ae,Nt,be))}):z(Nt)&&Nt.forEach(function(ae,Yt){_e.set(Yt,Tt(ae,Ut,Oe,Yt,Nt,be))});var We=ur?dr?p:b:dr?ut:K,De=Dr?void 0:We(Nt);return T(De||Nt,function(ae,Yt){De&&(Yt=ae,ae=Nt[Yt]),P(_e,Yt,Tt(ae,Ut,Oe,Yt,Nt,be))}),_e}ct.exports=Tt},3118:function(ct,C,v){var d=v(13218),T=Object.create,P=function(){function I(){}return function(O){if(!d(O))return{};if(T)return T(O);I.prototype=O;var A=new I;return I.prototype=void 0,A}}();ct.exports=P},56029:function(ct,C,v){var d=v(33448);function T(P,I,O){for(var A=-1,E=P.length;++A<E;){var S=P[A],y=I(S);if(y!=null&&(b===void 0?y===y&&!d(y):O(y,b)))var b=y,p=S}return p}ct.exports=T},80760:function(ct,C,v){var d=v(89881);function T(P,I){var O=[];return d(P,function(A,E,S){I(A,E,S)&&O.push(A)}),O}ct.exports=T},41848:function(ct){function C(v,d,T,P){for(var I=v.length,O=T+(P?1:-1);P?O--:++O<I;)if(d(v[O],O,v))return O;return-1}ct.exports=C},21078:function(ct,C,v){var d=v(62488),T=v(37285);function P(I,O,A,E,S){var y=-1,b=I.length;for(A||(A=T),S||(S=[]);++y<b;){var p=I[y];O>0&&A(p)?O>1?P(p,O-1,A,E,S):d(S,p):E||(S[S.length]=p)}return S}ct.exports=P},53325:function(ct){function C(v,d){return v>d}ct.exports=C},78565:function(ct){var C=Object.prototype,v=C.hasOwnProperty;function d(T,P){return T!=null&&v.call(T,P)}ct.exports=d},42118:function(ct,C,v){var d=v(41848),T=v(62722),P=v(42351);function I(O,A,E){return A===A?P(O,A,E):d(O,T,E)}ct.exports=I},25588:function(ct,C,v){var d=v(64160),T=v(37005),P="[object Map]";function I(O){return T(O)&&d(O)==P}ct.exports=I},62722:function(ct){function C(v){return v!==v}ct.exports=C},29221:function(ct,C,v){var d=v(64160),T=v(37005),P="[object Set]";function I(O){return T(O)&&d(O)==P}ct.exports=I},35014:function(ct,C,v){var d=v(13218),T=v(25726),P=v(33498),I=Object.prototype,O=I.hasOwnProperty;function A(E){if(!d(E))return P(E);var S=T(E),y=[];for(var b in E)b=="constructor"&&(S||!O.call(E,b))||y.push(b);return y}ct.exports=A},70433:function(ct){function C(v,d){return v<d}ct.exports=C},42980:function(ct,C,v){var d=v(46384),T=v(86556),P=v(28483),I=v(59783),O=v(13218),A=v(81704),E=v(36390);function S(y,b,p,m,x){y!==b&&P(b,function(M,k){if(x||(x=new d),O(M))I(y,b,k,p,S,m,x);else{var _=m?m(E(y,k),M,k+"",y,b,x):void 0;_===void 0&&(_=M),T(y,k,_)}},A)}ct.exports=S},59783:function(ct,C,v){var d=v(86556),T=v(64626),P=v(77133),I=v(278),O=v(38517),A=v(35694),E=v(1469),S=v(29246),y=v(78264),b=v(23560),p=v(13218),m=v(68630),x=v(36719),M=v(36390),k=v(59881);function _(B,z,W,R,K,ut,ot){var dt=M(B,W),nt=M(z,W),yt=ot.get(nt);if(yt){d(B,W,yt);return}var tt=ut?ut(dt,nt,W+"",B,z,ot):void 0,J=tt===void 0;if(J){var ft=E(nt),rt=!ft&&y(nt),St=!ft&&!rt&&x(nt);tt=nt,ft||rt||St?E(dt)?tt=dt:S(dt)?tt=I(dt):rt?(J=!1,tt=T(nt,!0)):St?(J=!1,tt=P(nt,!0)):tt=[]:m(nt)||A(nt)?(tt=dt,A(dt)?tt=k(dt):(!p(dt)||b(dt))&&(tt=O(nt))):J=!1}J&&(ot.set(nt,tt),K(tt,nt,R,ut,ot),ot.delete(nt)),d(B,W,tt)}ct.exports=_},82689:function(ct,C,v){var d=v(29932),T=v(97786),P=v(67206),I=v(69199),O=v(71131),A=v(7518),E=v(85022),S=v(6557),y=v(1469);function b(p,m,x){m.length?m=d(m,function(_){return y(_)?function(B){return T(B,_.length===1?_[0]:_)}:_}):m=[S];var M=-1;m=d(m,A(P));var k=I(p,function(_,B,z){var W=d(m,function(R){return R(_)});return{criteria:W,index:++M,value:_}});return O(k,function(_,B){return E(_,B,x)})}ct.exports=b},25970:function(ct,C,v){var d=v(63012),T=v(79095);function P(I,O){return d(I,O,function(A,E){return T(I,E)})}ct.exports=P},63012:function(ct,C,v){var d=v(97786),T=v(10611),P=v(71811);function I(O,A,E){for(var S=-1,y=A.length,b={};++S<y;){var p=A[S],m=d(O,p);E(m,p)&&T(b,P(p,O),m)}return b}ct.exports=I},40098:function(ct){var C=Math.ceil,v=Math.max;function d(T,P,I,O){for(var A=-1,E=v(C((P-T)/(I||1)),0),S=Array(E);E--;)S[O?E:++A]=T,T+=I;return S}ct.exports=d},10107:function(ct){function C(v,d,T,P,I){return I(v,function(O,A,E){T=P?(P=!1,O):d(T,O,A,E)}),T}ct.exports=C},5976:function(ct,C,v){var d=v(6557),T=v(45357),P=v(30061);function I(O,A){return P(T(O,A,d),O+"")}ct.exports=I},10611:function(ct,C,v){var d=v(34865),T=v(71811),P=v(65776),I=v(13218),O=v(40327);function A(E,S,y,b){if(!I(E))return E;S=T(S,E);for(var p=-1,m=S.length,x=m-1,M=E;M!=null&&++p<m;){var k=O(S[p]),_=y;if(k==="__proto__"||k==="constructor"||k==="prototype")return E;if(p!=x){var B=M[k];_=b?b(B,k,M):void 0,_===void 0&&(_=I(B)?B:P(S[p+1])?[]:{})}d(M,k,_),M=M[k]}return E}ct.exports=A},56560:function(ct,C,v){var d=v(75703),T=v(38777),P=v(6557),I=T?function(O,A){return T(O,"toString",{configurable:!0,enumerable:!1,value:d(A),writable:!0})}:P;ct.exports=I},71131:function(ct){function C(v,d){var T=v.length;for(v.sort(d);T--;)v[T]=v[T].value;return v}ct.exports=C},45652:function(ct,C,v){var d=v(88668),T=v(47443),P=v(1196),I=v(74757),O=v(23593),A=v(21814),E=200;function S(y,b,p){var m=-1,x=T,M=y.length,k=!0,_=[],B=_;if(p)k=!1,x=P;else if(M>=E){var z=b?null:O(y);if(z)return A(z);k=!1,x=I,B=new d}else B=b?[]:_;t:for(;++m<M;){var W=y[m],R=b?b(W):W;if(W=p||W!==0?W:0,k&&R===R){for(var K=B.length;K--;)if(B[K]===R)continue t;b&&B.push(R),_.push(W)}else x(B,R,p)||(B!==_&&B.push(R),_.push(W))}return _}ct.exports=S},47415:function(ct,C,v){var d=v(29932);function T(P,I){return d(I,function(O){return P[O]})}ct.exports=T},1757:function(ct){function C(v,d,T){for(var P=-1,I=v.length,O=d.length,A={};++P<I;){var E=P<O?d[P]:void 0;T(A,v[P],E)}return A}ct.exports=C},54290:function(ct,C,v){var d=v(6557);function T(P){return typeof P=="function"?P:d}ct.exports=T},74318:function(ct,C,v){var d=v(11149);function T(P){var I=new P.constructor(P.byteLength);return new d(I).set(new d(P)),I}ct.exports=T},64626:function(ct,C,v){ct=v.nmd(ct);var d=v(55639),T=C&&!C.nodeType&&C,P=T&&!0&&ct&&!ct.nodeType&&ct,I=P&&P.exports===T,O=I?d.Buffer:void 0,A=O?O.allocUnsafe:void 0;function E(S,y){if(y)return S.slice();var b=S.length,p=A?A(b):new S.constructor(b);return S.copy(p),p}ct.exports=E},57157:function(ct,C,v){var d=v(74318);function T(P,I){var O=I?d(P.buffer):P.buffer;return new P.constructor(O,P.byteOffset,P.byteLength)}ct.exports=T},93147:function(ct){var C=/\w*$/;function v(d){var T=new d.constructor(d.source,C.exec(d));return T.lastIndex=d.lastIndex,T}ct.exports=v},40419:function(ct,C,v){var d=v(62705),T=d?d.prototype:void 0,P=T?T.valueOf:void 0;function I(O){return P?Object(P.call(O)):{}}ct.exports=I},77133:function(ct,C,v){var d=v(74318);function T(P,I){var O=I?d(P.buffer):P.buffer;return new P.constructor(O,P.byteOffset,P.length)}ct.exports=T},26393:function(ct,C,v){var d=v(33448);function T(P,I){if(P!==I){var O=P!==void 0,A=P===null,E=P===P,S=d(P),y=I!==void 0,b=I===null,p=I===I,m=d(I);if(!b&&!m&&!S&&P>I||S&&y&&p&&!b&&!m||A&&y&&p||!O&&p||!E)return 1;if(!A&&!S&&!m&&P<I||m&&O&&E&&!A&&!S||b&&O&&E||!y&&E||!p)return-1}return 0}ct.exports=T},85022:function(ct,C,v){var d=v(26393);function T(P,I,O){for(var A=-1,E=P.criteria,S=I.criteria,y=E.length,b=O.length;++A<y;){var p=d(E[A],S[A]);if(p){if(A>=b)return p;var m=O[A];return p*(m=="desc"?-1:1)}}return P.index-I.index}ct.exports=T},278:function(ct){function C(v,d){var T=-1,P=v.length;for(d||(d=Array(P));++T<P;)d[T]=v[T];return d}ct.exports=C},98363:function(ct,C,v){var d=v(34865),T=v(89465);function P(I,O,A,E){var S=!A;A||(A={});for(var y=-1,b=O.length;++y<b;){var p=O[y],m=E?E(A[p],I[p],p,A,I):void 0;m===void 0&&(m=I[p]),S?T(A,p,m):d(A,p,m)}return A}ct.exports=P},18805:function(ct,C,v){var d=v(98363),T=v(99551);function P(I,O){return d(I,T(I),O)}ct.exports=P},1911:function(ct,C,v){var d=v(98363),T=v(51442);function P(I,O){return d(I,T(I),O)}ct.exports=P},55189:function(ct,C,v){var d=v(44174),T=v(81119),P=v(67206),I=v(1469);function O(A,E){return function(S,y){var b=I(S)?d:T,p=E?E():{};return b(S,A,P(y,2),p)}}ct.exports=O},21463:function(ct,C,v){var d=v(5976),T=v(16612);function P(I){return d(function(O,A){var E=-1,S=A.length,y=S>1?A[S-1]:void 0,b=S>2?A[2]:void 0;for(y=I.length>3&&typeof y=="function"?(S--,y):void 0,b&&T(A[0],A[1],b)&&(y=S<3?void 0:y,S=1),O=Object(O);++E<S;){var p=A[E];p&&I(O,p,E,y)}return O})}ct.exports=P},67740:function(ct,C,v){var d=v(67206),T=v(98612),P=v(3674);function I(O){return function(A,E,S){var y=Object(A);if(!T(A)){var b=d(E,3);A=P(A),E=function(m){return b(y[m],m,y)}}var p=O(A,E,S);return p>-1?y[b?A[p]:p]:void 0}}ct.exports=I},47445:function(ct,C,v){var d=v(40098),T=v(16612),P=v(18601);function I(O){return function(A,E,S){return S&&typeof S!="number"&&T(A,E,S)&&(E=S=void 0),A=P(A),E===void 0?(E=A,A=0):E=P(E),S=S===void 0?A<E?1:-1:P(S),d(A,E,S,O)}}ct.exports=I},23593:function(ct,C,v){var d=v(58525),T=v(50308),P=v(21814),I=1/0,O=d&&1/P(new d([,-0]))[1]==I?function(A){return new d(A)}:T;ct.exports=O},38777:function(ct,C,v){var d=v(10852),T=function(){try{var P=d(Object,"defineProperty");return P({},"",{}),P}catch(I){}}();ct.exports=T},99021:function(ct,C,v){var d=v(85564),T=v(45357),P=v(30061);function I(O){return P(T(O,void 0,d),O+"")}ct.exports=I},46904:function(ct,C,v){var d=v(68866),T=v(51442),P=v(81704);function I(O){return d(O,P,T)}ct.exports=I},85924:function(ct,C,v){var d=v(5569),T=d(Object.getPrototypeOf,Object);ct.exports=T},51442:function(ct,C,v){var d=v(62488),T=v(85924),P=v(99551),I=v(70479),O=Object.getOwnPropertySymbols,A=O?function(E){for(var S=[];E;)d(S,P(E)),E=T(E);return S}:I;ct.exports=A},62689:function(ct){var C="\\ud800-\\udfff",v="\\u0300-\\u036f",d="\\ufe20-\\ufe2f",T="\\u20d0-\\u20ff",P=v+d+T,I="\\ufe0e\\ufe0f",O="\\u200d",A=RegExp("["+O+C+P+I+"]");function E(S){return A.test(S)}ct.exports=E},43824:function(ct){var C=Object.prototype,v=C.hasOwnProperty;function d(T){var P=T.length,I=new T.constructor(P);return P&&typeof T[0]=="string"&&v.call(T,"index")&&(I.index=T.index,I.input=T.input),I}ct.exports=d},29148:function(ct,C,v){var d=v(74318),T=v(57157),P=v(93147),I=v(40419),O=v(77133),A="[object Boolean]",E="[object Date]",S="[object Map]",y="[object Number]",b="[object RegExp]",p="[object Set]",m="[object String]",x="[object Symbol]",M="[object ArrayBuffer]",k="[object DataView]",_="[object Float32Array]",B="[object Float64Array]",z="[object Int8Array]",W="[object Int16Array]",R="[object Int32Array]",K="[object Uint8Array]",ut="[object Uint8ClampedArray]",ot="[object Uint16Array]",dt="[object Uint32Array]";function nt(yt,tt,J){var ft=yt.constructor;switch(tt){case M:return d(yt);case A:case E:return new ft(+yt);case k:return T(yt,J);case _:case B:case z:case W:case R:case K:case ut:case ot:case dt:return O(yt,J);case S:return new ft;case y:case m:return new ft(yt);case b:return P(yt);case p:return new ft;case x:return I(yt)}}ct.exports=nt},38517:function(ct,C,v){var d=v(3118),T=v(85924),P=v(25726);function I(O){return typeof O.constructor=="function"&&!P(O)?d(T(O)):{}}ct.exports=I},37285:function(ct,C,v){var d=v(62705),T=v(35694),P=v(1469),I=d?d.isConcatSpreadable:void 0;function O(A){return P(A)||T(A)||!!(I&&A&&A[I])}ct.exports=O},16612:function(ct,C,v){var d=v(77813),T=v(98612),P=v(65776),I=v(13218);function O(A,E,S){if(!I(S))return!1;var y=typeof E;return(y=="number"?T(S)&&P(E,S.length):y=="string"&&E in S)?d(S[E],A):!1}ct.exports=O},33498:function(ct){function C(v){var d=[];if(v!=null)for(var T in Object(v))d.push(T);return d}ct.exports=C},45357:function(ct,C,v){var d=v(96874),T=Math.max;function P(I,O,A){return O=T(O===void 0?I.length-1:O,0),function(){for(var E=arguments,S=-1,y=T(E.length-O,0),b=Array(y);++S<y;)b[S]=E[O+S];S=-1;for(var p=Array(O+1);++S<O;)p[S]=E[S];return p[O]=A(b),d(I,this,p)}}ct.exports=P},36390:function(ct){function C(v,d){if(!(d==="constructor"&&typeof v[d]=="function")&&d!="__proto__")return v[d]}ct.exports=C},30061:function(ct,C,v){var d=v(56560),T=v(21275),P=T(d);ct.exports=P},21275:function(ct){var C=800,v=16,d=Date.now;function T(P){var I=0,O=0;return function(){var A=d(),E=v-(A-O);if(O=A,E>0){if(++I>=C)return arguments[0]}else I=0;return P.apply(void 0,arguments)}}ct.exports=T},42351:function(ct){function C(v,d,T){for(var P=T-1,I=v.length;++P<I;)if(v[P]===d)return P;return-1}ct.exports=C},88016:function(ct,C,v){var d=v(48983),T=v(62689),P=v(21903);function I(O){return T(O)?P(O):d(O)}ct.exports=I},21903:function(ct){var C="\\ud800-\\udfff",v="\\u0300-\\u036f",d="\\ufe20-\\ufe2f",T="\\u20d0-\\u20ff",P=v+d+T,I="\\ufe0e\\ufe0f",O="["+C+"]",A="["+P+"]",E="\\ud83c[\\udffb-\\udfff]",S="(?:"+A+"|"+E+")",y="[^"+C+"]",b="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",x=S+"?",M="["+I+"]?",k="(?:"+m+"(?:"+[y,b,p].join("|")+")"+M+x+")*",_=M+x+k,B="(?:"+[y+A+"?",A,b,p,O].join("|")+")",z=RegExp(E+"(?="+E+")|"+B+_,"g");function W(R){for(var K=z.lastIndex=0;z.test(R);)++K;return K}ct.exports=W},66678:function(ct,C,v){var d=v(85990),T=4;function P(I){return d(I,T)}ct.exports=P},50361:function(ct,C,v){var d=v(85990),T=1,P=4;function I(O){return d(O,T|P)}ct.exports=I},39693:function(ct){function C(v){for(var d=-1,T=v==null?0:v.length,P=0,I=[];++d<T;){var O=v[d];O&&(I[P++]=O)}return I}ct.exports=C},75703:function(ct){function C(v){return function(){return v}}ct.exports=C},91747:function(ct,C,v){var d=v(5976),T=v(77813),P=v(16612),I=v(81704),O=Object.prototype,A=O.hasOwnProperty,E=d(function(S,y){S=Object(S);var b=-1,p=y.length,m=p>2?y[2]:void 0;for(m&&P(y[0],y[1],m)&&(p=1);++b<p;)for(var x=y[b],M=I(x),k=-1,_=M.length;++k<_;){var B=M[k],z=S[B];(z===void 0||T(z,O[B])&&!A.call(S,B))&&(S[B]=x[B])}return S});ct.exports=E},66073:function(ct,C,v){ct.exports=v(84486)},63105:function(ct,C,v){var d=v(34963),T=v(80760),P=v(67206),I=v(1469);function O(A,E){var S=I(A)?d:T;return S(A,P(E,3))}ct.exports=O},13311:function(ct,C,v){var d=v(67740),T=v(30998),P=d(T);ct.exports=P},30998:function(ct,C,v){var d=v(41848),T=v(67206),P=v(40554),I=Math.max;function O(A,E,S){var y=A==null?0:A.length;if(!y)return-1;var b=S==null?0:P(S);return b<0&&(b=I(y+b,0)),d(A,T(E,3),b)}ct.exports=O},85564:function(ct,C,v){var d=v(21078);function T(P){var I=P==null?0:P.length;return I?d(P,1):[]}ct.exports=T},84486:function(ct,C,v){var d=v(77412),T=v(89881),P=v(54290),I=v(1469);function O(A,E){var S=I(A)?d:T;return S(A,P(E))}ct.exports=O},62620:function(ct,C,v){var d=v(28483),T=v(54290),P=v(81704);function I(O,A){return O==null?O:d(O,T(A),P)}ct.exports=I},7739:function(ct,C,v){var d=v(89465),T=v(55189),P=Object.prototype,I=P.hasOwnProperty,O=T(function(A,E,S){I.call(A,S)?A[S].push(E):d(A,S,[E])});ct.exports=O},18721:function(ct,C,v){var d=v(78565),T=v(222);function P(I,O){return I!=null&&T(I,O,d)}ct.exports=P},29246:function(ct,C,v){var d=v(98612),T=v(37005);function P(I){return T(I)&&d(I)}ct.exports=P},56688:function(ct,C,v){var d=v(25588),T=v(7518),P=v(31167),I=P&&P.isMap,O=I?T(I):d;ct.exports=O},7654:function(ct,C,v){var d=v(81763);function T(P){return d(P)&&P!=+P}ct.exports=T},14293:function(ct){function C(v){return v==null}ct.exports=C},81763:function(ct,C,v){var d=v(44239),T=v(37005),P="[object Number]";function I(O){return typeof O=="number"||T(O)&&d(O)==P}ct.exports=I},68630:function(ct,C,v){var d=v(44239),T=v(85924),P=v(37005),I="[object Object]",O=Function.prototype,A=Object.prototype,E=O.toString,S=A.hasOwnProperty,y=E.call(Object);function b(p){if(!P(p)||d(p)!=I)return!1;var m=T(p);if(m===null)return!0;var x=S.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&E.call(x)==y}ct.exports=b},72928:function(ct,C,v){var d=v(29221),T=v(7518),P=v(31167),I=P&&P.isSet,O=I?T(I):d;ct.exports=O},52353:function(ct){function C(v){return v===void 0}ct.exports=C},81704:function(ct,C,v){var d=v(14636),T=v(35014),P=v(98612);function I(O){return P(O)?d(O,!0):T(O)}ct.exports=I},66604:function(ct,C,v){var d=v(89465),T=v(47816),P=v(67206);function I(O,A){var E={};return A=P(A,3),T(O,function(S,y,b){d(E,y,A(S,y,b))}),E}ct.exports=I},6162:function(ct,C,v){var d=v(56029),T=v(53325),P=v(6557);function I(O){return O&&O.length?d(O,P,T):void 0}ct.exports=I},82492:function(ct,C,v){var d=v(42980),T=v(21463),P=T(function(I,O,A){d(I,O,A)});ct.exports=P},53632:function(ct,C,v){var d=v(56029),T=v(70433),P=v(6557);function I(O){return O&&O.length?d(O,P,T):void 0}ct.exports=I},22762:function(ct,C,v){var d=v(56029),T=v(67206),P=v(70433);function I(O,A){return O&&O.length?d(O,T(A,2),P):void 0}ct.exports=I},78718:function(ct,C,v){var d=v(25970),T=v(99021),P=T(function(I,O){return I==null?{}:d(I,O)});ct.exports=P},96026:function(ct,C,v){var d=v(47445),T=d();ct.exports=T},54061:function(ct,C,v){var d=v(62663),T=v(89881),P=v(67206),I=v(10107),O=v(1469);function A(E,S,y){var b=O(E)?d:I,p=arguments.length<3;return b(E,P(S,4),y,p,T)}ct.exports=A},31351:function(ct){var C=Array.prototype,v=C.reverse;function d(T){return T==null?T:v.call(T)}ct.exports=d},84238:function(ct,C,v){var d=v(280),T=v(64160),P=v(98612),I=v(47037),O=v(88016),A="[object Map]",E="[object Set]";function S(y){if(y==null)return 0;if(P(y))return I(y)?O(y):y.length;var b=T(y);return b==A||b==E?y.size:d(y).length}ct.exports=S},89734:function(ct,C,v){var d=v(21078),T=v(82689),P=v(5976),I=v(16612),O=P(function(A,E){if(A==null)return[];var S=E.length;return S>1&&I(A,E[0],E[1])?E=[]:S>2&&I(E[0],E[1],E[2])&&(E=[E[0]]),T(A,d(E,1),[])});ct.exports=O},18601:function(ct,C,v){var d=v(14841),T=1/0,P=17976931348623157e292;function I(O){if(!O)return O===0?O:0;if(O=d(O),O===T||O===-T){var A=O<0?-1:1;return A*P}return O===O?O:0}ct.exports=I},40554:function(ct,C,v){var d=v(18601);function T(P){var I=d(P),O=I%1;return I===I?O?I-O:I:0}ct.exports=T},59881:function(ct,C,v){var d=v(98363),T=v(81704);function P(I){return d(I,T(I))}ct.exports=P},68718:function(ct,C,v){var d=v(77412),T=v(3118),P=v(47816),I=v(67206),O=v(85924),A=v(1469),E=v(78264),S=v(23560),y=v(13218),b=v(36719);function p(m,x,M){var k=A(m),_=k||E(m)||b(m);if(x=I(x,4),M==null){var B=m&&m.constructor;_?M=k?new B:[]:y(m)?M=S(B)?T(O(m)):{}:M={}}return(_?d:P)(m,function(z,W,R){return x(M,z,W,R)}),M}ct.exports=p},93386:function(ct,C,v){var d=v(21078),T=v(5976),P=v(45652),I=v(29246),O=T(function(A){return P(d(A,1,I,!0))});ct.exports=O},73955:function(ct,C,v){var d=v(79833),T=0;function P(I){var O=++T;return d(I)+O}ct.exports=P},52628:function(ct,C,v){var d=v(47415),T=v(3674);function P(I){return I==null?[]:d(I,T(I))}ct.exports=P},7287:function(ct,C,v){var d=v(34865),T=v(1757);function P(I,O){return T(I||[],O||[],d)}ct.exports=P},92077:function(ct,C,v){var d,T;/*! @preserve
* numeral.js
* version : 2.0.6
* author : Adam Draper
* license : MIT
* http://adamwdraper.github.com/Numeral-js/
*/(function(P,I){d=I,T=typeof d=="function"?d.call(C,v,C,ct):d,T!==void 0&&(ct.exports=T)})(this,function(){var P,I,O="2.0.6",A={},E={},S={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},y={currentLocale:S.currentLocale,zeroFormat:S.zeroFormat,nullFormat:S.nullFormat,defaultFormat:S.defaultFormat,scalePercentBy100:S.scalePercentBy100};function b(p,m){this._input=p,this._value=m}return P=function(p){var m,x,M,k;if(P.isNumeral(p))m=p.value();else if(p===0||typeof p=="undefined")m=0;else if(p===null||I.isNaN(p))m=null;else if(typeof p=="string")if(y.zeroFormat&&p===y.zeroFormat)m=0;else if(y.nullFormat&&p===y.nullFormat||!p.replace(/[^0-9]+/g,"").length)m=null;else{for(x in A)if(k=typeof A[x].regexps.unformat=="function"?A[x].regexps.unformat():A[x].regexps.unformat,k&&p.match(k)){M=A[x].unformat;break}M=M||P._.stringToNumber,m=M(p)}else m=Number(p)||null;return new b(p,m)},P.version=O,P.isNumeral=function(p){return p instanceof b},P._=I={numberToFormat:function(p,m,x){var M=E[P.options.currentLocale],k=!1,_=!1,B=0,z="",W=1e12,R=1e9,K=1e6,ut=1e3,ot="",dt=!1,nt,yt,tt,J,ft,rt,St,wt,q,it;if(p=p||0,yt=Math.abs(p),P._.includes(m,"(")?(k=!0,m=m.replace(/[\(|\)]/g,"")):(P._.includes(m,"+")||P._.includes(m,"-"))&&(wt=P._.includes(m,"+")?m.indexOf("+"):p<0?m.indexOf("-"):-1,m=m.replace(/[\+|\-]/g,"")),P._.includes(m,"a")&&(nt=m.match(/a(k|m|b|t)?/),nt=nt?nt[1]:!1,P._.includes(m," a")&&(z=" "),m=m.replace(new RegExp(z+"a[kmbt]?"),""),yt>=W&&!nt||nt==="t"?(z+=M.abbreviations.trillion,p=p/W):yt<W&&yt>=R&&!nt||nt==="b"?(z+=M.abbreviations.billion,p=p/R):yt<R&&yt>=K&&!nt||nt==="m"?(z+=M.abbreviations.million,p=p/K):(yt<K&&yt>=ut&&!nt||nt==="k")&&(z+=M.abbreviations.thousand,p=p/ut)),P._.includes(m,"[.]")&&(_=!0,m=m.replace("[.]",".")),rt=p.toString().split(".")[0],St=m.split(".")[1],q=m.indexOf(","),B=(m.split(".")[0].split(",")[0].match(/0/g)||[]).length,St?(P._.includes(St,"[")?(St=St.replace("]",""),St=St.split("["),ot=P._.toFixed(p,St[0].length+St[1].length,x,St[1].length)):ot=P._.toFixed(p,St.length,x),rt=ot.split(".")[0],P._.includes(ot,".")?ot=M.delimiters.decimal+ot.split(".")[1]:ot="",_&&Number(ot.slice(1))===0&&(ot="")):rt=P._.toFixed(p,0,x),z&&!nt&&Number(rt)>=1e3&&z!==M.abbreviations.trillion)switch(rt=String(Number(rt)/1e3),z){case M.abbreviations.thousand:z=M.abbreviations.million;break;case M.abbreviations.million:z=M.abbreviations.billion;break;case M.abbreviations.billion:z=M.abbreviations.trillion;break}if(P._.includes(rt,"-")&&(rt=rt.slice(1),dt=!0),rt.length<B)for(var Q=B-rt.length;Q>0;Q--)rt="0"+rt;return q>-1&&(rt=rt.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+M.delimiters.thousands)),m.indexOf(".")===0&&(rt=""),it=rt+ot+(z||""),k?it=(k&&dt?"(":"")+it+(k&&dt?")":""):wt>=0?it=wt===0?(dt?"-":"+")+it:it+(dt?"-":"+"):dt&&(it="-"+it),it},stringToNumber:function(p){var m=E[y.currentLocale],x=p,M={thousand:3,million:6,billion:9,trillion:12},k,_,B,z;if(y.zeroFormat&&p===y.zeroFormat)_=0;else if(y.nullFormat&&p===y.nullFormat||!p.replace(/[^0-9]+/g,"").length)_=null;else{_=1,m.delimiters.decimal!=="."&&(p=p.replace(/\./g,"").replace(m.delimiters.decimal,"."));for(k in M)if(z=new RegExp("[^a-zA-Z]"+m.abbreviations[k]+"(?:\\)|(\\"+m.currency.symbol+")?(?:\\))?)?$"),x.match(z)){_*=Math.pow(10,M[k]);break}_*=(p.split("-").length+Math.min(p.split("(").length-1,p.split(")").length-1))%2?1:-1,p=p.replace(/[^0-9\.]+/g,""),_*=Number(p)}return _},isNaN:function(p){return typeof p=="number"&&isNaN(p)},includes:function(p,m){return p.indexOf(m)!==-1},insert:function(p,m,x){return p.slice(0,x)+m+p.slice(x)},reduce:function(p,m){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof m!="function")throw new TypeError(m+" is not a function");var x=Object(p),M=x.length>>>0,k=0,_;if(arguments.length===3)_=arguments[2];else{for(;k<M&&!(k in x);)k++;if(k>=M)throw new TypeError("Reduce of empty array with no initial value");_=x[k++]}for(;k<M;k++)k in x&&(_=m(_,x[k],k,x));return _},multiplier:function(p){var m=p.toString().split(".");return m.length<2?1:Math.pow(10,m[1].length)},correctionFactor:function(){var p=Array.prototype.slice.call(arguments);return p.reduce(function(m,x){var M=I.multiplier(x);return m>M?m:M},1)},toFixed:function(p,m,x,M){var k=p.toString().split("."),_=m-(M||0),B,z,W,R;return k.length===2?B=Math.min(Math.max(k[1].length,_),m):B=_,W=Math.pow(10,B),R=(x(p+"e+"+B)/W).toFixed(B),M>m-B&&(z=new RegExp("\\.?0{1,"+(M-(m-B))+"}$"),R=R.replace(z,"")),R}},P.options=y,P.formats=A,P.locales=E,P.locale=function(p){return p&&(y.currentLocale=p.toLowerCase()),y.currentLocale},P.localeData=function(p){if(!p)return E[y.currentLocale];if(p=p.toLowerCase(),!E[p])throw new Error("Unknown locale : "+p);return E[p]},P.reset=function(){for(var p in S)y[p]=S[p]},P.zeroFormat=function(p){y.zeroFormat=typeof p=="string"?p:null},P.nullFormat=function(p){y.nullFormat=typeof p=="string"?p:null},P.defaultFormat=function(p){y.defaultFormat=typeof p=="string"?p:"0.0"},P.register=function(p,m,x){if(m=m.toLowerCase(),this[p+"s"][m])throw new TypeError(m+" "+p+" already registered.");return this[p+"s"][m]=x,x},P.validate=function(p,m){var x,M,k,_,B,z,W,R;if(typeof p!="string"&&(p+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",p)),p=p.trim(),p.match(/^\d+$/))return!0;if(p==="")return!1;try{W=P.localeData(m)}catch(K){W=P.localeData(P.locale())}return k=W.currency.symbol,B=W.abbreviations,x=W.delimiters.decimal,W.delimiters.thousands==="."?M="\\.":M=W.delimiters.thousands,R=p.match(/^[^\d]+/),R!==null&&(p=p.substr(1),R[0]!==k)||(R=p.match(/[^\d]+$/),R!==null&&(p=p.slice(0,-1),R[0]!==B.thousand&&R[0]!==B.million&&R[0]!==B.billion&&R[0]!==B.trillion))?!1:(z=new RegExp(M+"{2}"),p.match(/[^\d.,]/g)?!1:(_=p.split(x),_.length>2?!1:_.length<2?!!_[0].match(/^\d+.*\d$/)&&!_[0].match(z):_[0].length===1?!!_[0].match(/^\d+$/)&&!_[0].match(z)&&!!_[1].match(/^\d+$/):!!_[0].match(/^\d+.*\d$/)&&!_[0].match(z)&&!!_[1].match(/^\d+$/)))},P.fn=b.prototype={clone:function(){return P(this)},format:function(p,m){var x=this._value,M=p||y.defaultFormat,k,_,B;if(m=m||Math.round,x===0&&y.zeroFormat!==null)_=y.zeroFormat;else if(x===null&&y.nullFormat!==null)_=y.nullFormat;else{for(k in A)if(M.match(A[k].regexps.format)){B=A[k].format;break}B=B||P._.numberToFormat,_=B(x,M,m)}return _},value:function(){return this._value},input:function(){return this._input},set:function(p){return this._value=Number(p),this},add:function(p){var m=I.correctionFactor.call(null,this._value,p);function x(M,k,_,B){return M+Math.round(m*k)}return this._value=I.reduce([this._value,p],x,0)/m,this},subtract:function(p){var m=I.correctionFactor.call(null,this._value,p);function x(M,k,_,B){return M-Math.round(m*k)}return this._value=I.reduce([p],x,Math.round(this._value*m))/m,this},multiply:function(p){function m(x,M,k,_){var B=I.correctionFactor(x,M);return Math.round(x*B)*Math.round(M*B)/Math.round(B*B)}return this._value=I.reduce([this._value,p],m,1),this},divide:function(p){function m(x,M,k,_){var B=I.correctionFactor(x,M);return Math.round(x*B)/Math.round(M*B)}return this._value=I.reduce([this._value,p],m),this},difference:function(p){return Math.abs(P(this._value).subtract(p).value())}},P.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(p){var m=p%10;return~~(p%100/10)==1?"th":m===1?"st":m===2?"nd":m===3?"rd":"th"},currency:{symbol:"$"}}),function(){P.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(p,m,x){var M=P._.includes(m," BPS")?" ":"",k;return p=p*1e4,m=m.replace(/\s?BPS/,""),k=P._.numberToFormat(p,m,x),P._.includes(k,")")?(k=k.split(""),k.splice(-1,0,M+"BPS"),k=k.join("")):k=k+M+"BPS",k},unformat:function(p){return+(P._.stringToNumber(p)*1e-4).toFixed(15)}})}(),function(){var p={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},m={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},x=p.suffixes.concat(m.suffixes.filter(function(k){return p.suffixes.indexOf(k)<0})),M=x.join("|");M="("+M.replace("B","B(?!PS)")+")",P.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(M)},format:function(k,_,B){var z,W=P._.includes(_,"ib")?m:p,R=P._.includes(_," b")||P._.includes(_," ib")?" ":"",K,ut,ot;for(_=_.replace(/\s?i?b/,""),K=0;K<=W.suffixes.length;K++)if(ut=Math.pow(W.base,K),ot=Math.pow(W.base,K+1),k===null||k===0||k>=ut&&k<ot){R+=W.suffixes[K],ut>0&&(k=k/ut);break}return z=P._.numberToFormat(k,_,B),z+R},unformat:function(k){var _=P._.stringToNumber(k),B,z;if(_){for(B=p.suffixes.length-1;B>=0;B--){if(P._.includes(k,p.suffixes[B])){z=Math.pow(p.base,B);break}if(P._.includes(k,m.suffixes[B])){z=Math.pow(m.base,B);break}}_*=z||1}return _}})}(),function(){P.register("format","currency",{regexps:{format:/(\$)/},format:function(p,m,x){var M=P.locales[P.options.currentLocale],k={before:m.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:m.match(/([\+|\-|\)|\s|\$]*)$/)[0]},_,B,z;for(m=m.replace(/\s?\$\s?/,""),_=P._.numberToFormat(p,m,x),p>=0?(k.before=k.before.replace(/[\-\(]/,""),k.after=k.after.replace(/[\-\)]/,"")):p<0&&!P._.includes(k.before,"-")&&!P._.includes(k.before,"(")&&(k.before="-"+k.before),z=0;z<k.before.length;z++)switch(B=k.before[z],B){case"$":_=P._.insert(_,M.currency.symbol,z);break;case" ":_=P._.insert(_," ",z+M.currency.symbol.length-1);break}for(z=k.after.length-1;z>=0;z--)switch(B=k.after[z],B){case"$":_=z===k.after.length-1?_+M.currency.symbol:P._.insert(_,M.currency.symbol,-(k.after.length-(1+z)));break;case" ":_=z===k.after.length-1?_+" ":P._.insert(_," ",-(k.after.length-(1+z)+M.currency.symbol.length-1));break}return _}})}(),function(){P.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(p,m,x){var M,k=typeof p=="number"&&!P._.isNaN(p)?p.toExponential():"0e+0",_=k.split("e");return m=m.replace(/e[\+|\-]{1}0/,""),M=P._.numberToFormat(Number(_[0]),m,x),M+"e"+_[1]},unformat:function(p){var m=P._.includes(p,"e+")?p.split("e+"):p.split("e-"),x=Number(m[0]),M=Number(m[1]);M=P._.includes(p,"e-")?M*=-1:M;function k(_,B,z,W){var R=P._.correctionFactor(_,B),K=_*R*(B*R)/(R*R);return K}return P._.reduce([x,Math.pow(10,M)],k,1)}})}(),function(){P.register("format","ordinal",{regexps:{format:/(o)/},format:function(p,m,x){var M=P.locales[P.options.currentLocale],k,_=P._.includes(m," o")?" ":"";return m=m.replace(/\s?o/,""),_+=M.ordinal(p),k=P._.numberToFormat(p,m,x),k+_}})}(),function(){P.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(p,m,x){var M=P._.includes(m," %")?" ":"",k;return P.options.scalePercentBy100&&(p=p*100),m=m.replace(/\s?\%/,""),k=P._.numberToFormat(p,m,x),P._.includes(k,")")?(k=k.split(""),k.splice(-1,0,M+"%"),k=k.join("")):k=k+M+"%",k},unformat:function(p){var m=P._.stringToNumber(p);return P.options.scalePercentBy100?m*.01:m}})}(),function(){P.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(p,m,x){var M=Math.floor(p/60/60),k=Math.floor((p-M*60*60)/60),_=Math.round(p-M*60*60-k*60);return M+":"+(k<10?"0"+k:k)+":"+(_<10?"0"+_:_)},unformat:function(p){var m=p.split(":"),x=0;return m.length===3?(x=x+Number(m[0])*60*60,x=x+Number(m[1])*60,x=x+Number(m[2])):m.length===2&&(x=x+Number(m[0])*60,x=x+Number(m[1])),Number(x)}})}(),P})},60507:function(ct,C,v){"use strict";v.d(C,{dP:function(){return wt},re:function(){return f}});var d=v(657),T=v(38751);function P(){}var I=function(){function vt(It,Qt){It===void 0&&(It=Infinity),Qt===void 0&&(Qt=P),this.max=It,this.dispose=Qt,this.map=new Map,this.newest=null,this.oldest=null}return vt.prototype.has=function(It){return this.map.has(It)},vt.prototype.get=function(It){var Qt=this.getNode(It);return Qt&&Qt.value},vt.prototype.getNode=function(It){var Qt=this.map.get(It);if(Qt&&Qt!==this.newest){var Se=Qt.older,$t=Qt.newer;$t&&($t.older=Se),Se&&(Se.newer=$t),Qt.older=this.newest,Qt.older.newer=Qt,Qt.newer=null,this.newest=Qt,Qt===this.oldest&&(this.oldest=$t)}return Qt},vt.prototype.set=function(It,Qt){var Se=this.getNode(It);return Se?Se.value=Qt:(Se={key:It,value:Qt,newer:null,older:this.newest},this.newest&&(this.newest.newer=Se),this.newest=Se,this.oldest=this.oldest||Se,this.map.set(It,Se),Se.value)},vt.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},vt.prototype.delete=function(It){var Qt=this.map.get(It);return Qt?(Qt===this.newest&&(this.newest=Qt.older),Qt===this.oldest&&(this.oldest=Qt.newer),Qt.newer&&(Qt.newer.older=Qt.older),Qt.older&&(Qt.older.newer=Qt.newer),this.map.delete(It),this.dispose(Qt.value,It),!0):!1},vt}(),O=new T.g7,A,E=Object.prototype.hasOwnProperty,S=(A=Array.from,A===void 0?function(vt){var It=[];return vt.forEach(function(Qt){return It.push(Qt)}),It}:A);function y(vt){var It=vt.unsubscribe;typeof It=="function"&&(vt.unsubscribe=void 0,It())}var b=[],p=100;function m(vt,It){if(!vt)throw new Error(It||"assertion failure")}function x(vt,It){var Qt=vt.length;return Qt>0&&Qt===It.length&&vt[Qt-1]===It[Qt-1]}function M(vt){switch(vt.length){case 0:throw new Error("unknown value");case 1:return vt[0];case 2:throw vt[1]}}function k(vt){return vt.slice(0)}var _=function(){function vt(It){this.fn=It,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++vt.count}return vt.prototype.peek=function(){if(this.value.length===1&&!R(this))return B(this),this.value[0]},vt.prototype.recompute=function(It){return m(!this.recomputing,"already recomputing"),B(this),R(this)?z(this,It):M(this.value)},vt.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,ut(this),y(this))},vt.prototype.dispose=function(){var It=this;this.setDirty(),J(this),dt(this,function(Qt,Se){Qt.setDirty(),ft(Qt,It)})},vt.prototype.forget=function(){this.dispose()},vt.prototype.dependOn=function(It){It.add(this),this.deps||(this.deps=b.pop()||new Set),this.deps.add(It)},vt.prototype.forgetDeps=function(){var It=this;this.deps&&(S(this.deps).forEach(function(Qt){return Qt.delete(It)}),this.deps.clear(),b.push(this.deps),this.deps=null)},vt.count=0,vt}();function B(vt){var It=O.getValue();if(It)return vt.parents.add(It),It.childValues.has(vt)||It.childValues.set(vt,[]),R(vt)?nt(It,vt):yt(It,vt),It}function z(vt,It){return J(vt),O.withValue(vt,W,[vt,It]),rt(vt,It)&&K(vt),M(vt.value)}function W(vt,It){vt.recomputing=!0,vt.value.length=0;try{vt.value[0]=vt.fn.apply(null,It)}catch(Qt){vt.value[1]=Qt}vt.recomputing=!1}function R(vt){return vt.dirty||!!(vt.dirtyChildren&&vt.dirtyChildren.size)}function K(vt){vt.dirty=!1,!R(vt)&&ot(vt)}function ut(vt){dt(vt,nt)}function ot(vt){dt(vt,yt)}function dt(vt,It){var Qt=vt.parents.size;if(Qt)for(var Se=S(vt.parents),$t=0;$t<Qt;++$t)It(Se[$t],vt)}function nt(vt,It){m(vt.childValues.has(It)),m(R(It));var Qt=!R(vt);if(!vt.dirtyChildren)vt.dirtyChildren=b.pop()||new Set;else if(vt.dirtyChildren.has(It))return;vt.dirtyChildren.add(It),Qt&&ut(vt)}function yt(vt,It){m(vt.childValues.has(It)),m(!R(It));var Qt=vt.childValues.get(It);Qt.length===0?vt.childValues.set(It,k(It.value)):x(Qt,It.value)||vt.setDirty(),tt(vt,It),!R(vt)&&ot(vt)}function tt(vt,It){var Qt=vt.dirtyChildren;Qt&&(Qt.delete(It),Qt.size===0&&(b.length<p&&b.push(Qt),vt.dirtyChildren=null))}function J(vt){vt.childValues.size>0&&vt.childValues.forEach(function(It,Qt){ft(vt,Qt)}),vt.forgetDeps(),m(vt.dirtyChildren===null)}function ft(vt,It){It.parents.delete(vt),vt.childValues.delete(It),tt(vt,It)}function rt(vt,It){if(typeof vt.subscribe=="function")try{y(vt),vt.unsubscribe=vt.subscribe.apply(null,It)}catch(Qt){return vt.setDirty(),!1}return!0}var St={setDirty:!0,dispose:!0,forget:!0};function wt(vt){var It=new Map,Qt=vt&&vt.subscribe;function Se($t){var re=O.getValue();if(re){var he=It.get($t);he||It.set($t,he=new Set),re.dependOn(he),typeof Qt=="function"&&(y(he),he.unsubscribe=Qt($t))}}return Se.dirty=function(re,he){var Me=It.get(re);if(Me){var le=he&&E.call(St,he)?he:"setDirty";S(Me).forEach(function(Rt){return Rt[le]()}),It.delete(re),y(Me)}},Se}function q(){var vt=new d.B(typeof WeakMap=="function");return function(){return vt.lookupArray(arguments)}}var it=q(),Q=new Set;function f(vt,It){It===void 0&&(It=Object.create(null));var Qt=new I(It.max||Math.pow(2,16),function(Rt){return Rt.dispose()}),Se=It.keyArgs,$t=It.makeCacheKey||q(),re=function(){var Rt=$t.apply(null,Se?Se.apply(null,arguments):arguments);if(Rt===void 0)return vt.apply(null,arguments);var Ot=Qt.get(Rt);Ot||(Qt.set(Rt,Ot=new _(vt)),Ot.subscribe=It.subscribe,Ot.forget=function(){return Qt.delete(Rt)});var At=Ot.recompute(Array.prototype.slice.call(arguments));return Qt.set(Rt,Ot),Q.add(Qt),O.hasValue()||(Q.forEach(function(Dt){return Dt.clean()}),Q.clear()),At};Object.defineProperty(re,"size",{get:function(){return Qt.map.size},configurable:!1,enumerable:!1});function he(Rt){var Ot=Qt.get(Rt);Ot&&Ot.setDirty()}re.dirtyKey=he,re.dirty=function(){he($t.apply(null,arguments))};function Me(Rt){var Ot=Qt.get(Rt);if(Ot)return Ot.peek()}re.peekKey=Me,re.peek=function(){return Me($t.apply(null,arguments))};function le(Rt){return Qt.delete(Rt)}return re.forgetKey=le,re.forget=function(){return le($t.apply(null,arguments))},re.makeCacheKey=$t,re.getKey=Se?function(){return $t.apply(null,Se.apply(null,arguments))}:$t,Object.freeze(re)}},52572:function(ct,C,v){"use strict";v.d(C,{r5:function(){return R}});var d=v(67294);function T(){return T=Object.assign||function(ot){for(var dt=1;dt<arguments.length;dt++){var nt=arguments[dt];for(var yt in nt)Object.prototype.hasOwnProperty.call(nt,yt)&&(ot[yt]=nt[yt])}return ot},T.apply(this,arguments)}const P=typeof Symbol!="undefined"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator",I=typeof Symbol!="undefined"?Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")):"@@asyncIterator";function O(ot,dt){try{var nt=ot()}catch(yt){return dt(!0,yt)}return nt&&nt.then?nt.then(dt.bind(null,!1),dt.bind(null,!0)):dt(!1,value)}var A=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined"?d.useLayoutEffect:d.useEffect,E=function(dt){var nt=(0,d.useRef)(dt);return A(function(){nt.current=dt}),(0,d.useCallback)(function(){return nt.current},[nt])},S={status:"not-requested",loading:!1,result:void 0,error:void 0},y={status:"loading",loading:!0,result:void 0,error:void 0},b=function(dt){return y},p=function(dt,nt){return{status:"success",loading:!1,result:dt,error:void 0}},m=function(dt,nt){return{status:"error",loading:!1,result:void 0,error:dt}},x=function(){},M={initialState:function(dt){return dt&&dt.executeOnMount?y:S},executeOnMount:!0,executeOnUpdate:!0,setLoading:b,setResult:p,setError:m,onSuccess:x,onError:x},k=function(dt){return T({},M,{},dt)},_=function(dt){var nt=(0,d.useState)(function(){return dt.initialState(dt)}),yt=nt[0],tt=nt[1],J=(0,d.useCallback)(function(){return tt(dt.initialState(dt))},[tt,dt]),ft=(0,d.useCallback)(function(){return tt(dt.setLoading(yt))},[yt,tt]),rt=(0,d.useCallback)(function(q){return tt(dt.setResult(q,yt))},[yt,tt]),St=(0,d.useCallback)(function(q){return tt(dt.setError(q,yt))},[yt,tt]),wt=(0,d.useCallback)(function(q){return tt(T({},yt,{},q))},[yt,tt]);return{value:yt,set:tt,merge:wt,reset:J,setLoading:ft,setResult:rt,setError:St}},B=function(){var dt=(0,d.useRef)(!1);return(0,d.useEffect)(function(){return dt.current=!0,function(){dt.current=!1}},[]),function(){return dt.current}},z=function(){var dt=(0,d.useRef)(null);return{set:function(yt){return dt.current=yt},get:function(){return dt.current},is:function(yt){return dt.current===yt}}},W=function(dt,nt,yt){!nt&&(nt=[]);var tt=k(yt),J=(0,d.useState)(null),ft=J[0],rt=J[1],St=_(tt),wt=B(),q=z(),it=function(Se){return wt()&&q.is(Se)},Q=function(){for(var Se=arguments.length,$t=new Array(Se),re=0;re<Se;re++)$t[re]=arguments[re];var he=function(){try{return Promise.resolve(dt.apply(void 0,$t))}catch(Me){return Promise.reject(Me)}}();return rt($t),q.set(he),St.setLoading(),he.then(function(Me){it(he)&&St.setResult(Me),tt.onSuccess(Me,{isCurrent:function(){return q.is(he)}})},function(Me){it(he)&&St.setError(Me),tt.onError(Me,{isCurrent:function(){return q.is(he)}})}),he},f=E(Q),vt=(0,d.useCallback)(function(){return f().apply(void 0,arguments)},[f]),It=!wt();return(0,d.useEffect)(function(){var Qt=function(){return f().apply(void 0,nt)};It&&tt.executeOnMount&&Qt(),!It&&tt.executeOnUpdate&&Qt()},nt),T({},St.value,{set:St.set,merge:St.merge,reset:St.reset,execute:vt,currentPromise:q.get(),currentParams:ft})};function R(ot,dt,nt){return W(ot,dt,nt)}var K=function(dt,nt,yt){var tt=useRef(),J=function(){for(var rt=arguments.length,St=new Array(rt),wt=0;wt<rt;wt++)St[wt]=arguments[wt];try{tt.current&&tt.current.abort();var q=new AbortController;return tt.current=q,Promise.resolve(O(function(){return Promise.resolve(dt.apply(void 0,[q.signal].concat(St)))},function(it,Q){if(tt.current===q&&(tt.current=void 0),it)throw Q;return Q}))}catch(it){return Promise.reject(it)}};return R(J,nt,yt)},ut=function(dt,nt){return W(dt,[],T({},nt,{executeOnMount:!1,executeOnUpdate:!1}))}},86851:function(ct,C,v){"use strict";var d=v(89594),T=Array.prototype.concat,P=Array.prototype.slice,I=ct.exports=function(A){for(var E=[],S=0,y=A.length;S<y;S++){var b=A[S];d(b)?E=T.call(E,P.call(b)):E.push(b)}return E};I.wrap=function(O){return function(){return O(I(arguments))}}},89594:function(ct){ct.exports=function(v){return!v||typeof v=="string"?!1:v instanceof Array||Array.isArray(v)||v.length>=0&&(v.splice instanceof Function||Object.getOwnPropertyDescriptor(v,v.length-1)&&v.constructor.name!=="String")}},17621:function(ct,C,v){var d;(function(T){var P=/^\s+/,I=/\s+$/,O=0,A=T.round,E=T.min,S=T.max,y=T.random;function b(j,$){if(j=j||"",$=$||{},j instanceof b)return j;if(!(this instanceof b))return new b(j,$);var et=p(j);this._originalInput=j,this._r=et.r,this._g=et.g,this._b=et.b,this._a=et.a,this._roundA=A(100*this._a)/100,this._format=$.format||et.format,this._gradientType=$.gradientType,this._r<1&&(this._r=A(this._r)),this._g<1&&(this._g=A(this._g)),this._b<1&&(this._b=A(this._b)),this._ok=et.ok,this._tc_id=O++}b.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var j=this.toRgb();return(j.r*299+j.g*587+j.b*114)/1e3},getLuminance:function(){var j=this.toRgb(),$,et,Tt,Nt,Ut,Oe;return $=j.r/255,et=j.g/255,Tt=j.b/255,$<=.03928?Nt=$/12.92:Nt=T.pow(($+.055)/1.055,2.4),et<=.03928?Ut=et/12.92:Ut=T.pow((et+.055)/1.055,2.4),Tt<=.03928?Oe=Tt/12.92:Oe=T.pow((Tt+.055)/1.055,2.4),.2126*Nt+.7152*Ut+.0722*Oe},setAlpha:function(j){return this._a=f(j),this._roundA=A(100*this._a)/100,this},toHsv:function(){var j=k(this._r,this._g,this._b);return{h:j.h*360,s:j.s,v:j.v,a:this._a}},toHsvString:function(){var j=k(this._r,this._g,this._b),$=A(j.h*360),et=A(j.s*100),Tt=A(j.v*100);return this._a==1?"hsv("+$+", "+et+"%, "+Tt+"%)":"hsva("+$+", "+et+"%, "+Tt+"%, "+this._roundA+")"},toHsl:function(){var j=x(this._r,this._g,this._b);return{h:j.h*360,s:j.s,l:j.l,a:this._a}},toHslString:function(){var j=x(this._r,this._g,this._b),$=A(j.h*360),et=A(j.s*100),Tt=A(j.l*100);return this._a==1?"hsl("+$+", "+et+"%, "+Tt+"%)":"hsla("+$+", "+et+"%, "+Tt+"%, "+this._roundA+")"},toHex:function(j){return B(this._r,this._g,this._b,j)},toHexString:function(j){return"#"+this.toHex(j)},toHex8:function(j){return z(this._r,this._g,this._b,this._a,j)},toHex8String:function(j){return"#"+this.toHex8(j)},toRgb:function(){return{r:A(this._r),g:A(this._g),b:A(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+A(this._r)+", "+A(this._g)+", "+A(this._b)+")":"rgba("+A(this._r)+", "+A(this._g)+", "+A(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:A(vt(this._r,255)*100)+"%",g:A(vt(this._g,255)*100)+"%",b:A(vt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+A(vt(this._r,255)*100)+"%, "+A(vt(this._g,255)*100)+"%, "+A(vt(this._b,255)*100)+"%)":"rgba("+A(vt(this._r,255)*100)+"%, "+A(vt(this._g,255)*100)+"%, "+A(vt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:it[B(this._r,this._g,this._b,!0)]||!1},toFilter:function(j){var $="#"+W(this._r,this._g,this._b,this._a),et=$,Tt=this._gradientType?"GradientType = 1, ":"";if(j){var Nt=b(j);et="#"+W(Nt._r,Nt._g,Nt._b,Nt._a)}return"progid:DXImageTransform.Microsoft.gradient("+Tt+"startColorstr="+$+",endColorstr="+et+")"},toString:function(j){var $=!!j;j=j||this._format;var et=!1,Tt=this._a<1&&this._a>=0,Nt=!$&&Tt&&(j==="hex"||j==="hex6"||j==="hex3"||j==="hex4"||j==="hex8"||j==="name");return Nt?j==="name"&&this._a===0?this.toName():this.toRgbString():(j==="rgb"&&(et=this.toRgbString()),j==="prgb"&&(et=this.toPercentageRgbString()),(j==="hex"||j==="hex6")&&(et=this.toHexString()),j==="hex3"&&(et=this.toHexString(!0)),j==="hex4"&&(et=this.toHex8String(!0)),j==="hex8"&&(et=this.toHex8String()),j==="name"&&(et=this.toName()),j==="hsl"&&(et=this.toHslString()),j==="hsv"&&(et=this.toHsvString()),et||this.toHexString())},clone:function(){return b(this.toString())},_applyModification:function(j,$){var et=j.apply(null,[this].concat([].slice.call($)));return this._r=et._r,this._g=et._g,this._b=et._b,this.setAlpha(et._a),this},lighten:function(){return this._applyModification(ot,arguments)},brighten:function(){return this._applyModification(dt,arguments)},darken:function(){return this._applyModification(nt,arguments)},desaturate:function(){return this._applyModification(R,arguments)},saturate:function(){return this._applyModification(K,arguments)},greyscale:function(){return this._applyModification(ut,arguments)},spin:function(){return this._applyModification(yt,arguments)},_applyCombination:function(j,$){return j.apply(null,[this].concat([].slice.call($)))},analogous:function(){return this._applyCombination(St,arguments)},complement:function(){return this._applyCombination(tt,arguments)},monochromatic:function(){return this._applyCombination(wt,arguments)},splitcomplement:function(){return this._applyCombination(rt,arguments)},triad:function(){return this._applyCombination(J,arguments)},tetrad:function(){return this._applyCombination(ft,arguments)}},b.fromRatio=function(j,$){if(typeof j=="object"){var et={};for(var Tt in j)j.hasOwnProperty(Tt)&&(Tt==="a"?et[Tt]=j[Tt]:et[Tt]=he(j[Tt]));j=et}return b(j,$)};function p(j){var $={r:0,g:0,b:0},et=1,Tt=null,Nt=null,Ut=null,Oe=!1,He=!1;return typeof j=="string"&&(j=At(j)),typeof j=="object"&&(Ot(j.r)&&Ot(j.g)&&Ot(j.b)?($=m(j.r,j.g,j.b),Oe=!0,He=String(j.r).substr(-1)==="%"?"prgb":"rgb"):Ot(j.h)&&Ot(j.s)&&Ot(j.v)?(Tt=he(j.s),Nt=he(j.v),$=_(j.h,Tt,Nt),Oe=!0,He="hsv"):Ot(j.h)&&Ot(j.s)&&Ot(j.l)&&(Tt=he(j.s),Ut=he(j.l),$=M(j.h,Tt,Ut),Oe=!0,He="hsl"),j.hasOwnProperty("a")&&(et=j.a)),et=f(et),{ok:Oe,format:j.format||He,r:E(255,S($.r,0)),g:E(255,S($.g,0)),b:E(255,S($.b,0)),a:et}}function m(j,$,et){return{r:vt(j,255)*255,g:vt($,255)*255,b:vt(et,255)*255}}function x(j,$,et){j=vt(j,255),$=vt($,255),et=vt(et,255);var Tt=S(j,$,et),Nt=E(j,$,et),Ut,Oe,He=(Tt+Nt)/2;if(Tt==Nt)Ut=Oe=0;else{var Zt=Tt-Nt;switch(Oe=He>.5?Zt/(2-Tt-Nt):Zt/(Tt+Nt),Tt){case j:Ut=($-et)/Zt+($<et?6:0);break;case $:Ut=(et-j)/Zt+2;break;case et:Ut=(j-$)/Zt+4;break}Ut/=6}return{h:Ut,s:Oe,l:He}}function M(j,$,et){var Tt,Nt,Ut;j=vt(j,360),$=vt($,100),et=vt(et,100);function Oe(be,_e,Qe){return Qe<0&&(Qe+=1),Qe>1&&(Qe-=1),Qe<1/6?be+(_e-be)*6*Qe:Qe<1/2?_e:Qe<2/3?be+(_e-be)*(2/3-Qe)*6:be}if($===0)Tt=Nt=Ut=et;else{var He=et<.5?et*(1+$):et+$-et*$,Zt=2*et-He;Tt=Oe(Zt,He,j+1/3),Nt=Oe(Zt,He,j),Ut=Oe(Zt,He,j-1/3)}return{r:Tt*255,g:Nt*255,b:Ut*255}}function k(j,$,et){j=vt(j,255),$=vt($,255),et=vt(et,255);var Tt=S(j,$,et),Nt=E(j,$,et),Ut,Oe,He=Tt,Zt=Tt-Nt;if(Oe=Tt===0?0:Zt/Tt,Tt==Nt)Ut=0;else{switch(Tt){case j:Ut=($-et)/Zt+($<et?6:0);break;case $:Ut=(et-j)/Zt+2;break;case et:Ut=(j-$)/Zt+4;break}Ut/=6}return{h:Ut,s:Oe,v:He}}function _(j,$,et){j=vt(j,360)*6,$=vt($,100),et=vt(et,100);var Tt=T.floor(j),Nt=j-Tt,Ut=et*(1-$),Oe=et*(1-Nt*$),He=et*(1-(1-Nt)*$),Zt=Tt%6,be=[et,Oe,Ut,Ut,He,et][Zt],_e=[He,et,et,Oe,Ut,Ut][Zt],Qe=[Ut,Ut,He,et,et,Oe][Zt];return{r:be*255,g:_e*255,b:Qe*255}}function B(j,$,et,Tt){var Nt=[re(A(j).toString(16)),re(A($).toString(16)),re(A(et).toString(16))];return Tt&&Nt[0].charAt(0)==Nt[0].charAt(1)&&Nt[1].charAt(0)==Nt[1].charAt(1)&&Nt[2].charAt(0)==Nt[2].charAt(1)?Nt[0].charAt(0)+Nt[1].charAt(0)+Nt[2].charAt(0):Nt.join("")}function z(j,$,et,Tt,Nt){var Ut=[re(A(j).toString(16)),re(A($).toString(16)),re(A(et).toString(16)),re(Me(Tt))];return Nt&&Ut[0].charAt(0)==Ut[0].charAt(1)&&Ut[1].charAt(0)==Ut[1].charAt(1)&&Ut[2].charAt(0)==Ut[2].charAt(1)&&Ut[3].charAt(0)==Ut[3].charAt(1)?Ut[0].charAt(0)+Ut[1].charAt(0)+Ut[2].charAt(0)+Ut[3].charAt(0):Ut.join("")}function W(j,$,et,Tt){var Nt=[re(Me(Tt)),re(A(j).toString(16)),re(A($).toString(16)),re(A(et).toString(16))];return Nt.join("")}b.equals=function(j,$){return!j||!$?!1:b(j).toRgbString()==b($).toRgbString()},b.random=function(){return b.fromRatio({r:y(),g:y(),b:y()})};function R(j,$){$=$===0?0:$||10;var et=b(j).toHsl();return et.s-=$/100,et.s=It(et.s),b(et)}function K(j,$){$=$===0?0:$||10;var et=b(j).toHsl();return et.s+=$/100,et.s=It(et.s),b(et)}function ut(j){return b(j).desaturate(100)}function ot(j,$){$=$===0?0:$||10;var et=b(j).toHsl();return et.l+=$/100,et.l=It(et.l),b(et)}function dt(j,$){$=$===0?0:$||10;var et=b(j).toRgb();return et.r=S(0,E(255,et.r-A(255*-($/100)))),et.g=S(0,E(255,et.g-A(255*-($/100)))),et.b=S(0,E(255,et.b-A(255*-($/100)))),b(et)}function nt(j,$){$=$===0?0:$||10;var et=b(j).toHsl();return et.l-=$/100,et.l=It(et.l),b(et)}function yt(j,$){var et=b(j).toHsl(),Tt=(et.h+$)%360;return et.h=Tt<0?360+Tt:Tt,b(et)}function tt(j){var $=b(j).toHsl();return $.h=($.h+180)%360,b($)}function J(j){var $=b(j).toHsl(),et=$.h;return[b(j),b({h:(et+120)%360,s:$.s,l:$.l}),b({h:(et+240)%360,s:$.s,l:$.l})]}function ft(j){var $=b(j).toHsl(),et=$.h;return[b(j),b({h:(et+90)%360,s:$.s,l:$.l}),b({h:(et+180)%360,s:$.s,l:$.l}),b({h:(et+270)%360,s:$.s,l:$.l})]}function rt(j){var $=b(j).toHsl(),et=$.h;return[b(j),b({h:(et+72)%360,s:$.s,l:$.l}),b({h:(et+216)%360,s:$.s,l:$.l})]}function St(j,$,et){$=$||6,et=et||30;var Tt=b(j).toHsl(),Nt=360/et,Ut=[b(j)];for(Tt.h=(Tt.h-(Nt*$>>1)+720)%360;--$;)Tt.h=(Tt.h+Nt)%360,Ut.push(b(Tt));return Ut}function wt(j,$){$=$||6;for(var et=b(j).toHsv(),Tt=et.h,Nt=et.s,Ut=et.v,Oe=[],He=1/$;$--;)Oe.push(b({h:Tt,s:Nt,v:Ut})),Ut=(Ut+He)%1;return Oe}b.mix=function(j,$,et){et=et===0?0:et||50;var Tt=b(j).toRgb(),Nt=b($).toRgb(),Ut=et/100,Oe={r:(Nt.r-Tt.r)*Ut+Tt.r,g:(Nt.g-Tt.g)*Ut+Tt.g,b:(Nt.b-Tt.b)*Ut+Tt.b,a:(Nt.a-Tt.a)*Ut+Tt.a};return b(Oe)},b.readability=function(j,$){var et=b(j),Tt=b($);return(T.max(et.getLuminance(),Tt.getLuminance())+.05)/(T.min(et.getLuminance(),Tt.getLuminance())+.05)},b.isReadable=function(j,$,et){var Tt=b.readability(j,$),Nt,Ut;switch(Ut=!1,Nt=Dt(et),Nt.level+Nt.size){case"AAsmall":case"AAAlarge":Ut=Tt>=4.5;break;case"AAlarge":Ut=Tt>=3;break;case"AAAsmall":Ut=Tt>=7;break}return Ut},b.mostReadable=function(j,$,et){var Tt=null,Nt=0,Ut,Oe,He,Zt;et=et||{},Oe=et.includeFallbackColors,He=et.level,Zt=et.size;for(var be=0;be<$.length;be++)Ut=b.readability(j,$[be]),Ut>Nt&&(Nt=Ut,Tt=b($[be]));return b.isReadable(j,Tt,{level:He,size:Zt})||!Oe?Tt:(et.includeFallbackColors=!1,b.mostReadable(j,["#fff","#000"],et))};var q=b.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},it=b.hexNames=Q(q);function Q(j){var $={};for(var et in j)j.hasOwnProperty(et)&&($[j[et]]=et);return $}function f(j){return j=parseFloat(j),(isNaN(j)||j<0||j>1)&&(j=1),j}function vt(j,$){Se(j)&&(j="100%");var et=$t(j);return j=E($,S(0,parseFloat(j))),et&&(j=parseInt(j*$,10)/100),T.abs(j-$)<1e-6?1:j%$/parseFloat($)}function It(j){return E(1,S(0,j))}function Qt(j){return parseInt(j,16)}function Se(j){return typeof j=="string"&&j.indexOf(".")!=-1&&parseFloat(j)===1}function $t(j){return typeof j=="string"&&j.indexOf("%")!=-1}function re(j){return j.length==1?"0"+j:""+j}function he(j){return j<=1&&(j=j*100+"%"),j}function Me(j){return T.round(parseFloat(j)*255).toString(16)}function le(j){return Qt(j)/255}var Rt=function(){var j="[-\\+]?\\d+%?",$="[-\\+]?\\d*\\.\\d+%?",et="(?:"+$+")|(?:"+j+")",Tt="[\\s|\\(]+("+et+")[,|\\s]+("+et+")[,|\\s]+("+et+")\\s*\\)?",Nt="[\\s|\\(]+("+et+")[,|\\s]+("+et+")[,|\\s]+("+et+")[,|\\s]+("+et+")\\s*\\)?";return{CSS_UNIT:new RegExp(et),rgb:new RegExp("rgb"+Tt),rgba:new RegExp("rgba"+Nt),hsl:new RegExp("hsl"+Tt),hsla:new RegExp("hsla"+Nt),hsv:new RegExp("hsv"+Tt),hsva:new RegExp("hsva"+Nt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ot(j){return!!Rt.CSS_UNIT.exec(j)}function At(j){j=j.replace(P,"").replace(I,"").toLowerCase();var $=!1;if(q[j])j=q[j],$=!0;else if(j=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var et;return(et=Rt.rgb.exec(j))?{r:et[1],g:et[2],b:et[3]}:(et=Rt.rgba.exec(j))?{r:et[1],g:et[2],b:et[3],a:et[4]}:(et=Rt.hsl.exec(j))?{h:et[1],s:et[2],l:et[3]}:(et=Rt.hsla.exec(j))?{h:et[1],s:et[2],l:et[3],a:et[4]}:(et=Rt.hsv.exec(j))?{h:et[1],s:et[2],v:et[3]}:(et=Rt.hsva.exec(j))?{h:et[1],s:et[2],v:et[3],a:et[4]}:(et=Rt.hex8.exec(j))?{r:Qt(et[1]),g:Qt(et[2]),b:Qt(et[3]),a:le(et[4]),format:$?"name":"hex8"}:(et=Rt.hex6.exec(j))?{r:Qt(et[1]),g:Qt(et[2]),b:Qt(et[3]),format:$?"name":"hex"}:(et=Rt.hex4.exec(j))?{r:Qt(et[1]+""+et[1]),g:Qt(et[2]+""+et[2]),b:Qt(et[3]+""+et[3]),a:le(et[4]+""+et[4]),format:$?"name":"hex8"}:(et=Rt.hex3.exec(j))?{r:Qt(et[1]+""+et[1]),g:Qt(et[2]+""+et[2]),b:Qt(et[3]+""+et[3]),format:$?"name":"hex"}:!1}function Dt(j){var $,et;return j=j||{level:"AA",size:"small"},$=(j.level||"AA").toUpperCase(),et=(j.size||"small").toLowerCase(),$!=="AA"&&$!=="AAA"&&($="AA"),et!=="small"&&et!=="large"&&(et="small"),{level:$,size:et}}ct.exports?ct.exports=b:(d=function(){return b}.call(C,v,C,ct),d!==void 0&&(ct.exports=d))})(Math)}}]);
