(self.webpackChunkboc_dashboard=self.webpackChunkboc_dashboard||[]).push([[274],{17274:function(qe,Ae,A){"use strict";A.d(Ae,{N:function(){return $e}});var De=A(31891),O=A(85669),Me=A(80954),D=A(33051),F=Math.PI*2,le=Math.PI/180;function oe(a,t){return Me.ME(a.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function se(a,t){var r=oe(a,t),e=a.get("center"),i=a.get("radius");D.isArray(i)||(i=[0,i]),D.isArray(e)||(e=[e,e]);var o=(0,O.GM)(r.width,t.getWidth()),n=(0,O.GM)(r.height,t.getHeight()),v=Math.min(o,n),c=(0,O.GM)(e[0],o)+r.x,f=(0,O.GM)(e[1],n)+r.y,g=(0,O.GM)(i[0],v/2),m=(0,O.GM)(i[1],v/2);return{cx:c,cy:f,r0:g,r:m}}function Le(a,t,r){t.eachSeriesByType(a,function(e){var i=e.getData(),o=i.mapDimension("value"),n=oe(e,r),v=se(e,r),c=v.cx,f=v.cy,g=v.r,m=v.r0,h=-e.get("startAngle")*le,l=e.get("minAngle")*le,s=0;i.each(o,function(w){!isNaN(w)&&s++});var u=i.getSum(o),d=Math.PI/(u||s)*2,y=e.get("clockwise"),b=e.get("roseType"),S=e.get("stillShowZeroSum"),P=i.getDataExtent(o);P[0]=0;var M=F,T=0,x=h,p=y?1:-1;if(i.setLayout({viewRect:n,r:g}),i.each(o,function(w,I){var N;if(isNaN(w)){i.setItemLayout(I,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:y,cx:c,cy:f,r0:m,r:b?NaN:g});return}b!=="area"?N=u===0&&S?d:w*d:N=F/s,N<l?(N=l,M-=l):T+=w;var C=x+p*N;i.setItemLayout(I,{angle:N,startAngle:x,endAngle:C,clockwise:y,cx:c,cy:f,r0:m,r:b?(0,O.NU)(w,P,[m,g]):g}),x=C}),M<F&&s)if(M<=.001){var L=F/s;i.each(o,function(w,I){if(!isNaN(w)){var N=i.getItemLayout(I);N.angle=L,N.startAngle=h+p*I*L,N.endAngle=h+p*(I+1)*L}})}else d=M/T,x=h,i.each(o,function(w,I){if(!isNaN(w)){var N=i.getItemLayout(I),C=N.angle===l?l:w*d;N.startAngle=x,N.endAngle=x+p*C,x+=p*C}})})}function xe(a){return{seriesType:a,reset:function(t,r){var e=r.findComponents({mainType:"legend"});if(!(!e||!e.length)){var i=t.getData();i.filterSelf(function(o){for(var n=i.getName(o),v=0;v<e.length;v++)if(!e[v].isSelected(n))return!1;return!0})}}}}var q=A(18299),Ne=A(96498),E=A(29266),Te=A(62514),ge=A(27214),ve=A(26357),Pe=A(75797),ue=A(41610),K=A(87377),we=A(54162),Ce=Math.PI/180;function ce(a,t,r,e,i,o,n,v,c,f){if(a.length<2)return;function g(u){for(var d=u.rB,y=d*d,b=0;b<u.list.length;b++){var S=u.list[b],P=Math.abs(S.label.y-r),M=e+S.len,T=M*M,x=Math.sqrt((1-Math.abs(P*P/y))*T),p=t+(x+S.len2)*i,L=p-S.label.x,w=S.targetTextWidth-L*i;he(S,w,!0),S.label.x=p}}function m(u){for(var d={list:[],maxY:0},y={list:[],maxY:0},b=0;b<u.length;b++)if(u[b].labelAlignTo==="none"){var S=u[b],P=S.label.y>r?y:d,M=Math.abs(S.label.y-r);if(M>=P.maxY){var T=S.label.x-t-S.len2*i,x=e+S.len,p=Math.abs(T)<x?Math.sqrt(M*M/(1-T*T/x/x)):x;P.rB=p,P.maxY=M}P.list.push(S)}g(d),g(y)}for(var h=a.length,l=0;l<h;l++)if(a[l].position==="outer"&&a[l].labelAlignTo==="labelLine"){var s=a[l].label.x-f;a[l].linePoints[1][0]+=s,a[l].label.x=f}(0,we.GI)(a,c,c+n)&&m(a)}function Ie(a,t,r,e,i,o,n,v){for(var c=[],f=[],g=Number.MAX_VALUE,m=-Number.MAX_VALUE,h=0;h<a.length;h++){var l=a[h].label;_(a[h])||(l.x<t?(g=Math.min(g,l.x),c.push(a[h])):(m=Math.max(m,l.x),f.push(a[h])))}for(var h=0;h<a.length;h++){var s=a[h];if(!_(s)&&s.linePoints){if(s.labelStyleWidth!=null)continue;var l=s.label,u=s.linePoints,d=void 0;s.labelAlignTo==="edge"?l.x<t?d=u[2][0]-s.labelDistance-n-s.edgeDistance:d=n+i-s.edgeDistance-u[2][0]-s.labelDistance:s.labelAlignTo==="labelLine"?l.x<t?d=g-n-s.bleedMargin:d=n+i-m-s.bleedMargin:l.x<t?d=l.x-n-s.bleedMargin:d=n+i-l.x-s.bleedMargin,s.targetTextWidth=d,he(s,d)}}ce(f,t,r,e,1,i,o,n,v,m),ce(c,t,r,e,-1,i,o,n,v,g);for(var h=0;h<a.length;h++){var s=a[h];if(!_(s)&&s.linePoints){var l=s.label,u=s.linePoints,y=s.labelAlignTo==="edge",b=l.style.padding,S=b?b[1]+b[3]:0,P=l.style.backgroundColor?0:S,M=s.rect.width+P,T=u[1][0]-u[2][0];y?l.x<t?u[2][0]=n+s.edgeDistance+M+s.labelDistance:u[2][0]=n+i-s.edgeDistance-M-s.labelDistance:(l.x<t?u[2][0]=l.x+s.labelDistance:u[2][0]=l.x-s.labelDistance,u[1][0]=u[2][0]+T),u[1][1]=u[2][1]=l.y}}}function he(a,t,r){if(r===void 0&&(r=!1),a.labelStyleWidth==null){var e=a.label,i=e.style,o=a.rect,n=i.backgroundColor,v=i.padding,c=v?v[1]+v[3]:0,f=i.overflow,g=o.width+(n?0:c);if(t<g||r){var m=o.height;if(f&&f.match("break")){e.setStyle("backgroundColor",null),e.setStyle("width",t-c);var h=e.getBoundingRect();e.setStyle("width",Math.ceil(h.width)),e.setStyle("backgroundColor",n)}else{var l=t-c,s=t<g?l:r?l>a.unconstrainedWidth?null:l:null;e.setStyle("width",s)}var u=e.getBoundingRect();o.width=u.width;var d=(e.style.margin||0)+2.1;o.height=u.height+d,o.y-=(o.height-m)/2}}}function _(a){return a.position==="center"}function Ge(a){var t=a.getData(),r=[],e,i,o=!1,n=(a.get("minShowLabelAngle")||0)*Ce,v=t.getLayout("viewRect"),c=t.getLayout("r"),f=v.width,g=v.x,m=v.y,h=v.height;function l(T){T.ignore=!0}function s(T){if(!T.ignore)return!0;for(var x in T.states)if(T.states[x].ignore===!1)return!0;return!1}t.each(function(T){var x=t.getItemGraphicEl(T),p=x.shape,L=x.getTextContent(),w=x.getTextGuideLine(),I=t.getItemModel(T),N=I.getModel("label"),C=N.get("position")||I.get(["emphasis","label","position"]),ee=N.get("distanceToLabelLine"),te=N.get("alignTo"),ae=(0,O.GM)(N.get("edgeDistance"),f),je=N.get("bleedMargin"),W=I.getModel("labelLine"),U=W.get("length");U=(0,O.GM)(U,f);var $=W.get("length2");if($=(0,O.GM)($,f),Math.abs(p.endAngle-p.startAngle)<n){(0,D.each)(L.states,l),L.ignore=!0;return}if(!!s(L)){var j=(p.startAngle+p.endAngle)/2,G=Math.cos(j),V=Math.sin(j),X,Q,de,k;e=p.cx,i=p.cy;var Z=C==="inside"||C==="inner";if(C==="center")X=p.cx,Q=p.cy,k="center";else{var re=(Z?(p.r+p.r0)/2*G:p.r*G)+e,ne=(Z?(p.r+p.r0)/2*V:p.r*V)+i;if(X=re+G*3,Q=ne+V*3,!Z){var me=re+G*(U+c-p.r),pe=ne+V*(U+c-p.r),ye=me+(G<0?-1:1)*$,be=pe;te==="edge"?X=G<0?g+ae:g+f-ae:X=ye+(G<0?-ee:ee),Q=be,de=[[re,ne],[me,pe],[ye,be]]}k=Z?"center":te==="edge"?G>0?"right":"left":G>0?"left":"right"}var H=Math.PI,R=0,Y=N.get("rotate");if((0,D.isNumber)(Y))R=Y*(H/180);else if(C==="center")R=0;else if(Y==="radial"||Y===!0){var Qe=G<0?-j+H:-j;R=Qe}else if(Y==="tangential"&&C!=="outside"&&C!=="outer"){var B=Math.atan2(G,V);B<0&&(B=H*2+B);var ke=V>0;ke&&(B=H+B),R=B-H}if(o=!!R,L.x=X,L.y=Q,L.rotation=R,L.setStyle({verticalAlign:"middle"}),Z){L.setStyle({align:k});var ie=L.states.select;ie&&(ie.x+=L.x,ie.y+=L.y)}else{var z=L.getBoundingRect().clone();z.applyTransform(L.getComputedTransform());var Se=(L.style.margin||0)+2.1;z.y-=Se/2,z.height+=Se,r.push({label:L,labelLine:w,position:C,len:U,len2:$,minTurnAngle:W.get("minTurnAngle"),maxSurfaceAngle:W.get("maxSurfaceAngle"),surfaceNormal:new ue.Z(G,V),linePoints:de,textAlign:k,labelDistance:ee,labelAlignTo:te,edgeDistance:ae,bleedMargin:je,rect:z,unconstrainedWidth:z.width,labelStyleWidth:L.style.width})}x.setTextConfig({inside:Z})}}),!o&&a.get("avoidLabelOverlap")&&Ie(r,e,i,c,f,h,g,m);for(var u=0;u<r.length;u++){var d=r[u],y=d.label,b=d.labelLine,S=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:d.textAlign}),S&&((0,D.each)(y.states,l),y.ignore=!0);var P=y.states.select;P&&(P.x+=y.x,P.y+=y.y)}if(b){var M=d.linePoints;S||!M?((0,D.each)(b.states,l),b.ignore=!0):((0,K.qK)(M,d.minTurnAngle),(0,K._A)(M,d.surfaceNormal,d.maxSurfaceAngle),b.setShape({points:M}),y.__hostTarget.textGuideLineConfig={anchor:new ue.Z(M[0][0],M[0][1])})}}}var fe=A(36006),Oe=A(80423);function J(a,t,r){var e=a.get("borderRadius");if(e==null)return r?{cornerRadius:0}:null;(0,D.isArray)(e)||(e=[e,e,e,e]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:(0,D.map)(e,function(o){return(0,Oe.GM)(o,i)})}}var Ee=function(a){(0,q.ZT)(t,a);function t(r,e,i){var o=a.call(this)||this;o.z2=2;var n=new Ne.ZP;return o.setTextContent(n),o.updateData(r,e,i,!0),o}return t.prototype.updateData=function(r,e,i,o){var n=this,v=r.hostModel,c=r.getItemModel(e),f=c.getModel("emphasis"),g=r.getItemLayout(e),m=(0,D.extend)(J(c.getModel("itemStyle"),g,!0),g);if(isNaN(m.startAngle)){n.setShape(m);return}if(o){n.setShape(m);var h=v.getShallow("animationType");v.ecModel.ssr?(E.KZ(n,{scaleX:0,scaleY:0},v,{dataIndex:e,isFrom:!0}),n.originX=m.cx,n.originY=m.cy):h==="scale"?(n.shape.r=g.r0,E.KZ(n,{shape:{r:g.r}},v,e)):i!=null?(n.setShape({startAngle:i,endAngle:i}),E.KZ(n,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},v,e)):(n.shape.endAngle=g.startAngle,E.D(n,{shape:{endAngle:g.endAngle}},v,e))}else(0,E.Zi)(n),E.D(n,{shape:m},v,e);n.useStyle(r.getItemVisual(e,"style")),(0,ve.WO)(n,c);var l=(g.startAngle+g.endAngle)/2,s=v.get("selectedOffset"),u=Math.cos(l)*s,d=Math.sin(l)*s,y=c.getShallow("cursor");y&&n.attr("cursor",y),this._updateLabel(v,r,e),n.ensureState("emphasis").shape=(0,D.extend)({r:g.r+(f.get("scale")&&f.get("scaleSize")||0)},J(f.getModel("itemStyle"),g)),(0,D.extend)(n.ensureState("select"),{x:u,y:d,shape:J(c.getModel(["select","itemStyle"]),g)}),(0,D.extend)(n.ensureState("blur"),{shape:J(c.getModel(["blur","itemStyle"]),g)});var b=n.getTextGuideLine(),S=n.getTextContent();b&&(0,D.extend)(b.ensureState("select"),{x:u,y:d}),(0,D.extend)(S.ensureState("select"),{x:u,y:d}),(0,ve.k5)(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},t.prototype._updateLabel=function(r,e,i){var o=this,n=e.getItemModel(i),v=n.getModel("labelLine"),c=e.getItemVisual(i,"style"),f=c&&c.fill,g=c&&c.opacity;(0,fe.ni)(o,(0,fe.k3)(n),{labelFetcher:e.hostModel,labelDataIndex:i,inheritColor:f,defaultOpacity:g,defaultText:r.getFormattedLabel(i,"normal")||e.getName(i)});var m=o.getTextContent();o.setTextConfig({position:null,rotation:null}),m.attr({z2:10});var h=r.get(["label","position"]);if(h!=="outside"&&h!=="outer")o.removeTextGuideLine();else{var l=this.getTextGuideLine();l||(l=new Te.Z,this.setTextGuideLine(l)),(0,K.Iu)(this,(0,K.$x)(n),{stroke:f,opacity:(0,D.retrieve3)(v.get(["lineStyle","opacity"]),g,1)})}},t}(ge.C),Ve=function(a){(0,q.ZT)(t,a);function t(){var r=a!==null&&a.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return t.prototype.render=function(r,e,i,o){var n=r.getData(),v=this._data,c=this.group,f;if(!v&&n.count()>0){for(var g=n.getItemLayout(0),m=1;isNaN(g&&g.startAngle)&&m<n.count();++m)g=n.getItemLayout(m);g&&(f=g.startAngle)}if(this._emptyCircleSector&&c.remove(this._emptyCircleSector),n.count()===0&&r.get("showEmptyCircle")){var h=new ge.C({shape:se(r,i)});h.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,c.add(h)}n.diff(v).add(function(l){var s=new Ee(n,l,f);n.setItemGraphicEl(l,s),c.add(s)}).update(function(l,s){var u=v.getItemGraphicEl(s);u.updateData(n,l,f),u.off("click"),c.add(u),n.setItemGraphicEl(l,u)}).remove(function(l){var s=v.getItemGraphicEl(l);E.XD(s,r,l)}).execute(),Ge(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=n)},t.prototype.dispose=function(){},t.prototype.containPoint=function(r,e){var i=e.getData(),o=i.getItemLayout(0);if(o){var n=r[0]-o.cx,v=r[1]-o.cy,c=Math.sqrt(n*n+v*v);return c<=o.r&&c>=o.r0}},t.type="pie",t}(Pe.Z),Ze=Ve,Re=A(55623),Be=A(5101);function Ue(a,t,r){t=(0,D.isArray)(t)&&{coordDimensions:t}||(0,D.extend)({encodeDefine:a.getEncode()},t);var e=a.getSource(),i=(0,Re.Z)(e,t).dimensions,o=new Be.Z(i,a);return o.initData(e,r),o}var Xe=A(32234),He=A(61772),Ye=function(){function a(t,r){this._getDataWithEncodedVisual=t,this._getRawData=r}return a.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},a.prototype.containName=function(t){var r=this._getRawData();return r.indexOfName(t)>=0},a.prototype.indexOfName=function(t){var r=this._getDataWithEncodedVisual();return r.indexOfName(t)},a.prototype.getItemVisual=function(t,r){var e=this._getDataWithEncodedVisual();return e.getItemVisual(t,r)},a}(),ze=Ye,Fe=A(95761),Ke=function(a){(0,q.ZT)(t,a);function t(){return a!==null&&a.apply(this,arguments)||this}return t.prototype.init=function(r){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new ze(D.bind(this.getData,this),D.bind(this.getRawData,this)),this._defaultLabelLine(r)},t.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Ue(this,{coordDimensions:["value"],encodeDefaulter:D.curry(He.Ss,this)})},t.prototype.getDataParams=function(r){var e=this.getData(),i=a.prototype.getDataParams.call(this,r),o=[];return e.each(e.mapDimension("value"),function(n){o.push(n)}),i.percent=(0,O.eJ)(o,r,e.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},t.prototype._defaultLabelLine=function(r){Xe.Cc(r,"labelLine",["show"]);var e=r.labelLine,i=r.emphasis.labelLine;e.show=e.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Fe.Z),Je=Ke;function We(a){return{seriesType:a,reset:function(t,r){var e=t.getData();e.filterSelf(function(i){var o=e.mapDimension("value"),n=e.get(o,i);return!((0,D.isNumber)(n)&&!isNaN(n)&&n<0)})}}}function $e(a){a.registerChartView(Ze),a.registerSeriesModel(Je),(0,De.y)("pie",a.registerAction),a.registerLayout((0,D.curry)(Le,"pie")),a.registerProcessor(xe("pie")),a.registerProcessor(We("pie"))}}}]);
