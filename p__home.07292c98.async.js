(self.webpackChunkboc_dashboard=self.webpackChunkboc_dashboard||[]).push([[364,571],{6371:function(vt){vt.exports={container:"container___3FHkQ"}},69255:function(vt){vt.exports={chartCard:"chartCard___1WAYR",title:"title___1qSNX",chartTop:"chartTop___fyf1y",chartTopMargin:"chartTopMargin___35U93",chartTopHasMargin:"chartTopHasMargin___3PZ2W",metaWrap:"metaWrap___1o2cx",avatar:"avatar___3W_MV",meta:"meta___BxwkJ",action:"action___2rX_t",total:"total___13buZ",unit:"unit___3h93V",content:"content___1u1VV",contentFixed:"contentFixed___8g0La",footer:"footer___1DC6W",card:"card___3ClYk"}},18973:function(vt){vt.exports={main:"main___E0u3n",text:"text___1bwgD"}},3691:function(vt){vt.exports={container:"container___1YjeH"}},90958:function(vt){vt.exports={salesCard:"salesCard___29v2i",salesBar:"salesBar___yX0jY",salesRank:"salesRank___3emXv",salesCardExtra:"salesCardExtra___1zn45",vaultKeyCard:"vaultKeyCard___3fhgC",tabMobile:"tabMobile___OIzik",chartDiv:"chartDiv___35wVQ",chartDivMobile:"chartDivMobile___3S_E5",tableCell:"tableCell___28uXK",text:"text___2ww9t",trendText:"trendText___22_c0",chartWrapper:"chartWrapper___3eEAM",buttons:"buttons___1vScW",field:"field___1vkrW",label:"label___3KSeF",number:"number___3Vb_1",history:"history___1YR66"}},91907:function(vt,K,e){"use strict";var u=e(30887),l=e(28682),h=e(67294),F=e(65367),Y=e(89850),it=e(53651),U=e(35161),y=e.n(U),D=e(63105),ft=e.n(D),Ct=e(62904),I=e(43077),R=e(6371),ot=e.n(R),H=e(85893),Dt=y()(ft()(Y.ZP,function(rt){return!(it.ux&&rt.id==="137")}),function(rt){return{label:rt.name,value:rt.id}}),ht=function(V){var t=V.chains,Ut=t===void 0?Dt:t,Ot=V.shouldChangeChain;if(Ut.length<=1)return null;var gt=(0,F.tT)("@@initialState"),zt=gt.initialState,O=(0,I.Z)(),Qt=O.userProvider,a=O.getWalletName,p=function(nt){var q=nt.key,Mt=F.m8.location.query.vault,It=Promise.resolve();Ot&&(It=(0,Ct.u)(q,Qt,a(),{resolveWhenUnsupport:!0})),It.then(function(){F.m8.push({query:{chain:q,vault:Mt}}),setTimeout(function(){location.reload()},100)})},N={borderBottom:"none",justifyContent:"center",backgroundColor:"transparent"};return(0,H.jsx)("div",{className:ot().container,children:(0,H.jsx)(l.Z,{mode:"horizontal",style:N,items:Ut,selectedKeys:[zt.chain],onClick:p})})};K.Z=ht},69157:function(vt,K,e){"use strict";var u=e(12968),l=e(62462),h=e(67294),F=e(47037),Y=e.n(F),it=e(96486),U=e.n(it),y=e(35161),D=e.n(y),ft=e(85893),Ct="".concat("https://v2.bankofchain.io","/default.png"),I=function(ot){var H=ot.array,Dt=H===void 0?[]:H,ht=ot.size,rt=ht===void 0?24:ht,V=function(Ut,Ot){return(0,ft.jsx)(l.Z,{title:Ut,preview:!1,width:rt,style:{borderRadius:"50%"},wrapperStyle:{marginLeft:Ot===0?0:-10,zIndex:Dt.length-Ot},src:"".concat("https://v2.bankofchain.io","/images/").concat(Ut,".png"),fallback:Ct},"".concat(Ut+Ot))};return Y()(Dt)?V(Dt,0):(0,it.isArray)(Dt)?(0,ft.jsx)("div",{children:D()(Dt,function(t,Ut){return V(t,Ut)})}):(0,ft.jsx)("span",{})};K.Z=I},93083:function(vt,K,e){"use strict";e.d(K,{hU:function(){return ft},me:function(){return D}});var u=e(45697),l=e.n(u),h=e(1852),F=e.n(h),Y=function(I){var R=I.children,ot=(0,h.useMediaQuery)({minWidth:992});return ot?R:null};Y.propTypes={children:l().element};var it=function(I){var R=I.children,ot=(0,h.useMediaQuery)({minWidth:768,maxWidth:991});return ot?R:null};it.propTypes={children:l().element};var U=function(I){var R=I.children,ot=(0,h.useMediaQuery)({maxWidth:767});return ot?R:null};U.propTypes={children:l().element};var y=function(I){var R=I.children,ot=(0,h.useMediaQuery)({minWidth:768});return ot?R:null};y.propTypes={children:l().element};var D={Desktop:"Desktop",Tablet:"Tablet",Mobile:"Mobile"},ft=function(){var I=(0,h.useMediaQuery)({minWidth:992}),R=(0,h.useMediaQuery)({minWidth:768,maxWidth:991});return I?D.Desktop:R?D.Tablet:D.Mobile}},98821:function(vt,K,e){"use strict";e.d(K,{$c:function(){return U}});var u=e(20228),l=e(11382),h=e(67294),F=e(40684),Y=e(85893),it=(0,Y.jsx)(l.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:20,fontSize:14},tip:"Loading...."}),U=(0,F.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(462),e.e(272)]).then(e.bind(e,56272))},{fallback:it}),y=(0,F.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(693),e.e(42)]).then(e.bind(e,59042))},{fallback:it}),D=(0,F.ZP)(function(){return Promise.all([e.e(80),e.e(274),e.e(417)]).then(e.bind(e,48417))},{fallback:it})},42411:function(vt,K,e){"use strict";e.d(K,{Z:function(){return Ot}});var u=e(11849),l=e(30381),h=e.n(l),F=e(41609),Y=e.n(F),it=e(76492),U="52px";function y(gt){var zt=!Y()(gt.seriesData)&&gt.dataZoom,O={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:zt?U:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{type:"category",data:gt.xAxisData},yAxis:{type:"value"},dataZoom:zt?gt.dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:gt.seriesName?gt.seriesName:"",data:gt.seriesData,type:"line",lineStyle:{color:gt.color?gt.color:{type:"linear",colorStops:[{offset:0,color:"rgb(204, 186, 250)"},{offset:.5,color:"rgb(144, 123, 247)"},{offset:.6,color:"rgb(95, 128, 249)"},{offset:.95,color:"rgb(80, 132, 250)"},{offset:1,color:"rgb(166, 192, 252)"}]},width:3},smooth:gt.smooth,step:gt.step}]};return(0,u.Z)((0,u.Z)({},(0,it.s)(gt.seriesData.length>0)),O)}var D=e(84486),ft=e.n(D),Ct=e(7654),I=e.n(Ct),R=e(52353),ot=e.n(R),H=e(14293),Dt=e.n(H),ht=e(63105),rt=e.n(ht),V=e(84238),t=e.n(V),Ut=function(zt,O,Qt){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},p=a.format,N=p===void 0?"MM-DD HH:mm":p,M=a.xAxis,nt=a.yAxis,q=a.smooth,Mt=q===void 0?!1:q,It=a.step,wt=a.dataZoom,Ft=a.needMinMax,Pt=Ft===void 0?!0:Ft,oe=a.yAxisMin,ue=oe===void 0?function(Bt){return parseInt(Bt.min*.9999*Math.pow(10,4))/Math.pow(10,4)}:oe,Ue=a.yAxisMax,Se=Ue===void 0?function(Bt){return parseInt(Bt.max*1.0001*Math.pow(10,4))/Math.pow(10,4)}:Ue,qt=a.tootlTipSuffix,$=qt===void 0?"(UTC)":qt,Te=a.tootlTipFormat,Ae=Te===void 0?"YYYY-MM-DD HH:mm":Te,xe=[],be=[],de={};zt.forEach(function(Bt){var w=h()(Bt.date).add(1,"days").format(Ae);$&&(w="".concat(w," ").concat($)),de[w]=h()(Bt.date).add(1,"days").format(N),xe.push(w),be.push(Bt[O])});var $t=y({xAxisData:xe,seriesName:Qt,seriesData:be,smooth:Mt,dataZoom:wt});if($t.yAxis=(0,u.Z)((0,u.Z)({},$t.yAxis),nt),$t.xAxis=(0,u.Z)((0,u.Z)({axisLabel:{formatter:function(w){return de[w]}}},$t.xAxis),M),$t.yAxis.splitLine={lineStyle:{color:"#454459"}},Pt&&($t.yAxis.min=ue,$t.yAxis.max=Se),$t.series[0].connectNulls=!0,$t.series[0].showSymbol=t()(rt()(be,function(Bt){return!Dt()(Bt)}))===1,$t.series[0].lineStyle={width:5,cap:"round"},It){var ce=$t.series[0].data;ft()(ce,function(Bt,w){(ot()(Bt)||I()(Bt))&&w!==0&&(ce[w]=ce[w-1])})}return $t},Ot=Ut},10501:function(vt,K,e){"use strict";e.d(K,{Z:function(){return h}});var u=e(11849),l=e(76492);function h(F){var Y=[],it=0,U=[];U=F.data,U.length>0&&U.forEach(function(D){var ft=(0,u.Z)({name:D.seriesName?D.seriesName:"",data:D.seriesData,type:"line",showSymbol:D.showSymbol,lineStyle:{width:5,cap:"round"}},D);it+=D.seriesData.length,Y.push(ft)});var y={animation:!1,textStyle:{color:"#fff"},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"},confine:!0},legend:F.legend,xAxis:{type:"category",data:F.xAxisData},yAxis:{type:"value"},series:Y};return F.tooltipFormatter&&(y.tooltip.formatter=F.tooltipFormatter),(0,u.Z)((0,u.Z)({},(0,l.s)(it>0)),y)}},76492:function(vt,K,e){"use strict";e.d(K,{s:function(){return u}});function u(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return l?{}:{graphic:{type:"text",left:"center",top:"middle",silent:!0,invisible:!1,style:{fill:"#9d9d9d",fontWeight:"bold",text:"No Data",fontSize:"25px"}}}}},22844:function(vt,K,e){"use strict";e.d(K,{O2:function(){return l},DO:function(){return h},Nd:function(){return F},A7:function(){return Y}});var u=e(905),l={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},h=18,F=(0,u.Z)(1e18),Y=4},53651:function(vt,K,e){"use strict";e.d(K,{Gj:function(){return u},KR:function(){return l},ux:function(){return h}});var u={daily:"daily",monthly:"monthly",weekly:"weekly",yearly:"yearly"},l={usdi:"USDi",ethi:"ETHi"},h=!1},55414:function(vt,K,e){"use strict";e.d(K,{o1:function(){return F},tX:function(){return Y}});var u=["Balancer","UniswapV2","Dodo","Sushi_Kashi","Sushi_Swap","Convex","Rari","UniswapV3","YearnEarn","YearnV2","YearnIron","GUni","Stargate","DForce","Synapse","Aura","Aave"],l=["Curve","Aave","Balancer","Gravity","Polycat","Qi","Quickswap","Sushi","Synapse","Dodo","Stargate","UniswapV3"],h=["Balancer","UniswapV2","Convex","Aura","UniswapV3","StakeWise","YearnV2","Aave"],F={1:u,137:l},Y={1:h}},7594:function(vt,K,e){"use strict";e.r(K);var u=e(57106),l=e(99683),h=e(57663),F=e(71577),Y=e(67294),it=e(65367),U=e(85893),y=function(){return(0,U.jsx)(l.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:(0,U.jsx)(F.Z,{type:"primary",onClick:function(){return it.m8.push("/")},children:"Back Home"})})};K.default=y},38465:function(vt,K,e){"use strict";e.r(K),e.d(K,{default:function(){return pn}});var u=e(32059),l=e(67294),h=e(65367),F=e(13062),Y=e(36725),it=e(89032),U=e(1635),y=e(11849),D=e(2824),ft=e(21349),Ct=e(22385),I=e(45777),R=e(93224),ot=e(58024),H=e(91894),Dt=e(94184),ht=e.n(Dt),rt=e(69255),V=e.n(rt),t=e(85893),Ut=["loading"],Ot=["contentHeight","title","avatar","action","total","footer","children"],gt=function(n,s){if(!n&&n!==0)return null;var i;switch(typeof n){case"undefined":i=null;break;case"function":i=(0,t.jsxs)("div",{className:V().total,children:[(0,t.jsx)("span",{children:n()}),s&&(0,t.jsx)("span",{className:V().unit,children:s})]});break;default:i=(0,t.jsxs)("div",{className:V().total,children:[(0,t.jsx)("span",{children:n}),s&&(0,t.jsx)("span",{className:V().unit,children:s})]})}return i},zt=function(n){var s=n.loading,i=s===void 0?!1:s,c=(0,R.Z)(n,Ut),m=c.contentHeight,v=c.title,g=c.avatar,A=c.action,T=c.total,S=c.footer,x=c.children,b=(0,R.Z)(c,Ot),et=function(){return i?!1:(0,t.jsxs)("div",{className:V().chartCard,children:[(0,t.jsxs)("div",{className:ht()(V().chartTop),children:[(0,t.jsx)("div",{className:V().avatar,children:g}),(0,t.jsxs)("div",{className:V().metaWrap,children:[(0,t.jsxs)("div",{className:V().meta,children:[(0,t.jsx)("span",{className:V().title,children:v}),(0,t.jsx)("span",{className:V().action,children:A})]}),gt(T,n.unit)]})]}),x&&(0,t.jsx)("div",{className:V().content,style:{height:m||"auto"},children:(0,t.jsx)("div",{className:m&&V().contentFixed,children:x})}),S&&(0,t.jsx)("div",{className:ht()(V().footer,(0,u.Z)({},V().footerMargin,!x)),children:S})]})};return(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:i,className:V().card},b),{},{children:et()}))},O=zt,Qt=e(68628),a=e(96486),p=e(25091),N=e(90958),M=e.n(N),nt=["label","value"],q={xs:24,sm:24,md:24,lg:8,xl:8},Mt=function(n){var s=n.label,i=n.value,c=(0,R.Z)(n,nt);return(0,t.jsxs)("div",(0,y.Z)((0,y.Z)({className:M().field},c),{},{children:[(0,t.jsx)("span",{className:M().label,children:s}),(0,t.jsx)("span",{className:M().number,children:i})]}))},It=function(n){var s=n.data,i=s===void 0?[]:s;return(0,t.jsx)(Y.Z,{gutter:[24,24],children:(0,a.map)(i,function(c){var m=c.title,v=c.tip,g=c.loading,A=c.content,T=c.unit,S=c.subTitle,x=(0,t.jsx)(Mt,{style:{height:"1.5rem"},value:S});return!S&&(0,p.tq)()&&(x=null),(0,t.jsx)(U.Z,(0,y.Z)((0,y.Z)({},q),{},{children:(0,t.jsx)(O,{bordered:!1,title:m,action:(0,t.jsx)(I.Z,{title:v,children:(0,t.jsx)(Qt.Z,{style:{fontSize:22}})}),loading:g,total:A,unit:T,footer:x})}),m)})})},wt=It,Ft=e(88983),Pt=e(82530),oe=e(43358),ue=e(76647),Ue=e(18106),Se=e(47428),qt=e(98821),$=e(93083),Te=Se.Z.TabPane,Ae=ue.Z.Option;function xe(Z){var n,s=Z.isUsdi,i=Z.loading,c=i===void 0?!1:i,m=Z.calDateRange,v=m===void 0?7:m,g=Z.onCalDateRangeClick,A=g===void 0?function(){}:g,T=Z.apyEchartOpt,S=T===void 0?{}:T,x=Z.tvlEchartOpt,b=x===void 0?{}:x,et=(0,$.hU)(),E=(n={},(0,u.Z)(n,$.me.Desktop,{chartWrapperClassName:M().chartDiv}),(0,u.Z)(n,$.me.Tablet,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:M().chartDivMobile}),(0,u.Z)(n,$.me.Mobile,{cardProps:{size:"small"},buttonProps:{size:"small",style:{fontSize:"0.5rem"}},chartWrapperClassName:M().chartDivMobile,tabClassName:M().tabMobile}),n)[et],Tt=function(B){typeof B=="number"?A(B):A(B.target.value)},tt=(0,t.jsx)("div",{className:M().buttons,children:(0,t.jsxs)(Pt.ZP.Group,{value:v,onChange:Tt,children:[(0,t.jsx)(I.Z,{title:"last 7 days",children:(0,t.jsx)(Pt.ZP.Button,{value:7,children:"WEEK"})}),(0,t.jsx)(I.Z,{title:"last 30 days",children:(0,t.jsx)(Pt.ZP.Button,{value:31,children:"MONTH"})}),(0,t.jsx)(I.Z,{title:"last 365 days",children:(0,t.jsx)(Pt.ZP.Button,{value:365,children:"YEAR"})})]})});return et===$.me.Mobile&&(tt=(0,t.jsxs)(ue.Z,{style:{width:120},value:v,onChange:Tt,children:[(0,t.jsx)(Ae,{value:7,children:"WEEK"}),(0,t.jsx)(Ae,{value:31,children:"MONTH"}),(0,t.jsx)(Ae,{value:365,children:"YEAR"})]})),(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:c,bordered:!1,style:{marginTop:40}},E.cardProps),{},{children:(0,t.jsx)("div",{className:M().vaultKeyCard,children:(0,t.jsxs)(Se.Z,{animated:!0,className:ht()(E.tabClassName),tabBarExtraContent:tt,children:[(0,t.jsx)(Te,{tab:"APY (%)",children:(0,t.jsx)("div",{className:E.chartWrapperClassName,children:(0,t.jsx)(qt.$c,{option:S,style:{height:"100%",width:"100%"}})})},"apy"),(0,t.jsx)(Te,{tab:"Total Supply",children:(0,t.jsx)("div",{className:E.chartWrapperClassName,children:(0,t.jsx)(qt.$c,{option:b,style:{height:"100%",width:"100%"}})})},"totalSupply")]})})}))}var be=e(96222),de=e(22533),$t=e(12968),ce=e(62462),Bt=e(86582),w=e(905),P=e(9292),na=function(n){var s,i=n.tokenDecimals,c=n.displayDecimals,m=n.strategyMap,v=n.visitData,g=v===void 0?{}:v,A=n.unit,T=(0,h.tT)("@@initialState"),S=T.initialState,x=(0,$.hU)();if(!S.chain)return null;var b=g.strategies,et=b===void 0?[]:b,E=g.totalValueInVault,Tt=E===void 0?"0":E,tt=(0,a.reduce)(et,function(d,o){return d.plus(o.totalValue)},(0,w.Z)(0)),st=(0,w.Z)(Tt).plus(tt),B=(0,a.groupBy)((0,a.filter)(et,function(d){return d.totalValue>0}),"protocol"),W=[].concat((0,Bt.Z)((0,a.values)((0,a.mapValues)(B,function(d,o){var r=(0,a.reduce)(d,function(k,C){return k.plus(C.totalValue)},(0,w.Z)(0));return{name:m[S.chain][o],amount:r,percent:r.div(st)}}))),[{name:"Vault",amount:(0,w.Z)(Tt),percent:st.eq(0)?"0":(0,w.Z)(Tt).div(st)}]),at=[{title:"Protocol Name",dataIndex:"name",key:"name",render:function(o){return(0,t.jsxs)("div",{className:M().tableCell,children:[(0,t.jsx)(ce.Z,{width:30,preview:!1,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(o,".png"),placeholder:o,alt:o,style:{borderRadius:"50%"},fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("span",{className:M().text,children:o})]})}},{title:"Asset (".concat(A,")"),dataIndex:"amount",key:"amount",showSorterTooltip:!1,sorter:function(o,r){return o.amount.minus(r.amount)},render:function(o){return(0,P.FH)(o.toString(),i,c)}},{title:"Asset Ratio",dataIndex:"percent",key:"percent",defaultSortOrder:"descend",showSorterTooltip:!1,sorter:function(o,r){return o.percent.minus(r.percent)},render:function(o){return(0,t.jsxs)("span",{children:[(0,P.FH)(o,.01,2),"%"]})}}],lt=(s={},(0,u.Z)(s,$.me.Desktop,{}),(0,u.Z)(s,$.me.Tablet,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),(0,u.Z)(s,$.me.Mobile,{tableProps:{size:"small",rowClassName:"tablet-font-size"}}),s)[x];return(0,t.jsx)("div",{children:(0,t.jsx)(de.Z,(0,y.Z)({rowKey:function(o){return o.name},columns:at,dataSource:W,pagination:!1},lt.tableProps))})},ia=na,vn=e(13254),ra=e(14277),sa=e(88377),la=e(92077),St=e.n(la),oa=function(n){var s,i=n.strategyMap,c=n.tokenDecimals,m=n.displayDecimals,v=n.visitData,g=v===void 0?{}:v,A=n.unit,T=g.strategies,S=T===void 0?[]:T,x=g.totalValueInVault,b=x===void 0?"0":x,et=(0,h.tT)("@@initialState"),E=et.initialState,Tt=(0,$.hU)(),tt=" (".concat(A,")");if(!E.chain)return null;var st=(0,a.reduce)(S,function(o,r){return o.plus(r.totalValue)},(0,w.Z)(0)),B=(0,w.Z)(b).plus(st),W=(0,a.groupBy)((0,a.filter)(S,function(o){return o.totalValue>0}),"protocol"),at=(0,P.FH)(B,c,m);if((0,a.isEmpty)(W)&&at<=0||isNaN(at))return(0,t.jsx)(ra.Z,{style:{marginTop:"4rem"}});var lt=[].concat((0,Bt.Z)((0,a.values)((0,a.mapValues)(W,function(o,r){var k=(0,a.reduce)(o,function(C,j){return C.plus(j.totalValue)},(0,w.Z)(0));return{Protocol:"".concat(i[E.chain][r]).concat(tt),amount:(0,P.FH)(k,c,m)}}))),[{Protocol:"Vault".concat(tt),amount:(0,P.FH)(b,c,m)}]),d=(s={},(0,u.Z)(s,$.me.Desktop,{legendProps:{position:"bottom-center"}}),(0,u.Z)(s,$.me.Tablet,{legendProps:{position:"bottom-center"}}),(0,u.Z)(s,$.me.Mobile,{legendProps:{position:"bottom-center"}}),s)[Tt];return(0,t.jsx)("div",{className:M().chartWrapper,children:(0,t.jsx)(sa.yi,{forceFit:!0,padding:"auto",angleField:"amount",color:["#A68EFE","#2ec7c9","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4"],colorField:"Protocol",data:lt,legend:(0,y.Z)({visible:!0,text:{style:{fill:"#fff"},formatter:function(r){return r.replace(tt,"")}}},d.legendProps),label:{visible:!1,type:"spider",offset:20,formatter:function(r,k){return"".concat(k._origin.Protocol,": ").concat(k._origin.amount)}},interactions:[{type:"element-selected"},{type:"element-active"}],statistic:{visible:!0,content:{value:St()((0,P.FH)(B,c,m)).format("0.[0000]a"),name:"TVL".concat(tt)}}})})},ua=oa,kt=e(1123);function Ve(Z){var n,s=Z.loading,i=s===void 0?!1:s,c=Z.tokenDecimals,m=Z.strategyMap,v=m===void 0?{}:m,g=Z.vaultData,A=g===void 0?{}:g,T=Z.unit,S=T===void 0?"USD":T,x=Z.displayDecimals,b=x===void 0?kt.h:x,et=(0,$.hU)(),E=(n={},(0,u.Z)(n,$.me.Desktop,{}),(0,u.Z)(n,$.me.Tablet,{cardProps:{size:"small"}}),(0,u.Z)(n,$.me.Mobile,{cardProps:{size:"small"}}),n)[et];return(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:i,className:M().salesCard,bordered:!1,title:"Vault Protocol Allocations",style:{height:"100%",marginTop:40}},E.cardProps),{},{children:(0,t.jsxs)(Y.Z,{children:[(0,t.jsx)(U.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(ua,{loading:i,strategyMap:v,tokenDecimals:c,displayDecimals:b,visitData:A||{},unit:S})})}),(0,t.jsx)(U.Z,{xl:12,lg:24,md:24,sm:24,xs:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(ia,{loading:i,strategyMap:v,tokenDecimals:c,displayDecimals:b,visitData:A||{},unit:S})})})]})}))}var mn=e(77576),da=e(12028),yn=e(54029),ca=e(79166),pa=e(69157),va=e(26985),Lt=e(860),ma=function(n){var s,i=n.loading,c=n.strategyMap,m=n.displayDecimals,v=m===void 0?kt.h:m,g=n.unit,A=g===void 0?"USD":g,T=(0,l.useState)(!0),S=(0,D.Z)(T,2),x=S[0],b=S[1],et=(0,h.tT)("@@initialState"),E=et.initialState,Tt=(0,$.hU)(),tt=(0,h.QT)(function(){return(0,Lt.mB)(E.chain,E.vaultAddress,0,100)},{formatResult:function(r){return(0,a.sortBy)(r.content,["strategyName"])}}),st=tt.data;if(!E.chain)return null;var B=(0,w.Z)(1e18),W=[{title:(0,t.jsxs)("div",{children:["Name\xA0\xA0",(0,t.jsx)(I.Z,{placement:"topLeft",arrowPointAtCenter:!0,overlayStyle:{width:300},title:"By clicking on the strategy name you will be directed to the strategy page with all the related information viewable, e.g., strategy profits and official APY.",children:(0,t.jsx)(Qt.Z,{})})]}),dataIndex:"strategyName",key:"strategyName",width:320,render:function(r,k){return(0,t.jsxs)("div",{className:M().tableCell,children:[(0,t.jsx)(ce.Z,{preview:!1,width:30,src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(c[E.chain][k.protocol],".png"),placeholder:k.protocol,style:{borderRadius:"50%"},alt:c[E.chain][k.protocol],fallback:"".concat("https://v2.bankofchain.io","/default.png")}),(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat((0,va.i)()?"https://dashboard.bankofchain.io":"https://dashboard-v2.bankofchain.io","/#/strategy?id=").concat(k.strategyAddress,"&chain=").concat(E.chain,"&vault=").concat(E.vault),className:M().text,children:r})]})}},{title:"Tokens",dataIndex:"underlyingTokens",key:"underlyingTokens",width:130,render:function(r){return!(0,a.isEmpty)(r)&&(0,t.jsx)(pa.Z,{array:r.split(",")})}},{title:"Asset (".concat(A,")"),dataIndex:"totalAssetBaseCurrent",key:"totalAssetBaseCurrent",showSorterTooltip:!1,defaultSortOrder:"descend",sorter:function(r,k){return(0,w.Z)(r.totalAssetBaseCurrent||"0").minus((0,w.Z)(k.totalAssetBaseCurrent||"0"))},render:function(r){return(0,t.jsx)("span",{children:(0,P.FH)(r||"0",B,v)})}},{title:"Weekly Official APY",dataIndex:"officialWeeklyApy",key:"officialWeeklyApy",showSorterTooltip:!1,sorter:function(r,k){return r.officialWeeklyApy-k.officialWeeklyApy},render:function(r){return(0,t.jsxs)("span",{children:[(0,P.Ik)((100*r).toFixed(2)),"%"]})}},{title:"Weekly Realized APY",dataIndex:"realizedApy",key:"realizedApy",showSorterTooltip:!1,sorter:function(r,k){var C=r.realizedApy||{value:"0"},j=C.value,J=k.realizedApy||{value:"0"},z=J.value;return j-z},render:function(r){if((0,a.isEmpty)(r))return(0,t.jsx)("span",{children:"0.00%"});var k=r.value,C=r.detail,j=(0,t.jsxs)("span",{children:[(0,P.Ik)((100*k).toFixed(2)),"%"]});if((0,a.isEmpty)(C))return j;var J=(0,t.jsx)("div",{children:(0,a.map)(C,function(z,mt){return(0,t.jsxs)("span",{style:{display:"block"},children:[z.feeName,": ",(0,P.Ik)((100*z.feeApy).toFixed(2)),"%"]},mt)})});return(0,t.jsxs)("span",{children:[j,"\xA0",(0,t.jsx)(I.Z,{title:J,children:(0,t.jsx)(Qt.Z,{})})]})}},{title:"Weekly Unrealized APY",dataIndex:"unrealizedApy",key:"unrealizedApy",showSorterTooltip:!1,sorter:function(r,k){var C=r.unrealizedApy||{value:"0"},j=C.value,J=k.unrealizedApy||{value:"0"},z=J.value;return j-z},render:function(r){if((0,a.isEmpty)(r))return(0,t.jsx)("span",{children:"0.00%"});var k=r.value,C=r.detail,j=(0,t.jsxs)("span",{children:[(0,P.Ik)((100*k).toFixed(2)),"%"]});if((0,a.isEmpty)(C))return j;var J=(0,t.jsx)("div",{children:(0,a.map)(C,function(z,mt){return(0,t.jsxs)("span",{style:{display:"block"},children:[z.feeName,": ",(0,P.Ik)((100*z.feeApy).toFixed(2)),"%"]},mt)})});return(0,t.jsxs)("span",{children:[j,"\xA0",(0,t.jsx)(I.Z,{title:J,children:(0,t.jsx)(Qt.Z,{})})]})}},{title:"Weekly Realized Profit",dataIndex:"weekProfit",key:"weekProfit",render:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,k=arguments.length>1?arguments[1]:void 0,C=k.estimateProfit,j=k.tokenUnit,J=j===void 0?"":j,z=(0,a.isNil)(C),mt=(0,t.jsx)(ca.Z,{dot:!z,color:"gold",children:(0,t.jsxs)("span",{children:[(0,P.FH)(r||"0",B,v)," ",J||""]})});if(z)return mt;var At=(0,t.jsxs)("span",{children:["Estimate Profit: ",(0,P.FH)(C,B,v)," ",J||""]});return(0,t.jsx)(I.Z,{title:At,children:mt})}},{title:"Strategy Address",dataIndex:"strategyAddress",key:"strategyAddress",align:"center",render:function(r,k){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[E.chain],"/address/").concat(k.strategyAddress),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}],at=x?st:(0,a.filter)(st,function(o){return(0,w.Z)(o.totalAsset).gt(0)}),lt=(s={},(0,u.Z)(s,$.me.Desktop,{}),(0,u.Z)(s,$.me.Tablet,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}}),(0,u.Z)(s,$.me.Mobile,{cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"mobile-font-size",scroll:{x:900}}}),s)[Tt],d="Vault Strategies Allocations";return Tt===$.me.Mobile&&(d="Strategies Allocations"),(0,t.jsx)("div",{children:(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:i,bordered:!1,title:d,extra:(0,t.jsxs)("div",{children:[(0,t.jsx)(da.Z,{checked:x,onChange:function(){return b(!x)}}),(0,t.jsx)(I.Z,{title:"show all strategies added in vault",children:(0,t.jsx)("span",{style:{padding:10},children:"Show All"})})]}),style:{height:"100%",marginTop:40}},lt.cardProps),{},{children:(0,t.jsx)(de.Z,(0,y.Z)({rowKey:function(r){return r.strategyAddress},columns:W,dataSource:at,pagination:(at==null?void 0:at.length)>10&&{style:{marginBottom:0},pageSize:10}},lt.tableProps))}))})},Ne=ma,ya=e(30381),ne=e.n(ya),fa=e(35161),pe=e.n(fa),ha=e(39693),ga=e.n(ha),Nt=e(39428),se=e(3182),Ie=e(25630),je=e(94991),ve=e(89850),Ce,We={SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethereum","137":""},VAULT_ADDRESS:{"1":"0x30D120f80D60E7b58CA9fFaf1aaB1815f000B7c3","137":""},USDI_ADDRESS:{"1":"0x83131242843257bc6C43771762ba467346Efb2CF","137":""},VAULT_BUFFER_ADDRESS:{"1":"0x0b8D3634a05cc6b50E4D026c0eaFa8469cA98480","137":""}}.SUB_GRAPH_URL,Ta=(Ce={},(0,u.Z)(Ce,ve.W3.id,new Ie.f({uri:We[ve.W3.id],cache:new je.h})),(0,u.Z)(Ce,ve.hB.id,new Ie.f({uri:We[ve.hB.id],cache:new je.h})),Ce),Aa=(0,u.Z)({},ve.hB.id,new Ie.f({uri:{SUB_GRAPH_URL:{"1":"https://api.thegraph.com/subgraphs/name/bankofchain/boc-ethi"},VAULT_ADDRESS:{"1":"0x8f0Cb368C63fbEDF7a90E43fE50F7eb8B9411746"},ETHI_ADDRESS:{"1":"0x1A597356E7064D4401110FAa2242bD0B51D1E4Fa"},VAULT_BUFFER_ADDRESS:{"1":"0xC8915157b36ed6D0F36827a1Bb5E9b0cDd1e87Cd"}}.SUB_GRAPH_URL[ve.hB.id],cache:new je.h})),_e=function(n,s){var i,c=(i={},(0,u.Z)(i,kt._.USDi,Ta),(0,u.Z)(i,kt._.ETHi,Aa),i)[n];return c[s]},He=e(87899),xa=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalValueInVault
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      totalValue
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Ea=`
query ($tokenAddress: Bytes, $valutAddress: Bytes, $vaultBufferAddress: Bytes) {
  pegToken(id: $tokenAddress) {
    tokenInfo {
      decimals
    }
    totalSupply
    holderCount
  }
  vault(id: $valutAddress) {
    id
    totalAssets
    strategies(where: {isAdded: true}) {
      id
      protocol
      debtRecordInVault
    }
    isAdjust
  }
  vaultBuffer(id: $vaultBufferAddress) {
    id
    totalSupply
  }
}
`,Da=function(){var Z=(0,se.Z)((0,Nt.Z)().mark(function n(s,i){var c,m,v,g,A,T,S,x,b=arguments;return(0,Nt.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(m=b.length>2&&b[2]!==void 0?b[2]:"",v=b.length>3&&b[3]!==void 0?b[3]:"",g=b.length>4&&b[4]!==void 0?b[4]:"",A=_e(s,i),!(0,a.isEmpty)(A)){E.next=6;break}return E.abrupt("return");case 6:return T=(c={},(0,u.Z)(c,kt._.USDi,xa),(0,u.Z)(c,kt._.ETHi,Ea),c)[s],E.next=9,A.query({query:(0,He.Ps)(T),variables:{tokenAddress:m.toLowerCase(),valutAddress:v.toLowerCase(),vaultBufferAddress:g.toLowerCase()}});case 9:return S=E.sent,x=S.data,E.abrupt("return",x);case 12:case"end":return E.stop()}},n)}));return function(s,i){return Z.apply(this,arguments)}}(),we=function(){return`
query($types: [PegTokenUpdateType], $first: Int) {
  pegTokenUpdates(
    orderBy: timestamp,
    orderDirection: desc,
    first: $first,
    where: {
      type_in: $types
    },
  ) {
    id
    type
    transferredAmount
    totalSupplyChangeAmount
    timestamp
    fromAccountUpdate {
      account {
        id
      }
    }
    transaction {
      id
    }
		toAccountUpdate {
      account {
        id
      }
    }
  }
}
`},Sa=function(){var Z=(0,se.Z)((0,Nt.Z)().mark(function n(s,i,c){var m,v,g,A,T=arguments;return(0,Nt.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(v=T.length>3&&T[3]!==void 0?T[3]:100,g=_e(s,i),!(0,a.isEmpty)(g)){x.next=4;break}return x.abrupt("return");case 4:return A=(m={},(0,u.Z)(m,kt._.USDi,we()),(0,u.Z)(m,kt._.ETHi,we()),m)[s],x.next=7,g.query({query:(0,He.Ps)(A),variables:{types:c,first:v}}).then(function(b){return b.data.pegTokenUpdates});case 7:return x.abrupt("return",x.sent);case 8:case"end":return x.stop()}},n)}));return function(s,i,c){return Z.apply(this,arguments)}}(),$e=e(61303),Oe={Mint:"Mint",Deposit:"Deposit",Burn:"Burn",Rebase:"Rebase",Transfer:"Transfer"},ba=18,Be=(0,w.Z)(1e18),Ca=ue.Z.Option,Ma=function(n){var s,i,c=n.loading,m=n.dispalyDecimal,v=m===void 0?kt.h:m,g=n.decimals,A=g===void 0?ba:g,T=n.token,S=T===void 0?"USDi":T,x=n.filterOptions,b=x===void 0?Oe:x,et=(0,h.tT)("@@initialState"),E=et.initialState,Tt=(0,l.useState)([]),tt=(0,D.Z)(Tt,2),st=tt[0],B=tt[1],W=(0,l.useState)(!1),at=(0,D.Z)(W,2),lt=at[0],d=at[1],o=(0,$.hU)(),r=(0,y.Z)({All:"All"},(0,a.omit)(b,[b.Deposit])),k=(0,l.useState)(r.All),C=(0,D.Z)(k,2),j=C[0],J=C[1],z=(0,l.useState)(1),mt=(0,D.Z)(z,2),At=mt[0],G=mt[1];(0,l.useEffect)(function(){var Q=[j];j===Oe.Mint&&Q.push(Oe.Deposit);var L=j===r.All?Object.values(b):Q;d(!0),Sa(E.vault,E.chain,L).then(function(X){var ut=ga()(pe()(X,function(dt){var ct,xt,bt,jt,Yt;if(!(dt.type===b.Mint&&(dt==null||(ct=dt.toAccountUpdate)===null||ct===void 0||(xt=ct.account)===null||xt===void 0||(bt=xt.id)===null||bt===void 0?void 0:bt.toLowerCase())===((jt=(0,$e.L)(E.chain,E.vault))===null||jt===void 0||(Yt=jt.vaultBufferAddress)===null||Yt===void 0?void 0:Yt.toLowerCase())))return dt.type===b.Deposit?(0,y.Z)((0,y.Z)({},dt),{},{type:b.Mint}):dt}));G(1),B(ut)}).finally(function(){d(!1)})},[j]);var yt=function(L){return(0,t.jsx)("a",{target:"_blank",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[E.chain],"/address/").concat(L),title:L,rel:"noreferrer",children:L})},Zt=(s={},(0,u.Z)(s,$.me.Desktop,["10rem","10rem","25rem","8rem"]),(0,u.Z)(s,$.me.Tablet,["8rem","8rem",void 0,"8rem"]),(0,u.Z)(s,$.me.Mobile,["8rem","8rem",void 0,"8rem"]),s)[o],Wt=[{title:"Date",dataIndex:"timestamp",key:"timestamp",render:function(L){return(0,t.jsx)(I.Z,{title:"".concat(ne()(1e3*L).utcOffset(0).format("yyyy-MM-DD HH:mm:ss")," (UTC)"),children:ne()(1e3*L).utcOffset(0).locale("en").fromNow()})}},{title:"Operation",dataIndex:"type",key:"type",ellipsis:{showTitle:!1}},{title:"Details",key:"detail",render:function(L,X){var ut,dt,ct=X.type,xt=X.transferredAmount,bt=X.toAccountUpdate,jt=X.fromAccountUpdate,Yt=X.totalSupplyChangeAmount,Vt=(0,P.Wl)(Yt,A,v),Rt=(0,P.Wl)((0,w.Z)(xt).abs(),A,v),Et=(0,P.Wl)(xt,A,v),_=(0,P.FH)(Yt,(0,w.Z)(Math.pow(10,A))),pt=(0,P.FH)((0,w.Z)(xt).abs(),(0,w.Z)(Math.pow(10,A))),_t=(0,P.FH)(xt,(0,w.Z)(Math.pow(10,A))),re=jt==null||(ut=jt.account)===null||ut===void 0?void 0:ut.id,ge=bt==null||(dt=bt.account)===null||dt===void 0?void 0:dt.id,Jt={Mint:function(){return(0,t.jsxs)(t.Fragment,{children:[ct," ",(0,t.jsx)("span",{title:_t,children:Et})," ",S," to ",yt(ge)]})},Burn:function(){return(0,t.jsxs)(t.Fragment,{children:[ct," ",(0,t.jsx)("span",{title:pt,children:Rt})," ",S," from ",yt(re)]})},Rebase:function(){return(0,t.jsxs)(t.Fragment,{children:[ct," ",(0,t.jsx)("span",{title:_,children:Vt})," ",S]})},Transfer:function(){return(0,t.jsxs)(t.Fragment,{children:[ct," ",(0,t.jsx)("span",{title:_t,children:Et})," ",S," from ",yt(re)," to ",yt(ge)]})}};return(0,t.jsx)("span",{style:{whiteSpace:"normal"},children:Jt[X.type]()})}},{title:"Tx Address",key:"tx",ellipsis:{showTitle:!1},align:"center",render:function(L,X){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[E.chain],"/tx/").concat(X.transaction.id),children:(0,t.jsx)("img",{width:21,src:"".concat("https://v2.bankofchain.io","/link.png"),alt:"link"})})}}];Wt.forEach(function(Q,L){Q.width=Zt[L]});var f=function(L){typeof L=="string"?J(L):J(L.target.value)},Kt=(i={},(0,u.Z)(i,$.me.Desktop,{radioGroupProps:{size:"large"}}),(0,u.Z)(i,$.me.Tablet,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{size:"small",scroll:{x:800}}}),(0,u.Z)(i,$.me.Mobile,{cardProps:{size:"small"},radioGroupProps:{size:"small"},tableProps:{compact:!0,size:"small",scroll:{x:800}}}),i)[o],ae=(0,t.jsx)(Pt.ZP.Group,(0,y.Z)((0,y.Z)({value:j,onChange:f,buttonStyle:"outline"},Kt.radioGroupProps),{},{className:M().buttons,children:pe()(r,function(Q,L){return(0,t.jsx)(Pt.ZP.Button,{value:Q,children:L},L)})}));return o===$.me.Mobile&&(ae=(0,t.jsx)(ue.Z,{style:{width:120},value:j,onChange:f,children:pe()(r,function(Q,L){return(0,t.jsx)(Ca,{value:Q,children:L},L)})})),(0,t.jsx)("div",{children:(0,t.jsx)(H.Z,(0,y.Z)((0,y.Z)({loading:c,bordered:!1,title:"Recent Activity",extra:ae,style:{height:"100%",marginTop:40}},Kt.cardProps),{},{children:(0,t.jsx)(de.Z,(0,y.Z)({rowKey:function(L){return L.id},columns:Wt,dataSource:st,loading:lt,pagination:(st==null?void 0:st.length)>10&&{showSizeChanger:!1,style:{marginBottom:0},current:At,pageSize:10,onChange:function(L){G(L)}}},Kt.tableProps))}))})},Fe=Ma,Ke=e(42411),Ye=e(10501),Pa=e(3691),Za=e.n(Pa),Ua=[{label:"USDi",value:"usdi"},{label:"ETHi",value:"ethi"},{label:"USDr",value:"usdr"},{label:"ETHr",value:"ethr"}],Ia=function(){var n=(0,h.tT)("@@initialState"),s=n.initialState,i=n.setInitialState;console.log("initialState",s);var c=function(v){var g=h.m8.location.query.chain;console.log("chain",g),i((0,y.Z)((0,y.Z)({},s),{},{vault:v},(0,$e.L)(g,v))),h.m8.push({query:{chain:g||s.chain,vault:v}})};return(0,t.jsx)(Y.Z,{children:(0,t.jsx)(U.Z,{span:24,className:Za().container,children:(0,t.jsx)(Pt.ZP.Group,{size:"large",onChange:function(v){return c(v.target.value)},value:s.vault,buttonStyle:"solid",children:pe()(Ua,function(m,v){return(0,t.jsx)(Pt.ZP.Button,{value:m.value,children:m.label},v)})})})})},Me=Ia,Pe=e(55414),me=e(53651),Xt=e(22844),ja=e(41609),ie=e.n(ja),Oa=function(n){var s=n.vault,i=n.chain,c=n.vaultAddress,m=n.tokenAddress,v=n.vaultBufferAddress;return ie()(m)||ie()(c)?Promise.reject(new Error("fetch tokenAddress or vaultAddress failed")):Da(s,i,m,c,v).catch(function(g){return console.error("init DashBoard data failed",g),{pegToken:{totalSupply:"0",holderCount:"0"},vault:{totalAssets:"0",strategies:[]},vaultBuffer:{totalSupply:"0"}}})};function ze(){var Z=(0,l.useState)({}),n=(0,D.Z)(Z,2),s=n[0],i=n[1],c=(0,l.useState)(!1),m=(0,D.Z)(c,2),v=m[0],g=m[1],A=(0,h.tT)("@@initialState"),T=A.initialState;return(0,l.useEffect)(function(){T!=null&&T.chain&&(g(!0),Oa(T).then(i).finally(function(){g(!1)}))},[T==null?void 0:T.chain,T==null?void 0:T.vault]),{dataSource:s,loading:v}}var Ee=e(2593),Ba=e(13311),La=e.n(Ba),Ze=function(n){for(var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"value",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,c=[],m=function(A){var T=n[0]?ne()(n[0].date):ne()().utcOffset(0).subtract(1,"days"),S=T.subtract(A,"days").format("YYYY-MM-DD"),x=La()(n,function(b){return b.date===S})||(0,u.Z)({date:S},s,void 0);c.push(x)},v=0;v<i;v++)m(v);return c},Ra=function(){var n=(0,l.useState)(31),s=(0,D.Z)(n,2),i=s[0],c=s[1],m=(0,l.useState)({}),v=(0,D.Z)(m,2),g=v[0],A=v[1],T=(0,l.useState)({}),S=(0,D.Z)(T,2),x=S[0],b=S[1],et=(0,l.useState)(0),E=(0,D.Z)(et,2),Tt=E[0],tt=E[1],st=(0,h.tT)("@@initialState"),B=st.initialState,W=ze(),at=W.dataSource,lt=at===void 0?{}:at,d=W.loading,o=lt.pegToken,r=o===void 0?{}:o,k=lt.vault,C=k===void 0?{}:k,j=lt.vaultBuffer,J=j===void 0?{}:j;if((0,l.useEffect)(function(){if(!!B.chain){var X={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};i>7&&(X.format="MM-DD"),(0,Lt.ld)({chainId:B.chain,duration:me.Gj.monthly,limit:i,tokenType:me.KR.ethi}).then(function(ut){var dt=Ze(ut.content,"apy",i),ct=(0,a.map)((0,a.reverse)(dt),function(_){var pt=_.date,_t=_.apy,re=(0,a.isNil)(_t)?null:"".concat(St()(_t).format("0.00"));return{date:pt,apy:re}});tt(ut.content[0]?ut.content[0].apy:0);var xt=(0,a.uniq)((0,a.map)(ct,function(_){var pt=_.date;return pt})),bt=[],jt=(0,a.map)(xt,function(_){var pt=(0,a.find)(ct,{date:_});return pt?{value:(0,P.Ay)(pt.apy),label:"".concat((0,P.Ik)(pt.apy),"%")}:null}),Yt=[{seriesName:"APY",seriesData:jt,showSymbol:(0,a.size)((0,a.filter)(jt,function(_){return!(0,a.isNil)(_.value)}))===1}],Vt={legend:{data:bt,textStyle:{color:"#fff"}},xAxisData:xt,data:Yt},Rt=(0,Ye.Z)(Vt);Rt.color=["#A68EFE","#5470c6","#91cc75"],Rt.series.forEach(function(_){_.connectNulls=!0,_.name==="Estimated APY"&&(_.lineStyle={width:2,type:"dotted"})}),Rt.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var Et=[];Rt.xAxis.data=Rt.xAxis.data.map(function(_){var pt="".concat(ne()(_).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return Et[pt]=ne()(_).add(1,"days").format(X.format),pt}),Rt.xAxis.axisLabel={formatter:function(pt){return Et[pt]}},Rt.xAxis.axisTick={alignWithLabel:!0},Rt.yAxis.splitLine={lineStyle:{color:"#454459"}},Rt.tooltip=(0,y.Z)((0,y.Z)({},Rt.tooltip),{},{formatter:function(pt){if(pt.length>0){var _t=pt[0],re=_t.axisValueLabel,ge=_t.marker,Jt=_t.seriesName,Ht=_t.data,ke="".concat(re,"<br/>").concat(ge).concat(Jt,": ");return Ht!=null&&Ht.value?ke+=Ht==null?void 0:Ht.label:ke+="-",ke}}}),b(Rt)}).catch(function(ut){console.error(ut)}),(0,Lt.fY)({chainId:B.chain,limit:i,tokenType:me.KR.ethi}).then(function(ut){var dt=Ze(ut.content,"totalSupply",i),ct=(0,a.map)((0,a.reverse)(dt),function(xt){var bt=xt.date,jt=xt.totalSupply;return{date:bt,totalSupply:(0,P.FH)(jt,Xt.Nd,Xt.A7)}});A((0,Ke.Z)(ct,"totalSupply","ETHi",(0,y.Z)((0,y.Z)({},X),{},{yAxisMin:function(bt){return Math.floor(bt.min*.998)},yAxisMax:function(bt){return Math.ceil(bt.max*1.001)}})))}).catch(function(ut){console.error(ut)})}},[i,B.chain]),(0,l.useEffect)(function(){return function(){(0,Lt.jv)()}},[]),(0,a.isEmpty)(B.chain))return null;var z=function(){return(0,a.isEmpty)(r)||(r==null?void 0:r.totalSupply)==="0"||(0,a.isEmpty)(C==null?void 0:C.totalAssets)?"1":!(0,a.isEmpty)(J)&&C.isAdjust?(0,P.FH)(Ee.O$.from(C.totalAssets).sub(J.totalSupply),r==null?void 0:r.totalSupply,6):(0,P.FH)(C==null?void 0:C.totalAssets,r==null?void 0:r.totalSupply,6)},mt=function(){h.m8.push("/prices?chain=".concat(B.chain,"&vault=").concat(B.vault))},At=(0,P.FH)(r==null?void 0:r.totalSupply,Xt.Nd,Xt.A7),G=St()(At).format("0.00 a"),yt=G.split(" "),Zt=(0,D.Z)(yt,2),Wt=Zt[0],f=Zt[1],Kt=isNaN(new Number(f)),ae=[{title:"Total Supply",tip:"Current total ETHi supply.",content:(0,a.isEmpty)(r)?0:"".concat(Wt).concat(Kt?"":f),loading:d,unit:"".concat((0,a.isEmpty)(r)?"":"".concat(Kt?f:"")," ETHi"),subTitle:(0,t.jsxs)("p",{children:["1ETHi \u2248 ",z(),"ETH"," ",(0,t.jsx)("span",{className:M().history,onClick:mt,children:"History"})]})},{title:"Holders",tip:"Number Of ETHi holders.",content:St()(r==null?void 0:r.holderCount).format("0.[0000]a"),loading:d},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,P.Ik)(parseFloat(Tt).toFixed(2)),loading:d,unit:"%"}],Q=(0,a.cloneDeep)(lt.vault);if(Q){var L=(0,a.reduce)(Q.strategies,function(X,ut){return X.plus(ut.debtRecordInVault)},(0,w.Z)(0));Q.totalValueInVault=(0,w.Z)(Q.totalAssets).minus(L).toString(),Q.strategies.map(function(X){return X.totalValue=X.debtRecordInVault})}return(0,t.jsx)(ft.Z,{children:(0,t.jsxs)(Y.Z,{gutter:[24,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(Me,{})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:ae})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(xe,{loading:d,calDateRange:i,onCalDateRangeClick:c,apyEchartOpt:x,tvlEchartOpt:g})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ve,{loading:d,strategyMap:Pe.tX,tokenDecimals:Xt.Nd,displayDecimals:Xt.A7,vaultData:Q,unit:"ETH"})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ne,{unit:"ETH",loading:d,strategyMap:Pe.tX,displayDecimals:Xt.A7})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Fe,{token:"ETHi",decimals:Xt.DO,dispalyDecimal:Xt.A7,filterOptions:Xt.O2,loading:d})})}),(0,t.jsx)(U.Z,{span:24})]})})},ka=Ra,Le=e(91907),Va=[{label:"Ethereum",key:"1"},{label:"Polygon",key:"137"}],Na=function(){var n=(0,l.useState)(31),s=(0,D.Z)(n,2),i=s[0],c=s[1],m=(0,l.useState)({}),v=(0,D.Z)(m,2),g=v[0],A=v[1],T=(0,l.useState)({}),S=(0,D.Z)(T,2),x=S[0],b=S[1],et=(0,l.useState)(0),E=(0,D.Z)(et,2),Tt=E[0],tt=E[1],st=(0,h.tT)("@@initialState"),B=st.initialState,W=ze(),at=W.dataSource,lt=at===void 0?{}:at,d=W.loading,o=lt.pegToken,r=o===void 0?{}:o,k=lt.vault,C=k===void 0?{}:k,j=lt.vaultBuffer,J=j===void 0?{}:j;if((0,l.useEffect)(function(){if(!!B.chain){var Q={xAxis:{axisTick:{alignWithLabel:!0}},format:"MM-DD HH:mm"};i>7&&(Q.format="MM-DD"),(0,Lt.ld)({chainId:B.chain,duration:me.Gj.monthly,limit:i,tokenType:me.KR.usdi}).then(function(L){var X=Ze(L.content,"apy",i),ut=(0,a.map)((0,a.reverse)(X),function(Et){var _=Et.date,pt=Et.apy,_t=(0,a.isNil)(pt)?null:"".concat(St()(pt).format("0.00"));return{date:_,apy:_t}}),dt=(0,a.get)(L,"content.[0].apy",0);tt(dt);var ct=(0,a.uniq)((0,a.map)(ut,function(Et){var _=Et.date;return _})),xt=[],bt=(0,a.map)(ct,function(Et){var _=(0,a.find)(ut,{date:Et});return _?{value:(0,P.Ay)(_.apy),label:"".concat((0,P.Ik)(_.apy),"%")}:null}),jt=[{seriesName:"APY",seriesData:bt,showSymbol:(0,a.size)((0,a.filter)(bt,function(Et){return!(0,a.isNil)(Et.value)}))===1}],Yt={legend:{data:xt,textStyle:{color:"#fff"}},xAxisData:ct,data:jt},Vt=(0,Ye.Z)(Yt);Vt.color=["#A68EFE","#5470c6","#91cc75"],Vt.series.forEach(function(Et){Et.connectNulls=!0,Et.name==="Estimated APY"&&(Et.lineStyle={width:2,type:"dotted"})}),Vt.grid={top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0};var Rt=[];Vt.xAxis.data=Vt.xAxis.data.map(function(Et){var _="".concat(ne()(Et).add(1,"days").format("YYYY-MM-DD HH:mm")," (UTC)");return Rt[_]=ne()(Et).add(1,"days").format(Q.format),_}),Vt.xAxis.axisLabel={formatter:function(_){return Rt[_]}},Vt.xAxis.axisTick={alignWithLabel:!0},Vt.yAxis.splitLine={lineStyle:{color:"#454459"}},Vt.tooltip=(0,y.Z)((0,y.Z)({},Vt.tooltip),{},{formatter:function(_){if(_.length>0){var pt=_[0],_t=pt.axisValueLabel,re=pt.marker,ge=pt.seriesName,Jt=pt.data,Ht="".concat(_t,"<br/>").concat(re).concat(ge,": ");return Jt!=null&&Jt.value?Ht+=Jt==null?void 0:Jt.label:Ht+="-",Ht}}}),b(Vt)}).catch(function(L){console.error(L)}),(0,Lt.fY)({chainId:B.chain,limit:i,tokenType:me.KR.usdi}).then(function(L){var X=Ze(L.content,"totalSupply",i),ut=(0,a.map)((0,a.reverse)(X),function(dt){var ct=dt.date,xt=dt.totalSupply;return{date:ct,totalSupply:(0,P.FH)(xt,Be,kt.h)}});A((0,Ke.Z)(ut,"totalSupply","USDi",(0,y.Z)((0,y.Z)({},Q),{},{yAxisMin:function(ct){return Math.floor(ct.min*.998)},yAxisMax:function(ct){return Math.ceil(ct.max*1.001)}})))}).catch(function(L){console.error(L)})}},[i,B.chain]),(0,l.useEffect)(function(){return function(){(0,Lt.jv)()}},[]),(0,a.isEmpty)(B.chain))return null;var z=function(){return(0,a.isEmpty)(r)||(r==null?void 0:r.totalSupply)==="0"||(0,a.isEmpty)(C==null?void 0:C.totalAssets)?"1":!(0,a.isEmpty)(J)&&C.isAdjust?(0,P.FH)(Ee.O$.from(C.totalAssets).sub(J.totalSupply),r==null?void 0:r.totalSupply,6):(0,P.FH)(C==null?void 0:C.totalAssets,r==null?void 0:r.totalSupply,6)},mt=function(){h.m8.push("/prices?chain=".concat(B.chain,"&vault=").concat(B.vault))},At=(0,P.FH)(r==null?void 0:r.totalSupply,Be,kt.h),G=St()(At).format("0.00 a"),yt=G.split(" "),Zt=(0,D.Z)(yt,2),Wt=Zt[0],f=Zt[1],Kt=(0,a.isNaN)(new Number(f)),ae=[{title:"Total Supply",tip:"Current total USDi supply.",content:(0,a.isEmpty)(r)?0:"".concat(Wt).concat(Kt?"":f),loading:d,unit:"".concat((0,a.isEmpty)(r)?"":"".concat(Kt?f:"")," USDi"),subTitle:(0,t.jsxs)("p",{children:["1USDi \u2248 ",z(),"USD"," ",(0,t.jsx)("span",{className:M().history,onClick:mt,children:"History"})]})},{title:"Holders",tip:"Number Of USDi holders.",content:St()(r==null?void 0:r.holderCount).format("0.[0000]a"),loading:d},{title:"APY (last 30 days)",tip:"Yield over the past month.",content:(0,P.Ik)(parseFloat(Tt).toFixed(2)),loading:d,unit:"%"}];return console.log("tvlEchartOpt=",g),(0,t.jsxs)(ft.Z,{children:[(0,t.jsxs)(l.Suspense,{fallback:null,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(Le.Z,{chains:Va})]}),(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:ae})}),(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(xe,{isUsdi:!0,loading:d,calDateRange:i,onCalDateRangeClick:c,apyEchartOpt:x,tvlEchartOpt:g})}),(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ve,{loading:d,strategyMap:Pe.o1,tokenDecimals:Be,vaultData:lt.vault})}),(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Ne,{strategyMap:Pe.o1,loading:d})}),(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(Fe,{loading:d})})]})},Wa=Na,Ge=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_newVault",type:"address"},{indexed:!0,internalType:"address",name:"_wantToken",type:"address"}],name:"CreateNewVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_vaultImpl",type:"address"}],name:"addVaultImpl",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wantToken",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"}],name:"createNewVault",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"address",name:"_vaultImpl",type:"address"},{internalType:"uint256",name:"_index",type:"uint256"}],name:"deleteVaultAddressMapForDebug",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getStablecoinInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlist",outputs:[{internalType:"address[]",name:"_wethInvestorSet",type:"address[]"},{internalType:"address[]",name:"_usdInvestorSet",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTwoInvestorlistLen",outputs:[{internalType:"uint256",name:"_wethInvestorSetLen",type:"uint256"},{internalType:"uint256",name:"_stablecoinInvestorSetLen",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultImplList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVaultsLen",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getWethInvestorByIndex",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"_vaultImplList",type:"address[]"},{internalType:"address",name:"_accessControlProxy",type:"address"},{internalType:"address",name:"_uniswapV3RiskOnHelper",type:"address"},{internalType:"address",name:"_treasury",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalVaultAddrList",outputs:[{internalType:"contract IUniswapV3RiskOnVaultInitialize",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"treasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"uniswapV3RiskOnHelper",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"vaultAddressMap",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vaultImpl2Index",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"vaultImplList",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],_a=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"borrowInfo",outputs:[{internalType:"uint256",name:"_totalCollateralBase",type:"uint256"},{internalType:"uint256",name:"_totalDebtBase",type:"uint256"},{internalType:"uint256",name:"_availableBorrowsBase",type:"uint256"},{internalType:"uint256",name:"_currentLiquidationThreshold",type:"uint256"},{internalType:"uint256",name:"_ltv",type:"uint256"},{internalType:"uint256",name:"_healthFactor",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcAaveBaseCurrencyValueInAsset",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_baseAsset",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"address",name:"_quoteAsset",type:"address"}],name:"calcCanonicalAssetValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_asset",type:"address"}],name:"getAToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"},{internalType:"address",name:"_account",type:"address"}],name:"getCurrentBorrow",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_borrowToken",type:"address"},{internalType:"uint256",name:"_interestRateMode",type:"uint256"}],name:"getDebtToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"getSpecifiedRangesOfTick",outputs:[{internalType:"int24",name:"_tickFloor",type:"int24"},{internalType:"int24",name:"_tickCeil",type:"int24"},{internalType:"int24",name:"_tickLower",type:"int24"},{internalType:"int24",name:"_tickUpper",type:"int24"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"address",name:"_collateralToken",type:"address"}],name:"getTotalCollateralTokenAmount",outputs:[{internalType:"uint256",name:"_totalCollateralToken",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_pool",type:"address"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"getTwap",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"}],Ha=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"LendToStrategy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_basis",type:"uint256"}],name:"ProfitFeeBpsChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_redeemAmount",type:"uint256"}],name:"RedeemToVault",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"_shutdown",type:"bool"}],name:"SetEmergencyShutdown",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address[]",name:"_rewardTokens",type:"address[]"},{indexed:!1,internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],name:"StrategyReported",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_nftId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTCollect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"_liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"_amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_amount1",type:"uint256"}],name:"UniV3NFTPositionAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"UniV3NFTPositionRemoved",type:"event"},{anonymous:!1,inputs:[],name:"UniV3UpdateConfig",type:"event"},{inputs:[],name:"accessControlProxy",outputs:[{internalType:"contract IAccessControlProxy",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"borrowRebalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"borrowToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"depositTo3rdPoolTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"emergencyShutdown",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"estimatedTotalAssets",outputs:[{internalType:"uint256",name:"_totalAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getMintInfo",outputs:[{internalType:"uint256",name:"_baseTokenId",type:"uint256"},{internalType:"int24",name:"_baseTickUpper",type:"int24"},{internalType:"int24",name:"_baseTickLower",type:"int24"},{internalType:"uint256",name:"_limitTokenId",type:"uint256"},{internalType:"int24",name:"_limitTickUpper",type:"int24"},{internalType:"int24",name:"_limitTickLower",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStatus",outputs:[{internalType:"address",name:"_owner",type:"address"},{internalType:"address",name:"_wantToken",type:"address"},{internalType:"int24",name:"_baseThreshold",type:"int24"},{internalType:"int24",name:"_limitThreshold",type:"int24"},{internalType:"int24",name:"_minTickMove",type:"int24"},{internalType:"int24",name:"_maxTwapDeviation",type:"int24"},{internalType:"int24",name:"_lastTick",type:"int24"},{internalType:"int24",name:"_tickSpacing",type:"int24"},{internalType:"uint256",name:"_period",type:"uint256"},{internalType:"uint256",name:"_lastTimestamp",type:"uint256"},{internalType:"uint32",name:"_twapDuration",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getVersion",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"harvest",outputs:[{internalType:"address[]",name:"_rewardsTokens",type:"address[]"},{internalType:"uint256[]",name:"_claimAmounts",type:"uint256[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lastHarvest",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"lend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"manageFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"netMarketMakingAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"contract IUniswapV3Pool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"profitFeeBps",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rebalanceByKeeper",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeem",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_redeemShares",type:"uint256"},{internalType:"uint256",name:"_totalShares",type:"uint256"}],name:"redeemToVaultByKeeper",outputs:[{internalType:"uint256",name:"_redeemBalance",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_baseThreshold",type:"int24"}],name:"setBaseThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_active",type:"bool"}],name:"setEmergencyShutdown",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_limitThreshold",type:"int24"}],name:"setLimitThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setManageFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_maxTwapDeviation",type:"int24"}],name:"setMaxTwapDeviation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_minTickMove",type:"int24"}],name:"setMinTickMove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_period",type:"uint256"}],name:"setPeriod",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_basis",type:"uint256"}],name:"setProfitFeeBps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"_twapDuration",type:"uint32"}],name:"setTwapDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int24",name:"_tick",type:"int24"}],name:"shouldRebalance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[],name:"wantToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Qe=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],wa="0x0000000000000000000000000000000000000000",Re="0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174",$a="0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619",Gt=new w.Z(1e6),fn=new w.Z(1e18),hn=new w.Z(1e27),Xe=e(43077),Fa=e(96519),Ka=e(85564),Ya=e.n(Ka),za=e(15296),te=Fa.CH,Je=Ee.O$,Ga=[$a,Re],Qa=function(n,s,i){var c=(0,l.useState)(!1),m=(0,D.Z)(c,2),v=m[0],g=m[1],A=(0,l.useState)([]),T=(0,D.Z)(A,2),S=T[0],x=T[1],b=(0,l.useState)([]),et=(0,D.Z)(b,2),E=et[0],Tt=et[1],tt=(0,l.useState)(!1),st=(0,D.Z)(tt,2),B=st[0],W=st[1],at=(0,za.Z)(i),lt=(0,l.useCallback)(function(C,j){var J=new te(n,s,i),z=new te(j,Ha,i),mt=new te(C,_a,i);return Promise.all([J.getTwoInvestorlistLen(),z.borrowToken().then(function(){var At=(0,se.Z)((0,Nt.Z)().mark(function G(yt){var Zt;return(0,Nt.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return Zt=new te(yt,Qe,i),f.t0=yt,f.next=4,Zt.symbol();case 4:return f.t1=f.sent,f.t2=Je.from(10),f.next=8,Zt.decimals();case 8:return f.t3=f.sent,f.t4=f.t2.pow.call(f.t2,f.t3),f.abrupt("return",{borrowToken:f.t0,name:f.t1,borrowTokenDecimals:f.t4});case 11:case"end":return f.stop()}},G)}));return function(G){return At.apply(this,arguments)}}()),z.wantToken().then(function(){var At=(0,se.Z)((0,Nt.Z)().mark(function G(yt){var Zt;return(0,Nt.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return Zt=new te(yt,Qe,i),f.t0=yt,f.next=4,Zt.symbol();case 4:return f.t1=f.sent,f.t2=Je.from(10),f.next=8,Zt.decimals();case 8:return f.t3=f.sent,f.t4=f.t2.pow.call(f.t2,f.t3),f.abrupt("return",{wantToken:f.t0,name:f.t1,wantTokenDecimals:f.t4});case 11:case"end":return f.stop()}},G)}));return function(G){return At.apply(this,arguments)}}())]).then(function(At){var G=(0,D.Z)(At,3),yt=G[0],Zt=yt._wethInvestorSetLen,Wt=yt._stablecoinInvestorSetLen,f=G[1],Kt=G[2],ae=f.borrowToken,Q=Kt.wantToken;return Promise.all([z.netMarketMakingAmount(),mt.getCurrentBorrow(ae,2,j),mt.getTotalCollateralTokenAmount(j,Q),z.depositTo3rdPoolTotalAssets(),z.estimatedTotalAssets()]).then(function(L){var X=(0,D.Z)(L,5),ut=X[0],dt=X[1],ct=X[2],xt=X[3],bt=X[4];return mt.calcCanonicalAssetValue(ae,dt,Q).then(function(jt){var Yt={netMarketMakingAmount:ut,currentBorrow:dt,currentBorrowWithCanonical:jt,depositTo3rdPoolTotalAssets:xt,totalCollateralTokenAmount:ct,estimatedTotalAssets:bt,wantInfo:Kt,borrowInfo:f,_wethInvestorSetLen:Zt,_stablecoinInvestorSetLen:Wt,profit:xt.add(ct).sub(ut).sub(jt)};return Yt})})}).finally(function(){setTimeout(function(){g(!1)},300)})},[i]),d=(0,l.useCallback)(function(){if(!(ie()(n)||ie()(i))){var C=new te(n,s,i);C.getVaultImplList().then(x)}},[n,i,s]),o=(0,l.useCallback)((0,se.Z)((0,Nt.Z)().mark(function C(){var j,J,z;return(0,Nt.Z)().wrap(function(At){for(;;)switch(At.prev=At.next){case 0:if(!(ie()(n)||ie()(i)||ie()(S)||ie()(at))){At.next=2;break}return At.abrupt("return");case 2:return j=new te(n,s,i),At.next=5,j.uniswapV3RiskOnHelper();case 5:J=At.sent,z=pe()(S,function(G){return Promise.all(pe()(Ga,function(yt,Zt){return j.vaultAddressMap(at,G,Zt).then(function(Wt){return Wt===wa?{hasCreate:!1,type:G,token:yt}:lt(J,Wt).then(function(f){return(0,y.Z)((0,y.Z)({},f),{},{address:Wt,type:G,hasCreate:!0,token:yt})})})}))}),Promise.all(z).then(function(G){Tt(Ya()(G))});case 8:case"end":return At.stop()}},C)})),[at,n,i,S,s]),r=(0,l.useCallback)(function(){var C=(0,se.Z)((0,Nt.Z)().mark(function j(J,z){var mt;return(0,Nt.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return W(!0),mt=new te(n,s,i),G.next=4,mt.connect(i.getSigner()).createNewVault(J,z).then(function(yt){return yt.wait()}).then(o).finally(function(){W(!1)});case 4:case"end":return G.stop()}},j)}));return function(j,J){return C.apply(this,arguments)}}(),[n,i,o,s]),k=(0,l.useCallback)(function(){var C=(0,se.Z)((0,Nt.Z)().mark(function j(J,z){var mt;return(0,Nt.Z)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:W(!0),mt=new te(n,s,i),mt.connect(i.getSigner()).deleteVaultAddressMapForDebug(at,J,z).then(function(yt){return yt.wait()}).then(o).finally(function(){W(!1)});case 3:case"end":return G.stop()}},j)}));return function(j,J){return C.apply(this,arguments)}}(),[n,o,at,i,s]);return(0,l.useEffect)(d,[d]),(0,l.useEffect)(o,[o]),{vaultFactoryAddress:n,vaultImplList:S,personalVault:E,adding:B,loading:v,addVault:r,deleteVault:k}},qe=Qa,ee=e(52572),Xa=e(27361),ta=e.n(Xa),De=Ee.O$,Ja=[{label:"Polygon",key:"137"}],ye=137,fe="WETH",qa=function(){var n="0x8013Dd64084e9c9122567563AA86981F4C20576B",s=(0,Xe.Z)(),i=s.userProvider,c=qe(n,Ge,i),m=c.personalVault,v=(0,a.groupBy)(m,"token"),g=ta()(v,Re,[]);console.log("calcArray=",g);var A=(0,a.reduce)(g,function(d,o){return d.add(o.netMarketMakingAmount),d},De.from(0)),T=(0,a.reduce)(g,function(d,o){return d.add(o.estimatedTotalAssets),d},De.from(0)),S=(0,a.reduce)(g,function(d,o){return d.add(o.currentBorrow),d},De.from(0)),x=(0,a.reduce)(g,function(d,o){return d.add(o.totalCollateralTokenAmount),d},De.from(0)),b=(0,a.reduce)(g,function(d,o){return d.add(o.depositTo3rdPoolTotalAssets),d},De.from(0));console.log("netMarketMakingAmountTotal=",A.toString()),console.log("estimatedTotalAssetsTotal=",T.toString()),console.log("currentBorrow=",S.toString()),console.log("totalCollateralTokenAmountTotal=",x.toString()),console.log("depositTo3rdPoolTotalAssetsTotal=",b.toString());var et=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"aave-outstanding-loan")},[n]),E=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"aave-collateral")},[n]),Tt=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"aave-health-ratio")},[n]),tt=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"uniswap-position-value")},[n]),st=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"profit")},[n]),B=(0,ee.r5)(function(){return(0,Lt._S)(ye,n,"net-deposit")},[n]);console.log("aaaa=",et,E,Tt,tt,st,B);var W=!1,at=[{title:"Deposit",tip:"All Vault Net Deposit.",content:St()((0,P.FH)(A,Gt)).format("0.[0000]a"),loading:W,unit:fe},{title:"Current Value",tip:"All Vault Current Value.",content:St()((0,P.FH)(T,Gt)).format("0.[0000]a"),loading:W,unit:fe},{title:"Unrealized Profit",tip:"All Vault Unrealized Profit.",content:St()("123124").format("0.[0000]a"),loading:W,unit:fe},{title:"Holders",tip:"Number Of USDi holders.",content:St()("5").format("0.[0000]a"),loading:W,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:St()((0,P.FH)(S,Gt)).format("0.[0000]a"),loading:W,unit:fe},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:St()((0,P.FH)(x,Gt)).format("0.[0000]a"),loading:W,unit:fe},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:St()((0,P.FH)(b,Gt)).format("0.[0000]a"),loading:W,unit:fe}],lt={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]};return(0,t.jsx)(ft.Z,{children:(0,t.jsxs)(Y.Z,{gutter:[0,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsxs)(l.Suspense,{fallback:null,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(Le.Z,{chains:Ja})]})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsxs)(Y.Z,{gutter:[24,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:at})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(H.Z,{title:"Uniswap APY (%)",children:(0,t.jsx)(qt.$c,{option:lt,style:{minHeight:"500px",width:"100%"}})})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{children:(0,t.jsx)(H.Z,{title:"Sample APY (%)",children:(0,t.jsx)(qt.$c,{option:lt,style:{minHeight:"500px",width:"100%"}})})})})]})})]})})},tn=qa,gn=e(20228),en=e(11382),an=e(18973),ea=e.n(an),nn=(0,t.jsxs)("div",{className:ea().main,children:[(0,t.jsxs)("svg",{viewBox:"0 0 1403 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",children:[(0,t.jsx)("path",{d:"M149.1 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM807.5 740.5H352c-9.1-22.5-31.2-38.4-57-38.4-33.9 0-61.4 27.5-61.4 61.4s27.5 61.4 61.4 61.4c25.8 0 47.9-15.9 57-38.4h455.5c9.1 22.5 31.2 38.4 57 38.4 33.9 0 61.4-27.5 61.4-61.4s-27.5-61.4-61.4-61.4c-25.9 0-47.9 15.9-57 38.4zM233.6 418.1c-12.7 0-23 10.3-23 23v51c0 12.7 10.3 23 23 23s23-10.3 23-23v-51c0-12.7-10.3-23-23-23zM318 515.1c12.7 0 23-10.3 23-23v-51c0-12.7-10.3-23-23-23s-23 10.3-23 23v51c0 12.7 10.3 23 23 23z",fill:"#A68EFE"}),(0,t.jsx)("path",{d:"M1353.7 486.2c8.8-28.8 1.9-61.5-20.9-84.2L1088.2 157.4c-1.1-1.2-2.2-2.4-3.4-3.6-1.2-1.2-2.4-2.3-3.6-3.4l-0.8-0.8c-17.2-15.1-39.1-23.4-62.3-23.4-25.3 0-49 9.8-66.8 27.6L763 342l-60.3-213h12.5c12.7 0 23-10.3 23-23s-10.3-23-23-23H464.8c-51.3 0-93 41.7-93 93v132.3H91.4c-9.3 0-18 3.6-24.6 10.2l-56.6 56.6c-6.6 6.6-10.2 15.3-10.2 24.6V563c0 9.3 3.6 18 10.2 24.6l60.1 60.1c6.6 6.6 15.3 10.2 24.6 10.2h78.7c-30.5 29.9-49.5 71.5-49.5 117.4 0 90.6 73.7 164.4 164.4 164.4h582.5c90.6 0 164.4-73.7 164.4-164.4s-73.7-164.4-164.4-164.4h-55.5l173.9-176.2 0.9-52.8 42.3-42.3L1213.8 521c7.1 7.1 15.2 12.7 23.8 16.7l-69.4 117.8-9.8-5.8c-9.5-5.6-21.8-2.4-27.4 7.1l-3 5.2c-5.6 9.5-2.4 21.8 7.1 27.4l51.4 30.3c68.6 40.4 156.9 17.6 197.4-51 35.9-61.1 21.7-137.9-30.2-182.5z m-632.5-123h-77.2l-44.7-44.7c-6.6-6.6-15.3-10.2-24.6-10.2h-42.1V129h122.2l66.4 234.2zM417.8 176c0-25.9 21.1-47 47-47h22v179.3h-69V176zM99.5 611.8l-53.5-53.5V404.4l50-50h474.2L614.9 399c6.6 6.6 15.3 10.2 24.6 10.2H724.9v113.4H492.8c-12.7 0-23 10.3-23 23s10.3 23 23 23H724.9v42.3H288.5c-6 0-12 0.3-17.8 1H99.5z m771.5 45.1c65.3 0 118.4 53.1 118.4 118.4 0 65.3-53.1 118.4-118.4 118.4H288.5c-65.3 0-118.4-53.1-118.4-118.4 0-65.3 53.1-118.4 118.4-118.4h582.5z m73.5-294.4l-0.9 53-172.7 175V399.2l212.9-212.9c9.1-9.1 21.3-14.1 34.2-14.1 13 0 25.2 5 34.2 14.1 18.9 18.9 18.9 49.6 0 68.5L944.5 362.5z m248.9 72.9L1065 307.1l19.8-19.8c12.5-12.5 20.7-27.6 24.7-43.6l137.8 137.8c-12.2 4-23.7 10.8-33.4 20.5-9.8 9.7-16.6 21.2-20.5 33.4z m53-0.9c14.9-14.9 39-14.9 53.9 0 14.9 14.9 14.9 39 0 53.9-14.9 14.9-39 14.9-53.9 0-14.9-14.8-14.9-39 0-53.9z m97.8 210.8c-27.5 46.7-87.7 62.2-134.4 34.7l-2-1.2 79.2-134.4c14.8-2.4 29.1-8.8 41.1-19.2 31.7 30.8 39.5 80.3 16.1 120.1z",fill:"#A68EFE"})]}),(0,t.jsx)("span",{className:ea().text,children:"Under construction..."})]}),rn=function(n){var s=n.children;return(0,t.jsx)(en.Z,{size:"large",indicator:nn,children:s})},aa=rn,le=Ee.O$,sn=[{label:"Polygon",key:"137"}],he="USDC",ln=function(){var n,s="0x8013Dd64084e9c9122567563AA86981F4C20576B",i=(0,Xe.Z)(),c=i.userProvider,m=qe(s,Ge,c),v=m.personalVault,g=(0,a.groupBy)(v,"token"),A=ta()(g,Re,[]),T=(0,a.reduce)(A,function(d,o){return d.add(o.netMarketMakingAmount)},le.from(0)),S=(0,a.reduce)(A,function(d,o){return d.add(o.estimatedTotalAssets)},le.from(0)),x=(0,a.reduce)(A,function(d,o){return d.add(o.currentBorrow)},le.from(0)),b=(0,a.reduce)(A,function(d,o){return d.add(o.totalCollateralTokenAmount)},le.from(0)),et=(0,a.reduce)(A,function(d,o){return d.add(o.depositTo3rdPoolTotalAssets)},le.from(0)),E=(0,a.reduce)(A,function(d,o){return d.add(o._stablecoinInvestorSetLen)},le.from(0)),Tt=(0,a.reduce)(A,function(d,o){return d.add(o.profit)},le.from(0));console.log("netMarketMakingAmountTotal=",T.toString()),console.log("estimatedTotalAssetsTotal=",S.toString()),console.log("currentBorrow=",x.toString()),console.log("totalCollateralTokenAmountTotal=",b.toString()),console.log("depositTo3rdPoolTotalAssetsTotal=",et.toString());var tt=(0,ee.r5)(function(){return(0,Lt.wn)()},[s]),st=(0,ee.r5)(function(){return(0,Lt.q4)()},[s]),B=(0,ee.r5)(function(){return(0,Lt.wu)()},[s]);console.log("verifiedApy=",tt,st,B);var W=!1,at=[{title:"Deposit",tip:"All Vault Net Deposit.",content:St()((0,P.FH)(T,Gt)).format("0.[0000]a"),loading:W,unit:he},{title:"Current Value",tip:"All Vault Current Value.",content:St()((0,P.FH)(S,Gt)).format("0.[0000]a"),loading:W,unit:he},{title:"Profits",tip:"All Vault Profits.",content:St()((0,P.FH)(Tt,Gt)).format("0.[0000]a"),loading:W,unit:he},{title:"Holders",tip:"Number Of USDi holders.",content:St()(E).format("0.[0000]a"),loading:W,unit:""},{title:"AAVE Outstanding Loan",tip:"All Vault AAVE Outstanding Loan.",content:St()((0,P.FH)(x,Gt)).format("0.[0000]a"),loading:W,unit:he},{title:"AAVE Collateral",tip:"All Vault AAVE Collateral.",content:St()((0,P.FH)(b,Gt)).format("0.[0000]a"),loading:W,unit:he},{title:"Uniswap Position Value",tip:"All Vault Uniswap Position Value.",content:St()((0,P.FH)(et,Gt)).format("0.[0000]a"),loading:W,unit:he}],lt={animation:!1,textStyle:{color:"#fff"},grid:{top:40,left:"0%",right:"5%",bottom:"0%",containLabel:!0},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"}},xAxis:{axisLabel:{},type:"category",data:["2022-09-14 00:00 (UTC)","2022-09-15 00:00 (UTC)","2022-09-16 00:00 (UTC)","2022-09-17 00:00 (UTC)","2022-09-18 00:00 (UTC)","2022-09-19 00:00 (UTC)","2022-09-20 00:00 (UTC)","2022-09-21 00:00 (UTC)","2022-09-22 00:00 (UTC)","2022-09-23 00:00 (UTC)","2022-09-24 00:00 (UTC)","2022-09-25 00:00 (UTC)","2022-09-26 00:00 (UTC)","2022-09-27 00:00 (UTC)","2022-09-28 00:00 (UTC)","2022-09-29 00:00 (UTC)","2022-09-30 00:00 (UTC)","2022-10-01 00:00 (UTC)","2022-10-02 00:00 (UTC)","2022-10-03 00:00 (UTC)","2022-10-04 00:00 (UTC)","2022-10-05 00:00 (UTC)","2022-10-06 00:00 (UTC)","2022-10-07 00:00 (UTC)","2022-10-08 00:00 (UTC)","2022-10-09 00:00 (UTC)","2022-10-10 00:00 (UTC)","2022-10-11 00:00 (UTC)","2022-10-12 00:00 (UTC)","2022-10-13 00:00 (UTC)","2022-10-14 00:00 (UTC)"],axisTick:{alignWithLabel:!0}},yAxis:{type:"value",splitLine:{lineStyle:{color:"#454459"}}},dataZoom:null,color:["#A68EFE","#5470c6","#91cc75"],series:[{name:"USDi",data:["1.88","1.25","1.86","1.86","1.75","1.49","1.59","1.32","1.19","1.19","1.19","0.99","1.79","2.47","2.47","4.76","4.76","4.78","4.94","4.94","4.83","4.24","4.00","4.00","4.69","4.40","4.40","4.80","4.13","4.13","4.72"],type:"line",lineStyle:{width:5,cap:"round"},smooth:!1,connectNulls:!0,showSymbol:!1}]};return(0,t.jsx)(ft.Z,{children:(0,t.jsxs)(Y.Z,{gutter:[0,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsxs)(l.Suspense,{fallback:null,children:[(0,t.jsx)(Me,{}),(0,t.jsx)(Le.Z,{chains:sn})]})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsxs)(Y.Z,{gutter:[24,24],children:[(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(wt,{data:at})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{fallback:null,children:(0,t.jsx)(aa,{children:(0,t.jsx)(H.Z,{title:"Uniswap APY (%)",loading:tt.loading||st.loading,children:tt.error?(0,t.jsxs)("div",{children:["Error: ",tt==null||(n=tt.error)===null||n===void 0?void 0:n.message]}):(0,t.jsx)(qt.$c,{option:lt,style:{minHeight:"500px",width:"100%"}})})})})}),(0,t.jsx)(U.Z,{span:24,children:(0,t.jsx)(l.Suspense,{children:(0,t.jsx)(aa,{children:(0,t.jsx)(H.Z,{title:"Sample APY (%)",loading:B.loading,children:B.error?(0,t.jsxs)("div",{children:["Error: ",B.error.message]}):(0,t.jsx)(qt.$c,{option:lt,style:{minHeight:"500px",width:"100%"}})})})})})]})})]})})},on=ln,un=e(7594),dn=e(52353),cn=e.n(dn);function pn(){var Z,n=(0,h.tT)("@@initialState"),s=n.initialState,i=(Z={},(0,u.Z)(Z,kt._.USDi,Wa),(0,u.Z)(Z,kt._.ETHi,ka),(0,u.Z)(Z,kt._.ETHr,tn),(0,u.Z)(Z,kt._.USDr,on),Z)[s.vault];return cn()(i)?(0,t.jsx)(un.default,{}):(0,t.jsx)(i,{})}},860:function(vt,K,e){"use strict";e.d(K,{E6:function(){return U},_8:function(){return y},mB:function(){return D},Mn:function(){return ft},oP:function(){return Ct},t:function(){return I},ld:function(){return rt},fY:function(){return t},jv:function(){return Ut},Qc:function(){return Ot},_S:function(){return gt},wn:function(){return zt},q4:function(){return O},wu:function(){return Qt}});var u=e(93224),l=e(11849),h=e(65367),F=e(96486),Y=e.n(F),it=["chainId","vaultAddress"],U=function(p){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20;try{var nt=(0,l.Z)({offset:N,limit:M},p);return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/officialApy"),{params:nt})}catch(q){return{content:[]}}},y=function(p){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,nt=p.chainId,q=p.vaultAddress,Mt={sort:"gene_time desc",offset:N,limit:M};return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(nt,"/vaults/").concat(q,"/allocation"),{params:Mt})},D=function(p,N){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:20,q={offset:M,limit:nt};return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(p,"/vaults/").concat(N,"/strategy/detail/list"),{params:q})},ft=function(p){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20,nt=p.chainId,q=p.vaultAddress,Mt=(0,u.Z)(p,it);return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(nt,"/vaults/").concat(q,"/verifiedApy"),{params:(0,l.Z)({offset:N,limit:M},Mt)})},Ct=function(p,N,M,nt,q){if(!(0,F.isNil)(M))return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(p,"/vaults/").concat(N,"/allocation/").concat(M,"/").concat(nt),{method:"patch",headers:q})},I=function(p){var N=p.strategyName,M=p.vaultAddress,nt=p.chainId,q=p.limit,Mt=q===void 0?10:q,It=p.offset,wt=It===void 0?0:It,Ft=p.sort,Pt=Ft===void 0?"fetch_timestamp desc":Ft;return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(nt,"/vaults/").concat(M,"/strategy/assets"),{params:{strategyName:N,limit:Mt,offset:wt,sort:Pt}})},R=function(p,N,M){return request("".concat("https://service-pr02-sg.bankofchain.io","/apy/account_apy/accountAddress/").concat(p,"/date/").concat(N),{params:M})},ot=function(p,N){return request("".concat("https://service-pr02-sg.bankofchain.io","/profit/account/").concat(p),{params:N})},H=function(p,N){return request("".concat("https://service-pr02-sg.bankofchain.io","/token/balance/account/").concat(p),{params:_objectSpread({limit:365},N)})},Dt=function(p,N){return request("".concat("https://service-pr02-sg.bankofchain.io","/month_profit/account/").concat(p),{params:N})},ht={},rt=function(p){var N=p.chainId,M=p.tokenType,nt=p.duration,q=p.offset,Mt=q===void 0?0:q,It=p.limit,wt=p.useCache,Ft=wt===void 0?!0:wt,Pt="".concat(N,"-").concat(nt,"-").concat(M,"-").concat(Mt,"-").concat(It);return Ft&&ht[Pt]?Promise.resolve(ht[Pt]):(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/apy/vault_apy"),{params:{chainId:N,duration:nt,offset:Mt,limit:It,tokenType:M}}).then(function(oe){return ht[Pt]=oe,oe})},V={},t=function(p){var N=p.chainId,M=p.offset,nt=M===void 0?0:M,q=p.limit,Mt=p.tokenType,It=p.useCache,wt=It===void 0?!0:It,Ft="".concat(N,"-").concat(nt,"-").concat(Mt,"-").concat(q);return wt&&V[Ft]?Promise.resolve(V[Ft]):(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/token/totalSupply"),{params:{chainId:N,offset:nt,limit:q,tokenType:Mt}}).then(function(Pt){return V[Ft]=Pt,Pt})},Ut=function(){ht={},V={}},Ot=function(p,N,M){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,q=arguments.length>4&&arguments[4]!==void 0?arguments[4]:20,Mt={strategyAddress:M,offset:nt,limit:q},It="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(p,"/vaults/").concat(N,"/verifiedApy/daily");return(0,h.WY)(It,{params:Mt})},gt=function(p,N,M){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{limit:30},q="".concat("https://service-pr02-sg.bankofchain.io","/chains/").concat(p,"/vaults/").concat(N,"/data_collects/types/").concat(M);return(0,h.WY)(q,{params:nt})},zt=function(p){return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/verifiedApy/riskon"),{params:p})},O=function(p){return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/officialApy/riskon"),{params:p})},Qt=function(p){return(0,h.WY)("".concat("https://service-pr02-sg.bankofchain.io","/sampleApy/riskon"),{params:p})}},62904:function(vt,K,e){"use strict";e.d(K,{u:function(){return Ct}});var u=e(39428),l=e(34792),h=e(55026),F=e(3182),Y=e(13311),it=e.n(Y),U=e(41609),y=e.n(U),D=e(89850),ft=e(50999),Ct=function(){var I=(0,F.Z)((0,u.Z)().mark(function R(ot,H,Dt){var ht,rt,V,t,Ut,Ot,gt=arguments;return(0,u.Z)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(ht=gt.length>3&&gt[3]!==void 0?gt[3]:{},rt=ht.resolveWhenUnsupport,V=it()(D.ZP,{id:ot}),!y()(V)){O.next=5;break}return O.abrupt("return");case 5:if(H){O.next=7;break}return O.abrupt("return");case 7:if(t=[ft.m.MetaMask.info.symbol],t.includes(Dt)){O.next=13;break}if(!rt){O.next=11;break}return O.abrupt("return");case 11:return h.default.warning("Switch networks in your wallet, then reconnect"),O.abrupt("return",Promise.reject());case 13:return Ut=[{chainId:"0x".concat(Number(V.id).toString(16)),chainName:V.name,nativeCurrency:V.nativeCurrency,rpcUrls:[V.rpcUrl],blockExplorerUrls:[V.blockExplorer]}],O.prev=14,O.next=17,H.send("wallet_switchEthereumChain",[{chainId:Ut[0].chainId}]);case 17:Ot=O.sent,O.next=33;break;case 20:if(O.prev=20,O.t0=O.catch(14),O.t0.code!==4001){O.next=24;break}return O.abrupt("return",Promise.reject());case 24:return O.prev=24,O.next=27,H.send("wallet_addEthereumChain",Ut);case 27:Ot=O.sent,O.next=33;break;case 30:return O.prev=30,O.t1=O.catch(24),O.abrupt("return",Promise.reject());case 33:Ot&&console.log(Ot);case 34:case"end":return O.stop()}},R,null,[[14,20],[24,30]])}));return function(ot,H,Dt){return I.apply(this,arguments)}}()},9292:function(vt,K,e){"use strict";e.d(K,{FH:function(){return it},Wl:function(){return y},Ik:function(){return D},Ay:function(){return ft}});var u=e(905),l=e(96486),h=e.n(l),F=e(41609),Y=e.n(F),it=function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(!(0,l.isNil)(I)){if((0,l.isNull)(R))return I.toString();var ot=(0,u.Z)(R.toString());if(Y()(I)||ot.isZero())return 0;var H=(0,u.Z)(I.toString()).div(ot);if(H.isInteger())return H.toFixed();for(var Dt=arguments.length,ht=new Array(Dt>2?Dt-2:0),rt=2;rt<Dt;rt++)ht[rt-2]=arguments[rt];return H.toFixed.apply(H,ht)}},U=2,y=function(I,R){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U,H=(0,u.Z)(I.toString()),Dt=(0,u.Z)(10).pow(R),ht=R>6&&!H.eq(0)&&H.abs().lt((0,u.Z)(10).pow(R-ot+1)),rt;return ht?(rt=it(H,Dt,R-H.abs().toString().length+1),rt):(rt=it(H,Dt,ot),parseFloat(rt))},D=function(I){var R=parseFloat(I);return isNaN(R)?I:R<=1e3?R:"1000+"},ft=function(I){var R=parseFloat(I);return isNaN(R)?I:R<=1e3?R:1e3}}}]);
