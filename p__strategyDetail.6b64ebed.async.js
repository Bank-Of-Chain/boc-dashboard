(self.webpackChunkboc_dashboard=self.webpackChunkboc_dashboard||[]).push([[281],{40085:function($){$.exports={tip:"tip___X9xBT",right:"right___3btOV"}},93644:function($){$.exports={offlineCard:"offlineCard___38IN6",loadingContainer:"loadingContainer___27xcf"}},69157:function($,z,e){"use strict";var V=e(12968),M=e(62462),ae=e(67294),g=e(47037),L=e.n(g),N=e(96486),ue=e.n(N),B=e(35161),K=e.n(B),ne=e(85893),dt="".concat("https://v2.bankofchain.io","/default.png"),$e=function(c){var _=c.array,A=_===void 0?[]:_,ze=c.size,I=ze===void 0?24:ze,Ee=function(fe,be){return(0,ne.jsx)(M.Z,{title:fe,preview:!1,width:I,style:{borderRadius:"50%"},wrapperStyle:{marginLeft:be===0?0:-10,zIndex:A.length-be},src:"".concat("https://v2.bankofchain.io","/images/").concat(fe,".png"),fallback:dt},"".concat(fe+be))};return L()(A)?Ee(A,0):(0,N.isArray)(A)?(0,ne.jsx)("div",{children:K()(A,function(He,fe){return Ee(He,fe)})}):(0,ne.jsx)("span",{})};z.Z=$e},98821:function($,z,e){"use strict";e.d(z,{$c:function(){return ue}});var V=e(20228),M=e(11382),ae=e(67294),g=e(40684),L=e(85893),N=(0,L.jsx)(M.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:20,fontSize:14},tip:"Loading...."}),ue=(0,g.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(462),e.e(272)]).then(e.bind(e,56272))},{fallback:N}),B=(0,g.ZP)(function(){return Promise.all([e.e(80),e.e(23),e.e(693),e.e(42)]).then(e.bind(e,59042))},{fallback:N}),K=(0,g.ZP)(function(){return Promise.all([e.e(80),e.e(274),e.e(417)]).then(e.bind(e,48417))},{fallback:N})},10501:function($,z,e){"use strict";e.d(z,{Z:function(){return ae}});var V=e(11849),M=e(76492);function ae(g){var L=[],N=0,ue=[];ue=g.data,ue.length>0&&ue.forEach(function(K){var ne=(0,V.Z)({name:K.seriesName?K.seriesName:"",data:K.seriesData,type:"line",showSymbol:K.showSymbol,lineStyle:{width:5,cap:"round"}},K);N+=K.seriesData.length,L.push(ne)});var B={animation:!1,textStyle:{color:"#fff"},tooltip:{trigger:"axis",borderWidth:0,backgroundColor:"#292B2E",textStyle:{color:"#fff"},confine:!0},legend:g.legend,xAxis:{type:"category",data:g.xAxisData},yAxis:{type:"value"},series:L};return g.tooltipFormatter&&(B.tooltip.formatter=g.tooltipFormatter),(0,V.Z)((0,V.Z)({},(0,M.s)(N>0)),B)}},76492:function($,z,e){"use strict";e.d(z,{s:function(){return V}});function V(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return M?{}:{graphic:{type:"text",left:"center",top:"middle",silent:!0,invisible:!1,style:{fill:"#9d9d9d",fontWeight:"bold",text:"No Data",fontSize:"25px"}}}}},55414:function($,z,e){"use strict";e.d(z,{o1:function(){return g},tX:function(){return L}});var V=["Balancer","UniswapV2","Dodo","Sushi_Kashi","Sushi_Swap","Convex","Rari","UniswapV3","YearnEarn","YearnV2","YearnIron","GUni","Stargate","DForce","Synapse","Aura","Aave"],M=["Curve","Aave","Balancer","Gravity","Polycat","Qi","Quickswap","Sushi","Synapse","Dodo","Stargate","UniswapV3"],ae=["Balancer","UniswapV2","Convex","Aura","UniswapV3","StakeWise","YearnV2","Aave"],g={1:V,137:M},L={1:ae}},65225:function($,z,e){"use strict";e.r(z),e.d(z,{default:function(){return ea}});var V=e(20228),M=e(11382),ae=e(58024),g=e(91894),L=e(13062),N=e(36725),ue=e(98858),B=e(4914),K=e(89032),ne=e(1635),dt=e(12968),$e=e(62462),r=e(11849),c=e(32059),_=e(2824),A=e(67294),ze=e(55414),I=e(1123),Ee=e(22844),He=e(67724),fe=e(98821),be=e(96222),ct=e(22533),ra=e(22385),ie=e(45777),Le=e(28991),It={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M320 224h-66v-56c0-4.4-3.6-8-8-8h-52c-4.4 0-8 3.6-8 8v56h-66c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8h66v56c0 4.4 3.6 8 8 8h52c4.4 0 8-3.6 8-8v-56h66c4.4 0 8-3.6 8-8V232c0-4.4-3.6-8-8-8zm-60 508h-80V292h80v440zm644-436h-66v-96c0-4.4-3.6-8-8-8h-52c-4.4 0-8 3.6-8 8v96h-66c-4.4 0-8 3.6-8 8v416c0 4.4 3.6 8 8 8h66v96c0 4.4 3.6 8 8 8h52c4.4 0 8-3.6 8-8v-96h66c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8zm-60 364h-80V364h80v296zM612 404h-66V232c0-4.4-3.6-8-8-8h-52c-4.4 0-8 3.6-8 8v172h-66c-4.4 0-8 3.6-8 8v200c0 4.4 3.6 8 8 8h66v172c0 4.4 3.6 8 8 8h52c4.4 0 8-3.6 8-8V620h66c4.4 0 8-3.6 8-8V412c0-4.4-3.6-8-8-8zm-60 145a3 3 0 01-3 3h-74a3 3 0 01-3-3v-74a3 3 0 013-3h74a3 3 0 013 3v74z"}}]},name:"sliders",theme:"outlined"},Ot=It,ut=e(27029),ft=function(u,h){return A.createElement(ut.Z,(0,Le.Z)((0,Le.Z)({},u),{},{ref:h,icon:Ot}))};ft.displayName="SlidersOutlined";var vt=A.forwardRef(ft),E=e(93083),Ze=e(860),yt=e(69157),zt=e(30381),Ke=e.n(zt),Ct=e(35161),jt=e.n(Ct),k=e(905),Mt=e(41609),Nt=e.n(Mt),i=e(9292),Pe=e(65367),t=e(85893),Ut={0:"harvest",1:"lend",2:"withdraw",3:"redeem"},Rt=function(u){var h,x,C,Z,U=u.loading,P=u.strategyName,j=u.dropdownGroup,le=(0,Pe.tT)("@@initialState"),S=le.initialState,G=(0,E.hU)(),W=I._.ETHi===S.vault,w=(h={},(0,c.Z)(h,I._.USDi,I.h),(0,c.Z)(h,I._.ETHi,Ee.A7),h)[S.vault],Q=(0,Pe.QT)(function(d){return(0,Ze.t)({strategyName:P,chainId:S.chain,vaultAddress:S.vaultAddress,limit:d.pageSize,offset:(d.current-1)*d.pageSize,sort:"fetch_index desc"}).catch(function(){return{content:[],total:0}})},{manual:!0,paginated:!0,formatResult:function(o){var p=o.content,T=o.totalElements;return{list:p,total:T}}}),X=Q.data,he=Q.run,je=Q.loading,Y=Q.pagination,re=X==null?void 0:X.list,se=re&&(x=re[0])!==null&&x!==void 0&&x.lpTokenUnit?" (".concat((C=re[0])===null||C===void 0?void 0:C.lpTokenUnit,")"):"";(0,A.useEffect)(function(){he((0,r.Z)((0,r.Z)({},Y),{},{current:1}))},[S.chain,S.vault,P]);var F=(0,k.Z)(1e18),D=[{title:"Txn Hash",dataIndex:"txnHash",key:"txnHash",ellipsis:{showTitle:!1},render:function(o){return(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[S.chain],"/tx/").concat(o),title:o,children:o})}},{title:"Total Asset".concat(se),dataIndex:"totalAsset",key:"totalAsset",render:function(o){return(0,t.jsx)("span",{title:(0,i.FH)(o,F),children:(0,i.FH)(o,F,w)})}},{title:"Asset Variation".concat(se),dataIndex:"assetChange",key:"assetChange",render:function(o,p){var T=p.fetchType;return(0,t.jsxs)("span",{title:(0,i.FH)(o,F),children:[Ut[T],o!=="0"&&" (".concat((0,i.FH)(o,F,w),")")]})}},{title:"Date",dataIndex:"fetchTimestamp",key:"fetchTimestamp",render:function(o){return(0,t.jsx)(ie.Z,{title:"".concat(Ke()(1e3*o).utcOffset(0).format("yyyy-MM-DD HH:mm:ss")," (UTC)"),children:Ke()(1e3*o).utcOffset(0).locale("en").fromNow()})}},{title:"Position Details",align:"center",render:function(o,p){var T=p.tokens;if(Nt()(T))return(0,t.jsx)(vt,{style:{color:"gray"}});var H=jt()(T,function(f){var ee=f.address,Se=f.amount,pe=f.asset;return(0,t.jsxs)("span",{style:{display:"flex"},children:[(0,t.jsx)(yt.Z,{size:19,array:[ee]}),"\xA0\xA0",(0,i.FH)(Se,F,w),W&&"(".concat((0,i.FH)(pe,F,w),"ETH)"),!W&&"($".concat((0,i.FH)(pe,F,w),")")]},ee)});return(0,t.jsx)(ie.Z,{placement:"top",title:H,children:(0,t.jsx)(vt,{})})}}],n={cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}},s=(Z={},(0,c.Z)(Z,E.me.Desktop,{}),(0,c.Z)(Z,E.me.Tablet,(0,r.Z)((0,r.Z)({},n),{},{tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}})),(0,c.Z)(Z,E.me.Mobile,(0,r.Z)((0,r.Z)({},n),{},{tableProps:{size:"small",rowClassName:"mobile-font-size",scroll:{x:600}}})),Z)[G];return(0,t.jsx)("div",{children:(0,t.jsx)(g.Z,(0,r.Z)((0,r.Z)({loading:U,bordered:!1,title:"Reports",extra:j,style:{height:"100%",marginTop:32}},s.cardProps),{},{children:(0,t.jsx)(ct.Z,(0,r.Z)({rowKey:function(o){return o.id},columns:D,dataSource:re,loading:je,pagination:Y},s.tableProps))}))})},Vt=Rt,Ft=e(21349),sa=e(49111),Be=e(19650),oa=e(48736),Ht=e(27049),ke=e(86582),bt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M742 318V184h86c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H196c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h86v134c0 81.5 42.4 153.2 106.4 194-64 40.8-106.4 112.5-106.4 194v134h-86c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h632c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-86V706c0-81.5-42.4-153.2-106.4-194 64-40.8 106.4-112.5 106.4-194zm-72 388v134H354V706c0-42.2 16.4-81.9 46.3-111.7C430.1 564.4 469.8 548 512 548s81.9 16.4 111.7 46.3C653.6 624.1 670 663.8 670 706zm0-388c0 42.2-16.4 81.9-46.3 111.7C593.9 459.6 554.2 476 512 476s-81.9-16.4-111.7-46.3A156.63 156.63 0 01354 318V184h316v134z"}}]},name:"hourglass",theme:"outlined"},Lt=bt,ht=function(u,h){return A.createElement(ut.Z,(0,Le.Z)((0,Le.Z)({},u),{},{ref:h,icon:Lt}))};ht.displayName="HourglassOutlined";var Bt=A.forwardRef(ht),We=e(68628),ve=e(2593),Ge=e(56721),a=e(96486),Wt=e(40085),pt=e.n(Wt),Yt="MMM DD",Ce=(0,t.jsx)(Bt,{style:{color:"#a68efe"}}),$t={0:"Unrealized",1:"Realized"},Kt=function(u){var h,x=u.vault,C=u.strategyName,Z=u.strategyAddress,U=u.unit,P=u.displayDecimals,j=P===void 0?I.h:P,le=u.dropdownGroup,S=(0,E.hU)(),G=(0,Pe.tT)("@@initialState"),W=G.initialState,w=(0,Pe.QT)(function(){return(0,Ze.Qc)(W.chain,W.vaultAddress,Z,0,100)},{formatResult:function(n){return(0,a.map)(n,function(s){var d=s.dailyProfit,o=s.weeklyProfit,p=s.dailyApy,T=s.weeklyApy,H=s.detail,f=H===void 0?[]:H,ee=s.officialDetail,Se=ee===void 0?[]:ee,pe=new k.Z(d),Ye=new k.Z(o),_e=(0,t.jsx)("div",{children:(0,a.map)(Se,function(oe,Ae){return(0,t.jsxs)("span",{style:{display:"block"},children:[oe.feeName,":\xA0",(0,i.Ik)((100*oe.feeApy).toFixed(2)),"%"]},Ae)})}),Te=(0,t.jsx)("div",{children:(0,a.map)((0,a.groupBy)(f,"feeApyStatus"),function(oe,Ae){return[(0,t.jsx)("span",{style:{display:"block"},children:(0,t.jsx)(Ht.Z,{orientation:"left",orientationMargin:"0",style:{color:"#313036",margin:"0.25rem 0"},children:$t[Ae]})},"group-".concat(Ae))].concat((0,ke.Z)((0,a.map)(oe,function(Ie,Me){return(0,t.jsxs)("span",{style:{display:"block"},children:[Ie.feeName,":\xA0",(0,i.FH)(Ie.feeValue,ve.O$.from(10).pow(18),x==="ethi"?6:j),"\xA0",U,"(",(0,i.Ik)((100*Ie.feeApy).toFixed(2)),"%)"]},Me)})))})});return{id:s.id,date:(0,Ge.w)(s.scheduleTimestamp*1e3,Yt),assets:(0,i.FH)(s.dailyWeightAsset,ve.O$.from(10).pow(18),j),profit:(0,t.jsxs)("div",{title:(0,i.FH)(pe,ve.O$.from(10).pow(18)),children:[(0,i.FH)(pe,ve.O$.from(10).pow(18),x==="ethi"?6:j),s.dailyUnrealizedProfit!=="0"&&Ce]}),officialApy:(0,a.isNil)(s.dailyOfficialApy)?"N/A":(0,a.isEmpty)(Se)?"".concat((0,i.FH)(new k.Z(s.dailyOfficialApy).multipliedBy(100),1,2),"%"):(0,t.jsx)(ie.Z,{title:_e,children:"".concat((0,i.Ik)((0,i.FH)(new k.Z(s.dailyOfficialApy).multipliedBy(100),1,2)),"%")}),verifyApy:s.dailyWeightAsset==="0"?"N/A":(0,a.isEmpty)(f)?(0,t.jsxs)("div",{children:["".concat((0,i.Ik)((0,i.FH)(new k.Z(p).multipliedBy(100),1,2)),"%"),s.dailyUnrealizedApy>0&&Ce]}):(0,t.jsx)(ie.Z,{title:Te,children:(0,t.jsxs)("div",{children:["".concat((0,i.Ik)((0,i.FH)(new k.Z(p).multipliedBy(100),1,2)),"%"),s.dailyUnrealizedApy>0&&Ce]})}),weeklyAssets:(0,i.FH)(s.weeklyWeightAsset,ve.O$.from(10).pow(18),j),weeklyProfit:(0,t.jsxs)("div",{title:(0,i.FH)(Ye,ve.O$.from(10).pow(18)),children:[(0,i.FH)(Ye,ve.O$.from(10).pow(18),x==="ethi"?6:j),s.weeklyUnrealizedProfit!=="0"&&Ce]}),weeklyApy:(0,a.isNil)(s.weeklyOfficialApy)?"N/A":"".concat((0,i.Ik)((0,i.FH)(new k.Z(s.weeklyOfficialApy).multipliedBy(100),1,2)),"%"),weeklyVerifyApy:s.weeklyWeightAsset==="0"?"N/A":(0,t.jsxs)("div",{children:["".concat((0,i.Ik)((0,i.FH)(new k.Z(T).multipliedBy(100),1,2)),"%"),s.weeklyUnrealizedApy>0&&Ce]})}})}}),Q=w.data,X=Q===void 0?[]:Q,he=w.loading;if((0,a.isEmpty)(X))return(0,t.jsx)("span",{});var je=[{title:"",dataIndex:"name",key:"name"}].concat((0,ke.Z)((0,a.map)(X,function(D){var n=D.date;return{title:n,dataIndex:n,key:n}})),[{title:"Weekly",dataIndex:"weekly",key:"weekly"}]),Y=["Weighted Assets (".concat(U,")"),"Profits (".concat(U,")"),"Official APY","BoC Verified APY"],re=(0,a.map)(Y,function(D,n){var s=(0,a.map)((0,a.keyBy)(X,"date"),function(d,o){var p,T="",H="",f="";return D===Y[0]?(T=d.assets,H=d.weeklyAssets,f=(0,t.jsxs)(Be.Z,{children:[D,(0,t.jsx)(ie.Z,{title:"Assets deposited daily/weekly into the strategy.",children:(0,t.jsx)(We.Z,{})})]})):D===Y[1]?(T=d.profit,H=d.weeklyProfit,f=(0,t.jsxs)(Be.Z,{children:[D,(0,t.jsx)(ie.Z,{title:"Daily/Weekly strategy profit.",children:(0,t.jsx)(We.Z,{})})]})):D===Y[2]?(T=d.officialApy,H=d.weeklyApy,f=(0,t.jsxs)(Be.Z,{children:[D,(0,t.jsx)(ie.Z,{title:"Official third-party pools APY, obtained through raw data statistics provided on chain.",children:(0,t.jsx)(We.Z,{})})]})):D===Y[3]&&(T=d.verifyApy,H=d.weeklyVerifyApy,f=(0,t.jsxs)(Be.Z,{children:[D,(0,t.jsx)(ie.Z,{title:"APY verified by the BoC strategy, calculated by using the corresponding profits and weighted assets.",children:(0,t.jsx)(We.Z,{})})]})),p={},(0,c.Z)(p,o,T),(0,c.Z)(p,"weekly",H),(0,c.Z)(p,"name",f),p});return(0,r.Z)({},(0,a.reduce)(s,function(d,o){return d=(0,r.Z)((0,r.Z)({},d),o),d},{id:n}))}),se={cardProps:{size:"small"},tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}},F=(h={},(0,c.Z)(h,E.me.Desktop,{}),(0,c.Z)(h,E.me.Tablet,(0,r.Z)((0,r.Z)({},se),{},{tableProps:{size:"small",rowClassName:"tablet-font-size",scroll:{x:900}}})),(0,c.Z)(h,E.me.Mobile,(0,r.Z)((0,r.Z)({},se),{},{tableProps:{size:"small",rowClassName:"mobile-font-size",scroll:{x:900}}})),h)[S];return(0,t.jsx)("div",{children:(0,t.jsxs)(g.Z,(0,r.Z)((0,r.Z)({loading:he,bordered:!1,title:"".concat(C," APY Details"),extra:le,style:{height:"100%",marginTop:32}},F.cardProps),{},{children:[(0,t.jsx)(ct.Z,(0,r.Z)({rowKey:function(n){return n.id},columns:je,dataSource:re,loading:he,pagination:!1},F.tableProps)),(0,t.jsxs)("div",{className:pt().tip,children:[(0,t.jsx)("div",{children:"Warning:"}),(0,t.jsxs)("div",{className:pt().right,children:["Official APY calculation is also affected by the price of reward token, reward rate and any changes in principal within"," ",(0,t.jsx)("span",{style:{color:"#a68efe",fontWeight:"bold"},children:"24"})," hours, therefore statistical data could be inaccurate at times."]})]})]}))})},kt=Kt,Gt=e(10501),wt=e(10928),Qt=e.n(wt),we={rateOfChange:500,startIndex:0},Xt=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we,x=100;if((0,a.isEmpty)(u))return[0,x];var C=(0,a.map)(u,function(Z){return Jt(Z,h)});return[(0,a.max)(C),x]},Jt=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we,x=h.rateOfChange,C=x===void 0?we.rateOfChange:x,Z=h.startIndex,U=C/1e4,P=(0,a.reverse)((0,ke.Z)(u)),j=(0,a.findIndex)(P,function(S,G){if(G<=Z)return!1;if(G===P.length)return!0;if((0,a.isNil)(S)){var W=P.slice(G);return!!(0,a.every)(W,a.isNil)}return Math.abs(S-P[G-1])>U*S}),le=j===-1?0:100.5-100*j/u.length;return le},qt=e(93644),At=e.n(qt),mt="Official Weekly APY",Qe="Verified Weekly APY",Xe="Official Daily APY",Je="Verified Daily APY",gt={0:"Unrealized",1:"Realized"},xt=function(u){return'<br/><span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'.concat(u,';"></span>')},qe='<br/><span style="display:inline-block;margin-right:4px;margin-left:10px;border-radius:10px;width:10px;height:10px;background-color:#fff;"></span>',_t=function(u){var h,x,C,Z,U,P,j=u==null||(h=u.location)===null||h===void 0?void 0:h.query,le=j.id,S=j.ori,G=S===void 0?!1:S,W=j.vault,w=(0,A.useState)(!1),Q=(0,_.Z)(w,2),X=Q[0],he=Q[1],je=(0,A.useState)(!1),Y=(0,_.Z)(je,2),re=Y[0],se=Y[1],F=(0,A.useState)({}),D=(0,_.Z)(F,2),n=D[0],s=D[1],d=(0,A.useState)([]),o=(0,_.Z)(d,2),p=o[0],T=o[1],H=(0,Pe.tT)("@@initialState"),f=H.initialState,ee=(0,E.hU)(),Se=(x={},(0,c.Z)(x,I._.USDi,"USD"),(0,c.Z)(x,I._.ETHi,"ETH"),x)[f.vault],pe=(0,k.Z)(1e18),Ye=(C={},(0,c.Z)(C,I._.USDi,ze.o1),(0,c.Z)(C,I._.ETHi,ze.tX),C)[f.vault],_e=(Z={},(0,c.Z)(Z,I._.USDi,I.h),(0,c.Z)(Z,I._.ETHi,Ee.A7),Z)[f.vault];(0,A.useEffect)(function(){he(!0),(0,Ze.mB)(f.chain,f.vaultAddress,0,100).then(function(l){var m=(0,a.find)(l.content,function(de){return de.strategyAddress===le});s(m)}).catch(a.noop).finally(function(){he(!1)})},[le]),(0,A.useEffect)(function(){(0,a.isEmpty)(n==null?void 0:n.strategyName)||(se(!0),Promise.all([(0,Ze.Mn)({chainId:f.chain,vaultAddress:f.vaultAddress,strategyAddress:n==null?void 0:n.strategyAddress,sort:"schedule_timestamp desc"},0,365).catch(function(){}),(0,Ze.E6)({chainId:f.chain,strategyName:n==null?void 0:n.strategyName,sort:"fetch_time desc"},0,365).catch(function(){}),(0,Ze.Qc)(f.chain,f.vaultAddress,n==null?void 0:n.strategyAddress,0,10)]).then(function(l){var m=(0,_.Z)(l,3),de=m[0],Ne=de===void 0?{content:[]}:de,me=m[1],J=m[2],Ue=Ke()().utcOffset(0).subtract(366,"day").startOf("day"),y=(0,a.reduce)(new Array(366),function(v){var R=Ue.subtract(-1,"day");return v.push(R.format("yyyy-MM-DD")),v},[]),Re=(0,a.keyBy)((0,a.map)(me.content,function(v){return{value:100*v.apy,officialApy:(v.apy*100).toFixed(2),originApy:(v.originApy*100).toFixed(2),offcialDetail:v.detail,date:(0,Ge.w)(v.fetchTime*1e3,"yyyy-MM-DD")}}),"date"),Ve=(0,a.keyBy)((0,a.map)(Ne.content,function(v){var R,ce,xe,te;return{realizedApy:(((R=v.realizedApy)===null||R===void 0?void 0:R.value)*100).toFixed(2),realizedApyDetail:(ce=v.realizedApy)===null||ce===void 0?void 0:ce.detail,unrealizedApy:(((xe=v.unrealizedApy)===null||xe===void 0?void 0:xe.value)*100).toFixed(2),unrealizedApyDetail:(te=v.unrealizedApy)===null||te===void 0?void 0:te.detail,expectedApy:(v.verifiedApy*100).toFixed(2),dailyVerifiedApy:(v.dailyVerifiedApy*100).toFixed(2),date:(0,Ge.w)(v.scheduleTimestamp*1e3,"yyyy-MM-DD")}}),"date"),ge=Qt()((0,a.filter)(J,function(v){return!(0,a.isNil)(v.apyValidateTime)})),Fe=null,Oe=!1,it=(0,a.map)(y,function(v){var R=(0,a.get)(Re,v,{officialApy:null,originApy:null,offcialDetail:[]}),ce=R.officialApy,xe=R.originApy,te=R.offcialDetail,q=(0,a.get)(Ve,v,{expectedApy:null,unrealizedApy:null,realizedApy:null,dailyVerifiedApy:null,realizedApyDetail:[],unrealizedApyDetail:[]}),lt=q.expectedApy,rt=q.realizedApy,st=q.unrealizedApy,ot=q.dailyVerifiedApy,O=q.realizedApyDetail,De=q.unrealizedApyDetail,Tt={date:v,originApy:xe,value:lt,officialApy:Oe?null:(0,a.isNil)(ce)?Fe:ce,realizedApy:rt,unrealizedApy:st,offcialDetail:te,realizedApyDetail:O,unrealizedApyDetail:De,dailyVerifiedApy:ot};return Oe=Oe||v===(ge==null?void 0:ge.apyValidateTime),Fe=Tt.officialApy,Tt});T(it)}).finally(function(){se(!1)}))},[n,n==null?void 0:n.strategyName]);var Te=[],oe=[mt,Qe],Ae=(0,a.map)(p,function(l){return{value:(0,i.Ay)(l.officialApy),label:"".concat((0,i.Ik)(l.officialApy),"%"),unit:"%"}}),Ie=(0,a.map)(p,"value"),Me=[{seriesName:mt,seriesData:Ae,showSymbol:(0,a.size)((0,a.filter)(Ae,function(l){return!(0,a.isNil)(l.value)}))===1},{seriesName:Qe,seriesData:p.map(function(l){return(0,r.Z)((0,r.Z)({},l),{},{value:(0,i.Ay)(l.value),label:"".concat((0,i.Ik)(l.value),"%")})}),showSymbol:(0,a.size)((0,a.filter)(Ie,function(l){return!(0,a.isNil)(l)}))===1}];if(Te.push((0,a.map)(p,"officialApy"),Ie),G){var et=(0,a.map)(p,function(l){return{value:(0,i.Ay)(l.originApy),offcialDetail:l.offcialDetail,label:"".concat((0,i.Ik)(l.originApy),"%"),unit:"%"}});oe.push(Xe),Me.push({seriesName:Xe,seriesData:et,showSymbol:(0,a.size)((0,a.filter)(et,function(l){return!(0,a.isNil)(l.value)}))===1});var tt=(0,a.map)(p,function(l){return{value:(0,i.Ay)(l.dailyVerifiedApy),realizedApyDetail:l.realizedApyDetail,unrealizedApyDetail:l.unrealizedApyDetail,label:"".concat((0,i.Ik)(l.dailyVerifiedApy),"%"),unit:"%"}});oe.push(Je),Me.push({seriesName:Je,seriesData:tt,showSymbol:(0,a.size)((0,a.filter)(tt,function(l){return!(0,a.isNil)(l.value)}))===1}),Te.push(et),Te.push(tt)}var ta={legend:{data:oe,textStyle:{color:"#fff"}},xAxisData:(0,a.map)(p,"date"),data:Me},b=(0,Gt.Z)(ta);b.color=["#A68EFE","#2ec7c9","#ffb980","#d87a80","#e5cf0d","#97b552","#8d98b3","#07a2a4","#95706d","#dc69aa"],b.series.forEach(function(l,m){l.connectNulls=!1,l.z=b.series.length-m,l.name==="Expected APY"&&(l.lineStyle={width:5,type:"dotted"})}),b.xAxis.data=b.xAxis.data.map(function(l){return"".concat(l," (UTC)")}),b.xAxis.axisLabel={formatter:function(m){return m.replace(" (UTC)","")}},b.xAxis.axisTick={alignWithLabel:!0},b.yAxis.splitLine={lineStyle:{color:"black"}},b.tooltip=(0,r.Z)((0,r.Z)({},b.tooltip),{},{formatter:function(m){if(m instanceof Array)if(m.length){var de,Ne,me=((de=m[0])===null||de===void 0||(Ne=de.data)===null||Ne===void 0?void 0:Ne.unit)||"",J="";return J+="".concat(m[0].axisValueLabel),m.forEach(function(y){var Re;if(J+="<br/>".concat(y.marker).concat(y.seriesName,": ").concat((0,a.isNil)(y.value)?"-":(Re=y.data)===null||Re===void 0?void 0:Re.label),y.seriesName===Qe){var Ve,ge,Fe=(Ve=y.data)===null||Ve===void 0?void 0:Ve.realizedApy,Oe=(ge=y.data)===null||ge===void 0?void 0:ge.unrealizedApy,it="".concat((0,a.isNil)(Fe)?"-":(0,i.Ik)(Fe)+me),v="".concat((0,a.isNil)(Oe)?"-":(0,i.Ik)(Oe)+me);J+="".concat(xt("#dc69aa"),"Realized APY: ").concat(it),J+="".concat(xt("#95706d"),"UnRealized APY: ").concat(v)}if((y==null?void 0:y.seriesName)===Xe){var R,ce=y==null||(R=y.data)===null||R===void 0?void 0:R.offcialDetail,xe=(0,a.map)(ce,function(O){var De="".concat((0,a.isNil)(O.feeApy)?"-":(100*O.feeApy).toFixed(2)+me);return"".concat(qe).concat(O.feeName,": ").concat(De)});J+=xe.join("")}if((y==null?void 0:y.seriesName)===Je){var te,q,lt=y==null||(te=y.data)===null||te===void 0?void 0:te.realizedApyDetail,rt=y==null||(q=y.data)===null||q===void 0?void 0:q.unrealizedApyDetail,st=(0,a.map)(lt,function(O){var De="".concat((0,a.isNil)(O.feeApy)?"-":(100*O.feeApy).toFixed(2)+me);return"".concat(qe).concat(O.feeName,": ").concat(De," (").concat(gt[O.feeApyStatus],")")});J+=st.join("");var ot=(0,a.map)(rt,function(O){var De="".concat((0,a.isNil)(O.feeApy)?"-":(100*O.feeApy).toFixed(2)+me);return"".concat(qe).concat(O.feeName,": ").concat(De," (").concat(gt[O.feeApyStatus],")")});J+=ot.join("")}}),J}else return null;else{var Ue="";return Ue+="".concat(m[0].axisValueLabel),Ue+="<br/>".concat(m.marker).concat(m.seriesName,": ").concat(m.value).concat(m.data.unit||""),Ue}}});var aa=Xt(Te,{startIndex:30,rateOfChange:3e3}),Dt=(0,_.Z)(aa,2),na=Dt[0],ia=Dt[1];if(b.dataZoom=[{end:ia,start:na}],!f.chain||(0,a.isEmpty)(n))return null;var Et=n.underlyingTokens,la=n.totalAssetBaseCurrent,Zt={cardProps:{size:"small"},descriptionProps:{size:"small"}},Pt=(U={},(0,c.Z)(U,E.me.Desktop,{}),(0,c.Z)(U,E.me.Tablet,Zt),(0,c.Z)(U,E.me.Mobile,Zt),U)[ee],at={height:400},St=(P={},(0,c.Z)(P,E.me.Desktop,{chartStyle:at}),(0,c.Z)(P,E.me.Tablet,{cardProps:{size:"small"},chartStyle:at}),(0,c.Z)(P,E.me.Mobile,{cardProps:{size:"small"},chartStyle:(0,r.Z)((0,r.Z)({},at),{},{height:280})}),P)[ee],nt={push:2,xl:12,lg:12,md:12,sm:24,xs:24,style:{margin:"0 auto 16px"}};return ee===E.me.Mobile&&(nt.style={margin:"0 auto 16px",textAlign:"center"},delete nt.push),(0,t.jsxs)(Ft.Z,{children:[(0,t.jsx)(A.Suspense,{fallback:null,children:(0,t.jsx)(g.Z,(0,r.Z)((0,r.Z)({title:(0,t.jsx)(He.Z,{onClick:function(){return Pe.m8.push("/")}}),bordered:!1},Pt.cardProps),{},{children:(0,t.jsxs)(N.Z,{justify:"space-around",children:[(0,t.jsx)(ne.Z,(0,r.Z)((0,r.Z)({},nt),{},{children:(0,t.jsx)($e.Z,{preview:!1,width:200,style:{borderRadius:"50%"},src:"".concat("https://v2.bankofchain.io","/images/amms/").concat(Ye[f.chain][n==null?void 0:n.protocol],".png"),fallback:"".concat("https://v2.bankofchain.io","/default.png")})})),(0,t.jsx)(ne.Z,{push:2,xl:12,lg:12,md:12,sm:24,xs:24,children:(0,t.jsxs)(B.Z,(0,r.Z)((0,r.Z)({column:1,title:(0,t.jsx)("span",{style:{color:"#fff"},children:"Base Info"}),labelStyle:{color:"#fff"},contentStyle:{color:"#fff"}},Pt.descriptionProps),{},{children:[(0,t.jsx)(B.Z.Item,{label:"Name",children:(0,t.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat({"1":"https://etherscan.io","137":"https://polygonscan.com"}[f.chain],"/address/").concat(n.strategyAddress),children:n.strategyName})}),(0,t.jsx)(B.Z.Item,{label:"Underlying Token(s)",children:!(0,a.isEmpty)(Et)&&(0,t.jsx)(yt.Z,{array:Et.split(",")})}),(0,t.jsx)(B.Z.Item,{label:"Asset Value",children:(0,i.FH)(la,pe,_e)+" ".concat(Se)}),(0,t.jsx)(B.Z.Item,{label:"Status",children:"Active"})]}))})]})}))}),(0,t.jsx)(A.Suspense,{fallback:null,children:(0,t.jsx)(g.Z,(0,r.Z)((0,r.Z)({title:"APY (%)",className:At().offlineCard,bordered:!1,style:{marginTop:32}},St.cardProps),{},{children:(0,t.jsx)("div",{style:St.chartStyle,children:re?(0,t.jsx)("div",{className:At().loadingContainer,children:(0,t.jsx)(M.Z,{size:"large"})}):(0,t.jsx)(fe.$c,{option:b,style:{height:"100%",width:"100%"}})})}))}),(0,t.jsx)(A.Suspense,{fallback:null,children:(0,t.jsx)(kt,{vault:W,unit:W==="ethi"?"ETH":"USD",displayDecimals:W==="ethi"?Ee.A7:I.h,strategyName:n==null?void 0:n.strategyName,strategyAddress:n==null?void 0:n.strategyAddress,loading:X})}),(0,t.jsx)(A.Suspense,{fallback:null,children:(0,t.jsx)(Vt,{strategyName:n==null?void 0:n.strategyName,loading:X})})]})},ea=_t},56721:function($,z,e){"use strict";e.d(z,{w:function(){return ae}});var V=e(30381),M=e.n(V),ae=function(L,N){return M()(L).utcOffset(0).format(N)}}}]);
